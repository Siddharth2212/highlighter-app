{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "node_modules/ancestors/index.js",
    "node_modules/boolbase/index.js",
    "node_modules/cheerio-select-tmp/lib/helpers.js",
    "node_modules/cheerio-select-tmp/lib/index.js",
    "node_modules/cheerio-select-tmp/lib/positionals.js",
    "node_modules/cheerio/index.js",
    "node_modules/cheerio/lib/api/attributes.js",
    "node_modules/cheerio/lib/api/css.js",
    "node_modules/cheerio/lib/api/forms.js",
    "node_modules/cheerio/lib/api/manipulation.js",
    "node_modules/cheerio/lib/api/traversing.js",
    "node_modules/cheerio/lib/cheerio.js",
    "node_modules/cheerio/lib/options.js",
    "node_modules/cheerio/lib/parse.js",
    "node_modules/cheerio/lib/static.js",
    "node_modules/cheerio/lib/utils.js",
    "node_modules/cheerio/node_modules/htmlparser2/lib/FeedHandler.js",
    "node_modules/cheerio/node_modules/htmlparser2/lib/Parser.js",
    "node_modules/cheerio/node_modules/htmlparser2/lib/Tokenizer.js",
    "node_modules/cheerio/node_modules/htmlparser2/lib/index.js",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/decode_codepoint.js",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/maps/decode.json",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/maps/entities.json",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/maps/legacy.json",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/maps/xml.json",
    "node_modules/cheerio/package.json",
    "node_modules/classnames/index.js",
    "node_modules/css-select/lib/attributes.js",
    "node_modules/css-select/lib/compile.js",
    "node_modules/css-select/lib/general.js",
    "node_modules/css-select/lib/index.js",
    "node_modules/css-select/lib/procedure.js",
    "node_modules/css-select/lib/pseudo-selectors/filters.js",
    "node_modules/css-select/lib/pseudo-selectors/index.js",
    "node_modules/css-select/lib/pseudo-selectors/pseudos.js",
    "node_modules/css-select/lib/pseudo-selectors/subselects.js",
    "node_modules/css-select/lib/sort.js",
    "node_modules/css-what/lib/index.js",
    "node_modules/css-what/lib/parse.js",
    "node_modules/css-what/lib/stringify.js",
    "node_modules/custom-event/index.js",
    "node_modules/document-base-uri/index.js",
    "node_modules/dom-anchor-fragment/dist/FragmentAnchor.js",
    "node_modules/dom-anchor-text-position/index.js",
    "node_modules/dom-anchor-text-position/src/index.js",
    "node_modules/dom-anchor-text-position/src/range-to-string.js",
    "node_modules/dom-anchor-text-quote/index.js",
    "node_modules/dom-anchor-text-quote/src/index.js",
    "node_modules/dom-anchor-text-quote/node_modules/diff-match-patch/index.js",
    "node_modules/dom-node-iterator/implementation.js",
    "node_modules/dom-node-iterator/index.js",
    "node_modules/dom-node-iterator/src/adapter.js",
    "node_modules/dom-node-iterator/src/builtin.js",
    "node_modules/dom-node-iterator/src/implementation.js",
    "node_modules/dom-node-iterator/src/index.js",
    "node_modules/dom-node-iterator/src/polyfill.js",
    "node_modules/dom-node-iterator/src/shim.js",
    "node_modules/dom-node-iterator/polyfill.js",
    "node_modules/dom-node-iterator/shim.js",
    "node_modules/dom-seek/index.js",
    "node_modules/dom-seek/src/index.js",
    "node_modules/dom-serializer/lib/foreignNames.js",
    "node_modules/dom-serializer/lib/index.js",
    "node_modules/domelementtype/lib/index.js",
    "node_modules/domhandler/lib/index.js",
    "node_modules/domhandler/lib/node.js",
    "node_modules/domutils/lib/helpers.js",
    "node_modules/domutils/lib/index.js",
    "node_modules/domutils/lib/legacy.js",
    "node_modules/domutils/lib/manipulation.js",
    "node_modules/domutils/lib/querying.js",
    "node_modules/domutils/lib/stringify.js",
    "node_modules/domutils/lib/tagtypes.js",
    "node_modules/domutils/lib/traversal.js",
    "node_modules/entities/lib/decode.js",
    "node_modules/entities/lib/encode.js",
    "node_modules/entities/lib/index.js",
    "node_modules/extend/index.js",
    "/home/ubuntu/pdftronExtension/client/node_modules/hammerjs/hammer.js",
    "node_modules/index-of/index.js",
    "node_modules/juice/client.js",
    "node_modules/juice/lib/cheerio.js",
    "node_modules/juice/lib/inline.js",
    "node_modules/juice/lib/property.js",
    "node_modules/juice/lib/selector.js",
    "node_modules/juice/lib/utils.js",
    "node_modules/lodash.debounce/index.js",
    "node_modules/mensch/index.js",
    "node_modules/mensch/lib/debug.js",
    "node_modules/mensch/lib/lexer.js",
    "node_modules/mensch/lib/parser.js",
    "node_modules/mensch/lib/stringify.js",
    "node_modules/node-uuid/uuid.js",
    "node_modules/nth-check/lib/compile.js",
    "node_modules/nth-check/lib/index.js",
    "node_modules/nth-check/lib/parse.js",
    "node_modules/parse5-htmlparser2-tree-adapter/lib/index.js",
    "node_modules/parse5/lib/common/doctype.js",
    "node_modules/parse5/lib/common/error-codes.js",
    "node_modules/parse5/lib/common/foreign-content.js",
    "node_modules/parse5/lib/common/html.js",
    "node_modules/parse5/lib/common/unicode.js",
    "node_modules/parse5/lib/extensions/error-reporting/mixin-base.js",
    "node_modules/parse5/lib/extensions/error-reporting/parser-mixin.js",
    "node_modules/parse5/lib/extensions/error-reporting/preprocessor-mixin.js",
    "node_modules/parse5/lib/extensions/error-reporting/tokenizer-mixin.js",
    "node_modules/parse5/lib/extensions/location-info/open-element-stack-mixin.js",
    "node_modules/parse5/lib/extensions/location-info/parser-mixin.js",
    "node_modules/parse5/lib/extensions/location-info/tokenizer-mixin.js",
    "node_modules/parse5/lib/extensions/position-tracking/preprocessor-mixin.js",
    "node_modules/parse5/lib/index.js",
    "node_modules/parse5/lib/parser/formatting-element-list.js",
    "node_modules/parse5/lib/parser/index.js",
    "node_modules/parse5/lib/parser/open-element-stack.js",
    "node_modules/parse5/lib/serializer/index.js",
    "node_modules/parse5/lib/tokenizer/index.js",
    "node_modules/parse5/lib/tokenizer/named-entity-data.js",
    "node_modules/parse5/lib/tokenizer/preprocessor.js",
    "node_modules/parse5/lib/tree-adapters/default.js",
    "node_modules/parse5/lib/utils/merge-options.js",
    "node_modules/parse5/lib/utils/mixin.js",
    "node_modules/performance-now/lib/performance-now.js",
    "node_modules/process/browser.js",
    "node_modules/query-string/index.js",
    "node_modules/raf/index.js",
    "node_modules/raf/node_modules/performance-now/lib/performance-now.js",
    "node_modules/scroll-into-view/node_modules/raf/index.js",
    "node_modules/scroll-into-view/scrollIntoView.js",
    "node_modules/slick/parser.js",
    "node_modules/strict-uri-encode/index.js",
    "node_modules/zen-observable/index.js",
    "node_modules/zen-observable/zen-observable.js",
    "src/annotator/adder.html",
    "src/annotator/adder.js",
    "src/annotator/anchoring/html.coffee",
    "src/annotator/anchoring/pdf.coffee",
    "src/annotator/anchoring/range.coffee",
    "src/annotator/anchoring/types.coffee",
    "src/annotator/anchoring/util.coffee",
    "src/annotator/anchoring/xpath.coffee",
    "src/annotator/annotation-counts.js",
    "src/annotator/annotation-sync.js",
    "src/annotator/clipper.coffee",
    "src/annotator/config/config-func-settings-from.js",
    "src/annotator/config/index.js",
    "src/annotator/config/is-browser-extension.js",
    "src/annotator/config/settings.js",
    "src/annotator/delegator.coffee",
    "src/annotator/element-filters.js",
    "src/annotator/features.js",
    "src/annotator/frame-observer.js",
    "src/annotator/gs-extractor.js",
    "src/annotator/guest.coffee",
    "src/annotator/highlighter/dom-wrap-highlighter/index.coffee",
    "src/annotator/highlighter/index.js",
    "src/annotator/highlighter/overlay-highlighter/index.js",
    "src/annotator/host.coffee",
    "src/annotator/html-to-markdown.js",
    "src/annotator/index.js",
    "src/annotator/pdf-sidebar.coffee",
    "src/annotator/pdfjs-rendering-states.js",
    "src/annotator/plugin.coffee",
    "src/annotator/plugin/bucket-bar.coffee",
    "src/annotator/plugin/clipper-toolbar.coffee",
    "src/annotator/plugin/cross-frame.coffee",
    "src/annotator/plugin/doc-metatags.js",
    "src/annotator/plugin/document.coffee",
    "src/annotator/plugin/pdf-metadata.js",
    "src/annotator/plugin/pdf.coffee",
    "src/annotator/plugin/toolbar.coffee",
    "src/annotator/range-util.js",
    "src/annotator/screenshot.js",
    "src/annotator/selections.js",
    "src/annotator/share-link.js",
    "src/annotator/sidebar-trigger.js",
    "src/annotator/sidebar.coffee",
    "src/annotator/util/frame-util.js",
    "src/annotator/util/observable.js",
    "src/annotator/util/url.js",
    "src/annotator/util/util.js",
    "/home/ubuntu/pdftronExtension/client/src/annotator/vendor/wgxpath.install.js",
    "src/annotator/view-ts-digest.js",
    "src/readability/Readability.js",
    "src/shared/bridge-events.js",
    "src/shared/bridge.js",
    "src/shared/discovery.coffee",
    "src/shared/frame-rpc.js",
    "src/shared/settings.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACh6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACn4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChBA,CAAC,UAAU,QAAQ,SAAS;EAC1B,IAAI,OAAO,WAAW,cA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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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T,CAAgB,IAAhB,EAAsB;AACpB,SAAO,KAAK,QAAL,KAAkB,SAAzB;AACD;;AAGD,SAAS,MAAT,CAAgB,GAAhB,EAAqB,IAArB,EAA2B;AACzB,MAAI,QAAQ,IAAZ,EAAkB,OAAO,KAAP;;AAElB,MAAI,SAAS,IAAb;AACA,MAAI,OAAO,CAAC,GAAD,EAAM,MAAN,CAAa,4BAAU,GAAV,CAAb,EAA6B,OAA7B,EAAX;AACA,MAAI,QAAQ,CAAC,IAAD,EAAO,MAAP,CAAc,4BAAU,IAAV,CAAd,EAA+B,OAA/B,EAAZ;;AAEA,SAAO,KAAK,CAAL,MAAY,MAAM,CAAN,CAAnB,EAA6B;AAC3B,aAAS,KAAK,KAAL,EAAT;AACA,UAAM,KAAN;AACD;;AAED,SAAO,KAAK,CAAL,CAAP;AACA,UAAQ,MAAM,CAAN,CAAR;;AAEA,MAAI,IAAI,0BAAQ,OAAO,UAAf,EAA2B,IAA3B,CAAR;AACA,MAAI,IAAI,0BAAQ,OAAO,UAAf,EAA2B,KAA3B,CAAR;;AAEA,SAAO,IAAI,CAAX;AACD;;;ACzED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACjFA;;;;;AAKA,CAAC,SAAS,QAAQ,UAAU,YAAY,WAAW;EACjD;;AAEF,IAAI,kBAAkB,CAAC,IAAI,UAAU,OAAO,MAAM,MAAM;AACxD,IAAI,eAAe,SAAS,cAAc;;AAE1C,IAAI,gBAAgB;;AAEpB,IAAI,QAAQ,KAAK;AACjB,IAAI,MAAM,KAAK;AACf,IAAI,MAAM,KAAK;;;;;;;;;AASf,SAAS,kBAAkB,IAAI,SAAS,SAAS;IAC7C,OAAO,WAAW,OAAO,IAAI,UAAU;;;;;;;;;;;;AAY3C,SAAS,eAAe,KAAK,IAAI,SAAS;IACtC,IAAI,MAAM,QAAQ,MAAM;QACpB,KAAK,KAAK,QAAQ,KAAK;QACvB,OAAO;;IAEX,OAAO;;;;;;;;;AASX,SAAS,KAAK,KAAK,UAAU,SAAS;IAClC,IAAI;;IAEJ,IAAI,CAAC,KAAK;QACN;;;IAGJ,IAAI,IAAI,SAAS;QACb,IAAI,QAAQ,UAAU;WACnB,IAAI,IAAI,WAAW,WAAW;QACjC,IAAI;QACJ,OAAO,IAAI,IAAI,QAAQ;YACnB,SA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,YAAY;IACxC,aAAa,UAAU,OAAO,MAAM;IACpC,aAAa,UAAU;IACvB,KAAK,OAAO,cAAc;;;AAG9B,OAAO,QAAQ;IACX,aAAa;IACb,YAAY;IACZ,WAAW;IACX,cAAc;;IAEd,gBAAgB;IAChB,aAAa;IACb,eAAe;IACf,aAAa;IACb,kBAAkB;IAClB,iBAAiB;IACjB,cAAc;;IAEd,gBAAgB;IAChB,gBAAgB;IAChB,iBAAiB;IACjB,cAAc;IACd,gBAAgB;IAChB,sBAAsB;IACtB,oBAAoB;IACpB,eAAe;;IAEf,SAAS;IACT,OAAO;IACP,aAAa;;IAEb,YAAY;IACZ,YAAY;IACZ,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;;IAElB,YAAY;IACZ,gBAAgB;IAChB,KAAK;IACL,KAAK;IACL,OAAO;IACP,OAAO;IACP,QAAQ;IACR,OAAO;;IAEP,IAAI;IACJ,KAAK;IACL,MAAM;IACN,OAAO;IACP,QAAQ;IACR,SAAS;IACT,QAAQ;IACR,UAAU;;;AAGd,IAAI,OAAO,UAAU,iBAAiB,OAAO,KAAK;IAC9C,OAAO,WAAW;QACd,OAAO;;OAER,IAAI,OAAO,UAAU,eAAe,OAAO,SAAS;IACvD,OAAO,UAAU;OACd;IACH,OAAO,cAAc;;;GAGtB,QAAQ,UAAU;AACrB;;;;;;;;AC/5EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChUA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACprBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC54FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACleA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACppEA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACpEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1PA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;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ChC,IAAI,UAAU;MACd,IAAI,QAAQ,KAAK,aAAa;MAC9B,IAAG,SAAS,MAAM,WAAW,IAAI;QAChC,IAAI,SAAS,KAAK,OAAO;QACzB,QAAQ,KAAK;;MAEd,KAAI,IAAI,IAAE,GAAE,MAAM,SAAS,GAAE,KAAK;QACjC,IAAI,cAAc,MAAM,GAAG,YAAY;QACvC,IAAG,gBAAgB,IAAI;UACtB,IAAI,SAAS,KAAK,OAAO;UACzB,QAAQ,KAAK;;;MAGf,OAAO;;;;EAuBR,OAAO;;;AAlBT,OAAO,UAAU;EACf,qBAAqB;EACrB,mBAAmB;;EAEnB,OAAO;;osyCAuB2ryC;;ACphBpsyC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5NA;;;;;;;;;;;;;;;;;;;;;AAoBA,SAAS,uBAAuB,SAAS;EACvC,IAAI,CAAC,QAAQ,eAAe,qBAAqB;IAC/C,OAAO;;;EAGT,IAAI,OAAO,QAAQ,qBAAqB,YAAY;IAClD,IAAI,OAAO;IACX,QAAQ,KAAK,+CAA+C;IAC5D,OAAO;;;EAGT,OAAO,QAAQ;;;AAGjB,OAAO,UAAU;gsEAE+qE;;ACpChsE;;AAEA,IAAI,eAAe,QAAQ;;;;;;;AAO3B,SAAS,WAAW,SAAS;EAC3B,IAAI,WAAW,aAAa;EAC5B,OAAO;IACL,aAAa,SAAS;IACtB,OAAO,SAAS;IAChB,QAAQ,SAAS;IACjB,QAAQ,SAAS;IACjB,WAAW,SAAS;IACpB,kBAAkB,SAAS;;;IAG3B,WAAW,SAAS,gBAAgB,aAAa,EAAC,mBAAmB;IACrE,UAAU,SAAS,gBAAgB;;;IAGnC,WAAW,SAAS;IACpB,iCAAiC,SAAS,gBAAgB;IAC1D,OAAO,SAAS,gBAAgB;IAChC,aAAa,SAAS,gBAAgB;IACtC,gBAAgB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SAAJ,GAAgB;GAAE,OAAO;;EACzB,IAAI,cAAJ,GAAqB;GAAE,OAAO;;EAC9B,IAAI,aAAJ,GAAoB;GAAE,OAAO;;EAC7B,IAAI,aAAJ,GAAoB;GAAE,OAAO;;EAC7B,IAAI,KAAJ,GAAY;GAAE,OAAO;;EACrB,IAAI,KAAJ,GAAY;GAAE,OAAO;;EACrB,IAAI,MAAJ,GAAa;GAAE,OAAO;;EACtB,IAAI,MAAJ,GAAa;GAAE,OAAO;;EACtB,IAAI,SAAJ,GAAgB;GAAE,OAAO;;EACzB,IAAI,gBAAJ,GAAuB;GAAE,OAAO;;EAChC,iBAAiB;;;;AAInB,OAAO,UAAU;ohiBAqBmgiB;;AChSphiB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrJA;;AAEA,SAAS,iBAAiB,MAAM;EAC/B,IAAG,kBAAkB,QAAQ,KAAK,YAAY,CAAC,GAAG;IACjD,OAAO;;E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D+/mB;;AC/N5gnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC98CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjGA;;AAEA,IAAM,qBAAqB,QAAQ;AACnC,IAAM,qBAAqB,QAAQ;AACnC,IAAM,WAAW,QAAQ;;;;;AAKzB,IAAM,oBAAoB;AAC1B,IAAI,qBAAA,KAAA;;AAEJ,OAAO,KAAK,oBAAoB,QAAQ,UAAC,YAAa;EACpD,kBAAkB,cAAc,YAAW;IAAA,KAAA,IAAA,OAAA,UAAA,QAAP,OAAO,MAAA,OAAA,OAAA,GAAA,OAAA,MAAA,QAAA;MAAP,KAAO,QAAA,UAAA;;;;;;IAIzC,IAAG,uBAAuB,WAAU;MAClC,qBAAqB,SAAS,YAAY;;;IAG5C,IAAM,SAAS,qBAAqB,mBAAmB,cAAc,mBAAmB;IACxF,OAAO,OAAO,MAAM,MAAM;;;;AAI9B,OAAO,UAAU;o+EAKm9E;;AC/Bp+E;;AAEA,OAAO,UAAU;EACf,gBAAgB,SAAA,iBA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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC9BA;;;;;;;;;;AASA,IAAI,kBAAkB;EACpB,SAAS;EACT,SAAS;EACT,QAAQ;EACR,UAAU;;;AAGZ,OAAO,UAAU;gkCAE+iC;;AClBhkC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3UA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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,SAAS,OAAO;MACpB,SAAS,QAAQ;;;;;EAKrB,IAAI,QAAQ,EAAE;EACd,IAAI,MAAM,UAAU,IAAI;GACvB,SAAS,sBAAsB,MAAM;;GAEpC,OAAM,GAAG;EACV,QAAQ,MAAM,EAAE;;;CAGjB,OAAO;;;AAGR,OAAO,UAAU;ohVAImgV;;ACzGphV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpUA;;AAEA,IAAI,eAAe,YAAY,EAAE,SAAS,iBAAiB,QAAQ,OAAO,EAAE,KAAK,IAAI,IAAI,GAAG,IAAI,MAAM,QAAQ,KAAK,EAAE,IAAI,aAAa,MAAM,IAAI,WAAW,aAAa,WAAW,cAAc,OAAO,WAAW,eAAe,MAAM,IAAI,WAAW,YAAY,WAAW,WAAW,MAAM,OAAO,eAAe,QAAQ,WAAW,KAAK,iBAAiB,OAAO,UAAU,aAAa,YAAY,aAAa,EAAE,IAAI,YAAY,iBAAiB,YAAY,WAAW,aAAa,IAAI,aAAa,iBAAiB,aAAa,cAAc,OAAO;;AAEhiB,SAAS,gBAAgB,UAAU,aAAa,EAAE,IAAI,EAAE,oBAAoB,cAAc,EAAE,MAAM,IAAI,UAAU;;AAEhH,IAAI,WAJqB,QAAQ;IAAzB,eAKW,SALX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCR,IAPM,cAOY,YAAY;;;;;;;EAA5B,SAAA,YAAY,KAAK;IAAA,gBAAA,MAAA;;IACf,KAAK,UAAU,IAAI,QAAQ,UAAA,SAAW;MACpC,IAAI,SAAS,SAAT,SAAe;QACjB,OAAO,oBAAoB,gBAAgB;QAC3C,QAAQ;;;MAGV,IAAI,IAAI,qBAAqB;QAC3B,QAAQ;aACH;QACL,OAAO,iBAAiB,gBAAgB;;;;;;;;;;;;;;;EAwB9C,aAAa,aAAa,CAAC;IACzB,KAAK;IACL,OAAO,SAAS,SAbT;MACP,OAAO,KAAK,QAAQ,KAAK,UAAA,KAAO;QAC9B,IAAI,MAAM,UAAU;QACpB,IAAI,CAAC,KAAK;UACR,MAAM,iBAAiB,IAAI;;QAE7B,OAAO;;;;;;;;;;;;;KA0BR;IACD,KAAK;IACL,OAAO,SAAS,cAhBJ;MACZ,OAAO,KAAK,QAAQ,KAAK,UAAA,KAAO;QAC9B,IAAI,QAAQ,SAAS;QACrB,IAAI,WAAW;QACf,IAAI,IAAI,YAAY,IAAI,SAAS,IAAI,eAAe,IAAI,SAAS,IAAI,gBAAgB,YAAY;UAC/F,QAAQ,IAAI,SAAS,IAAI;eACpB,IAAI,IAAI,gBAAgB,IAAI,aAAa,OAAO;UACrD,QAAQ,IAAI,aAAa;;;QAG3B,IAAI,OAAO,CACT,EAAC,MAAM,iBAAiB,IAAI;;QAG9B,IAAI,MAAM,UAAU;QACpB,IAAI,KAAK;UACP,KAAK,KAAK,EAAC,MAAM;;;QAGnB,IAAG,uBAAuB;UACzB,WAAW,sBAAsB;;;QAGlC,SAAS,eAAe,KAAK;UAC9B,IAAI,SAAS,MAAM,UAAU,IAAI,KAAK,KAAK,UAAU,IAAI;YACrD,OAAO,OAAO,aAAa;aAC5B,KAAK;UACR,OAAO,KAAK;;;QAGX,IAAI,IAAI,aAAa;UAChB,OAAO,IAAI,YAAY,UAAU,KAAK,UAAS,SAAQ;YACvD,IAAI,aAAa,eAAe;YAChC,OAAO;cACR,OAAO;cACP,MAAM;cACN,qBAAqB,IAAI;cACzB,SAAS;cACT,SAAU,IAAI;cACd,UAAU;;;eAGP;UACN,OAAO;YACL,OAAO;YACP,MAAM;YACN,qBAAqB,IAAI;;;;;;;EAqBhC,OAAO;;;AAbT,SAAS,iBAAiB,aAAa;EACrC,OAAO,eAAe,OAAO;;;AAG/B,SAAS,UAAU,KAAK;EACtB,IAAM,MAAM,aAAa,IAAI;;;;;EAK7B,IAAI,IAAI,QAAQ,eAAe,GAAG;IAChC,OAAO;;;EAGT,OAAO;;;AAGT,OAAO,UAAU;4+RAiB29R;;ACrK5+R;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzdA;;AACA,IAAI,IAAI,QAAQ;AAChB,IAAI,gBAAgB,QAAQ;AAC5B,IAAI,QAAQ,QAAQ;AACpB,IAAI,iBAAiB,QAAQ,sBAAsB;AACnD,IAAI,UAAU,QAAQ,eAAe;AAErC,IADiB,OAAS,MAAM,UAAxB;;AACR,IAAI,OAAO,QAAQ;AACnB,IAAI,MAAM;AACV,IAAI,sBAAsB;;;;;;AAO1B,SAAS,qBAAqB,WAAW;CACxC,IAAI,UAAU,cAAc,UAAU,YAAY;EACjD,OAAO,UAAU,cAAc,UAAU;;;CAG1C,IAAI,QAAQ,UAAU,WAAW;CACjC,OAAO,MAAM,mBAAmB,UAAU;;;;;;;;;;;;AAY3C,SAAS,cAAc,OAAO,MAAM;CACnC,IAAI,SAAS,MAAM,kBAAkB,SAAS,MAAM,cAAc;EACjE,OAAO;;;CAGR,IAAI,YAAY,KAAK,cAAc;CACnC,UAAU,WAAW;CACrB,IAAI,oBACH,MAAM,sBAAsB,MAAM,gBAAgB,cAAc;CACjE,IAAI,iBACH,MAAM,sBAAsB,MAAM,YAAY,cAAc;CAC7D,UAAU;CACV,OAAO,qBAAqB;;;;;;;;;;AAU7B,SAAS,mBAAmB,OAAO,UAAU;CAC5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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpaA;;;;;;;;;AAQA,SAAS,WAAW,WAAW;EAC7B,IAAM,SAAS,MAAM,KAAK,UAAU,qBAAqB;EACzD,OAAO,OAAO,OAAO;;;;AAIvB,SAAS,cAAc,QAAQ;EAC7B,OAAO,OAAO,cAAc,uBAAuB;;;;AAIrD,SAAS,iBAAiB,QAAQ,WAAW,QAAQ;EACnD,IAAM,gBAAgB,SAAS,cAAc;EAC7C,cAAc,YAAY;EAC1B,cAAc,OAAO;EACrB,cAAc,YAAY,KAAK,UAAU;;EAEzC,IAAM,MAAM;EACZ,IAAM,eAAe,SAAS,cAAc;EAC5C,aAAa,YAAY;EACzB,aAAa,QAAQ;EACrB,aAAa,MAAM;;EAEnB,OAAO,gBAAgB,KAAK,YAAY;EACxC,OAAO,gBAAgB,KAAK,YAAY;;;;AAI1C,SAAS,aAAa,QAAQ;EAC5B,IAAI;IACF,OAAO,CAAC,CAAC,OAAO;IAChB,OAAO,GAAG;IACV,OAAO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ArDR,UAAU;MAClB,KAAK,mBAAmB,KAAK;MAC7B,OAAO;;;;EAyDT,OAAO;;;AArDT,OAAO,UAAU;owUAyDmvU;;AC3NpwU;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,IAAI,UAAU,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,WAAW,UAAU,KAAK,EAAE,OAAO,OAAO,SAAS,UAAU,KAAK,EAAE,OAAO,OAAO,OAAO,WAAW,cAAc,IAAI,gBAAgB,UAAU,QAAQ,OAAO,YAAY,WAAW,OAAO;;AAAtQ,IAAI,UAAU;;AAEd,OAAO,UAAU;;AAEjB,SAAS,IAAK,KAAK,KAAK,QAAQ,SAAS;IACrC,IAAI,EAAE,gBAAgB,MAAM,OAAO,IAAI,IAAI,KAAK,KAAK,QAAQ;IAC7D,IAAI,OAAO;IACX,KAAK,MAAM;IACX,KAAK,MAAM;;IAEX,IAAI,WAAW,KAAK;QAChB,KAAK,SAAS;WAEb;QACD,IAAI,UAAU,IAAI,IAAI;QACtB,KAAK,SAAS,QAAQ,WAAW,OAAO,QAAQ;;;IAGpD,KAAK,YAAY;IACjB,KAAK,aAAa;;IAElB,KAAK,aAAa,UAAU,IAAI;QAC5B,IAAI,KAAK,YAAY;QACrB,IAAI,KAAK,QAAQ,GAAG,QAAQ;QAC5B,IAAI,KAAK,WAAW,OAAO,GAAG,WAAW,KAAK,QAAQ;QACtD,IAAI,CAAC,GAAG,QAAQ,QAAO,GAAG,UAAS,UAAU;QAC7C,IAAI,GAAG,KAAK,aAAa,aAAa;QACtC,IAAI,CAAC,MAAM,QAAQ,GAAG,KAAK,YAAY;QACvC,KAAK,QAAQ,GAAG;;IAEpB,KAAK,IAAI,iBAAiB,WAAW,KAAK;IAC1C,KAAK,WAAW,CAAC,OAAO,YAAY,aAC9B,QAAQ,QACR,YACD;;;AAGT,IAAI,UAAU,UAAU,YAAY;IAChC,KAAK,aAAa;IAClB,KAAK,IAAI,oBAAoB,WAAW,KAAK;;;AAGjD,IAAI,UAAU,OAAO,UAAU,QAAQ;IACnC,IAAI,OAAO,GAAG,MAAM,KAAK,WAAW;IACpC,OAAO,KAAK,MAAM,QAAQ;;;AAG9B,IAAI,UAAU,QAAQ,UAAU,QAAQ,MAAM;IAC1C,IAAI,KAAK,YAAY;IACrB,IAAI,MAAM,KAAK;IACf,IAAI,OAAO,KAAK,KAAK,SAAS,OAAO,YAAY;QAC7C,KAAK,WAAW,OAAO,KAAK,KAAK,SAAS;QAC1C,OAAO,KAAK,MAAM,GAAG,CAAC;;IAE1B,KAAK,IAAI,YAAY;QACjB,UAAU;QACV,SAAS;QACT,UAAU;QACV,QAAQ;QACR,WAAW;OACZ,KAAK;;;AAGZ,IAAI,UAAU,UAAU,UAAU,KAAK;IACnC,IAAI,OAAO;IACX,IAAI,KAAK,YAAY;IACrB,IAAI,IAAI,eAAe,WAAW;QAC9B,IAAI,CAAC,KAAK,SAAS,eAAe,IAAI,SAAS;QAC/C,IAAI,OAAO,IAAI,UAAU,OAAO,YAAY;YACxC,KAAK,IAAI,YAAY;gBACjB,UAAU;gBACV,SAAS;gBACT,UAAU,IAAI;gBACd,WAAW,GAAG,MAAM,KAAK;eAC1B,KAAK;;QAEZ,KAAK,SAAS,IAAI,QAAQ,MAAM,KAAK,UAAU;WAE9C,IAAI,IAAI,eAAe,aAAa;QACrC,IAAI,KAAK,KAAK,WAAW,IAAI;QAC7B,OAAO,KAAK,WAAW,IAAI;QAC3B,IAAI,IAAI,GAAG,MAAM,MAAM,IAAI;;;4+SAAy8S;;AChH5+S;;;;;AAIA,SAAS,OAAO,MAAM,KAAK;EACzB,KAAK,IAAI,KAAK,KAAK;IACjB,IAAI,IAAI,eAAe,IAAI;MACzB,KAAK,KAAK,IAAI;;;EAGlB,OAAO;;;;;;;;;;;;;;;;;;;AAmBT,SAAS,gBAAgB,UAAU;EACjC,IAAI,SAAS;EACb,IAAI,mBACF,SAAS,iBAAiB;;EAE5B,KAAK,IAAI,IAAE,GAAG,IAAI,iBAAiB,QAAQ,KAAK;IAC9C,IAAI;IACJ,IAAI;MACF,WAAW,KAAK,MAAM,iBAAiB,GAAG;MAC1C,IAAG,CAAC,SAAS,WAAW;QAC5B,SAAS,YAAY,IAAI,OAAO;;MAE5B,OAAO,KAAK;MACZ,QAAQ,KAAK,2DAA2D;MACxE,WAAW;;IAEb,OAAO,QAAQ;;;EAGjB,OAAO;;;AAGT,OAAO,UAAU;EACf,iBAAiB;;wlHAEqkH",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t, n, r) {\r\n\tfunction s(o, u) {\r\n\t\tif (!n[o]) {\r\n\t\t\tif (!t[o]) {\r\n\t\t\t\tvar a = typeof __require__ == \"function\" && __require__;\r\n\t\t\t\tif (!u && a)\r\n\t\t\t\t\treturn a(o, !0);\r\n\t\t\t\tif (i)\r\n\t\t\t\t\treturn i(o, !0);\r\n\t\t\t\tthrow new Error(\"Cannot find module '\" + o + \"'\")\r\n\t\t\t}\r\n\t\t\tvar f = n[o] = {\r\n\t\t\t\texports : {}\r\n\t\t\t};\r\n\t\t\tt[o][0].call(f.exports, function(e) {\r\n\t\t\t\tvar n = t[o][1][e];\r\n\t\t\t\treturn s(n ? n : e)\r\n\t\t\t}, f, f.exports, e, t, n, r)\r\n\t\t}\r\n\t\treturn n[o].exports\r\n\t}\r\n\tvar i = typeof __require__ == \"function\" && __require__;\r\n\tfor (var o = 0; o < r.length; o++)\r\n\t\ts(r[o]);\r\n\treturn s\r\n})",
    "module.exports = parents\n\nfunction parents(node, filter) {\n  var out = []\n\n  filter = filter || noop\n\n  do {\n    out.push(node)\n    node = node.parentNode\n  } while(node && node.tagName && filter(node))\n\n  return out.slice(1)\n}\n\nfunction noop(n) {\n  return true\n}\n",
    "module.exports = {\n\ttrueFunc: function trueFunc(){\n\t\treturn true;\n\t},\n\tfalseFunc: function falseFunc(){\n\t\treturn false;\n\t}\n};",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.groupSelectors = exports.getDocumentRoot = void 0;\nvar positionals_1 = require(\"./positionals\");\nfunction getDocumentRoot(node) {\n    while (node.parent)\n        node = node.parent;\n    return node;\n}\nexports.getDocumentRoot = getDocumentRoot;\nfunction groupSelectors(selectors) {\n    var filteredSelectors = [];\n    var plainSelectors = [];\n    for (var _i = 0, selectors_1 = selectors; _i < selectors_1.length; _i++) {\n        var selector = selectors_1[_i];\n        if (selector.some(positionals_1.isFilter)) {\n            filteredSelectors.push(selector);\n        }\n        else {\n            plainSelectors.push(selector);\n        }\n    }\n    return [plainSelectors, filteredSelectors];\n}\nexports.groupSelectors = groupSelectors;\n",
    "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.select = exports.filter = void 0;\nvar css_what_1 = require(\"css-what\");\nvar css_select_1 = require(\"css-select\");\nvar DomUtils = __importStar(require(\"domutils\"));\nvar helpers_1 = require(\"./helpers\");\nvar positionals_1 = require(\"./positionals\");\n/** Used to indicate a scope should be filtered. Might be ignored when filtering. */\nvar SCOPE_PSEUDO = {\n    type: \"pseudo\",\n    name: \"scope\",\n    data: null,\n};\n/** Used for actually filtering for scope. */\nvar CUSTOM_SCOPE_PSEUDO = __assign({}, SCOPE_PSEUDO);\nvar UNIVERSAL_SELECTOR = { type: \"universal\", namespace: null };\nfunction filterByPosition(filter, elems, data, options) {\n    var num = typeof data === \"string\" ? parseInt(data, 10) : NaN;\n    switch (filter) {\n        case \"first\":\n        case \"lt\":\n            // Already done in `getLimit`\n            return elems;\n        case \"last\":\n            return elems.length > 0 ? [elems[elems.length - 1]] : elems;\n        case \"nth\":\n        case \"eq\":\n            return isFinite(num) && Math.abs(num) < elems.length\n                ? [num < 0 ? elems[elems.length + num] : elems[num]]\n                : [];\n        case \"gt\":\n            return isFinite(num) ? elems.slice(num + 1) : [];\n        case \"even\":\n            return elems.filter(function (_, i) { return i % 2 === 0; });\n        case \"odd\":\n            return elems.filter(function (_, i) { return i % 2 === 1; });\n        case \"not\": {\n            var filtered_1 = new Set(filterParsed(data, elems, options));\n            return elems.filter(function (e) { return !filtered_1.has(e); });\n        }\n    }\n}\nfunction filter(selector, elements, options) {\n    if (options === void 0) { options = {}; }\n    return DomUtils.uniqueSort(filterParsed(css_what_1.parse(selector, options), elements, options));\n}\nexports.filter = filter;\n/**\n * Filter a set of elements by a selector.\n *\n * If there are multiple selectors, this can\n * return elements multiple times; use `uniqueSort`\n * to eliminate duplicates afterwards.\n *\n * @param selector Selector to filter by.\n * @param elements Elements to filter.\n * @param options Options for selector.\n */\nfunction filterParsed(selector, elements, options) {\n    if (elements.length === 0)\n        return [];\n    var _a = helpers_1.groupSelectors(selector), plainSelectors = _a[0], filteredSelectors = _a[1];\n    var results = [];\n    if (plainSelectors.length) {\n        results.push(filterElements(elements, plainSelectors, options));\n    }\n    for (var _i = 0, filteredSelectors_1 = filteredSelectors; _i < filteredSelectors_1.length; _i++) {\n        var filteredSelector = filteredSelectors_1[_i];\n        if (filteredSelector.some(css_what_1.isTraversal)) {\n            /*\n             * Get one root node, run selector with the scope\n             * set to all of our nodes.\n             */\n            var root = helpers_1.getDocumentRoot(elements[0]);\n            var sel = __spreadArrays(filteredSelector, [CUSTOM_SCOPE_PSEUDO]);\n            results.push(findFilterElements(root, sel, options, true, elements));\n        }\n        else {\n            // Performance optimization: If we don't have to traverse, just filter set.\n            results.push(findFilterElements(elements, filteredSelector, options, false));\n        }\n    }\n    if (results.length === 1) {\n        return results[0];\n    }\n    return results.reduce(function (arr, rest) { return __spreadArrays(arr, rest); }, []);\n}\nfunction select(selector, root, options) {\n    if (options === void 0) { options = {}; }\n    var _a = helpers_1.groupSelectors(css_what_1.parse(selector, options)), plain = _a[0], filtered = _a[1];\n    var results = filtered.map(function (sel) {\n        return findFilterElements(root, sel, options, true);\n    });\n    // Plain selectors can be queried in a single go\n    if (plain.length) {\n        results.push(findElements(root, plain, options, Infinity));\n    }\n    // If there was only a single selector, just return the result\n    if (results.length === 1) {\n        return results[0];\n    }\n    // Sort results, filtering for duplicates\n    return DomUtils.uniqueSort(results.reduce(function (a, b) { return __spreadArrays(a, b); }));\n}\nexports.select = select;\n// Traversals that are treated differently in css-select.\nvar specialTraversal = new Set([\"descendant\", \"adjacent\"]);\nfunction includesScopePseudo(t) {\n    return (t !== SCOPE_PSEUDO &&\n        t.type === \"pseudo\" &&\n        (t.name === \"scope\" ||\n            (Array.isArray(t.data) &&\n                t.data.some(function (data) { return data.some(includesScopePseudo); }))));\n}\nfunction addContextIfScope(selector, options, scopeContext) {\n    return scopeContext && selector.some(includesScopePseudo)\n        ? __assign(__assign({}, options), { context: scopeContext }) : options;\n}\n/**\n *\n * @param root Element(s) to search from.\n * @param selector Selector to look for.\n * @param options Options for querying.\n * @param queryForSelector Query multiple levels deep for the initial selector, even if it doesn't contain a traversal.\n * @param scopeContext Optional context for a :scope.\n */\nfunction findFilterElements(root, selector, options, queryForSelector, scopeContext) {\n    var filterIndex = selector.findIndex(positionals_1.isFilter);\n    var sub = selector.slice(0, filterIndex);\n    var filter = selector[filterIndex];\n    /*\n     * Set the number of elements to retrieve.\n     * Eg. for :first, we only have to get a single element.\n     */\n    var limit = positionals_1.getLimit(filter.name, filter.data);\n    if (limit === 0)\n        return [];\n    var subOpts = addContextIfScope(sub, options, scopeContext);\n    /*\n     * Skip `findElements` call if our selector starts with a positional\n     * pseudo.\n     */\n    var elemsNoLimit = sub.length === 0 && !Array.isArray(root)\n        ? DomUtils.getChildren(root).filter(DomUtils.isTag)\n        : sub.length === 0 || (sub.length === 1 && sub[0] === SCOPE_PSEUDO)\n            ? Array.isArray(root)\n                ? root\n                : [root]\n            : queryForSelector || sub.some(css_what_1.isTraversal)\n                ? findElements(root, [sub], subOpts, limit)\n                : // We know that this cannot be reached with root not being an array.\n                    filterElements(root, [sub], subOpts);\n    var elems = elemsNoLimit.slice(0, limit);\n    var result = filterByPosition(filter.name, elems, filter.data, options);\n    if (result.length === 0 || selector.length === filterIndex + 1) {\n        return result;\n    }\n    var remainingSelector = selector.slice(filterIndex + 1);\n    var remainingHasTraversal = remainingSelector.some(css_what_1.isTraversal);\n    var remainingOpts = addContextIfScope(remainingSelector, options, scopeContext);\n    if (remainingHasTraversal) {\n        /*\n         * Some types of traversals have special logic when they start a selector\n         * in css-select. If this is the case, add a universal selector in front of\n         * the selector to avoid this behavior.\n         */\n        if (specialTraversal.has(remainingSelector[0].type)) {\n            remainingSelector.unshift(UNIVERSAL_SELECTOR);\n        }\n        /*\n         * Add a scope token in front of the remaining selector,\n         * to make sure traversals don't match elements that aren't a\n         * part of the considered tree.\n         */\n        remainingSelector.unshift(SCOPE_PSEUDO);\n    }\n    /*\n     * If we have another filter, recursively call `findFilterElements`,\n     * with the `recursive` flag disabled. We only have to look for more\n     * elements when we see a traversal.\n     *\n     * Otherwise,\n     */\n    return remainingSelector.some(positionals_1.isFilter)\n        ? findFilterElements(result, remainingSelector, options, false, scopeContext)\n        : remainingHasTraversal\n            ? // Query existing elements to resolve traversal.\n                findElements(result, [remainingSelector], remainingOpts, Infinity)\n            : // If we don't have any more traversals, simply filter elements.\n                filterElements(result, [remainingSelector], remainingOpts);\n}\nfunction findElements(root, sel, options, limit) {\n    if (limit === 0)\n        return [];\n    // @ts-expect-error TS seems to mess up the type here ¯\\_(ツ)_/¯\n    var query = css_select_1._compileToken(sel, options, root);\n    var elems = css_select_1.prepareContext(root, DomUtils, query.shouldTestNextSiblings);\n    return DomUtils.find(function (node) { return DomUtils.isTag(node) && query(node); }, elems, true, limit);\n}\nfunction filterElements(elements, sel, options) {\n    // @ts-expect-error TS seems to mess up the type here ¯\\_(ツ)_/¯\n    var query = css_select_1._compileToken(sel, options);\n    return elements.filter(query);\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLimit = exports.isFilter = exports.filterNames = void 0;\nexports.filterNames = new Set([\n    \"first\",\n    \"last\",\n    \"eq\",\n    \"gt\",\n    \"nth\",\n    \"lt\",\n    \"even\",\n    \"odd\",\n]);\nfunction isFilter(s) {\n    if (s.type !== \"pseudo\")\n        return false;\n    if (exports.filterNames.has(s.name))\n        return true;\n    if (s.name === \"not\" && Array.isArray(s.data)) {\n        // Only consider `:not` with embedded filters\n        return s.data.some(function (s) { return s.some(isFilter); });\n    }\n    return false;\n}\nexports.isFilter = isFilter;\nfunction getLimit(filter, data) {\n    var num = data != null ? parseInt(data, 10) : NaN;\n    switch (filter) {\n        case \"first\":\n            return 1;\n        case \"nth\":\n        case \"eq\":\n            return isFinite(num) ? (num >= 0 ? num + 1 : Infinity) : 0;\n        case \"lt\":\n            return isFinite(num) ? (num >= 0 ? num : Infinity) : 0;\n        case \"gt\":\n            return isFinite(num) ? Infinity : 0;\n        default:\n            return Infinity;\n    }\n}\nexports.getLimit = getLimit;\n",
    "/**\n * @module cheerio\n * @borrows static.load as load\n * @borrows static.html as html\n * @borrows static.text as text\n * @borrows static.xml as xml\n */\nvar staticMethods = require('./lib/static');\n\nexports = module.exports = require('./lib/cheerio');\n\n/**\n * An identifier describing the version of Cheerio which has been executed.\n *\n * @type {string}\n */\nexports.version = require('./package.json').version;\n\nexports.load = staticMethods.load;\nexports.html = staticMethods.html;\nexports.text = staticMethods.text;\nexports.xml = staticMethods.xml;\n\n/**\n * In order to promote consistency with the jQuery library, users are\n * encouraged to instead use the static method of the same name.\n *\n * @example\n *     var $ = cheerio.load('<div><p></p></div>');\n *     $.contains($('div').get(0), $('p').get(0)); // true\n *     $.contains($('p').get(0), $('div').get(0)); // false\n *\n * @function\n * @returns {boolean}\n * @deprecated\n */\nexports.contains = staticMethods.contains;\n\n/**\n * In order to promote consistency with the jQuery library, users are\n * encouraged to instead use the static method of the same name.\n *\n * @example\n *     var $ = cheerio.load('');\n *     $.merge([1, 2], [3, 4]) // [1, 2, 3, 4]\n *\n * @function\n * @deprecated\n */\nexports.merge = staticMethods.merge;\n\n/**\n * In order to promote consistency with the jQuery library, users are\n * encouraged to instead use the static method of the same name as it is\n * defined on the \"loaded\" Cheerio factory function.\n *\n * @example\n *     var $ = cheerio.load('');\n *     $.parseHTML('<b>markup</b>');\n *\n * @function\n * @deprecated See {@link static/parseHTML}.\n */\nexports.parseHTML = staticMethods.parseHTML;\n\n/**\n * Users seeking to access the top-level element of a parsed document should\n * instead use the `root` static method of a \"loaded\" Cheerio function.\n *\n * @example\n *     var $ = cheerio.load('');\n *     $.root();\n *\n * @function\n * @deprecated\n */\nexports.root = staticMethods.root;\n",
    "/**\n * Methods for getting and modifying attributes.\n *\n * @module cheerio/attributes\n */\n\nvar text = require('../static').text;\nvar utils = require('../utils');\nvar isTag = utils.isTag;\nvar domEach = utils.domEach;\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar camelCase = utils.camelCase;\nvar cssCase = utils.cssCase;\nvar rspace = /\\s+/;\nvar dataAttrPrefix = 'data-';\n// Lookup table for coercing string data-* attributes to their corresponding\n// JavaScript primitives\nvar primitives = {\n  null: null,\n  true: true,\n  false: false,\n};\n// Attributes that are booleans\nvar rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;\n// Matches strings that look like JSON objects or arrays\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;\n\nvar getAttr = function (elem, name) {\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.attribs) {\n    elem.attribs = {};\n  }\n\n  // Return the entire attribs object if no attribute specified\n  if (!name) {\n    return elem.attribs;\n  }\n\n  if (hasOwn.call(elem.attribs, name)) {\n    // Get the (decoded) attribute\n    return rboolean.test(name) ? name : elem.attribs[name];\n  }\n\n  // Mimic the DOM and return text content as value for `option's`\n  if (elem.name === 'option' && name === 'value') {\n    return text(elem.children);\n  }\n\n  // Mimic DOM with default value for radios/checkboxes\n  if (\n    elem.name === 'input' &&\n    (elem.attribs.type === 'radio' || elem.attribs.type === 'checkbox') &&\n    name === 'value'\n  ) {\n    return 'on';\n  }\n};\n\nvar setAttr = function (el, name, value) {\n  if (value === null) {\n    removeAttribute(el, name);\n  } else {\n    el.attribs[name] = value + '';\n  }\n};\n\n/**\n * Method for getting and setting attributes. Gets the attribute value for only\n * the first element in the matched set. If you set an attribute's value to\n * `null`, you remove that attribute. You may also pass a `map` and `function`\n * like jQuery.\n *\n * @example\n *\n * $('ul').attr('id')\n * //=> fruits\n *\n * $('.apple').attr('id', 'favorite').html()\n * //=> <li class=\"apple\" id=\"favorite\">Apple</li>\n *\n * @param {string} name - Name of the attribute.\n * @param {string} [value] - If specified sets the value of the attribute.\n *\n * @see {@link http://api.jquery.com/attr/}\n */\nexports.attr = function (name, value) {\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      return domEach(this, function (i, el) {\n        setAttr(el, name, value.call(el, i, el.attribs[name]));\n      });\n    }\n    return domEach(this, function (i, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n        Object.keys(name).forEach(function (objName) {\n          var objValue = name[objName];\n          setAttr(el, objName, objValue);\n        });\n      } else {\n        setAttr(el, name, value);\n      }\n    });\n  }\n\n  return getAttr(this[0], name);\n};\n\nvar getProp = function (el, name) {\n  if (!el || !isTag(el)) return;\n\n  return name in el\n    ? el[name]\n    : rboolean.test(name)\n    ? getAttr(el, name) !== undefined\n    : getAttr(el, name);\n};\n\nvar setProp = function (el, name, value) {\n  el[name] = rboolean.test(name) ? !!value : value;\n};\n\n/**\n * Method for getting and setting properties. Gets the property value for only\n * the first element in the matched set.\n *\n * @example\n *\n * $('input[type=\"checkbox\"]').prop('checked')\n * //=> false\n *\n * $('input[type=\"checkbox\"]').prop('checked', true).val()\n * //=> ok\n *\n * @param {string} name - Name of the property.\n * @param {any} [value] - If specified set the property to this.\n *\n * @see {@link http://api.jquery.com/prop/}\n */\nexports.prop = function (name, value) {\n  var i = 0;\n  var property;\n\n  if (typeof name === 'string' && value === undefined) {\n    switch (name) {\n      case 'style':\n        property = this.css();\n\n        Object.keys(property).forEach(function (p) {\n          property[i++] = p;\n        });\n\n        property.length = i;\n\n        break;\n      case 'tagName':\n      case 'nodeName':\n        property = this[0].name.toUpperCase();\n        break;\n      case 'outerHTML':\n        property = this.clone().wrap('<container />').parent().html();\n        break;\n      default:\n        property = getProp(this[0], name);\n    }\n\n    return property;\n  }\n\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      return domEach(this, function (j, el) {\n        setProp(el, name, value.call(el, j, getProp(el, name)));\n      });\n    }\n\n    return domEach(this, function (__, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n        Object.keys(name).forEach(function (key) {\n          var val = name[key];\n          setProp(el, key, val);\n        });\n      } else {\n        setProp(el, name, value);\n      }\n    });\n  }\n};\n\nvar setData = function (el, name, value) {\n  if (!el.data) {\n    el.data = {};\n  }\n\n  if (typeof name === 'object') return Object.assign(el.data, name);\n  if (typeof name === 'string' && value !== undefined) {\n    el.data[name] = value;\n  }\n};\n\n// Read the specified attribute from the equivalent HTML5 `data-*` attribute,\n// and (if present) cache the value in the node's internal data store. If no\n// attribute name is specified, read *all* HTML5 `data-*` attributes in this\n// manner.\nvar readData = function (el, name) {\n  var readAll = arguments.length === 1;\n  var domNames;\n  var domName;\n  var jsNames;\n  var jsName;\n  var value;\n  var idx;\n  var length;\n\n  if (readAll) {\n    domNames = Object.keys(el.attribs).filter(function (attrName) {\n      return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;\n    });\n    jsNames = domNames.map(function (_domName) {\n      return camelCase(_domName.slice(dataAttrPrefix.length));\n    });\n  } else {\n    domNames = [dataAttrPrefix + cssCase(name)];\n    jsNames = [name];\n  }\n\n  for (idx = 0, length = domNames.length; idx < length; ++idx) {\n    domName = domNames[idx];\n    jsName = jsNames[idx];\n    if (hasOwn.call(el.attribs, domName) && !hasOwn.call(el.data, jsName)) {\n      value = el.attribs[domName];\n\n      if (hasOwn.call(primitives, value)) {\n        value = primitives[value];\n      } else if (value === String(Number(value))) {\n        value = Number(value);\n      } else if (rbrace.test(value)) {\n        try {\n          value = JSON.parse(value);\n        } catch (e) {\n          /* ignore */\n        }\n      }\n\n      el.data[jsName] = value;\n    }\n  }\n\n  return readAll ? el.data : value;\n};\n\n/**\n * Method for getting and setting data attributes. Gets or sets the data\n * attribute value for only the first element in the matched set.\n *\n * @example\n *\n * $('<div data-apple-color=\"red\"></div>').data()\n * //=> { appleColor: 'red' }\n *\n * $('<div data-apple-color=\"red\"></div>').data('apple-color')\n * //=> 'red'\n *\n * const apple = $('.apple').data('kind', 'mac')\n * apple.data('kind')\n * //=> 'mac'\n *\n * @param {string} name - Name of the attribute.\n * @param {any} [value] - If specified new value.\n *\n * @see {@link http://api.jquery.com/data/}\n */\nexports.data = function (name, value) {\n  var elem = this[0];\n\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.data) {\n    elem.data = {};\n  }\n\n  // Return the entire data object if no data specified\n  if (!name) {\n    return readData(elem);\n  }\n\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    domEach(this, function (i, el) {\n      setData(el, name, value);\n    });\n    return this;\n  } else if (hasOwn.call(elem.data, name)) {\n    return elem.data[name];\n  }\n\n  return readData(elem, name);\n};\n\n/**\n * Method for getting and setting the value of input, select, and textarea.\n * Note: Support for `map`, and `function` has not been added yet.\n *\n * @example\n *\n * $('input[type=\"text\"]').val()\n * //=> input_text\n *\n * $('input[type=\"text\"]').val('test').html()\n * //=> <input type=\"text\" value=\"test\"/>\n *\n * @param {string} [value] - If specified new value.\n *\n * @see {@link http://api.jquery.com/val/}\n */\nexports.val = function (value) {\n  var querying = arguments.length === 0;\n  var element = this[0];\n\n  if (!element) return;\n\n  switch (element.name) {\n    case 'textarea':\n      return this.text(value);\n    case 'input':\n      if (this.attr('type') === 'radio') {\n        if (querying) {\n          return this.attr('value');\n        }\n\n        this.attr('value', value);\n        return this;\n      }\n\n      return this.attr('value', value);\n    case 'select':\n      var option = this.find('option:selected');\n      var returnValue;\n      if (option === undefined) return undefined;\n      if (!querying) {\n        if (!hasOwn.call(this.attr(), 'multiple') && typeof value == 'object') {\n          return this;\n        }\n        if (typeof value != 'object') {\n          value = [value];\n        }\n        this.find('option').removeAttr('selected');\n        for (var i = 0; i < value.length; i++) {\n          this.find('option[value=\"' + value[i] + '\"]').attr('selected', '');\n        }\n        return this;\n      }\n      returnValue = option.attr('value');\n      if (hasOwn.call(this.attr(), 'multiple')) {\n        returnValue = [];\n        domEach(option, function (__, el) {\n          returnValue.push(getAttr(el, 'value'));\n        });\n      }\n      return returnValue;\n    case 'option':\n      if (!querying) {\n        this.attr('value', value);\n        return this;\n      }\n      return this.attr('value');\n  }\n};\n\n/**\n * Remove an attribute.\n *\n * @private\n * @param {node} elem - Node to remove attribute from.\n * @param {string} name - Name of the attribute to remove.\n */\nvar removeAttribute = function (elem, name) {\n  if (!elem.attribs || !hasOwn.call(elem.attribs, name)) return;\n\n  delete elem.attribs[name];\n};\n\n/**\n * Splits a space-separated list of names to individual\n * names.\n *\n * @param {string} names -  Names to split.\n * @returns {string[]} - Split names.\n */\nvar splitNames = function (names) {\n  return names ? names.trim().split(rspace) : [];\n};\n\n/**\n * Method for removing attributes by `name`.\n *\n * @example\n *\n * $('.pear').removeAttr('class').html()\n * //=> <li>Pear</li>\n *\n * $('.apple').attr('id', 'favorite')\n * $('.apple').removeAttr('id class').html()\n * //=> <li>Apple</li>\n *\n * @param {string} name - Name of the attribute.\n *\n * @see {@link http://api.jquery.com/removeAttr/}\n */\nexports.removeAttr = function (name) {\n  var attrNames = splitNames(name);\n\n  for (var i = 0; i < attrNames.length; i++) {\n    domEach(this, function (j, elem) {\n      removeAttribute(elem, attrNames[i]);\n    });\n  }\n\n  return this;\n};\n\n/**\n * Check to see if *any* of the matched elements have the given `className`.\n *\n * @example\n *\n * $('.pear').hasClass('pear')\n * //=> true\n *\n * $('apple').hasClass('fruit')\n * //=> false\n *\n * $('li').hasClass('pear')\n * //=> true\n *\n * @param {string} className - Name of the class.\n *\n * @see {@link http://api.jquery.com/hasClass/}\n */\nexports.hasClass = function (className) {\n  return this.toArray().some(function (elem) {\n    var attrs = elem.attribs;\n    var clazz = attrs && attrs['class'];\n    var idx = -1;\n    var end;\n\n    if (clazz && className.length) {\n      while ((idx = clazz.indexOf(className, idx + 1)) > -1) {\n        end = idx + className.length;\n\n        if (\n          (idx === 0 || rspace.test(clazz[idx - 1])) &&\n          (end === clazz.length || rspace.test(clazz[end]))\n        ) {\n          return true;\n        }\n      }\n    }\n  });\n};\n\n/**\n * Adds class(es) to all of the matched elements. Also accepts a `function`\n * like jQuery.\n *\n * @example\n *\n * $('.pear').addClass('fruit').html()\n * //=> <li class=\"pear fruit\">Pear</li>\n *\n * $('.apple').addClass('fruit red').html()\n * //=> <li class=\"apple fruit red\">Apple</li>\n *\n * @param {string} value - Name of new class.\n *\n * @see {@link http://api.jquery.com/addClass/}\n */\nexports.addClass = function (value) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function (i, el) {\n      var className = el.attribs['class'] || '';\n      exports.addClass.call([el], value.call(el, i, className));\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace);\n  var numElements = this.length;\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    // If we don't already have classes\n    var className = getAttr(this[i], 'class');\n    var numClasses;\n    var setClass;\n\n    if (!className) {\n      setAttr(this[i], 'class', classNames.join(' ').trim());\n    } else {\n      setClass = ' ' + className + ' ';\n      numClasses = classNames.length;\n\n      // Check if class already exists\n      for (var j = 0; j < numClasses; j++) {\n        var appendClass = classNames[j] + ' ';\n        if (setClass.indexOf(' ' + appendClass) < 0) setClass += appendClass;\n      }\n\n      setAttr(this[i], 'class', setClass.trim());\n    }\n  }\n\n  return this;\n};\n\n/**\n * Removes one or more space-separated classes from the selected elements. If\n * no `className` is defined, all classes will be removed. Also accepts a\n * `function` like jQuery.\n *\n * @example\n *\n * $('.pear').removeClass('pear').html()\n * //=> <li class=\"\">Pear</li>\n *\n * $('.apple').addClass('red').removeClass().html()\n * //=> <li class=\"\">Apple</li>\n * @param {string} value - Name of the class.\n *\n * @see {@link http://api.jquery.com/removeClass/}\n */\nexports.removeClass = function (value) {\n  var classes;\n  var numClasses;\n  var removeAll;\n\n  // Handle if value is a function\n  if (typeof value === 'function') {\n    return domEach(this, function (i, el) {\n      exports.removeClass.call(\n        [el],\n        value.call(el, i, el.attribs['class'] || '')\n      );\n    });\n  }\n\n  classes = splitNames(value);\n  numClasses = classes.length;\n  removeAll = arguments.length === 0;\n\n  return domEach(this, function (i, el) {\n    if (!isTag(el)) return;\n\n    if (removeAll) {\n      // Short circuit the remove all case as this is the nice one\n      el.attribs.class = '';\n    } else {\n      var elClasses = splitNames(el.attribs.class);\n      var index;\n      var changed;\n\n      for (var j = 0; j < numClasses; j++) {\n        index = elClasses.indexOf(classes[j]);\n\n        if (index >= 0) {\n          elClasses.splice(index, 1);\n          changed = true;\n\n          // We have to do another pass to ensure that there are not duplicate\n          // classes listed\n          j--;\n        }\n      }\n      if (changed) {\n        el.attribs.class = elClasses.join(' ');\n      }\n    }\n  });\n};\n\n/**\n * Add or remove class(es) from the matched elements, depending on either the\n * class's presence or the value of the switch argument. Also accepts a\n * `function` like jQuery.\n *\n * @example\n *\n * $('.apple.green').toggleClass('fruit green red').html()\n * //=> <li class=\"apple fruit red\">Apple</li>\n *\n * $('.apple.green').toggleClass('fruit green red', true).html()\n * //=> <li class=\"apple green fruit red\">Apple</li>\n *\n * @param {(string|Function)} value - Name of the class. Can also be a function.\n * @param {boolean} [stateVal] - If specified the state of the class.\n *\n * @see {@link http://api.jquery.com/toggleClass/}\n */\nexports.toggleClass = function (value, stateVal) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function (i, el) {\n      exports.toggleClass.call(\n        [el],\n        value.call(el, i, el.attribs['class'] || '', stateVal),\n        stateVal\n      );\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace);\n  var numClasses = classNames.length;\n  var state = typeof stateVal === 'boolean' ? (stateVal ? 1 : -1) : 0;\n  var numElements = this.length;\n  var elementClasses;\n  var index;\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    elementClasses = splitNames(this[i].attribs.class);\n\n    // Check if class already exists\n    for (var j = 0; j < numClasses; j++) {\n      // Check if the class name is currently defined\n      index = elementClasses.indexOf(classNames[j]);\n\n      // Add if stateValue === true or we are toggling and there is no value\n      if (state >= 0 && index < 0) {\n        elementClasses.push(classNames[j]);\n      } else if (state <= 0 && index >= 0) {\n        // Otherwise remove but only if the item exists\n        elementClasses.splice(index, 1);\n      }\n    }\n\n    this[i].attribs.class = elementClasses.join(' ');\n  }\n\n  return this;\n};\n\n/**\n * Checks the current list of elements and returns `true` if _any_ of the\n * elements match the selector. If using an element or Cheerio selection,\n * returns `true` if _any_ of the elements match. If using a predicate\n * function, the function is executed in the context of the selected element,\n * so `this` refers to the current element.\n *\n * @param {string|Function|cheerio|node} selector - Selector for the selection.\n *\n * @see {@link http://api.jquery.com/is/}\n */\nexports.is = function (selector) {\n  if (selector) {\n    return this.filter(selector).length > 0;\n  }\n  return false;\n};\n",
    "/**\n * @module cheerio/css\n */\n\nvar domEach = require('../utils').domEach;\n\nvar toString = Object.prototype.toString;\n\n/**\n * Get the value of a style property for the first element in the set of\n * matched elements or set one or more CSS properties for every matched\n * element.\n *\n * @param {string|object} prop - The name of the property.\n * @param {string} [val] - If specified the new value.\n * @returns {self}\n *\n * @see {@link http://api.jquery.com/css/}\n */\nexports.css = function (prop, val) {\n  if (\n    arguments.length === 2 ||\n    // When `prop` is a \"plain\" object\n    toString.call(prop) === '[object Object]'\n  ) {\n    return domEach(this, function (idx, el) {\n      setCss(el, prop, val, idx);\n    });\n  }\n  return getCss(this[0], prop);\n};\n\n/**\n * Set styles of all elements.\n *\n * @param {object} el - Element to set style of.\n * @param {string|object} prop - Name of property.\n * @param {string} val - Value to set property to.\n * @param {number} [idx] - Optional index within the selection.\n * @returns {self}\n * @private\n */\nfunction setCss(el, prop, val, idx) {\n  if ('string' == typeof prop) {\n    var styles = getCss(el);\n    if (typeof val === 'function') {\n      val = val.call(el, idx, styles[prop]);\n    }\n\n    if (val === '') {\n      delete styles[prop];\n    } else if (val != null) {\n      styles[prop] = val;\n    }\n\n    el.attribs.style = stringify(styles);\n  } else if ('object' == typeof prop) {\n    Object.keys(prop).forEach(function (k) {\n      setCss(el, k, prop[k]);\n    });\n  }\n}\n\n/**\n * Get parsed styles of the first element.\n *\n * @param {node} el - Element to get styles from.\n * @param {string} prop - Name of the prop.\n * @returns {object}\n * @private\n */\nfunction getCss(el, prop) {\n  if (!el || !el.attribs) {\n    return undefined;\n  }\n\n  var styles = parse(el.attribs.style);\n  if (typeof prop === 'string') {\n    return styles[prop];\n  } else if (Array.isArray(prop)) {\n    var newStyles = {};\n    prop.forEach(function (item) {\n      if (styles[item] != null) {\n        newStyles[item] = styles[item];\n      }\n    });\n    return newStyles;\n  }\n  return styles;\n}\n\n/**\n * Stringify `obj` to styles.\n *\n * @param {object} obj - Object to stringify.\n * @returns {object}\n * @private\n */\nfunction stringify(obj) {\n  return Object.keys(obj || {}).reduce(function (str, prop) {\n    return (str += '' + (str ? ' ' : '') + prop + ': ' + obj[prop] + ';');\n  }, '');\n}\n\n/**\n * Parse `styles`.\n *\n * @param {string} styles - Styles to be parsed.\n * @returns {object}\n * @private\n */\nfunction parse(styles) {\n  styles = (styles || '').trim();\n\n  if (!styles) return {};\n\n  return styles.split(';').reduce(function (obj, str) {\n    var n = str.indexOf(':');\n    // skip if there is no :, or if it is the first/last character\n    if (n < 1 || n === str.length - 1) return obj;\n    obj[str.slice(0, n).trim()] = str.slice(n + 1).trim();\n    return obj;\n  }, {});\n}\n",
    "/**\n * @module cheerio/forms\n */\n\n// https://github.com/jquery/jquery/blob/2.1.3/src/manipulation/var/rcheckableType.js\n// https://github.com/jquery/jquery/blob/2.1.3/src/serialize.js\nvar submittableSelector = 'input,select,textarea,keygen';\nvar r20 = /%20/g;\nvar rCRLF = /\\r?\\n/g;\n\n/**\n * Encode a set of form elements as a string for submission.\n *\n * @see {@link http://api.jquery.com/serialize/}\n */\nexports.serialize = function () {\n  // Convert form elements into name/value objects\n  var arr = this.serializeArray();\n\n  // Serialize each element into a key/value string\n  var retArr = arr.map(function (data) {\n    return encodeURIComponent(data.name) + '=' + encodeURIComponent(data.value);\n  });\n\n  // Return the resulting serialization\n  return retArr.join('&').replace(r20, '+');\n};\n\n/**\n * Encode a set of form elements as an array of names and values.\n *\n * @example\n * $('<form><input name=\"foo\" value=\"bar\" /></form>').serializeArray()\n * //=> [ { name: 'foo', value: 'bar' } ]\n *\n * @see {@link http://api.jquery.com/serializeArray/}\n */\nexports.serializeArray = function () {\n  // Resolve all form elements from either forms or collections of form elements\n  var Cheerio = this.constructor;\n  return this.map(function () {\n    var elem = this;\n    var $elem = Cheerio(elem);\n    if (elem.name === 'form') {\n      return $elem.find(submittableSelector).toArray();\n    }\n    return $elem.filter(submittableSelector).toArray();\n  })\n    .filter(\n      // Verify elements have a name (`attr.name`) and are not disabled (`:disabled`)\n      '[name!=\"\"]:not(:disabled)' +\n        // and cannot be clicked (`[type=submit]`) or are used in `x-www-form-urlencoded` (`[type=file]`)\n        ':not(:submit, :button, :image, :reset, :file)' +\n        // and are either checked/don't have a checkable state\n        ':matches([checked], :not(:checkbox, :radio))'\n      // Convert each of the elements to its value(s)\n    )\n    .map(function (i, elem) {\n      var $elem = Cheerio(elem);\n      var name = $elem.attr('name');\n      var value = $elem.val();\n\n      // If there is no value set (e.g. `undefined`, `null`), then default value to empty\n      if (value == null) {\n        value = '';\n      }\n\n      // If we have an array of values (e.g. `<select multiple>`), return an array of key/value pairs\n      if (Array.isArray(value)) {\n        return value.map(function (val) {\n          // We trim replace any line endings (e.g. `\\r` or `\\r\\n` with `\\r\\n`) to guarantee consistency across platforms\n          //   These can occur inside of `<textarea>'s`\n          return { name: name, value: val.replace(rCRLF, '\\r\\n') };\n        });\n        // Otherwise (e.g. `<input type=\"text\">`, return only one key/value pair\n      }\n      return { name: name, value: value.replace(rCRLF, '\\r\\n') };\n\n      // Convert our result to an array\n    })\n    .get();\n};\n",
    "/**\n * Methods for modifying the DOM structure.\n *\n * @module cheerio/manipulation\n */\n\nvar parse = require('../parse');\nvar html = require('../static').html;\nvar text = require('../static').text;\nvar updateDOM = parse.update;\nvar utils = require('../utils');\nvar domEach = utils.domEach;\nvar cloneDom = utils.cloneDom;\nvar isHtml = utils.isHtml;\nvar slice = Array.prototype.slice;\nvar domhandler = require('domhandler');\nvar DomUtils = require('htmlparser2').DomUtils;\n\n/**\n * Create an array of nodes, recursing into arrays and parsing strings if\n * necessary.\n *\n * @param {cheerio|string|cheerio[]|string[]} [elem] - Elements to make an array of.\n * @param {boolean} [clone] - Optionally clone nodes.\n * @private\n */\nexports._makeDomArray = function makeDomArray(elem, clone) {\n  if (elem == null) {\n    return [];\n  } else if (elem.cheerio) {\n    return clone ? cloneDom(elem.get(), elem.options) : elem.get();\n  } else if (Array.isArray(elem)) {\n    return elem.reduce(\n      function (newElems, el) {\n        return newElems.concat(this._makeDomArray(el, clone));\n      }.bind(this),\n      []\n    );\n  } else if (typeof elem === 'string') {\n    return parse(elem, this.options, false).children;\n  }\n  return clone ? cloneDom([elem]) : [elem];\n};\n\nvar _insert = function (concatenator) {\n  return function () {\n    var elems = slice.call(arguments);\n    var lastIdx = this.length - 1;\n\n    return domEach(this, function (i, el) {\n      var dom;\n      var domSrc;\n\n      if (typeof elems[0] === 'function') {\n        domSrc = elems[0].call(el, i, html(el.children));\n      } else {\n        domSrc = elems;\n      }\n\n      dom = this._makeDomArray(domSrc, i < lastIdx);\n      concatenator(dom, el.children, el);\n    });\n  };\n};\n\n/*\n * Modify an array in-place, removing some number of elements and adding new\n * elements directly following them.\n *\n * @param {Array} array Target array to splice.\n * @param {Number} spliceIdx Index at which to begin changing the array.\n * @param {Number} spliceCount Number of elements to remove from the array.\n * @param {Array} newElems Elements to insert into the array.\n *\n * @private\n */\nvar uniqueSplice = function (array, spliceIdx, spliceCount, newElems, parent) {\n  var spliceArgs = [spliceIdx, spliceCount].concat(newElems);\n  var prev = array[spliceIdx - 1] || null;\n  var next = array[spliceIdx + spliceCount] || null;\n  var idx;\n  var len;\n  var prevIdx;\n  var node;\n  var oldParent;\n\n  // Before splicing in new elements, ensure they do not already appear in the\n  // current array.\n  for (idx = 0, len = newElems.length; idx < len; ++idx) {\n    node = newElems[idx];\n    oldParent = node.parent;\n    prevIdx = oldParent && oldParent.children.indexOf(newElems[idx]);\n\n    if (oldParent && prevIdx > -1) {\n      oldParent.children.splice(prevIdx, 1);\n      if (parent === oldParent && spliceIdx > prevIdx) {\n        spliceArgs[0]--;\n      }\n    }\n\n    node.parent = parent;\n\n    if (node.prev) {\n      node.prev.next = node.next || null;\n    }\n\n    if (node.next) {\n      node.next.prev = node.prev || null;\n    }\n\n    node.prev = newElems[idx - 1] || prev;\n    node.next = newElems[idx + 1] || next;\n  }\n\n  if (prev) {\n    prev.next = newElems[0];\n  }\n  if (next) {\n    next.prev = newElems[newElems.length - 1];\n  }\n  return array.splice.apply(array, spliceArgs);\n};\n\n/**\n * Insert every element in the set of matched elements to the end of the\n * target.\n *\n * @param {string|cheerio} target - Element to append elements to.\n *\n * @example\n *\n * $('<li class=\"plum\">Plum</li>').appendTo('#fruits')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //      <li class=\"plum\">Plum</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/appendTo/}\n */\nexports.appendTo = function (target) {\n  if (!target.cheerio) {\n    target = this.constructor.call(\n      this.constructor,\n      target,\n      null,\n      this._originalRoot\n    );\n  }\n\n  target.append(this);\n\n  return this;\n};\n\n/**\n * Insert every element in the set of matched elements to the beginning of the\n * target.\n *\n * @param {string|cheerio} target - Element to prepend elements to.\n *\n * @example\n *\n * $('<li class=\"plum\">Plum</li>').prependTo('#fruits')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/prependTo/}\n */\nexports.prependTo = function (target) {\n  if (!target.cheerio) {\n    target = this.constructor.call(\n      this.constructor,\n      target,\n      null,\n      this._originalRoot\n    );\n  }\n\n  target.prepend(this);\n\n  return this;\n};\n\n/**\n * Inserts content as the *last* child of each of the selected elements.\n *\n * @function\n *\n * @example\n *\n * $('ul').append('<li class=\"plum\">Plum</li>')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //      <li class=\"plum\">Plum</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/append/}\n */\nexports.append = _insert(function (dom, children, parent) {\n  uniqueSplice(children, children.length, 0, dom, parent);\n});\n\n/**\n * Inserts content as the *first* child of each of the selected elements.\n *\n * @function\n *\n * @example\n *\n * $('ul').prepend('<li class=\"plum\">Plum</li>')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/prepend/}\n */\nexports.prepend = _insert(function (dom, children, parent) {\n  uniqueSplice(children, 0, 0, dom, parent);\n});\n\nfunction _wrap(insert) {\n  return function (wrapper) {\n    var wrapperFn = typeof wrapper === 'function' && wrapper;\n    var lastIdx = this.length - 1;\n    var lastParent = this.parents().last();\n\n    for (var i = 0; i < this.length; i++) {\n      var el = this[i];\n      var wrapperDom;\n      var elInsertLocation;\n      var j;\n\n      if (wrapperFn) {\n        wrapper = wrapperFn.call(el, i);\n      }\n\n      if (typeof wrapper === 'string' && !isHtml(wrapper)) {\n        wrapper = lastParent.find(wrapper).clone();\n      }\n\n      wrapperDom = this._makeDomArray(wrapper, i < lastIdx).slice(0, 1);\n      elInsertLocation = wrapperDom[0];\n      // Find the deepest child. Only consider the first tag child of each node\n      // (ignore text); stop if no children are found.\n      j = 0;\n\n      while (elInsertLocation && elInsertLocation.children) {\n        if (j >= elInsertLocation.children.length) {\n          break;\n        }\n\n        if (elInsertLocation.children[j].type === 'tag') {\n          elInsertLocation = elInsertLocation.children[j];\n          j = 0;\n        } else {\n          j++;\n        }\n      }\n\n      insert(el, elInsertLocation, wrapperDom);\n    }\n\n    return this;\n  };\n}\n\n/**\n * The .wrap() function can take any string or object that could be passed to\n * the $() factory function to specify a DOM structure. This structure may be\n * nested several levels deep, but should contain only one inmost element. A\n * copy of this structure will be wrapped around each of the elements in the\n * set of matched elements. This method returns the original set of elements\n * for chaining purposes.\n *\n * @param {cheerio} wrapper - The DOM structure to wrap around each element in the selection.\n *\n * @example\n *\n * const redFruit = $('<div class=\"red-fruit\"></div>')\n * $('.apple').wrap(redFruit)\n *\n * //=> <ul id=\"fruits\">\n * //     <div class=\"red-fruit\">\n * //      <li class=\"apple\">Apple</li>\n * //     </div>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"plum\">Plum</li>\n * //   </ul>\n *\n * const healthy = $('<div class=\"healthy\"></div>')\n * $('li').wrap(healthy)\n *\n * //=> <ul id=\"fruits\">\n * //     <div class=\"healthy\">\n * //       <li class=\"apple\">Apple</li>\n * //     </div>\n * //     <div class=\"healthy\">\n * //       <li class=\"orange\">Orange</li>\n * //     </div>\n * //     <div class=\"healthy\">\n * //        <li class=\"plum\">Plum</li>\n * //     </div>\n * //   </ul>\n *\n * @see {@link http://api.jquery.com/wrap/}\n */\nexports.wrap = _wrap(function (el, elInsertLocation, wrapperDom) {\n  var parent = el.parent;\n  var siblings = parent.children;\n  var index = siblings.indexOf(el);\n\n  updateDOM([el], elInsertLocation);\n  // The previous operation removed the current element from the `siblings`\n  // array, so the `dom` array can be inserted without removing any\n  // additional elements.\n  uniqueSplice(siblings, index, 0, wrapperDom, parent);\n});\n\n/**\n * The .wrapInner() function can take any string or object that could be passed to\n * the $() factory function to specify a DOM structure. This structure may be\n * nested several levels deep, but should contain only one inmost element. The\n * structure will be wrapped around the content of each of the elements in the set\n * of matched elements.\n *\n * @param {cheerio} wrapper - The DOM structure to wrap around the content of each element in the selection.\n *\n * @example\n *\n * const redFruit = $('<div class=\"red-fruit\"></div>')\n * $('.apple').wrapInner(redFruit)\n *\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">\n * //       <div class=\"red-fruit\">Apple</div>\n * //     </li>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"pear\">Pear</li>\n * //   </ul>\n *\n * const healthy = $('<div class=\"healthy\"></div>')\n * $('li').wrapInner(healthy)\n *\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">\n * //       <div class=\"healthy\">Apple</div>\n * //     </li>\n * //     <li class=\"orange\">\n * //       <div class=\"healthy\">Orange</div>\n * //     </li>\n * //     <li class=\"pear\">\n * //       <div class=\"healthy\">Pear</div>\n * //     </li>\n * //   </ul>\n *\n * @see {@link http://api.jquery.com/wrapInner/}\n */\nexports.wrapInner = _wrap(function (el, elInsertLocation, wrapperDom) {\n  updateDOM(el.children, elInsertLocation);\n  updateDOM(wrapperDom, el);\n});\n\n/**\n * Insert content next to each element in the set of matched elements.\n *\n * @example\n *\n * $('.apple').after('<li class=\"plum\">Plum</li>')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/after/}\n */\nexports.after = function () {\n  var elems = slice.call(arguments);\n  var lastIdx = this.length - 1;\n\n  domEach(this, function (i, el) {\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var index = siblings.indexOf(el);\n    var domSrc;\n    var dom;\n\n    // If not found, move on\n    if (index < 0) return;\n\n    if (typeof elems[0] === 'function') {\n      domSrc = elems[0].call(el, i, html(el.children));\n    } else {\n      domSrc = elems;\n    }\n    dom = this._makeDomArray(domSrc, i < lastIdx);\n\n    // Add element after `this` element\n    uniqueSplice(siblings, index + 1, 0, dom, parent);\n  });\n\n  return this;\n};\n\n/**\n * Insert every element in the set of matched elements after the target.\n *\n * @example\n *\n * $('<li class=\"plum\">Plum</li>').insertAfter('.apple')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @param {string|cheerio} target - Element to insert elements after.\n *\n * @see {@link http://api.jquery.com/insertAfter/}\n */\nexports.insertAfter = function (target) {\n  var clones = [];\n  var self = this;\n  if (typeof target === 'string') {\n    target = this.constructor.call(\n      this.constructor,\n      target,\n      null,\n      this._originalRoot\n    );\n  }\n  target = this._makeDomArray(target);\n  self.remove();\n  domEach(target, function (i, el) {\n    var clonedSelf = self._makeDomArray(self.clone());\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var index = siblings.indexOf(el);\n\n    // If not found, move on\n    if (index < 0) return;\n\n    // Add cloned `this` element(s) after target element\n    uniqueSplice(siblings, index + 1, 0, clonedSelf, parent);\n    clones.push(clonedSelf);\n  });\n  return this.constructor.call(this.constructor, this._makeDomArray(clones));\n};\n\n/**\n * Insert content previous to each element in the set of matched elements.\n *\n * @example\n *\n * $('.apple').before('<li class=\"plum\">Plum</li>')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/before/}\n */\nexports.before = function () {\n  var elems = slice.call(arguments);\n  var lastIdx = this.length - 1;\n\n  domEach(this, function (i, el) {\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var index = siblings.indexOf(el);\n    var domSrc;\n    var dom;\n\n    // If not found, move on\n    if (index < 0) return;\n\n    if (typeof elems[0] === 'function') {\n      domSrc = elems[0].call(el, i, html(el.children));\n    } else {\n      domSrc = elems;\n    }\n\n    dom = this._makeDomArray(domSrc, i < lastIdx);\n\n    // Add element before `el` element\n    uniqueSplice(siblings, index, 0, dom, parent);\n  });\n\n  return this;\n};\n\n/**\n * Insert every element in the set of matched elements before the target.\n *\n * @example\n *\n * $('<li class=\"plum\">Plum</li>').insertBefore('.apple')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @param {string|cheerio} target - Element to insert elements before.\n *\n * @see {@link http://api.jquery.com/insertBefore/}\n */\nexports.insertBefore = function (target) {\n  var clones = [];\n  var self = this;\n  if (typeof target === 'string') {\n    target = this.constructor.call(\n      this.constructor,\n      target,\n      null,\n      this._originalRoot\n    );\n  }\n  target = this._makeDomArray(target);\n  self.remove();\n  domEach(target, function (i, el) {\n    var clonedSelf = self._makeDomArray(self.clone());\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var index = siblings.indexOf(el);\n\n    // If not found, move on\n    if (index < 0) return;\n\n    // Add cloned `this` element(s) after target element\n    uniqueSplice(siblings, index, 0, clonedSelf, parent);\n    clones.push(clonedSelf);\n  });\n  return this.constructor.call(this.constructor, this._makeDomArray(clones));\n};\n\n/**\n * Removes the set of matched elements from the DOM and all their children.\n * `selector` filters the set of matched elements to be removed.\n *\n * @example\n *\n * $('.pear').remove()\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //    </ul>\n *\n * @param {string} [selector] - Optional selector for elements to remove.\n *\n * @see {@link http://api.jquery.com/remove/}\n */\nexports.remove = function (selector) {\n  var elems = this;\n\n  // Filter if we have selector\n  if (selector) elems = elems.filter(selector);\n\n  domEach(elems, function (i, el) {\n    DomUtils.removeElement(el);\n    el.prev = el.next = el.parent = null;\n  });\n\n  return this;\n};\n\n/**\n * Replaces matched elements with `content`.\n *\n * @example\n *\n * const plum = $('<li class=\"plum\">Plum</li>')\n * $('.pear').replaceWith(plum)\n * $.html()\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">Apple</li>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"plum\">Plum</li>\n * //   </ul>\n *\n * @param {cheerio|Function} content - Replacement for matched elements.\n *\n * @see {@link http://api.jquery.com/replaceWith/}\n */\nexports.replaceWith = function (content) {\n  var self = this;\n\n  domEach(this, function (i, el) {\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var dom = self._makeDomArray(\n      typeof content === 'function' ? content.call(el, i, el) : content\n    );\n    var index;\n\n    // In the case that `dom` contains nodes that already exist in other\n    // structures, ensure those nodes are properly removed.\n    updateDOM(dom, null);\n\n    index = siblings.indexOf(el);\n\n    // Completely remove old element\n    uniqueSplice(siblings, index, 1, dom, parent);\n    el.parent = el.prev = el.next = null;\n  });\n\n  return this;\n};\n\n/**\n * Empties an element, removing all its children.\n *\n * @example\n *\n * $('ul').empty()\n * $.html()\n * //=>  <ul id=\"fruits\"></ul>\n *\n * @see {@link http://api.jquery.com/empty/}\n */\nexports.empty = function () {\n  domEach(this, function (i, el) {\n    el.children.forEach(function (child) {\n      child.next = child.prev = child.parent = null;\n    });\n\n    el.children.length = 0;\n  });\n  return this;\n};\n\n/**\n * Gets an HTML content string from the first selected element. If `htmlString`\n * is specified, each selected element's content is replaced by the new\n * content.\n *\n * @param {string} str - If specified used to replace selection's contents.\n *\n * @example\n *\n * $('.orange').html()\n * //=> Orange\n *\n * $('#fruits').html('<li class=\"mango\">Mango</li>').html()\n * //=> <li class=\"mango\">Mango</li>\n *\n * @see {@link http://api.jquery.com/html/}\n */\nexports.html = function (str) {\n  if (str === undefined) {\n    if (!this[0] || !this[0].children) return null;\n    return html(this[0].children, this.options);\n  }\n\n  var opts = this.options;\n\n  domEach(this, function (i, el) {\n    el.children.forEach(function (child) {\n      child.next = child.prev = child.parent = null;\n    });\n\n    var content = str.cheerio\n      ? str.clone().get()\n      : parse('' + str, opts, false).children;\n\n    updateDOM(content, el);\n  });\n\n  return this;\n};\n\nexports.toString = function () {\n  return html(this, this.options);\n};\n\n/**\n * Get the combined text contents of each element in the set of matched\n * elements, including their descendants. If `textString` is specified, each\n * selected element's content is replaced by the new text content.\n *\n * @param {string} [str] - If specified replacement for the selected element's contents.\n *\n * @example\n *\n * $('.orange').text()\n * //=> Orange\n *\n * $('ul').text()\n * //=>  Apple\n * //    Orange\n * //    Pear\n *\n * @see {@link http://api.jquery.com/text/}\n */\nexports.text = function (str) {\n  // If `str` is undefined, act as a \"getter\"\n  if (str === undefined) {\n    return text(this);\n  } else if (typeof str === 'function') {\n    // Function support\n    var self = this;\n    return domEach(this, function (i, el) {\n      return exports.text.call(self._make(el), str.call(el, i, text([el])));\n    });\n  }\n\n  // Append text node to each selected elements\n  domEach(this, function (i, el) {\n    el.children.forEach(function (child) {\n      child.next = child.prev = child.parent = null;\n    });\n\n    var textNode = new domhandler.Text(str);\n\n    updateDOM(textNode, el);\n  });\n\n  return this;\n};\n\n/**\n * Clone the cheerio object.\n *\n * @example\n *\n * const moreFruit = $('#fruits').clone()\n *\n * @see {@link http://api.jquery.com/clone/}\n */\nexports.clone = function () {\n  return this._make(cloneDom(this.get(), this.options));\n};\n",
    "/**\n * Methods for traversing the DOM structure.\n *\n * @module cheerio/traversing\n */\n\nvar select = require('cheerio-select-tmp');\nvar utils = require('../utils');\nvar domEach = utils.domEach;\nvar uniqueSort = require('htmlparser2').DomUtils.uniqueSort;\nvar isTag = utils.isTag;\n\n/**\n * Get the descendants of each element in the current set of matched elements,\n * filtered by a selector, jQuery object, or element.\n *\n * @example\n *\n * $('#fruits').find('li').length\n * //=> 3\n * $('#fruits').find($('.apple')).length\n * //=> 1\n *\n * @param {string|cheerio|node} selectorOrHaystack - Element to look for.\n *\n * @see {@link http://api.jquery.com/find/}\n */\nexports.find = function (selectorOrHaystack) {\n  var elems = this.toArray().reduce(function (newElems, elem) {\n    return newElems.concat(elem.children.filter(isTag));\n  }, []);\n  var contains = this.constructor.contains;\n  var haystack;\n\n  if (selectorOrHaystack && typeof selectorOrHaystack !== 'string') {\n    if (selectorOrHaystack.cheerio) {\n      haystack = selectorOrHaystack.get();\n    } else {\n      haystack = [selectorOrHaystack];\n    }\n\n    return this._make(\n      haystack.filter(function (elem) {\n        var idx;\n        var len;\n        for (idx = 0, len = this.length; idx < len; ++idx) {\n          if (contains(this[idx], elem)) {\n            return true;\n          }\n        }\n      }, this)\n    );\n  }\n\n  var options = { __proto__: this.options, context: this.toArray() };\n\n  return this._make(select.select(selectorOrHaystack || '', elems, options));\n};\n\n/**\n * Get the parent of each element in the current set of matched elements,\n * optionally filtered by a selector.\n *\n * @example\n *\n * $('.pear').parent().attr('id')\n * //=> fruits\n *\n * @param {string} [selector] - If specified filter for parent.\n *\n * @see {@link http://api.jquery.com/parent/}\n */\nexports.parent = function (selector) {\n  var set = [];\n\n  domEach(this, function (idx, elem) {\n    var parentElem = elem.parent;\n    if (\n      parentElem &&\n      parentElem.type !== 'root' &&\n      set.indexOf(parentElem) < 0\n    ) {\n      set.push(parentElem);\n    }\n  });\n\n  if (arguments.length) {\n    set = exports.filter.call(set, selector, this);\n  }\n\n  return this._make(set);\n};\n\n/**\n * Get a set of parents filtered by `selector` of each element in the current\n * set of match elements.\n *\n * @example\n *\n * $('.orange').parents().length\n * // => 2\n * $('.orange').parents('#fruits').length\n * // => 1\n *\n * @param {string} [selector] - If specified filter for parents.\n *\n * @see {@link http://api.jquery.com/parents/}\n */\nexports.parents = function (selector) {\n  var parentNodes = [];\n\n  // When multiple DOM elements are in the original set, the resulting set will\n  // be in *reverse* order of the original elements as well, with duplicates\n  // removed.\n  this.get()\n    .reverse()\n    .forEach(function (elem) {\n      traverseParents(this, elem.parent, selector, Infinity).forEach(function (\n        node\n      ) {\n        if (parentNodes.indexOf(node) === -1) {\n          parentNodes.push(node);\n        }\n      });\n    }, this);\n\n  return this._make(parentNodes);\n};\n\n/**\n * Get the ancestors of each element in the current set of matched elements, up\n * to but not including the element matched by the selector, DOM node, or\n * cheerio object.\n *\n * @example\n *\n * $('.orange').parentsUntil('#food').length\n * // => 1\n *\n * @param {string|node|cheerio} selector - Selector for element to stop at.\n * @param {string|Function} [filter] - Optional filter for parents.\n *\n * @see {@link http://api.jquery.com/parentsUntil/}\n */\nexports.parentsUntil = function (selector, filter) {\n  var parentNodes = [];\n  var untilNode;\n  var untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select.select(\n      selector,\n      this.parents().toArray(),\n      this.options\n    )[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.toArray();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  // When multiple DOM elements are in the original set, the resulting set will\n  // be in *reverse* order of the original elements as well, with duplicates\n  // removed.\n\n  this.toArray()\n    .reverse()\n    .forEach(function (elem) {\n      while ((elem = elem.parent)) {\n        if (\n          (untilNode && elem !== untilNode) ||\n          (untilNodes && untilNodes.indexOf(elem) === -1) ||\n          (!untilNode && !untilNodes)\n        ) {\n          if (isTag(elem) && parentNodes.indexOf(elem) === -1) {\n            parentNodes.push(elem);\n          }\n        } else {\n          break;\n        }\n      }\n    }, this);\n\n  return this._make(\n    filter ? select.select(filter, parentNodes, this.options) : parentNodes\n  );\n};\n\n/**\n * For each element in the set, get the first element that matches the selector\n * by testing the element itself and traversing up through its ancestors in\n * the DOM tree.\n *\n * @example\n *\n * $('.orange').closest()\n * // => []\n * $('.orange').closest('.apple')\n * // => []\n * $('.orange').closest('li')\n * // => [<li class=\"orange\">Orange</li>]\n * $('.orange').closest('#fruits')\n * // => [<ul id=\"fruits\"> ... </ul>]\n *\n * @param {string} [selector] - Selector for the element to find.\n *\n * @see {@link http://api.jquery.com/closest/}\n */\nexports.closest = function (selector) {\n  var set = [];\n\n  if (!selector) {\n    return this._make(set);\n  }\n\n  domEach(this, function (idx, elem) {\n    var closestElem = traverseParents(this, elem, selector, 1)[0];\n\n    // Do not add duplicate elements to the set\n    if (closestElem && set.indexOf(closestElem) < 0) {\n      set.push(closestElem);\n    }\n  });\n\n  return this._make(set);\n};\n\n/**\n * Gets the next sibling of the first selected element, optionally filtered by\n * a selector.\n *\n * @example\n *\n * $('.apple').next().hasClass('orange')\n * //=> true\n *\n * @param {string} [selector] - If specified filter for sibling.\n *\n * @see {@link http://api.jquery.com/next/}\n */\nexports.next = function (selector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.next)) {\n      if (isTag(elem)) {\n        elems.push(elem);\n        return;\n      }\n    }\n  });\n\n  return selector\n    ? exports.filter.call(elems, selector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets all the following siblings of the first selected element, optionally\n * filtered by a selector.\n *\n * @example\n *\n * $('.apple').nextAll()\n * //=> [<li class=\"orange\">Orange</li>, <li class=\"pear\">Pear</li>]\n * $('.apple').nextAll('.orange')\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * @param {string} [selector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/nextAll/}\n */\nexports.nextAll = function (selector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.next)) {\n      if (isTag(elem) && elems.indexOf(elem) === -1) {\n        elems.push(elem);\n      }\n    }\n  });\n\n  return selector\n    ? exports.filter.call(elems, selector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets all the following siblings up to but not including the element matched\n * by the selector, optionally filtered by another selector.\n *\n * @example\n *\n * $('.apple').nextUntil('.pear')\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * @param {string|cheerio|node} selector - Selector for element to stop at.\n * @param {string} [filterSelector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/nextUntil/}\n */\nexports.nextUntil = function (selector, filterSelector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n  var untilNode;\n  var untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select.select(selector, this.nextAll().get(), this.options)[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.get();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.next)) {\n      if (\n        (untilNode && elem !== untilNode) ||\n        (untilNodes && untilNodes.indexOf(elem) === -1) ||\n        (!untilNode && !untilNodes)\n      ) {\n        if (isTag(elem) && elems.indexOf(elem) === -1) {\n          elems.push(elem);\n        }\n      } else {\n        break;\n      }\n    }\n  });\n\n  return filterSelector\n    ? exports.filter.call(elems, filterSelector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets the previous sibling of the first selected element optionally filtered\n * by a selector.\n *\n * @example\n *\n * $('.orange').prev().hasClass('apple')\n * //=> true\n *\n * @param {string} [selector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/prev/}\n */\nexports.prev = function (selector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.prev)) {\n      if (isTag(elem)) {\n        elems.push(elem);\n        return;\n      }\n    }\n  });\n\n  return selector\n    ? exports.filter.call(elems, selector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets all the preceding siblings of the first selected element, optionally\n * filtered by a selector.\n *\n * @example\n *\n * $('.pear').prevAll()\n * //=> [<li class=\"orange\">Orange</li>, <li class=\"apple\">Apple</li>]\n * $('.pear').prevAll('.orange')\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * @param {string} [selector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/prevAll/}\n */\nexports.prevAll = function (selector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.prev)) {\n      if (isTag(elem) && elems.indexOf(elem) === -1) {\n        elems.push(elem);\n      }\n    }\n  });\n\n  return selector\n    ? exports.filter.call(elems, selector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets all the preceding siblings up to but not including the element matched\n * by the selector, optionally filtered by another selector.\n *\n * @example\n *\n * $('.pear').prevUntil('.apple')\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * @param {string|cheerio|node} selector - Selector for element to stop at.\n * @param {string} [filterSelector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/prevUntil/}\n */\nexports.prevUntil = function (selector, filterSelector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n  var untilNode;\n  var untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select.select(selector, this.prevAll().get(), this.options)[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.get();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.prev)) {\n      if (\n        (untilNode && elem !== untilNode) ||\n        (untilNodes && untilNodes.indexOf(elem) === -1) ||\n        (!untilNode && !untilNodes)\n      ) {\n        if (isTag(elem) && elems.indexOf(elem) === -1) {\n          elems.push(elem);\n        }\n      } else {\n        break;\n      }\n    }\n  });\n\n  return filterSelector\n    ? exports.filter.call(elems, filterSelector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets the first selected element's siblings, excluding itself.\n *\n * @example\n *\n * $('.pear').siblings().length\n * //=> 2\n *\n * $('.pear').siblings('.orange').length\n * //=> 1\n *\n * @param {string} [selector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/siblings/}\n */\nexports.siblings = function (selector) {\n  var parent = this.parent();\n\n  var elems = (parent ? parent.children() : this.siblingsAndMe())\n    .toArray()\n    .filter(function (elem) {\n      return isTag(elem) && !this.is(elem);\n    }, this);\n\n  if (selector !== undefined) {\n    return exports.filter.call(elems, selector, this);\n  }\n  return this._make(elems);\n};\n\n/**\n * Gets the children of the first selected element.\n *\n * @example\n *\n * $('#fruits').children().length\n * //=> 3\n *\n * $('#fruits').children('.pear').text()\n * //=> Pear\n *\n * @param {string} [selector] - If specified filter for children.\n *\n * @see {@link http://api.jquery.com/children/}\n */\nexports.children = function (selector) {\n  var elems = this.toArray().reduce(function (newElems, elem) {\n    return newElems.concat(elem.children.filter(isTag));\n  }, []);\n\n  if (selector === undefined) return this._make(elems);\n\n  return exports.filter.call(elems, selector, this);\n};\n\n/**\n * Gets the children of each element in the set of matched elements, including\n * text and comment nodes.\n *\n * @example\n *\n * $('#fruits').contents().length\n * //=> 3\n *\n * @see {@link http://api.jquery.com/contents/}\n */\nexports.contents = function () {\n  var elems = this.toArray().reduce(function (newElems, elem) {\n    return newElems.concat(elem.children);\n  }, []);\n  return this._make(elems);\n};\n\n/**\n * Iterates over a cheerio object, executing a function for each matched\n * element. When the callback is fired, the function is fired in the context of\n * the DOM element, so `this` refers to the current element, which is\n * equivalent to the function parameter `element`. To break out of the `each`\n * loop early, return with `false`.\n *\n * @example\n *\n * const fruits = [];\n *\n * $('li').each(function(i, elem) {\n *   fruits[i] = $(this).text();\n * });\n *\n * fruits.join(', ');\n * //=> Apple, Orange, Pear\n *\n * @param {Function} fn - Function to execute.\n *\n * @see {@link http://api.jquery.com/each/}\n */\nexports.each = function (fn) {\n  var i = 0;\n  var len = this.length;\n  while (i < len && fn.call(this[i], i, this[i]) !== false) ++i;\n  return this;\n};\n\n/**\n * Pass each element in the current matched set through a function, producing a\n * new Cheerio object containing the return values. The function can return an\n * individual data item or an array of data items to be inserted into the\n * resulting set. If an array is returned, the elements inside the array are\n * inserted into the set. If the function returns null or undefined, no element\n * will be inserted.\n *\n * @example\n *\n * $('li').map(function(i, el) {\n *   // this === el\n *   return $(this).text();\n * }).get().join(' ');\n * //=> \"apple orange pear\"\n *\n * @param {Function} fn - Function to execute.\n *\n * @see {@link http://api.jquery.com/map/}\n */\nexports.map = function (fn) {\n  var elems = [];\n  for (var i = 0; i < this.length; i++) {\n    var el = this[i];\n    var val = fn.call(el, i, el);\n    if (val != null) {\n      elems = elems.concat(val);\n    }\n  }\n  return this._make(elems);\n};\n\nfunction getFilterFn(match) {\n  if (typeof match === 'function') {\n    return function (el, i) {\n      return match.call(el, i, el);\n    };\n  } else if (match.cheerio) {\n    return match.is.bind(match);\n  }\n  return function (el) {\n    return match === el;\n  };\n}\n\n/**\n * Iterates over a cheerio object, reducing the set of selector elements to\n * those that match the selector or pass the function's test. When a Cheerio\n * selection is specified, return only the elements contained in that\n * selection. When an element is specified, return only that element (if it is\n * contained in the original selection). If using the function method, the\n * function is executed in the context of the selected element, so `this`\n * refers to the current element.\n *\n * @function\n * @param {string | Function} match - Value to look for, following the rules above.\n * @param {node[]} container - Optional node to filter instead.\n *\n * @example <caption>Selector</caption>\n *\n * $('li').filter('.orange').attr('class');\n * //=> orange\n *\n * @example <caption>Function</caption>\n *\n * $('li').filter(function(i, el) {\n *   // this === el\n *   return $(this).attr('class') === 'orange';\n * }).attr('class')\n * //=> orange\n *\n * @see {@link http://api.jquery.com/filter/}\n */\nexports.filter = function (match, container) {\n  container = container || this;\n  var elements = this.toArray ? this.toArray() : this;\n\n  if (typeof match === 'string') {\n    elements = select.filter(match, elements, container.options);\n  } else {\n    elements = elements.filter(getFilterFn(match));\n  }\n\n  return container._make(elements);\n};\n\n/**\n * Remove elements from the set of matched elements. Given a jQuery object that\n * represents a set of DOM elements, the `.not()` method constructs a new\n * jQuery object from a subset of the matching elements. The supplied selector\n * is tested against each element; the elements that don't match the selector\n * will be included in the result. The `.not()` method can take a function as\n * its argument in the same way that `.filter()` does. Elements for which the\n * function returns true are excluded from the filtered set; all other elements\n * are included.\n *\n * @function\n * @param {string | Function} match - Value to look for, following the rules above.\n * @param {node[]} container - Optional node to filter instead.\n *\n * @example <caption>Selector</caption>\n *\n * $('li').not('.apple').length;\n * //=> 2\n *\n * @example <caption>Function</caption>\n *\n * $('li').not(function(i, el) {\n *   // this === el\n *   return $(this).attr('class') === 'orange';\n * }).length;\n * //=> 2\n *\n * @see {@link http://api.jquery.com/not/}\n */\nexports.not = function (match, container) {\n  container = container || this;\n  var elements = container.toArray ? container.toArray() : container;\n  var matches;\n  var filterFn;\n\n  if (typeof match === 'string') {\n    matches = new Set(select.filter(match, elements, this.options));\n    elements = elements.filter(function (el) {\n      return !matches.has(el);\n    });\n  } else {\n    filterFn = getFilterFn(match);\n    elements = elements.filter(function (el, i) {\n      return !filterFn(el, i);\n    });\n  }\n\n  return container._make(elements);\n};\n\n/**\n * Filters the set of matched elements to only those which have the given DOM\n * element as a descendant or which have a descendant that matches the given\n * selector. Equivalent to `.filter(':has(selector)')`.\n *\n * @example <caption>Selector</caption>\n *\n * $('ul').has('.pear').attr('id');\n * //=> fruits\n *\n * @example <caption>Element</caption>\n *\n * $('ul').has($('.pear')[0]).attr('id');\n * //=> fruits\n *\n * @param {string|cheerio|node} selectorOrHaystack - Element to look for.\n *\n * @see {@link http://api.jquery.com/has/}\n */\nexports.has = function (selectorOrHaystack) {\n  var that = this;\n  return exports.filter.call(this, function () {\n    return that._make(this).find(selectorOrHaystack).length > 0;\n  });\n};\n\n/**\n * Will select the first element of a cheerio object.\n *\n * @example\n *\n * $('#fruits').children().first().text()\n * //=> Apple\n *\n * @see {@link http://api.jquery.com/first/}\n */\nexports.first = function () {\n  return this.length > 1 ? this._make(this[0]) : this;\n};\n\n/**\n * Will select the last element of a cheerio object.\n *\n * @example\n *\n * $('#fruits').children().last().text()\n * //=> Pear\n *\n * @see {@link http://api.jquery.com/last/}\n */\nexports.last = function () {\n  return this.length > 1 ? this._make(this[this.length - 1]) : this;\n};\n\n/**\n * Reduce the set of matched elements to the one at the specified index. Use\n * `.eq(-i)` to count backwards from the last selected element.\n *\n * @example\n *\n * $('li').eq(0).text()\n * //=> Apple\n *\n * $('li').eq(-1).text()\n * //=> Pear\n *\n * @param {number} i - Index of the element to select.\n *\n * @see {@link http://api.jquery.com/eq/}\n */\nexports.eq = function (i) {\n  i = +i;\n\n  // Use the first identity optimization if possible\n  if (i === 0 && this.length <= 1) return this;\n\n  if (i < 0) i = this.length + i;\n  return this[i] ? this._make(this[i]) : this._make([]);\n};\n\n/**\n * Retrieve the DOM elements matched by the Cheerio object. If an index is\n * specified, retrieve one of the elements matched by the Cheerio object.\n *\n * @example\n *\n * $('li').get(0).tagName\n * //=> li\n *\n * If no index is specified, retrieve all elements matched by the Cheerio object:\n *\n * @example\n *\n * $('li').get().length\n * //=> 3\n *\n * @param {number} [i] - Element to retrieve.\n *\n * @see {@link http://api.jquery.com/get/}\n */\nexports.get = function (i) {\n  if (i == null) {\n    return Array.prototype.slice.call(this);\n  }\n  return this[i < 0 ? this.length + i : i];\n};\n\n/**\n * Search for a given element from among the matched elements.\n *\n * @example\n *\n * $('.pear').index()\n * //=> 2\n * $('.orange').index('li')\n * //=> 1\n * $('.apple').index($('#fruit, li'))\n * //=> 1\n *\n * @param {string|cheerio|node} [selectorOrNeedle] - Element to look for.\n *\n * @see {@link http://api.jquery.com/index/}\n */\nexports.index = function (selectorOrNeedle) {\n  var $haystack;\n  var needle;\n\n  if (arguments.length === 0) {\n    $haystack = this.parent().children();\n    needle = this[0];\n  } else if (typeof selectorOrNeedle === 'string') {\n    $haystack = this._make(selectorOrNeedle);\n    needle = this[0];\n  } else {\n    $haystack = this;\n    needle = selectorOrNeedle.cheerio ? selectorOrNeedle[0] : selectorOrNeedle;\n  }\n\n  return $haystack.get().indexOf(needle);\n};\n\n/**\n * Gets the elements matching the specified range.\n *\n * @example\n *\n * $('li').slice(1).eq(0).text()\n * //=> 'Orange'\n *\n * $('li').slice(1, 2).length\n * //=> 1\n *\n * @see {@link http://api.jquery.com/slice/}\n */\nexports.slice = function () {\n  return this._make([].slice.apply(this, arguments));\n};\n\nfunction traverseParents(self, elem, selector, limit) {\n  var elems = [];\n  while (elem && elems.length < limit && elem.type !== 'root') {\n    if (!selector || exports.filter.call([elem], selector, self).length) {\n      elems.push(elem);\n    }\n    elem = elem.parent;\n  }\n  return elems;\n}\n\n/**\n * End the most recent filtering operation in the current chain and return the\n * set of matched elements to its previous state.\n *\n * @example\n *\n * $('li').eq(0).end().length\n * //=> 3\n *\n * @see {@link http://api.jquery.com/end/}\n */\nexports.end = function () {\n  return this.prevObject || this._make([]);\n};\n\n/**\n * Add elements to the set of matched elements.\n *\n * @example\n *\n * $('.apple').add('.orange').length\n * //=> 2\n *\n * @param {string|cheerio} other - Elements to add.\n * @param {cheerio} [context] - Optionally the context of the new selection.\n *\n * @see {@link http://api.jquery.com/add/}\n */\nexports.add = function (other, context) {\n  var selection = this._make(other, context);\n  var contents = uniqueSort(selection.get().concat(this.get()));\n\n  for (var i = 0; i < contents.length; ++i) {\n    selection[i] = contents[i];\n  }\n  selection.length = contents.length;\n\n  return selection;\n};\n\n/**\n * Add the previous set of elements on the stack to the current set, optionally\n * filtered by a selector.\n *\n * @example\n *\n * $('li').eq(0).addBack('.orange').length\n * //=> 2\n *\n * @param {string} selector - Selector for the elements to add.\n *\n * @see {@link http://api.jquery.com/addBack/}\n */\nexports.addBack = function (selector) {\n  return this.add(\n    arguments.length ? this.prevObject.filter(selector) : this.prevObject\n  );\n};\n",
    "/*\n  Module dependencies\n*/\n\nvar parse = require('./parse');\nvar defaultOptions = require('./options').default;\nvar flattenOptions = require('./options').flatten;\nvar isHtml = require('./utils').isHtml;\n\n/*\n * The API\n */\nvar api = [\n  require('./api/attributes'),\n  require('./api/traversing'),\n  require('./api/manipulation'),\n  require('./api/css'),\n  require('./api/forms'),\n];\n\n/**\n * Instance of cheerio. Methods are specified in the modules.\n * Usage of this constructor is not recommended. Please use $.load instead.\n *\n * @class\n * @hideconstructor\n * @param {string|cheerio|node|node[]} selector - The new selection.\n * @param {string|cheerio|node|node[]} [context] - Context of the selection.\n * @param {string|cheerio|node|node[]} [root] - Sets the root node.\n * @param {object} [options] - Options for the instance.\n *\n * @mixes module:cheerio/attributes\n * @mixes module:cheerio/css\n * @mixes module:cheerio/forms\n * @mixes module:cheerio/manipulation\n * @mixes module:cheerio/traversing\n */\nvar Cheerio = (module.exports = function (selector, context, root, options) {\n  if (!(this instanceof Cheerio)) {\n    return new Cheerio(selector, context, root, options);\n  }\n\n  this.options = Object.assign(\n    {},\n    defaultOptions,\n    this.options,\n    flattenOptions(options)\n  );\n\n  // $(), $(null), $(undefined), $(false)\n  if (!selector) return this;\n\n  if (root) {\n    if (typeof root === 'string') root = parse(root, this.options, false);\n    this._root = Cheerio.call(this, root);\n  }\n\n  // $($)\n  if (selector.cheerio) return selector;\n\n  // $(dom)\n  if (isNode(selector)) selector = [selector];\n\n  // $([dom])\n  if (Array.isArray(selector)) {\n    selector.forEach(function (elem, idx) {\n      this[idx] = elem;\n    }, this);\n    this.length = selector.length;\n    return this;\n  }\n\n  // $(<html>)\n  if (typeof selector === 'string' && isHtml(selector)) {\n    return Cheerio.call(this, parse(selector, this.options, false).children);\n  }\n\n  // If we don't have a context, maybe we have a root, from loading\n  if (!context) {\n    context = this._root;\n  } else if (typeof context === 'string') {\n    if (isHtml(context)) {\n      // $('li', '<ul>...</ul>')\n      context = parse(context, this.options, false);\n      context = Cheerio.call(this, context);\n    } else {\n      // $('li', 'ul')\n      selector = [context, selector].join(' ');\n      context = this._root;\n    }\n  } else if (!context.cheerio) {\n    // $('li', node), $('li', [nodes])\n    context = Cheerio.call(this, context);\n  }\n\n  // If we still don't have a context, return\n  if (!context) return this;\n\n  // #id, .class, tag\n  return context.find(selector);\n});\n\n/*\n * Set a signature of the object\n */\nCheerio.prototype.cheerio = '[cheerio object]';\n\n/*\n * Make cheerio an array-like object\n */\nCheerio.prototype.length = 0;\nCheerio.prototype.splice = Array.prototype.splice;\n\n/*\n * Make a cheerio object\n *\n * @private\n */\nCheerio.prototype._make = function (dom, context) {\n  var cheerio = new this.constructor(dom, context, this._root, this.options);\n  cheerio.prevObject = this;\n  return cheerio;\n};\n\n/**\n * Retrieve all the DOM elements contained in the jQuery set as an array.\n *\n * @example\n * $('li').toArray()\n * //=> [ {...}, {...}, {...} ]\n */\nCheerio.prototype.toArray = function () {\n  return this.get();\n};\n\n// Support for (const element of $(...)) iteration:\nif (typeof Symbol !== 'undefined') {\n  Cheerio.prototype[Symbol.iterator] = Array.prototype[Symbol.iterator];\n}\n\n// Plug in the API\napi.forEach(function (mod) {\n  Object.assign(Cheerio.prototype, mod);\n});\n\nvar isNode = function (obj) {\n  return (\n    obj.name ||\n    obj.type === 'root' ||\n    obj.type === 'text' ||\n    obj.type === 'comment'\n  );\n};\n",
    "/*\n * Cheerio default options\n */\n\nexports.default = {\n  xml: false,\n  decodeEntities: true,\n};\n\nvar xmlModeDefault = { _useHtmlParser2: true, xmlMode: true };\n\nexports.flatten = function (options) {\n  return options && options.xml\n    ? typeof options.xml === 'boolean'\n      ? xmlModeDefault\n      : Object.assign({}, xmlModeDefault, options.xml)\n    : options;\n};\n",
    "/*\n  Module Dependencies\n*/\nvar htmlparser = require('htmlparser2');\nvar parse5 = require('parse5');\nvar htmlparser2Adapter = require('parse5-htmlparser2-tree-adapter');\nvar domhandler = require('domhandler');\nvar DomUtils = htmlparser.DomUtils;\n\n/*\n  Parser\n*/\nexports = module.exports = function parse(content, options, isDocument) {\n  // options = options || $.fn.options;\n\n  var dom;\n\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(content)) {\n    content = content.toString();\n  }\n\n  if (typeof content === 'string') {\n    var useHtmlParser2 = options.xmlMode || options._useHtmlParser2;\n\n    dom = useHtmlParser2\n      ? htmlparser.parseDocument(content, options)\n      : parseWithParse5(content, options, isDocument);\n  } else {\n    if (\n      typeof content === 'object' &&\n      content != null &&\n      content.type === 'root'\n    ) {\n      dom = content;\n    } else {\n      // Generic root element\n      var root = new domhandler.Document(content);\n      content.forEach(function (node) {\n        node.parent = root;\n      });\n\n      dom = root;\n    }\n  }\n\n  return dom;\n};\n\nfunction parseWithParse5(content, options, isDocument) {\n  var parse = isDocument ? parse5.parse : parse5.parseFragment;\n\n  return parse(content, {\n    treeAdapter: htmlparser2Adapter,\n    sourceCodeLocationInfo: options.sourceCodeLocationInfo,\n  });\n}\n\n/*\n  Update the dom structure, for one changed layer\n*/\nexports.update = function (arr, parent) {\n  // normalize\n  if (!Array.isArray(arr)) arr = [arr];\n\n  // Update parent\n  if (parent) {\n    parent.children = arr;\n  } else {\n    parent = null;\n  }\n\n  // Update neighbors\n  for (var i = 0; i < arr.length; i++) {\n    var node = arr[i];\n\n    // Cleanly remove existing nodes from their previous structures.\n    if (node.parent && node.parent.children !== arr) {\n      DomUtils.removeElement(node);\n    }\n\n    if (parent) {\n      node.prev = arr[i - 1] || null;\n      node.next = arr[i + 1] || null;\n    } else {\n      node.prev = node.next = null;\n    }\n\n    node.parent = parent;\n  }\n\n  return parent;\n};\n",
    "var htmlparser2Adapter = require('parse5-htmlparser2-tree-adapter');\n\n/**\n * @module cheerio/static\n * @ignore\n */\n\nvar serialize = require('dom-serializer').default;\nvar defaultOptions = require('./options').default;\nvar flattenOptions = require('./options').flatten;\nvar select = require('cheerio-select-tmp').select;\nvar parse5 = require('parse5');\nvar parse = require('./parse');\n\n/**\n * Create a querying function, bound to a document created from the provided\n * markup. Note that similar to web browser contexts, this operation may\n * introduce `<html>`, `<head>`, and `<body>` elements; set `isDocument` to `false`\n * to switch to fragment mode and disable this.\n *\n * See the README section titled \"Loading\" for additional usage information.\n *\n * @param {string} content - Markup to be loaded.\n * @param {object} [options] - Options for the created instance.\n * @param {boolean} [isDocument] - Allows parser to be switched to fragment mode.\n *\n */\nexports.load = function (content, options, isDocument) {\n  if (content === null || content === undefined) {\n    throw new Error('cheerio.load() expects a string');\n  }\n\n  var Cheerio = require('./cheerio');\n\n  options = Object.assign({}, defaultOptions, flattenOptions(options));\n\n  if (isDocument === void 0) isDocument = true;\n\n  var root = parse(content, options, isDocument);\n\n  var initialize = function (selector, context, r, opts) {\n    if (!(this instanceof initialize)) {\n      return new initialize(selector, context, r, opts);\n    }\n    opts = Object.assign({}, options, opts);\n    return Cheerio.call(this, selector, context, r || root, opts);\n  };\n\n  // Ensure that selections created by the \"loaded\" `initialize` function are\n  // true Cheerio instances.\n  initialize.prototype = Object.create(Cheerio.prototype);\n  initialize.prototype.constructor = initialize;\n\n  // Mimic jQuery's prototype alias for plugin authors.\n  initialize.fn = initialize.prototype;\n\n  // Keep a reference to the top-level scope so we can chain methods that implicitly\n  // resolve selectors; e.g. $(\"<span>\").(\".bar\"), which otherwise loses ._root\n  initialize.prototype._originalRoot = root;\n\n  // Add in the static methods\n  Object.assign(initialize, exports);\n\n  // Add in the root\n  initialize._root = root;\n  // store options\n  initialize._options = options;\n\n  return initialize;\n};\n\n/*\n * Helper function\n */\n\nfunction render(that, dom, options) {\n  if (!dom) {\n    if (that._root && that._root.children) {\n      dom = that._root.children;\n    } else {\n      return '';\n    }\n  } else if (typeof dom === 'string') {\n    dom = select(dom, that._root, options);\n  }\n\n  if (options.xmlMode || options._useHtmlParser2) {\n    return serialize(dom, options);\n  }\n\n  // `dom-serializer` passes over the special \"root\" node and renders the\n  // node's children in its place. To mimic this behavior with `parse5`, an\n  // equivalent operation must be applied to the input array.\n  var nodes = 'length' in dom ? dom : [dom];\n  for (var index = 0; index < nodes.length; index += 1) {\n    if (nodes[index].type === 'root') {\n      nodes.splice.apply(nodes, [index, 1].concat(nodes[index].children));\n    }\n  }\n\n  return parse5.serialize(\n    { children: nodes },\n    { treeAdapter: htmlparser2Adapter }\n  );\n}\n\n/**\n * Renders the document.\n *\n * @param {string|cheerio|node} [dom] - Element to render.\n * @param {object} [options] - Options for the renderer.\n */\nexports.html = function (dom, options) {\n  // be flexible about parameters, sometimes we call html(),\n  // with options as only parameter\n  // check dom argument for dom element specific properties\n  // assume there is no 'length' or 'type' properties in the options object\n  if (\n    Object.prototype.toString.call(dom) === '[object Object]' &&\n    !options &&\n    !('length' in dom) &&\n    !('type' in dom)\n  ) {\n    options = dom;\n    dom = undefined;\n  }\n\n  // sometimes $.html() used without preloading html\n  // so fallback non existing options to the default ones\n  options = Object.assign(\n    {},\n    defaultOptions,\n    this._options,\n    flattenOptions(options || {})\n  );\n\n  return render(this, dom, options);\n};\n\n/**\n * Render the document as XML.\n *\n * @param {string|cheerio|node} [dom] - Element to render.\n */\nexports.xml = function (dom) {\n  var options = Object.assign({}, this._options, { xmlMode: true });\n\n  return render(this, dom, options);\n};\n\n/**\n * Render the document as text.\n *\n * @param {string|cheerio|node} [elems] - Elements to render.\n */\nexports.text = function (elems) {\n  if (!elems) {\n    elems = this.root();\n  }\n\n  var ret = '';\n  var len = elems.length;\n  var elem;\n\n  for (var i = 0; i < len; i++) {\n    elem = elems[i];\n    if (elem.type === 'text') ret += elem.data;\n    else if (\n      elem.children &&\n      elem.type !== 'comment' &&\n      elem.tagName !== 'script' &&\n      elem.tagName !== 'style'\n    ) {\n      ret += exports.text(elem.children);\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Parses a string into an array of DOM nodes. The `context` argument has no\n * meaning for Cheerio, but it is maintained for API compatibility with jQuery.\n *\n * @param {string} data - Markup that will be parsed.\n * @param {any|boolean} [context] - Will be ignored. If it is a boolean it will be used as the value of `keepScripts`.\n * @param {boolean} [keepScripts] - If false all scripts will be removed.\n *\n * @alias Cheerio.parseHTML\n * @see {@link https://api.jquery.com/jQuery.parseHTML/}\n */\nexports.parseHTML = function (data, context, keepScripts) {\n  var parsed;\n\n  if (!data || typeof data !== 'string') {\n    return null;\n  }\n\n  if (typeof context === 'boolean') {\n    keepScripts = context;\n  }\n\n  parsed = this.load(data, defaultOptions, false);\n  if (!keepScripts) {\n    parsed('script').remove();\n  }\n\n  // The `children` array is used by Cheerio internally to group elements that\n  // share the same parents. When nodes created through `parseHTML` are\n  // inserted into previously-existing DOM structures, they will be removed\n  // from the `children` array. The results of `parseHTML` should remain\n  // constant across these operations, so a shallow copy should be returned.\n  return parsed.root()[0].children.slice();\n};\n\n/**\n * Sometimes you need to work with the top-level root element. To query it, you\n * can use `$.root()`.\n *\n * @alias Cheerio.root\n *\n * @example\n * $.root().append('<ul id=\"vegetables\"></ul>').html();\n * //=> <ul id=\"fruits\">...</ul><ul id=\"vegetables\"></ul>\n */\nexports.root = function () {\n  return this(this._root);\n};\n\n/**\n * Checks to see if the `contained` DOM element is a descendant of the\n * `container` DOM element.\n *\n * @param {node} container - Potential parent node.\n * @param {node} contained - Potential child node.\n * @returns {boolean}\n *\n * @alias Cheerio.contains\n * @see {@link https://api.jquery.com/jQuery.contains}\n */\nexports.contains = function (container, contained) {\n  // According to the jQuery API, an element does not \"contain\" itself\n  if (contained === container) {\n    return false;\n  }\n\n  // Step up the descendants, stopping when the root element is reached\n  // (signaled by `.parent` returning a reference to the same object)\n  while (contained && contained !== contained.parent) {\n    contained = contained.parent;\n    if (contained === container) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * $.merge().\n *\n * @param {Array|cheerio} arr1 - First array.\n * @param {Array|cheerio} arr2 - Second array.\n *\n * @alias Cheerio.merge\n * @see {@link https://api.jquery.com/jQuery.merge}\n */\nexports.merge = function (arr1, arr2) {\n  if (!isArrayLike(arr1) || !isArrayLike(arr2)) {\n    return;\n  }\n  var newLength = arr1.length + arr2.length;\n  for (var i = 0; i < arr2.length; i++) {\n    arr1[i + arr1.length] = arr2[i];\n  }\n  arr1.length = newLength;\n  return arr1;\n};\n\nfunction isArrayLike(item) {\n  if (Array.isArray(item)) {\n    return true;\n  }\n\n  if (\n    typeof item !== 'object' ||\n    !Object.prototype.hasOwnProperty.call(item, 'length') ||\n    typeof item.length !== 'number' ||\n    item.length < 0\n  ) {\n    return false;\n  }\n\n  for (var i = 0; i < item.length; i++) {\n    if (!(i in item)) {\n      return false;\n    }\n  }\n  return true;\n}\n",
    "var htmlparser2 = require('htmlparser2');\nvar domhandler = require('domhandler');\n\n/**\n * Check if the DOM element is a tag.\n *\n * `isTag(type)` includes `<script>` and `<style>` tags.\n *\n * @param {node} type - DOM node to check.\n * @returns {boolean}\n *\n * @private\n */\nexports.isTag = htmlparser2.DomUtils.isTag;\n\n/**\n * Convert a string to camel case notation.\n *\n * @param  {string} str - String to be converted.\n * @returns {string}      String in camel case notation.\n *\n * @private\n */\nexports.camelCase = function (str) {\n  return str.replace(/[_.-](\\w|$)/g, function (_, x) {\n    return x.toUpperCase();\n  });\n};\n\n/**\n * Convert a string from camel case to \"CSS case\", where word boundaries are\n * described by hyphens (\"-\") and all characters are lower-case.\n *\n * @param  {string} str - String to be converted.\n * @returns {string}      String in \"CSS case\".\n *\n * @private\n */\nexports.cssCase = function (str) {\n  return str.replace(/[A-Z]/g, '-$&').toLowerCase();\n};\n\n/**\n * Iterate over each DOM element without creating intermediary Cheerio\n * instances.\n *\n * This is indented for use internally to avoid otherwise unnecessary memory\n * pressure introduced by _make.\n *\n * @param {cheerio} cheerio - Cheerio object.\n * @param {Function} fn - Function to call.\n */\nexports.domEach = function (cheerio, fn) {\n  var i = 0;\n  var len = cheerio.length;\n  while (i < len && fn.call(cheerio, i, cheerio[i]) !== false) ++i;\n  return cheerio;\n};\n\n/**\n * Create a deep copy of the given DOM structure.\n * Sets the parents of the copies of the passed nodes to `null`.\n *\n * @param {object} dom - The htmlparser2-compliant DOM structure.\n * @private\n */\nexports.cloneDom = function (dom) {\n  var clone =\n    'length' in dom\n      ? Array.prototype.map.call(dom, function (el) {\n          return domhandler.cloneNode(el, true);\n        })\n      : [domhandler.cloneNode(dom, true)];\n\n  // Add a root node around the cloned nodes\n  var root = new domhandler.Document(clone);\n  clone.forEach(function (node) {\n    node.parent = root;\n  });\n\n  return clone;\n};\n\n/*\n * A simple way to check for HTML strings or ID strings\n */\nvar quickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w-]*)$)/;\n\n/**\n * Check if string is HTML.\n *\n * @param {string} str - String to check.\n *\n * @private\n */\nexports.isHtml = function (str) {\n  // Faster than running regex, if str starts with `<` and ends with `>`, assume it's HTML\n  if (\n    str.charAt(0) === '<' &&\n    str.charAt(str.length - 1) === '>' &&\n    str.length >= 3\n  ) {\n    return true;\n  }\n\n  // Run the regex\n  var match = quickExpr.exec(str);\n  return !!(match && match[1]);\n};\n",
    "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseFeed = exports.FeedHandler = void 0;\nvar domhandler_1 = __importDefault(require(\"domhandler\"));\nvar DomUtils = __importStar(require(\"domutils\"));\nvar Parser_1 = require(\"./Parser\");\nvar FeedItemMediaMedium;\n(function (FeedItemMediaMedium) {\n    FeedItemMediaMedium[FeedItemMediaMedium[\"image\"] = 0] = \"image\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"audio\"] = 1] = \"audio\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"video\"] = 2] = \"video\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"document\"] = 3] = \"document\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"executable\"] = 4] = \"executable\";\n})(FeedItemMediaMedium || (FeedItemMediaMedium = {}));\nvar FeedItemMediaExpression;\n(function (FeedItemMediaExpression) {\n    FeedItemMediaExpression[FeedItemMediaExpression[\"sample\"] = 0] = \"sample\";\n    FeedItemMediaExpression[FeedItemMediaExpression[\"full\"] = 1] = \"full\";\n    FeedItemMediaExpression[FeedItemMediaExpression[\"nonstop\"] = 2] = \"nonstop\";\n})(FeedItemMediaExpression || (FeedItemMediaExpression = {}));\n// TODO: Consume data as it is coming in\nvar FeedHandler = /** @class */ (function (_super) {\n    __extends(FeedHandler, _super);\n    /**\n     *\n     * @param callback\n     * @param options\n     */\n    function FeedHandler(callback, options) {\n        var _this = this;\n        if (typeof callback === \"object\") {\n            callback = undefined;\n            options = callback;\n        }\n        _this = _super.call(this, callback, options) || this;\n        return _this;\n    }\n    FeedHandler.prototype.onend = function () {\n        var _a, _b;\n        var feedRoot = getOneElement(isValidFeed, this.dom);\n        if (!feedRoot) {\n            this.handleCallback(new Error(\"couldn't find root of feed\"));\n            return;\n        }\n        var feed = {};\n        if (feedRoot.name === \"feed\") {\n            var childs = feedRoot.children;\n            feed.type = \"atom\";\n            addConditionally(feed, \"id\", \"id\", childs);\n            addConditionally(feed, \"title\", \"title\", childs);\n            var href = getAttribute(\"href\", getOneElement(\"link\", childs));\n            if (href) {\n                feed.link = href;\n            }\n            addConditionally(feed, \"description\", \"subtitle\", childs);\n            var updated = fetch(\"updated\", childs);\n            if (updated) {\n                feed.updated = new Date(updated);\n            }\n            addConditionally(feed, \"author\", \"email\", childs, true);\n            feed.items = getElements(\"entry\", childs).map(function (item) {\n                var entry = {};\n                var children = item.children;\n                addConditionally(entry, \"id\", \"id\", children);\n                addConditionally(entry, \"title\", \"title\", children);\n                var href = getAttribute(\"href\", getOneElement(\"link\", children));\n                if (href) {\n                    entry.link = href;\n                }\n                var description = fetch(\"summary\", children) || fetch(\"content\", children);\n                if (description) {\n                    entry.description = description;\n                }\n                var pubDate = fetch(\"updated\", children);\n                if (pubDate) {\n                    entry.pubDate = new Date(pubDate);\n                }\n                entry.media = getMediaElements(children);\n                return entry;\n            });\n        }\n        else {\n            var childs = (_b = (_a = getOneElement(\"channel\", feedRoot.children)) === null || _a === void 0 ? void 0 : _a.children) !== null && _b !== void 0 ? _b : [];\n            feed.type = feedRoot.name.substr(0, 3);\n            feed.id = \"\";\n            addConditionally(feed, \"title\", \"title\", childs);\n            addConditionally(feed, \"link\", \"link\", childs);\n            addConditionally(feed, \"description\", \"description\", childs);\n            var updated = fetch(\"lastBuildDate\", childs);\n            if (updated) {\n                feed.updated = new Date(updated);\n            }\n            addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n            feed.items = getElements(\"item\", feedRoot.children).map(function (item) {\n                var entry = {};\n                var children = item.children;\n                addConditionally(entry, \"id\", \"guid\", children);\n                addConditionally(entry, \"title\", \"title\", children);\n                addConditionally(entry, \"link\", \"link\", children);\n                addConditionally(entry, \"description\", \"description\", children);\n                var pubDate = fetch(\"pubDate\", children);\n                if (pubDate)\n                    entry.pubDate = new Date(pubDate);\n                entry.media = getMediaElements(children);\n                return entry;\n            });\n        }\n        this.feed = feed;\n        this.handleCallback(null);\n    };\n    return FeedHandler;\n}(domhandler_1.default));\nexports.FeedHandler = FeedHandler;\nfunction getMediaElements(where) {\n    return getElements(\"media:content\", where).map(function (elem) {\n        var media = {\n            medium: elem.attribs.medium,\n            isDefault: !!elem.attribs.isDefault,\n        };\n        if (elem.attribs.url) {\n            media.url = elem.attribs.url;\n        }\n        if (elem.attribs.fileSize) {\n            media.fileSize = parseInt(elem.attribs.fileSize, 10);\n        }\n        if (elem.attribs.type) {\n            media.type = elem.attribs.type;\n        }\n        if (elem.attribs.expression) {\n            media.expression = elem.attribs\n                .expression;\n        }\n        if (elem.attribs.bitrate) {\n            media.bitrate = parseInt(elem.attribs.bitrate, 10);\n        }\n        if (elem.attribs.framerate) {\n            media.framerate = parseInt(elem.attribs.framerate, 10);\n        }\n        if (elem.attribs.samplingrate) {\n            media.samplingrate = parseInt(elem.attribs.samplingrate, 10);\n        }\n        if (elem.attribs.channels) {\n            media.channels = parseInt(elem.attribs.channels, 10);\n        }\n        if (elem.attribs.duration) {\n            media.duration = parseInt(elem.attribs.duration, 10);\n        }\n        if (elem.attribs.height) {\n            media.height = parseInt(elem.attribs.height, 10);\n        }\n        if (elem.attribs.width) {\n            media.width = parseInt(elem.attribs.width, 10);\n        }\n        if (elem.attribs.lang) {\n            media.lang = elem.attribs.lang;\n        }\n        return media;\n    });\n}\nfunction getElements(tagName, where) {\n    return DomUtils.getElementsByTagName(tagName, where, true);\n}\nfunction getOneElement(tagName, node) {\n    return DomUtils.getElementsByTagName(tagName, node, true, 1)[0];\n}\nfunction fetch(tagName, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    return DomUtils.getText(DomUtils.getElementsByTagName(tagName, where, recurse, 1)).trim();\n}\nfunction getAttribute(name, elem) {\n    if (!elem) {\n        return null;\n    }\n    var attribs = elem.attribs;\n    return attribs[name];\n}\nfunction addConditionally(obj, prop, what, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    var tmp = fetch(what, where, recurse);\n    if (tmp)\n        obj[prop] = tmp;\n}\nfunction isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n}\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this option, you should set `xmlMode` to `true`.\n */\nfunction parseFeed(feed, options) {\n    if (options === void 0) { options = { xmlMode: true }; }\n    var handler = new FeedHandler(options);\n    new Parser_1.Parser(handler, options).end(feed);\n    return handler.feed;\n}\nexports.parseFeed = parseFeed;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Parser = void 0;\nvar Tokenizer_1 = __importDefault(require(\"./Tokenizer\"));\nvar formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\",\n]);\nvar pTag = new Set([\"p\"]);\nvar openImpliesClose = {\n    tr: new Set([\"tr\", \"th\", \"td\"]),\n    th: new Set([\"th\"]),\n    td: new Set([\"thead\", \"th\", \"td\"]),\n    body: new Set([\"head\", \"link\", \"script\"]),\n    li: new Set([\"li\"]),\n    p: pTag,\n    h1: pTag,\n    h2: pTag,\n    h3: pTag,\n    h4: pTag,\n    h5: pTag,\n    h6: pTag,\n    select: formTags,\n    input: formTags,\n    output: formTags,\n    button: formTags,\n    datalist: formTags,\n    textarea: formTags,\n    option: new Set([\"option\"]),\n    optgroup: new Set([\"optgroup\", \"option\"]),\n    dd: new Set([\"dt\", \"dd\"]),\n    dt: new Set([\"dt\", \"dd\"]),\n    address: pTag,\n    article: pTag,\n    aside: pTag,\n    blockquote: pTag,\n    details: pTag,\n    div: pTag,\n    dl: pTag,\n    fieldset: pTag,\n    figcaption: pTag,\n    figure: pTag,\n    footer: pTag,\n    form: pTag,\n    header: pTag,\n    hr: pTag,\n    main: pTag,\n    nav: pTag,\n    ol: pTag,\n    pre: pTag,\n    section: pTag,\n    table: pTag,\n    ul: pTag,\n    rt: new Set([\"rt\", \"rp\"]),\n    rp: new Set([\"rt\", \"rp\"]),\n    tbody: new Set([\"thead\", \"tbody\"]),\n    tfoot: new Set([\"thead\", \"tbody\"]),\n};\nvar voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\nvar foreignContextElements = new Set([\"math\", \"svg\"]);\nvar htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nvar reNameEnd = /\\s|\\//;\nvar Parser = /** @class */ (function () {\n    function Parser(cbs, options) {\n        if (options === void 0) { options = {}; }\n        var _a, _b, _c, _d, _e;\n        /** The start index of the last event. */\n        this.startIndex = 0;\n        /** The end index of the last event. */\n        this.endIndex = null;\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n        this.attribs = null;\n        this.stack = [];\n        this.foreignContext = [];\n        this.options = options;\n        this.cbs = cbs !== null && cbs !== void 0 ? cbs : {};\n        this.lowerCaseTagNames = (_a = options.lowerCaseTags) !== null && _a !== void 0 ? _a : !options.xmlMode;\n        this.lowerCaseAttributeNames =\n            (_b = options.lowerCaseAttributeNames) !== null && _b !== void 0 ? _b : !options.xmlMode;\n        this.tokenizer = new ((_c = options.Tokenizer) !== null && _c !== void 0 ? _c : Tokenizer_1.default)(this.options, this);\n        (_e = (_d = this.cbs).onparserinit) === null || _e === void 0 ? void 0 : _e.call(_d, this);\n    }\n    Parser.prototype.updatePosition = function (initialOffset) {\n        if (this.endIndex === null) {\n            if (this.tokenizer.sectionStart <= initialOffset) {\n                this.startIndex = 0;\n            }\n            else {\n                this.startIndex = this.tokenizer.sectionStart - initialOffset;\n            }\n        }\n        else {\n            this.startIndex = this.endIndex + 1;\n        }\n        this.endIndex = this.tokenizer.getAbsoluteIndex();\n    };\n    // Tokenizer event handlers\n    Parser.prototype.ontext = function (data) {\n        var _a, _b;\n        this.updatePosition(1);\n        this.endIndex--;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, data);\n    };\n    Parser.prototype.onopentagname = function (name) {\n        var _a, _b;\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        this.tagname = name;\n        if (!this.options.xmlMode &&\n            Object.prototype.hasOwnProperty.call(openImpliesClose, name)) {\n            var el = void 0;\n            while (this.stack.length > 0 &&\n                openImpliesClose[name].has((el = this.stack[this.stack.length - 1]))) {\n                this.onclosetag(el);\n            }\n        }\n        if (this.options.xmlMode || !voidElements.has(name)) {\n            this.stack.push(name);\n            if (foreignContextElements.has(name)) {\n                this.foreignContext.push(true);\n            }\n            else if (htmlIntegrationElements.has(name)) {\n                this.foreignContext.push(false);\n            }\n        }\n        (_b = (_a = this.cbs).onopentagname) === null || _b === void 0 ? void 0 : _b.call(_a, name);\n        if (this.cbs.onopentag)\n            this.attribs = {};\n    };\n    Parser.prototype.onopentagend = function () {\n        var _a, _b;\n        this.updatePosition(1);\n        if (this.attribs) {\n            (_b = (_a = this.cbs).onopentag) === null || _b === void 0 ? void 0 : _b.call(_a, this.tagname, this.attribs);\n            this.attribs = null;\n        }\n        if (!this.options.xmlMode &&\n            this.cbs.onclosetag &&\n            voidElements.has(this.tagname)) {\n            this.cbs.onclosetag(this.tagname);\n        }\n        this.tagname = \"\";\n    };\n    Parser.prototype.onclosetag = function (name) {\n        this.updatePosition(1);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        if (foreignContextElements.has(name) ||\n            htmlIntegrationElements.has(name)) {\n            this.foreignContext.pop();\n        }\n        if (this.stack.length &&\n            (this.options.xmlMode || !voidElements.has(name))) {\n            var pos = this.stack.lastIndexOf(name);\n            if (pos !== -1) {\n                if (this.cbs.onclosetag) {\n                    pos = this.stack.length - pos;\n                    while (pos--) {\n                        // We know the stack has sufficient elements.\n                        this.cbs.onclosetag(this.stack.pop());\n                    }\n                }\n                else\n                    this.stack.length = pos;\n            }\n            else if (name === \"p\" && !this.options.xmlMode) {\n                this.onopentagname(name);\n                this.closeCurrentTag();\n            }\n        }\n        else if (!this.options.xmlMode && (name === \"br\" || name === \"p\")) {\n            this.onopentagname(name);\n            this.closeCurrentTag();\n        }\n    };\n    Parser.prototype.onselfclosingtag = function () {\n        if (this.options.xmlMode ||\n            this.options.recognizeSelfClosing ||\n            this.foreignContext[this.foreignContext.length - 1]) {\n            this.closeCurrentTag();\n        }\n        else {\n            this.onopentagend();\n        }\n    };\n    Parser.prototype.closeCurrentTag = function () {\n        var _a, _b;\n        var name = this.tagname;\n        this.onopentagend();\n        /*\n         * Self-closing tags will be on the top of the stack\n         * (cheaper check than in onclosetag)\n         */\n        if (this.stack[this.stack.length - 1] === name) {\n            (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, name);\n            this.stack.pop();\n        }\n    };\n    Parser.prototype.onattribname = function (name) {\n        if (this.lowerCaseAttributeNames) {\n            name = name.toLowerCase();\n        }\n        this.attribname = name;\n    };\n    Parser.prototype.onattribdata = function (value) {\n        this.attribvalue += value;\n    };\n    Parser.prototype.onattribend = function (quote) {\n        var _a, _b;\n        (_b = (_a = this.cbs).onattribute) === null || _b === void 0 ? void 0 : _b.call(_a, this.attribname, this.attribvalue, quote);\n        if (this.attribs &&\n            !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)) {\n            this.attribs[this.attribname] = this.attribvalue;\n        }\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n    };\n    Parser.prototype.getInstructionName = function (value) {\n        var idx = value.search(reNameEnd);\n        var name = idx < 0 ? value : value.substr(0, idx);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        return name;\n    };\n    Parser.prototype.ondeclaration = function (value) {\n        if (this.cbs.onprocessinginstruction) {\n            var name_1 = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(\"!\" + name_1, \"!\" + value);\n        }\n    };\n    Parser.prototype.onprocessinginstruction = function (value) {\n        if (this.cbs.onprocessinginstruction) {\n            var name_2 = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(\"?\" + name_2, \"?\" + value);\n        }\n    };\n    Parser.prototype.oncomment = function (value) {\n        var _a, _b, _c, _d;\n        this.updatePosition(4);\n        (_b = (_a = this.cbs).oncomment) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n        (_d = (_c = this.cbs).oncommentend) === null || _d === void 0 ? void 0 : _d.call(_c);\n    };\n    Parser.prototype.oncdata = function (value) {\n        var _a, _b, _c, _d, _e, _f;\n        this.updatePosition(1);\n        if (this.options.xmlMode || this.options.recognizeCDATA) {\n            (_b = (_a = this.cbs).oncdatastart) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_d = (_c = this.cbs).ontext) === null || _d === void 0 ? void 0 : _d.call(_c, value);\n            (_f = (_e = this.cbs).oncdataend) === null || _f === void 0 ? void 0 : _f.call(_e);\n        }\n        else {\n            this.oncomment(\"[CDATA[\" + value + \"]]\");\n        }\n    };\n    Parser.prototype.onerror = function (err) {\n        var _a, _b;\n        (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    Parser.prototype.onend = function () {\n        var _a, _b;\n        if (this.cbs.onclosetag) {\n            for (var i = this.stack.length; i > 0; this.cbs.onclosetag(this.stack[--i]))\n                ;\n        }\n        (_b = (_a = this.cbs).onend) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    /**\n     * Resets the parser to a blank state, ready to parse a new HTML document\n     */\n    Parser.prototype.reset = function () {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.cbs).onreset) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.tokenizer.reset();\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribs = null;\n        this.stack = [];\n        (_d = (_c = this.cbs).onparserinit) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n    };\n    /**\n     * Resets the parser, then parses a complete document and\n     * pushes it to the handler.\n     *\n     * @param data Document to parse.\n     */\n    Parser.prototype.parseComplete = function (data) {\n        this.reset();\n        this.end(data);\n    };\n    /**\n     * Parses a chunk of data and calls the corresponding callbacks.\n     *\n     * @param chunk Chunk to parse.\n     */\n    Parser.prototype.write = function (chunk) {\n        this.tokenizer.write(chunk);\n    };\n    /**\n     * Parses the end of the buffer and clears the stack, calls onend.\n     *\n     * @param chunk Optional final chunk to parse.\n     */\n    Parser.prototype.end = function (chunk) {\n        this.tokenizer.end(chunk);\n    };\n    /**\n     * Pauses parsing. The parser won't emit events until `resume` is called.\n     */\n    Parser.prototype.pause = function () {\n        this.tokenizer.pause();\n    };\n    /**\n     * Resumes parsing after `pause` was called.\n     */\n    Parser.prototype.resume = function () {\n        this.tokenizer.resume();\n    };\n    /**\n     * Alias of `write`, for backwards compatibility.\n     *\n     * @param chunk Chunk to parse.\n     * @deprecated\n     */\n    Parser.prototype.parseChunk = function (chunk) {\n        this.write(chunk);\n    };\n    /**\n     * Alias of `end`, for backwards compatibility.\n     *\n     * @param chunk Optional final chunk to parse.\n     * @deprecated\n     */\n    Parser.prototype.done = function (chunk) {\n        this.end(chunk);\n    };\n    return Parser;\n}());\nexports.Parser = Parser;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_codepoint_1 = __importDefault(require(\"entities/lib/decode_codepoint\"));\nvar entities_json_1 = __importDefault(require(\"entities/lib/maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"entities/lib/maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"entities/lib/maps/xml.json\"));\nfunction whitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\nfunction isASCIIAlpha(c) {\n    return (c >= \"a\" && c <= \"z\") || (c >= \"A\" && c <= \"Z\");\n}\nfunction ifElseState(upper, SUCCESS, FAILURE) {\n    var lower = upper.toLowerCase();\n    if (upper === lower) {\n        return function (t, c) {\n            if (c === lower) {\n                t._state = SUCCESS;\n            }\n            else {\n                t._state = FAILURE;\n                t._index--;\n            }\n        };\n    }\n    return function (t, c) {\n        if (c === lower || c === upper) {\n            t._state = SUCCESS;\n        }\n        else {\n            t._state = FAILURE;\n            t._index--;\n        }\n    };\n}\nfunction consumeSpecialNameChar(upper, NEXT_STATE) {\n    var lower = upper.toLowerCase();\n    return function (t, c) {\n        if (c === lower || c === upper) {\n            t._state = NEXT_STATE;\n        }\n        else {\n            t._state = 3 /* InTagName */;\n            t._index--; // Consume the token again\n        }\n    };\n}\nvar stateBeforeCdata1 = ifElseState(\"C\", 24 /* BeforeCdata2 */, 16 /* InDeclaration */);\nvar stateBeforeCdata2 = ifElseState(\"D\", 25 /* BeforeCdata3 */, 16 /* InDeclaration */);\nvar stateBeforeCdata3 = ifElseState(\"A\", 26 /* BeforeCdata4 */, 16 /* InDeclaration */);\nvar stateBeforeCdata4 = ifElseState(\"T\", 27 /* BeforeCdata5 */, 16 /* InDeclaration */);\nvar stateBeforeCdata5 = ifElseState(\"A\", 28 /* BeforeCdata6 */, 16 /* InDeclaration */);\nvar stateBeforeScript1 = consumeSpecialNameChar(\"R\", 35 /* BeforeScript2 */);\nvar stateBeforeScript2 = consumeSpecialNameChar(\"I\", 36 /* BeforeScript3 */);\nvar stateBeforeScript3 = consumeSpecialNameChar(\"P\", 37 /* BeforeScript4 */);\nvar stateBeforeScript4 = consumeSpecialNameChar(\"T\", 38 /* BeforeScript5 */);\nvar stateAfterScript1 = ifElseState(\"R\", 40 /* AfterScript2 */, 1 /* Text */);\nvar stateAfterScript2 = ifElseState(\"I\", 41 /* AfterScript3 */, 1 /* Text */);\nvar stateAfterScript3 = ifElseState(\"P\", 42 /* AfterScript4 */, 1 /* Text */);\nvar stateAfterScript4 = ifElseState(\"T\", 43 /* AfterScript5 */, 1 /* Text */);\nvar stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", 45 /* BeforeStyle2 */);\nvar stateBeforeStyle2 = consumeSpecialNameChar(\"L\", 46 /* BeforeStyle3 */);\nvar stateBeforeStyle3 = consumeSpecialNameChar(\"E\", 47 /* BeforeStyle4 */);\nvar stateAfterStyle1 = ifElseState(\"Y\", 49 /* AfterStyle2 */, 1 /* Text */);\nvar stateAfterStyle2 = ifElseState(\"L\", 50 /* AfterStyle3 */, 1 /* Text */);\nvar stateAfterStyle3 = ifElseState(\"E\", 51 /* AfterStyle4 */, 1 /* Text */);\nvar stateBeforeSpecialT = consumeSpecialNameChar(\"I\", 54 /* BeforeTitle1 */);\nvar stateBeforeTitle1 = consumeSpecialNameChar(\"T\", 55 /* BeforeTitle2 */);\nvar stateBeforeTitle2 = consumeSpecialNameChar(\"L\", 56 /* BeforeTitle3 */);\nvar stateBeforeTitle3 = consumeSpecialNameChar(\"E\", 57 /* BeforeTitle4 */);\nvar stateAfterSpecialTEnd = ifElseState(\"I\", 58 /* AfterTitle1 */, 1 /* Text */);\nvar stateAfterTitle1 = ifElseState(\"T\", 59 /* AfterTitle2 */, 1 /* Text */);\nvar stateAfterTitle2 = ifElseState(\"L\", 60 /* AfterTitle3 */, 1 /* Text */);\nvar stateAfterTitle3 = ifElseState(\"E\", 61 /* AfterTitle4 */, 1 /* Text */);\nvar stateBeforeEntity = ifElseState(\"#\", 63 /* BeforeNumericEntity */, 64 /* InNamedEntity */);\nvar stateBeforeNumericEntity = ifElseState(\"X\", 66 /* InHexEntity */, 65 /* InNumericEntity */);\nvar Tokenizer = /** @class */ (function () {\n    function Tokenizer(options, cbs) {\n        var _a;\n        /** The current state the tokenizer is in. */\n        this._state = 1 /* Text */;\n        /** The read buffer. */\n        this.buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this.sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this._index = 0;\n        /**\n         * Data that has already been processed will be removed from the buffer occasionally.\n         * `_bufferOffset` keeps track of how many characters have been removed, to make sure position information is accurate.\n         */\n        this.bufferOffset = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this.baseState = 1 /* Text */;\n        /** For special parsing behavior inside of script and style tags. */\n        this.special = 1 /* None */;\n        /** Indicates whether the tokenizer has been paused. */\n        this.running = true;\n        /** Indicates whether the tokenizer has finished running / `.end` has been called. */\n        this.ended = false;\n        this.cbs = cbs;\n        this.xmlMode = !!(options === null || options === void 0 ? void 0 : options.xmlMode);\n        this.decodeEntities = (_a = options === null || options === void 0 ? void 0 : options.decodeEntities) !== null && _a !== void 0 ? _a : true;\n    }\n    Tokenizer.prototype.reset = function () {\n        this._state = 1 /* Text */;\n        this.buffer = \"\";\n        this.sectionStart = 0;\n        this._index = 0;\n        this.bufferOffset = 0;\n        this.baseState = 1 /* Text */;\n        this.special = 1 /* None */;\n        this.running = true;\n        this.ended = false;\n    };\n    Tokenizer.prototype.write = function (chunk) {\n        if (this.ended)\n            this.cbs.onerror(Error(\".write() after done!\"));\n        this.buffer += chunk;\n        this.parse();\n    };\n    Tokenizer.prototype.end = function (chunk) {\n        if (this.ended)\n            this.cbs.onerror(Error(\".end() after done!\"));\n        if (chunk)\n            this.write(chunk);\n        this.ended = true;\n        if (this.running)\n            this.finish();\n    };\n    Tokenizer.prototype.pause = function () {\n        this.running = false;\n    };\n    Tokenizer.prototype.resume = function () {\n        this.running = true;\n        if (this._index < this.buffer.length) {\n            this.parse();\n        }\n        if (this.ended) {\n            this.finish();\n        }\n    };\n    /**\n     * The current index within all of the written data.\n     */\n    Tokenizer.prototype.getAbsoluteIndex = function () {\n        return this.bufferOffset + this._index;\n    };\n    Tokenizer.prototype.stateText = function (c) {\n        if (c === \"<\") {\n            if (this._index > this.sectionStart) {\n                this.cbs.ontext(this.getSection());\n            }\n            this._state = 2 /* BeforeTagName */;\n            this.sectionStart = this._index;\n        }\n        else if (this.decodeEntities &&\n            c === \"&\" &&\n            (this.special === 1 /* None */ || this.special === 4 /* Title */)) {\n            if (this._index > this.sectionStart) {\n                this.cbs.ontext(this.getSection());\n            }\n            this.baseState = 1 /* Text */;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeTagName = function (c) {\n        if (c === \"/\") {\n            this._state = 5 /* BeforeClosingTagName */;\n        }\n        else if (c === \"<\") {\n            this.cbs.ontext(this.getSection());\n            this.sectionStart = this._index;\n        }\n        else if (c === \">\" ||\n            this.special !== 1 /* None */ ||\n            whitespace(c)) {\n            this._state = 1 /* Text */;\n        }\n        else if (c === \"!\") {\n            this._state = 15 /* BeforeDeclaration */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"?\") {\n            this._state = 17 /* InProcessingInstruction */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (!isASCIIAlpha(c)) {\n            this._state = 1 /* Text */;\n        }\n        else {\n            this._state =\n                !this.xmlMode && (c === \"s\" || c === \"S\")\n                    ? 32 /* BeforeSpecialS */\n                    : !this.xmlMode && (c === \"t\" || c === \"T\")\n                        ? 52 /* BeforeSpecialT */\n                        : 3 /* InTagName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInTagName = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this.emitToken(\"onopentagname\");\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateBeforeClosingTagName = function (c) {\n        if (whitespace(c)) {\n            // Ignore\n        }\n        else if (c === \">\") {\n            this._state = 1 /* Text */;\n        }\n        else if (this.special !== 1 /* None */) {\n            if (this.special !== 4 /* Title */ && (c === \"s\" || c === \"S\")) {\n                this._state = 33 /* BeforeSpecialSEnd */;\n            }\n            else if (this.special === 4 /* Title */ &&\n                (c === \"t\" || c === \"T\")) {\n                this._state = 53 /* BeforeSpecialTEnd */;\n            }\n            else {\n                this._state = 1 /* Text */;\n                this._index--;\n            }\n        }\n        else if (!isASCIIAlpha(c)) {\n            this._state = 20 /* InSpecialComment */;\n            this.sectionStart = this._index;\n        }\n        else {\n            this._state = 6 /* InClosingTagName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInClosingTagName = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this.emitToken(\"onclosetag\");\n            this._state = 7 /* AfterClosingTagName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateAfterClosingTagName = function (c) {\n        // Skip everything until \">\"\n        if (c === \">\") {\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeAttributeName = function (c) {\n        if (c === \">\") {\n            this.cbs.onopentagend();\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"/\") {\n            this._state = 4 /* InSelfClosingTag */;\n        }\n        else if (!whitespace(c)) {\n            this._state = 9 /* InAttributeName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInSelfClosingTag = function (c) {\n        if (c === \">\") {\n            this.cbs.onselfclosingtag();\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n            this.special = 1 /* None */; // Reset special state, in case of self-closing special tags\n        }\n        else if (!whitespace(c)) {\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInAttributeName = function (c) {\n        if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n            this.cbs.onattribname(this.getSection());\n            this.sectionStart = -1;\n            this._state = 10 /* AfterAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateAfterAttributeName = function (c) {\n        if (c === \"=\") {\n            this._state = 11 /* BeforeAttributeValue */;\n        }\n        else if (c === \"/\" || c === \">\") {\n            this.cbs.onattribend(undefined);\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (!whitespace(c)) {\n            this.cbs.onattribend(undefined);\n            this._state = 9 /* InAttributeName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeAttributeValue = function (c) {\n        if (c === '\"') {\n            this._state = 12 /* InAttributeValueDq */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"'\") {\n            this._state = 13 /* InAttributeValueSq */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (!whitespace(c)) {\n            this._state = 14 /* InAttributeValueNq */;\n            this.sectionStart = this._index;\n            this._index--; // Reconsume token\n        }\n    };\n    Tokenizer.prototype.handleInAttributeValue = function (c, quote) {\n        if (c === quote) {\n            this.emitToken(\"onattribdata\");\n            this.cbs.onattribend(quote);\n            this._state = 8 /* BeforeAttributeName */;\n        }\n        else if (this.decodeEntities && c === \"&\") {\n            this.emitToken(\"onattribdata\");\n            this.baseState = this._state;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInAttributeValueDoubleQuotes = function (c) {\n        this.handleInAttributeValue(c, '\"');\n    };\n    Tokenizer.prototype.stateInAttributeValueSingleQuotes = function (c) {\n        this.handleInAttributeValue(c, \"'\");\n    };\n    Tokenizer.prototype.stateInAttributeValueNoQuotes = function (c) {\n        if (whitespace(c) || c === \">\") {\n            this.emitToken(\"onattribdata\");\n            this.cbs.onattribend(null);\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (this.decodeEntities && c === \"&\") {\n            this.emitToken(\"onattribdata\");\n            this.baseState = this._state;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeDeclaration = function (c) {\n        this._state =\n            c === \"[\"\n                ? 23 /* BeforeCdata1 */\n                : c === \"-\"\n                    ? 18 /* BeforeComment */\n                    : 16 /* InDeclaration */;\n    };\n    Tokenizer.prototype.stateInDeclaration = function (c) {\n        if (c === \">\") {\n            this.cbs.ondeclaration(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateInProcessingInstruction = function (c) {\n        if (c === \">\") {\n            this.cbs.onprocessinginstruction(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeComment = function (c) {\n        if (c === \"-\") {\n            this._state = 19 /* InComment */;\n            this.sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n        }\n    };\n    Tokenizer.prototype.stateInComment = function (c) {\n        if (c === \"-\")\n            this._state = 21 /* AfterComment1 */;\n    };\n    Tokenizer.prototype.stateInSpecialComment = function (c) {\n        if (c === \">\") {\n            this.cbs.oncomment(this.buffer.substring(this.sectionStart, this._index));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateAfterComment1 = function (c) {\n        if (c === \"-\") {\n            this._state = 22 /* AfterComment2 */;\n        }\n        else {\n            this._state = 19 /* InComment */;\n        }\n    };\n    Tokenizer.prototype.stateAfterComment2 = function (c) {\n        if (c === \">\") {\n            // Remove 2 trailing chars\n            this.cbs.oncomment(this.buffer.substring(this.sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c !== \"-\") {\n            this._state = 19 /* InComment */;\n        }\n        // Else: stay in AFTER_COMMENT_2 (`--->`)\n    };\n    Tokenizer.prototype.stateBeforeCdata6 = function (c) {\n        if (c === \"[\") {\n            this._state = 29 /* InCdata */;\n            this.sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInCdata = function (c) {\n        if (c === \"]\")\n            this._state = 30 /* AfterCdata1 */;\n    };\n    Tokenizer.prototype.stateAfterCdata1 = function (c) {\n        if (c === \"]\")\n            this._state = 31 /* AfterCdata2 */;\n        else\n            this._state = 29 /* InCdata */;\n    };\n    Tokenizer.prototype.stateAfterCdata2 = function (c) {\n        if (c === \">\") {\n            // Remove 2 trailing chars\n            this.cbs.oncdata(this.buffer.substring(this.sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c !== \"]\") {\n            this._state = 29 /* InCdata */;\n        }\n        // Else: stay in AFTER_CDATA_2 (`]]]>`)\n    };\n    Tokenizer.prototype.stateBeforeSpecialS = function (c) {\n        if (c === \"c\" || c === \"C\") {\n            this._state = 34 /* BeforeScript1 */;\n        }\n        else if (c === \"t\" || c === \"T\") {\n            this._state = 44 /* BeforeStyle1 */;\n        }\n        else {\n            this._state = 3 /* InTagName */;\n            this._index--; // Consume the token again\n        }\n    };\n    Tokenizer.prototype.stateBeforeSpecialSEnd = function (c) {\n        if (this.special === 2 /* Script */ && (c === \"c\" || c === \"C\")) {\n            this._state = 39 /* AfterScript1 */;\n        }\n        else if (this.special === 3 /* Style */ && (c === \"t\" || c === \"T\")) {\n            this._state = 48 /* AfterStyle1 */;\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    Tokenizer.prototype.stateBeforeSpecialLast = function (c, special) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this.special = special;\n        }\n        this._state = 3 /* InTagName */;\n        this._index--; // Consume the token again\n    };\n    Tokenizer.prototype.stateAfterSpecialLast = function (c, sectionStartOffset) {\n        if (c === \">\" || whitespace(c)) {\n            this.special = 1 /* None */;\n            this._state = 6 /* InClosingTagName */;\n            this.sectionStart = this._index - sectionStartOffset;\n            this._index--; // Reconsume the token\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    // For entities terminated with a semicolon\n    Tokenizer.prototype.parseFixedEntity = function (map) {\n        if (map === void 0) { map = this.xmlMode ? xml_json_1.default : entities_json_1.default; }\n        // Offset = 1\n        if (this.sectionStart + 1 < this._index) {\n            var entity = this.buffer.substring(this.sectionStart + 1, this._index);\n            if (Object.prototype.hasOwnProperty.call(map, entity)) {\n                this.emitPartial(map[entity]);\n                this.sectionStart = this._index + 1;\n            }\n        }\n    };\n    // Parses legacy entities (without trailing semicolon)\n    Tokenizer.prototype.parseLegacyEntity = function () {\n        var start = this.sectionStart + 1;\n        // The max length of legacy entities is 6\n        var limit = Math.min(this._index - start, 6);\n        while (limit >= 2) {\n            // The min length of legacy entities is 2\n            var entity = this.buffer.substr(start, limit);\n            if (Object.prototype.hasOwnProperty.call(legacy_json_1.default, entity)) {\n                this.emitPartial(legacy_json_1.default[entity]);\n                this.sectionStart += limit + 1;\n                return;\n            }\n            limit--;\n        }\n    };\n    Tokenizer.prototype.stateInNamedEntity = function (c) {\n        if (c === \";\") {\n            this.parseFixedEntity();\n            // Retry as legacy entity if entity wasn't parsed\n            if (this.baseState === 1 /* Text */ &&\n                this.sectionStart + 1 < this._index &&\n                !this.xmlMode) {\n                this.parseLegacyEntity();\n            }\n            this._state = this.baseState;\n        }\n        else if ((c < \"0\" || c > \"9\") && !isASCIIAlpha(c)) {\n            if (this.xmlMode || this.sectionStart + 1 === this._index) {\n                // Ignore\n            }\n            else if (this.baseState !== 1 /* Text */) {\n                if (c !== \"=\") {\n                    // Parse as legacy entity, without allowing additional characters.\n                    this.parseFixedEntity(legacy_json_1.default);\n                }\n            }\n            else {\n                this.parseLegacyEntity();\n            }\n            this._state = this.baseState;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.decodeNumericEntity = function (offset, base, strict) {\n        var sectionStart = this.sectionStart + offset;\n        if (sectionStart !== this._index) {\n            // Parse entity\n            var entity = this.buffer.substring(sectionStart, this._index);\n            var parsed = parseInt(entity, base);\n            this.emitPartial(decode_codepoint_1.default(parsed));\n            this.sectionStart = strict ? this._index + 1 : this._index;\n        }\n        this._state = this.baseState;\n    };\n    Tokenizer.prototype.stateInNumericEntity = function (c) {\n        if (c === \";\") {\n            this.decodeNumericEntity(2, 10, true);\n        }\n        else if (c < \"0\" || c > \"9\") {\n            if (!this.xmlMode) {\n                this.decodeNumericEntity(2, 10, false);\n            }\n            else {\n                this._state = this.baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInHexEntity = function (c) {\n        if (c === \";\") {\n            this.decodeNumericEntity(3, 16, true);\n        }\n        else if ((c < \"a\" || c > \"f\") &&\n            (c < \"A\" || c > \"F\") &&\n            (c < \"0\" || c > \"9\")) {\n            if (!this.xmlMode) {\n                this.decodeNumericEntity(3, 16, false);\n            }\n            else {\n                this._state = this.baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.cleanup = function () {\n        if (this.sectionStart < 0) {\n            this.buffer = \"\";\n            this.bufferOffset += this._index;\n            this._index = 0;\n        }\n        else if (this.running) {\n            if (this._state === 1 /* Text */) {\n                if (this.sectionStart !== this._index) {\n                    this.cbs.ontext(this.buffer.substr(this.sectionStart));\n                }\n                this.buffer = \"\";\n                this.bufferOffset += this._index;\n                this._index = 0;\n            }\n            else if (this.sectionStart === this._index) {\n                // The section just started\n                this.buffer = \"\";\n                this.bufferOffset += this._index;\n                this._index = 0;\n            }\n            else {\n                // Remove everything unnecessary\n                this.buffer = this.buffer.substr(this.sectionStart);\n                this._index -= this.sectionStart;\n                this.bufferOffset += this.sectionStart;\n            }\n            this.sectionStart = 0;\n        }\n    };\n    /**\n     * Iterates through the buffer, calling the function corresponding to the current state.\n     *\n     * States that are more likely to be hit are higher up, as a performance improvement.\n     */\n    Tokenizer.prototype.parse = function () {\n        while (this._index < this.buffer.length && this.running) {\n            var c = this.buffer.charAt(this._index);\n            if (this._state === 1 /* Text */) {\n                this.stateText(c);\n            }\n            else if (this._state === 12 /* InAttributeValueDq */) {\n                this.stateInAttributeValueDoubleQuotes(c);\n            }\n            else if (this._state === 9 /* InAttributeName */) {\n                this.stateInAttributeName(c);\n            }\n            else if (this._state === 19 /* InComment */) {\n                this.stateInComment(c);\n            }\n            else if (this._state === 20 /* InSpecialComment */) {\n                this.stateInSpecialComment(c);\n            }\n            else if (this._state === 8 /* BeforeAttributeName */) {\n                this.stateBeforeAttributeName(c);\n            }\n            else if (this._state === 3 /* InTagName */) {\n                this.stateInTagName(c);\n            }\n            else if (this._state === 6 /* InClosingTagName */) {\n                this.stateInClosingTagName(c);\n            }\n            else if (this._state === 2 /* BeforeTagName */) {\n                this.stateBeforeTagName(c);\n            }\n            else if (this._state === 10 /* AfterAttributeName */) {\n                this.stateAfterAttributeName(c);\n            }\n            else if (this._state === 13 /* InAttributeValueSq */) {\n                this.stateInAttributeValueSingleQuotes(c);\n            }\n            else if (this._state === 11 /* BeforeAttributeValue */) {\n                this.stateBeforeAttributeValue(c);\n            }\n            else if (this._state === 5 /* BeforeClosingTagName */) {\n                this.stateBeforeClosingTagName(c);\n            }\n            else if (this._state === 7 /* AfterClosingTagName */) {\n                this.stateAfterClosingTagName(c);\n            }\n            else if (this._state === 32 /* BeforeSpecialS */) {\n                this.stateBeforeSpecialS(c);\n            }\n            else if (this._state === 21 /* AfterComment1 */) {\n                this.stateAfterComment1(c);\n            }\n            else if (this._state === 14 /* InAttributeValueNq */) {\n                this.stateInAttributeValueNoQuotes(c);\n            }\n            else if (this._state === 4 /* InSelfClosingTag */) {\n                this.stateInSelfClosingTag(c);\n            }\n            else if (this._state === 16 /* InDeclaration */) {\n                this.stateInDeclaration(c);\n            }\n            else if (this._state === 15 /* BeforeDeclaration */) {\n                this.stateBeforeDeclaration(c);\n            }\n            else if (this._state === 22 /* AfterComment2 */) {\n                this.stateAfterComment2(c);\n            }\n            else if (this._state === 18 /* BeforeComment */) {\n                this.stateBeforeComment(c);\n            }\n            else if (this._state === 33 /* BeforeSpecialSEnd */) {\n                this.stateBeforeSpecialSEnd(c);\n            }\n            else if (this._state === 53 /* BeforeSpecialTEnd */) {\n                stateAfterSpecialTEnd(this, c);\n            }\n            else if (this._state === 39 /* AfterScript1 */) {\n                stateAfterScript1(this, c);\n            }\n            else if (this._state === 40 /* AfterScript2 */) {\n                stateAfterScript2(this, c);\n            }\n            else if (this._state === 41 /* AfterScript3 */) {\n                stateAfterScript3(this, c);\n            }\n            else if (this._state === 34 /* BeforeScript1 */) {\n                stateBeforeScript1(this, c);\n            }\n            else if (this._state === 35 /* BeforeScript2 */) {\n                stateBeforeScript2(this, c);\n            }\n            else if (this._state === 36 /* BeforeScript3 */) {\n                stateBeforeScript3(this, c);\n            }\n            else if (this._state === 37 /* BeforeScript4 */) {\n                stateBeforeScript4(this, c);\n            }\n            else if (this._state === 38 /* BeforeScript5 */) {\n                this.stateBeforeSpecialLast(c, 2 /* Script */);\n            }\n            else if (this._state === 42 /* AfterScript4 */) {\n                stateAfterScript4(this, c);\n            }\n            else if (this._state === 43 /* AfterScript5 */) {\n                this.stateAfterSpecialLast(c, 6);\n            }\n            else if (this._state === 44 /* BeforeStyle1 */) {\n                stateBeforeStyle1(this, c);\n            }\n            else if (this._state === 29 /* InCdata */) {\n                this.stateInCdata(c);\n            }\n            else if (this._state === 45 /* BeforeStyle2 */) {\n                stateBeforeStyle2(this, c);\n            }\n            else if (this._state === 46 /* BeforeStyle3 */) {\n                stateBeforeStyle3(this, c);\n            }\n            else if (this._state === 47 /* BeforeStyle4 */) {\n                this.stateBeforeSpecialLast(c, 3 /* Style */);\n            }\n            else if (this._state === 48 /* AfterStyle1 */) {\n                stateAfterStyle1(this, c);\n            }\n            else if (this._state === 49 /* AfterStyle2 */) {\n                stateAfterStyle2(this, c);\n            }\n            else if (this._state === 50 /* AfterStyle3 */) {\n                stateAfterStyle3(this, c);\n            }\n            else if (this._state === 51 /* AfterStyle4 */) {\n                this.stateAfterSpecialLast(c, 5);\n            }\n            else if (this._state === 52 /* BeforeSpecialT */) {\n                stateBeforeSpecialT(this, c);\n            }\n            else if (this._state === 54 /* BeforeTitle1 */) {\n                stateBeforeTitle1(this, c);\n            }\n            else if (this._state === 55 /* BeforeTitle2 */) {\n                stateBeforeTitle2(this, c);\n            }\n            else if (this._state === 56 /* BeforeTitle3 */) {\n                stateBeforeTitle3(this, c);\n            }\n            else if (this._state === 57 /* BeforeTitle4 */) {\n                this.stateBeforeSpecialLast(c, 4 /* Title */);\n            }\n            else if (this._state === 58 /* AfterTitle1 */) {\n                stateAfterTitle1(this, c);\n            }\n            else if (this._state === 59 /* AfterTitle2 */) {\n                stateAfterTitle2(this, c);\n            }\n            else if (this._state === 60 /* AfterTitle3 */) {\n                stateAfterTitle3(this, c);\n            }\n            else if (this._state === 61 /* AfterTitle4 */) {\n                this.stateAfterSpecialLast(c, 5);\n            }\n            else if (this._state === 17 /* InProcessingInstruction */) {\n                this.stateInProcessingInstruction(c);\n            }\n            else if (this._state === 64 /* InNamedEntity */) {\n                this.stateInNamedEntity(c);\n            }\n            else if (this._state === 23 /* BeforeCdata1 */) {\n                stateBeforeCdata1(this, c);\n            }\n            else if (this._state === 62 /* BeforeEntity */) {\n                stateBeforeEntity(this, c);\n            }\n            else if (this._state === 24 /* BeforeCdata2 */) {\n                stateBeforeCdata2(this, c);\n            }\n            else if (this._state === 25 /* BeforeCdata3 */) {\n                stateBeforeCdata3(this, c);\n            }\n            else if (this._state === 30 /* AfterCdata1 */) {\n                this.stateAfterCdata1(c);\n            }\n            else if (this._state === 31 /* AfterCdata2 */) {\n                this.stateAfterCdata2(c);\n            }\n            else if (this._state === 26 /* BeforeCdata4 */) {\n                stateBeforeCdata4(this, c);\n            }\n            else if (this._state === 27 /* BeforeCdata5 */) {\n                stateBeforeCdata5(this, c);\n            }\n            else if (this._state === 28 /* BeforeCdata6 */) {\n                this.stateBeforeCdata6(c);\n            }\n            else if (this._state === 66 /* InHexEntity */) {\n                this.stateInHexEntity(c);\n            }\n            else if (this._state === 65 /* InNumericEntity */) {\n                this.stateInNumericEntity(c);\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n            }\n            else if (this._state === 63 /* BeforeNumericEntity */) {\n                stateBeforeNumericEntity(this, c);\n            }\n            else {\n                this.cbs.onerror(Error(\"unknown _state\"), this._state);\n            }\n            this._index++;\n        }\n        this.cleanup();\n    };\n    Tokenizer.prototype.finish = function () {\n        // If there is remaining data, emit it in a reasonable way\n        if (this.sectionStart < this._index) {\n            this.handleTrailingData();\n        }\n        this.cbs.onend();\n    };\n    Tokenizer.prototype.handleTrailingData = function () {\n        var data = this.buffer.substr(this.sectionStart);\n        if (this._state === 29 /* InCdata */ ||\n            this._state === 30 /* AfterCdata1 */ ||\n            this._state === 31 /* AfterCdata2 */) {\n            this.cbs.oncdata(data);\n        }\n        else if (this._state === 19 /* InComment */ ||\n            this._state === 21 /* AfterComment1 */ ||\n            this._state === 22 /* AfterComment2 */) {\n            this.cbs.oncomment(data);\n        }\n        else if (this._state === 64 /* InNamedEntity */ && !this.xmlMode) {\n            this.parseLegacyEntity();\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state === 65 /* InNumericEntity */ && !this.xmlMode) {\n            this.decodeNumericEntity(2, 10, false);\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state === 66 /* InHexEntity */ && !this.xmlMode) {\n            this.decodeNumericEntity(3, 16, false);\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state !== 3 /* InTagName */ &&\n            this._state !== 8 /* BeforeAttributeName */ &&\n            this._state !== 11 /* BeforeAttributeValue */ &&\n            this._state !== 10 /* AfterAttributeName */ &&\n            this._state !== 9 /* InAttributeName */ &&\n            this._state !== 13 /* InAttributeValueSq */ &&\n            this._state !== 12 /* InAttributeValueDq */ &&\n            this._state !== 14 /* InAttributeValueNq */ &&\n            this._state !== 6 /* InClosingTagName */) {\n            this.cbs.ontext(data);\n        }\n        /*\n         * Else, ignore remaining data\n         * TODO add a way to remove current tag\n         */\n    };\n    Tokenizer.prototype.getSection = function () {\n        return this.buffer.substring(this.sectionStart, this._index);\n    };\n    Tokenizer.prototype.emitToken = function (name) {\n        this.cbs[name](this.getSection());\n        this.sectionStart = -1;\n    };\n    Tokenizer.prototype.emitPartial = function (value) {\n        if (this.baseState !== 1 /* Text */) {\n            this.cbs.onattribdata(value); // TODO implement the new event\n        }\n        else {\n            this.cbs.ontext(value);\n        }\n    };\n    return Tokenizer;\n}());\nexports.default = Tokenizer;\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RssHandler = exports.DefaultHandler = exports.DomUtils = exports.ElementType = exports.Tokenizer = exports.createDomStream = exports.parseDOM = exports.parseDocument = exports.DomHandler = exports.Parser = void 0;\nvar Parser_1 = require(\"./Parser\");\nObject.defineProperty(exports, \"Parser\", { enumerable: true, get: function () { return Parser_1.Parser; } });\nvar domhandler_1 = require(\"domhandler\");\nObject.defineProperty(exports, \"DomHandler\", { enumerable: true, get: function () { return domhandler_1.DomHandler; } });\nObject.defineProperty(exports, \"DefaultHandler\", { enumerable: true, get: function () { return domhandler_1.DomHandler; } });\n// Helper methods\n/**\n * Parses the data, returns the resulting document.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n */\nfunction parseDocument(data, options) {\n    var handler = new domhandler_1.DomHandler(undefined, options);\n    new Parser_1.Parser(handler, options).end(data);\n    return handler.root;\n}\nexports.parseDocument = parseDocument;\n/**\n * Parses data, returns an array of the root nodes.\n *\n * Note that the root nodes still have a `Document` node as their parent.\n * Use `parseDocument` to get the `Document` node instead.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n * @deprecated Use `parseDocument` instead.\n */\nfunction parseDOM(data, options) {\n    return parseDocument(data, options).children;\n}\nexports.parseDOM = parseDOM;\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param cb A callback that will be called once parsing has been completed.\n * @param options Optional options for the parser and DOM builder.\n * @param elementCb An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nfunction createDomStream(cb, options, elementCb) {\n    var handler = new domhandler_1.DomHandler(cb, options, elementCb);\n    return new Parser_1.Parser(handler, options);\n}\nexports.createDomStream = createDomStream;\nvar Tokenizer_1 = require(\"./Tokenizer\");\nObject.defineProperty(exports, \"Tokenizer\", { enumerable: true, get: function () { return __importDefault(Tokenizer_1).default; } });\nvar ElementType = __importStar(require(\"domelementtype\"));\nexports.ElementType = ElementType;\n/*\n * All of the following exports exist for backwards-compatibility.\n * They should probably be removed eventually.\n */\n__exportStar(require(\"./FeedHandler\"), exports);\nexports.DomUtils = __importStar(require(\"domutils\"));\nvar FeedHandler_1 = require(\"./FeedHandler\");\nObject.defineProperty(exports, \"RssHandler\", { enumerable: true, get: function () { return FeedHandler_1.FeedHandler; } });\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// Adapted from https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nvar fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.fromCodePoint ||\n    function (codePoint) {\n        var output = \"\";\n        if (codePoint > 0xffff) {\n            codePoint -= 0x10000;\n            output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n            codePoint = 0xdc00 | (codePoint & 0x3ff);\n        }\n        output += String.fromCharCode(codePoint);\n        return output;\n    };\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    return fromCodePoint(codePoint);\n}\nexports.default = decodeCodePoint;\n",
    "module.exports={\"0\":65533,\"128\":8364,\"130\":8218,\"131\":402,\"132\":8222,\"133\":8230,\"134\":8224,\"135\":8225,\"136\":710,\"137\":8240,\"138\":352,\"139\":8249,\"140\":338,\"142\":381,\"145\":8216,\"146\":8217,\"147\":8220,\"148\":8221,\"149\":8226,\"150\":8211,\"151\":8212,\"152\":732,\"153\":8482,\"154\":353,\"155\":8250,\"156\":339,\"158\":382,\"159\":376}\n",
    "module.exports={\"Aacute\":\"Á\",\"aacute\":\"á\",\"Abreve\":\"Ă\",\"abreve\":\"ă\",\"ac\":\"∾\",\"acd\":\"∿\",\"acE\":\"∾̳\",\"Acirc\":\"Â\",\"acirc\":\"â\",\"acute\":\"´\",\"Acy\":\"А\",\"acy\":\"а\",\"AElig\":\"Æ\",\"aelig\":\"æ\",\"af\":\"⁡\",\"Afr\":\"𝔄\",\"afr\":\"𝔞\",\"Agrave\":\"À\",\"agrave\":\"à\",\"alefsym\":\"ℵ\",\"aleph\":\"ℵ\",\"Alpha\":\"Α\",\"alpha\":\"α\",\"Amacr\":\"Ā\",\"amacr\":\"ā\",\"amalg\":\"⨿\",\"amp\":\"&\",\"AMP\":\"&\",\"andand\":\"⩕\",\"And\":\"⩓\",\"and\":\"∧\",\"andd\":\"⩜\",\"andslope\":\"⩘\",\"andv\":\"⩚\",\"ang\":\"∠\",\"ange\":\"⦤\",\"angle\":\"∠\",\"angmsdaa\":\"⦨\",\"angmsdab\":\"⦩\",\"angmsdac\":\"⦪\",\"angmsdad\":\"⦫\",\"angmsdae\":\"⦬\",\"angmsdaf\":\"⦭\",\"angmsdag\":\"⦮\",\"angmsdah\":\"⦯\",\"angmsd\":\"∡\",\"angrt\":\"∟\",\"angrtvb\":\"⊾\",\"angrtvbd\":\"⦝\",\"angsph\":\"∢\",\"angst\":\"Å\",\"angzarr\":\"⍼\",\"Aogon\":\"Ą\",\"aogon\":\"ą\",\"Aopf\":\"𝔸\",\"aopf\":\"𝕒\",\"apacir\":\"⩯\",\"ap\":\"≈\",\"apE\":\"⩰\",\"ape\":\"≊\",\"apid\":\"≋\",\"apos\":\"'\",\"ApplyFunction\":\"⁡\",\"approx\":\"≈\",\"approxeq\":\"≊\",\"Aring\":\"Å\",\"aring\":\"å\",\"Ascr\":\"𝒜\",\"ascr\":\"𝒶\",\"Assign\":\"≔\",\"ast\":\"*\",\"asymp\":\"≈\",\"asympeq\":\"≍\",\"Atilde\":\"Ã\",\"atilde\":\"ã\",\"Auml\":\"Ä\",\"auml\":\"ä\",\"awconint\":\"∳\",\"awint\":\"⨑\",\"backcong\":\"≌\",\"backepsilon\":\"϶\",\"backprime\":\"‵\",\"backsim\":\"∽\",\"backsimeq\":\"⋍\",\"Backslash\":\"∖\",\"Barv\":\"⫧\",\"barvee\":\"⊽\",\"barwed\":\"⌅\",\"Barwed\":\"⌆\",\"barwedge\":\"⌅\",\"bbrk\":\"⎵\",\"bbrktbrk\":\"⎶\",\"bcong\":\"≌\",\"Bcy\":\"Б\",\"bcy\":\"б\",\"bdquo\":\"„\",\"becaus\":\"∵\",\"because\":\"∵\",\"Because\":\"∵\",\"bemptyv\":\"⦰\",\"bepsi\":\"϶\",\"bernou\":\"ℬ\",\"Bernoullis\":\"ℬ\",\"Beta\":\"Β\",\"beta\":\"β\",\"beth\":\"ℶ\",\"between\":\"≬\",\"Bfr\":\"𝔅\",\"bfr\":\"𝔟\",\"bigcap\":\"⋂\",\"bigcirc\":\"◯\",\"bigcup\":\"⋃\",\"bigodot\":\"⨀\",\"bigoplus\":\"⨁\",\"bigotimes\":\"⨂\",\"bigsqcup\":\"⨆\",\"bigstar\":\"★\",\"bigtriangledown\":\"▽\",\"bigtriangleup\":\"△\",\"biguplus\":\"⨄\",\"bigvee\":\"⋁\",\"bigwedge\":\"⋀\",\"bkarow\":\"⤍\",\"blacklozenge\":\"⧫\",\"blacksquare\":\"▪\",\"blacktriangle\":\"▴\",\"blacktriangledown\":\"▾\",\"blacktriangleleft\":\"◂\",\"blacktriangleright\":\"▸\",\"blank\":\"␣\",\"blk12\":\"▒\",\"blk14\":\"░\",\"blk34\":\"▓\",\"block\":\"█\",\"bne\":\"=⃥\",\"bnequiv\":\"≡⃥\",\"bNot\":\"⫭\",\"bnot\":\"⌐\",\"Bopf\":\"𝔹\",\"bopf\":\"𝕓\",\"bot\":\"⊥\",\"bottom\":\"⊥\",\"bowtie\":\"⋈\",\"boxbox\":\"⧉\",\"boxdl\":\"┐\",\"boxdL\":\"╕\",\"boxDl\":\"╖\",\"boxDL\":\"╗\",\"boxdr\":\"┌\",\"boxdR\":\"╒\",\"boxDr\":\"╓\",\"boxDR\":\"╔\",\"boxh\":\"─\",\"boxH\":\"═\",\"boxhd\":\"┬\",\"boxHd\":\"╤\",\"boxhD\":\"╥\",\"boxHD\":\"╦\",\"boxhu\":\"┴\",\"boxHu\":\"╧\",\"boxhU\":\"╨\",\"boxHU\":\"╩\",\"boxminus\":\"⊟\",\"boxplus\":\"⊞\",\"boxtimes\":\"⊠\",\"boxul\":\"┘\",\"boxuL\":\"╛\",\"boxUl\":\"╜\",\"boxUL\":\"╝\",\"boxur\":\"└\",\"boxuR\":\"╘\",\"boxUr\":\"╙\",\"boxUR\":\"╚\",\"boxv\":\"│\",\"boxV\":\"║\",\"boxvh\":\"┼\",\"boxvH\":\"╪\",\"boxVh\":\"╫\",\"boxVH\":\"╬\",\"boxvl\":\"┤\",\"boxvL\":\"╡\",\"boxVl\":\"╢\",\"boxVL\":\"╣\",\"boxvr\":\"├\",\"boxvR\":\"╞\",\"boxVr\":\"╟\",\"boxVR\":\"╠\",\"bprime\":\"‵\",\"breve\":\"˘\",\"Breve\":\"˘\",\"brvbar\":\"¦\",\"bscr\":\"𝒷\",\"Bscr\":\"ℬ\",\"bsemi\":\"⁏\",\"bsim\":\"∽\",\"bsime\":\"⋍\",\"bsolb\":\"⧅\",\"bsol\":\"\\\\\",\"bsolhsub\":\"⟈\",\"bull\":\"•\",\"bullet\":\"•\",\"bump\":\"≎\",\"bumpE\":\"⪮\",\"bumpe\":\"≏\",\"Bumpeq\":\"≎\",\"bumpeq\":\"≏\",\"Cacute\":\"Ć\",\"cacute\":\"ć\",\"capand\":\"⩄\",\"capbrcup\":\"⩉\",\"capcap\":\"⩋\",\"cap\":\"∩\",\"Cap\":\"⋒\",\"capcup\":\"⩇\",\"capdot\":\"⩀\",\"CapitalDifferentialD\":\"ⅅ\",\"caps\":\"∩︀\",\"caret\":\"⁁\",\"caron\":\"ˇ\",\"Cayleys\":\"ℭ\",\"ccaps\":\"⩍\",\"Ccaron\":\"Č\",\"ccaron\":\"č\",\"Ccedil\":\"Ç\",\"ccedil\":\"ç\",\"Ccirc\":\"Ĉ\",\"ccirc\":\"ĉ\",\"Cconint\":\"∰\",\"ccups\":\"⩌\",\"ccupssm\":\"⩐\",\"Cdot\":\"Ċ\",\"cdot\":\"ċ\",\"cedil\":\"¸\",\"Cedilla\":\"¸\",\"cemptyv\":\"⦲\",\"cent\":\"¢\",\"centerdot\":\"·\",\"CenterDot\":\"·\",\"cfr\":\"𝔠\",\"Cfr\":\"ℭ\",\"CHcy\":\"Ч\",\"chcy\":\"ч\",\"check\":\"✓\",\"checkmark\":\"✓\",\"Chi\":\"Χ\",\"chi\":\"χ\",\"circ\":\"ˆ\",\"circeq\":\"≗\",\"circlearrowleft\":\"↺\",\"circlearrowright\":\"↻\",\"circledast\":\"⊛\",\"circledcirc\":\"⊚\",\"circleddash\":\"⊝\",\"CircleDot\":\"⊙\",\"circledR\":\"®\",\"circledS\":\"Ⓢ\",\"CircleMinus\":\"⊖\",\"CirclePlus\":\"⊕\",\"CircleTimes\":\"⊗\",\"cir\":\"○\",\"cirE\":\"⧃\",\"cire\":\"≗\",\"cirfnint\":\"⨐\",\"cirmid\":\"⫯\",\"cirscir\":\"⧂\",\"ClockwiseContourIntegral\":\"∲\",\"CloseCurlyDoubleQuote\":\"”\",\"CloseCurlyQuote\":\"’\",\"clubs\":\"♣\",\"clubsuit\":\"♣\",\"colon\":\":\",\"Colon\":\"∷\",\"Colone\":\"⩴\",\"colone\":\"≔\",\"coloneq\":\"≔\",\"comma\":\",\",\"commat\":\"@\",\"comp\":\"∁\",\"compfn\":\"∘\",\"complement\":\"∁\",\"complexes\":\"ℂ\",\"cong\":\"≅\",\"congdot\":\"⩭\",\"Congruent\":\"≡\",\"conint\":\"∮\",\"Conint\":\"∯\",\"ContourIntegral\":\"∮\",\"copf\":\"𝕔\",\"Copf\":\"ℂ\",\"coprod\":\"∐\",\"Coproduct\":\"∐\",\"copy\":\"©\",\"COPY\":\"©\",\"copysr\":\"℗\",\"CounterClockwiseContourIntegral\":\"∳\",\"crarr\":\"↵\",\"cross\":\"✗\",\"Cross\":\"⨯\",\"Cscr\":\"𝒞\",\"cscr\":\"𝒸\",\"csub\":\"⫏\",\"csube\":\"⫑\",\"csup\":\"⫐\",\"csupe\":\"⫒\",\"ctdot\":\"⋯\",\"cudarrl\":\"⤸\",\"cudarrr\":\"⤵\",\"cuepr\":\"⋞\",\"cuesc\":\"⋟\",\"cularr\":\"↶\",\"cularrp\":\"⤽\",\"cupbrcap\":\"⩈\",\"cupcap\":\"⩆\",\"CupCap\":\"≍\",\"cup\":\"∪\",\"Cup\":\"⋓\",\"cupcup\":\"⩊\",\"cupdot\":\"⊍\",\"cupor\":\"⩅\",\"cups\":\"∪︀\",\"curarr\":\"↷\",\"curarrm\":\"⤼\",\"curlyeqprec\":\"⋞\",\"curlyeqsucc\":\"⋟\",\"curlyvee\":\"⋎\",\"curlywedge\":\"⋏\",\"curren\":\"¤\",\"curvearrowleft\":\"↶\",\"curvearrowright\":\"↷\",\"cuvee\":\"⋎\",\"cuwed\":\"⋏\",\"cwconint\":\"∲\",\"cwint\":\"∱\",\"cylcty\":\"⌭\",\"dagger\":\"†\",\"Dagger\":\"‡\",\"daleth\":\"ℸ\",\"darr\":\"↓\",\"Darr\":\"↡\",\"dArr\":\"⇓\",\"dash\":\"‐\",\"Dashv\":\"⫤\",\"dashv\":\"⊣\",\"dbkarow\":\"⤏\",\"dblac\":\"˝\",\"Dcaron\":\"Ď\",\"dcaron\":\"ď\",\"Dcy\":\"Д\",\"dcy\":\"д\",\"ddagger\":\"‡\",\"ddarr\":\"⇊\",\"DD\":\"ⅅ\",\"dd\":\"ⅆ\",\"DDotrahd\":\"⤑\",\"ddotseq\":\"⩷\",\"deg\":\"°\",\"Del\":\"∇\",\"Delta\":\"Δ\",\"delta\":\"δ\",\"demptyv\":\"⦱\",\"dfisht\":\"⥿\",\"Dfr\":\"𝔇\",\"dfr\":\"𝔡\",\"dHar\":\"⥥\",\"dharl\":\"⇃\",\"dharr\":\"⇂\",\"DiacriticalAcute\":\"´\",\"DiacriticalDot\":\"˙\",\"DiacriticalDoubleAcute\":\"˝\",\"DiacriticalGrave\":\"`\",\"DiacriticalTilde\":\"˜\",\"diam\":\"⋄\",\"diamond\":\"⋄\",\"Diamond\":\"⋄\",\"diamondsuit\":\"♦\",\"diams\":\"♦\",\"die\":\"¨\",\"DifferentialD\":\"ⅆ\",\"digamma\":\"ϝ\",\"disin\":\"⋲\",\"div\":\"÷\",\"divide\":\"÷\",\"divideontimes\":\"⋇\",\"divonx\":\"⋇\",\"DJcy\":\"Ђ\",\"djcy\":\"ђ\",\"dlcorn\":\"⌞\",\"dlcrop\":\"⌍\",\"dollar\":\"$\",\"Dopf\":\"𝔻\",\"dopf\":\"𝕕\",\"Dot\":\"¨\",\"dot\":\"˙\",\"DotDot\":\"⃜\",\"doteq\":\"≐\",\"doteqdot\":\"≑\",\"DotEqual\":\"≐\",\"dotminus\":\"∸\",\"dotplus\":\"∔\",\"dotsquare\":\"⊡\",\"doublebarwedge\":\"⌆\",\"DoubleContourIntegral\":\"∯\",\"DoubleDot\":\"¨\",\"DoubleDownArrow\":\"⇓\",\"DoubleLeftArrow\":\"⇐\",\"DoubleLeftRightArrow\":\"⇔\",\"DoubleLeftTee\":\"⫤\",\"DoubleLongLeftArrow\":\"⟸\",\"DoubleLongLeftRightArrow\":\"⟺\",\"DoubleLongRightArrow\":\"⟹\",\"DoubleRightArrow\":\"⇒\",\"DoubleRightTee\":\"⊨\",\"DoubleUpArrow\":\"⇑\",\"DoubleUpDownArrow\":\"⇕\",\"DoubleVerticalBar\":\"∥\",\"DownArrowBar\":\"⤓\",\"downarrow\":\"↓\",\"DownArrow\":\"↓\",\"Downarrow\":\"⇓\",\"DownArrowUpArrow\":\"⇵\",\"DownBreve\":\"̑\",\"downdownarrows\":\"⇊\",\"downharpoonleft\":\"⇃\",\"downharpoonright\":\"⇂\",\"DownLeftRightVector\":\"⥐\",\"DownLeftTeeVector\":\"⥞\",\"DownLeftVectorBar\":\"⥖\",\"DownLeftVector\":\"↽\",\"DownRightTeeVector\":\"⥟\",\"DownRightVectorBar\":\"⥗\",\"DownRightVector\":\"⇁\",\"DownTeeArrow\":\"↧\",\"DownTee\":\"⊤\",\"drbkarow\":\"⤐\",\"drcorn\":\"⌟\",\"drcrop\":\"⌌\",\"Dscr\":\"𝒟\",\"dscr\":\"𝒹\",\"DScy\":\"Ѕ\",\"dscy\":\"ѕ\",\"dsol\":\"⧶\",\"Dstrok\":\"Đ\",\"dstrok\":\"đ\",\"dtdot\":\"⋱\",\"dtri\":\"▿\",\"dtrif\":\"▾\",\"duarr\":\"⇵\",\"duhar\":\"⥯\",\"dwangle\":\"⦦\",\"DZcy\":\"Џ\",\"dzcy\":\"џ\",\"dzigrarr\":\"⟿\",\"Eacute\":\"É\",\"eacute\":\"é\",\"easter\":\"⩮\",\"Ecaron\":\"Ě\",\"ecaron\":\"ě\",\"Ecirc\":\"Ê\",\"ecirc\":\"ê\",\"ecir\":\"≖\",\"ecolon\":\"≕\",\"Ecy\":\"Э\",\"ecy\":\"э\",\"eDDot\":\"⩷\",\"Edot\":\"Ė\",\"edot\":\"ė\",\"eDot\":\"≑\",\"ee\":\"ⅇ\",\"efDot\":\"≒\",\"Efr\":\"𝔈\",\"efr\":\"𝔢\",\"eg\":\"⪚\",\"Egrave\":\"È\",\"egrave\":\"è\",\"egs\":\"⪖\",\"egsdot\":\"⪘\",\"el\":\"⪙\",\"Element\":\"∈\",\"elinters\":\"⏧\",\"ell\":\"ℓ\",\"els\":\"⪕\",\"elsdot\":\"⪗\",\"Emacr\":\"Ē\",\"emacr\":\"ē\",\"empty\":\"∅\",\"emptyset\":\"∅\",\"EmptySmallSquare\":\"◻\",\"emptyv\":\"∅\",\"EmptyVerySmallSquare\":\"▫\",\"emsp13\":\" \",\"emsp14\":\" \",\"emsp\":\" \",\"ENG\":\"Ŋ\",\"eng\":\"ŋ\",\"ensp\":\" \",\"Eogon\":\"Ę\",\"eogon\":\"ę\",\"Eopf\":\"𝔼\",\"eopf\":\"𝕖\",\"epar\":\"⋕\",\"eparsl\":\"⧣\",\"eplus\":\"⩱\",\"epsi\":\"ε\",\"Epsilon\":\"Ε\",\"epsilon\":\"ε\",\"epsiv\":\"ϵ\",\"eqcirc\":\"≖\",\"eqcolon\":\"≕\",\"eqsim\":\"≂\",\"eqslantgtr\":\"⪖\",\"eqslantless\":\"⪕\",\"Equal\":\"⩵\",\"equals\":\"=\",\"EqualTilde\":\"≂\",\"equest\":\"≟\",\"Equilibrium\":\"⇌\",\"equiv\":\"≡\",\"equivDD\":\"⩸\",\"eqvparsl\":\"⧥\",\"erarr\":\"⥱\",\"erDot\":\"≓\",\"escr\":\"ℯ\",\"Escr\":\"ℰ\",\"esdot\":\"≐\",\"Esim\":\"⩳\",\"esim\":\"≂\",\"Eta\":\"Η\",\"eta\":\"η\",\"ETH\":\"Ð\",\"eth\":\"ð\",\"Euml\":\"Ë\",\"euml\":\"ë\",\"euro\":\"€\",\"excl\":\"!\",\"exist\":\"∃\",\"Exists\":\"∃\",\"expectation\":\"ℰ\",\"exponentiale\":\"ⅇ\",\"ExponentialE\":\"ⅇ\",\"fallingdotseq\":\"≒\",\"Fcy\":\"Ф\",\"fcy\":\"ф\",\"female\":\"♀\",\"ffilig\":\"ﬃ\",\"fflig\":\"ﬀ\",\"ffllig\":\"ﬄ\",\"Ffr\":\"𝔉\",\"ffr\":\"𝔣\",\"filig\":\"ﬁ\",\"FilledSmallSquare\":\"◼\",\"FilledVerySmallSquare\":\"▪\",\"fjlig\":\"fj\",\"flat\":\"♭\",\"fllig\":\"ﬂ\",\"fltns\":\"▱\",\"fnof\":\"ƒ\",\"Fopf\":\"𝔽\",\"fopf\":\"𝕗\",\"forall\":\"∀\",\"ForAll\":\"∀\",\"fork\":\"⋔\",\"forkv\":\"⫙\",\"Fouriertrf\":\"ℱ\",\"fpartint\":\"⨍\",\"frac12\":\"½\",\"frac13\":\"⅓\",\"frac14\":\"¼\",\"frac15\":\"⅕\",\"frac16\":\"⅙\",\"frac18\":\"⅛\",\"frac23\":\"⅔\",\"frac25\":\"⅖\",\"frac34\":\"¾\",\"frac35\":\"⅗\",\"frac38\":\"⅜\",\"frac45\":\"⅘\",\"frac56\":\"⅚\",\"frac58\":\"⅝\",\"frac78\":\"⅞\",\"frasl\":\"⁄\",\"frown\":\"⌢\",\"fscr\":\"𝒻\",\"Fscr\":\"ℱ\",\"gacute\":\"ǵ\",\"Gamma\":\"Γ\",\"gamma\":\"γ\",\"Gammad\":\"Ϝ\",\"gammad\":\"ϝ\",\"gap\":\"⪆\",\"Gbreve\":\"Ğ\",\"gbreve\":\"ğ\",\"Gcedil\":\"Ģ\",\"Gcirc\":\"Ĝ\",\"gcirc\":\"ĝ\",\"Gcy\":\"Г\",\"gcy\":\"г\",\"Gdot\":\"Ġ\",\"gdot\":\"ġ\",\"ge\":\"≥\",\"gE\":\"≧\",\"gEl\":\"⪌\",\"gel\":\"⋛\",\"geq\":\"≥\",\"geqq\":\"≧\",\"geqslant\":\"⩾\",\"gescc\":\"⪩\",\"ges\":\"⩾\",\"gesdot\":\"⪀\",\"gesdoto\":\"⪂\",\"gesdotol\":\"⪄\",\"gesl\":\"⋛︀\",\"gesles\":\"⪔\",\"Gfr\":\"𝔊\",\"gfr\":\"𝔤\",\"gg\":\"≫\",\"Gg\":\"⋙\",\"ggg\":\"⋙\",\"gimel\":\"ℷ\",\"GJcy\":\"Ѓ\",\"gjcy\":\"ѓ\",\"gla\":\"⪥\",\"gl\":\"≷\",\"glE\":\"⪒\",\"glj\":\"⪤\",\"gnap\":\"⪊\",\"gnapprox\":\"⪊\",\"gne\":\"⪈\",\"gnE\":\"≩\",\"gneq\":\"⪈\",\"gneqq\":\"≩\",\"gnsim\":\"⋧\",\"Gopf\":\"𝔾\",\"gopf\":\"𝕘\",\"grave\":\"`\",\"GreaterEqual\":\"≥\",\"GreaterEqualLess\":\"⋛\",\"GreaterFullEqual\":\"≧\",\"GreaterGreater\":\"⪢\",\"GreaterLess\":\"≷\",\"GreaterSlantEqual\":\"⩾\",\"GreaterTilde\":\"≳\",\"Gscr\":\"𝒢\",\"gscr\":\"ℊ\",\"gsim\":\"≳\",\"gsime\":\"⪎\",\"gsiml\":\"⪐\",\"gtcc\":\"⪧\",\"gtcir\":\"⩺\",\"gt\":\">\",\"GT\":\">\",\"Gt\":\"≫\",\"gtdot\":\"⋗\",\"gtlPar\":\"⦕\",\"gtquest\":\"⩼\",\"gtrapprox\":\"⪆\",\"gtrarr\":\"⥸\",\"gtrdot\":\"⋗\",\"gtreqless\":\"⋛\",\"gtreqqless\":\"⪌\",\"gtrless\":\"≷\",\"gtrsim\":\"≳\",\"gvertneqq\":\"≩︀\",\"gvnE\":\"≩︀\",\"Hacek\":\"ˇ\",\"hairsp\":\" \",\"half\":\"½\",\"hamilt\":\"ℋ\",\"HARDcy\":\"Ъ\",\"hardcy\":\"ъ\",\"harrcir\":\"⥈\",\"harr\":\"↔\",\"hArr\":\"⇔\",\"harrw\":\"↭\",\"Hat\":\"^\",\"hbar\":\"ℏ\",\"Hcirc\":\"Ĥ\",\"hcirc\":\"ĥ\",\"hearts\":\"♥\",\"heartsuit\":\"♥\",\"hellip\":\"…\",\"hercon\":\"⊹\",\"hfr\":\"𝔥\",\"Hfr\":\"ℌ\",\"HilbertSpace\":\"ℋ\",\"hksearow\":\"⤥\",\"hkswarow\":\"⤦\",\"hoarr\":\"⇿\",\"homtht\":\"∻\",\"hookleftarrow\":\"↩\",\"hookrightarrow\":\"↪\",\"hopf\":\"𝕙\",\"Hopf\":\"ℍ\",\"horbar\":\"―\",\"HorizontalLine\":\"─\",\"hscr\":\"𝒽\",\"Hscr\":\"ℋ\",\"hslash\":\"ℏ\",\"Hstrok\":\"Ħ\",\"hstrok\":\"ħ\",\"HumpDownHump\":\"≎\",\"HumpEqual\":\"≏\",\"hybull\":\"⁃\",\"hyphen\":\"‐\",\"Iacute\":\"Í\",\"iacute\":\"í\",\"ic\":\"⁣\",\"Icirc\":\"Î\",\"icirc\":\"î\",\"Icy\":\"И\",\"icy\":\"и\",\"Idot\":\"İ\",\"IEcy\":\"Е\",\"iecy\":\"е\",\"iexcl\":\"¡\",\"iff\":\"⇔\",\"ifr\":\"𝔦\",\"Ifr\":\"ℑ\",\"Igrave\":\"Ì\",\"igrave\":\"ì\",\"ii\":\"ⅈ\",\"iiiint\":\"⨌\",\"iiint\":\"∭\",\"iinfin\":\"⧜\",\"iiota\":\"℩\",\"IJlig\":\"Ĳ\",\"ijlig\":\"ĳ\",\"Imacr\":\"Ī\",\"imacr\":\"ī\",\"image\":\"ℑ\",\"ImaginaryI\":\"ⅈ\",\"imagline\":\"ℐ\",\"imagpart\":\"ℑ\",\"imath\":\"ı\",\"Im\":\"ℑ\",\"imof\":\"⊷\",\"imped\":\"Ƶ\",\"Implies\":\"⇒\",\"incare\":\"℅\",\"in\":\"∈\",\"infin\":\"∞\",\"infintie\":\"⧝\",\"inodot\":\"ı\",\"intcal\":\"⊺\",\"int\":\"∫\",\"Int\":\"∬\",\"integers\":\"ℤ\",\"Integral\":\"∫\",\"intercal\":\"⊺\",\"Intersection\":\"⋂\",\"intlarhk\":\"⨗\",\"intprod\":\"⨼\",\"InvisibleComma\":\"⁣\",\"InvisibleTimes\":\"⁢\",\"IOcy\":\"Ё\",\"iocy\":\"ё\",\"Iogon\":\"Į\",\"iogon\":\"į\",\"Iopf\":\"𝕀\",\"iopf\":\"𝕚\",\"Iota\":\"Ι\",\"iota\":\"ι\",\"iprod\":\"⨼\",\"iquest\":\"¿\",\"iscr\":\"𝒾\",\"Iscr\":\"ℐ\",\"isin\":\"∈\",\"isindot\":\"⋵\",\"isinE\":\"⋹\",\"isins\":\"⋴\",\"isinsv\":\"⋳\",\"isinv\":\"∈\",\"it\":\"⁢\",\"Itilde\":\"Ĩ\",\"itilde\":\"ĩ\",\"Iukcy\":\"І\",\"iukcy\":\"і\",\"Iuml\":\"Ï\",\"iuml\":\"ï\",\"Jcirc\":\"Ĵ\",\"jcirc\":\"ĵ\",\"Jcy\":\"Й\",\"jcy\":\"й\",\"Jfr\":\"𝔍\",\"jfr\":\"𝔧\",\"jmath\":\"ȷ\",\"Jopf\":\"𝕁\",\"jopf\":\"𝕛\",\"Jscr\":\"𝒥\",\"jscr\":\"𝒿\",\"Jsercy\":\"Ј\",\"jsercy\":\"ј\",\"Jukcy\":\"Є\",\"jukcy\":\"є\",\"Kappa\":\"Κ\",\"kappa\":\"κ\",\"kappav\":\"ϰ\",\"Kcedil\":\"Ķ\",\"kcedil\":\"ķ\",\"Kcy\":\"К\",\"kcy\":\"к\",\"Kfr\":\"𝔎\",\"kfr\":\"𝔨\",\"kgreen\":\"ĸ\",\"KHcy\":\"Х\",\"khcy\":\"х\",\"KJcy\":\"Ќ\",\"kjcy\":\"ќ\",\"Kopf\":\"𝕂\",\"kopf\":\"𝕜\",\"Kscr\":\"𝒦\",\"kscr\":\"𝓀\",\"lAarr\":\"⇚\",\"Lacute\":\"Ĺ\",\"lacute\":\"ĺ\",\"laemptyv\":\"⦴\",\"lagran\":\"ℒ\",\"Lambda\":\"Λ\",\"lambda\":\"λ\",\"lang\":\"⟨\",\"Lang\":\"⟪\",\"langd\":\"⦑\",\"langle\":\"⟨\",\"lap\":\"⪅\",\"Laplacetrf\":\"ℒ\",\"laquo\":\"«\",\"larrb\":\"⇤\",\"larrbfs\":\"⤟\",\"larr\":\"←\",\"Larr\":\"↞\",\"lArr\":\"⇐\",\"larrfs\":\"⤝\",\"larrhk\":\"↩\",\"larrlp\":\"↫\",\"larrpl\":\"⤹\",\"larrsim\":\"⥳\",\"larrtl\":\"↢\",\"latail\":\"⤙\",\"lAtail\":\"⤛\",\"lat\":\"⪫\",\"late\":\"⪭\",\"lates\":\"⪭︀\",\"lbarr\":\"⤌\",\"lBarr\":\"⤎\",\"lbbrk\":\"❲\",\"lbrace\":\"{\",\"lbrack\":\"[\",\"lbrke\":\"⦋\",\"lbrksld\":\"⦏\",\"lbrkslu\":\"⦍\",\"Lcaron\":\"Ľ\",\"lcaron\":\"ľ\",\"Lcedil\":\"Ļ\",\"lcedil\":\"ļ\",\"lceil\":\"⌈\",\"lcub\":\"{\",\"Lcy\":\"Л\",\"lcy\":\"л\",\"ldca\":\"⤶\",\"ldquo\":\"“\",\"ldquor\":\"„\",\"ldrdhar\":\"⥧\",\"ldrushar\":\"⥋\",\"ldsh\":\"↲\",\"le\":\"≤\",\"lE\":\"≦\",\"LeftAngleBracket\":\"⟨\",\"LeftArrowBar\":\"⇤\",\"leftarrow\":\"←\",\"LeftArrow\":\"←\",\"Leftarrow\":\"⇐\",\"LeftArrowRightArrow\":\"⇆\",\"leftarrowtail\":\"↢\",\"LeftCeiling\":\"⌈\",\"LeftDoubleBracket\":\"⟦\",\"LeftDownTeeVector\":\"⥡\",\"LeftDownVectorBar\":\"⥙\",\"LeftDownVector\":\"⇃\",\"LeftFloor\":\"⌊\",\"leftharpoondown\":\"↽\",\"leftharpoonup\":\"↼\",\"leftleftarrows\":\"⇇\",\"leftrightarrow\":\"↔\",\"LeftRightArrow\":\"↔\",\"Leftrightarrow\":\"⇔\",\"leftrightarrows\":\"⇆\",\"leftrightharpoons\":\"⇋\",\"leftrightsquigarrow\":\"↭\",\"LeftRightVector\":\"⥎\",\"LeftTeeArrow\":\"↤\",\"LeftTee\":\"⊣\",\"LeftTeeVector\":\"⥚\",\"leftthreetimes\":\"⋋\",\"LeftTriangleBar\":\"⧏\",\"LeftTriangle\":\"⊲\",\"LeftTriangleEqual\":\"⊴\",\"LeftUpDownVector\":\"⥑\",\"LeftUpTeeVector\":\"⥠\",\"LeftUpVectorBar\":\"⥘\",\"LeftUpVector\":\"↿\",\"LeftVectorBar\":\"⥒\",\"LeftVector\":\"↼\",\"lEg\":\"⪋\",\"leg\":\"⋚\",\"leq\":\"≤\",\"leqq\":\"≦\",\"leqslant\":\"⩽\",\"lescc\":\"⪨\",\"les\":\"⩽\",\"lesdot\":\"⩿\",\"lesdoto\":\"⪁\",\"lesdotor\":\"⪃\",\"lesg\":\"⋚︀\",\"lesges\":\"⪓\",\"lessapprox\":\"⪅\",\"lessdot\":\"⋖\",\"lesseqgtr\":\"⋚\",\"lesseqqgtr\":\"⪋\",\"LessEqualGreater\":\"⋚\",\"LessFullEqual\":\"≦\",\"LessGreater\":\"≶\",\"lessgtr\":\"≶\",\"LessLess\":\"⪡\",\"lesssim\":\"≲\",\"LessSlantEqual\":\"⩽\",\"LessTilde\":\"≲\",\"lfisht\":\"⥼\",\"lfloor\":\"⌊\",\"Lfr\":\"𝔏\",\"lfr\":\"𝔩\",\"lg\":\"≶\",\"lgE\":\"⪑\",\"lHar\":\"⥢\",\"lhard\":\"↽\",\"lharu\":\"↼\",\"lharul\":\"⥪\",\"lhblk\":\"▄\",\"LJcy\":\"Љ\",\"ljcy\":\"љ\",\"llarr\":\"⇇\",\"ll\":\"≪\",\"Ll\":\"⋘\",\"llcorner\":\"⌞\",\"Lleftarrow\":\"⇚\",\"llhard\":\"⥫\",\"lltri\":\"◺\",\"Lmidot\":\"Ŀ\",\"lmidot\":\"ŀ\",\"lmoustache\":\"⎰\",\"lmoust\":\"⎰\",\"lnap\":\"⪉\",\"lnapprox\":\"⪉\",\"lne\":\"⪇\",\"lnE\":\"≨\",\"lneq\":\"⪇\",\"lneqq\":\"≨\",\"lnsim\":\"⋦\",\"loang\":\"⟬\",\"loarr\":\"⇽\",\"lobrk\":\"⟦\",\"longleftarrow\":\"⟵\",\"LongLeftArrow\":\"⟵\",\"Longleftarrow\":\"⟸\",\"longleftrightarrow\":\"⟷\",\"LongLeftRightArrow\":\"⟷\",\"Longleftrightarrow\":\"⟺\",\"longmapsto\":\"⟼\",\"longrightarrow\":\"⟶\",\"LongRightArrow\":\"⟶\",\"Longrightarrow\":\"⟹\",\"looparrowleft\":\"↫\",\"looparrowright\":\"↬\",\"lopar\":\"⦅\",\"Lopf\":\"𝕃\",\"lopf\":\"𝕝\",\"loplus\":\"⨭\",\"lotimes\":\"⨴\",\"lowast\":\"∗\",\"lowbar\":\"_\",\"LowerLeftArrow\":\"↙\",\"LowerRightArrow\":\"↘\",\"loz\":\"◊\",\"lozenge\":\"◊\",\"lozf\":\"⧫\",\"lpar\":\"(\",\"lparlt\":\"⦓\",\"lrarr\":\"⇆\",\"lrcorner\":\"⌟\",\"lrhar\":\"⇋\",\"lrhard\":\"⥭\",\"lrm\":\"‎\",\"lrtri\":\"⊿\",\"lsaquo\":\"‹\",\"lscr\":\"𝓁\",\"Lscr\":\"ℒ\",\"lsh\":\"↰\",\"Lsh\":\"↰\",\"lsim\":\"≲\",\"lsime\":\"⪍\",\"lsimg\":\"⪏\",\"lsqb\":\"[\",\"lsquo\":\"‘\",\"lsquor\":\"‚\",\"Lstrok\":\"Ł\",\"lstrok\":\"ł\",\"ltcc\":\"⪦\",\"ltcir\":\"⩹\",\"lt\":\"<\",\"LT\":\"<\",\"Lt\":\"≪\",\"ltdot\":\"⋖\",\"lthree\":\"⋋\",\"ltimes\":\"⋉\",\"ltlarr\":\"⥶\",\"ltquest\":\"⩻\",\"ltri\":\"◃\",\"ltrie\":\"⊴\",\"ltrif\":\"◂\",\"ltrPar\":\"⦖\",\"lurdshar\":\"⥊\",\"luruhar\":\"⥦\",\"lvertneqq\":\"≨︀\",\"lvnE\":\"≨︀\",\"macr\":\"¯\",\"male\":\"♂\",\"malt\":\"✠\",\"maltese\":\"✠\",\"Map\":\"⤅\",\"map\":\"↦\",\"mapsto\":\"↦\",\"mapstodown\":\"↧\",\"mapstoleft\":\"↤\",\"mapstoup\":\"↥\",\"marker\":\"▮\",\"mcomma\":\"⨩\",\"Mcy\":\"М\",\"mcy\":\"м\",\"mdash\":\"—\",\"mDDot\":\"∺\",\"measuredangle\":\"∡\",\"MediumSpace\":\" \",\"Mellintrf\":\"ℳ\",\"Mfr\":\"𝔐\",\"mfr\":\"𝔪\",\"mho\":\"℧\",\"micro\":\"µ\",\"midast\":\"*\",\"midcir\":\"⫰\",\"mid\":\"∣\",\"middot\":\"·\",\"minusb\":\"⊟\",\"minus\":\"−\",\"minusd\":\"∸\",\"minusdu\":\"⨪\",\"MinusPlus\":\"∓\",\"mlcp\":\"⫛\",\"mldr\":\"…\",\"mnplus\":\"∓\",\"models\":\"⊧\",\"Mopf\":\"𝕄\",\"mopf\":\"𝕞\",\"mp\":\"∓\",\"mscr\":\"𝓂\",\"Mscr\":\"ℳ\",\"mstpos\":\"∾\",\"Mu\":\"Μ\",\"mu\":\"μ\",\"multimap\":\"⊸\",\"mumap\":\"⊸\",\"nabla\":\"∇\",\"Nacute\":\"Ń\",\"nacute\":\"ń\",\"nang\":\"∠⃒\",\"nap\":\"≉\",\"napE\":\"⩰̸\",\"napid\":\"≋̸\",\"napos\":\"ŉ\",\"napprox\":\"≉\",\"natural\":\"♮\",\"naturals\":\"ℕ\",\"natur\":\"♮\",\"nbsp\":\" \",\"nbump\":\"≎̸\",\"nbumpe\":\"≏̸\",\"ncap\":\"⩃\",\"Ncaron\":\"Ň\",\"ncaron\":\"ň\",\"Ncedil\":\"Ņ\",\"ncedil\":\"ņ\",\"ncong\":\"≇\",\"ncongdot\":\"⩭̸\",\"ncup\":\"⩂\",\"Ncy\":\"Н\",\"ncy\":\"н\",\"ndash\":\"–\",\"nearhk\":\"⤤\",\"nearr\":\"↗\",\"neArr\":\"⇗\",\"nearrow\":\"↗\",\"ne\":\"≠\",\"nedot\":\"≐̸\",\"NegativeMediumSpace\":\"​\",\"NegativeThickSpace\":\"​\",\"NegativeThinSpace\":\"​\",\"NegativeVeryThinSpace\":\"​\",\"nequiv\":\"≢\",\"nesear\":\"⤨\",\"nesim\":\"≂̸\",\"NestedGreaterGreater\":\"≫\",\"NestedLessLess\":\"≪\",\"NewLine\":\"\\n\",\"nexist\":\"∄\",\"nexists\":\"∄\",\"Nfr\":\"𝔑\",\"nfr\":\"𝔫\",\"ngE\":\"≧̸\",\"nge\":\"≱\",\"ngeq\":\"≱\",\"ngeqq\":\"≧̸\",\"ngeqslant\":\"⩾̸\",\"nges\":\"⩾̸\",\"nGg\":\"⋙̸\",\"ngsim\":\"≵\",\"nGt\":\"≫⃒\",\"ngt\":\"≯\",\"ngtr\":\"≯\",\"nGtv\":\"≫̸\",\"nharr\":\"↮\",\"nhArr\":\"⇎\",\"nhpar\":\"⫲\",\"ni\":\"∋\",\"nis\":\"⋼\",\"nisd\":\"⋺\",\"niv\":\"∋\",\"NJcy\":\"Њ\",\"njcy\":\"њ\",\"nlarr\":\"↚\",\"nlArr\":\"⇍\",\"nldr\":\"‥\",\"nlE\":\"≦̸\",\"nle\":\"≰\",\"nleftarrow\":\"↚\",\"nLeftarrow\":\"⇍\",\"nleftrightarrow\":\"↮\",\"nLeftrightarrow\":\"⇎\",\"nleq\":\"≰\",\"nleqq\":\"≦̸\",\"nleqslant\":\"⩽̸\",\"nles\":\"⩽̸\",\"nless\":\"≮\",\"nLl\":\"⋘̸\",\"nlsim\":\"≴\",\"nLt\":\"≪⃒\",\"nlt\":\"≮\",\"nltri\":\"⋪\",\"nltrie\":\"⋬\",\"nLtv\":\"≪̸\",\"nmid\":\"∤\",\"NoBreak\":\"⁠\",\"NonBreakingSpace\":\" \",\"nopf\":\"𝕟\",\"Nopf\":\"ℕ\",\"Not\":\"⫬\",\"not\":\"¬\",\"NotCongruent\":\"≢\",\"NotCupCap\":\"≭\",\"NotDoubleVerticalBar\":\"∦\",\"NotElement\":\"∉\",\"NotEqual\":\"≠\",\"NotEqualTilde\":\"≂̸\",\"NotExists\":\"∄\",\"NotGreater\":\"≯\",\"NotGreaterEqual\":\"≱\",\"NotGreaterFullEqual\":\"≧̸\",\"NotGreaterGreater\":\"≫̸\",\"NotGreaterLess\":\"≹\",\"NotGreaterSlantEqual\":\"⩾̸\",\"NotGreaterTilde\":\"≵\",\"NotHumpDownHump\":\"≎̸\",\"NotHumpEqual\":\"≏̸\",\"notin\":\"∉\",\"notindot\":\"⋵̸\",\"notinE\":\"⋹̸\",\"notinva\":\"∉\",\"notinvb\":\"⋷\",\"notinvc\":\"⋶\",\"NotLeftTriangleBar\":\"⧏̸\",\"NotLeftTriangle\":\"⋪\",\"NotLeftTriangleEqual\":\"⋬\",\"NotLess\":\"≮\",\"NotLessEqual\":\"≰\",\"NotLessGreater\":\"≸\",\"NotLessLess\":\"≪̸\",\"NotLessSlantEqual\":\"⩽̸\",\"NotLessTilde\":\"≴\",\"NotNestedGreaterGreater\":\"⪢̸\",\"NotNestedLessLess\":\"⪡̸\",\"notni\":\"∌\",\"notniva\":\"∌\",\"notnivb\":\"⋾\",\"notnivc\":\"⋽\",\"NotPrecedes\":\"⊀\",\"NotPrecedesEqual\":\"⪯̸\",\"NotPrecedesSlantEqual\":\"⋠\",\"NotReverseElement\":\"∌\",\"NotRightTriangleBar\":\"⧐̸\",\"NotRightTriangle\":\"⋫\",\"NotRightTriangleEqual\":\"⋭\",\"NotSquareSubset\":\"⊏̸\",\"NotSquareSubsetEqual\":\"⋢\",\"NotSquareSuperset\":\"⊐̸\",\"NotSquareSupersetEqual\":\"⋣\",\"NotSubset\":\"⊂⃒\",\"NotSubsetEqual\":\"⊈\",\"NotSucceeds\":\"⊁\",\"NotSucceedsEqual\":\"⪰̸\",\"NotSucceedsSlantEqual\":\"⋡\",\"NotSucceedsTilde\":\"≿̸\",\"NotSuperset\":\"⊃⃒\",\"NotSupersetEqual\":\"⊉\",\"NotTilde\":\"≁\",\"NotTildeEqual\":\"≄\",\"NotTildeFullEqual\":\"≇\",\"NotTildeTilde\":\"≉\",\"NotVerticalBar\":\"∤\",\"nparallel\":\"∦\",\"npar\":\"∦\",\"nparsl\":\"⫽⃥\",\"npart\":\"∂̸\",\"npolint\":\"⨔\",\"npr\":\"⊀\",\"nprcue\":\"⋠\",\"nprec\":\"⊀\",\"npreceq\":\"⪯̸\",\"npre\":\"⪯̸\",\"nrarrc\":\"⤳̸\",\"nrarr\":\"↛\",\"nrArr\":\"⇏\",\"nrarrw\":\"↝̸\",\"nrightarrow\":\"↛\",\"nRightarrow\":\"⇏\",\"nrtri\":\"⋫\",\"nrtrie\":\"⋭\",\"nsc\":\"⊁\",\"nsccue\":\"⋡\",\"nsce\":\"⪰̸\",\"Nscr\":\"𝒩\",\"nscr\":\"𝓃\",\"nshortmid\":\"∤\",\"nshortparallel\":\"∦\",\"nsim\":\"≁\",\"nsime\":\"≄\",\"nsimeq\":\"≄\",\"nsmid\":\"∤\",\"nspar\":\"∦\",\"nsqsube\":\"⋢\",\"nsqsupe\":\"⋣\",\"nsub\":\"⊄\",\"nsubE\":\"⫅̸\",\"nsube\":\"⊈\",\"nsubset\":\"⊂⃒\",\"nsubseteq\":\"⊈\",\"nsubseteqq\":\"⫅̸\",\"nsucc\":\"⊁\",\"nsucceq\":\"⪰̸\",\"nsup\":\"⊅\",\"nsupE\":\"⫆̸\",\"nsupe\":\"⊉\",\"nsupset\":\"⊃⃒\",\"nsupseteq\":\"⊉\",\"nsupseteqq\":\"⫆̸\",\"ntgl\":\"≹\",\"Ntilde\":\"Ñ\",\"ntilde\":\"ñ\",\"ntlg\":\"≸\",\"ntriangleleft\":\"⋪\",\"ntrianglelefteq\":\"⋬\",\"ntriangleright\":\"⋫\",\"ntrianglerighteq\":\"⋭\",\"Nu\":\"Ν\",\"nu\":\"ν\",\"num\":\"#\",\"numero\":\"№\",\"numsp\":\" \",\"nvap\":\"≍⃒\",\"nvdash\":\"⊬\",\"nvDash\":\"⊭\",\"nVdash\":\"⊮\",\"nVDash\":\"⊯\",\"nvge\":\"≥⃒\",\"nvgt\":\">⃒\",\"nvHarr\":\"⤄\",\"nvinfin\":\"⧞\",\"nvlArr\":\"⤂\",\"nvle\":\"≤⃒\",\"nvlt\":\"<⃒\",\"nvltrie\":\"⊴⃒\",\"nvrArr\":\"⤃\",\"nvrtrie\":\"⊵⃒\",\"nvsim\":\"∼⃒\",\"nwarhk\":\"⤣\",\"nwarr\":\"↖\",\"nwArr\":\"⇖\",\"nwarrow\":\"↖\",\"nwnear\":\"⤧\",\"Oacute\":\"Ó\",\"oacute\":\"ó\",\"oast\":\"⊛\",\"Ocirc\":\"Ô\",\"ocirc\":\"ô\",\"ocir\":\"⊚\",\"Ocy\":\"О\",\"ocy\":\"о\",\"odash\":\"⊝\",\"Odblac\":\"Ő\",\"odblac\":\"ő\",\"odiv\":\"⨸\",\"odot\":\"⊙\",\"odsold\":\"⦼\",\"OElig\":\"Œ\",\"oelig\":\"œ\",\"ofcir\":\"⦿\",\"Ofr\":\"𝔒\",\"ofr\":\"𝔬\",\"ogon\":\"˛\",\"Ograve\":\"Ò\",\"ograve\":\"ò\",\"ogt\":\"⧁\",\"ohbar\":\"⦵\",\"ohm\":\"Ω\",\"oint\":\"∮\",\"olarr\":\"↺\",\"olcir\":\"⦾\",\"olcross\":\"⦻\",\"oline\":\"‾\",\"olt\":\"⧀\",\"Omacr\":\"Ō\",\"omacr\":\"ō\",\"Omega\":\"Ω\",\"omega\":\"ω\",\"Omicron\":\"Ο\",\"omicron\":\"ο\",\"omid\":\"⦶\",\"ominus\":\"⊖\",\"Oopf\":\"𝕆\",\"oopf\":\"𝕠\",\"opar\":\"⦷\",\"OpenCurlyDoubleQuote\":\"“\",\"OpenCurlyQuote\":\"‘\",\"operp\":\"⦹\",\"oplus\":\"⊕\",\"orarr\":\"↻\",\"Or\":\"⩔\",\"or\":\"∨\",\"ord\":\"⩝\",\"order\":\"ℴ\",\"orderof\":\"ℴ\",\"ordf\":\"ª\",\"ordm\":\"º\",\"origof\":\"⊶\",\"oror\":\"⩖\",\"orslope\":\"⩗\",\"orv\":\"⩛\",\"oS\":\"Ⓢ\",\"Oscr\":\"𝒪\",\"oscr\":\"ℴ\",\"Oslash\":\"Ø\",\"oslash\":\"ø\",\"osol\":\"⊘\",\"Otilde\":\"Õ\",\"otilde\":\"õ\",\"otimesas\":\"⨶\",\"Otimes\":\"⨷\",\"otimes\":\"⊗\",\"Ouml\":\"Ö\",\"ouml\":\"ö\",\"ovbar\":\"⌽\",\"OverBar\":\"‾\",\"OverBrace\":\"⏞\",\"OverBracket\":\"⎴\",\"OverParenthesis\":\"⏜\",\"para\":\"¶\",\"parallel\":\"∥\",\"par\":\"∥\",\"parsim\":\"⫳\",\"parsl\":\"⫽\",\"part\":\"∂\",\"PartialD\":\"∂\",\"Pcy\":\"П\",\"pcy\":\"п\",\"percnt\":\"%\",\"period\":\".\",\"permil\":\"‰\",\"perp\":\"⊥\",\"pertenk\":\"‱\",\"Pfr\":\"𝔓\",\"pfr\":\"𝔭\",\"Phi\":\"Φ\",\"phi\":\"φ\",\"phiv\":\"ϕ\",\"phmmat\":\"ℳ\",\"phone\":\"☎\",\"Pi\":\"Π\",\"pi\":\"π\",\"pitchfork\":\"⋔\",\"piv\":\"ϖ\",\"planck\":\"ℏ\",\"planckh\":\"ℎ\",\"plankv\":\"ℏ\",\"plusacir\":\"⨣\",\"plusb\":\"⊞\",\"pluscir\":\"⨢\",\"plus\":\"+\",\"plusdo\":\"∔\",\"plusdu\":\"⨥\",\"pluse\":\"⩲\",\"PlusMinus\":\"±\",\"plusmn\":\"±\",\"plussim\":\"⨦\",\"plustwo\":\"⨧\",\"pm\":\"±\",\"Poincareplane\":\"ℌ\",\"pointint\":\"⨕\",\"popf\":\"𝕡\",\"Popf\":\"ℙ\",\"pound\":\"£\",\"prap\":\"⪷\",\"Pr\":\"⪻\",\"pr\":\"≺\",\"prcue\":\"≼\",\"precapprox\":\"⪷\",\"prec\":\"≺\",\"preccurlyeq\":\"≼\",\"Precedes\":\"≺\",\"PrecedesEqual\":\"⪯\",\"PrecedesSlantEqual\":\"≼\",\"PrecedesTilde\":\"≾\",\"preceq\":\"⪯\",\"precnapprox\":\"⪹\",\"precneqq\":\"⪵\",\"precnsim\":\"⋨\",\"pre\":\"⪯\",\"prE\":\"⪳\",\"precsim\":\"≾\",\"prime\":\"′\",\"Prime\":\"″\",\"primes\":\"ℙ\",\"prnap\":\"⪹\",\"prnE\":\"⪵\",\"prnsim\":\"⋨\",\"prod\":\"∏\",\"Product\":\"∏\",\"profalar\":\"⌮\",\"profline\":\"⌒\",\"profsurf\":\"⌓\",\"prop\":\"∝\",\"Proportional\":\"∝\",\"Proportion\":\"∷\",\"propto\":\"∝\",\"prsim\":\"≾\",\"prurel\":\"⊰\",\"Pscr\":\"𝒫\",\"pscr\":\"𝓅\",\"Psi\":\"Ψ\",\"psi\":\"ψ\",\"puncsp\":\" \",\"Qfr\":\"𝔔\",\"qfr\":\"𝔮\",\"qint\":\"⨌\",\"qopf\":\"𝕢\",\"Qopf\":\"ℚ\",\"qprime\":\"⁗\",\"Qscr\":\"𝒬\",\"qscr\":\"𝓆\",\"quaternions\":\"ℍ\",\"quatint\":\"⨖\",\"quest\":\"?\",\"questeq\":\"≟\",\"quot\":\"\\\"\",\"QUOT\":\"\\\"\",\"rAarr\":\"⇛\",\"race\":\"∽̱\",\"Racute\":\"Ŕ\",\"racute\":\"ŕ\",\"radic\":\"√\",\"raemptyv\":\"⦳\",\"rang\":\"⟩\",\"Rang\":\"⟫\",\"rangd\":\"⦒\",\"range\":\"⦥\",\"rangle\":\"⟩\",\"raquo\":\"»\",\"rarrap\":\"⥵\",\"rarrb\":\"⇥\",\"rarrbfs\":\"⤠\",\"rarrc\":\"⤳\",\"rarr\":\"→\",\"Rarr\":\"↠\",\"rArr\":\"⇒\",\"rarrfs\":\"⤞\",\"rarrhk\":\"↪\",\"rarrlp\":\"↬\",\"rarrpl\":\"⥅\",\"rarrsim\":\"⥴\",\"Rarrtl\":\"⤖\",\"rarrtl\":\"↣\",\"rarrw\":\"↝\",\"ratail\":\"⤚\",\"rAtail\":\"⤜\",\"ratio\":\"∶\",\"rationals\":\"ℚ\",\"rbarr\":\"⤍\",\"rBarr\":\"⤏\",\"RBarr\":\"⤐\",\"rbbrk\":\"❳\",\"rbrace\":\"}\",\"rbrack\":\"]\",\"rbrke\":\"⦌\",\"rbrksld\":\"⦎\",\"rbrkslu\":\"⦐\",\"Rcaron\":\"Ř\",\"rcaron\":\"ř\",\"Rcedil\":\"Ŗ\",\"rcedil\":\"ŗ\",\"rceil\":\"⌉\",\"rcub\":\"}\",\"Rcy\":\"Р\",\"rcy\":\"р\",\"rdca\":\"⤷\",\"rdldhar\":\"⥩\",\"rdquo\":\"”\",\"rdquor\":\"”\",\"rdsh\":\"↳\",\"real\":\"ℜ\",\"realine\":\"ℛ\",\"realpart\":\"ℜ\",\"reals\":\"ℝ\",\"Re\":\"ℜ\",\"rect\":\"▭\",\"reg\":\"®\",\"REG\":\"®\",\"ReverseElement\":\"∋\",\"ReverseEquilibrium\":\"⇋\",\"ReverseUpEquilibrium\":\"⥯\",\"rfisht\":\"⥽\",\"rfloor\":\"⌋\",\"rfr\":\"𝔯\",\"Rfr\":\"ℜ\",\"rHar\":\"⥤\",\"rhard\":\"⇁\",\"rharu\":\"⇀\",\"rharul\":\"⥬\",\"Rho\":\"Ρ\",\"rho\":\"ρ\",\"rhov\":\"ϱ\",\"RightAngleBracket\":\"⟩\",\"RightArrowBar\":\"⇥\",\"rightarrow\":\"→\",\"RightArrow\":\"→\",\"Rightarrow\":\"⇒\",\"RightArrowLeftArrow\":\"⇄\",\"rightarrowtail\":\"↣\",\"RightCeiling\":\"⌉\",\"RightDoubleBracket\":\"⟧\",\"RightDownTeeVector\":\"⥝\",\"RightDownVectorBar\":\"⥕\",\"RightDownVector\":\"⇂\",\"RightFloor\":\"⌋\",\"rightharpoondown\":\"⇁\",\"rightharpoonup\":\"⇀\",\"rightleftarrows\":\"⇄\",\"rightleftharpoons\":\"⇌\",\"rightrightarrows\":\"⇉\",\"rightsquigarrow\":\"↝\",\"RightTeeArrow\":\"↦\",\"RightTee\":\"⊢\",\"RightTeeVector\":\"⥛\",\"rightthreetimes\":\"⋌\",\"RightTriangleBar\":\"⧐\",\"RightTriangle\":\"⊳\",\"RightTriangleEqual\":\"⊵\",\"RightUpDownVector\":\"⥏\",\"RightUpTeeVector\":\"⥜\",\"RightUpVectorBar\":\"⥔\",\"RightUpVector\":\"↾\",\"RightVectorBar\":\"⥓\",\"RightVector\":\"⇀\",\"ring\":\"˚\",\"risingdotseq\":\"≓\",\"rlarr\":\"⇄\",\"rlhar\":\"⇌\",\"rlm\":\"‏\",\"rmoustache\":\"⎱\",\"rmoust\":\"⎱\",\"rnmid\":\"⫮\",\"roang\":\"⟭\",\"roarr\":\"⇾\",\"robrk\":\"⟧\",\"ropar\":\"⦆\",\"ropf\":\"𝕣\",\"Ropf\":\"ℝ\",\"roplus\":\"⨮\",\"rotimes\":\"⨵\",\"RoundImplies\":\"⥰\",\"rpar\":\")\",\"rpargt\":\"⦔\",\"rppolint\":\"⨒\",\"rrarr\":\"⇉\",\"Rrightarrow\":\"⇛\",\"rsaquo\":\"›\",\"rscr\":\"𝓇\",\"Rscr\":\"ℛ\",\"rsh\":\"↱\",\"Rsh\":\"↱\",\"rsqb\":\"]\",\"rsquo\":\"’\",\"rsquor\":\"’\",\"rthree\":\"⋌\",\"rtimes\":\"⋊\",\"rtri\":\"▹\",\"rtrie\":\"⊵\",\"rtrif\":\"▸\",\"rtriltri\":\"⧎\",\"RuleDelayed\":\"⧴\",\"ruluhar\":\"⥨\",\"rx\":\"℞\",\"Sacute\":\"Ś\",\"sacute\":\"ś\",\"sbquo\":\"‚\",\"scap\":\"⪸\",\"Scaron\":\"Š\",\"scaron\":\"š\",\"Sc\":\"⪼\",\"sc\":\"≻\",\"sccue\":\"≽\",\"sce\":\"⪰\",\"scE\":\"⪴\",\"Scedil\":\"Ş\",\"scedil\":\"ş\",\"Scirc\":\"Ŝ\",\"scirc\":\"ŝ\",\"scnap\":\"⪺\",\"scnE\":\"⪶\",\"scnsim\":\"⋩\",\"scpolint\":\"⨓\",\"scsim\":\"≿\",\"Scy\":\"С\",\"scy\":\"с\",\"sdotb\":\"⊡\",\"sdot\":\"⋅\",\"sdote\":\"⩦\",\"searhk\":\"⤥\",\"searr\":\"↘\",\"seArr\":\"⇘\",\"searrow\":\"↘\",\"sect\":\"§\",\"semi\":\";\",\"seswar\":\"⤩\",\"setminus\":\"∖\",\"setmn\":\"∖\",\"sext\":\"✶\",\"Sfr\":\"𝔖\",\"sfr\":\"𝔰\",\"sfrown\":\"⌢\",\"sharp\":\"♯\",\"SHCHcy\":\"Щ\",\"shchcy\":\"щ\",\"SHcy\":\"Ш\",\"shcy\":\"ш\",\"ShortDownArrow\":\"↓\",\"ShortLeftArrow\":\"←\",\"shortmid\":\"∣\",\"shortparallel\":\"∥\",\"ShortRightArrow\":\"→\",\"ShortUpArrow\":\"↑\",\"shy\":\"­\",\"Sigma\":\"Σ\",\"sigma\":\"σ\",\"sigmaf\":\"ς\",\"sigmav\":\"ς\",\"sim\":\"∼\",\"simdot\":\"⩪\",\"sime\":\"≃\",\"simeq\":\"≃\",\"simg\":\"⪞\",\"simgE\":\"⪠\",\"siml\":\"⪝\",\"simlE\":\"⪟\",\"simne\":\"≆\",\"simplus\":\"⨤\",\"simrarr\":\"⥲\",\"slarr\":\"←\",\"SmallCircle\":\"∘\",\"smallsetminus\":\"∖\",\"smashp\":\"⨳\",\"smeparsl\":\"⧤\",\"smid\":\"∣\",\"smile\":\"⌣\",\"smt\":\"⪪\",\"smte\":\"⪬\",\"smtes\":\"⪬︀\",\"SOFTcy\":\"Ь\",\"softcy\":\"ь\",\"solbar\":\"⌿\",\"solb\":\"⧄\",\"sol\":\"/\",\"Sopf\":\"𝕊\",\"sopf\":\"𝕤\",\"spades\":\"♠\",\"spadesuit\":\"♠\",\"spar\":\"∥\",\"sqcap\":\"⊓\",\"sqcaps\":\"⊓︀\",\"sqcup\":\"⊔\",\"sqcups\":\"⊔︀\",\"Sqrt\":\"√\",\"sqsub\":\"⊏\",\"sqsube\":\"⊑\",\"sqsubset\":\"⊏\",\"sqsubseteq\":\"⊑\",\"sqsup\":\"⊐\",\"sqsupe\":\"⊒\",\"sqsupset\":\"⊐\",\"sqsupseteq\":\"⊒\",\"square\":\"□\",\"Square\":\"□\",\"SquareIntersection\":\"⊓\",\"SquareSubset\":\"⊏\",\"SquareSubsetEqual\":\"⊑\",\"SquareSuperset\":\"⊐\",\"SquareSupersetEqual\":\"⊒\",\"SquareUnion\":\"⊔\",\"squarf\":\"▪\",\"squ\":\"□\",\"squf\":\"▪\",\"srarr\":\"→\",\"Sscr\":\"𝒮\",\"sscr\":\"𝓈\",\"ssetmn\":\"∖\",\"ssmile\":\"⌣\",\"sstarf\":\"⋆\",\"Star\":\"⋆\",\"star\":\"☆\",\"starf\":\"★\",\"straightepsilon\":\"ϵ\",\"straightphi\":\"ϕ\",\"strns\":\"¯\",\"sub\":\"⊂\",\"Sub\":\"⋐\",\"subdot\":\"⪽\",\"subE\":\"⫅\",\"sube\":\"⊆\",\"subedot\":\"⫃\",\"submult\":\"⫁\",\"subnE\":\"⫋\",\"subne\":\"⊊\",\"subplus\":\"⪿\",\"subrarr\":\"⥹\",\"subset\":\"⊂\",\"Subset\":\"⋐\",\"subseteq\":\"⊆\",\"subseteqq\":\"⫅\",\"SubsetEqual\":\"⊆\",\"subsetneq\":\"⊊\",\"subsetneqq\":\"⫋\",\"subsim\":\"⫇\",\"subsub\":\"⫕\",\"subsup\":\"⫓\",\"succapprox\":\"⪸\",\"succ\":\"≻\",\"succcurlyeq\":\"≽\",\"Succeeds\":\"≻\",\"SucceedsEqual\":\"⪰\",\"SucceedsSlantEqual\":\"≽\",\"SucceedsTilde\":\"≿\",\"succeq\":\"⪰\",\"succnapprox\":\"⪺\",\"succneqq\":\"⪶\",\"succnsim\":\"⋩\",\"succsim\":\"≿\",\"SuchThat\":\"∋\",\"sum\":\"∑\",\"Sum\":\"∑\",\"sung\":\"♪\",\"sup1\":\"¹\",\"sup2\":\"²\",\"sup3\":\"³\",\"sup\":\"⊃\",\"Sup\":\"⋑\",\"supdot\":\"⪾\",\"supdsub\":\"⫘\",\"supE\":\"⫆\",\"supe\":\"⊇\",\"supedot\":\"⫄\",\"Superset\":\"⊃\",\"SupersetEqual\":\"⊇\",\"suphsol\":\"⟉\",\"suphsub\":\"⫗\",\"suplarr\":\"⥻\",\"supmult\":\"⫂\",\"supnE\":\"⫌\",\"supne\":\"⊋\",\"supplus\":\"⫀\",\"supset\":\"⊃\",\"Supset\":\"⋑\",\"supseteq\":\"⊇\",\"supseteqq\":\"⫆\",\"supsetneq\":\"⊋\",\"supsetneqq\":\"⫌\",\"supsim\":\"⫈\",\"supsub\":\"⫔\",\"supsup\":\"⫖\",\"swarhk\":\"⤦\",\"swarr\":\"↙\",\"swArr\":\"⇙\",\"swarrow\":\"↙\",\"swnwar\":\"⤪\",\"szlig\":\"ß\",\"Tab\":\"\\t\",\"target\":\"⌖\",\"Tau\":\"Τ\",\"tau\":\"τ\",\"tbrk\":\"⎴\",\"Tcaron\":\"Ť\",\"tcaron\":\"ť\",\"Tcedil\":\"Ţ\",\"tcedil\":\"ţ\",\"Tcy\":\"Т\",\"tcy\":\"т\",\"tdot\":\"⃛\",\"telrec\":\"⌕\",\"Tfr\":\"𝔗\",\"tfr\":\"𝔱\",\"there4\":\"∴\",\"therefore\":\"∴\",\"Therefore\":\"∴\",\"Theta\":\"Θ\",\"theta\":\"θ\",\"thetasym\":\"ϑ\",\"thetav\":\"ϑ\",\"thickapprox\":\"≈\",\"thicksim\":\"∼\",\"ThickSpace\":\"  \",\"ThinSpace\":\" \",\"thinsp\":\" \",\"thkap\":\"≈\",\"thksim\":\"∼\",\"THORN\":\"Þ\",\"thorn\":\"þ\",\"tilde\":\"˜\",\"Tilde\":\"∼\",\"TildeEqual\":\"≃\",\"TildeFullEqual\":\"≅\",\"TildeTilde\":\"≈\",\"timesbar\":\"⨱\",\"timesb\":\"⊠\",\"times\":\"×\",\"timesd\":\"⨰\",\"tint\":\"∭\",\"toea\":\"⤨\",\"topbot\":\"⌶\",\"topcir\":\"⫱\",\"top\":\"⊤\",\"Topf\":\"𝕋\",\"topf\":\"𝕥\",\"topfork\":\"⫚\",\"tosa\":\"⤩\",\"tprime\":\"‴\",\"trade\":\"™\",\"TRADE\":\"™\",\"triangle\":\"▵\",\"triangledown\":\"▿\",\"triangleleft\":\"◃\",\"trianglelefteq\":\"⊴\",\"triangleq\":\"≜\",\"triangleright\":\"▹\",\"trianglerighteq\":\"⊵\",\"tridot\":\"◬\",\"trie\":\"≜\",\"triminus\":\"⨺\",\"TripleDot\":\"⃛\",\"triplus\":\"⨹\",\"trisb\":\"⧍\",\"tritime\":\"⨻\",\"trpezium\":\"⏢\",\"Tscr\":\"𝒯\",\"tscr\":\"𝓉\",\"TScy\":\"Ц\",\"tscy\":\"ц\",\"TSHcy\":\"Ћ\",\"tshcy\":\"ћ\",\"Tstrok\":\"Ŧ\",\"tstrok\":\"ŧ\",\"twixt\":\"≬\",\"twoheadleftarrow\":\"↞\",\"twoheadrightarrow\":\"↠\",\"Uacute\":\"Ú\",\"uacute\":\"ú\",\"uarr\":\"↑\",\"Uarr\":\"↟\",\"uArr\":\"⇑\",\"Uarrocir\":\"⥉\",\"Ubrcy\":\"Ў\",\"ubrcy\":\"ў\",\"Ubreve\":\"Ŭ\",\"ubreve\":\"ŭ\",\"Ucirc\":\"Û\",\"ucirc\":\"û\",\"Ucy\":\"У\",\"ucy\":\"у\",\"udarr\":\"⇅\",\"Udblac\":\"Ű\",\"udblac\":\"ű\",\"udhar\":\"⥮\",\"ufisht\":\"⥾\",\"Ufr\":\"𝔘\",\"ufr\":\"𝔲\",\"Ugrave\":\"Ù\",\"ugrave\":\"ù\",\"uHar\":\"⥣\",\"uharl\":\"↿\",\"uharr\":\"↾\",\"uhblk\":\"▀\",\"ulcorn\":\"⌜\",\"ulcorner\":\"⌜\",\"ulcrop\":\"⌏\",\"ultri\":\"◸\",\"Umacr\":\"Ū\",\"umacr\":\"ū\",\"uml\":\"¨\",\"UnderBar\":\"_\",\"UnderBrace\":\"⏟\",\"UnderBracket\":\"⎵\",\"UnderParenthesis\":\"⏝\",\"Union\":\"⋃\",\"UnionPlus\":\"⊎\",\"Uogon\":\"Ų\",\"uogon\":\"ų\",\"Uopf\":\"𝕌\",\"uopf\":\"𝕦\",\"UpArrowBar\":\"⤒\",\"uparrow\":\"↑\",\"UpArrow\":\"↑\",\"Uparrow\":\"⇑\",\"UpArrowDownArrow\":\"⇅\",\"updownarrow\":\"↕\",\"UpDownArrow\":\"↕\",\"Updownarrow\":\"⇕\",\"UpEquilibrium\":\"⥮\",\"upharpoonleft\":\"↿\",\"upharpoonright\":\"↾\",\"uplus\":\"⊎\",\"UpperLeftArrow\":\"↖\",\"UpperRightArrow\":\"↗\",\"upsi\":\"υ\",\"Upsi\":\"ϒ\",\"upsih\":\"ϒ\",\"Upsilon\":\"Υ\",\"upsilon\":\"υ\",\"UpTeeArrow\":\"↥\",\"UpTee\":\"⊥\",\"upuparrows\":\"⇈\",\"urcorn\":\"⌝\",\"urcorner\":\"⌝\",\"urcrop\":\"⌎\",\"Uring\":\"Ů\",\"uring\":\"ů\",\"urtri\":\"◹\",\"Uscr\":\"𝒰\",\"uscr\":\"𝓊\",\"utdot\":\"⋰\",\"Utilde\":\"Ũ\",\"utilde\":\"ũ\",\"utri\":\"▵\",\"utrif\":\"▴\",\"uuarr\":\"⇈\",\"Uuml\":\"Ü\",\"uuml\":\"ü\",\"uwangle\":\"⦧\",\"vangrt\":\"⦜\",\"varepsilon\":\"ϵ\",\"varkappa\":\"ϰ\",\"varnothing\":\"∅\",\"varphi\":\"ϕ\",\"varpi\":\"ϖ\",\"varpropto\":\"∝\",\"varr\":\"↕\",\"vArr\":\"⇕\",\"varrho\":\"ϱ\",\"varsigma\":\"ς\",\"varsubsetneq\":\"⊊︀\",\"varsubsetneqq\":\"⫋︀\",\"varsupsetneq\":\"⊋︀\",\"varsupsetneqq\":\"⫌︀\",\"vartheta\":\"ϑ\",\"vartriangleleft\":\"⊲\",\"vartriangleright\":\"⊳\",\"vBar\":\"⫨\",\"Vbar\":\"⫫\",\"vBarv\":\"⫩\",\"Vcy\":\"В\",\"vcy\":\"в\",\"vdash\":\"⊢\",\"vDash\":\"⊨\",\"Vdash\":\"⊩\",\"VDash\":\"⊫\",\"Vdashl\":\"⫦\",\"veebar\":\"⊻\",\"vee\":\"∨\",\"Vee\":\"⋁\",\"veeeq\":\"≚\",\"vellip\":\"⋮\",\"verbar\":\"|\",\"Verbar\":\"‖\",\"vert\":\"|\",\"Vert\":\"‖\",\"VerticalBar\":\"∣\",\"VerticalLine\":\"|\",\"VerticalSeparator\":\"❘\",\"VerticalTilde\":\"≀\",\"VeryThinSpace\":\" \",\"Vfr\":\"𝔙\",\"vfr\":\"𝔳\",\"vltri\":\"⊲\",\"vnsub\":\"⊂⃒\",\"vnsup\":\"⊃⃒\",\"Vopf\":\"𝕍\",\"vopf\":\"𝕧\",\"vprop\":\"∝\",\"vrtri\":\"⊳\",\"Vscr\":\"𝒱\",\"vscr\":\"𝓋\",\"vsubnE\":\"⫋︀\",\"vsubne\":\"⊊︀\",\"vsupnE\":\"⫌︀\",\"vsupne\":\"⊋︀\",\"Vvdash\":\"⊪\",\"vzigzag\":\"⦚\",\"Wcirc\":\"Ŵ\",\"wcirc\":\"ŵ\",\"wedbar\":\"⩟\",\"wedge\":\"∧\",\"Wedge\":\"⋀\",\"wedgeq\":\"≙\",\"weierp\":\"℘\",\"Wfr\":\"𝔚\",\"wfr\":\"𝔴\",\"Wopf\":\"𝕎\",\"wopf\":\"𝕨\",\"wp\":\"℘\",\"wr\":\"≀\",\"wreath\":\"≀\",\"Wscr\":\"𝒲\",\"wscr\":\"𝓌\",\"xcap\":\"⋂\",\"xcirc\":\"◯\",\"xcup\":\"⋃\",\"xdtri\":\"▽\",\"Xfr\":\"𝔛\",\"xfr\":\"𝔵\",\"xharr\":\"⟷\",\"xhArr\":\"⟺\",\"Xi\":\"Ξ\",\"xi\":\"ξ\",\"xlarr\":\"⟵\",\"xlArr\":\"⟸\",\"xmap\":\"⟼\",\"xnis\":\"⋻\",\"xodot\":\"⨀\",\"Xopf\":\"𝕏\",\"xopf\":\"𝕩\",\"xoplus\":\"⨁\",\"xotime\":\"⨂\",\"xrarr\":\"⟶\",\"xrArr\":\"⟹\",\"Xscr\":\"𝒳\",\"xscr\":\"𝓍\",\"xsqcup\":\"⨆\",\"xuplus\":\"⨄\",\"xutri\":\"△\",\"xvee\":\"⋁\",\"xwedge\":\"⋀\",\"Yacute\":\"Ý\",\"yacute\":\"ý\",\"YAcy\":\"Я\",\"yacy\":\"я\",\"Ycirc\":\"Ŷ\",\"ycirc\":\"ŷ\",\"Ycy\":\"Ы\",\"ycy\":\"ы\",\"yen\":\"¥\",\"Yfr\":\"𝔜\",\"yfr\":\"𝔶\",\"YIcy\":\"Ї\",\"yicy\":\"ї\",\"Yopf\":\"𝕐\",\"yopf\":\"𝕪\",\"Yscr\":\"𝒴\",\"yscr\":\"𝓎\",\"YUcy\":\"Ю\",\"yucy\":\"ю\",\"yuml\":\"ÿ\",\"Yuml\":\"Ÿ\",\"Zacute\":\"Ź\",\"zacute\":\"ź\",\"Zcaron\":\"Ž\",\"zcaron\":\"ž\",\"Zcy\":\"З\",\"zcy\":\"з\",\"Zdot\":\"Ż\",\"zdot\":\"ż\",\"zeetrf\":\"ℨ\",\"ZeroWidthSpace\":\"​\",\"Zeta\":\"Ζ\",\"zeta\":\"ζ\",\"zfr\":\"𝔷\",\"Zfr\":\"ℨ\",\"ZHcy\":\"Ж\",\"zhcy\":\"ж\",\"zigrarr\":\"⇝\",\"zopf\":\"𝕫\",\"Zopf\":\"ℤ\",\"Zscr\":\"𝒵\",\"zscr\":\"𝓏\",\"zwj\":\"‍\",\"zwnj\":\"‌\"}\n",
    "module.exports={\"Aacute\":\"Á\",\"aacute\":\"á\",\"Acirc\":\"Â\",\"acirc\":\"â\",\"acute\":\"´\",\"AElig\":\"Æ\",\"aelig\":\"æ\",\"Agrave\":\"À\",\"agrave\":\"à\",\"amp\":\"&\",\"AMP\":\"&\",\"Aring\":\"Å\",\"aring\":\"å\",\"Atilde\":\"Ã\",\"atilde\":\"ã\",\"Auml\":\"Ä\",\"auml\":\"ä\",\"brvbar\":\"¦\",\"Ccedil\":\"Ç\",\"ccedil\":\"ç\",\"cedil\":\"¸\",\"cent\":\"¢\",\"copy\":\"©\",\"COPY\":\"©\",\"curren\":\"¤\",\"deg\":\"°\",\"divide\":\"÷\",\"Eacute\":\"É\",\"eacute\":\"é\",\"Ecirc\":\"Ê\",\"ecirc\":\"ê\",\"Egrave\":\"È\",\"egrave\":\"è\",\"ETH\":\"Ð\",\"eth\":\"ð\",\"Euml\":\"Ë\",\"euml\":\"ë\",\"frac12\":\"½\",\"frac14\":\"¼\",\"frac34\":\"¾\",\"gt\":\">\",\"GT\":\">\",\"Iacute\":\"Í\",\"iacute\":\"í\",\"Icirc\":\"Î\",\"icirc\":\"î\",\"iexcl\":\"¡\",\"Igrave\":\"Ì\",\"igrave\":\"ì\",\"iquest\":\"¿\",\"Iuml\":\"Ï\",\"iuml\":\"ï\",\"laquo\":\"«\",\"lt\":\"<\",\"LT\":\"<\",\"macr\":\"¯\",\"micro\":\"µ\",\"middot\":\"·\",\"nbsp\":\" \",\"not\":\"¬\",\"Ntilde\":\"Ñ\",\"ntilde\":\"ñ\",\"Oacute\":\"Ó\",\"oacute\":\"ó\",\"Ocirc\":\"Ô\",\"ocirc\":\"ô\",\"Ograve\":\"Ò\",\"ograve\":\"ò\",\"ordf\":\"ª\",\"ordm\":\"º\",\"Oslash\":\"Ø\",\"oslash\":\"ø\",\"Otilde\":\"Õ\",\"otilde\":\"õ\",\"Ouml\":\"Ö\",\"ouml\":\"ö\",\"para\":\"¶\",\"plusmn\":\"±\",\"pound\":\"£\",\"quot\":\"\\\"\",\"QUOT\":\"\\\"\",\"raquo\":\"»\",\"reg\":\"®\",\"REG\":\"®\",\"sect\":\"§\",\"shy\":\"­\",\"sup1\":\"¹\",\"sup2\":\"²\",\"sup3\":\"³\",\"szlig\":\"ß\",\"THORN\":\"Þ\",\"thorn\":\"þ\",\"times\":\"×\",\"Uacute\":\"Ú\",\"uacute\":\"ú\",\"Ucirc\":\"Û\",\"ucirc\":\"û\",\"Ugrave\":\"Ù\",\"ugrave\":\"ù\",\"uml\":\"¨\",\"Uuml\":\"Ü\",\"uuml\":\"ü\",\"Yacute\":\"Ý\",\"yacute\":\"ý\",\"yen\":\"¥\",\"yuml\":\"ÿ\"}\n",
    "module.exports={\"amp\":\"&\",\"apos\":\"'\",\"gt\":\">\",\"lt\":\"<\",\"quot\":\"\\\"\"}\n",
    "module.exports={\n  \"name\": \"cheerio\",\n  \"version\": \"1.0.0-rc.5\",\n  \"description\": \"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server\",\n  \"author\": \"Matt Mueller <mattmuelle@gmail.com> (mat.io)\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"htmlparser\",\n    \"jquery\",\n    \"selector\",\n    \"scraper\",\n    \"parser\",\n    \"html\"\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/cheeriojs/cheerio.git\"\n  },\n  \"main\": \"./index.js\",\n  \"types\": \"types/index.d.ts\",\n  \"files\": [\n    \"index.js\",\n    \"types/index.d.ts\",\n    \"lib\"\n  ],\n  \"engines\": {\n    \"node\": \">= 0.12\"\n  },\n  \"dependencies\": {\n    \"cheerio-select-tmp\": \"^0.1.0\",\n    \"dom-serializer\": \"~1.2.0\",\n    \"domhandler\": \"^4.0.0\",\n    \"entities\": \"~2.1.0\",\n    \"htmlparser2\": \"^6.0.0\",\n    \"parse5\": \"^6.0.0\",\n    \"parse5-htmlparser2-tree-adapter\": \"^6.0.0\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^14.14.10\",\n    \"benchmark\": \"^2.1.4\",\n    \"coveralls\": \"^3.0.2\",\n    \"eslint\": \"^7.10.0\",\n    \"eslint-config-prettier\": \"^7.0.0\",\n    \"eslint-plugin-jsdoc\": \"^30.6.2\",\n    \"expect.js\": \"~0.3.1\",\n    \"husky\": \"^4.2.5\",\n    \"jquery\": \"^3.0.0\",\n    \"jsdoc\": \"^3.6.6\",\n    \"jsdom\": \"^16.2.2\",\n    \"lint-staged\": \"^10.2.2\",\n    \"mocha\": \"^8.1.1\",\n    \"nyc\": \"^15.0.1\",\n    \"prettier\": \"^2.1.1\",\n    \"tsd\": \"^0.14.0\",\n    \"xyz\": \"~4.0.0\"\n  },\n  \"scripts\": {\n    \"test\": \"npm run lint && npm run test:mocha && npm run test:types\",\n    \"test:mocha\": \"mocha --recursive --reporter dot --parallel\",\n    \"test:types\": \"tsd\",\n    \"lint\": \"npm run lint:es && npm run lint:prettier\",\n    \"lint:es\": \"eslint --ignore-path .prettierignore .\",\n    \"lint:prettier\": \"npm run format:prettier:raw -- --check\",\n    \"format\": \"npm run format:es && npm run format:prettier\",\n    \"format:es\": \"npm run lint:es -- --fix\",\n    \"format:prettier\": \"npm run format:prettier:raw -- --write\",\n    \"format:prettier:raw\": \"prettier '**/*.{js,ts,md,json,yml}' --ignore-path .prettierignore\",\n    \"build:docs\": \"jsdoc --configure jsdoc-config.json\",\n    \"pre-commit\": \"lint-staged\"\n  },\n  \"prettier\": {\n    \"singleQuote\": true,\n    \"tabWidth\": 2\n  },\n  \"lint-staged\": {\n    \"*.js\": [\n      \"prettier --write\",\n      \"npm run test:lint -- --fix\"\n    ],\n    \"*.{json,md,ts,yml}\": [\n      \"prettier --write\"\n    ]\n  }\n}\n",
    "/*!\n  Copyright (c) 2016 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tclasses.push(classNames.apply(null, arg));\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attributeRules = void 0;\nvar boolbase_1 = require(\"boolbase\");\n/**\n * All reserved characters in a regex, used for escaping.\n *\n * Taken from XRegExp, (c) 2007-2020 Steven Levithan under the MIT license\n * https://github.com/slevithan/xregexp/blob/95eeebeb8fac8754d54eafe2b4743661ac1cf028/src/xregexp.js#L794\n */\nvar reChars = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\nfunction escapeRegex(value) {\n    return value.replace(reChars, \"\\\\$&\");\n}\n/**\n * Attribute selectors\n */\nexports.attributeRules = {\n    equals: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var _a;\n                return ((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.toLowerCase()) ===\n                    value && next(elem);\n            };\n        }\n        return function (elem) {\n            return adapter.getAttributeValue(elem, name) === value && next(elem);\n        };\n    },\n    hyphen: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = value.length;\n        if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function hyphenIC(elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    (attr.length === len || attr.charAt(len) === \"-\") &&\n                    attr.substr(0, len).toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function hyphen(elem) {\n            var attr = adapter.getAttributeValue(elem, name);\n            return (attr != null &&\n                attr.substr(0, len) === value &&\n                (attr.length === len || attr.charAt(len) === \"-\") &&\n                next(elem));\n        };\n    },\n    element: function (next, _a, _b) {\n        var name = _a.name, value = _a.value, ignoreCase = _a.ignoreCase;\n        var adapter = _b.adapter;\n        if (/\\s/.test(value)) {\n            return boolbase_1.falseFunc;\n        }\n        var regex = new RegExp(\"(?:^|\\\\s)\" + escapeRegex(value) + \"(?:$|\\\\s)\", ignoreCase ? \"i\" : \"\");\n        return function element(elem) {\n            var attr = adapter.getAttributeValue(elem, name);\n            return attr != null && regex.test(attr) && next(elem);\n        };\n    },\n    exists: function (next, _a, _b) {\n        var name = _a.name;\n        var adapter = _b.adapter;\n        return function (elem) { return adapter.hasAttrib(elem, name) && next(elem); };\n    },\n    start: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = value.length;\n        if (len === 0) {\n            return boolbase_1.falseFunc;\n        }\n        if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var _a;\n                return ((_a = adapter\n                    .getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.substr(0, len).toLowerCase()) === value && next(elem);\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.startsWith(value)) &&\n                next(elem);\n        };\n    },\n    end: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = -value.length;\n        if (len === 0) {\n            return boolbase_1.falseFunc;\n        }\n        if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var _a;\n                return ((_a = adapter\n                    .getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.substr(len).toLowerCase()) === value && next(elem);\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.endsWith(value)) &&\n                next(elem);\n        };\n    },\n    any: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name, value = data.value;\n        if (value === \"\") {\n            return boolbase_1.falseFunc;\n        }\n        if (data.ignoreCase) {\n            var regex_1 = new RegExp(escapeRegex(value), \"i\");\n            return function anyIC(elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return attr != null && regex_1.test(attr) && next(elem);\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.includes(value)) &&\n                next(elem);\n        };\n    },\n    not: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        if (value === \"\") {\n            return function (elem) {\n                return !!adapter.getAttributeValue(elem, name) && next(elem);\n            };\n        }\n        else if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.toLocaleLowerCase() !== value &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            return adapter.getAttributeValue(elem, name) !== value && next(elem);\n        };\n    },\n};\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileToken = exports.compileUnsafe = exports.compile = void 0;\nvar css_what_1 = require(\"css-what\");\nvar boolbase_1 = require(\"boolbase\");\nvar sort_1 = __importDefault(require(\"./sort\"));\nvar procedure_1 = require(\"./procedure\");\nvar general_1 = require(\"./general\");\nvar subselects_1 = require(\"./pseudo-selectors/subselects\");\n/**\n * Compiles a selector to an executable function.\n *\n * @param selector Selector to compile.\n * @param options Compilation options.\n * @param context Optional context for the selector.\n */\nfunction compile(selector, options, context) {\n    var next = compileUnsafe(selector, options, context);\n    return subselects_1.ensureIsTag(next, options.adapter);\n}\nexports.compile = compile;\nfunction compileUnsafe(selector, options, context) {\n    var token = css_what_1.parse(selector, options);\n    return compileToken(token, options, context);\n}\nexports.compileUnsafe = compileUnsafe;\nfunction includesScopePseudo(t) {\n    return (t.type === \"pseudo\" &&\n        (t.name === \"scope\" ||\n            (Array.isArray(t.data) &&\n                t.data.some(function (data) { return data.some(includesScopePseudo); }))));\n}\nvar DESCENDANT_TOKEN = { type: \"descendant\" };\nvar FLEXIBLE_DESCENDANT_TOKEN = {\n    type: \"_flexibleDescendant\",\n};\nvar SCOPE_TOKEN = { type: \"pseudo\", name: \"scope\", data: null };\n/*\n * CSS 4 Spec (Draft): 3.3.1. Absolutizing a Scope-relative Selector\n * http://www.w3.org/TR/selectors4/#absolutizing\n */\nfunction absolutize(token, _a, context) {\n    var adapter = _a.adapter;\n    // TODO Use better check if the context is a document\n    var hasContext = !!(context === null || context === void 0 ? void 0 : context.every(function (e) {\n        var parent = adapter.getParent(e);\n        return e === subselects_1.PLACEHOLDER_ELEMENT || !!(parent && adapter.isTag(parent));\n    }));\n    for (var _i = 0, token_1 = token; _i < token_1.length; _i++) {\n        var t = token_1[_i];\n        if (t.length > 0 && procedure_1.isTraversal(t[0]) && t[0].type !== \"descendant\") {\n            // Don't continue in else branch\n        }\n        else if (hasContext && !t.some(includesScopePseudo)) {\n            t.unshift(DESCENDANT_TOKEN);\n        }\n        else {\n            continue;\n        }\n        t.unshift(SCOPE_TOKEN);\n    }\n}\nfunction compileToken(token, options, context) {\n    var _a;\n    token = token.filter(function (t) { return t.length > 0; });\n    token.forEach(sort_1.default);\n    context = (_a = options.context) !== null && _a !== void 0 ? _a : context;\n    var isArrayContext = Array.isArray(context);\n    var finalContext = context && (Array.isArray(context) ? context : [context]);\n    absolutize(token, options, finalContext);\n    var shouldTestNextSiblings = false;\n    var query = token\n        .map(function (rules) {\n        if (rules.length >= 2) {\n            var first = rules[0], second = rules[1];\n            if (first.type !== \"pseudo\" || first.name !== \"scope\") {\n                // Ignore\n            }\n            else if (isArrayContext && second.type === \"descendant\") {\n                rules[1] = FLEXIBLE_DESCENDANT_TOKEN;\n            }\n            else if (second.type === \"adjacent\" ||\n                second.type === \"sibling\") {\n                shouldTestNextSiblings = true;\n            }\n        }\n        return compileRules(rules, options, finalContext);\n    })\n        .reduce(reduceRules, boolbase_1.falseFunc);\n    query.shouldTestNextSiblings = shouldTestNextSiblings;\n    return query;\n}\nexports.compileToken = compileToken;\nfunction compileRules(rules, options, context) {\n    var _a;\n    return rules.reduce(function (previous, rule) {\n        return previous === boolbase_1.falseFunc\n            ? boolbase_1.falseFunc\n            : general_1.compileGeneralSelector(previous, rule, options, context, compileToken);\n    }, (_a = options.rootFunc) !== null && _a !== void 0 ? _a : boolbase_1.trueFunc);\n}\nfunction reduceRules(a, b) {\n    if (b === boolbase_1.falseFunc || a === boolbase_1.trueFunc) {\n        return a;\n    }\n    if (a === boolbase_1.falseFunc || b === boolbase_1.trueFunc) {\n        return b;\n    }\n    return function combine(elem) {\n        return a(elem) || b(elem);\n    };\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileGeneralSelector = void 0;\nvar attributes_1 = require(\"./attributes\");\nvar pseudo_selectors_1 = require(\"./pseudo-selectors\");\n/*\n * All available rules\n */\nfunction compileGeneralSelector(next, selector, options, context, compileToken) {\n    var adapter = options.adapter, equals = options.equals;\n    switch (selector.type) {\n        case \"pseudo-element\":\n            throw new Error(\"Pseudo-elements are not supported by css-select\");\n        case \"attribute\":\n            if (options.strict &&\n                (selector.ignoreCase || selector.action === \"not\")) {\n                throw new Error(\"Unsupported attribute selector\");\n            }\n            return attributes_1.attributeRules[selector.action](next, selector, options);\n        case \"pseudo\":\n            return pseudo_selectors_1.compilePseudoSelector(next, selector, options, context, compileToken);\n        // Tags\n        case \"tag\":\n            return function tag(elem) {\n                return adapter.getName(elem) === selector.name && next(elem);\n            };\n        // Traversal\n        case \"descendant\":\n            if (options.cacheResults === false ||\n                typeof WeakSet === \"undefined\") {\n                return function descendant(elem) {\n                    var current = elem;\n                    while ((current = adapter.getParent(current))) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n            // @ts-expect-error `ElementNode` is not extending object\n            // eslint-disable-next-line no-case-declarations\n            var isFalseCache_1 = new WeakSet();\n            return function cachedDescendant(elem) {\n                var current = elem;\n                while ((current = adapter.getParent(current))) {\n                    if (!isFalseCache_1.has(current)) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                        isFalseCache_1.add(current);\n                    }\n                }\n                return false;\n            };\n        case \"_flexibleDescendant\":\n            // Include element itself, only used while querying an array\n            return function flexibleDescendant(elem) {\n                var current = elem;\n                do {\n                    if (adapter.isTag(current) && next(current))\n                        return true;\n                } while ((current = adapter.getParent(current)));\n                return false;\n            };\n        case \"parent\":\n            if (options.strict) {\n                throw new Error(\"Parent selector isn't part of CSS3\");\n            }\n            return function parent(elem) {\n                return adapter\n                    .getChildren(elem)\n                    .some(function (elem) { return adapter.isTag(elem) && next(elem); });\n            };\n        case \"child\":\n            return function child(elem) {\n                var parent = adapter.getParent(elem);\n                return !!parent && adapter.isTag(parent) && next(parent);\n            };\n        case \"sibling\":\n            return function sibling(elem) {\n                var siblings = adapter.getSiblings(elem);\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling) && next(currentSibling)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n        case \"adjacent\":\n            return function adjacent(elem) {\n                var siblings = adapter.getSiblings(elem);\n                var lastElement;\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling)) {\n                        lastElement = currentSibling;\n                    }\n                }\n                return !!lastElement && next(lastElement);\n            };\n        case \"universal\":\n            return next;\n    }\n}\nexports.compileGeneralSelector = compileGeneralSelector;\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pseudos = exports.filters = exports.is = exports.selectOne = exports.selectAll = exports.prepareContext = exports._compileToken = exports._compileUnsafe = exports.compile = void 0;\nvar DomUtils = __importStar(require(\"domutils\"));\nvar boolbase_1 = require(\"boolbase\");\nvar compile_1 = require(\"./compile\");\nvar subselects_1 = require(\"./pseudo-selectors/subselects\");\nvar defaultEquals = function (a, b) { return a === b; };\nvar defaultOptions = {\n    adapter: DomUtils,\n    equals: defaultEquals,\n};\nfunction convertOptionFormats(options) {\n    var _a, _b, _c, _d;\n    /*\n     * We force one format of options to the other one.\n     */\n    // @ts-expect-error Default options may have incompatible `Node` / `ElementNode`.\n    var opts = options !== null && options !== void 0 ? options : defaultOptions;\n    // @ts-expect-error Same as above.\n    (_a = opts.adapter) !== null && _a !== void 0 ? _a : (opts.adapter = DomUtils);\n    // @ts-expect-error `equals` does not exist on `Options`\n    (_b = opts.equals) !== null && _b !== void 0 ? _b : (opts.equals = (_d = (_c = opts.adapter) === null || _c === void 0 ? void 0 : _c.equals) !== null && _d !== void 0 ? _d : defaultEquals);\n    return opts;\n}\nfunction wrapCompile(func) {\n    return function addAdapter(selector, options, context) {\n        var opts = convertOptionFormats(options);\n        return func(selector, opts, context);\n    };\n}\n/**\n * Compiles the query, returns a function.\n */\nexports.compile = wrapCompile(compile_1.compile);\nexports._compileUnsafe = wrapCompile(compile_1.compileUnsafe);\nexports._compileToken = wrapCompile(compile_1.compileToken);\nfunction getSelectorFunc(searchFunc) {\n    return function select(query, elements, options) {\n        var opts = convertOptionFormats(options);\n        if (typeof query !== \"function\") {\n            query = compile_1.compileUnsafe(query, opts, elements);\n        }\n        var filteredElements = prepareContext(elements, opts.adapter, query.shouldTestNextSiblings);\n        return searchFunc(query, filteredElements, opts);\n    };\n}\nfunction prepareContext(elems, adapter, shouldTestNextSiblings) {\n    if (shouldTestNextSiblings === void 0) { shouldTestNextSiblings = false; }\n    /*\n     * Add siblings if the query requires them.\n     * See https://github.com/fb55/css-select/pull/43#issuecomment-225414692\n     */\n    if (shouldTestNextSiblings) {\n        elems = appendNextSiblings(elems, adapter);\n    }\n    return Array.isArray(elems)\n        ? adapter.removeSubsets(elems)\n        : adapter.getChildren(elems);\n}\nexports.prepareContext = prepareContext;\nfunction appendNextSiblings(elem, adapter) {\n    // Order matters because jQuery seems to check the children before the siblings\n    var elems = Array.isArray(elem) ? elem.slice(0) : [elem];\n    for (var i = 0; i < elems.length; i++) {\n        var nextSiblings = subselects_1.getNextSiblings(elems[i], adapter);\n        elems.push.apply(elems, nextSiblings);\n    }\n    return elems;\n}\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns All matching elements.\n *\n */\nexports.selectAll = getSelectorFunc(function (query, elems, options) {\n    return query === boolbase_1.falseFunc || !elems || elems.length === 0\n        ? []\n        : options.adapter.findAll(query, elems);\n});\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns the first match, or null if there was no match.\n */\nexports.selectOne = getSelectorFunc(function (query, elems, options) {\n    return query === boolbase_1.falseFunc || !elems || elems.length === 0\n        ? null\n        : options.adapter.findOne(query, elems);\n});\n/**\n * Tests whether or not an element is matched by query.\n *\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elem The element to test if it matches the query.\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns\n */\nfunction is(elem, query, options) {\n    var opts = convertOptionFormats(options);\n    return (typeof query === \"function\" ? query : compile_1.compile(query, opts))(elem);\n}\nexports.is = is;\n/**\n * Alias for selectAll(query, elems, options).\n * @see [compile] for supported selector queries.\n */\nexports.default = exports.selectAll;\n// Export filters and pseudos to allow users to supply their own.\nvar pseudo_selectors_1 = require(\"./pseudo-selectors\");\nObject.defineProperty(exports, \"filters\", { enumerable: true, get: function () { return pseudo_selectors_1.filters; } });\nObject.defineProperty(exports, \"pseudos\", { enumerable: true, get: function () { return pseudo_selectors_1.pseudos; } });\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTraversal = exports.procedure = void 0;\nexports.procedure = {\n    universal: 50,\n    tag: 30,\n    attribute: 1,\n    pseudo: 0,\n    \"pseudo-element\": 0,\n    descendant: -1,\n    child: -1,\n    parent: -1,\n    sibling: -1,\n    adjacent: -1,\n    _flexibleDescendant: -1,\n};\nfunction isTraversal(t) {\n    return exports.procedure[t.type] < 0;\n}\nexports.isTraversal = isTraversal;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filters = void 0;\nvar nth_check_1 = __importDefault(require(\"nth-check\"));\nvar boolbase_1 = require(\"boolbase\");\nvar attributes_1 = require(\"../attributes\");\nvar checkAttrib = attributes_1.attributeRules.equals;\nfunction getAttribFunc(name, value) {\n    var data = {\n        type: \"attribute\",\n        action: \"equals\",\n        ignoreCase: false,\n        namespace: null,\n        name: name,\n        value: value,\n    };\n    return function attribFunc(next, _rule, options) {\n        return checkAttrib(next, data, options);\n    };\n}\nfunction getChildFunc(next, adapter) {\n    return function (elem) {\n        var parent = adapter.getParent(elem);\n        return !!parent && adapter.isTag(parent) && next(elem);\n    };\n}\nexports.filters = {\n    contains: function (next, text, _a) {\n        var adapter = _a.adapter;\n        return function contains(elem) {\n            return next(elem) && adapter.getText(elem).includes(text);\n        };\n    },\n    icontains: function (next, text, _a) {\n        var adapter = _a.adapter;\n        var itext = text.toLowerCase();\n        return function icontains(elem) {\n            return (next(elem) &&\n                adapter.getText(elem).toLowerCase().includes(itext));\n        };\n    },\n    // Location specific methods\n    \"nth-child\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = nth_check_1.default(rule);\n        if (func === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (func === boolbase_1.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthChild(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = 0; i < siblings.length; i++) {\n                if (equals(elem, siblings[i]))\n                    break;\n                if (adapter.isTag(siblings[i])) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-last-child\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = nth_check_1.default(rule);\n        if (func === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (func === boolbase_1.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthLastChild(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = siblings.length - 1; i >= 0; i--) {\n                if (equals(elem, siblings[i]))\n                    break;\n                if (adapter.isTag(siblings[i])) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-of-type\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = nth_check_1.default(rule);\n        if (func === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (func === boolbase_1.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthOfType(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = 0; i < siblings.length; i++) {\n                var currentSibling = siblings[i];\n                if (equals(elem, currentSibling))\n                    break;\n                if (adapter.isTag(currentSibling) &&\n                    adapter.getName(currentSibling) === adapter.getName(elem)) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-last-of-type\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = nth_check_1.default(rule);\n        if (func === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (func === boolbase_1.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthLastOfType(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = siblings.length - 1; i >= 0; i--) {\n                var currentSibling = siblings[i];\n                if (equals(elem, currentSibling))\n                    break;\n                if (adapter.isTag(currentSibling) &&\n                    adapter.getName(currentSibling) === adapter.getName(elem)) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    // TODO determine the actual root element\n    root: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        return function (elem) {\n            var parent = adapter.getParent(elem);\n            return (parent == null || !adapter.isTag(parent)) && next(elem);\n        };\n    },\n    scope: function (next, rule, options, context) {\n        var equals = options.equals;\n        if (!context || context.length === 0) {\n            // Equivalent to :root\n            return exports.filters.root(next, rule, options);\n        }\n        if (context.length === 1) {\n            // NOTE: can't be unpacked, as :has uses this for side-effects\n            return function (elem) { return equals(context[0], elem) && next(elem); };\n        }\n        return function (elem) { return context.includes(elem) && next(elem); };\n    },\n    // JQuery extensions (others follow as pseudos)\n    checkbox: getAttribFunc(\"type\", \"checkbox\"),\n    file: getAttribFunc(\"type\", \"file\"),\n    password: getAttribFunc(\"type\", \"password\"),\n    radio: getAttribFunc(\"type\", \"radio\"),\n    reset: getAttribFunc(\"type\", \"reset\"),\n    image: getAttribFunc(\"type\", \"image\"),\n    submit: getAttribFunc(\"type\", \"submit\"),\n    // Dynamic state pseudos. These depend on optional Adapter methods.\n    hover: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        var isHovered = adapter.isHovered;\n        if (typeof isHovered !== \"function\") {\n            return boolbase_1.falseFunc;\n        }\n        return function hover(elem) {\n            return isHovered(elem) && next(elem);\n        };\n    },\n    visited: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        var isVisited = adapter.isVisited;\n        if (typeof isVisited !== \"function\") {\n            return boolbase_1.falseFunc;\n        }\n        return function visited(elem) {\n            return isVisited(elem) && next(elem);\n        };\n    },\n    active: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        var isActive = adapter.isActive;\n        if (typeof isActive !== \"function\") {\n            return boolbase_1.falseFunc;\n        }\n        return function active(elem) {\n            return isActive(elem) && next(elem);\n        };\n    },\n};\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compilePseudoSelector = exports.pseudos = exports.filters = void 0;\n/*\n * Pseudo selectors\n *\n * Pseudo selectors are available in three forms:\n *\n * 1. Filters are called when the selector is compiled and return a function\n *  that has to return either false, or the results of `next()`.\n * 2. Pseudos are called on execution. They have to return a boolean.\n * 3. Subselects work like filters, but have an embedded selector that will be run separately.\n *\n * Filters are great if you want to do some pre-processing, or change the call order\n * of `next()` and your code.\n * Pseudos should be used to implement simple checks.\n */\nvar boolbase_1 = require(\"boolbase\");\nvar filters_1 = require(\"./filters\");\nObject.defineProperty(exports, \"filters\", { enumerable: true, get: function () { return filters_1.filters; } });\nvar pseudos_1 = require(\"./pseudos\");\nObject.defineProperty(exports, \"pseudos\", { enumerable: true, get: function () { return pseudos_1.pseudos; } });\nvar subselects_1 = require(\"./subselects\");\n// FIXME This is pretty hacky\nvar reCSS3 = /^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;\nfunction compilePseudoSelector(next, selector, options, context, compileToken) {\n    var name = selector.name, data = selector.data;\n    if (options.strict && !reCSS3.test(name)) {\n        throw new Error(\":\" + name + \" isn't part of CSS3\");\n    }\n    if (Array.isArray(data)) {\n        return subselects_1.subselects[name](next, data, options, context, compileToken);\n    }\n    if (name in filters_1.filters) {\n        return filters_1.filters[name](next, data, options, context);\n    }\n    if (name in pseudos_1.pseudos) {\n        var pseudo_1 = pseudos_1.pseudos[name];\n        pseudos_1.verifyPseudoArgs(pseudo_1, name, data);\n        return pseudo_1 === boolbase_1.falseFunc\n            ? boolbase_1.falseFunc\n            : next === boolbase_1.trueFunc\n                ? function (elem) { return pseudo_1(elem, options, data); }\n                : function (elem) { return pseudo_1(elem, options, data) && next(elem); };\n    }\n    throw new Error(\"unmatched pseudo-class :\" + name);\n}\nexports.compilePseudoSelector = compilePseudoSelector;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.verifyPseudoArgs = exports.pseudos = void 0;\nvar isLinkTag = namePseudo([\"a\", \"area\", \"link\"]);\n// While filters are precompiled, pseudos get called when they are needed\nexports.pseudos = {\n    empty: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.getChildren(elem).some(function (elem) {\n            // FIXME: `getText` call is potentially expensive.\n            return adapter.isTag(elem) || adapter.getText(elem) !== \"\";\n        });\n    },\n    \"first-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var firstChild = adapter\n            .getSiblings(elem)\n            .find(function (elem) { return adapter.isTag(elem); });\n        return firstChild != null && equals(elem, firstChild);\n    },\n    \"last-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        for (var i = siblings.length - 1; i >= 0; i--) {\n            if (equals(elem, siblings[i]))\n                return true;\n            if (adapter.isTag(siblings[i]))\n                break;\n        }\n        return false;\n    },\n    \"first-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        var elemName = adapter.getName(elem);\n        for (var i = 0; i < siblings.length; i++) {\n            var currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"last-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        var elemName = adapter.getName(elem);\n        for (var i = siblings.length - 1; i >= 0; i--) {\n            var currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"only-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var elemName = adapter.getName(elem);\n        return adapter\n            .getSiblings(elem)\n            .every(function (sibling) {\n            return equals(elem, sibling) ||\n                !adapter.isTag(sibling) ||\n                adapter.getName(sibling) !== elemName;\n        });\n    },\n    \"only-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        return adapter\n            .getSiblings(elem)\n            .every(function (sibling) { return equals(elem, sibling) || !adapter.isTag(sibling); });\n    },\n    // :matches(a, area, link)[href]\n    \"any-link\": function (elem, options) {\n        return (isLinkTag(elem, options) && options.adapter.hasAttrib(elem, \"href\"));\n    },\n    // :any-link:not(:visited)\n    link: function (elem, options) {\n        var _a, _b;\n        return (((_b = (_a = options.adapter).isVisited) === null || _b === void 0 ? void 0 : _b.call(_a, elem)) !== true &&\n            exports.pseudos[\"any-link\"](elem, options));\n    },\n    /*\n     * Forms\n     * to consider: :target\n     */\n    // :matches([selected], select:not([multiple]):not(> option[selected]) > option:first-of-type)\n    selected: function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        if (adapter.hasAttrib(elem, \"selected\"))\n            return true;\n        else if (adapter.getName(elem) !== \"option\")\n            return false;\n        // The first <option> in a <select> is also selected\n        var parent = adapter.getParent(elem);\n        if (!parent ||\n            !adapter.isTag(parent) ||\n            adapter.getName(parent) !== \"select\" ||\n            adapter.hasAttrib(parent, \"multiple\")) {\n            return false;\n        }\n        var siblings = adapter.getChildren(parent);\n        var sawElem = false;\n        for (var i = 0; i < siblings.length; i++) {\n            var currentSibling = siblings[i];\n            if (adapter.isTag(currentSibling)) {\n                if (equals(elem, currentSibling)) {\n                    sawElem = true;\n                }\n                else if (!sawElem) {\n                    return false;\n                }\n                else if (adapter.hasAttrib(currentSibling, \"selected\")) {\n                    return false;\n                }\n            }\n        }\n        return sawElem;\n    },\n    /*\n     * https://html.spec.whatwg.org/multipage/scripting.html#disabled-elements\n     * :matches(\n     *   :matches(button, input, select, textarea, menuitem, optgroup, option)[disabled],\n     *   optgroup[disabled] > option),\n     *  fieldset[disabled] * //TODO not child of first <legend>\n     * )\n     */\n    disabled: function (elem, _a) {\n        var adapter = _a.adapter;\n        return adapter.hasAttrib(elem, \"disabled\");\n    },\n    enabled: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.hasAttrib(elem, \"disabled\");\n    },\n    // :matches(:matches(:radio, :checkbox)[checked], :selected) (TODO menuitem)\n    checked: function (elem, options) {\n        return (options.adapter.hasAttrib(elem, \"checked\") ||\n            exports.pseudos.selected(elem, options));\n    },\n    // :matches(input, select, textarea)[required]\n    required: function (elem, _a) {\n        var adapter = _a.adapter;\n        return adapter.hasAttrib(elem, \"required\");\n    },\n    // :matches(input, select, textarea):not([required])\n    optional: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.hasAttrib(elem, \"required\");\n    },\n    // JQuery extensions\n    // :not(:empty)\n    parent: function (elem, options) {\n        return !exports.pseudos.empty(elem, options);\n    },\n    // :matches(h1, h2, h3, h4, h5, h6)\n    header: namePseudo([\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]),\n    // :matches(button, input[type=button])\n    button: function (elem, _a) {\n        var adapter = _a.adapter;\n        var name = adapter.getName(elem);\n        return (name === \"button\" ||\n            (name === \"input\" &&\n                adapter.getAttributeValue(elem, \"type\") === \"button\"));\n    },\n    // :matches(input, textarea, select, button)\n    input: namePseudo([\"input\", \"textarea\", \"select\", \"button\"]),\n    // `input:matches(:not([type!='']), [type='text' i])`\n    text: function (elem, _a) {\n        var adapter = _a.adapter;\n        var type = adapter.getAttributeValue(elem, \"type\");\n        return (adapter.getName(elem) === \"input\" &&\n            (!type || type.toLowerCase() === \"text\"));\n    },\n};\nfunction namePseudo(names) {\n    if (typeof Set !== \"undefined\") {\n        var nameSet_1 = new Set(names);\n        return function (elem, _a) {\n            var adapter = _a.adapter;\n            return nameSet_1.has(adapter.getName(elem));\n        };\n    }\n    return function (elem, _a) {\n        var adapter = _a.adapter;\n        return names.includes(adapter.getName(elem));\n    };\n}\nfunction verifyPseudoArgs(func, name, subselect) {\n    if (subselect === null) {\n        if (func.length > 2 && name !== \"scope\") {\n            throw new Error(\"pseudo-selector :\" + name + \" requires an argument\");\n        }\n    }\n    else {\n        if (func.length === 2) {\n            throw new Error(\"pseudo-selector :\" + name + \" doesn't have any arguments\");\n        }\n    }\n}\nexports.verifyPseudoArgs = verifyPseudoArgs;\n",
    "\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subselects = exports.getNextSiblings = exports.ensureIsTag = exports.PLACEHOLDER_ELEMENT = void 0;\nvar boolbase_1 = require(\"boolbase\");\nvar procedure_1 = require(\"../procedure\");\n/** Used as a placeholder for :has. Will be replaced with the actual element. */\nexports.PLACEHOLDER_ELEMENT = {};\nfunction containsTraversal(t) {\n    return t.some(procedure_1.isTraversal);\n}\nfunction ensureIsTag(next, adapter) {\n    if (next === boolbase_1.falseFunc)\n        return next;\n    return function (elem) { return adapter.isTag(elem) && next(elem); };\n}\nexports.ensureIsTag = ensureIsTag;\nfunction getNextSiblings(elem, adapter) {\n    var siblings = adapter.getSiblings(elem);\n    if (siblings.length <= 1)\n        return [];\n    var elemIndex = siblings.indexOf(elem);\n    if (elemIndex < 0 || elemIndex === siblings.length - 1)\n        return [];\n    return siblings.slice(elemIndex + 1).filter(adapter.isTag);\n}\nexports.getNextSiblings = getNextSiblings;\n/*\n * :not, :has and :matches have to compile selectors\n * doing this in src/pseudos.ts would lead to circular dependencies,\n * so we add them here\n */\nexports.subselects = {\n    /**\n     * `:is` is an alias for `:matches`.\n     */\n    is: function (next, token, options, context, compileToken) {\n        return exports.subselects.matches(next, token, options, context, compileToken);\n    },\n    matches: function (next, token, options, context, compileToken) {\n        var opts = {\n            xmlMode: !!options.xmlMode,\n            strict: !!options.strict,\n            adapter: options.adapter,\n            equals: options.equals,\n            rootFunc: next,\n        };\n        return compileToken(token, opts, context);\n    },\n    not: function (next, token, options, context, compileToken) {\n        var opts = {\n            xmlMode: !!options.xmlMode,\n            strict: !!options.strict,\n            adapter: options.adapter,\n            equals: options.equals,\n        };\n        if (opts.strict) {\n            if (token.length > 1 || token.some(containsTraversal)) {\n                throw new Error(\"complex selectors in :not aren't allowed in strict mode\");\n            }\n        }\n        var func = compileToken(token, opts, context);\n        if (func === boolbase_1.falseFunc)\n            return next;\n        if (func === boolbase_1.trueFunc)\n            return boolbase_1.falseFunc;\n        return function not(elem) {\n            return !func(elem) && next(elem);\n        };\n    },\n    has: function (next, subselect, options, _context, compileToken) {\n        var adapter = options.adapter;\n        var opts = {\n            xmlMode: !!options.xmlMode,\n            strict: !!options.strict,\n            adapter: adapter,\n            equals: options.equals,\n        };\n        // @ts-expect-error Uses an array as a pointer to the current element (side effects)\n        var context = subselect.some(containsTraversal)\n            ? [exports.PLACEHOLDER_ELEMENT]\n            : undefined;\n        var compiled = compileToken(subselect, opts, context);\n        if (compiled === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (compiled === boolbase_1.trueFunc) {\n            return function (elem) {\n                return adapter.getChildren(elem).some(adapter.isTag) && next(elem);\n            };\n        }\n        var hasElement = ensureIsTag(compiled, adapter);\n        var _a = compiled.shouldTestNextSiblings, shouldTestNextSiblings = _a === void 0 ? false : _a;\n        /*\n         * `shouldTestNextSiblings` will only be true if the query starts with\n         * a traversal (sibling or adjacent). That means we will always have a context.\n         */\n        if (context) {\n            return function (elem) {\n                context[0] = elem;\n                var childs = adapter.getChildren(elem);\n                var nextElements = shouldTestNextSiblings\n                    ? __spreadArrays(childs, getNextSiblings(elem, adapter)) : childs;\n                return (next(elem) && adapter.existsOne(hasElement, nextElements));\n            };\n        }\n        return function (elem) {\n            return next(elem) &&\n                adapter.existsOne(hasElement, adapter.getChildren(elem));\n        };\n    },\n};\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar procedure_1 = require(\"./procedure\");\nvar attributes = {\n    exists: 10,\n    equals: 8,\n    not: 7,\n    start: 6,\n    end: 6,\n    any: 5,\n    hyphen: 4,\n    element: 4,\n};\n/**\n * Sort the parts of the passed selector,\n * as there is potential for optimization\n * (some types of selectors are faster than others)\n *\n * @param arr Selector to sort\n */\nfunction sortByProcedure(arr) {\n    var procs = arr.map(getProcedure);\n    for (var i = 1; i < arr.length; i++) {\n        var procNew = procs[i];\n        if (procNew < 0)\n            continue;\n        for (var j = i - 1; j >= 0 && procNew < procs[j]; j--) {\n            var token = arr[j + 1];\n            arr[j + 1] = arr[j];\n            arr[j] = token;\n            procs[j + 1] = procs[j];\n            procs[j] = procNew;\n        }\n    }\n}\nexports.default = sortByProcedure;\nfunction getProcedure(token) {\n    var proc = procedure_1.procedure[token.type];\n    if (token.type === \"attribute\") {\n        proc = attributes[token.action];\n        if (proc === attributes.equals && token.name === \"id\") {\n            // Prefer ID selectors (eg. #ID)\n            proc = 9;\n        }\n        if (token.ignoreCase) {\n            /*\n             * IgnoreCase adds some overhead, prefer \"normal\" token\n             * this is a binary operation, to ensure it's still an int\n             */\n            proc >>= 1;\n        }\n    }\n    else if (token.type === \"pseudo\") {\n        if (!token.data) {\n            proc = 3;\n        }\n        else if (token.name === \"has\" || token.name === \"contains\") {\n            proc = 0; // Expensive in any case\n        }\n        else if (Array.isArray(token.data)) {\n            // \"matches\" and \"not\"\n            proc = 0;\n            for (var i = 0; i < token.data.length; i++) {\n                // TODO better handling of complex selectors\n                if (token.data[i].length !== 1)\n                    continue;\n                var cur = getProcedure(token.data[i][0]);\n                // Avoid executing :has or :contains\n                if (cur === 0) {\n                    proc = 0;\n                    break;\n                }\n                if (cur > proc)\n                    proc = cur;\n            }\n            if (token.data.length > 1 && proc > 0)\n                proc -= 1;\n        }\n        else {\n            proc = 1;\n        }\n    }\n    return proc;\n}\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = exports.parse = void 0;\n__exportStar(require(\"./parse\"), exports);\nvar parse_1 = require(\"./parse\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return __importDefault(parse_1).default; } });\nvar stringify_1 = require(\"./stringify\");\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return __importDefault(stringify_1).default; } });\n",
    "\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTraversal = void 0;\nvar reName = /^[^\\\\#]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/;\nvar reEscape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi;\n// Modified version of https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L87\nvar reAttr = /^\\s*(?:(\\*|[-\\w]*)\\|)?((?:\\\\.|[\\w\\u00b0-\\uFFFF-])+)\\s*(?:(\\S?)=\\s*(?:(['\"])((?:[^\\\\]|\\\\[^])*?)\\4|(#?(?:\\\\.|[\\w\\u00b0-\\uFFFF-])*)|)|)\\s*([iI])?\\]/;\nvar actionTypes = {\n    undefined: \"exists\",\n    \"\": \"equals\",\n    \"~\": \"element\",\n    \"^\": \"start\",\n    $: \"end\",\n    \"*\": \"any\",\n    \"!\": \"not\",\n    \"|\": \"hyphen\",\n};\nvar Traversals = {\n    \">\": \"child\",\n    \"<\": \"parent\",\n    \"~\": \"sibling\",\n    \"+\": \"adjacent\",\n};\nvar attribSelectors = {\n    \"#\": [\"id\", \"equals\"],\n    \".\": [\"class\", \"element\"],\n};\n// Pseudos, whose data property is parsed as well.\nvar unpackPseudos = new Set([\n    \"has\",\n    \"not\",\n    \"matches\",\n    \"is\",\n    \"host\",\n    \"host-context\",\n]);\nvar traversalNames = new Set(__spreadArrays([\n    \"descendant\"\n], Object.keys(Traversals).map(function (k) { return Traversals[k]; })));\n/**\n * Checks whether a specific selector is a traversal.\n * This is useful eg. in swapping the order of elements that\n * are not traversals.\n *\n * @param selector Selector to check.\n */\nfunction isTraversal(selector) {\n    return traversalNames.has(selector.type);\n}\nexports.isTraversal = isTraversal;\nvar stripQuotesFromPseudos = new Set([\"contains\", \"icontains\"]);\nvar quotes = new Set(['\"', \"'\"]);\n// Unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152\nfunction funescape(_, escaped, escapedWhitespace) {\n    var high = parseInt(escaped, 16) - 0x10000;\n    // NaN means non-codepoint\n    return high !== high || escapedWhitespace\n        ? escaped\n        : high < 0\n            ? // BMP codepoint\n                String.fromCharCode(high + 0x10000)\n            : // Supplemental Plane codepoint (surrogate pair)\n                String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00);\n}\nfunction unescapeCSS(str) {\n    return str.replace(reEscape, funescape);\n}\nfunction isWhitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\n/**\n * Parses `selector`, optionally with the passed `options`.\n *\n * @param selector Selector to parse.\n * @param options Options for parsing.\n * @returns Returns a two-dimensional array.\n * The first dimension represents selectors separated by commas (eg. `sub1, sub2`),\n * the second contains the relevant tokens for that selector.\n */\nfunction parse(selector, options) {\n    var subselects = [];\n    var endIndex = parseSelector(subselects, \"\" + selector, options, 0);\n    if (endIndex < selector.length) {\n        throw new Error(\"Unmatched selector: \" + selector.slice(endIndex));\n    }\n    return subselects;\n}\nexports.default = parse;\nfunction parseSelector(subselects, selector, options, selectorIndex) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    var tokens = [];\n    var sawWS = false;\n    function getName(offset) {\n        var match = selector.slice(selectorIndex + offset).match(reName);\n        if (!match) {\n            throw new Error(\"Expected name, found \" + selector.slice(selectorIndex));\n        }\n        var name = match[0];\n        selectorIndex += offset + name.length;\n        return unescapeCSS(name);\n    }\n    function stripWhitespace(offset) {\n        while (isWhitespace(selector.charAt(selectorIndex + offset)))\n            offset++;\n        selectorIndex += offset;\n    }\n    function isEscaped(pos) {\n        var slashCount = 0;\n        while (selector.charAt(--pos) === \"\\\\\")\n            slashCount++;\n        return (slashCount & 1) === 1;\n    }\n    function ensureNotTraversal() {\n        if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {\n            throw new Error(\"Did not expect successive traversals.\");\n        }\n    }\n    stripWhitespace(0);\n    while (selector !== \"\") {\n        var firstChar = selector.charAt(selectorIndex);\n        if (isWhitespace(firstChar)) {\n            sawWS = true;\n            stripWhitespace(1);\n        }\n        else if (firstChar in Traversals) {\n            ensureNotTraversal();\n            tokens.push({ type: Traversals[firstChar] });\n            sawWS = false;\n            stripWhitespace(1);\n        }\n        else if (firstChar === \",\") {\n            if (tokens.length === 0) {\n                throw new Error(\"Empty sub-selector\");\n            }\n            subselects.push(tokens);\n            tokens = [];\n            sawWS = false;\n            stripWhitespace(1);\n        }\n        else {\n            if (sawWS) {\n                ensureNotTraversal();\n                tokens.push({ type: \"descendant\" });\n                sawWS = false;\n            }\n            if (firstChar in attribSelectors) {\n                var _c = attribSelectors[firstChar], name_1 = _c[0], action = _c[1];\n                tokens.push({\n                    type: \"attribute\",\n                    name: name_1,\n                    action: action,\n                    value: getName(1),\n                    ignoreCase: false,\n                    namespace: null,\n                });\n            }\n            else if (firstChar === \"[\") {\n                var attributeMatch = selector\n                    .slice(selectorIndex + 1)\n                    .match(reAttr);\n                if (!attributeMatch) {\n                    throw new Error(\"Malformed attribute selector: \" + selector.slice(selectorIndex));\n                }\n                var completeSelector = attributeMatch[0], _d = attributeMatch[1], namespace = _d === void 0 ? null : _d, baseName = attributeMatch[2], actionType = attributeMatch[3], _e = attributeMatch[5], quotedValue = _e === void 0 ? \"\" : _e, _f = attributeMatch[6], value = _f === void 0 ? quotedValue : _f, ignoreCase = attributeMatch[7];\n                selectorIndex += completeSelector.length + 1;\n                var name_2 = unescapeCSS(baseName);\n                if ((_a = options.lowerCaseAttributeNames) !== null && _a !== void 0 ? _a : !options.xmlMode) {\n                    name_2 = name_2.toLowerCase();\n                }\n                tokens.push({\n                    type: \"attribute\",\n                    name: name_2,\n                    action: actionTypes[actionType],\n                    value: unescapeCSS(value),\n                    namespace: namespace,\n                    ignoreCase: !!ignoreCase,\n                });\n            }\n            else if (firstChar === \":\") {\n                if (selector.charAt(selectorIndex + 1) === \":\") {\n                    tokens.push({\n                        type: \"pseudo-element\",\n                        name: getName(2).toLowerCase(),\n                    });\n                    continue;\n                }\n                var name_3 = getName(1).toLowerCase();\n                var data = null;\n                if (selector.charAt(selectorIndex) === \"(\") {\n                    if (unpackPseudos.has(name_3)) {\n                        if (quotes.has(selector.charAt(selectorIndex + 1))) {\n                            throw new Error(\"Pseudo-selector \" + name_3 + \" cannot be quoted\");\n                        }\n                        data = [];\n                        selectorIndex = parseSelector(data, selector, options, selectorIndex + 1);\n                        if (selector.charAt(selectorIndex) !== \")\") {\n                            throw new Error(\"Missing closing parenthesis in :\" + name_3 + \" (\" + selector + \")\");\n                        }\n                        selectorIndex += 1;\n                    }\n                    else {\n                        selectorIndex += 1;\n                        var start = selectorIndex;\n                        var counter = 1;\n                        for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {\n                            if (selector.charAt(selectorIndex) === \"(\" &&\n                                !isEscaped(selectorIndex)) {\n                                counter++;\n                            }\n                            else if (selector.charAt(selectorIndex) === \")\" &&\n                                !isEscaped(selectorIndex)) {\n                                counter--;\n                            }\n                        }\n                        if (counter) {\n                            throw new Error(\"Parenthesis not matched\");\n                        }\n                        data = selector.slice(start, selectorIndex - 1);\n                        if (stripQuotesFromPseudos.has(name_3)) {\n                            var quot = data.charAt(0);\n                            if (quot === data.slice(-1) && quotes.has(quot)) {\n                                data = data.slice(1, -1);\n                            }\n                            data = unescapeCSS(data);\n                        }\n                    }\n                }\n                tokens.push({ type: \"pseudo\", name: name_3, data: data });\n            }\n            else {\n                var namespace = null;\n                var name_4 = void 0;\n                if (firstChar === \"*\") {\n                    selectorIndex += 1;\n                    name_4 = \"*\";\n                }\n                else if (reName.test(selector.slice(selectorIndex))) {\n                    name_4 = getName(0);\n                }\n                else {\n                    /*\n                     * We have finished parsing the selector.\n                     * Remove descendant tokens at the end if they exist,\n                     * and return the last index, so that parsing can be\n                     * picked up from here.\n                     */\n                    if (tokens.length &&\n                        tokens[tokens.length - 1].type === \"descendant\") {\n                        tokens.pop();\n                    }\n                    addToken(subselects, tokens);\n                    return selectorIndex;\n                }\n                if (selector.charAt(selectorIndex) === \"|\") {\n                    namespace = name_4;\n                    if (selector.charAt(selectorIndex + 1) === \"*\") {\n                        name_4 = \"*\";\n                        selectorIndex += 2;\n                    }\n                    else {\n                        name_4 = getName(1);\n                    }\n                }\n                if (name_4 === \"*\") {\n                    tokens.push({ type: \"universal\", namespace: namespace });\n                }\n                else {\n                    if ((_b = options.lowerCaseTags) !== null && _b !== void 0 ? _b : !options.xmlMode) {\n                        name_4 = name_4.toLowerCase();\n                    }\n                    tokens.push({ type: \"tag\", name: name_4, namespace: namespace });\n                }\n            }\n        }\n    }\n    addToken(subselects, tokens);\n    return selectorIndex;\n}\nfunction addToken(subselects, tokens) {\n    if (subselects.length > 0 && tokens.length === 0) {\n        throw new Error(\"Empty sub-selector\");\n    }\n    subselects.push(tokens);\n}\n",
    "\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar actionTypes = {\n    equals: \"\",\n    element: \"~\",\n    start: \"^\",\n    end: \"$\",\n    any: \"*\",\n    not: \"!\",\n    hyphen: \"|\",\n};\nvar charsToEscape = new Set(__spreadArrays(Object.keys(actionTypes)\n    .map(function (typeKey) { return actionTypes[typeKey]; })\n    .filter(Boolean), [\n    \":\",\n    \"[\",\n    \"]\",\n    \" \",\n    \"\\\\\",\n    \"(\",\n    \")\",\n]));\n/**\n * Turns `selector` back into a string.\n *\n * @param selector Selector to stringify.\n */\nfunction stringify(selector) {\n    return selector.map(stringifySubselector).join(\", \");\n}\nexports.default = stringify;\nfunction stringifySubselector(token) {\n    return token.map(stringifyToken).join(\"\");\n}\nfunction stringifyToken(token) {\n    switch (token.type) {\n        // Simple types\n        case \"child\":\n            return \" > \";\n        case \"parent\":\n            return \" < \";\n        case \"sibling\":\n            return \" ~ \";\n        case \"adjacent\":\n            return \" + \";\n        case \"descendant\":\n            return \" \";\n        case \"universal\":\n            return getNamespace(token.namespace) + \"*\";\n        case \"tag\":\n            return getNamespacedName(token);\n        case \"pseudo-element\":\n            return \"::\" + escapeName(token.name);\n        case \"pseudo\":\n            if (token.data === null)\n                return \":\" + escapeName(token.name);\n            if (typeof token.data === \"string\") {\n                return \":\" + escapeName(token.name) + \"(\" + escapeName(token.data) + \")\";\n            }\n            return \":\" + escapeName(token.name) + \"(\" + stringify(token.data) + \")\";\n        case \"attribute\": {\n            if (token.name === \"id\" &&\n                token.action === \"equals\" &&\n                !token.ignoreCase &&\n                !token.namespace) {\n                return \"#\" + escapeName(token.value);\n            }\n            if (token.name === \"class\" &&\n                token.action === \"element\" &&\n                !token.ignoreCase &&\n                !token.namespace) {\n                return \".\" + escapeName(token.value);\n            }\n            var name_1 = getNamespacedName(token);\n            if (token.action === \"exists\") {\n                return \"[\" + name_1 + \"]\";\n            }\n            return \"[\" + name_1 + actionTypes[token.action] + \"='\" + escapeName(token.value) + \"'\" + (token.ignoreCase ? \"i\" : \"\") + \"]\";\n        }\n    }\n}\nfunction getNamespacedName(token) {\n    return \"\" + getNamespace(token.namespace) + escapeName(token.name);\n}\nfunction getNamespace(namespace) {\n    return namespace\n        ? (namespace === \"*\" ? \"*\" : escapeName(namespace)) + \"|\"\n        : \"\";\n}\nfunction escapeName(str) {\n    return str\n        .split(\"\")\n        .map(function (c) { return (charsToEscape.has(c) ? \"\\\\\" + c : c); })\n        .join(\"\");\n}\n",
    "\nvar NativeCustomEvent = global.CustomEvent;\n\nfunction useNative () {\n  try {\n    var p = new NativeCustomEvent('cat', { detail: { foo: 'bar' } });\n    return  'cat' === p.type && 'bar' === p.detail.foo;\n  } catch (e) {\n  }\n  return false;\n}\n\n/**\n * Cross-browser `CustomEvent` constructor.\n *\n * https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent.CustomEvent\n *\n * @public\n */\n\nmodule.exports = useNative() ? NativeCustomEvent :\n\n// IE >= 9\n'undefined' !== typeof document && 'function' === typeof document.createEvent ? function CustomEvent (type, params) {\n  var e = document.createEvent('CustomEvent');\n  if (params) {\n    e.initCustomEvent(type, params.bubbles, params.cancelable, params.detail);\n  } else {\n    e.initCustomEvent(type, false, false, void 0);\n  }\n  return e;\n} :\n\n// IE <= 8\nfunction CustomEvent (type, params) {\n  var e = document.createEventObject();\n  e.type = type;\n  if (params) {\n    e.bubbles = Boolean(params.bubbles);\n    e.cancelable = Boolean(params.cancelable);\n    e.detail = params.detail;\n  } else {\n    e.bubbles = false;\n    e.cancelable = false;\n    e.detail = void 0;\n  }\n  return e;\n}\n",
    "// https://html.spec.whatwg.org/multipage/infrastructure.html#document-base-url\nmodule.exports = (function () {\n  var baseURI = document.baseURI;\n\n  if (!baseURI) {\n    var baseEls = document.getElementsByTagName('base');\n    for (var i = 0 ; i < baseEls.length ; i++) {\n      if (!!baseEls[i].href) {\n        baseURI = baseEls[i].href;\n        break;\n      }\n    }\n  }\n\n  return (baseURI || document.documentURI);\n})();\n",
    "export default class FragmentAnchor {\n  constructor(root, id) {\n    if (root === undefined) {\n      throw new Error('missing required parameter \"root\"');\n    }\n    if (id === undefined) {\n      throw new Error('missing required parameter \"id\"');\n    }\n\n    this.root = root;\n    this.id = id;\n  }\n\n  static fromRange(root, range) {\n    if (root === undefined) {\n      throw new Error('missing required parameter \"root\"');\n    }\n    if (range === undefined) {\n      throw new Error('missing required parameter \"range\"');\n    }\n\n    let el = range.commonAncestorContainer;\n    while (el != null && !el.id) {\n      if (root.compareDocumentPosition(el) &\n          Node.DOCUMENT_POSITION_CONTAINED_BY) {\n        el = el.parentElement;\n      } else {\n        throw new Error('no fragment identifier found');\n      }\n    }\n\n    return new FragmentAnchor(root, el.id);\n  }\n\n  static fromSelector(root, selector = {}) {\n    return new FragmentAnchor(root, selector.value);\n  }\n\n  toRange() {\n    let el = this.root.querySelector('#' + this.id);\n    if (el == null) {\n      throw new Error('no element found with id \"' + this.id + '\"');\n    }\n\n    let range = this.root.ownerDocument.createRange();\n    range.selectNodeContents(el);\n\n    return range;\n  }\n\n  toSelector() {\n    let el = this.root.querySelector('#' + this.id);\n    if (el == null) {\n      throw new Error('no element found with id \"' + this.id + '\"');\n    }\n\n    let conformsTo = 'https://tools.ietf.org/html/rfc3236';\n    if (el instanceof SVGElement) {\n      conformsTo = 'http://www.w3.org/TR/SVG/';\n    }\n\n    return {\n      type: 'FragmentSelector',\n      value: this.id,\n      conformsTo: conformsTo,\n    };\n  }\n}\n",
    "module.exports = require('./lib')\n",
    "import createNodeIterator from 'dom-node-iterator'\nimport seek from 'dom-seek'\n\nimport rangeToString from './range-to-string'\n\nconst SHOW_TEXT = 4\n\nexport function fromRange(root, range) {\n  if (root === undefined) {\n    throw new Error('missing required parameter \"root\"')\n  }\n  if (range === undefined) {\n    throw new Error('missing required parameter \"range\"')\n  }\n\n  let document = root.ownerDocument\n  let prefix = document.createRange()\n\n  let startNode = range.startContainer\n  let startOffset = range.startOffset\n\n  prefix.setStart(root, 0)\n  prefix.setEnd(startNode, startOffset)\n\n  let start = rangeToString(prefix).length\n  let end = start + rangeToString(range).length\n\n  return {\n    start: start,\n    end: end,\n  }\n}\n\n\nexport function toRange(root, selector = {}) {\n  if (root === undefined) {\n    throw new Error('missing required parameter \"root\"')\n  }\n\n  let document = root.ownerDocument\n  let range = document.createRange()\n  let iter = createNodeIterator(root, SHOW_TEXT)\n\n  let start = selector.start || 0\n  let end = selector.end || start\n  let count = seek(iter, start)\n  let remainder = start - count\n\n  if (iter.pointerBeforeReferenceNode) {\n    range.setStart(iter.referenceNode, remainder)\n  } else {\n    range.setStart(iter.nextNode(), remainder)\n    iter.previousNode()\n  }\n\n  let length = (end - start) + remainder\n  count = seek(iter, length)\n  remainder = length - count\n\n  if (iter.pointerBeforeReferenceNode) {\n    range.setEnd(iter.referenceNode, remainder)\n  } else {\n    range.setEnd(iter.nextNode(), remainder)\n  }\n\n  return range\n}\n",
    "/* global Node */\n\n/**\n * Return the next node after `node` in a tree order traversal of the document.\n */\nfunction nextNode(node, skipChildren) {\n  if (!skipChildren && node.firstChild) {\n    return node.firstChild\n  }\n\n  do {\n    if (node.nextSibling) {\n      return node.nextSibling\n    }\n    node = node.parentNode\n  } while (node)\n\n  /* istanbul ignore next */\n  return node\n}\n\nfunction firstNode(range) {\n  if (range.startContainer.nodeType === Node.ELEMENT_NODE) {\n    const node = range.startContainer.childNodes[range.startOffset]\n    return node || nextNode(range.startContainer, true /* skip children */)\n  }\n  return range.startContainer\n}\n\nfunction firstNodeAfter(range) {\n  if (range.endContainer.nodeType === Node.ELEMENT_NODE) {\n    const node = range.endContainer.childNodes[range.endOffset]\n    return node || nextNode(range.endContainer, true /* skip children */)\n  }\n  return nextNode(range.endContainer)\n}\n\nfunction forEachNodeInRange(range, cb) {\n  let node = firstNode(range)\n  const pastEnd = firstNodeAfter(range)\n  while (node !== pastEnd) {\n    cb(node)\n    node = nextNode(node)\n  }\n}\n\n/**\n * A ponyfill for Range.toString().\n * Spec: https://dom.spec.whatwg.org/#dom-range-stringifier\n *\n * Works around the buggy Range.toString() implementation in IE and Edge.\n * See https://github.com/tilgovi/dom-anchor-text-position/issues/4\n */\nexport default function rangeToString(range) {\n  // This is a fairly direct translation of the Range.toString() implementation\n  // in Blink.\n  let text = ''\n  forEachNodeInRange(range, (node) => {\n    if (node.nodeType !== Node.TEXT_NODE) {\n      return\n    }\n    const start = node === range.startContainer ? range.startOffset : 0\n    const end = node === range.endContainer ? range.endOffset : node.textContent.length\n    text += node.textContent.slice(start, end)\n  })\n  return text\n}\n\n",
    "module.exports = require('./lib');\n",
    "import DiffMatchPatch from 'diff-match-patch'\nimport * as textPosition from 'dom-anchor-text-position'\n\n// The DiffMatchPatch bitap has a hard 32-character pattern length limit.\nconst SLICE_LENGTH = 32\nconst SLICE_RE = new RegExp('(.|[\\r\\n]){1,' + String(SLICE_LENGTH) + '}', 'g')\nconst CONTEXT_LENGTH = SLICE_LENGTH\n\n\nexport function fromRange(root, range) {\n  if (root === undefined) {\n    throw new Error('missing required parameter \"root\"')\n  }\n  if (range === undefined) {\n    throw new Error('missing required parameter \"range\"')\n  }\n\n  let position = textPosition.fromRange(root, range)\n  return fromTextPosition(root, position)\n}\n\n\nexport function fromTextPosition(root, selector) {\n  if (root === undefined) {\n    throw new Error('missing required parameter \"root\"')\n  }\n  if (selector === undefined) {\n    throw new Error('missing required parameter \"selector\"')\n  }\n\n  let {start} = selector\n  if (start === undefined) {\n    throw new Error('selector missing required property \"start\"')\n  }\n  if (start < 0) {\n    throw new Error('property \"start\" must be a non-negative integer')\n  }\n\n  let {end} = selector\n  if (end === undefined) {\n    throw new Error('selector missing required property \"end\"')\n  }\n  if (end < 0) {\n    throw new Error('property \"end\" must be a non-negative integer')\n  }\n\n  let exact = root.textContent.substr(start, end - start)\n\n  let prefixStart = Math.max(0, start - CONTEXT_LENGTH)\n  let prefix = root.textContent.substr(prefixStart, start - prefixStart)\n\n  let suffixEnd = Math.min(root.textContent.length, end + CONTEXT_LENGTH)\n  let suffix = root.textContent.substr(end, suffixEnd - end)\n\n  return {exact, prefix, suffix}\n}\n\n\nexport function toRange(root, selector, options = {}) {\n  let position = toTextPosition(root, selector, options)\n  if (position === null) {\n    return null\n  } else {\n    return textPosition.toRange(root, position)\n  }\n}\n\n\nexport function toTextPosition(root, selector, options = {}) {\n  if (root === undefined) {\n    throw new Error('missing required parameter \"root\"')\n  }\n  if (selector === undefined) {\n    throw new Error('missing required parameter \"selector\"')\n  }\n\n  let {exact} = selector\n  if (exact === undefined) {\n    throw new Error('selector missing required property \"exact\"')\n  }\n\n  let {prefix, suffix} = selector\n  let {hint} = options\n  let dmp = new DiffMatchPatch()\n\n  dmp.Match_Distance = root.textContent.length * 2\n\n  // Work around a hard limit of the DiffMatchPatch bitap implementation.\n  // The search pattern must be no more than SLICE_LENGTH characters.\n  let slices = exact.match(SLICE_RE)\n  let loc = (hint === undefined) ? ((root.textContent.length / 2) | 0) : hint\n  let start = Number.POSITIVE_INFINITY\n  let end = Number.NEGATIVE_INFINITY\n  let result = -1\n  let havePrefix = prefix !== undefined\n  let haveSuffix = suffix !== undefined\n  let foundPrefix = false\n\n  // If the prefix is known then search for that first.\n  if (havePrefix) {\n    result = dmp.match_main(root.textContent, prefix, loc)\n    if (result > -1) {\n      loc = result + prefix.length\n      foundPrefix = true\n    }\n  }\n\n  // If we have a suffix, and the prefix wasn't found, then search for it.\n  if (haveSuffix && !foundPrefix) {\n    result = dmp.match_main(root.textContent, suffix, loc + exact.length)\n    if (result > -1) {\n      loc = result - exact.length\n    }\n  }\n\n  // Search for the first slice.\n  let firstSlice = slices.shift()\n  result = dmp.match_main(root.textContent, firstSlice, loc)\n  if (result > -1) {\n    start = result\n    loc = end = start + firstSlice.length\n  } else {\n    return null\n  }\n\n  // Create a fold function that will reduce slices to positional extents.\n  let foldSlices = (acc, slice) => {\n    if (!acc) {\n      // A search for an earlier slice of the pattern failed to match.\n      return null\n    }\n\n    let result = dmp.match_main(root.textContent, slice, acc.loc)\n    if (result === -1) {\n      return null\n    }\n\n    // The next slice should follow this one closely.\n    acc.loc = result + slice.length\n\n    // Expand the start and end to a quote that includes all the slices.\n    acc.start = Math.min(acc.start, result)\n    acc.end = Math.max(acc.end, result + slice.length)\n\n    return acc\n  }\n\n  // Use the fold function to establish the full quote extents.\n  // Expect the slices to be close to one another.\n  // This distance is deliberately generous for now.\n  dmp.Match_Distance = 64\n  const acc = slices.reduce(foldSlices, {start, end, loc})\n  if (!acc) {\n    return null\n  }\n\n  return {start: acc.start, end: acc.end}\n}\n",
    "/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function() {\n\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0;\n  // Cost of an empty edit operation in terms of edit characters.\n  this.Diff_EditCost = 4;\n  // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n  this.Match_Threshold = 0.5;\n  // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n  this.Match_Distance = 1000;\n  // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n  this.Patch_DeleteThreshold = 0.5;\n  // Chunk size for context length.\n  this.Patch_Margin = 4;\n\n  // The number of bits in an int.\n  this.Match_MaxBits = 32;\n};\n\n\n//  DIFF FUNCTIONS\n\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\ndiff_match_patch.Diff = function(op, text) {\n  return [op, text];\n};\n\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_main = function(text1, text2, opt_checklines,\n    opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = (new Date).getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n  var deadline = opt_deadline;\n\n  // Check for null inputs.\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  }\n\n  // Check for equality (speedup).\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n  var checklines = opt_checklines;\n\n  // Trim off common prefix (speedup).\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength);\n\n  // Trim off common suffix (speedup).\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength);\n\n  // Compute the diff on the middle block.\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline);\n\n  // Restore the prefix and suffix.\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n\n\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_compute_ = function(text1, text2, checklines,\n    deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)),\n             new diff_match_patch.Diff(DIFF_EQUAL, shorttext),\n             new diff_match_patch.Diff(DIFF_INSERT,\n                 longtext.substring(i + shorttext.length))];\n    // Swap insertions for deletions if diff is reversed.\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n            new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  // Check to see if the problem can be split in two.\n  var hm = this.diff_halfMatch_(text1, text2);\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4];\n    // Send both pairs off for separate processing.\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline);\n    // Merge the results.\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)],\n                          diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n\n\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_lineMode_ = function(text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n\n  var diffs = this.diff_main(text1, text2, false, deadline);\n\n  // Convert the diff back to original text.\n  this.diff_charsToLines_(diffs, linearray);\n  // Eliminate freak matches (e.g. blank lines)\n  this.diff_cleanupSemantic(diffs);\n\n  // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert,\n                       count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff =\n              this.diff_main(text_delete, text_insert, false, deadline);\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n          pointer = pointer + subDiff.length;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n    pointer++;\n  }\n  diffs.pop();  // Remove the dummy entry at the end.\n\n  return diffs;\n};\n\n\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisect_ = function(text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length);\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length;\n  // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n  var front = (delta % 2 != 0);\n  // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if ((new Date()).getTime() > deadline) {\n      break;\n    }\n\n    // Walk the front path one step.\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n      if (k1 == -d || (k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n      var y1 = x1 - k1;\n      while (x1 < text1_length && y1 < text2_length &&\n             text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n      v1[k1_offset] = x1;\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n\n    // Walk the reverse path one step.\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n      if (k2 == -d || (k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n      var y2 = x2 - k2;\n      while (x2 < text1_length && y2 < text2_length &&\n             text1.charAt(text1_length - x2 - 1) ==\n             text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n      v2[k2_offset] = x2;\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset;\n          // Mirror x2 onto top-left coordinate system.\n          x2 = text1_length - x2;\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  }\n  // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1),\n          new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n\n\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\ndiff_match_patch.prototype.diff_bisectSplit_ = function(text1, text2, x, y,\n    deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y);\n\n  // Compute both diffs serially.\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n\n  return diffs.concat(diffsb);\n};\n\n\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\ndiff_match_patch.prototype.diff_linesToChars_ = function(text1, text2) {\n  var lineArray = [];  // e.g. lineArray[4] == 'Hello\\n'\n  var lineHash = {};   // e.g. lineHash['Hello\\n'] == 4\n\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n  lineArray[0] = '';\n\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n  function diff_linesToCharsMunge_(text) {\n    var chars = '';\n    // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n    var lineStart = 0;\n    var lineEnd = -1;\n    // Keeping our own length variable is faster than looking it up.\n    var lineArrayLength = lineArray.length;\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) :\n          (lineHash[line] !== undefined)) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n      lineStart = lineEnd + 1;\n    }\n    return chars;\n  }\n  // Allocate 2/3rds of the space for text1, the rest for text2.\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {chars1: chars1, chars2: chars2, lineArray: lineArray};\n};\n\n\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\ndiff_match_patch.prototype.diff_charsToLines_ = function(diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n    diffs[i][1] = text.join('');\n  }\n};\n\n\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\ndiff_match_patch.prototype.diff_commonPrefix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) ==\n        text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\ndiff_match_patch.prototype.diff_commonSuffix = function(text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 ||\n      text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  }\n  // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) ==\n        text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n  return pointermid;\n};\n\n\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\ndiff_match_patch.prototype.diff_commonOverlap_ = function(text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  // Eliminate the null case.\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  }\n  // Truncate the longer string.\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n  var text_length = Math.min(text1_length, text2_length);\n  // Quick check for the worst case.\n  if (text1 == text2) {\n    return text_length;\n  }\n\n  // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n  var best = 0;\n  var length = 1;\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n    if (found == -1) {\n      return best;\n    }\n    length += found;\n    if (found == 0 || text1.substring(text_length - length) ==\n        text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n\n\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\ndiff_match_patch.prototype.diff_halfMatch_ = function(text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null;  // Pointless.\n  }\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i),\n                                               shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i),\n                                               shorttext.substring(0, j));\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) +\n            shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b,\n              best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  }\n\n  // First check if the second quarter is the seed for a half-match.\n  var hm1 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 4));\n  // Check again based on the third quarter.\n  var hm2 = diff_halfMatchI_(longtext, shorttext,\n                             Math.ceil(longtext.length / 2));\n  var hm;\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  }\n\n  // A half-match was found, sort out the return data.\n  var text1_a, text1_b, text2_a, text2_b;\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n\n\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemantic = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Number of characters that changed prior to the equality.\n  var length_insertions1 = 0;\n  var length_deletions1 = 0;\n  // Number of characters that changed after the equality.\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      }\n      // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n      if (lastEquality && (lastEquality.length <=\n          Math.max(length_insertions1, length_deletions1)) &&\n          (lastEquality.length <= Math.max(length_insertions2,\n                                           length_deletions2))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        // Throw away the equality we just deleted.\n        equalitiesLength--;\n        // Throw away the previous equality (it needs to be reevaluated).\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0;  // Reset the counters.\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  // Normalize the diff.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n  this.diff_cleanupSemanticLossless(diffs);\n\n  // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n  pointer = 1;\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE &&\n        diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 ||\n            overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] =\n              deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 ||\n            overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n              deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] =\n              insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] =\n              deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n      pointer++;\n    }\n    pointer++;\n  }\n};\n\n\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function(diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    }\n\n    // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 &&\n        char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 &&\n        char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 &&\n        char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 &&\n        char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 &&\n        one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 &&\n        two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n    return 0;\n  }\n\n  var pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1];\n\n      // First, shift the edit as far left as possible.\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      }\n\n      // Second, step character by character right, looking for the best fit.\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) +\n          diff_cleanupSemanticScore_(edit, equality2);\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) +\n            diff_cleanupSemanticScore_(edit, equality2);\n        // The >= encourages trailing rather than leading whitespace on edits.\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n        diffs[pointer][1] = bestEdit;\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n    pointer++;\n  }\n};\n\n// Define some regex patterns for matching boundaries.\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupEfficiency = function(diffs) {\n  var changes = false;\n  var equalities = [];  // Stack of indices where equalities are found.\n  var equalitiesLength = 0;  // Keeping our own length var is faster in JS.\n  /** @type {?string} */\n  var lastEquality = null;\n  // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n  var pointer = 0;  // Index of current position.\n  // Is there an insertion operation before the last equality.\n  var pre_ins = false;\n  // Is there a deletion operation before the last equality.\n  var pre_del = false;\n  // Is there an insertion operation after the last equality.\n  var post_ins = false;\n  // Is there a deletion operation after the last equality.\n  var post_del = false;\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {  // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost &&\n          (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n      post_ins = post_del = false;\n    } else {  // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n      if (lastEquality && ((pre_ins && pre_del && post_ins && post_del) ||\n                           ((lastEquality.length < this.Diff_EditCost / 2) &&\n                            (pre_ins + pre_del + post_ins + post_del) == 3))) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0,\n                     new diff_match_patch.Diff(DIFF_DELETE, lastEquality));\n        // Change second copy to insert.\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--;  // Throw away the equality we just deleted;\n        lastEquality = null;\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--;  // Throw away the previous equality.\n          pointer = equalitiesLength > 0 ?\n              equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\ndiff_match_patch.prototype.diff_cleanupMerge = function(diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              if ((pointer - count_delete - count_insert) > 0 &&\n                  diffs[pointer - count_delete - count_insert - 1][0] ==\n                  DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] +=\n                    text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL,\n                    text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            }\n            // Factor out any common suffixies.\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length -\n                  commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length -\n                  commonlength);\n              text_delete = text_delete.substring(0, text_delete.length -\n                  commonlength);\n            }\n          }\n          // Delete the offending records and add the merged ones.\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n          if (text_delete.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n          if (text_insert.length) {\n            diffs.splice(pointer, 0,\n                new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop();  // Remove the dummy entry at the end.\n  }\n\n  // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n  var changes = false;\n  pointer = 1;\n  // Intentionally ignore the first and last element (don't need checking).\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL &&\n        diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\n          diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] +\n            diffs[pointer][1].substring(0, diffs[pointer][1].length -\n                                        diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\n          diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] =\n            diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\n            diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n    pointer++;\n  }\n  // If shifts were made, the diff needs reordering and another shift sweep.\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n\n\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\ndiff_match_patch.prototype.diff_xIndex = function(diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {  // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n    if (diffs[x][0] !== DIFF_DELETE) {  // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n    if (chars1 > loc) {  // Overshot the location.\n      break;\n    }\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  }\n  // Was the location was deleted?\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  }\n  // Add the remaining character length.\n  return last_chars2 + (loc - last_chars1);\n};\n\n\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\ndiff_match_patch.prototype.diff_prettyHtml = function(diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];    // Operation (insert, delete, equal)\n    var data = diffs[x][1];  // Text of change.\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;')\n        .replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n  return html.join('');\n};\n\n\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\ndiff_match_patch.prototype.diff_text1 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\ndiff_match_patch.prototype.diff_text2 = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n  return text.join('');\n};\n\n\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\ndiff_match_patch.prototype.diff_levenshtein = function(diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n\n\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\ndiff_match_patch.prototype.diff_toDelta = function(diffs) {\n  var text = [];\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n\n\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.diff_fromDelta = function(text1, delta) {\n  var diffs = [];\n  var diffsLength = 0;  // Keeping our own length var is faster in JS.\n  var pointer = 0;  // Cursor in text1\n  var tokens = delta.split(/\\t/g);\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] =\n              new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n        break;\n      case '-':\n        // Fall through.\n      case '=':\n        var n = parseInt(param, 10);\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n        var text = text1.substring(pointer, pointer += n);\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n        break;\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' +\n                          tokens[x]);\n        }\n    }\n  }\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer +\n        ') does not equal source text length (' + text1.length + ').');\n  }\n  return diffs;\n};\n\n\n//  MATCH FUNCTIONS\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\ndiff_match_patch.prototype.match_main = function(text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\ndiff_match_patch.prototype.match_bitap_ = function(text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  }\n\n  // Initialise the alphabet.\n  var s = this.match_alphabet_(pattern);\n\n  var dmp = this;  // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n    return accuracy + (proximity / dmp.Match_Distance);\n  }\n\n  // Highest score beyond which we give up.\n  var score_threshold = this.Match_Threshold;\n  // Is there a nearby exact match? (speedup)\n  var best_loc = text.indexOf(pattern, loc);\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    // What about in the other direction? (speedup)\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n    if (best_loc != -1) {\n      score_threshold =\n          Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  }\n\n  // Initialise the bit arrays.\n  var matchmask = 1 << (pattern.length - 1);\n  best_loc = -1;\n\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    }\n    // Use the result from this iteration as the maximum for the next.\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n      if (d === 0) {  // First pass: exact match.\n        rd[j] = ((rd[j + 1] << 1) | 1) & charMatch;\n      } else {  // Subsequent passes: fuzzy match.\n        rd[j] = (((rd[j + 1] << 1) | 1) & charMatch) |\n                (((last_rd[j + 1] | last_rd[j]) << 1) | 1) |\n                last_rd[j + 1];\n      }\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1);\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    }\n    // No hope for a (better) match at greater error levels.\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n    last_rd = rd;\n  }\n  return best_loc;\n};\n\n\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\ndiff_match_patch.prototype.match_alphabet_ = function(pattern) {\n  var s = {};\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << (pattern.length - i - 1);\n  }\n  return s;\n};\n\n\n//  PATCH FUNCTIONS\n\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\ndiff_match_patch.prototype.patch_addContext_ = function(patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0;\n\n  // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) &&\n         pattern.length < this.Match_MaxBits - this.Patch_Margin -\n         this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding,\n                             patch.start2 + patch.length1 + padding);\n  }\n  // Add one chunk for good luck.\n  padding += this.Patch_Margin;\n\n  // Add the prefix.\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  }\n  // Add the suffix.\n  var suffix = text.substring(patch.start2 + patch.length1,\n                              patch.start2 + patch.length1 + padding);\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  }\n\n  // Roll back the start points.\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length;\n  // Extend the lengths.\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n\n\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_make = function(a, opt_b, opt_c) {\n  var text1, diffs;\n  if (typeof a == 'string' && typeof opt_b == 'string' &&\n      typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = /** @type {string} */(a);\n    diffs = this.diff_main(text1, /** @type {string} */(opt_b), true);\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' &&\n      typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(a);\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' &&\n      typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_b);\n  } else if (typeof a == 'string' && typeof opt_b == 'string' &&\n      opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = /** @type {string} */(a);\n    diffs = /** @type {!Array.<!diff_match_patch.Diff>} */(opt_c);\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return [];  // Get rid of the null case.\n  }\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0;  // Keeping our own length var is faster in JS.\n  var char_count1 = 0;  // Number of characters into the text1 string.\n  var char_count2 = 0;  // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text +\n                         postpatch_text.substring(char_count2);\n        break;\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) +\n                         postpatch_text.substring(char_count2 +\n                             diff_text.length);\n        break;\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin &&\n            patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0;\n            // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n        break;\n    }\n\n    // Update the current character count.\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  }\n  // Pick up the leftover patch if not empty.\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n\n\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_deepCopy = function(patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] =\n          new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n  return patchesCopy;\n};\n\n\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\ndiff_match_patch.prototype.patch_apply = function(patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  }\n\n  // Deep copy the patches so that no changes are made to originals.\n  patches = this.patch_deepCopy(patches);\n\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n\n  this.patch_splitMax(patches);\n  // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n  var delta = 0;\n  var results = [];\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits),\n                                  expected_loc);\n      if (start_loc != -1) {\n        end_loc = this.match_main(text,\n            text1.substring(text1.length - this.Match_MaxBits),\n            expected_loc + text1.length - this.Match_MaxBits);\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false;\n      // Subtract the delta for this failed patch from subsequent patches.\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) +\n               this.diff_text2(patches[x].diffs) +\n               text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n        if (text1.length > this.Match_MaxBits &&\n            this.diff_levenshtein(diffs) / text1.length >\n            this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n            if (mod[0] === DIFF_INSERT) {  // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] +\n                     text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {  // Deletion\n              text = text.substring(0, start_loc + index2) +\n                     text.substring(start_loc + this.diff_xIndex(diffs,\n                         index1 + mod[1].length));\n            }\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  }\n  // Strip the padding off.\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n\n\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\ndiff_match_patch.prototype.patch_addPadding = function(patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  }\n\n  // Bump all the patches forward.\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  }\n\n  // Add some padding on start of first diff.\n  var patch = patches[0];\n  var diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength;  // Should be 0.\n    patch.start2 -= paddingLength;  // Should be 0.\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  // Add some padding on end of last diff.\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n\n\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\ndiff_match_patch.prototype.patch_splitMax = function(patches) {\n  var patch_size = this.Match_MaxBits;\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n    var bigpatch = patches[x];\n    // Remove the big old patch.\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n      while (bigpatch.diffs.length !== 0 &&\n             patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 &&\n                   patch.diffs[0][0] == DIFF_EQUAL &&\n                   diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0,\n              patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] =\n                bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      }\n      // Compute the head context for the next patch.\n      precontext = this.diff_text2(patch.diffs);\n      precontext =\n          precontext.substring(precontext.length - this.Patch_Margin);\n      // Append the end context for this patch.\n      var postcontext = this.diff_text1(bigpatch.diffs)\n                            .substring(0, this.Patch_Margin);\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n        if (patch.diffs.length !== 0 &&\n            patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n\n\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\ndiff_match_patch.prototype.patch_toText = function(patches) {\n  var text = [];\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n  return text.join('');\n};\n\n\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\ndiff_match_patch.prototype.patch_fromText = function(textline) {\n  var patches = [];\n  if (!textline) {\n    return patches;\n  }\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {\n        // Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n      textPointer++;\n    }\n  }\n  return patches;\n};\n\n\n/**\n * Class representing one patch operation.\n * @constructor\n */\ndiff_match_patch.patch_obj = function() {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n  this.start1 = null;\n  /** @type {?number} */\n  this.start2 = null;\n  /** @type {number} */\n  this.length1 = 0;\n  /** @type {number} */\n  this.length2 = 0;\n};\n\n\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\ndiff_match_patch.patch_obj.prototype.toString = function() {\n  var coords1, coords2;\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = (this.start1 + 1) + ',' + this.length1;\n  }\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = (this.start2 + 1) + ',' + this.length2;\n  }\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op;\n  // Escape the body of the patch with %xx notation.\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n      case DIFF_DELETE:\n        op = '-';\n        break;\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n  return text.join('').replace(/%20/g, ' ');\n};\n\n\n// The following export code was added by @ForbesLindesay\nmodule.exports = diff_match_patch;\nmodule.exports['diff_match_patch'] = diff_match_patch;\nmodule.exports['DIFF_DELETE'] = DIFF_DELETE;\nmodule.exports['DIFF_INSERT'] = DIFF_INSERT;\nmodule.exports['DIFF_EQUAL'] = DIFF_EQUAL;",
    "module.exports = require('./lib/implementation')['default'];\n",
    "module.exports = require('./lib')['default'];\nmodule.exports.getPolyfill = require('./polyfill');\nmodule.exports.implementation = require('./implementation');\nmodule.exports.shim = require('./shim');\n",
    "export default createNodeIterator\n\n\nfunction createNodeIterator(root, whatToShow = 0xFFFFFFFF, filter = null) {\n  const doc = (root.nodeType == 9) || root.ownerDocument\n  const iter = doc.createNodeIterator(root, whatToShow, filter, false)\n  return new NodeIterator(iter, root, whatToShow, filter)\n}\n\n\nclass NodeIterator {\n  constructor(iter, root, whatToShow, filter) {\n    this.root = root\n    this.whatToShow = whatToShow\n    this.filter = filter\n    this.referenceNode = root\n    this.pointerBeforeReferenceNode = true\n    this._iter = iter\n  }\n\n  nextNode() {\n    const result = this._iter.nextNode()\n    this.pointerBeforeReferenceNode = false\n    if (result === null) return null\n    this.referenceNode = result\n    return this.referenceNode\n  }\n\n  previousNode() {\n    const result = this._iter.previousNode()\n    this.pointerBeforeReferenceNode = true\n    if (result === null) return null\n    this.referenceNode = result\n    return this.referenceNode\n  }\n\n  toString() {\n    return '[object NodeIterator]'\n  }\n}\n",
    "export default createNodeIterator\n\n\nfunction createNodeIterator(root, whatToShow = 0xFFFFFFFF, filter = null) {\n  const doc = root.ownerDocument\n  return doc.createNodeIterator.call(doc, root, whatToShow, filter)\n}\n",
    "export default createNodeIterator\n\n\nfunction createNodeIterator(root, whatToShow = 0xFFFFFFFF, filter = null) {\n  return new NodeIterator(root, whatToShow, filter)\n}\n\n\nclass NodeIterator {\n  constructor(root, whatToShow, filter) {\n    this.root = root\n    this.whatToShow = whatToShow\n    this.filter = filter\n    this.referenceNode = root\n    this.pointerBeforeReferenceNode = true\n    this._filter = (node) => filter ? filter(node) === 1 : true\n    this._show = (node) => whatToShow >> node.nodeType - 1 & 1 === 1\n  }\n\n  nextNode() {\n    const before = this.pointerBeforeReferenceNode\n    this.pointerBeforeReferenceNode = false\n\n    let node = this.referenceNode\n    if (before && this._show(node) && this._filter(node)) return node\n\n    do {\n      if (node.firstChild) {\n        node = node.firstChild\n        continue\n      }\n\n      do {\n        if (node === this.root) return null\n        if (node.nextSibling) break\n        node = node.parentNode\n      } while (node)\n\n      node = node.nextSibling\n    } while(!this._show(node) || !this._filter(node))\n\n    this.referenceNode = node\n    this.pointerBeforeReferenceNode = false\n    return node\n  }\n\n  previousNode() {\n    const before = this.pointerBeforeReferenceNode\n    this.pointerBeforeReferenceNode = true\n\n    let node = this.referenceNode\n    if (!before && this._show(node) && this._filter(node)) return node\n\n    do {\n      if (node === this.root) return null\n\n      if (node.previousSibling) {\n        node = node.previousSibling\n        while (node.lastChild) node = node.lastChild\n        continue\n      }\n\n      node = node.parentNode\n    } while(!this._show(node) || !this._filter(node))\n\n    this.referenceNode = node\n    this.pointerBeforeReferenceNode = true\n    return node\n  }\n\n  toString() {\n    return '[object NodeIterator]'\n  }\n}\n",
    "import { default as getPolyfill } from './polyfill'\nimport { default as implementation } from './implementation'\nimport { default as shim } from './shim'\n\nconst polyfill = getPolyfill()\npolyfill.implementation = implementation\npolyfill.shim = shim\n\nexport default polyfill\n",
    "/*global document*/\nimport adapter from './adapter'\nimport builtin from './builtin'\nimport implementation from './implementation'\n\n\nexport default function getPolyfill() {\n  try {\n    const doc = typeof(document) === 'undefined' ? {} : document\n    const iter = builtin(doc, 0xFFFFFFFF, null, false)\n    if (iter.referenceNode === doc) return builtin\n    return adapter\n  } catch (_) {\n    return implementation\n  }\n}\n",
    "/*global document*/\nimport builtin from './builtin'\nimport getPolyfill from './polyfill'\n\n\nexport default function shim() {\n  const doc = typeof(document) === 'undefined' ? {} : document\n  const polyfill = getPolyfill()\n  if (polyfill !== builtin) doc.createNodeIterator = polyfill\n  return polyfill\n}\n",
    "module.exports = require('./lib/polyfill')['default'];\n",
    "module.exports = require('./lib/shim')['default'];\n",
    "module.exports = require('./lib')['default'];\n",
    "import ancestors from 'ancestors'\nimport indexOf from 'index-of'\n\nconst E_SHOW = 'Argument 1 of seek must use filter NodeFilter.SHOW_TEXT.'\nconst E_WHERE = 'Argument 2 of seek must be a number or a Text Node.'\n\nconst SHOW_TEXT = 4\nconst TEXT_NODE = 3\n\n\nexport default function seek(iter, where) {\n  if (iter.whatToShow !== SHOW_TEXT) {\n    throw new Error(E_SHOW)\n  }\n\n  let count = 0\n  let node = iter.referenceNode\n  let predicates = null\n\n  if (isNumber(where)) {\n    predicates = {\n      forward: () => count < where,\n      backward: () => count > where,\n    }\n  } else if (isText(where)) {\n    let forward = before(node, where) ? () => false : () => node !== where\n    let backward = () => node != where || !iter.pointerBeforeReferenceNode\n    predicates = {forward, backward}\n  } else {\n    throw new Error(E_WHERE)\n  }\n\n  while (predicates.forward() && (node = iter.nextNode()) !== null) {\n    count += node.nodeValue.length\n  }\n\n  while (predicates.backward() && (node = iter.previousNode()) !== null) {\n    count -= node.nodeValue.length\n  }\n\n  return count\n}\n\n\nfunction isNumber(n) {\n  return !isNaN(parseInt(n)) && isFinite(n)\n}\n\n\nfunction isText(node) {\n  return node.nodeType === TEXT_NODE\n}\n\n\nfunction before(ref, node) {\n  if (ref === node) return false\n\n  let common = null\n  let left = [ref].concat(ancestors(ref)).reverse()\n  let right = [node].concat(ancestors(node)).reverse()\n\n  while (left[0] === right[0]) {\n    common = left.shift()\n    right.shift()\n  }\n\n  left = left[0]\n  right = right[0]\n\n  let l = indexOf(common.childNodes, left)\n  let r = indexOf(common.childNodes, right)\n\n  return l > r\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attributeNames = exports.elementNames = void 0;\nexports.elementNames = new Map([\n    [\"altglyph\", \"altGlyph\"],\n    [\"altglyphdef\", \"altGlyphDef\"],\n    [\"altglyphitem\", \"altGlyphItem\"],\n    [\"animatecolor\", \"animateColor\"],\n    [\"animatemotion\", \"animateMotion\"],\n    [\"animatetransform\", \"animateTransform\"],\n    [\"clippath\", \"clipPath\"],\n    [\"feblend\", \"feBlend\"],\n    [\"fecolormatrix\", \"feColorMatrix\"],\n    [\"fecomponenttransfer\", \"feComponentTransfer\"],\n    [\"fecomposite\", \"feComposite\"],\n    [\"feconvolvematrix\", \"feConvolveMatrix\"],\n    [\"fediffuselighting\", \"feDiffuseLighting\"],\n    [\"fedisplacementmap\", \"feDisplacementMap\"],\n    [\"fedistantlight\", \"feDistantLight\"],\n    [\"fedropshadow\", \"feDropShadow\"],\n    [\"feflood\", \"feFlood\"],\n    [\"fefunca\", \"feFuncA\"],\n    [\"fefuncb\", \"feFuncB\"],\n    [\"fefuncg\", \"feFuncG\"],\n    [\"fefuncr\", \"feFuncR\"],\n    [\"fegaussianblur\", \"feGaussianBlur\"],\n    [\"feimage\", \"feImage\"],\n    [\"femerge\", \"feMerge\"],\n    [\"femergenode\", \"feMergeNode\"],\n    [\"femorphology\", \"feMorphology\"],\n    [\"feoffset\", \"feOffset\"],\n    [\"fepointlight\", \"fePointLight\"],\n    [\"fespecularlighting\", \"feSpecularLighting\"],\n    [\"fespotlight\", \"feSpotLight\"],\n    [\"fetile\", \"feTile\"],\n    [\"feturbulence\", \"feTurbulence\"],\n    [\"foreignobject\", \"foreignObject\"],\n    [\"glyphref\", \"glyphRef\"],\n    [\"lineargradient\", \"linearGradient\"],\n    [\"radialgradient\", \"radialGradient\"],\n    [\"textpath\", \"textPath\"],\n]);\nexports.attributeNames = new Map([\n    [\"definitionurl\", \"definitionURL\"],\n    [\"attributename\", \"attributeName\"],\n    [\"attributetype\", \"attributeType\"],\n    [\"basefrequency\", \"baseFrequency\"],\n    [\"baseprofile\", \"baseProfile\"],\n    [\"calcmode\", \"calcMode\"],\n    [\"clippathunits\", \"clipPathUnits\"],\n    [\"diffuseconstant\", \"diffuseConstant\"],\n    [\"edgemode\", \"edgeMode\"],\n    [\"filterunits\", \"filterUnits\"],\n    [\"glyphref\", \"glyphRef\"],\n    [\"gradienttransform\", \"gradientTransform\"],\n    [\"gradientunits\", \"gradientUnits\"],\n    [\"kernelmatrix\", \"kernelMatrix\"],\n    [\"kernelunitlength\", \"kernelUnitLength\"],\n    [\"keypoints\", \"keyPoints\"],\n    [\"keysplines\", \"keySplines\"],\n    [\"keytimes\", \"keyTimes\"],\n    [\"lengthadjust\", \"lengthAdjust\"],\n    [\"limitingconeangle\", \"limitingConeAngle\"],\n    [\"markerheight\", \"markerHeight\"],\n    [\"markerunits\", \"markerUnits\"],\n    [\"markerwidth\", \"markerWidth\"],\n    [\"maskcontentunits\", \"maskContentUnits\"],\n    [\"maskunits\", \"maskUnits\"],\n    [\"numoctaves\", \"numOctaves\"],\n    [\"pathlength\", \"pathLength\"],\n    [\"patterncontentunits\", \"patternContentUnits\"],\n    [\"patterntransform\", \"patternTransform\"],\n    [\"patternunits\", \"patternUnits\"],\n    [\"pointsatx\", \"pointsAtX\"],\n    [\"pointsaty\", \"pointsAtY\"],\n    [\"pointsatz\", \"pointsAtZ\"],\n    [\"preservealpha\", \"preserveAlpha\"],\n    [\"preserveaspectratio\", \"preserveAspectRatio\"],\n    [\"primitiveunits\", \"primitiveUnits\"],\n    [\"refx\", \"refX\"],\n    [\"refy\", \"refY\"],\n    [\"repeatcount\", \"repeatCount\"],\n    [\"repeatdur\", \"repeatDur\"],\n    [\"requiredextensions\", \"requiredExtensions\"],\n    [\"requiredfeatures\", \"requiredFeatures\"],\n    [\"specularconstant\", \"specularConstant\"],\n    [\"specularexponent\", \"specularExponent\"],\n    [\"spreadmethod\", \"spreadMethod\"],\n    [\"startoffset\", \"startOffset\"],\n    [\"stddeviation\", \"stdDeviation\"],\n    [\"stitchtiles\", \"stitchTiles\"],\n    [\"surfacescale\", \"surfaceScale\"],\n    [\"systemlanguage\", \"systemLanguage\"],\n    [\"tablevalues\", \"tableValues\"],\n    [\"targetx\", \"targetX\"],\n    [\"targety\", \"targetY\"],\n    [\"textlength\", \"textLength\"],\n    [\"viewbox\", \"viewBox\"],\n    [\"viewtarget\", \"viewTarget\"],\n    [\"xchannelselector\", \"xChannelSelector\"],\n    [\"ychannelselector\", \"yChannelSelector\"],\n    [\"zoomandpan\", \"zoomAndPan\"],\n]);\n",
    "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Module dependencies\n */\nvar ElementType = __importStar(require(\"domelementtype\"));\nvar entities_1 = require(\"entities\");\n/*\n * Mixed-case SVG and MathML tags & attributes\n * recognized by the HTML parser, see\n * https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n */\nvar foreignNames_1 = require(\"./foreignNames\");\nvar unencodedElements = new Set([\n    \"style\",\n    \"script\",\n    \"xmp\",\n    \"iframe\",\n    \"noembed\",\n    \"noframes\",\n    \"plaintext\",\n    \"noscript\",\n]);\n/**\n * Format attributes\n */\nfunction formatAttributes(attributes, opts) {\n    if (!attributes)\n        return;\n    return Object.keys(attributes)\n        .map(function (key) {\n        var _a, _b;\n        var value = (_a = attributes[key]) !== null && _a !== void 0 ? _a : \"\";\n        if (opts.xmlMode === \"foreign\") {\n            /* Fix up mixed-case attribute names */\n            key = (_b = foreignNames_1.attributeNames.get(key)) !== null && _b !== void 0 ? _b : key;\n        }\n        if (!opts.emptyAttrs && !opts.xmlMode && value === \"\") {\n            return key;\n        }\n        return key + \"=\\\"\" + (opts.decodeEntities ? entities_1.encodeXML(value) : value.replace(/\"/g, \"&quot;\")) + \"\\\"\";\n    })\n        .join(\" \");\n}\n/**\n * Self-enclosing tags\n */\nvar singleTag = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\n/**\n * Renders a DOM node or an array of DOM nodes to a string.\n *\n * Can be thought of as the equivalent of the `outerHTML` of the passed node(s).\n *\n * @param node Node to be rendered.\n * @param options Changes serialization behavior\n */\nfunction render(node, options) {\n    if (options === void 0) { options = {}; }\n    // TODO: This is a bit hacky.\n    var nodes = Array.isArray(node) || node.cheerio ? node : [node];\n    var output = \"\";\n    for (var i = 0; i < nodes.length; i++) {\n        output += renderNode(nodes[i], options);\n    }\n    return output;\n}\nexports.default = render;\nfunction renderNode(node, options) {\n    switch (node.type) {\n        case ElementType.Root:\n            return render(node.children, options);\n        case ElementType.Directive:\n        case ElementType.Doctype:\n            return renderDirective(node);\n        case ElementType.Comment:\n            return renderComment(node);\n        case ElementType.CDATA:\n            return renderCdata(node);\n        case ElementType.Script:\n        case ElementType.Style:\n        case ElementType.Tag:\n            return renderTag(node, options);\n        case ElementType.Text:\n            return renderText(node, options);\n    }\n}\nvar foreignModeIntegrationPoints = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nvar foreignElements = new Set([\"svg\", \"math\"]);\nfunction renderTag(elem, opts) {\n    var _a;\n    // Handle SVG / MathML in HTML\n    if (opts.xmlMode === \"foreign\") {\n        /* Fix up mixed-case element names */\n        elem.name = (_a = foreignNames_1.elementNames.get(elem.name)) !== null && _a !== void 0 ? _a : elem.name;\n        /* Exit foreign mode at integration points */\n        if (elem.parent &&\n            foreignModeIntegrationPoints.has(elem.parent.name)) {\n            opts = __assign(__assign({}, opts), { xmlMode: false });\n        }\n    }\n    if (!opts.xmlMode && foreignElements.has(elem.name)) {\n        opts = __assign(__assign({}, opts), { xmlMode: \"foreign\" });\n    }\n    var tag = \"<\" + elem.name;\n    var attribs = formatAttributes(elem.attribs, opts);\n    if (attribs) {\n        tag += \" \" + attribs;\n    }\n    if (elem.children.length === 0 &&\n        (opts.xmlMode\n            ? // In XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags\n                opts.selfClosingTags !== false\n            : // User explicitly asked for self-closing tags, even in HTML mode\n                opts.selfClosingTags && singleTag.has(elem.name))) {\n        if (!opts.xmlMode)\n            tag += \" \";\n        tag += \"/>\";\n    }\n    else {\n        tag += \">\";\n        if (elem.children.length > 0) {\n            tag += render(elem.children, opts);\n        }\n        if (opts.xmlMode || !singleTag.has(elem.name)) {\n            tag += \"</\" + elem.name + \">\";\n        }\n    }\n    return tag;\n}\nfunction renderDirective(elem) {\n    return \"<\" + elem.data + \">\";\n}\nfunction renderText(elem, opts) {\n    var data = elem.data || \"\";\n    // If entities weren't decoded, no need to encode them back\n    if (opts.decodeEntities &&\n        !(elem.parent && unencodedElements.has(elem.parent.name))) {\n        data = entities_1.encodeXML(data);\n    }\n    return data;\n}\nfunction renderCdata(elem) {\n    return \"<![CDATA[\" + elem.children[0].data + \"]]>\";\n}\nfunction renderComment(elem) {\n    return \"<!--\" + elem.data + \"-->\";\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Doctype = exports.CDATA = exports.Tag = exports.Style = exports.Script = exports.Comment = exports.Directive = exports.Text = exports.Root = exports.isTag = void 0;\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nfunction isTag(elem) {\n    return (elem.type === \"tag\" /* Tag */ ||\n        elem.type === \"script\" /* Script */ ||\n        elem.type === \"style\" /* Style */);\n}\nexports.isTag = isTag;\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexports.Root = \"root\" /* Root */;\n/** Type for Text */\nexports.Text = \"text\" /* Text */;\n/** Type for <? ... ?> */\nexports.Directive = \"directive\" /* Directive */;\n/** Type for <!-- ... --> */\nexports.Comment = \"comment\" /* Comment */;\n/** Type for <script> tags */\nexports.Script = \"script\" /* Script */;\n/** Type for <style> tags */\nexports.Style = \"style\" /* Style */;\n/** Type for Any tag */\nexports.Tag = \"tag\" /* Tag */;\n/** Type for <![CDATA[ ... ]]> */\nexports.CDATA = \"cdata\" /* CDATA */;\n/** Type for <!doctype ...> */\nexports.Doctype = \"doctype\" /* Doctype */;\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomHandler = void 0;\nvar node_1 = require(\"./node\");\n__exportStar(require(\"./node\"), exports);\nvar reWhitespace = /\\s+/g;\n// Default options\nvar defaultOpts = {\n    normalizeWhitespace: false,\n    withStartIndices: false,\n    withEndIndices: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new node_1.Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this.parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        var _a;\n        this.dom = [];\n        this.root = new node_1.Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = (_a = this.parser) !== null && _a !== void 0 ? _a : null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this.lastNode = null;\n        var elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var element = new node_1.Element(name, attribs);\n        this.addNode(element);\n        this.tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var normalizeWhitespace = this.options.normalizeWhitespace;\n        var lastNode = this.lastNode;\n        if (lastNode && lastNode.type === \"text\" /* Text */) {\n            if (normalizeWhitespace) {\n                lastNode.data = (lastNode.data + data).replace(reWhitespace, \" \");\n            }\n            else {\n                lastNode.data += data;\n            }\n        }\n        else {\n            if (normalizeWhitespace) {\n                data = data.replace(reWhitespace, \" \");\n            }\n            var node = new node_1.Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this.lastNode && this.lastNode.type === \"comment\" /* Comment */) {\n            this.lastNode.data += data;\n            return;\n        }\n        var node = new node_1.Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_1.Text(\"\");\n        var node = new node_1.NodeWithChildren(\"cdata\" /* CDATA */, [text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this.tagStack[this.tagStack.length - 1];\n        var previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    };\n    DomHandler.prototype.addDataNode = function (node) {\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n",
    "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.Element = exports.Document = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar nodeTypes = new Map([\n    [\"tag\" /* Tag */, 1],\n    [\"script\" /* Script */, 1],\n    [\"style\" /* Style */, 1],\n    [\"directive\" /* Directive */, 1],\n    [\"text\" /* Text */, 3],\n    [\"cdata\" /* CDATA */, 4],\n    [\"comment\" /* Comment */, 8],\n    [\"root\" /* Root */, 9],\n]);\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    /**\n     *\n     * @param type The type of the node.\n     */\n    function Node(type) {\n        this.type = type;\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"nodeType\", {\n        // Read-only aliases\n        get: function () {\n            var _a;\n            return (_a = nodeTypes.get(this.type)) !== null && _a !== void 0 ? _a : 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param type The type of the node\n     * @param data The content of the data node\n     */\n    function DataNode(type, data) {\n        var _this = _super.call(this, type) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(data) {\n        return _super.call(this, \"text\" /* Text */, data) || this;\n    }\n    return Text;\n}(DataNode));\nexports.Text = Text;\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment(data) {\n        return _super.call(this, \"comment\" /* Comment */, data) || this;\n    }\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, \"directive\" /* Directive */, data) || this;\n        _this.name = name;\n        return _this;\n    }\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param type Type of the node.\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(type, children) {\n        var _this = _super.call(this, type) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document(children) {\n        return _super.call(this, \"root\" /* Root */, children) || this;\n    }\n    return Document;\n}(NodeWithChildren));\nexports.Document = Document;\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children) {\n        if (children === void 0) { children = []; }\n        var _this = _super.call(this, name === \"script\"\n            ? \"script\" /* Script */\n            : name === \"style\"\n                ? \"style\" /* Style */\n                : \"tag\" /* Tag */, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.attribs = attribs;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) {\n                var _a, _b;\n                return ({\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    var result;\n    switch (node.type) {\n        case \"text\" /* Text */:\n            result = new Text(node.data);\n            break;\n        case \"directive\" /* Directive */: {\n            var instr = node;\n            result = new ProcessingInstruction(instr.name, instr.data);\n            if (instr[\"x-name\"] != null) {\n                result[\"x-name\"] = instr[\"x-name\"];\n                result[\"x-publicId\"] = instr[\"x-publicId\"];\n                result[\"x-systemId\"] = instr[\"x-systemId\"];\n            }\n            break;\n        }\n        case \"comment\" /* Comment */:\n            result = new Comment(node.data);\n            break;\n        case \"tag\" /* Tag */:\n        case \"script\" /* Script */:\n        case \"style\" /* Style */: {\n            var elem = node;\n            var children = recursive ? cloneChildren(elem.children) : [];\n            var clone_1 = new Element(elem.name, __assign({}, elem.attribs), children);\n            children.forEach(function (child) { return (child.parent = clone_1); });\n            if (elem[\"x-attribsNamespace\"]) {\n                clone_1[\"x-attribsNamespace\"] = __assign({}, elem[\"x-attribsNamespace\"]);\n            }\n            if (elem[\"x-attribsPrefix\"]) {\n                clone_1[\"x-attribsPrefix\"] = __assign({}, elem[\"x-attribsPrefix\"]);\n            }\n            result = clone_1;\n            break;\n        }\n        case \"cdata\" /* CDATA */: {\n            var cdata = node;\n            var children = recursive ? cloneChildren(cdata.children) : [];\n            var clone_2 = new NodeWithChildren(node.type, children);\n            children.forEach(function (child) { return (child.parent = clone_2); });\n            result = clone_2;\n            break;\n        }\n        case \"root\" /* Root */: {\n            var doc = node;\n            var children = recursive ? cloneChildren(doc.children) : [];\n            var clone_3 = new Document(children);\n            children.forEach(function (child) { return (child.parent = clone_3); });\n            if (doc[\"x-mode\"]) {\n                clone_3[\"x-mode\"] = doc[\"x-mode\"];\n            }\n            result = clone_3;\n            break;\n        }\n        case \"doctype\" /* Doctype */: {\n            // This type isn't used yet.\n            throw new Error(\"Not implemented yet: ElementType.Doctype case\");\n        }\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uniqueSort = exports.compareDocumentPosition = exports.removeSubsets = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\n/**\n * Given an array of nodes, remove any member that is contained by another.\n *\n * @param nodes Nodes to filter.\n * @returns Remaining nodes that aren't subtrees of each other.\n */\nfunction removeSubsets(nodes) {\n    var idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n    while (--idx >= 0) {\n        var node = nodes[idx];\n        /*\n         * Remove the node if it is not unique.\n         * We are going through the array from the end, so we only\n         * have to check nodes that preceed the node under consideration in the array.\n         */\n        if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n            nodes.splice(idx, 1);\n            continue;\n        }\n        for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n            if (nodes.includes(ancestor)) {\n                nodes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n    return nodes;\n}\nexports.removeSubsets = removeSubsets;\n/**\n * Compare the position of one node against another node in any other document.\n * The return value is a bitmask with the following values:\n *\n * Document order:\n * > There is an ordering, document order, defined on all the nodes in the\n * > document corresponding to the order in which the first character of the\n * > XML representation of each node occurs in the XML representation of the\n * > document after expansion of general entities. Thus, the document element\n * > node will be the first node. Element nodes occur before their children.\n * > Thus, document order orders element nodes in order of the occurrence of\n * > their start-tag in the XML (after expansion of entities). The attribute\n * > nodes of an element occur after the element and before its children. The\n * > relative order of attribute nodes is implementation-dependent./\n *\n * Source:\n * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n *\n * @param nodeA The first node to use in the comparison\n * @param nodeB The second node to use in the comparison\n * @returns A bitmask describing the input nodes' relative position.\n *\n * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n * a description of these values.\n */\nfunction compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n    if (nodeA === nodeB) {\n        return 0;\n    }\n    var current = tagtypes_1.hasChildren(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n        aParents.unshift(current);\n        current = current.parent;\n    }\n    current = tagtypes_1.hasChildren(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n        bParents.unshift(current);\n        current = current.parent;\n    }\n    var maxIdx = Math.min(aParents.length, bParents.length);\n    var idx = 0;\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n        idx++;\n    }\n    if (idx === 0) {\n        return 1 /* DISCONNECTED */;\n    }\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n        if (sharedParent === nodeB) {\n            return 4 /* FOLLOWING */ | 16 /* CONTAINED_BY */;\n        }\n        return 4 /* FOLLOWING */;\n    }\n    if (sharedParent === nodeA) {\n        return 2 /* PRECEDING */ | 8 /* CONTAINS */;\n    }\n    return 2 /* PRECEDING */;\n}\nexports.compareDocumentPosition = compareDocumentPosition;\n/**\n * Sort an array of nodes based on their relative position in the document and\n * remove any duplicate nodes. If the array contains nodes that do not belong\n * to the same document, sort order is unspecified.\n *\n * @param nodes Array of DOM nodes.\n * @returns Collection of unique nodes, sorted in document order.\n */\nfunction uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) { return !arr.includes(node, i + 1); });\n    nodes.sort(function (a, b) {\n        var relative = compareDocumentPosition(a, b);\n        if (relative & 2 /* PRECEDING */) {\n            return -1;\n        }\n        else if (relative & 4 /* FOLLOWING */) {\n            return 1;\n        }\n        return 0;\n    });\n    return nodes;\n}\nexports.uniqueSort = uniqueSort;\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./stringify\"), exports);\n__exportStar(require(\"./traversal\"), exports);\n__exportStar(require(\"./manipulation\"), exports);\n__exportStar(require(\"./querying\"), exports);\n__exportStar(require(\"./legacy\"), exports);\n__exportStar(require(\"./helpers\"), exports);\n__exportStar(require(\"./tagtypes\"), exports);\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getElementsByTagType = exports.getElementsByTagName = exports.getElementById = exports.getElements = exports.testElement = void 0;\nvar querying_1 = require(\"./querying\");\nvar tagtypes_1 = require(\"./tagtypes\");\nvar Checks = {\n    tag_name: function (name) {\n        if (typeof name === \"function\") {\n            return function (elem) { return tagtypes_1.isTag(elem) && name(elem.name); };\n        }\n        else if (name === \"*\") {\n            return tagtypes_1.isTag;\n        }\n        return function (elem) { return tagtypes_1.isTag(elem) && elem.name === name; };\n    },\n    tag_type: function (type) {\n        if (typeof type === \"function\") {\n            return function (elem) { return type(elem.type); };\n        }\n        return function (elem) { return elem.type === type; };\n    },\n    tag_contains: function (data) {\n        if (typeof data === \"function\") {\n            return function (elem) { return tagtypes_1.isText(elem) && data(elem.data); };\n        }\n        return function (elem) { return tagtypes_1.isText(elem) && elem.data === data; };\n    },\n};\n/**\n * @param attrib Attribute to check.\n * @param value Attribute value to look for.\n * @returns A function to check whether the a node has an attribute with a particular value.\n */\nfunction getAttribCheck(attrib, value) {\n    if (typeof value === \"function\") {\n        return function (elem) { return tagtypes_1.isTag(elem) && value(elem.attribs[attrib]); };\n    }\n    return function (elem) { return tagtypes_1.isTag(elem) && elem.attribs[attrib] === value; };\n}\n/**\n * @param a First function to combine.\n * @param b Second function to combine.\n * @returns A function taking a node and returning `true` if either\n * of the input functions returns `true` for the node.\n */\nfunction combineFuncs(a, b) {\n    return function (elem) { return a(elem) || b(elem); };\n}\n/**\n * @param options An object describing nodes to look for.\n * @returns A function executing all checks in `options` and returning `true`\n * if any of them match a node.\n */\nfunction compileTest(options) {\n    var funcs = Object.keys(options).map(function (key) {\n        var value = options[key];\n        return key in Checks\n            ? Checks[key](value)\n            : getAttribCheck(key, value);\n    });\n    return funcs.length === 0 ? null : funcs.reduce(combineFuncs);\n}\n/**\n * @param options An object describing nodes to look for.\n * @param node The element to test.\n * @returns Whether the element matches the description in `options`.\n */\nfunction testElement(options, node) {\n    var test = compileTest(options);\n    return test ? test(node) : true;\n}\nexports.testElement = testElement;\n/**\n * @param options An object describing nodes to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes that match `options`.\n */\nfunction getElements(options, nodes, recurse, limit) {\n    if (limit === void 0) { limit = Infinity; }\n    var test = compileTest(options);\n    return test ? querying_1.filter(test, nodes, recurse, limit) : [];\n}\nexports.getElements = getElements;\n/**\n * @param id The unique ID attribute value to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @returns The node with the supplied ID.\n */\nfunction getElementById(id, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    if (!Array.isArray(nodes))\n        nodes = [nodes];\n    return querying_1.findOne(getAttribCheck(\"id\", id), nodes, recurse);\n}\nexports.getElementById = getElementById;\n/**\n * @param tagName Tag name to search for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `tagName`.\n */\nfunction getElementsByTagName(tagName, nodes, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return querying_1.filter(Checks.tag_name(tagName), nodes, recurse, limit);\n}\nexports.getElementsByTagName = getElementsByTagName;\n/**\n * @param type Element type to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `type`.\n */\nfunction getElementsByTagType(type, nodes, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return querying_1.filter(Checks.tag_type(type), nodes, recurse, limit);\n}\nexports.getElementsByTagType = getElementsByTagType;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepend = exports.prependChild = exports.append = exports.appendChild = exports.replaceElement = exports.removeElement = void 0;\n/**\n * Remove an element from the dom\n *\n * @param elem The element to be removed\n */\nfunction removeElement(elem) {\n    if (elem.prev)\n        elem.prev.next = elem.next;\n    if (elem.next)\n        elem.next.prev = elem.prev;\n    if (elem.parent) {\n        var childs = elem.parent.children;\n        childs.splice(childs.lastIndexOf(elem), 1);\n    }\n}\nexports.removeElement = removeElement;\n/**\n * Replace an element in the dom\n *\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\nfunction replaceElement(elem, replacement) {\n    var prev = (replacement.prev = elem.prev);\n    if (prev) {\n        prev.next = replacement;\n    }\n    var next = (replacement.next = elem.next);\n    if (next) {\n        next.prev = replacement;\n    }\n    var parent = (replacement.parent = elem.parent);\n    if (parent) {\n        var childs = parent.children;\n        childs[childs.lastIndexOf(elem)] = replacement;\n    }\n}\nexports.replaceElement = replaceElement;\n/**\n * Append a child to an element.\n *\n * @param elem The element to append to.\n * @param child The element to be added as a child.\n */\nfunction appendChild(elem, child) {\n    removeElement(child);\n    child.next = null;\n    child.parent = elem;\n    if (elem.children.push(child) > 1) {\n        var sibling = elem.children[elem.children.length - 2];\n        sibling.next = child;\n        child.prev = sibling;\n    }\n    else {\n        child.prev = null;\n    }\n}\nexports.appendChild = appendChild;\n/**\n * Append an element after another.\n *\n * @param elem The element to append after.\n * @param next The element be added.\n */\nfunction append(elem, next) {\n    removeElement(next);\n    var parent = elem.parent;\n    var currNext = elem.next;\n    next.next = currNext;\n    next.prev = elem;\n    elem.next = next;\n    next.parent = parent;\n    if (currNext) {\n        currNext.prev = next;\n        if (parent) {\n            var childs = parent.children;\n            childs.splice(childs.lastIndexOf(currNext), 0, next);\n        }\n    }\n    else if (parent) {\n        parent.children.push(next);\n    }\n}\nexports.append = append;\n/**\n * Prepend a child to an element.\n *\n * @param elem The element to prepend before.\n * @param child The element to be added as a child.\n */\nfunction prependChild(elem, child) {\n    removeElement(child);\n    child.parent = elem;\n    child.prev = null;\n    if (elem.children.unshift(child) !== 1) {\n        var sibling = elem.children[1];\n        sibling.prev = child;\n        child.next = sibling;\n    }\n    else {\n        child.next = null;\n    }\n}\nexports.prependChild = prependChild;\n/**\n * Prepend an element before another.\n *\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\nfunction prepend(elem, prev) {\n    removeElement(prev);\n    var parent = elem.parent;\n    if (parent) {\n        var childs = parent.children;\n        childs.splice(childs.indexOf(elem), 0, prev);\n    }\n    if (elem.prev) {\n        elem.prev.next = prev;\n    }\n    prev.parent = parent;\n    prev.prev = elem.prev;\n    prev.next = elem;\n    elem.prev = prev;\n}\nexports.prepend = prepend;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findAll = exports.existsOne = exports.findOne = exports.findOneChild = exports.find = exports.filter = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\n/**\n * Search a node and its children for nodes passing a test function.\n *\n * @param test Function to test nodes on.\n * @param node Node to search. Will be included in the result set if it matches.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nfunction filter(test, node, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    if (!Array.isArray(node))\n        node = [node];\n    return find(test, node, recurse, limit);\n}\nexports.filter = filter;\n/**\n * Search an array of node and its children for nodes passing a test function.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nfunction find(test, nodes, recurse, limit) {\n    var result = [];\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var elem = nodes_1[_i];\n        if (test(elem)) {\n            result.push(elem);\n            if (--limit <= 0)\n                break;\n        }\n        if (recurse && tagtypes_1.hasChildren(elem) && elem.children.length > 0) {\n            var children = find(test, elem.children, recurse, limit);\n            result.push.apply(result, children);\n            limit -= children.length;\n            if (limit <= 0)\n                break;\n        }\n    }\n    return result;\n}\nexports.find = find;\n/**\n * Finds the first element inside of an array that matches a test function.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns The first node in the array that passes `test`.\n */\nfunction findOneChild(test, nodes) {\n    return nodes.find(test);\n}\nexports.findOneChild = findOneChild;\n/**\n * Finds one element in a tree that passes a test.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @returns The first child node that passes `test`.\n */\nfunction findOne(test, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    var elem = null;\n    for (var i = 0; i < nodes.length && !elem; i++) {\n        var checked = nodes[i];\n        if (!tagtypes_1.isTag(checked)) {\n            continue;\n        }\n        else if (test(checked)) {\n            elem = checked;\n        }\n        else if (recurse && checked.children.length > 0) {\n            elem = findOne(test, checked.children);\n        }\n    }\n    return elem;\n}\nexports.findOne = findOne;\n/**\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns Whether a tree of nodes contains at least one node passing a test.\n */\nfunction existsOne(test, nodes) {\n    return nodes.some(function (checked) {\n        return tagtypes_1.isTag(checked) &&\n            (test(checked) ||\n                (checked.children.length > 0 &&\n                    existsOne(test, checked.children)));\n    });\n}\nexports.existsOne = existsOne;\n/**\n * Search and array of nodes and its children for nodes passing a test function.\n *\n * Same as `find`, only with less options, leading to reduced complexity.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns All nodes passing `test`.\n */\nfunction findAll(test, nodes) {\n    var _a;\n    var result = [];\n    var stack = nodes.filter(tagtypes_1.isTag);\n    var elem;\n    while ((elem = stack.shift())) {\n        var children = (_a = elem.children) === null || _a === void 0 ? void 0 : _a.filter(tagtypes_1.isTag);\n        if (children && children.length > 0) {\n            stack.unshift.apply(stack, children);\n        }\n        if (test(elem))\n            result.push(elem);\n    }\n    return result;\n}\nexports.findAll = findAll;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getText = exports.getInnerHTML = exports.getOuterHTML = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\nvar dom_serializer_1 = __importDefault(require(\"dom-serializer\"));\n/**\n * @param node Node to get the outer HTML of.\n * @param options Options for serialization.\n * @deprecated Use the `dom-serializer` module directly.\n * @returns `node`'s outer HTML.\n */\nfunction getOuterHTML(node, options) {\n    return dom_serializer_1.default(node, options);\n}\nexports.getOuterHTML = getOuterHTML;\n/**\n * @param node Node to get the inner HTML of.\n * @param options Options for serialization.\n * @deprecated Use the `dom-serializer` module directly.\n * @returns `node`'s inner HTML.\n */\nfunction getInnerHTML(node, options) {\n    return tagtypes_1.hasChildren(node)\n        ? node.children.map(function (node) { return getOuterHTML(node, options); }).join(\"\")\n        : \"\";\n}\nexports.getInnerHTML = getInnerHTML;\n/**\n * Get a node's inner text.\n *\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n */\nfunction getText(node) {\n    if (Array.isArray(node))\n        return node.map(getText).join(\"\");\n    if (tagtypes_1.isTag(node))\n        return node.name === \"br\" ? \"\\n\" : getText(node.children);\n    if (tagtypes_1.isCDATA(node))\n        return getText(node.children);\n    if (tagtypes_1.isText(node))\n        return node.data;\n    return \"\";\n}\nexports.getText = getText;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasChildren = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nfunction isTag(node) {\n    return domelementtype_1.isTag(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `NodeWithChildren`, `false` otherwise.\n */\nfunction isCDATA(node) {\n    return node.type === \"cdata\" /* CDATA */;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `DataNode`, `false` otherwise.\n */\nfunction isText(node) {\n    return node.type === \"text\" /* Text */;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `DataNode`, `false` otherwise.\n */\nfunction isComment(node) {\n    return node.type === \"comment\" /* Comment */;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `NodeWithChildren` (has children), `false` otherwise.\n */\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextElementSibling = exports.getName = exports.hasAttrib = exports.getAttributeValue = exports.getSiblings = exports.getParent = exports.getChildren = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\nvar emptyArray = [];\n/**\n * Get a node's children.\n *\n * @param elem Node to get the children of.\n * @returns `elem`'s children, or an empty array.\n */\nfunction getChildren(elem) {\n    var _a;\n    return (_a = elem.children) !== null && _a !== void 0 ? _a : emptyArray;\n}\nexports.getChildren = getChildren;\n/**\n * Get a node's parent.\n *\n * @param elem Node to get the parent of.\n * @returns `elem`'s parent node.\n */\nfunction getParent(elem) {\n    return elem.parent || null;\n}\nexports.getParent = getParent;\n/**\n * Gets an elements siblings, including the element itself.\n *\n * Attempts to get the children through the element's parent first.\n * If we don't have a parent (the element is a root node),\n * we walk the element's `prev` & `next` to get all remaining nodes.\n *\n * @param elem Element to get the siblings of.\n * @returns `elem`'s siblings.\n */\nfunction getSiblings(elem) {\n    var _a, _b;\n    var parent = getParent(elem);\n    if (parent != null)\n        return getChildren(parent);\n    var siblings = [elem];\n    var prev = elem.prev, next = elem.next;\n    while (prev != null) {\n        siblings.unshift(prev);\n        (_a = prev, prev = _a.prev);\n    }\n    while (next != null) {\n        siblings.push(next);\n        (_b = next, next = _b.next);\n    }\n    return siblings;\n}\nexports.getSiblings = getSiblings;\n/**\n * Gets an attribute from an element.\n *\n * @param elem Element to check.\n * @param name Attribute name to retrieve.\n * @returns The element's attribute value, or `undefined`.\n */\nfunction getAttributeValue(elem, name) {\n    var _a;\n    return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];\n}\nexports.getAttributeValue = getAttributeValue;\n/**\n * Checks whether an element has an attribute.\n *\n * @param elem Element to check.\n * @param name Attribute name to look for.\n * @returns Returns whether `elem` has the attribute `name`.\n */\nfunction hasAttrib(elem, name) {\n    return (elem.attribs != null &&\n        Object.prototype.hasOwnProperty.call(elem.attribs, name) &&\n        elem.attribs[name] != null);\n}\nexports.hasAttrib = hasAttrib;\n/**\n * Get the tag name of an element.\n *\n * @param elem The element to get the name for.\n * @returns The tag name of `elem`.\n */\nfunction getName(elem) {\n    return elem.name;\n}\nexports.getName = getName;\n/**\n * Returns the next element sibling of a node.\n *\n * @param elem The element to get the next sibling of.\n * @returns `elem`'s next sibling that is a tag.\n */\nfunction nextElementSibling(elem) {\n    var _a;\n    var next = elem.next;\n    while (next !== null && !tagtypes_1.isTag(next))\n        (_a = next, next = _a.next);\n    return next;\n}\nexports.nextElementSibling = nextElementSibling;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nvar strictEntityRe = /&(?:[a-zA-Z0-9]+|#[xX][\\da-fA-F]+|#\\d+);/g;\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var replace = getReplacer(map);\n    return function (str) { return String(str).replace(strictEntityRe, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    // TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        return map[str.slice(1, -1)] || str;\n    };\n}\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using XML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeXML = getASCIIEncoder(inverseXML);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\n/**\n * Encodes all entities and non-ASCII characters in the input.\n *\n * This includes characters that are valid ASCII characters in HTML documents.\n * For example `#` will be encoded as `&num;`. To get a more compact output,\n * consider using the `encodeNonAsciiHTML` function.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in HTML\n * documents using HTML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeNonAsciiHTML = getASCIIEncoder(inverseHTML);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\n// /[^\\0-\\x7F]/gu\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nvar getCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.prototype.codePointAt != null\n    ? // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        function (str) { return str.codePointAt(0); }\n    : // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        function (c) {\n            return (c.charCodeAt(0) - 0xd800) * 0x400 +\n                c.charCodeAt(1) -\n                0xdc00 +\n                0x10000;\n        };\nfunction singleCharReplacer(c) {\n    return \"&#x\" + (c.length > 1 ? getCodePoint(c) : c.charCodeAt(0))\n        .toString(16)\n        .toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reEscapeChars = new RegExp(xmlReplacer.source + \"|\" + reNonASCII.source, \"g\");\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using numeric hexadecimal reference (eg. `&#xfc;`).\n *\n * Have a look at `escapeUTF8` if you want a more concise output at the expense\n * of reduced transportability.\n *\n * @param data String to escape.\n */\nfunction escape(data) {\n    return data.replace(reEscapeChars, singleCharReplacer);\n}\nexports.escape = escape;\n/**\n * Encodes all characters not valid in XML documents using numeric hexadecimal\n * reference (eg. `&#xfc;`).\n *\n * Note that the output will be character-set dependent.\n *\n * @param data String to escape.\n */\nfunction escapeUTF8(data) {\n    return data.replace(xmlReplacer, singleCharReplacer);\n}\nexports.escapeUTF8 = escapeUTF8;\nfunction getASCIIEncoder(obj) {\n    return function (data) {\n        return data.replace(reEscapeChars, function (c) { return obj[c] || singleCharReplacer(c); });\n    };\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.encodeHTML5 = exports.encodeHTML4 = exports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = void 0;\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeXML` or `decodeHTML` directly.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeHTMLStrict` or `decodeXML` directly.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `encodeHTML`, `encodeXML` or `encodeNonAsciiHTML` directly.\n */\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeNonAsciiHTML\", { enumerable: true, get: function () { return encode_2.encodeNonAsciiHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\nObject.defineProperty(exports, \"escapeUTF8\", { enumerable: true, get: function () { return encode_2.escapeUTF8; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n",
    "var hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\nvar undefined;\n\nvar isPlainObject = function isPlainObject(obj) {\n\t'use strict';\n\tif (!obj || toString.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar has_own_constructor = hasOwn.call(obj, 'constructor');\n\tvar has_is_property_of_method = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !has_own_constructor && !has_is_property_of_method) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {}\n\n\treturn key === undefined || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\t'use strict';\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {\n\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray(src) ? src : [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n",
    "/*! Hammer.JS - v2.0.4 - 2014-09-28\r\n * http://hammerjs.github.io/\r\n *\r\n * Copyright (c) 2014 Jorik Tangelder;\r\n * Licensed under the MIT license */\r\n(function(window, document, exportName, undefined) {\r\n  'use strict';\r\n\r\nvar VENDOR_PREFIXES = ['', 'webkit', 'moz', 'MS', 'ms', 'o'];\r\nvar TEST_ELEMENT = document.createElement('div');\r\n\r\nvar TYPE_FUNCTION = 'function';\r\n\r\nvar round = Math.round;\r\nvar abs = Math.abs;\r\nvar now = Date.now;\r\n\r\n/**\r\n * set a timeout with a given scope\r\n * @param {Function} fn\r\n * @param {Number} timeout\r\n * @param {Object} context\r\n * @returns {number}\r\n */\r\nfunction setTimeoutContext(fn, timeout, context) {\r\n    return setTimeout(bindFn(fn, context), timeout);\r\n}\r\n\r\n/**\r\n * if the argument is an array, we want to execute the fn on each entry\r\n * if it aint an array we don't want to do a thing.\r\n * this is used by all the methods that accept a single and array argument.\r\n * @param {*|Array} arg\r\n * @param {String} fn\r\n * @param {Object} [context]\r\n * @returns {Boolean}\r\n */\r\nfunction invokeArrayArg(arg, fn, context) {\r\n    if (Array.isArray(arg)) {\r\n        each(arg, context[fn], context);\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * walk objects and arrays\r\n * @param {Object} obj\r\n * @param {Function} iterator\r\n * @param {Object} context\r\n */\r\nfunction each(obj, iterator, context) {\r\n    var i;\r\n\r\n    if (!obj) {\r\n        return;\r\n    }\r\n\r\n    if (obj.forEach) {\r\n        obj.forEach(iterator, context);\r\n    } else if (obj.length !== undefined) {\r\n        i = 0;\r\n        while (i < obj.length) {\r\n            iterator.call(context, obj[i], i, obj);\r\n            i++;\r\n        }\r\n    } else {\r\n        for (i in obj) {\r\n            obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * extend object.\r\n * means that properties in dest will be overwritten by the ones in src.\r\n * @param {Object} dest\r\n * @param {Object} src\r\n * @param {Boolean} [merge]\r\n * @returns {Object} dest\r\n */\r\nfunction extend(dest, src, merge) {\r\n    var keys = Object.keys(src);\r\n    var i = 0;\r\n    while (i < keys.length) {\r\n        if (!merge || (merge && dest[keys[i]] === undefined)) {\r\n            dest[keys[i]] = src[keys[i]];\r\n        }\r\n        i++;\r\n    }\r\n    return dest;\r\n}\r\n\r\n/**\r\n * merge the values from src in the dest.\r\n * means that properties that exist in dest will not be overwritten by src\r\n * @param {Object} dest\r\n * @param {Object} src\r\n * @returns {Object} dest\r\n */\r\nfunction merge(dest, src) {\r\n    return extend(dest, src, true);\r\n}\r\n\r\n/**\r\n * simple class inheritance\r\n * @param {Function} child\r\n * @param {Function} base\r\n * @param {Object} [properties]\r\n */\r\nfunction inherit(child, base, properties) {\r\n    var baseP = base.prototype,\r\n        childP;\r\n\r\n    childP = child.prototype = Object.create(baseP);\r\n    childP.constructor = child;\r\n    childP._super = baseP;\r\n\r\n    if (properties) {\r\n        extend(childP, properties);\r\n    }\r\n}\r\n\r\n/**\r\n * simple function bind\r\n * @param {Function} fn\r\n * @param {Object} context\r\n * @returns {Function}\r\n */\r\nfunction bindFn(fn, context) {\r\n    return function boundFn() {\r\n        return fn.apply(context, arguments);\r\n    };\r\n}\r\n\r\n/**\r\n * let a boolean value also be a function that must return a boolean\r\n * this first item in args will be used as the context\r\n * @param {Boolean|Function} val\r\n * @param {Array} [args]\r\n * @returns {Boolean}\r\n */\r\nfunction boolOrFn(val, args) {\r\n    if (typeof val == TYPE_FUNCTION) {\r\n        return val.apply(args ? args[0] || undefined : undefined, args);\r\n    }\r\n    return val;\r\n}\r\n\r\n/**\r\n * use the val2 when val1 is undefined\r\n * @param {*} val1\r\n * @param {*} val2\r\n * @returns {*}\r\n */\r\nfunction ifUndefined(val1, val2) {\r\n    return (val1 === undefined) ? val2 : val1;\r\n}\r\n\r\n/**\r\n * addEventListener with multiple events at once\r\n * @param {EventTarget} target\r\n * @param {String} types\r\n * @param {Function} handler\r\n */\r\nfunction addEventListeners(target, types, handler) {\r\n    each(splitStr(types), function(type) {\r\n        target.addEventListener(type, handler, false);\r\n    });\r\n}\r\n\r\n/**\r\n * removeEventListener with multiple events at once\r\n * @param {EventTarget} target\r\n * @param {String} types\r\n * @param {Function} handler\r\n */\r\nfunction removeEventListeners(target, types, handler) {\r\n    each(splitStr(types), function(type) {\r\n        target.removeEventListener(type, handler, false);\r\n    });\r\n}\r\n\r\n/**\r\n * find if a node is in the given parent\r\n * @method hasParent\r\n * @param {HTMLElement} node\r\n * @param {HTMLElement} parent\r\n * @return {Boolean} found\r\n */\r\nfunction hasParent(node, parent) {\r\n    while (node) {\r\n        if (node == parent) {\r\n            return true;\r\n        }\r\n        node = node.parentNode;\r\n    }\r\n    return false;\r\n}\r\n\r\n/**\r\n * small indexOf wrapper\r\n * @param {String} str\r\n * @param {String} find\r\n * @returns {Boolean} found\r\n */\r\nfunction inStr(str, find) {\r\n    return str.indexOf(find) > -1;\r\n}\r\n\r\n/**\r\n * split string on whitespace\r\n * @param {String} str\r\n * @returns {Array} words\r\n */\r\nfunction splitStr(str) {\r\n    return str.trim().split(/\\s+/g);\r\n}\r\n\r\n/**\r\n * find if a array contains the object using indexOf or a simple polyFill\r\n * @param {Array} src\r\n * @param {String} find\r\n * @param {String} [findByKey]\r\n * @return {Boolean|Number} false when not found, or the index\r\n */\r\nfunction inArray(src, find, findByKey) {\r\n    if (src.indexOf && !findByKey) {\r\n        return src.indexOf(find);\r\n    } else {\r\n        var i = 0;\r\n        while (i < src.length) {\r\n            if ((findByKey && src[i][findByKey] == find) || (!findByKey && src[i] === find)) {\r\n                return i;\r\n            }\r\n            i++;\r\n        }\r\n        return -1;\r\n    }\r\n}\r\n\r\n/**\r\n * convert array-like objects to real arrays\r\n * @param {Object} obj\r\n * @returns {Array}\r\n */\r\nfunction toArray(obj) {\r\n    return Array.prototype.slice.call(obj, 0);\r\n}\r\n\r\n/**\r\n * unique array with objects based on a key (like 'id') or just by the array's value\r\n * @param {Array} src [{id:1},{id:2},{id:1}]\r\n * @param {String} [key]\r\n * @param {Boolean} [sort=False]\r\n * @returns {Array} [{id:1},{id:2}]\r\n */\r\nfunction uniqueArray(src, key, sort) {\r\n    var results = [];\r\n    var values = [];\r\n    var i = 0;\r\n\r\n    while (i < src.length) {\r\n        var val = key ? src[i][key] : src[i];\r\n        if (inArray(values, val) < 0) {\r\n            results.push(src[i]);\r\n        }\r\n        values[i] = val;\r\n        i++;\r\n    }\r\n\r\n    if (sort) {\r\n        if (!key) {\r\n            results = results.sort();\r\n        } else {\r\n            results = results.sort(function sortUniqueArray(a, b) {\r\n                return a[key] > b[key];\r\n            });\r\n        }\r\n    }\r\n\r\n    return results;\r\n}\r\n\r\n/**\r\n * get the prefixed property\r\n * @param {Object} obj\r\n * @param {String} property\r\n * @returns {String|Undefined} prefixed\r\n */\r\nfunction prefixed(obj, property) {\r\n    var prefix, prop;\r\n    var camelProp = property[0].toUpperCase() + property.slice(1);\r\n\r\n    var i = 0;\r\n    while (i < VENDOR_PREFIXES.length) {\r\n        prefix = VENDOR_PREFIXES[i];\r\n        prop = (prefix) ? prefix + camelProp : property;\r\n\r\n        if (prop in obj) {\r\n            return prop;\r\n        }\r\n        i++;\r\n    }\r\n    return undefined;\r\n}\r\n\r\n/**\r\n * get a unique id\r\n * @returns {number} uniqueId\r\n */\r\nvar _uniqueId = 1;\r\nfunction uniqueId() {\r\n    return _uniqueId++;\r\n}\r\n\r\n/**\r\n * get the window object of an element\r\n * @param {HTMLElement} element\r\n * @returns {DocumentView|Window}\r\n */\r\nfunction getWindowForElement(element) {\r\n    var doc = element.ownerDocument;\r\n    return (doc.defaultView || doc.parentWindow);\r\n}\r\n\r\nvar MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\r\n\r\nvar SUPPORT_TOUCH = ('ontouchstart' in window);\r\nvar SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\r\nvar SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\r\n\r\nvar INPUT_TYPE_TOUCH = 'touch';\r\nvar INPUT_TYPE_PEN = 'pen';\r\nvar INPUT_TYPE_MOUSE = 'mouse';\r\nvar INPUT_TYPE_KINECT = 'kinect';\r\n\r\nvar COMPUTE_INTERVAL = 25;\r\n\r\nvar INPUT_START = 1;\r\nvar INPUT_MOVE = 2;\r\nvar INPUT_END = 4;\r\nvar INPUT_CANCEL = 8;\r\n\r\nvar DIRECTION_NONE = 1;\r\nvar DIRECTION_LEFT = 2;\r\nvar DIRECTION_RIGHT = 4;\r\nvar DIRECTION_UP = 8;\r\nvar DIRECTION_DOWN = 16;\r\n\r\nvar DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\r\nvar DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\r\nvar DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\r\n\r\nvar PROPS_XY = ['x', 'y'];\r\nvar PROPS_CLIENT_XY = ['clientX', 'clientY'];\r\n\r\n/**\r\n * create new input type manager\r\n * @param {Manager} manager\r\n * @param {Function} callback\r\n * @returns {Input}\r\n * @constructor\r\n */\r\nfunction Input(manager, callback) {\r\n    var self = this;\r\n    this.manager = manager;\r\n    this.callback = callback;\r\n    this.element = manager.element;\r\n    this.target = manager.options.inputTarget;\r\n\r\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\r\n    // so when disabled the input events are completely bypassed.\r\n    this.domHandler = function(ev) {\r\n        if (boolOrFn(manager.options.enable, [manager])) {\r\n            self.handler(ev);\r\n        }\r\n    };\r\n\r\n    this.init();\r\n\r\n}\r\n\r\nInput.prototype = {\r\n    /**\r\n     * should handle the inputEvent data and trigger the callback\r\n     * @virtual\r\n     */\r\n    handler: function() { },\r\n\r\n    /**\r\n     * bind the events\r\n     */\r\n    init: function() {\r\n        this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\r\n        this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\r\n        this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\r\n    },\r\n\r\n    /**\r\n     * unbind the events\r\n     */\r\n    destroy: function() {\r\n        this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\r\n        this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\r\n        this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\r\n    }\r\n};\r\n\r\n/**\r\n * create new input type manager\r\n * called by the Manager constructor\r\n * @param {Hammer} manager\r\n * @returns {Input}\r\n */\r\nfunction createInputInstance(manager) {\r\n    var Type;\r\n    var inputClass = manager.options.inputClass;\r\n\r\n    if (inputClass) {\r\n        Type = inputClass;\r\n    } else if (SUPPORT_POINTER_EVENTS) {\r\n        Type = PointerEventInput;\r\n    } else if (SUPPORT_ONLY_TOUCH) {\r\n        Type = TouchInput;\r\n    } else if (!SUPPORT_TOUCH) {\r\n        Type = MouseInput;\r\n    } else {\r\n        Type = TouchMouseInput;\r\n    }\r\n    return new (Type)(manager, inputHandler);\r\n}\r\n\r\n/**\r\n * handle input events\r\n * @param {Manager} manager\r\n * @param {String} eventType\r\n * @param {Object} input\r\n */\r\nfunction inputHandler(manager, eventType, input) {\r\n    var pointersLen = input.pointers.length;\r\n    var changedPointersLen = input.changedPointers.length;\r\n    var isFirst = (eventType & INPUT_START && (pointersLen - changedPointersLen === 0));\r\n    var isFinal = (eventType & (INPUT_END | INPUT_CANCEL) && (pointersLen - changedPointersLen === 0));\r\n\r\n    input.isFirst = !!isFirst;\r\n    input.isFinal = !!isFinal;\r\n\r\n    if (isFirst) {\r\n        manager.session = {};\r\n    }\r\n\r\n    // source event is the normalized value of the domEvents\r\n    // like 'touchstart, mouseup, pointerdown'\r\n    input.eventType = eventType;\r\n\r\n    // compute scale, rotation etc\r\n    computeInputData(manager, input);\r\n\r\n    // emit secret event\r\n    manager.emit('hammer.input', input);\r\n\r\n    manager.recognize(input);\r\n    manager.session.prevInput = input;\r\n}\r\n\r\n/**\r\n * extend the data with some usable properties like scale, rotate, velocity etc\r\n * @param {Object} manager\r\n * @param {Object} input\r\n */\r\nfunction computeInputData(manager, input) {\r\n    var session = manager.session;\r\n    var pointers = input.pointers;\r\n    var pointersLength = pointers.length;\r\n\r\n    // store the first input to calculate the distance and direction\r\n    if (!session.firstInput) {\r\n        session.firstInput = simpleCloneInputData(input);\r\n    }\r\n\r\n    // to compute scale and rotation we need to store the multiple touches\r\n    if (pointersLength > 1 && !session.firstMultiple) {\r\n        session.firstMultiple = simpleCloneInputData(input);\r\n    } else if (pointersLength === 1) {\r\n        session.firstMultiple = false;\r\n    }\r\n\r\n    var firstInput = session.firstInput;\r\n    var firstMultiple = session.firstMultiple;\r\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\r\n\r\n    var center = input.center = getCenter(pointers);\r\n    input.timeStamp = now();\r\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\r\n\r\n    input.angle = getAngle(offsetCenter, center);\r\n    input.distance = getDistance(offsetCenter, center);\r\n\r\n    computeDeltaXY(session, input);\r\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\r\n\r\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\r\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\r\n\r\n    computeIntervalInputData(session, input);\r\n\r\n    // find the correct target\r\n    var target = manager.element;\r\n    if (hasParent(input.srcEvent.target, target)) {\r\n        target = input.srcEvent.target;\r\n    }\r\n    input.target = target;\r\n}\r\n\r\nfunction computeDeltaXY(session, input) {\r\n    var center = input.center;\r\n    var offset = session.offsetDelta || {};\r\n    var prevDelta = session.prevDelta || {};\r\n    var prevInput = session.prevInput || {};\r\n\r\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\r\n        prevDelta = session.prevDelta = {\r\n            x: prevInput.deltaX || 0,\r\n            y: prevInput.deltaY || 0\r\n        };\r\n\r\n        offset = session.offsetDelta = {\r\n            x: center.x,\r\n            y: center.y\r\n        };\r\n    }\r\n\r\n    input.deltaX = prevDelta.x + (center.x - offset.x);\r\n    input.deltaY = prevDelta.y + (center.y - offset.y);\r\n}\r\n\r\n/**\r\n * velocity is calculated every x ms\r\n * @param {Object} session\r\n * @param {Object} input\r\n */\r\nfunction computeIntervalInputData(session, input) {\r\n    var last = session.lastInterval || input,\r\n        deltaTime = input.timeStamp - last.timeStamp,\r\n        velocity, velocityX, velocityY, direction;\r\n\r\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\r\n        var deltaX = last.deltaX - input.deltaX;\r\n        var deltaY = last.deltaY - input.deltaY;\r\n\r\n        var v = getVelocity(deltaTime, deltaX, deltaY);\r\n        velocityX = v.x;\r\n        velocityY = v.y;\r\n        velocity = (abs(v.x) > abs(v.y)) ? v.x : v.y;\r\n        direction = getDirection(deltaX, deltaY);\r\n\r\n        session.lastInterval = input;\r\n    } else {\r\n        // use latest velocity info if it doesn't overtake a minimum period\r\n        velocity = last.velocity;\r\n        velocityX = last.velocityX;\r\n        velocityY = last.velocityY;\r\n        direction = last.direction;\r\n    }\r\n\r\n    input.velocity = velocity;\r\n    input.velocityX = velocityX;\r\n    input.velocityY = velocityY;\r\n    input.direction = direction;\r\n}\r\n\r\n/**\r\n * create a simple clone from the input used for storage of firstInput and firstMultiple\r\n * @param {Object} input\r\n * @returns {Object} clonedInputData\r\n */\r\nfunction simpleCloneInputData(input) {\r\n    // make a simple copy of the pointers because we will get a reference if we don't\r\n    // we only need clientXY for the calculations\r\n    var pointers = [];\r\n    var i = 0;\r\n    while (i < input.pointers.length) {\r\n        pointers[i] = {\r\n            clientX: round(input.pointers[i].clientX),\r\n            clientY: round(input.pointers[i].clientY)\r\n        };\r\n        i++;\r\n    }\r\n\r\n    return {\r\n        timeStamp: now(),\r\n        pointers: pointers,\r\n        center: getCenter(pointers),\r\n        deltaX: input.deltaX,\r\n        deltaY: input.deltaY\r\n    };\r\n}\r\n\r\n/**\r\n * get the center of all the pointers\r\n * @param {Array} pointers\r\n * @return {Object} center contains `x` and `y` properties\r\n */\r\nfunction getCenter(pointers) {\r\n    var pointersLength = pointers.length;\r\n\r\n    // no need to loop when only one touch\r\n    if (pointersLength === 1) {\r\n        return {\r\n            x: round(pointers[0].clientX),\r\n            y: round(pointers[0].clientY)\r\n        };\r\n    }\r\n\r\n    var x = 0, y = 0, i = 0;\r\n    while (i < pointersLength) {\r\n        x += pointers[i].clientX;\r\n        y += pointers[i].clientY;\r\n        i++;\r\n    }\r\n\r\n    return {\r\n        x: round(x / pointersLength),\r\n        y: round(y / pointersLength)\r\n    };\r\n}\r\n\r\n/**\r\n * calculate the velocity between two points. unit is in px per ms.\r\n * @param {Number} deltaTime\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @return {Object} velocity `x` and `y`\r\n */\r\nfunction getVelocity(deltaTime, x, y) {\r\n    return {\r\n        x: x / deltaTime || 0,\r\n        y: y / deltaTime || 0\r\n    };\r\n}\r\n\r\n/**\r\n * get the direction between two points\r\n * @param {Number} x\r\n * @param {Number} y\r\n * @return {Number} direction\r\n */\r\nfunction getDirection(x, y) {\r\n    if (x === y) {\r\n        return DIRECTION_NONE;\r\n    }\r\n\r\n    if (abs(x) >= abs(y)) {\r\n        return x > 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\r\n    }\r\n    return y > 0 ? DIRECTION_UP : DIRECTION_DOWN;\r\n}\r\n\r\n/**\r\n * calculate the absolute distance between two points\r\n * @param {Object} p1 {x, y}\r\n * @param {Object} p2 {x, y}\r\n * @param {Array} [props] containing x and y keys\r\n * @return {Number} distance\r\n */\r\nfunction getDistance(p1, p2, props) {\r\n    if (!props) {\r\n        props = PROPS_XY;\r\n    }\r\n    var x = p2[props[0]] - p1[props[0]],\r\n        y = p2[props[1]] - p1[props[1]];\r\n\r\n    return Math.sqrt((x * x) + (y * y));\r\n}\r\n\r\n/**\r\n * calculate the angle between two coordinates\r\n * @param {Object} p1\r\n * @param {Object} p2\r\n * @param {Array} [props] containing x and y keys\r\n * @return {Number} angle\r\n */\r\nfunction getAngle(p1, p2, props) {\r\n    if (!props) {\r\n        props = PROPS_XY;\r\n    }\r\n    var x = p2[props[0]] - p1[props[0]],\r\n        y = p2[props[1]] - p1[props[1]];\r\n    return Math.atan2(y, x) * 180 / Math.PI;\r\n}\r\n\r\n/**\r\n * calculate the rotation degrees between two pointersets\r\n * @param {Array} start array of pointers\r\n * @param {Array} end array of pointers\r\n * @return {Number} rotation\r\n */\r\nfunction getRotation(start, end) {\r\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) - getAngle(start[1], start[0], PROPS_CLIENT_XY);\r\n}\r\n\r\n/**\r\n * calculate the scale factor between two pointersets\r\n * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\r\n * @param {Array} start array of pointers\r\n * @param {Array} end array of pointers\r\n * @return {Number} scale\r\n */\r\nfunction getScale(start, end) {\r\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\r\n}\r\n\r\nvar MOUSE_INPUT_MAP = {\r\n    mousedown: INPUT_START,\r\n    mousemove: INPUT_MOVE,\r\n    mouseup: INPUT_END\r\n};\r\n\r\nvar MOUSE_ELEMENT_EVENTS = 'mousedown';\r\nvar MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\r\n\r\n/**\r\n * Mouse events input\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction MouseInput() {\r\n    this.evEl = MOUSE_ELEMENT_EVENTS;\r\n    this.evWin = MOUSE_WINDOW_EVENTS;\r\n\r\n    this.allow = true; // used by Input.TouchMouse to disable mouse events\r\n    this.pressed = false; // mousedown state\r\n\r\n    Input.apply(this, arguments);\r\n}\r\n\r\ninherit(MouseInput, Input, {\r\n    /**\r\n     * handle mouse events\r\n     * @param {Object} ev\r\n     */\r\n    handler: function MEhandler(ev) {\r\n        var eventType = MOUSE_INPUT_MAP[ev.type];\r\n\r\n        // on start we want to have the left mouse button down\r\n        if (eventType & INPUT_START && ev.button === 0) {\r\n            this.pressed = true;\r\n        }\r\n\r\n        if (eventType & INPUT_MOVE && ev.which !== 1) {\r\n            eventType = INPUT_END;\r\n        }\r\n\r\n        // mouse must be down, and mouse events are allowed (see the TouchMouse input)\r\n        if (!this.pressed || !this.allow) {\r\n            return;\r\n        }\r\n\r\n        if (eventType & INPUT_END) {\r\n            this.pressed = false;\r\n        }\r\n\r\n        this.callback(this.manager, eventType, {\r\n            pointers: [ev],\r\n            changedPointers: [ev],\r\n            pointerType: INPUT_TYPE_MOUSE,\r\n            srcEvent: ev\r\n        });\r\n    }\r\n});\r\n\r\nvar POINTER_INPUT_MAP = {\r\n    pointerdown: INPUT_START,\r\n    pointermove: INPUT_MOVE,\r\n    pointerup: INPUT_END,\r\n    pointercancel: INPUT_CANCEL,\r\n    pointerout: INPUT_CANCEL\r\n};\r\n\r\n// in IE10 the pointer types is defined as an enum\r\nvar IE10_POINTER_TYPE_ENUM = {\r\n    2: INPUT_TYPE_TOUCH,\r\n    3: INPUT_TYPE_PEN,\r\n    4: INPUT_TYPE_MOUSE,\r\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\r\n};\r\n\r\nvar POINTER_ELEMENT_EVENTS = 'pointerdown';\r\nvar POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\r\n\r\n// IE10 has prefixed support, and case-sensitive\r\nif (window.MSPointerEvent) {\r\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\r\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\r\n}\r\n\r\n/**\r\n * Pointer events input\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction PointerEventInput() {\r\n    this.evEl = POINTER_ELEMENT_EVENTS;\r\n    this.evWin = POINTER_WINDOW_EVENTS;\r\n\r\n    Input.apply(this, arguments);\r\n\r\n    this.store = (this.manager.session.pointerEvents = []);\r\n}\r\n\r\ninherit(PointerEventInput, Input, {\r\n    /**\r\n     * handle mouse events\r\n     * @param {Object} ev\r\n     */\r\n    handler: function PEhandler(ev) {\r\n        var store = this.store;\r\n        var removePointer = false;\r\n\r\n        var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\r\n        var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\r\n        var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\r\n\r\n        var isTouch = (pointerType == INPUT_TYPE_TOUCH);\r\n\r\n        // get index of the event in the store\r\n        var storeIndex = inArray(store, ev.pointerId, 'pointerId');\r\n\r\n        // start and mouse must be down\r\n        if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\r\n            if (storeIndex < 0) {\r\n                store.push(ev);\r\n                storeIndex = store.length - 1;\r\n            }\r\n        } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\r\n            removePointer = true;\r\n        }\r\n\r\n        // it not found, so the pointer hasn't been down (so it's probably a hover)\r\n        if (storeIndex < 0) {\r\n            return;\r\n        }\r\n\r\n        // update the event in the store\r\n        store[storeIndex] = ev;\r\n\r\n        this.callback(this.manager, eventType, {\r\n            pointers: store,\r\n            changedPointers: [ev],\r\n            pointerType: pointerType,\r\n            srcEvent: ev\r\n        });\r\n\r\n        if (removePointer) {\r\n            // remove from the store\r\n            store.splice(storeIndex, 1);\r\n        }\r\n    }\r\n});\r\n\r\nvar SINGLE_TOUCH_INPUT_MAP = {\r\n    touchstart: INPUT_START,\r\n    touchmove: INPUT_MOVE,\r\n    touchend: INPUT_END,\r\n    touchcancel: INPUT_CANCEL\r\n};\r\n\r\nvar SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\r\nvar SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\r\n\r\n/**\r\n * Touch events input\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction SingleTouchInput() {\r\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\r\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\r\n    this.started = false;\r\n\r\n    Input.apply(this, arguments);\r\n}\r\n\r\ninherit(SingleTouchInput, Input, {\r\n    handler: function TEhandler(ev) {\r\n        var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\r\n\r\n        // should we handle the touch events?\r\n        if (type === INPUT_START) {\r\n            this.started = true;\r\n        }\r\n\r\n        if (!this.started) {\r\n            return;\r\n        }\r\n\r\n        var touches = normalizeSingleTouches.call(this, ev, type);\r\n\r\n        // when done, reset the started state\r\n        if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\r\n            this.started = false;\r\n        }\r\n\r\n        this.callback(this.manager, type, {\r\n            pointers: touches[0],\r\n            changedPointers: touches[1],\r\n            pointerType: INPUT_TYPE_TOUCH,\r\n            srcEvent: ev\r\n        });\r\n    }\r\n});\r\n\r\n/**\r\n * @this {TouchInput}\r\n * @param {Object} ev\r\n * @param {Number} type flag\r\n * @returns {undefined|Array} [all, changed]\r\n */\r\nfunction normalizeSingleTouches(ev, type) {\r\n    var all = toArray(ev.touches);\r\n    var changed = toArray(ev.changedTouches);\r\n\r\n    if (type & (INPUT_END | INPUT_CANCEL)) {\r\n        all = uniqueArray(all.concat(changed), 'identifier', true);\r\n    }\r\n\r\n    return [all, changed];\r\n}\r\n\r\nvar TOUCH_INPUT_MAP = {\r\n    touchstart: INPUT_START,\r\n    touchmove: INPUT_MOVE,\r\n    touchend: INPUT_END,\r\n    touchcancel: INPUT_CANCEL\r\n};\r\n\r\nvar TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\r\n\r\n/**\r\n * Multi-user touch events input\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction TouchInput() {\r\n    this.evTarget = TOUCH_TARGET_EVENTS;\r\n    this.targetIds = {};\r\n\r\n    Input.apply(this, arguments);\r\n}\r\n\r\ninherit(TouchInput, Input, {\r\n    handler: function MTEhandler(ev) {\r\n        var type = TOUCH_INPUT_MAP[ev.type];\r\n        var touches = getTouches.call(this, ev, type);\r\n        if (!touches) {\r\n            return;\r\n        }\r\n\r\n        this.callback(this.manager, type, {\r\n            pointers: touches[0],\r\n            changedPointers: touches[1],\r\n            pointerType: INPUT_TYPE_TOUCH,\r\n            srcEvent: ev\r\n        });\r\n    }\r\n});\r\n\r\n/**\r\n * @this {TouchInput}\r\n * @param {Object} ev\r\n * @param {Number} type flag\r\n * @returns {undefined|Array} [all, changed]\r\n */\r\nfunction getTouches(ev, type) {\r\n    var allTouches = toArray(ev.touches);\r\n    var targetIds = this.targetIds;\r\n\r\n    // when there is only one touch, the process can be simplified\r\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\r\n        targetIds[allTouches[0].identifier] = true;\r\n        return [allTouches, allTouches];\r\n    }\r\n\r\n    var i,\r\n        targetTouches,\r\n        changedTouches = toArray(ev.changedTouches),\r\n        changedTargetTouches = [],\r\n        target = this.target;\r\n\r\n    // get target touches from touches\r\n    targetTouches = allTouches.filter(function(touch) {\r\n        return hasParent(touch.target, target);\r\n    });\r\n\r\n    // collect touches\r\n    if (type === INPUT_START) {\r\n        i = 0;\r\n        while (i < targetTouches.length) {\r\n            targetIds[targetTouches[i].identifier] = true;\r\n            i++;\r\n        }\r\n    }\r\n\r\n    // filter changed touches to only contain touches that exist in the collected target ids\r\n    i = 0;\r\n    while (i < changedTouches.length) {\r\n        if (targetIds[changedTouches[i].identifier]) {\r\n            changedTargetTouches.push(changedTouches[i]);\r\n        }\r\n\r\n        // cleanup removed touches\r\n        if (type & (INPUT_END | INPUT_CANCEL)) {\r\n            delete targetIds[changedTouches[i].identifier];\r\n        }\r\n        i++;\r\n    }\r\n\r\n    if (!changedTargetTouches.length) {\r\n        return;\r\n    }\r\n\r\n    return [\r\n        // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\r\n        uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true),\r\n        changedTargetTouches\r\n    ];\r\n}\r\n\r\n/**\r\n * Combined touch and mouse input\r\n *\r\n * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\r\n * This because touch devices also emit mouse events while doing a touch.\r\n *\r\n * @constructor\r\n * @extends Input\r\n */\r\nfunction TouchMouseInput() {\r\n    Input.apply(this, arguments);\r\n\r\n    var handler = bindFn(this.handler, this);\r\n    this.touch = new TouchInput(this.manager, handler);\r\n    this.mouse = new MouseInput(this.manager, handler);\r\n}\r\n\r\ninherit(TouchMouseInput, Input, {\r\n    /**\r\n     * handle mouse and touch events\r\n     * @param {Hammer} manager\r\n     * @param {String} inputEvent\r\n     * @param {Object} inputData\r\n     */\r\n    handler: function TMEhandler(manager, inputEvent, inputData) {\r\n        var isTouch = (inputData.pointerType == INPUT_TYPE_TOUCH),\r\n            isMouse = (inputData.pointerType == INPUT_TYPE_MOUSE);\r\n\r\n        // when we're in a touch event, so  block all upcoming mouse events\r\n        // most mobile browser also emit mouseevents, right after touchstart\r\n        if (isTouch) {\r\n            this.mouse.allow = false;\r\n        } else if (isMouse && !this.mouse.allow) {\r\n            return;\r\n        }\r\n\r\n        // reset the allowMouse when we're done\r\n        if (inputEvent & (INPUT_END | INPUT_CANCEL)) {\r\n            this.mouse.allow = true;\r\n        }\r\n\r\n        this.callback(manager, inputEvent, inputData);\r\n    },\r\n\r\n    /**\r\n     * remove the event listeners\r\n     */\r\n    destroy: function destroy() {\r\n        this.touch.destroy();\r\n        this.mouse.destroy();\r\n    }\r\n});\r\n\r\nvar PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\r\nvar NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\r\n\r\n// magical touchAction value\r\nvar TOUCH_ACTION_COMPUTE = 'compute';\r\nvar TOUCH_ACTION_AUTO = 'auto';\r\nvar TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\r\nvar TOUCH_ACTION_NONE = 'none';\r\nvar TOUCH_ACTION_PAN_X = 'pan-x';\r\nvar TOUCH_ACTION_PAN_Y = 'pan-y';\r\n\r\n/**\r\n * Touch Action\r\n * sets the touchAction property or uses the js alternative\r\n * @param {Manager} manager\r\n * @param {String} value\r\n * @constructor\r\n */\r\nfunction TouchAction(manager, value) {\r\n    this.manager = manager;\r\n    this.set(value);\r\n}\r\n\r\nTouchAction.prototype = {\r\n    /**\r\n     * set the touchAction value on the element or enable the polyfill\r\n     * @param {String} value\r\n     */\r\n    set: function(value) {\r\n        // find out the touch-action by the event handlers\r\n        if (value == TOUCH_ACTION_COMPUTE) {\r\n            value = this.compute();\r\n        }\r\n\r\n        if (NATIVE_TOUCH_ACTION) {\r\n            this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\r\n        }\r\n        this.actions = value.toLowerCase().trim();\r\n    },\r\n\r\n    /**\r\n     * just re-set the touchAction value\r\n     */\r\n    update: function() {\r\n        this.set(this.manager.options.touchAction);\r\n    },\r\n\r\n    /**\r\n     * compute the value for the touchAction property based on the recognizer's settings\r\n     * @returns {String} value\r\n     */\r\n    compute: function() {\r\n        var actions = [];\r\n        each(this.manager.recognizers, function(recognizer) {\r\n            if (boolOrFn(recognizer.options.enable, [recognizer])) {\r\n                actions = actions.concat(recognizer.getTouchAction());\r\n            }\r\n        });\r\n        return cleanTouchActions(actions.join(' '));\r\n    },\r\n\r\n    /**\r\n     * this method is called on each input cycle and provides the preventing of the browser behavior\r\n     * @param {Object} input\r\n     */\r\n    preventDefaults: function(input) {\r\n        // not needed with native support for the touchAction property\r\n        if (NATIVE_TOUCH_ACTION) {\r\n            return;\r\n        }\r\n\r\n        var srcEvent = input.srcEvent;\r\n        var direction = input.offsetDirection;\r\n\r\n        // if the touch action did prevented once this session\r\n        if (this.manager.session.prevented) {\r\n            srcEvent.preventDefault();\r\n            return;\r\n        }\r\n\r\n        var actions = this.actions;\r\n        var hasNone = inStr(actions, TOUCH_ACTION_NONE);\r\n        var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\r\n        var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\r\n\r\n        if (hasNone ||\r\n            (hasPanY && direction & DIRECTION_HORIZONTAL) ||\r\n            (hasPanX && direction & DIRECTION_VERTICAL)) {\r\n            return this.preventSrc(srcEvent);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\r\n     * @param {Object} srcEvent\r\n     */\r\n    preventSrc: function(srcEvent) {\r\n        this.manager.session.prevented = true;\r\n        srcEvent.preventDefault();\r\n    }\r\n};\r\n\r\n/**\r\n * when the touchActions are collected they are not a valid value, so we need to clean things up. *\r\n * @param {String} actions\r\n * @returns {*}\r\n */\r\nfunction cleanTouchActions(actions) {\r\n    // none\r\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\r\n        return TOUCH_ACTION_NONE;\r\n    }\r\n\r\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\r\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\r\n\r\n    // pan-x and pan-y can be combined\r\n    if (hasPanX && hasPanY) {\r\n        return TOUCH_ACTION_PAN_X + ' ' + TOUCH_ACTION_PAN_Y;\r\n    }\r\n\r\n    // pan-x OR pan-y\r\n    if (hasPanX || hasPanY) {\r\n        return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\r\n    }\r\n\r\n    // manipulation\r\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\r\n        return TOUCH_ACTION_MANIPULATION;\r\n    }\r\n\r\n    return TOUCH_ACTION_AUTO;\r\n}\r\n\r\n/**\r\n * Recognizer flow explained; *\r\n * All recognizers have the initial state of POSSIBLE when a input session starts.\r\n * The definition of a input session is from the first input until the last input, with all it's movement in it. *\r\n * Example session for mouse-input: mousedown -> mousemove -> mouseup\r\n *\r\n * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\r\n * which determines with state it should be.\r\n *\r\n * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\r\n * POSSIBLE to give it another change on the next cycle.\r\n *\r\n *               Possible\r\n *                  |\r\n *            +-----+---------------+\r\n *            |                     |\r\n *      +-----+-----+               |\r\n *      |           |               |\r\n *   Failed      Cancelled          |\r\n *                          +-------+------+\r\n *                          |              |\r\n *                      Recognized       Began\r\n *                                         |\r\n *                                      Changed\r\n *                                         |\r\n *                                  Ended/Recognized\r\n */\r\nvar STATE_POSSIBLE = 1;\r\nvar STATE_BEGAN = 2;\r\nvar STATE_CHANGED = 4;\r\nvar STATE_ENDED = 8;\r\nvar STATE_RECOGNIZED = STATE_ENDED;\r\nvar STATE_CANCELLED = 16;\r\nvar STATE_FAILED = 32;\r\n\r\n/**\r\n * Recognizer\r\n * Every recognizer needs to extend from this class.\r\n * @constructor\r\n * @param {Object} options\r\n */\r\nfunction Recognizer(options) {\r\n    this.id = uniqueId();\r\n\r\n    this.manager = null;\r\n    this.options = merge(options || {}, this.defaults);\r\n\r\n    // default is enable true\r\n    this.options.enable = ifUndefined(this.options.enable, true);\r\n\r\n    this.state = STATE_POSSIBLE;\r\n\r\n    this.simultaneous = {};\r\n    this.requireFail = [];\r\n}\r\n\r\nRecognizer.prototype = {\r\n    /**\r\n     * @virtual\r\n     * @type {Object}\r\n     */\r\n    defaults: {},\r\n\r\n    /**\r\n     * set options\r\n     * @param {Object} options\r\n     * @return {Recognizer}\r\n     */\r\n    set: function(options) {\r\n        extend(this.options, options);\r\n\r\n        // also update the touchAction, in case something changed about the directions/enabled state\r\n        this.manager && this.manager.touchAction.update();\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * recognize simultaneous with an other recognizer.\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Recognizer} this\r\n     */\r\n    recognizeWith: function(otherRecognizer) {\r\n        if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\r\n            return this;\r\n        }\r\n\r\n        var simultaneous = this.simultaneous;\r\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\r\n        if (!simultaneous[otherRecognizer.id]) {\r\n            simultaneous[otherRecognizer.id] = otherRecognizer;\r\n            otherRecognizer.recognizeWith(this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Recognizer} this\r\n     */\r\n    dropRecognizeWith: function(otherRecognizer) {\r\n        if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\r\n            return this;\r\n        }\r\n\r\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\r\n        delete this.simultaneous[otherRecognizer.id];\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * recognizer can only run when an other is failing\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Recognizer} this\r\n     */\r\n    requireFailure: function(otherRecognizer) {\r\n        if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\r\n            return this;\r\n        }\r\n\r\n        var requireFail = this.requireFail;\r\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\r\n        if (inArray(requireFail, otherRecognizer) === -1) {\r\n            requireFail.push(otherRecognizer);\r\n            otherRecognizer.requireFailure(this);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Recognizer} this\r\n     */\r\n    dropRequireFailure: function(otherRecognizer) {\r\n        if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\r\n            return this;\r\n        }\r\n\r\n        otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\r\n        var index = inArray(this.requireFail, otherRecognizer);\r\n        if (index > -1) {\r\n            this.requireFail.splice(index, 1);\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * has require failures boolean\r\n     * @returns {boolean}\r\n     */\r\n    hasRequireFailures: function() {\r\n        return this.requireFail.length > 0;\r\n    },\r\n\r\n    /**\r\n     * if the recognizer can recognize simultaneous with an other recognizer\r\n     * @param {Recognizer} otherRecognizer\r\n     * @returns {Boolean}\r\n     */\r\n    canRecognizeWith: function(otherRecognizer) {\r\n        return !!this.simultaneous[otherRecognizer.id];\r\n    },\r\n\r\n    /**\r\n     * You should use `tryEmit` instead of `emit` directly to check\r\n     * that all the needed recognizers has failed before emitting.\r\n     * @param {Object} input\r\n     */\r\n    emit: function(input) {\r\n        var self = this;\r\n        var state = this.state;\r\n\r\n        function emit(withState) {\r\n            self.manager.emit(self.options.event + (withState ? stateStr(state) : ''), input);\r\n        }\r\n\r\n        // 'panstart' and 'panmove'\r\n        if (state < STATE_ENDED) {\r\n            emit(true);\r\n        }\r\n\r\n        emit(); // simple 'eventName' events\r\n\r\n        // panend and pancancel\r\n        if (state >= STATE_ENDED) {\r\n            emit(true);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * Check that all the require failure recognizers has failed,\r\n     * if true, it emits a gesture event,\r\n     * otherwise, setup the state to FAILED.\r\n     * @param {Object} input\r\n     */\r\n    tryEmit: function(input) {\r\n        if (this.canEmit()) {\r\n            return this.emit(input);\r\n        }\r\n        // it's failing anyway\r\n        this.state = STATE_FAILED;\r\n    },\r\n\r\n    /**\r\n     * can we emit?\r\n     * @returns {boolean}\r\n     */\r\n    canEmit: function() {\r\n        var i = 0;\r\n        while (i < this.requireFail.length) {\r\n            if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\r\n                return false;\r\n            }\r\n            i++;\r\n        }\r\n        return true;\r\n    },\r\n\r\n    /**\r\n     * update the recognizer\r\n     * @param {Object} inputData\r\n     */\r\n    recognize: function(inputData) {\r\n        // make a new copy of the inputData\r\n        // so we can change the inputData without messing up the other recognizers\r\n        var inputDataClone = extend({}, inputData);\r\n\r\n        // is is enabled and allow recognizing?\r\n        if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\r\n            this.reset();\r\n            this.state = STATE_FAILED;\r\n            return;\r\n        }\r\n\r\n        // reset when we've reached the end\r\n        if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\r\n            this.state = STATE_POSSIBLE;\r\n        }\r\n\r\n        this.state = this.process(inputDataClone);\r\n\r\n        // the recognizer has recognized a gesture\r\n        // so trigger an event\r\n        if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\r\n            this.tryEmit(inputDataClone);\r\n        }\r\n    },\r\n\r\n    /**\r\n     * return the state of the recognizer\r\n     * the actual recognizing happens in this method\r\n     * @virtual\r\n     * @param {Object} inputData\r\n     * @returns {Const} STATE\r\n     */\r\n    process: function(inputData) { }, // jshint ignore:line\r\n\r\n    /**\r\n     * return the preferred touch-action\r\n     * @virtual\r\n     * @returns {Array}\r\n     */\r\n    getTouchAction: function() { },\r\n\r\n    /**\r\n     * called when the gesture isn't allowed to recognize\r\n     * like when another is being recognized or it is disabled\r\n     * @virtual\r\n     */\r\n    reset: function() { }\r\n};\r\n\r\n/**\r\n * get a usable string, used as event postfix\r\n * @param {Const} state\r\n * @returns {String} state\r\n */\r\nfunction stateStr(state) {\r\n    if (state & STATE_CANCELLED) {\r\n        return 'cancel';\r\n    } else if (state & STATE_ENDED) {\r\n        return 'end';\r\n    } else if (state & STATE_CHANGED) {\r\n        return 'move';\r\n    } else if (state & STATE_BEGAN) {\r\n        return 'start';\r\n    }\r\n    return '';\r\n}\r\n\r\n/**\r\n * direction cons to string\r\n * @param {Const} direction\r\n * @returns {String}\r\n */\r\nfunction directionStr(direction) {\r\n    if (direction == DIRECTION_DOWN) {\r\n        return 'down';\r\n    } else if (direction == DIRECTION_UP) {\r\n        return 'up';\r\n    } else if (direction == DIRECTION_LEFT) {\r\n        return 'left';\r\n    } else if (direction == DIRECTION_RIGHT) {\r\n        return 'right';\r\n    }\r\n    return '';\r\n}\r\n\r\n/**\r\n * get a recognizer by name if it is bound to a manager\r\n * @param {Recognizer|String} otherRecognizer\r\n * @param {Recognizer} recognizer\r\n * @returns {Recognizer}\r\n */\r\nfunction getRecognizerByNameIfManager(otherRecognizer, recognizer) {\r\n    var manager = recognizer.manager;\r\n    if (manager) {\r\n        return manager.get(otherRecognizer);\r\n    }\r\n    return otherRecognizer;\r\n}\r\n\r\n/**\r\n * This recognizer is just used as a base for the simple attribute recognizers.\r\n * @constructor\r\n * @extends Recognizer\r\n */\r\nfunction AttrRecognizer() {\r\n    Recognizer.apply(this, arguments);\r\n}\r\n\r\ninherit(AttrRecognizer, Recognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof AttrRecognizer\r\n     */\r\n    defaults: {\r\n        /**\r\n         * @type {Number}\r\n         * @default 1\r\n         */\r\n        pointers: 1\r\n    },\r\n\r\n    /**\r\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\r\n     * @memberof AttrRecognizer\r\n     * @param {Object} input\r\n     * @returns {Boolean} recognized\r\n     */\r\n    attrTest: function(input) {\r\n        var optionPointers = this.options.pointers;\r\n        return optionPointers === 0 || input.pointers.length === optionPointers;\r\n    },\r\n\r\n    /**\r\n     * Process the input and return the state for the recognizer\r\n     * @memberof AttrRecognizer\r\n     * @param {Object} input\r\n     * @returns {*} State\r\n     */\r\n    process: function(input) {\r\n        var state = this.state;\r\n        var eventType = input.eventType;\r\n\r\n        var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\r\n        var isValid = this.attrTest(input);\r\n\r\n        // on cancel input and we've recognized before, return STATE_CANCELLED\r\n        if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\r\n            return state | STATE_CANCELLED;\r\n        } else if (isRecognized || isValid) {\r\n            if (eventType & INPUT_END) {\r\n                return state | STATE_ENDED;\r\n            } else if (!(state & STATE_BEGAN)) {\r\n                return STATE_BEGAN;\r\n            }\r\n            return state | STATE_CHANGED;\r\n        }\r\n        return STATE_FAILED;\r\n    }\r\n});\r\n\r\n/**\r\n * Pan\r\n * Recognized when the pointer is down and moved in the allowed direction.\r\n * @constructor\r\n * @extends AttrRecognizer\r\n */\r\nfunction PanRecognizer() {\r\n    AttrRecognizer.apply(this, arguments);\r\n\r\n    this.pX = null;\r\n    this.pY = null;\r\n}\r\n\r\ninherit(PanRecognizer, AttrRecognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof PanRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'pan',\r\n        threshold: 10,\r\n        pointers: 1,\r\n        direction: DIRECTION_ALL\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        var direction = this.options.direction;\r\n        var actions = [];\r\n        if (direction & DIRECTION_HORIZONTAL) {\r\n            actions.push(TOUCH_ACTION_PAN_Y);\r\n        }\r\n        if (direction & DIRECTION_VERTICAL) {\r\n            actions.push(TOUCH_ACTION_PAN_X);\r\n        }\r\n        return actions;\r\n    },\r\n\r\n    directionTest: function(input) {\r\n        var options = this.options;\r\n        var hasMoved = true;\r\n        var distance = input.distance;\r\n        var direction = input.direction;\r\n        var x = input.deltaX;\r\n        var y = input.deltaY;\r\n\r\n        // lock to axis?\r\n        if (!(direction & options.direction)) {\r\n            if (options.direction & DIRECTION_HORIZONTAL) {\r\n                direction = (x === 0) ? DIRECTION_NONE : (x < 0) ? DIRECTION_LEFT : DIRECTION_RIGHT;\r\n                hasMoved = x != this.pX;\r\n                distance = Math.abs(input.deltaX);\r\n            } else {\r\n                direction = (y === 0) ? DIRECTION_NONE : (y < 0) ? DIRECTION_UP : DIRECTION_DOWN;\r\n                hasMoved = y != this.pY;\r\n                distance = Math.abs(input.deltaY);\r\n            }\r\n        }\r\n        input.direction = direction;\r\n        return hasMoved && distance > options.threshold && direction & options.direction;\r\n    },\r\n\r\n    attrTest: function(input) {\r\n        return AttrRecognizer.prototype.attrTest.call(this, input) &&\r\n            (this.state & STATE_BEGAN || (!(this.state & STATE_BEGAN) && this.directionTest(input)));\r\n    },\r\n\r\n    emit: function(input) {\r\n        this.pX = input.deltaX;\r\n        this.pY = input.deltaY;\r\n\r\n        var direction = directionStr(input.direction);\r\n        if (direction) {\r\n            this.manager.emit(this.options.event + direction, input);\r\n        }\r\n\r\n        this._super.emit.call(this, input);\r\n    }\r\n});\r\n\r\n/**\r\n * Pinch\r\n * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\r\n * @constructor\r\n * @extends AttrRecognizer\r\n */\r\nfunction PinchRecognizer() {\r\n    AttrRecognizer.apply(this, arguments);\r\n}\r\n\r\ninherit(PinchRecognizer, AttrRecognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof PinchRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'pinch',\r\n        threshold: 0,\r\n        pointers: 2\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return [TOUCH_ACTION_NONE];\r\n    },\r\n\r\n    attrTest: function(input) {\r\n        return this._super.attrTest.call(this, input) &&\r\n            (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\r\n    },\r\n\r\n    emit: function(input) {\r\n        this._super.emit.call(this, input);\r\n        if (input.scale !== 1) {\r\n            var inOut = input.scale < 1 ? 'in' : 'out';\r\n            this.manager.emit(this.options.event + inOut, input);\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Press\r\n * Recognized when the pointer is down for x ms without any movement.\r\n * @constructor\r\n * @extends Recognizer\r\n */\r\nfunction PressRecognizer() {\r\n    Recognizer.apply(this, arguments);\r\n\r\n    this._timer = null;\r\n    this._input = null;\r\n}\r\n\r\ninherit(PressRecognizer, Recognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof PressRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'press',\r\n        pointers: 1,\r\n        time: 500, // minimal time of the pointer to be pressed\r\n        threshold: 5 // a minimal movement is ok, but keep it low\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return [TOUCH_ACTION_AUTO];\r\n    },\r\n\r\n    process: function(input) {\r\n        var options = this.options;\r\n        var validPointers = input.pointers.length === options.pointers;\r\n        var validMovement = input.distance < options.threshold;\r\n        var validTime = input.deltaTime > options.time;\r\n\r\n        this._input = input;\r\n\r\n        // we only allow little movement\r\n        // and we've reached an end event, so a tap is possible\r\n        if (!validMovement || !validPointers || (input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime)) {\r\n            this.reset();\r\n        } else if (input.eventType & INPUT_START) {\r\n            this.reset();\r\n            this._timer = setTimeoutContext(function() {\r\n                this.state = STATE_RECOGNIZED;\r\n                this.tryEmit();\r\n            }, options.time, this);\r\n        } else if (input.eventType & INPUT_END) {\r\n            return STATE_RECOGNIZED;\r\n        }\r\n        return STATE_FAILED;\r\n    },\r\n\r\n    reset: function() {\r\n        clearTimeout(this._timer);\r\n    },\r\n\r\n    emit: function(input) {\r\n        if (this.state !== STATE_RECOGNIZED) {\r\n            return;\r\n        }\r\n\r\n        if (input && (input.eventType & INPUT_END)) {\r\n            this.manager.emit(this.options.event + 'up', input);\r\n        } else {\r\n            this._input.timeStamp = now();\r\n            this.manager.emit(this.options.event, this._input);\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Rotate\r\n * Recognized when two or more pointer are moving in a circular motion.\r\n * @constructor\r\n * @extends AttrRecognizer\r\n */\r\nfunction RotateRecognizer() {\r\n    AttrRecognizer.apply(this, arguments);\r\n}\r\n\r\ninherit(RotateRecognizer, AttrRecognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof RotateRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'rotate',\r\n        threshold: 0,\r\n        pointers: 2\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return [TOUCH_ACTION_NONE];\r\n    },\r\n\r\n    attrTest: function(input) {\r\n        return this._super.attrTest.call(this, input) &&\r\n            (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\r\n    }\r\n});\r\n\r\n/**\r\n * Swipe\r\n * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\r\n * @constructor\r\n * @extends AttrRecognizer\r\n */\r\nfunction SwipeRecognizer() {\r\n    AttrRecognizer.apply(this, arguments);\r\n}\r\n\r\ninherit(SwipeRecognizer, AttrRecognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof SwipeRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'swipe',\r\n        threshold: 10,\r\n        velocity: 0.65,\r\n        direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\r\n        pointers: 1\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return PanRecognizer.prototype.getTouchAction.call(this);\r\n    },\r\n\r\n    attrTest: function(input) {\r\n        var direction = this.options.direction;\r\n        var velocity;\r\n\r\n        if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\r\n            velocity = input.velocity;\r\n        } else if (direction & DIRECTION_HORIZONTAL) {\r\n            velocity = input.velocityX;\r\n        } else if (direction & DIRECTION_VERTICAL) {\r\n            velocity = input.velocityY;\r\n        }\r\n\r\n        return this._super.attrTest.call(this, input) &&\r\n            direction & input.direction &&\r\n            input.distance > this.options.threshold &&\r\n            abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\r\n    },\r\n\r\n    emit: function(input) {\r\n        var direction = directionStr(input.direction);\r\n        if (direction) {\r\n            this.manager.emit(this.options.event + direction, input);\r\n        }\r\n\r\n        this.manager.emit(this.options.event, input);\r\n    }\r\n});\r\n\r\n/**\r\n * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\r\n * between the given interval and position. The delay option can be used to recognize multi-taps without firing\r\n * a single tap.\r\n *\r\n * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\r\n * multi-taps being recognized.\r\n * @constructor\r\n * @extends Recognizer\r\n */\r\nfunction TapRecognizer() {\r\n    Recognizer.apply(this, arguments);\r\n\r\n    // previous time and center,\r\n    // used for tap counting\r\n    this.pTime = false;\r\n    this.pCenter = false;\r\n\r\n    this._timer = null;\r\n    this._input = null;\r\n    this.count = 0;\r\n}\r\n\r\ninherit(TapRecognizer, Recognizer, {\r\n    /**\r\n     * @namespace\r\n     * @memberof PinchRecognizer\r\n     */\r\n    defaults: {\r\n        event: 'tap',\r\n        pointers: 1,\r\n        taps: 1,\r\n        interval: 300, // max time between the multi-tap taps\r\n        time: 250, // max time of the pointer to be down (like finger on the screen)\r\n        threshold: 2, // a minimal movement is ok, but keep it low\r\n        posThreshold: 10 // a multi-tap can be a bit off the initial position\r\n    },\r\n\r\n    getTouchAction: function() {\r\n        return [TOUCH_ACTION_MANIPULATION];\r\n    },\r\n\r\n    process: function(input) {\r\n        var options = this.options;\r\n\r\n        var validPointers = input.pointers.length === options.pointers;\r\n        var validMovement = input.distance < options.threshold;\r\n        var validTouchTime = input.deltaTime < options.time;\r\n\r\n        this.reset();\r\n\r\n        if ((input.eventType & INPUT_START) && (this.count === 0)) {\r\n            return this.failTimeout();\r\n        }\r\n\r\n        // we only allow little movement\r\n        // and we've reached an end event, so a tap is possible\r\n        if (validMovement && validTouchTime && validPointers) {\r\n            if (input.eventType != INPUT_END) {\r\n                return this.failTimeout();\r\n            }\r\n\r\n            var validInterval = this.pTime ? (input.timeStamp - this.pTime < options.interval) : true;\r\n            var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\r\n\r\n            this.pTime = input.timeStamp;\r\n            this.pCenter = input.center;\r\n\r\n            if (!validMultiTap || !validInterval) {\r\n                this.count = 1;\r\n            } else {\r\n                this.count += 1;\r\n            }\r\n\r\n            this._input = input;\r\n\r\n            // if tap count matches we have recognized it,\r\n            // else it has began recognizing...\r\n            var tapCount = this.count % options.taps;\r\n            if (tapCount === 0) {\r\n                // no failing requirements, immediately trigger the tap event\r\n                // or wait as long as the multitap interval to trigger\r\n                if (!this.hasRequireFailures()) {\r\n                    return STATE_RECOGNIZED;\r\n                } else {\r\n                    this._timer = setTimeoutContext(function() {\r\n                        this.state = STATE_RECOGNIZED;\r\n                        this.tryEmit();\r\n                    }, options.interval, this);\r\n                    return STATE_BEGAN;\r\n                }\r\n            }\r\n        }\r\n        return STATE_FAILED;\r\n    },\r\n\r\n    failTimeout: function() {\r\n        this._timer = setTimeoutContext(function() {\r\n            this.state = STATE_FAILED;\r\n        }, this.options.interval, this);\r\n        return STATE_FAILED;\r\n    },\r\n\r\n    reset: function() {\r\n        clearTimeout(this._timer);\r\n    },\r\n\r\n    emit: function() {\r\n        if (this.state == STATE_RECOGNIZED ) {\r\n            this._input.tapCount = this.count;\r\n            this.manager.emit(this.options.event, this._input);\r\n        }\r\n    }\r\n});\r\n\r\n/**\r\n * Simple way to create an manager with a default set of recognizers.\r\n * @param {HTMLElement} element\r\n * @param {Object} [options]\r\n * @constructor\r\n */\r\nfunction Hammer(element, options) {\r\n    options = options || {};\r\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\r\n    return new Manager(element, options);\r\n}\r\n\r\n/**\r\n * @const {string}\r\n */\r\nHammer.VERSION = '2.0.4';\r\n\r\n/**\r\n * default settings\r\n * @namespace\r\n */\r\nHammer.defaults = {\r\n    /**\r\n     * set if DOM events are being triggered.\r\n     * But this is slower and unused by simple implementations, so disabled by default.\r\n     * @type {Boolean}\r\n     * @default false\r\n     */\r\n    domEvents: false,\r\n\r\n    /**\r\n     * The value for the touchAction property/fallback.\r\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\r\n     * @type {String}\r\n     * @default compute\r\n     */\r\n    touchAction: TOUCH_ACTION_COMPUTE,\r\n\r\n    /**\r\n     * @type {Boolean}\r\n     * @default true\r\n     */\r\n    enable: true,\r\n\r\n    /**\r\n     * EXPERIMENTAL FEATURE -- can be removed/changed\r\n     * Change the parent input target element.\r\n     * If Null, then it is being set the to main element.\r\n     * @type {Null|EventTarget}\r\n     * @default null\r\n     */\r\n    inputTarget: null,\r\n\r\n    /**\r\n     * force an input class\r\n     * @type {Null|Function}\r\n     * @default null\r\n     */\r\n    inputClass: null,\r\n\r\n    /**\r\n     * Default recognizer setup when calling `Hammer()`\r\n     * When creating a new Manager these will be skipped.\r\n     * @type {Array}\r\n     */\r\n    preset: [\r\n        // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\r\n        [RotateRecognizer, { enable: false }],\r\n        [PinchRecognizer, { enable: false }, ['rotate']],\r\n        [SwipeRecognizer,{ direction: DIRECTION_HORIZONTAL }],\r\n        [PanRecognizer, { direction: DIRECTION_HORIZONTAL }, ['swipe']],\r\n        [TapRecognizer],\r\n        [TapRecognizer, { event: 'doubletap', taps: 2 }, ['tap']],\r\n        [PressRecognizer]\r\n    ],\r\n\r\n    /**\r\n     * Some CSS properties can be used to improve the working of Hammer.\r\n     * Add them to this method and they will be set when creating a new Manager.\r\n     * @namespace\r\n     */\r\n    cssProps: {\r\n        /**\r\n         * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        userSelect: 'none',\r\n\r\n        /**\r\n         * Disable the Windows Phone grippers when pressing an element.\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        touchSelect: 'none',\r\n\r\n        /**\r\n         * Disables the default callout shown when you touch and hold a touch target.\r\n         * On iOS, when you touch and hold a touch target such as a link, Safari displays\r\n         * a callout containing information about the link. This property allows you to disable that callout.\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        touchCallout: 'none',\r\n\r\n        /**\r\n         * Specifies whether zooming is enabled. Used by IE10>\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        contentZooming: 'none',\r\n\r\n        /**\r\n         * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\r\n         * @type {String}\r\n         * @default 'none'\r\n         */\r\n        userDrag: 'none',\r\n\r\n        /**\r\n         * Overrides the highlight color shown when the user taps a link or a JavaScript\r\n         * clickable element in iOS. This property obeys the alpha value, if specified.\r\n         * @type {String}\r\n         * @default 'rgba(0,0,0,0)'\r\n         */\r\n        tapHighlightColor: 'rgba(0,0,0,0)'\r\n    }\r\n};\r\n\r\nvar STOP = 1;\r\nvar FORCED_STOP = 2;\r\n\r\n/**\r\n * Manager\r\n * @param {HTMLElement} element\r\n * @param {Object} [options]\r\n * @constructor\r\n */\r\nfunction Manager(element, options) {\r\n    options = options || {};\r\n\r\n    this.options = merge(options, Hammer.defaults);\r\n    this.options.inputTarget = this.options.inputTarget || element;\r\n\r\n    this.handlers = {};\r\n    this.session = {};\r\n    this.recognizers = [];\r\n\r\n    this.element = element;\r\n    this.input = createInputInstance(this);\r\n    this.touchAction = new TouchAction(this, this.options.touchAction);\r\n\r\n    toggleCssProps(this, true);\r\n\r\n    each(options.recognizers, function(item) {\r\n        var recognizer = this.add(new (item[0])(item[1]));\r\n        item[2] && recognizer.recognizeWith(item[2]);\r\n        item[3] && recognizer.requireFailure(item[3]);\r\n    }, this);\r\n}\r\n\r\nManager.prototype = {\r\n    /**\r\n     * set options\r\n     * @param {Object} options\r\n     * @returns {Manager}\r\n     */\r\n    set: function(options) {\r\n        extend(this.options, options);\r\n\r\n        // Options that need a little more setup\r\n        if (options.touchAction) {\r\n            this.touchAction.update();\r\n        }\r\n        if (options.inputTarget) {\r\n            // Clean up existing event listeners and reinitialize\r\n            this.input.destroy();\r\n            this.input.target = options.inputTarget;\r\n            this.input.init();\r\n        }\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * stop recognizing for this session.\r\n     * This session will be discarded, when a new [input]start event is fired.\r\n     * When forced, the recognizer cycle is stopped immediately.\r\n     * @param {Boolean} [force]\r\n     */\r\n    stop: function(force) {\r\n        this.session.stopped = force ? FORCED_STOP : STOP;\r\n    },\r\n\r\n    /**\r\n     * run the recognizers!\r\n     * called by the inputHandler function on every movement of the pointers (touches)\r\n     * it walks through all the recognizers and tries to detect the gesture that is being made\r\n     * @param {Object} inputData\r\n     */\r\n    recognize: function(inputData) {\r\n        var session = this.session;\r\n        if (session.stopped) {\r\n            return;\r\n        }\r\n\r\n        // run the touch-action polyfill\r\n        this.touchAction.preventDefaults(inputData);\r\n\r\n        var recognizer;\r\n        var recognizers = this.recognizers;\r\n\r\n        // this holds the recognizer that is being recognized.\r\n        // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\r\n        // if no recognizer is detecting a thing, it is set to `null`\r\n        var curRecognizer = session.curRecognizer;\r\n\r\n        // reset when the last recognizer is recognized\r\n        // or when we're in a new session\r\n        if (!curRecognizer || (curRecognizer && curRecognizer.state & STATE_RECOGNIZED)) {\r\n            curRecognizer = session.curRecognizer = null;\r\n        }\r\n\r\n        var i = 0;\r\n        while (i < recognizers.length) {\r\n            recognizer = recognizers[i];\r\n\r\n            // find out if we are allowed try to recognize the input for this one.\r\n            // 1.   allow if the session is NOT forced stopped (see the .stop() method)\r\n            // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\r\n            //      that is being recognized.\r\n            // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\r\n            //      this can be setup with the `recognizeWith()` method on the recognizer.\r\n            if (session.stopped !== FORCED_STOP && ( // 1\r\n                    !curRecognizer || recognizer == curRecognizer || // 2\r\n                    recognizer.canRecognizeWith(curRecognizer))) { // 3\r\n                recognizer.recognize(inputData);\r\n            } else {\r\n                recognizer.reset();\r\n            }\r\n\r\n            // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\r\n            // current active recognizer. but only if we don't already have an active recognizer\r\n            if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\r\n                curRecognizer = session.curRecognizer = recognizer;\r\n            }\r\n            i++;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * get a recognizer by its event name.\r\n     * @param {Recognizer|String} recognizer\r\n     * @returns {Recognizer|Null}\r\n     */\r\n    get: function(recognizer) {\r\n        if (recognizer instanceof Recognizer) {\r\n            return recognizer;\r\n        }\r\n\r\n        var recognizers = this.recognizers;\r\n        for (var i = 0; i < recognizers.length; i++) {\r\n            if (recognizers[i].options.event == recognizer) {\r\n                return recognizers[i];\r\n            }\r\n        }\r\n        return null;\r\n    },\r\n\r\n    /**\r\n     * add a recognizer to the manager\r\n     * existing recognizers with the same event name will be removed\r\n     * @param {Recognizer} recognizer\r\n     * @returns {Recognizer|Manager}\r\n     */\r\n    add: function(recognizer) {\r\n        if (invokeArrayArg(recognizer, 'add', this)) {\r\n            return this;\r\n        }\r\n\r\n        // remove existing\r\n        var existing = this.get(recognizer.options.event);\r\n        if (existing) {\r\n            this.remove(existing);\r\n        }\r\n\r\n        this.recognizers.push(recognizer);\r\n        recognizer.manager = this;\r\n\r\n        this.touchAction.update();\r\n        return recognizer;\r\n    },\r\n\r\n    /**\r\n     * remove a recognizer by name or instance\r\n     * @param {Recognizer|String} recognizer\r\n     * @returns {Manager}\r\n     */\r\n    remove: function(recognizer) {\r\n        if (invokeArrayArg(recognizer, 'remove', this)) {\r\n            return this;\r\n        }\r\n\r\n        var recognizers = this.recognizers;\r\n        recognizer = this.get(recognizer);\r\n        recognizers.splice(inArray(recognizers, recognizer), 1);\r\n\r\n        this.touchAction.update();\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * bind event\r\n     * @param {String} events\r\n     * @param {Function} handler\r\n     * @returns {EventEmitter} this\r\n     */\r\n    on: function(events, handler) {\r\n        var handlers = this.handlers;\r\n        each(splitStr(events), function(event) {\r\n            handlers[event] = handlers[event] || [];\r\n            handlers[event].push(handler);\r\n        });\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * unbind event, leave emit blank to remove all handlers\r\n     * @param {String} events\r\n     * @param {Function} [handler]\r\n     * @returns {EventEmitter} this\r\n     */\r\n    off: function(events, handler) {\r\n        var handlers = this.handlers;\r\n        each(splitStr(events), function(event) {\r\n            if (!handler) {\r\n                delete handlers[event];\r\n            } else {\r\n                handlers[event].splice(inArray(handlers[event], handler), 1);\r\n            }\r\n        });\r\n        return this;\r\n    },\r\n\r\n    /**\r\n     * emit event to the listeners\r\n     * @param {String} event\r\n     * @param {Object} data\r\n     */\r\n    emit: function(event, data) {\r\n        // we also want to trigger dom events\r\n        if (this.options.domEvents) {\r\n            triggerDomEvent(event, data);\r\n        }\r\n\r\n        // no handlers, so skip it all\r\n        var handlers = this.handlers[event] && this.handlers[event].slice();\r\n        if (!handlers || !handlers.length) {\r\n            return;\r\n        }\r\n\r\n        data.type = event;\r\n        data.preventDefault = function() {\r\n            data.srcEvent.preventDefault();\r\n        };\r\n\r\n        var i = 0;\r\n        while (i < handlers.length) {\r\n            handlers[i](data);\r\n            i++;\r\n        }\r\n    },\r\n\r\n    /**\r\n     * destroy the manager and unbinds all events\r\n     * it doesn't unbind dom events, that is the user own responsibility\r\n     */\r\n    destroy: function() {\r\n        this.element && toggleCssProps(this, false);\r\n\r\n        this.handlers = {};\r\n        this.session = {};\r\n        this.input.destroy();\r\n        this.element = null;\r\n    }\r\n};\r\n\r\n/**\r\n * add/remove the css properties as defined in manager.options.cssProps\r\n * @param {Manager} manager\r\n * @param {Boolean} add\r\n */\r\nfunction toggleCssProps(manager, add) {\r\n    var element = manager.element;\r\n    each(manager.options.cssProps, function(value, name) {\r\n        element.style[prefixed(element.style, name)] = add ? value : '';\r\n    });\r\n}\r\n\r\n/**\r\n * trigger dom event\r\n * @param {String} event\r\n * @param {Object} data\r\n */\r\nfunction triggerDomEvent(event, data) {\r\n    var gestureEvent = document.createEvent('Event');\r\n    gestureEvent.initEvent(event, true, true);\r\n    gestureEvent.gesture = data;\r\n    data.target.dispatchEvent(gestureEvent);\r\n}\r\n\r\nextend(Hammer, {\r\n    INPUT_START: INPUT_START,\r\n    INPUT_MOVE: INPUT_MOVE,\r\n    INPUT_END: INPUT_END,\r\n    INPUT_CANCEL: INPUT_CANCEL,\r\n\r\n    STATE_POSSIBLE: STATE_POSSIBLE,\r\n    STATE_BEGAN: STATE_BEGAN,\r\n    STATE_CHANGED: STATE_CHANGED,\r\n    STATE_ENDED: STATE_ENDED,\r\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\r\n    STATE_CANCELLED: STATE_CANCELLED,\r\n    STATE_FAILED: STATE_FAILED,\r\n\r\n    DIRECTION_NONE: DIRECTION_NONE,\r\n    DIRECTION_LEFT: DIRECTION_LEFT,\r\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\r\n    DIRECTION_UP: DIRECTION_UP,\r\n    DIRECTION_DOWN: DIRECTION_DOWN,\r\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\r\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\r\n    DIRECTION_ALL: DIRECTION_ALL,\r\n\r\n    Manager: Manager,\r\n    Input: Input,\r\n    TouchAction: TouchAction,\r\n\r\n    TouchInput: TouchInput,\r\n    MouseInput: MouseInput,\r\n    PointerEventInput: PointerEventInput,\r\n    TouchMouseInput: TouchMouseInput,\r\n    SingleTouchInput: SingleTouchInput,\r\n\r\n    Recognizer: Recognizer,\r\n    AttrRecognizer: AttrRecognizer,\r\n    Tap: TapRecognizer,\r\n    Pan: PanRecognizer,\r\n    Swipe: SwipeRecognizer,\r\n    Pinch: PinchRecognizer,\r\n    Rotate: RotateRecognizer,\r\n    Press: PressRecognizer,\r\n\r\n    on: addEventListeners,\r\n    off: removeEventListeners,\r\n    each: each,\r\n    merge: merge,\r\n    extend: extend,\r\n    inherit: inherit,\r\n    bindFn: bindFn,\r\n    prefixed: prefixed\r\n});\r\n\r\nif (typeof define == TYPE_FUNCTION && define.amd) {\r\n    define(function() {\r\n        return Hammer;\r\n    });\r\n} else if (typeof module != 'undefined' && module.exports) {\r\n    module.exports = Hammer;\r\n} else {\r\n    window[exportName] = Hammer;\r\n}\r\n\r\n})(window, document, 'Hammer');\r\n",
    "/*!\n * index-of <https://github.com/jonschlinkert/index-of>\n *\n * Copyright (c) 2014-2015 Jon Schlinkert.\n * Licensed under the MIT license.\n */\n\n'use strict';\n\nmodule.exports = function indexOf(arr, ele, start) {\n  start = start || 0;\n  var idx = -1;\n\n  if (arr == null) return idx;\n  var len = arr.length;\n  var i = start < 0\n    ? (len + start)\n    : start;\n\n  if (i >= arr.length) {\n    return -1;\n  }\n\n  while (i < len) {\n    if (arr[i] === ele) {\n      return i;\n    }\n    i++;\n  }\n\n  return -1;\n};\n",
    "'use strict';\n\nvar cheerio = require('./lib/cheerio');\nvar makeJuiceClient = require('./lib/inline');\n\n/**\n * Note that makeJuiceClient will take a base object (in this case a function) and enhance it\n * with a lot of useful properties and functions.\n *\n * This client adopts cheerio as a DOM parser and adds an \"inlineContent\" function that let\n * users to specify the CSS to be inlined instead of extracting it from the html.\n * \n * The weird \"makeJuiceClient\" behaviour is there in order to keep backward API compatibility.\n */\nvar juiceClient = makeJuiceClient(function(html,options) {\n  return cheerio(html, { xmlMode: options && options.xmlMode}, juiceDocument, [options]);\n});\n\nvar juiceDocument = function(html, options) {\n  return juiceClient.juiceDocument(html, options);\n}\n\njuiceClient.inlineContent = function(html, css, options) {\n  return cheerio(html, { xmlMode: options && options.xmlMode}, juiceClient.inlineDocument, [css, options]);\n};\n\nmodule.exports = juiceClient;\n",
    "'use strict';\n\n/**\n * Module dependencies.\n */\nvar cheerio = require('cheerio');\nvar utils = require('./utils');\n\nvar cheerioLoad = function(html, options, encodeEntities) {\n  options = Object.assign({decodeEntities: false, _useHtmlParser2:true}, options);\n  html = encodeEntities(html);\n  return cheerio.load(html, options);\n};\n\nvar createEntityConverters = function () {\n  var codeBlockLookup = [];\n\n  var encodeCodeBlocks = function(html) {\n    var blocks = module.exports.codeBlocks;\n    Object.keys(blocks).forEach(function(key) {\n      var re = new RegExp(blocks[key].start + '([\\\\S\\\\s]*?)' + blocks[key].end, 'g');\n      html = html.replace(re, function(match, subMatch) {\n        codeBlockLookup.push(match);\n        return 'JUICE_CODE_BLOCK_' + (codeBlockLookup.length - 1) + '_';\n      });\n    });\n    return html;\n  };\n\n  var decodeCodeBlocks = function(html) {\n    for(var index = 0; index < codeBlockLookup.length; index++) {\n      var re = new RegExp('JUICE_CODE_BLOCK_' + index + '_(=\"\")?', 'gi');\n      html = html.replace(re, function() {\n        return codeBlockLookup[index];\n      });\n    }\n    return html;\n  };\n\n  return {\n    encodeEntities: encodeCodeBlocks,\n    decodeEntities: decodeCodeBlocks,\n  };\n};\n\n/**\n * Parses the input, calls the callback on the parsed DOM, and generates the output\n *\n * @param {String} html input html to be processed\n * @param {Object} options for the parser\n * @param {Function} callback to be invoked on the DOM\n * @param {Array} callbackExtraArguments to be passed to the callback\n * @return {String} resulting html\n */\nmodule.exports = function(html, options, callback, callbackExtraArguments) {\n  var entityConverters = createEntityConverters();\n\n  var $ = cheerioLoad(html, options, entityConverters.encodeEntities);\n  var args = [ $ ];\n  args.push.apply(args, callbackExtraArguments);\n  var doc = callback.apply(undefined, args) || $;\n\n  if (options && options.xmlMode) {\n    return entityConverters.decodeEntities(doc.xml());\n  }\n  return entityConverters.decodeEntities(doc.html());\n};\n\nmodule.exports.codeBlocks = {\n  EJS: { start: '<%', end: '%>' },\n  HBS: { start: '{{', end: '}}' }\n};\n",
    "'use strict';\n\nvar utils = require('./utils');\n\nmodule.exports = function makeJuiceClient(juiceClient) {\n\njuiceClient.ignoredPseudos = ['hover', 'active', 'focus', 'visited', 'link'];\njuiceClient.widthElements = ['TABLE', 'TD', 'TH', 'IMG'];\njuiceClient.heightElements = ['TABLE', 'TD', 'TH', 'IMG'];\njuiceClient.tableElements = ['TABLE', 'TH', 'TR', 'TD', 'CAPTION', 'COLGROUP', 'COL', 'THEAD', 'TBODY', 'TFOOT'];\njuiceClient.nonVisualElements = [ 'HEAD', 'TITLE', 'BASE', 'LINK', 'STYLE', 'META', 'SCRIPT', 'NOSCRIPT' ];\njuiceClient.styleToAttribute = {\n  'background-color': 'bgcolor',\n  'background-image': 'background',\n  'text-align': 'align',\n  'vertical-align': 'valign'\n};\njuiceClient.excludedProperties = [];\n\njuiceClient.juiceDocument = juiceDocument;\njuiceClient.inlineDocument = inlineDocument;\n\nfunction inlineDocument($, css, options) {\n\n  options = options || {};\n  var rules = utils.parseCSS(css);\n  var editedElements = [];\n  var styleAttributeName = 'style';\n\n  if (options.styleAttributeName) {\n    styleAttributeName = options.styleAttributeName;\n  }\n\n  rules.forEach(handleRule);\n  editedElements.forEach(setStyleAttrs);\n\n  if (options.inlinePseudoElements) {\n    editedElements.forEach(inlinePseudoElements);\n  }\n\n  if (options.applyWidthAttributes) {\n    editedElements.forEach(function(el) {\n      setDimensionAttrs(el, 'width');\n    });\n  }\n\n  if (options.applyHeightAttributes) {\n    editedElements.forEach(function(el) {\n      setDimensionAttrs(el, 'height');\n    });\n  }\n\n  if (options.applyAttributesTableElements) {\n    editedElements.forEach(setAttributesOnTableElements);\n  }\n\n  if (options.insertPreservedExtraCss && options.extraCss) {\n    var preservedText = utils.getPreservedText(options.extraCss, {\n      mediaQueries: options.preserveMediaQueries,\n      fontFaces: options.preserveFontFaces,\n      keyFrames: options.preserveKeyFrames\n    });\n    if (preservedText) {\n      var $appendTo = null;\n      if (options.insertPreservedExtraCss !== true) {\n        $appendTo = $(options.insertPreservedExtraCss);\n      } else {\n        $appendTo = $('head');\n        if (!$appendTo.length) { $appendTo = $('body'); }\n        if (!$appendTo.length) { $appendTo = $.root(); }\n      }\n\n      $appendTo.first().append('<style>' + preservedText + '</style>');\n    }\n  }\n\n  function handleRule(rule) {\n    var sel = rule[0];\n    var style = rule[1];\n    var selector = new utils.Selector(sel);\n    var parsedSelector = selector.parsed();\n\n    if (!parsedSelector) {\n      return;\n    }\n\n    var pseudoElementType = getPseudoElementType(parsedSelector);\n\n    // skip rule if the selector has any pseudos which are ignored\n    for (var i = 0; i < parsedSelector.length; ++i) {\n      var subSel = parsedSelector[i];\n      if (subSel.pseudos) {\n        for (var j = 0; j < subSel.pseudos.length; ++j) {\n          var subSelPseudo = subSel.pseudos[j];\n          if (juiceClient.ignoredPseudos.indexOf(subSelPseudo.name) >= 0) {\n            return;\n          }\n        }\n      }\n    }\n\n    if (pseudoElementType) {\n      var last = parsedSelector[parsedSelector.length - 1];\n      var pseudos = last.pseudos;\n      last.pseudos = filterElementPseudos(last.pseudos);\n      sel = parsedSelector.toString();\n      last.pseudos = pseudos;\n    }\n\n    var els;\n    try {\n      els = $(sel);\n    } catch (err) {\n      // skip invalid selector\n      return;\n    }\n\n    els.each(function() {\n      var el = this;\n\n      if (el.name && juiceClient.nonVisualElements.indexOf(el.name.toUpperCase()) >= 0) {\n        return;\n      }\n\n      if (pseudoElementType) {\n        var pseudoElPropName = 'pseudo' + pseudoElementType;\n        var pseudoEl = el[pseudoElPropName];\n        if (!pseudoEl) {\n          pseudoEl = el[pseudoElPropName] = $('<span />').get(0);\n          pseudoEl.pseudoElementType = pseudoElementType;\n          pseudoEl.pseudoElementParent = el;\n          el[pseudoElPropName] = pseudoEl;\n        }\n        el = pseudoEl;\n      }\n\n      if (!el.styleProps) {\n        el.styleProps = {};\n\n        // if the element has inline styles, fake selector with topmost specificity\n        if ($(el).attr(styleAttributeName)) {\n          var cssText = '* { ' + $(el).attr(styleAttributeName) + ' } ';\n          addProps(utils.parseCSS(cssText)[0][1], new utils.Selector('<style>', true));\n        }\n\n        // store reference to an element we need to compile style=\"\" attr for\n        editedElements.push(el);\n      }\n\n      // go through the properties\n      function addProps(style, selector) {\n        for (var i = 0, l = style.length; i < l; i++) {\n          if (style[i].type == 'property') {\n            var name = style[i].name;\n            var value = style[i].value;\n            var important = style[i].value.match(/!important$/) !== null;\n            if (important && !options.preserveImportant) value = value.replace(/\\s*!important$/, '');\n            // adds line number and column number for the properties as \"additionalPriority\" to the\n            // properties because in CSS the position directly affect the priority.\n            var additionalPriority = [style[i].position.start.line, style[i].position.start.col];\n            var prop = new utils.Property(name, value, selector, important ? 2 : 0, additionalPriority);\n            var existing = el.styleProps[name];\n\n            // if property name is not in the excluded properties array\n            if (juiceClient.excludedProperties.indexOf(name) < 0) {\n              if (existing && existing.compare(prop) === prop || !existing) {\n                // deleting a property let us change the order (move it to the end in the setStyleAttrs loop)\n                if (existing && existing.selector !== selector) {\n                  delete el.styleProps[name];\n                } else if (existing) {\n                  // make \"prop\" a special composed property.\n                  prop.nextProp = existing;\n                }\n\n                el.styleProps[name] = prop;\n              }\n            }\n          }\n        }\n      }\n\n      addProps(style, selector);\n    });\n  }\n\n  function setStyleAttrs(el) {\n    var l = Object.keys(el.styleProps).length;\n    var props = [];\n    // Here we loop each property and make sure to \"expand\"\n    // linked \"nextProp\" properties happening when the same property\n    // is declared multiple times in the same selector.\n    Object.keys(el.styleProps).forEach(function(key) {\n      var np = el.styleProps[key];\n      while (typeof np !== 'undefined') {\n        props.push(np);\n        np = np.nextProp;\n      }\n    });\n    // sort properties by their originating selector's specificity so that\n    // props like \"padding\" and \"padding-bottom\" are resolved as expected.\n    props.sort(function(a, b) {\n      return a.compareFunc(b);\n    });\n    var string = props\n      .filter(function(prop) {\n        // Content becomes the innerHTML of pseudo elements, not used as a\n        // style property\n        return prop.prop !== 'content';\n      })\n      .map(function(prop) {\n        return prop.prop + ': ' + prop.value.replace(/[\"]/g, '\\'') + ';';\n      })\n      .join(' ');\n    if (string) {\n      $(el).attr(styleAttributeName, string);\n    }\n  }\n\n  function inlinePseudoElements(el) {\n    if (el.pseudoElementType && el.styleProps.content) {\n      var parsed = parseContent(el.styleProps.content.value);\n      if (parsed.img) {\n        el.name = 'img';\n        $(el).attr('src', parsed.img);\n      } else {\n        $(el).text(parsed);\n      }\n      var parent = el.pseudoElementParent;\n      if (el.pseudoElementType === 'before') {\n        $(parent).prepend(el);\n      } else {\n        $(parent).append(el);\n      }\n    }\n  }\n\n  function setDimensionAttrs(el, dimension) {\n    if (!el.name) { return; }\n    var elName = el.name.toUpperCase();\n    if (juiceClient[dimension + 'Elements'].indexOf(elName) > -1) {\n      for (var i in el.styleProps) {\n        if (el.styleProps[i].prop === dimension) {\n          if (el.styleProps[i].value.match(/px/)) {\n            var pxSize = el.styleProps[i].value.replace('px', '');\n            $(el).attr(dimension, pxSize);\n            return;\n          }\n          if (juiceClient.tableElements.indexOf(elName) > -1 && el.styleProps[i].value.match(/\\%/)) {\n            $(el).attr(dimension, el.styleProps[i].value);\n            return;\n          }\n        }\n      }\n    }\n  }\n\n  function extractBackgroundUrl(value) {\n    return value.indexOf('url(') !== 0\n      ? value\n      : value.replace(/^url\\(([\"'])?([^\"']+)\\1\\)$/, '$2');\n  }\n\n  function setAttributesOnTableElements(el) {\n    if (!el.name) { return; }\n    var elName = el.name.toUpperCase();\n    var styleProps = Object.keys(juiceClient.styleToAttribute);\n\n    if (juiceClient.tableElements.indexOf(elName) > -1) {\n      for (var i in el.styleProps) {\n        if (styleProps.indexOf(el.styleProps[i].prop) > -1) {\n          var prop = juiceClient.styleToAttribute[el.styleProps[i].prop];\n          var value = el.styleProps[i].value;\n          if (prop === 'background') {\n            value = extractBackgroundUrl(value);\n          }\n          if (/(linear|radial)-gradient\\(/i.test(value)) {\n            continue;\n          }\n          $(el).attr(prop, value);\n        }\n      }\n    }\n  }\n}\n\nfunction parseContent(content) {\n  if (content === 'none' || content === 'normal') {\n    return '';\n  }\n\n  var imageUrlMatch = content.match(/^\\s*url\\s*\\(\\s*(.*?)\\s*\\)\\s*$/i);\n  if (imageUrlMatch) {\n    var url = imageUrlMatch[1].replace(/^['\"]|['\"]$/g, '');\n    return { img: url };\n  }\n\n  // Naive parsing, assume well-formed value\n  content = content.slice(1, content.length - 1);\n  // Naive unescape, assume no unicode char codes\n  content = content.replace(/\\\\/g, '');\n  return content;\n}\n\n// Return \"before\" or \"after\" if the given selector is a pseudo element (e.g.,\n// a::after).\nfunction getPseudoElementType(selector) {\n  if (selector.length === 0) {\n    return;\n  }\n\n  var pseudos = selector[selector.length - 1].pseudos;\n  if (!pseudos) {\n    return;\n  }\n\n  for (var i = 0; i < pseudos.length; i++) {\n    if (isPseudoElementName(pseudos[i])) {\n      return pseudos[i].name;\n    }\n  }\n}\n\nfunction isPseudoElementName(pseudo) {\n  return pseudo.name === 'before' || pseudo.name === 'after';\n}\n\nfunction filterElementPseudos(pseudos) {\n  return pseudos.filter(function(pseudo) {\n    return !isPseudoElementName(pseudo);\n  });\n}\n\nfunction juiceDocument($, options) {\n  options = utils.getDefaultOptions(options);\n  var css = extractCssFromDocument($, options);\n  css += '\\n' + options.extraCss;\n  inlineDocument($, css, options);\n  return $;\n}\n\nfunction getStylesData($, options) {\n  var results = [];\n  var stylesList = $('style');\n  var styleDataList, styleData, styleElement;\n  stylesList.each(function() {\n    styleElement = this;\n    // the API for Cheerio using parse5 (default) and htmlparser2 are slightly different\n    // detect this by checking if .childNodes exist (as opposed to .children)\n    var usingParse5 = !!styleElement.childNodes;\n    styleDataList = usingParse5 ? styleElement.childNodes : styleElement.children;\n    if (styleDataList.length !== 1) {\n      if (options.removeStyleTags) {\n        $(styleElement).remove();\n      }\n      return;\n    }\n    styleData = styleDataList[0].data;\n    if (options.applyStyleTags && $(styleElement).attr('data-embed') === undefined) {\n      results.push(styleData);\n    }\n    if (options.removeStyleTags && $(styleElement).attr('data-embed') === undefined) {\n      var text = usingParse5 ? styleElement.childNodes[0].nodeValue : styleElement.children[0].data;\n      var preservedText = utils.getPreservedText(text, {\n        mediaQueries: options.preserveMediaQueries,\n        fontFaces: options.preserveFontFaces,\n        keyFrames: options.preserveKeyFrames,\n        pseudos: options.preservePseudos\n      }, juiceClient.ignoredPseudos);\n      if (preservedText) {\n        if (usingParse5) {\n          styleElement.childNodes[0].nodeValue = preservedText;\n        } else {\n          styleElement.children[0].data = preservedText;\n        }\n      } else {\n        $(styleElement).remove();\n      }\n    }\n    $(styleElement).removeAttr('data-embed');\n  });\n  return results;\n}\n\nfunction extractCssFromDocument($, options) {\n  var results = getStylesData($, options);\n  var css = results.join('\\n');\n  return css;\n}\n\nreturn juiceClient;\n\n};\n",
    "'use strict';\n\nmodule.exports = exports = Property;\n\n/**\n * Module dependencies.\n */\n\nvar utils = require('./utils');\n\n/**\n * CSS property constructor.\n *\n * @param {String} property\n * @param {String} value\n * @param {Selector} selector the property originates from\n * @param {Integer} priority 0 for normal properties, 2 for !important properties.\n * @param {Array} additional array of integers representing more detailed priorities (sorting)\n * @api public\n */\n\nfunction Property(prop, value, selector, priority, additionalPriority) {\n  this.prop = prop;\n  this.value = value;\n  this.selector = selector;\n  this.priority = priority || 0;\n  this.additionalPriority = additionalPriority || [];\n}\n\n/**\n * Compares with another Property based on Selector#specificity.\n *\n * @api public\n */\n\nProperty.prototype.compareFunc = function(property) {\n  var a = [];\n  a.push.apply(a, this.selector.specificity());\n  a.push.apply(a, this.additionalPriority);\n  a[0] += this.priority;\n  var b = [];\n  b.push.apply(b, property.selector.specificity());\n  b.push.apply(b, property.additionalPriority);\n  b[0] += property.priority;\n  return utils.compareFunc(a, b);\n};\n\nProperty.prototype.compare = function(property) {\n  var winner = this.compareFunc(property);\n  if (winner === 1) {\n    return this;\n  }\n  return property;\n};\n\n\n/**\n * Returns CSS property\n *\n * @api public\n */\n\nProperty.prototype.toString = function() {\n  return this.prop + ': ' + this.value.replace(/['\"]+/g, '') + ';';\n};\n",
    "'use strict';\n\nvar parser = require('slick/parser');\n\nmodule.exports = exports = Selector;\n\n/**\n * CSS selector constructor.\n *\n * @param {String} selector text\n * @param {Array} optionally, precalculated specificity\n * @api public\n */\n\nfunction Selector(text, styleAttribute) {\n  this.text = text;\n  this.spec = undefined;\n  this.styleAttribute = styleAttribute || false;\n}\n\n/**\n * Get parsed selector.\n *\n * @api public\n */\n\nSelector.prototype.parsed = function() {\n  if (!this.tokens) { this.tokens = parse(this.text); }\n  return this.tokens;\n};\n\n/**\n * Lazy specificity getter\n *\n * @api public\n */\n\nSelector.prototype.specificity = function() {\n  var styleAttribute = this.styleAttribute;\n  if (!this.spec) { this.spec = specificity(this.text, this.parsed()); }\n  return this.spec;\n\n  function specificity(text, parsed) {\n    var expressions = parsed || parse(text);\n    var spec = [styleAttribute ? 1 : 0, 0, 0, 0];\n    var nots = [];\n\n    for (var i = 0; i < expressions.length; i++) {\n      var expression = expressions[i];\n      var pseudos = expression.pseudos;\n\n      // id awards a point in the second column\n      if (expression.id) { spec[1]++; }\n\n      // classes and attributes award a point each in the third column\n      if (expression.attributes) { spec[2] += expression.attributes.length; }\n      if (expression.classList) { spec[2] += expression.classList.length; }\n\n      // tag awards a point in the fourth column\n      if (expression.tag && expression.tag !== '*') { spec[3]++; }\n\n      // pseudos award a point each in the fourth column\n      if (pseudos) {\n        spec[3] += pseudos.length;\n\n        for (var p = 0; p < pseudos.length; p++) {\n          if (pseudos[p].name === 'not') {\n            nots.push(pseudos[p].value);\n            spec[3]--;\n          }\n        }\n      }\n    }\n\n    for (var ii = nots.length; ii--;) {\n      var not = specificity(nots[ii]);\n      for (var jj = 4; jj--;) { spec[jj] += not[jj]; }\n    }\n\n    return spec;\n  }\n};\n\n/**\n * Parses a selector and returns the tokens.\n *\n * @param {String} selector\n * @api private.\n */\n\nfunction parse(text) {\n  try {\n    return parser(text)[0];\n  } catch (e) {\n    return [];\n  }\n}\n",
    "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar mensch = require('mensch');\nvar Selector = require('./selector');\nvar Property = require('./property');\n\nexports.Selector = Selector;\nexports.Property = Property;\n\n/**\n * Returns an array of the selectors.\n *\n * @license Sizzle CSS Selector Engine - MIT\n * @param {String} selectorText from mensch\n * @api public\n */\n\nexports.extract = function extract(selectorText) {\n  var attr = 0;\n  var sels = [];\n  var sel = '';\n\n  for (var i = 0, l = selectorText.length; i < l; i++) {\n    var c = selectorText.charAt(i);\n\n    if (attr) {\n      if (']' === c || ')' === c) { attr--; }\n      sel += c;\n    } else {\n      if (',' === c) {\n        sels.push(sel);\n        sel = '';\n      } else {\n        if ('[' === c || '(' === c) { attr++; }\n        if (sel.length || (c !== ',' && c !== '\\n' && c !== ' ')) { sel += c; }\n      }\n    }\n  }\n\n  if (sel.length) {\n    sels.push(sel);\n  }\n\n  return sels;\n};\n\n/**\n * Returns a parse tree for a CSS source.\n * If it encounters multiple selectors separated by a comma, it splits the\n * tree.\n *\n * @param {String} css source\n * @api public\n */\n\nexports.parseCSS = function(css) {\n  var parsed = mensch.parse(css, {position: true, comments: true});\n  var rules = typeof parsed.stylesheet != 'undefined' && parsed.stylesheet.rules ? parsed.stylesheet.rules : [];\n  var ret = [];\n\n  for (var i = 0, l = rules.length; i < l; i++) {\n    if (rules[i].type == 'rule') {\n      var rule = rules[i];\n      var selectors = rule.selectors;\n\n      for (var ii = 0, ll = selectors.length; ii < ll; ii++) {\n        ret.push([selectors[ii], rule.declarations]);\n      }\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Returns preserved text for a CSS source.\n *\n * @param {String} css source\n * @param {Object} options\n * @api public\n */\n\nexports.getPreservedText = function(css, options, ignoredPseudos) {\n  var parsed = mensch.parse(css, {position: true, comments: true});\n  var rules = typeof parsed.stylesheet != 'undefined' && parsed.stylesheet.rules ? parsed.stylesheet.rules : [];\n  var preserved = [];\n  var lastStart = null;\n\n  for (var i = rules.length - 1; i >= 0; i--) {\n    if ((options.fontFaces && rules[i].type === 'font-face') ||\n        (options.mediaQueries && rules[i].type === 'media') ||\n        (options.keyFrames && rules[i].type === 'keyframes') ||\n        (options.pseudos && rules[i].selectors && this.matchesPseudo(rules[i].selectors[0], ignoredPseudos))) {\n      preserved.unshift(\n        mensch.stringify(\n          { stylesheet: { rules: [ rules[i] ] }},\n          { comments: false, indentation: '  ' }\n        )\n      );\n    }\n    lastStart = rules[i].position.start;\n  }\n\n  if (preserved.length === 0) {\n    return false;\n  }\n  return '\\n' + preserved.join('\\n') + '\\n';\n};\n\nexports.normalizeLineEndings = function(text) {\n  return text.replace(/\\r\\n/g, '\\n').replace(/\\n/g, '\\r\\n');\n};\n\nexports.matchesPseudo = function(needle, haystack) {\n  return haystack.find(function (element) {\n    return needle.indexOf(element) > -1;\n  })\n}\n\n/**\n * Compares two specificity vectors, returning the winning one.\n *\n * @param {Array} vector a\n * @param {Array} vector b\n * @return {Array}\n * @api public\n */\n\nexports.compareFunc = function(a, b) {\n  var min = Math.min(a.length, b.length);\n  for (var i = 0; i < min; i++) {\n    if (a[i] === b[i]) { continue; }\n    if (a[i] > b[i]) { return 1; }\n    return -1;\n  }\n\n  return a.length - b.length;\n};\n\nexports.compare = function(a, b) {\n  return exports.compareFunc(a, b) == 1 ? a : b;\n};\n\nexports.getDefaultOptions = function(options) {\n  var result = Object.assign({\n    extraCss: '',\n    insertPreservedExtraCss: true,\n    applyStyleTags: true,\n    removeStyleTags: true,\n    preserveMediaQueries: true,\n    preserveFontFaces: true,\n    preserveKeyFrames: true,\n    preservePseudos: true,\n    applyWidthAttributes: true,\n    applyHeightAttributes: true,\n    applyAttributesTableElements: true,\n    url: ''\n  }, options);\n\n  result.webResources = result.webResources || {};\n\n  return result;\n};\n",
    "/**\n * lodash 4.0.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @type {Function}\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => logs the number of milliseconds it took for the deferred function to be invoked\n */\nvar now = Date.now;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide an options object to indicate whether `func` should be invoked on\n * the leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent calls\n * to the debounced function return the result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n * on the trailing edge of the timeout only if the debounced function is\n * invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.leading=false] Specify invoking on the leading\n *  edge of the timeout.\n * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n *  delayed before it's invoked.\n * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n *  edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var args,\n      maxTimeoutId,\n      result,\n      stamp,\n      thisArg,\n      timeoutId,\n      trailingCall,\n      lastCalled = 0,\n      leading = false,\n      maxWait = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxWait = 'maxWait' in options && nativeMax(toNumber(options.maxWait) || 0, wait);\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    if (maxTimeoutId) {\n      clearTimeout(maxTimeoutId);\n    }\n    lastCalled = 0;\n    args = maxTimeoutId = thisArg = timeoutId = trailingCall = undefined;\n  }\n\n  function complete(isCalled, id) {\n    if (id) {\n      clearTimeout(id);\n    }\n    maxTimeoutId = timeoutId = trailingCall = undefined;\n    if (isCalled) {\n      lastCalled = now();\n      result = func.apply(thisArg, args);\n      if (!timeoutId && !maxTimeoutId) {\n        args = thisArg = undefined;\n      }\n    }\n  }\n\n  function delayed() {\n    var remaining = wait - (now() - stamp);\n    if (remaining <= 0 || remaining > wait) {\n      complete(trailingCall, maxTimeoutId);\n    } else {\n      timeoutId = setTimeout(delayed, remaining);\n    }\n  }\n\n  function flush() {\n    if ((timeoutId && trailingCall) || (maxTimeoutId && trailing)) {\n      result = func.apply(thisArg, args);\n    }\n    cancel();\n    return result;\n  }\n\n  function maxDelayed() {\n    complete(trailing, timeoutId);\n  }\n\n  function debounced() {\n    args = arguments;\n    stamp = now();\n    thisArg = this;\n    trailingCall = trailing && (timeoutId || !leading);\n\n    if (maxWait === false) {\n      var leadingCall = leading && !timeoutId;\n    } else {\n      if (!lastCalled && !maxTimeoutId && !leading) {\n        lastCalled = stamp;\n      }\n      var remaining = maxWait - (stamp - lastCalled);\n\n      var isCalled = (remaining <= 0 || remaining > maxWait) &&\n        (leading || maxTimeoutId);\n\n      if (isCalled) {\n        if (maxTimeoutId) {\n          maxTimeoutId = clearTimeout(maxTimeoutId);\n        }\n        lastCalled = stamp;\n        result = func.apply(thisArg, args);\n      }\n      else if (!maxTimeoutId) {\n        maxTimeoutId = setTimeout(maxDelayed, remaining);\n      }\n    }\n    if (isCalled && timeoutId) {\n      timeoutId = clearTimeout(timeoutId);\n    }\n    else if (!timeoutId && wait !== maxWait) {\n      timeoutId = setTimeout(delayed, wait);\n    }\n    if (leadingCall) {\n      isCalled = true;\n      result = func.apply(thisArg, args);\n    }\n    if (isCalled && !timeoutId && !maxTimeoutId) {\n      args = thisArg = undefined;\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3);\n * // => 3\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3');\n * // => 3\n */\nfunction toNumber(value) {\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n",
    "module.exports = {\n    lex  : require('./lib/lexer'),\n    parse: require('./lib/parser'),\n    stringify: require('./lib/stringify')\n};\n",
    "exports = module.exports = debug;\n\nfunction debug(label) {\n  return _debug.bind(null, label);\n}\n\nfunction _debug(label) {\n  var args = [].slice.call(arguments, 1);\n  args.unshift('[' + label + ']');\n  process.stderr.write(args.join(' ') + '\\n');\n}",
    "var DEBUG = false; // `true` to print debugging info.\nvar TIMER = false; // `true` to time calls to `lex()` and print the results.\n\nvar debug = require('./debug')('lex');\n\nexports = module.exports = lex;\n\n/**\n * Convert a CSS string into an array of lexical tokens.\n *\n * @param {String} css CSS\n * @returns {Array} lexical tokens\n */\nfunction lex(css) {\n  var start; // Debug timer start.\n\n  var buffer = '';      // Character accumulator\n  var ch;               // Current character\n  var column = 0;       // Current source column number\n  var cursor = -1;      // Current source cursor position\n  var depth = 0;        // Current nesting depth\n  var line = 1;         // Current source line number\n  var state = 'before-selector'; // Current state\n  var stack = [state];  // State stack\n  var token = {};       // Current token\n  var tokens = [];      // Token accumulator\n\n  // Supported @-rules, in roughly descending order of usage probability.\n  var atRules = [\n    'media',\n    'keyframes',\n    { name: '-webkit-keyframes', type: 'keyframes', prefix: '-webkit-' },\n    { name: '-moz-keyframes', type: 'keyframes', prefix: '-moz-' },\n    { name: '-ms-keyframes', type: 'keyframes', prefix: '-ms-' },\n    { name: '-o-keyframes', type: 'keyframes', prefix: '-o-' },\n    'font-face',\n    { name: 'import', state: 'before-at-value' },\n    { name: 'charset', state: 'before-at-value' },\n    'supports',\n    'viewport',\n    { name: 'namespace', state: 'before-at-value' },\n    'document',\n    { name: '-moz-document', type: 'document', prefix: '-moz-' },\n    'page'\n  ];\n\n  // -- Functions ------------------------------------------------------------\n\n  /**\n   * Advance the character cursor and return the next character.\n   *\n   * @returns {String} The next character.\n   */\n  function getCh() {\n    skip();\n    return css[cursor];\n  }\n\n  /**\n   * Return the state at the given index in the stack.\n   * The stack is LIFO so indexing is from the right.\n   *\n   * @param {Number} [index=0] Index to return.\n   * @returns {String} state\n   */\n  function getState(index) {\n    return index ? stack[stack.length - 1 - index] : state;\n  }\n\n  /**\n   * Look ahead for a string beginning from the next position. The string\n   * being looked for must start at the next position.\n   *\n   * @param {String} str The string to look for.\n   * @returns {Boolean} Whether the string was found.\n   */\n  function isNextString(str) {\n    var start = cursor + 1;\n    return (str === css.slice(start, start + str.length));\n  }\n\n  /**\n   * Find the start position of a substring beginning from the next\n   * position. The string being looked for may begin anywhere.\n   *\n   * @param {String} str The substring to look for.\n   * @returns {Number|false} The position, or `false` if not found.\n   */\n  function find(str) {\n    var pos = css.slice(cursor).indexOf(str);\n\n    return pos > 0 ? pos : false;\n  }\n\n  /**\n   * Determine whether a character is next.\n   *\n   * @param {String} ch Character.\n   * @returns {Boolean} Whether the character is next.\n   */\n  function isNextChar(ch) {\n    return ch === peek(1);\n  }\n\n  /**\n   * Return the character at the given cursor offset. The offset is relative\n   * to the cursor, so negative values move backwards.\n   *\n   * @param {Number} [offset=1] Cursor offset.\n   * @returns {String} Character.\n   */\n  function peek(offset) {\n    return css[cursor + (offset || 1)];\n  }\n\n  /**\n   * Remove the current state from the stack and set the new current state.\n   *\n   * @returns {String} The removed state.\n   */\n  function popState() {\n    var removed = stack.pop();\n    state = stack[stack.length - 1];\n\n    return removed;\n  }\n\n  /**\n   * Set the current state and add it to the stack.\n   *\n   * @param {String} newState The new state.\n   * @returns {Number} The new stack length.\n   */\n  function pushState(newState) {\n    state = newState;\n    stack.push(state);\n\n    return stack.length;\n  }\n\n  /**\n   * Replace the current state with a new state.\n   *\n   * @param {String} newState The new state.\n   * @returns {String} The replaced state.\n   */\n  function replaceState(newState) {\n    var previousState = state;\n    stack[stack.length - 1] = state = newState;\n\n    return previousState;\n  }\n\n  /**\n   * Move the character cursor. Positive numbers move the cursor forward.\n   * Negative numbers are not supported!\n   *\n   * @param {Number} [n=1] Number of characters to skip.\n   */\n  function skip(n) {\n    if ((n || 1) == 1) {\n      if (css[cursor] == '\\n') {\n        line++;\n        column = 1;\n      } else {\n        column++;\n      }\n      cursor++;\n    } else {\n      var skipStr = css.slice(cursor, cursor + n).split('\\n');\n      if (skipStr.length > 1) {\n        line += skipStr.length - 1;\n        column = 1;\n      }\n      column += skipStr[skipStr.length - 1].length;\n      cursor = cursor + n;\n    }\n  }\n\n  /**\n   * Add the current token to the pile and reset the buffer.\n   */\n  function addToken() {\n    token.end = {\n      line: line,\n      col: column\n    };\n\n    DEBUG && debug('addToken:', JSON.stringify(token, null, 2));\n\n    tokens.push(token);\n\n    buffer = '';\n    token = {};\n  }\n\n  /**\n   * Set the current token.\n   *\n   * @param {String} type Token type.\n   */\n  function initializeToken(type) {\n    token = {\n      type: type,\n      start: {\n        line: line,\n        col : column\n      }\n    };\n  }\n\n  // -- Main Loop ------------------------------------------------------------\n\n  /*\n  The main loop is a state machine that reads in one character at a time,\n  and determines what to do based on the current state and character.\n  This is implemented as a series of nested `switch` statements and the\n  case orders have been mildly optimized based on rough probabilities\n  calculated by processing a small sample of real-world CSS.\n\n  Further optimization (such as a dispatch table) shouldn't be necessary\n  since the total number of cases is very low.\n  */\n\n  TIMER && (start = Date.now());\n\n  while (ch = getCh()) {\n    DEBUG && debug(ch, getState());\n\n    // column += 1;\n\n    switch (ch) {\n    // Space\n    case ' ':\n      switch (getState()) {\n      case 'selector':\n      case 'value':\n      case 'value-paren':\n      case 'at-group':\n      case 'at-value':\n      case 'comment':\n      case 'double-string':\n      case 'single-string':\n        buffer += ch;\n        break;\n      }\n      break;\n\n    // Newline or tab\n    case '\\n':\n    case '\\t':\n    case '\\r':\n    case '\\f':\n      switch (getState()) {\n      case 'value':\n      case 'value-paren':\n      case 'at-group':\n      case 'comment':\n      case 'single-string':\n      case 'double-string':\n      case 'selector':\n        buffer += ch;\n        break;\n\n      case 'at-value':\n        // Tokenize an @-rule if a semi-colon was omitted.\n        if ('\\n' === ch) {\n          token.value = buffer.trim();\n          addToken();\n          popState();\n        }\n        break;\n      }\n\n      // if ('\\n' === ch) {\n      //   column = 0;\n      //   line += 1;\n      // }\n      break;\n\n    case ':':\n      switch (getState()) {\n      case 'name':\n        token.name = buffer.trim();\n        buffer = '';\n\n        replaceState('before-value');\n        break;\n\n      case 'before-selector':\n        buffer += ch;\n\n        initializeToken('selector');\n        pushState('selector');\n        break;\n\n      case 'before-value':\n        replaceState('value');\n        buffer += ch;\n        break;\n\n      default:\n        buffer += ch;\n        break;\n      }\n      break;\n\n    case ';':\n      switch (getState()) {\n      case 'name':\n      case 'before-value':\n      case 'value':\n        // Tokenize a declaration\n        // if value is empty skip the declaration\n        if (buffer.trim().length > 0) {\n          token.value = buffer.trim(),\n          addToken();\n        }\n        replaceState('before-name');\n        break;\n\n      case 'value-paren':\n        // Insignificant semi-colon\n        buffer += ch;\n        break;\n\n      case 'at-value':\n        // Tokenize an @-rule\n        token.value = buffer.trim();\n        addToken();\n        popState();\n        break;\n\n      case 'before-name':\n        // Extraneous semi-colon\n        break;\n\n      default:\n        buffer += ch;\n        break;\n      }\n      break;\n\n    case '{':\n      switch (getState()) {\n      case 'selector':\n        // If the sequence is `\\{` then assume that the brace should be escaped.\n        if (peek(-1) === '\\\\') {\n            buffer += ch;\n            break;\n        }\n\n        // Tokenize a selector\n        token.text = buffer.trim();\n        addToken();\n        replaceState('before-name');\n        depth = depth + 1;\n        break;\n\n      case 'at-group':\n        // Tokenize an @-group\n        token.name = buffer.trim();\n\n        // XXX: @-rules are starting to get hairy\n        switch (token.type) {\n        case 'font-face':\n        case 'viewport' :\n        case 'page'     :\n          pushState('before-name');\n          break;\n\n        default:\n          pushState('before-selector');\n        }\n\n        addToken();\n        depth = depth + 1;\n        break;\n\n      case 'name':\n      case 'at-rule':\n        // Tokenize a declaration or an @-rule\n        token.name = buffer.trim();\n        addToken();\n        pushState('before-name');\n        depth = depth + 1;\n        break;\n\n      case 'comment':\n      case 'double-string':\n      case 'single-string':\n        // Ignore braces in comments and strings\n        buffer += ch;\n        break;\n      case 'before-value':\n        replaceState('value');\n        buffer += ch;\n        break;\n      }\n\n      break;\n\n    case '}':\n      switch (getState()) {\n      case 'before-name':\n      case 'name':\n      case 'before-value':\n      case 'value':\n        // If the buffer contains anything, it is a value\n        if (buffer) {\n          token.value = buffer.trim();\n        }\n\n        // If the current token has a name and a value it should be tokenized.\n        if (token.name && token.value) {\n          addToken();\n        }\n\n        // Leave the block\n        initializeToken('end');\n        addToken();\n        popState();\n\n        // We might need to leave again.\n        // XXX: What about 3 levels deep?\n        if ('at-group' === getState()) {\n          initializeToken('at-group-end');\n          addToken();\n          popState();\n        }\n        \n        if (depth > 0) {\n          depth = depth - 1;\n        }\n\n        break;\n\n      case 'at-group':\n      case 'before-selector':\n      case 'selector':\n        // If the sequence is `\\}` then assume that the brace should be escaped.\n        if (peek(-1) === '\\\\') {\n            buffer += ch;\n            break;\n        }\n\n        if (depth > 0) {\n          // Leave block if in an at-group\n          if ('at-group' === getState(1)) {\n            initializeToken('at-group-end');\n            addToken();\n          }\n        }\n\n        if (depth > 1) {\n          popState();\n        }\n\n        if (depth > 0) {\n          depth = depth - 1;\n        }\n        break;\n\n      case 'double-string':\n      case 'single-string':\n      case 'comment':\n        // Ignore braces in comments and strings.\n        buffer += ch;\n        break;\n      }\n\n      break;\n\n    // Strings\n    case '\"':\n    case \"'\":\n      switch (getState()) {\n      case 'double-string':\n        if ('\"' === ch && '\\\\' !== peek(-1)) {\n          popState();\n        }\n        break;\n\n      case 'single-string':\n        if (\"'\" === ch && '\\\\' !== peek(-1)) {\n          popState();\n        }\n        break;\n\n      case 'before-at-value':\n        replaceState('at-value');\n        pushState('\"' === ch ? 'double-string' : 'single-string');\n        break;\n\n      case 'before-value':\n        replaceState('value');\n        pushState('\"' === ch ? 'double-string' : 'single-string');\n        break;\n\n      case 'comment':\n        // Ignore strings within comments.\n        break;\n\n      default:\n        if ('\\\\' !== peek(-1)) {\n          pushState('\"' === ch ? 'double-string' : 'single-string');\n        }\n      }\n\n      buffer += ch;\n      break;\n\n    // Comments\n    case '/':\n      switch (getState()) {\n      case 'comment':\n      case 'double-string':\n      case 'single-string':\n        // Ignore\n        buffer += ch;\n        break;\n\n      case 'before-value':\n      case 'selector':\n      case 'name':\n      case 'value':\n        if (isNextChar('*')) {\n          // Ignore comments in selectors, properties and values. They are\n          // difficult to represent in the AST.\n          var pos = find('*/');\n\n          if (pos) {\n            skip(pos + 1);\n          }\n        } else {\n          if (getState() == 'before-value') replaceState('value');\n          buffer += ch;\n        }\n        break;\n\n      default:\n        if (isNextChar('*')) {\n          // Create a comment token\n          initializeToken('comment');\n          pushState('comment');\n          skip();\n        }\n        else {\n          buffer += ch;\n        }\n        break;\n      }\n      break;\n\n    // Comment end or universal selector\n    case '*':\n      switch (getState()) {\n      case 'comment':\n        if (isNextChar('/')) {\n          // Tokenize a comment\n          token.text = buffer; // Don't trim()!\n          skip();\n          addToken();\n          popState();\n        }\n        else {\n          buffer += ch;\n        }\n        break;\n\n      case 'before-selector':\n        buffer += ch;\n        initializeToken('selector');\n        pushState('selector');\n        break;\n\n      case 'before-value':\n        replaceState('value');\n        buffer += ch;\n        break;\n\n      default:\n        buffer += ch;\n      }\n      break;\n\n    // @-rules\n    case '@':\n      switch (getState()) {\n      case 'comment':\n      case 'double-string':\n      case 'single-string':\n        buffer += ch;\n        break;\n      case 'before-value':\n        replaceState('value');\n        buffer += ch;\n        break;\n\n      default:\n        // Iterate over the supported @-rules and attempt to tokenize one.\n        var tokenized = false;\n        var name;\n        var rule;\n\n        for (var j = 0, len = atRules.length; !tokenized && j < len; ++j) {\n          rule = atRules[j];\n          name = rule.name || rule;\n\n          if (!isNextString(name)) { continue; }\n\n          tokenized = true;\n\n          initializeToken(name);\n          pushState(rule.state || 'at-group');\n          skip(name.length);\n\n          if (rule.prefix) {\n            token.prefix = rule.prefix;\n          }\n\n          if (rule.type) {\n            token.type = rule.type;\n          }\n        }\n\n        if (!tokenized) {\n          // Keep on truckin' America!\n          buffer += ch;\n        }\n        break;\n      }\n      break;\n\n    // Parentheses are tracked to disambiguate semi-colons, such as within a\n    // data URI.\n    case '(':\n      switch (getState()) {\n      case 'value':\n        pushState('value-paren');\n        break;\n      case 'before-value':\n        replaceState('value');\n        break;\n      }\n\n      buffer += ch;\n      break;\n\n    case ')':\n      switch (getState()) {\n      case 'value-paren':\n        popState();\n        break;\n      case 'before-value':\n        replaceState('value');\n        break;\n      }\n\n      buffer += ch;\n      break;\n\n    default:\n      switch (getState()) {\n      case 'before-selector':\n        initializeToken('selector');\n        pushState('selector');\n        break;\n\n      case 'before-name':\n        initializeToken('property');\n        replaceState('name');\n        break;\n\n      case 'before-value':\n        replaceState('value');\n        break;\n\n      case 'before-at-value':\n        replaceState('at-value');\n        break;\n      }\n\n      buffer += ch;\n      break;\n    }\n  }\n\n  TIMER && debug('ran in', (Date.now() - start) + 'ms');\n\n  return tokens;\n}\n",
    "var DEBUG = false; // `true` to print debugging info.\nvar TIMER = false; // `true` to time calls to `parse()` and print the results.\n\nvar debug = require('./debug')('parse');\nvar lex = require('./lexer');\n\nexports = module.exports = parse;\n\nvar _comments;   // Whether comments are allowed.\nvar _depth;      // Current block nesting depth.\nvar _position;   // Whether to include line/column position.\nvar _tokens;     // Array of lexical tokens.\n\n/**\n * Convert a CSS string or array of lexical tokens into a `stringify`-able AST.\n *\n * @param {String} css CSS string or array of lexical token\n * @param {Object} [options]\n * @param {Boolean} [options.comments=false] allow comment nodes in the AST\n * @returns {Object} `stringify`-able AST\n */\nfunction parse(css, options) {\n  var start; // Debug timer start.\n\n  options || (options = {});\n  _comments = !!options.comments;\n  _position = !!options.position;\n\n  _depth = 0;\n\n  // Operate on a copy of the given tokens, or the lex()'d CSS string.\n  _tokens = Array.isArray(css) ? css.slice() : lex(css);\n\n  var rule;\n  var rules = [];\n  var token;\n\n  TIMER && (start = Date.now());\n\n  while ((token = next())) {\n    rule = parseToken(token);\n    rule && rules.push(rule);\n  }\n\n  TIMER && debug('ran in', (Date.now() - start) + 'ms');\n\n  return {\n    type: \"stylesheet\",\n    stylesheet: {\n      rules: rules\n    }\n  };\n}\n\n// -- Functions --------------------------------------------------------------\n\n/**\n * Build an AST node from a lexical token.\n *\n * @param {Object} token lexical token\n * @param {Object} [override] object hash of properties that override those\n *   already in the token, or that will be added to the token.\n * @returns {Object} AST node\n */\nfunction astNode(token, override) {\n  override || (override = {});\n\n  var key;\n  var keys = ['type', 'name', 'value'];\n  var node = {};\n\n  // Avoiding [].forEach for performance reasons.\n  for (var i = 0; i < keys.length; ++i) {\n    key = keys[i];\n\n    if (token[key]) {\n      node[key] = override[key] || token[key];\n    }\n  }\n\n  keys = Object.keys(override);\n\n  for (i = 0; i < keys.length; ++i) {\n    key = keys[i];\n\n    if (!node[key]) {\n      node[key] = override[key];\n    }\n  }\n\n  if (_position) {\n    node.position = {\n      start: token.start,\n      end: token.end\n    };\n  }\n\n  DEBUG && debug('astNode:', JSON.stringify(node, null, 2));\n\n  return node;\n}\n\n/**\n * Remove a lexical token from the stack and return the removed token.\n *\n * @returns {Object} lexical token\n */\nfunction next() {\n  var token = _tokens.shift();\n  DEBUG && debug('next:', JSON.stringify(token, null, 2));\n  return token;\n}\n\n// -- Parse* Functions ---------------------------------------------------------\n\n/**\n * Convert an @-group lexical token to an AST node.\n *\n * @param {Object} token @-group lexical token\n * @returns {Object} @-group AST node\n */\nfunction parseAtGroup(token) {\n  _depth = _depth + 1;\n\n  // As the @-group token is assembled, relevant token values are captured here\n  // temporarily. They will later be used as `tokenize()` overrides.\n  var overrides = {};\n\n  switch (token.type) {\n  case 'font-face':\n  case 'viewport' :\n    overrides.declarations = parseDeclarations();\n    break;\n\n  case 'page':\n    overrides.prefix = token.prefix;\n    overrides.declarations = parseDeclarations();\n    break;\n\n  default:\n    overrides.prefix = token.prefix;\n    overrides.rules = parseRules();\n  }\n\n  return astNode(token, overrides);\n}\n\n/**\n * Convert an @import lexical token to an AST node.\n *\n * @param {Object} token @import lexical token\n * @returns {Object} @import AST node\n */\nfunction parseAtImport(token) {\n  return astNode(token);\n}\n\n/**\n * Convert an @charset token to an AST node.\n *\n * @param {Object} token @charset lexical token\n * @returns {Object} @charset node\n */\nfunction parseCharset(token) {\n  return astNode(token);\n}\n\n/**\n * Convert a comment token to an AST Node.\n *\n * @param {Object} token comment lexical token\n * @returns {Object} comment node\n */\nfunction parseComment(token) {\n  return astNode(token, {text: token.text});\n}\n\nfunction parseNamespace(token) {\n  return astNode(token);\n}\n\n/**\n * Convert a property lexical token to a property AST node.\n *\n * @returns {Object} property node\n */\nfunction parseProperty(token) {\n  return astNode(token);\n}\n\n/**\n * Convert a selector lexical token to a selector AST node.\n *\n * @param {Object} token selector lexical token\n * @returns {Object} selector node\n */\nfunction parseSelector(token) {\n  function trim(str) {\n    return str.trim();\n  }\n\n  return astNode(token, {\n    type: 'rule',\n    selectors: token.text.split(',').map(trim),\n    declarations: parseDeclarations(token)\n  });\n}\n\n/**\n * Convert a lexical token to an AST node.\n *\n * @returns {Object|undefined} AST node\n */\nfunction parseToken(token) {\n  switch (token.type) {\n  // Cases are listed in roughly descending order of probability.\n  case 'property': return parseProperty(token);\n\n  case 'selector': return parseSelector(token);\n\n  case 'at-group-end': _depth = _depth - 1; return;\n\n  case 'media'     :\n  case 'keyframes' :return parseAtGroup(token);\n\n  case 'comment': if (_comments) { return parseComment(token); } break;\n\n  case 'charset': return parseCharset(token);\n  case 'import': return parseAtImport(token);\n\n  case 'namespace': return parseNamespace(token);\n\n  case 'font-face':\n  case 'supports' :\n  case 'viewport' :\n  case 'document' :\n  case 'page'     : return parseAtGroup(token);\n  }\n\n  DEBUG && debug('parseToken: unexpected token:', JSON.stringify(token));\n}\n\n// -- Parse Helper Functions ---------------------------------------------------\n\n/**\n * Iteratively parses lexical tokens from the stack into AST nodes until a\n * conditional function returns `false`, at which point iteration terminates\n * and any AST nodes collected are returned.\n *\n * @param {Function} conditionFn\n *   @param {Object} token the lexical token being parsed\n *   @returns {Boolean} `true` if the token should be parsed, `false` otherwise\n * @return {Array} AST nodes\n */\nfunction parseTokensWhile(conditionFn) {\n  var node;\n  var nodes = [];\n  var token;\n\n  while ((token = next()) && (conditionFn && conditionFn(token))) {\n    node = parseToken(token);\n    node && nodes.push(node);\n  }\n\n  // Place an unused non-`end` lexical token back onto the stack.\n  if (token && token.type !== 'end') {\n    _tokens.unshift(token);\n  }\n\n  return nodes;\n}\n\n/**\n * Convert a series of tokens into a sequence of declaration AST nodes.\n *\n * @returns {Array} declaration nodes\n */\nfunction parseDeclarations() {\n  return parseTokensWhile(function (token) {\n    return (token.type === 'property' || token.type === 'comment');\n  });\n}\n\n/**\n * Convert a series of tokens into a sequence of rule nodes.\n *\n * @returns {Array} rule nodes\n */\nfunction parseRules() {\n  return parseTokensWhile(function () { return _depth; });\n}\n",
    "var DEBUG = false; // `true` to print debugging info.\nvar TIMER = false; // `true` to time calls to `stringify()` and print the results.\n\nvar debug = require('./debug')('stringify');\n\nvar _comments;      // Whether comments are allowed in the stringified CSS.\nvar _compress;      // Whether the stringified CSS should be compressed.\nvar _indentation;   // Indentation option value.\nvar _level;         // Current indentation level.\nvar _n;             // Compression-aware newline character.\nvar _s;             // Compression-aware space character.\n\nexports = module.exports = stringify;\n\n/**\n * Convert a `stringify`-able AST into a CSS string.\n *\n * @param {Object} `stringify`-able AST\n * @param {Object} [options]\n * @param {Boolean} [options.comments=false] allow comments in the CSS\n * @param {Boolean} [options.compress=false] compress whitespace\n * @param {String} [options.indentation=''] indentation sequence\n * @returns {String} CSS\n */\nfunction stringify(ast, options) {\n  var start; // Debug timer start.\n\n  options || (options = {});\n  _indentation = options.indentation || '';\n  _compress = !!options.compress;\n  _comments = !!options.comments;\n  _level = 1;\n\n  if (_compress) {\n    _n = _s = '';\n  } else {\n    _n = '\\n';\n    _s = ' ';\n  }\n\n  TIMER && (start = Date.now());\n\n  var css = reduce(ast.stylesheet.rules, stringifyNode).join('\\n').trim();\n\n  TIMER && debug('ran in', (Date.now() - start) + 'ms');\n\n  return css;\n}\n\n// -- Functions --------------------------------------------------------------\n\n/**\n * Modify the indentation level, or return a compression-aware sequence of\n * spaces equal to the current indentation level.\n *\n * @param {Number} [level=undefined] indentation level modifier\n * @returns {String} sequence of spaces\n */\nfunction indent(level) {\n  if (level) {\n    _level += level;\n    return;\n  }\n\n  if (_compress) { return ''; }\n\n  return Array(_level).join(_indentation || '');\n}\n\n// -- Stringify Functions ------------------------------------------------------\n\n/**\n * Stringify an @-rule AST node.\n *\n * Use `stringifyAtGroup()` when dealing with @-groups that may contain blocks\n * such as @media.\n *\n * @param {String} type @-rule type. E.g., import, charset\n * @returns {String} Stringified @-rule\n */\nfunction stringifyAtRule(node) {\n  return '@' + node.type + ' ' + node.value + ';' + _n;\n}\n\n/**\n * Stringify an @-group AST node.\n *\n * Use `stringifyAtRule()` when dealing with @-rules that may not contain blocks\n * such as @import.\n *\n * @param {Object} node @-group AST node\n * @returns {String}\n */\nfunction stringifyAtGroup(node) {\n  var label = '';\n  var prefix = node.prefix || '';\n\n  if (node.name) {\n    label = ' ' + node.name;\n  }\n\n  // FIXME: @-rule conditional logic is leaking everywhere.\n  var chomp = node.type !== 'page';\n\n  return '@' + prefix + node.type + label + _s + stringifyBlock(node, chomp) + _n;\n}\n\n/**\n * Stringify a comment AST node.\n *\n * @param {Object} node comment AST node\n * @returns {String}\n */\nfunction stringifyComment(node) {\n  if (!_comments) { return ''; }\n\n  return '/*' + (node.text || '') + '*/' + _n;\n}\n\n/**\n * Stringify a rule AST node.\n *\n * @param {Object} node rule AST node\n * @returns {String}\n */\nfunction stringifyRule(node) {\n  var label;\n\n  if (node.selectors) {\n    label = node.selectors.join(',' + _n);\n  } else {\n    label = '@' + node.type;\n    label += node.name ? ' ' + node.name : '';\n  }\n\n  return indent() + label + _s + stringifyBlock(node) + _n;\n}\n\n\n// -- Stringify Helper Functions -----------------------------------------------\n\n/**\n * Reduce an array by applying a function to each item and retaining the truthy\n * results.\n *\n * When `item.type` is `'comment'` `stringifyComment` will be applied instead.\n *\n * @param {Array} items array to reduce\n * @param {Function} fn function to call for each item in the array\n *   @returns {Mixed} Truthy values will be retained, falsy values omitted\n * @returns {Array} retained results\n */\nfunction reduce(items, fn) {\n  return items.reduce(function (results, item) {\n    var result = (item.type === 'comment') ? stringifyComment(item) : fn(item);\n    result && results.push(result);\n    return results;\n  }, []);\n}\n\n/**\n * Stringify an AST node with the assumption that it represents a block of\n * declarations or other @-group contents.\n *\n * @param {Object} node AST node\n * @returns {String}\n */\n// FIXME: chomp should not be a magic boolean parameter\nfunction stringifyBlock(node, chomp) {\n  var children = node.declarations;\n  var fn = stringifyDeclaration;\n\n  if (node.rules) {\n    children = node.rules;\n    fn = stringifyRule;\n  }\n\n  children = stringifyChildren(children, fn);\n  children && (children = _n + children + (chomp ? '' : _n));\n\n  return '{' + children + indent() + '}';\n}\n\n/**\n * Stringify an array of child AST nodes by calling the given stringify function\n * once for each child, and concatenating the results.\n *\n * @param {Array} children `node.rules` or `node.declarations`\n * @param {Function} fn stringify function\n * @returns {String}\n */\nfunction stringifyChildren(children, fn) {\n  if (!children) { return ''; }\n\n  indent(1);\n  var results = reduce(children, fn);\n  indent(-1);\n\n  if (!results.length) { return ''; }\n\n  return results.join(_n);\n}\n\n/**\n * Stringify a declaration AST node.\n *\n * @param {Object} node declaration AST node\n * @returns {String}\n */\nfunction stringifyDeclaration(node) {\n  if (node.type === 'property') {\n    return stringifyProperty(node);\n  }\n\n  DEBUG && debug('stringifyDeclaration: unexpected node:', JSON.stringify(node));\n}\n\n/**\n * Stringify an AST node.\n *\n * @param {Object} node AST node\n * @returns {String}\n */\nfunction stringifyNode(node) {\n  switch (node.type) {\n  // Cases are listed in roughly descending order of probability.\n  case 'rule': return stringifyRule(node);\n\n  case 'media'    :\n  case 'keyframes': return stringifyAtGroup(node);\n\n  case 'comment': return stringifyComment(node);\n\n  case 'import'   :\n  case 'charset'  :\n  case 'namespace': return stringifyAtRule(node);\n\n  case 'font-face':\n  case 'supports' :\n  case 'viewport' :\n  case 'document' :\n  case 'page'     : return stringifyAtGroup(node);\n  }\n\n  DEBUG && debug('stringifyNode: unexpected node: ' + JSON.stringify(node));\n}\n\n/**\n * Stringify an AST property node.\n *\n * @param {Object} node AST property node\n * @returns {String}\n */\nfunction stringifyProperty(node) {\n  var name = node.name ? node.name + ':' + _s : '';\n\n  return indent() + name + node.value + ';';\n}\n",
    "//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n(function() {\n  var _global = this;\n\n  // Unique ID creation requires a high quality random # generator.  We feature\n  // detect to determine the best RNG source, normalizing to a function that\n  // returns 128-bits of randomness, since that's what's usually required\n  var _rng;\n\n  // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html\n  //\n  // Moderately fast, high quality\n  if (typeof(_global.require) == 'function') {\n    try {\n      var _rb = _global.require('crypto').randomBytes;\n      _rng = _rb && function() {return _rb(16);};\n    } catch(e) {}\n  }\n\n  if (!_rng && _global.crypto && crypto.getRandomValues) {\n    // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n    //\n    // Moderately fast, high quality\n    var _rnds8 = new Uint8Array(16);\n    _rng = function whatwgRNG() {\n      crypto.getRandomValues(_rnds8);\n      return _rnds8;\n    };\n  }\n\n  if (!_rng) {\n    // Math.random()-based (RNG)\n    //\n    // If all else fails, use Math.random().  It's fast, but is of unspecified\n    // quality.\n    var  _rnds = new Array(16);\n    _rng = function() {\n      for (var i = 0, r; i < 16; i++) {\n        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n        _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n      }\n\n      return _rnds;\n    };\n  }\n\n  // Buffer class to use\n  var BufferClass = typeof(_global.Buffer) == 'function' ? _global.Buffer : Array;\n\n  // Maps for number <-> hex string conversion\n  var _byteToHex = [];\n  var _hexToByte = {};\n  for (var i = 0; i < 256; i++) {\n    _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n    _hexToByte[_byteToHex[i]] = i;\n  }\n\n  // **`parse()` - Parse a UUID into it's component bytes**\n  function parse(s, buf, offset) {\n    var i = (buf && offset) || 0, ii = 0;\n\n    buf = buf || [];\n    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n      if (ii < 16) { // Don't overflow!\n        buf[i + ii++] = _hexToByte[oct];\n      }\n    });\n\n    // Zero out remaining bytes if string was short\n    while (ii < 16) {\n      buf[i + ii++] = 0;\n    }\n\n    return buf;\n  }\n\n  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**\n  function unparse(buf, offset) {\n    var i = offset || 0, bth = _byteToHex;\n    return  bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]];\n  }\n\n  // **`v1()` - Generate time-based UUID**\n  //\n  // Inspired by https://github.com/LiosK/UUID.js\n  // and http://docs.python.org/library/uuid.html\n\n  // random #'s we need to init node and clockseq\n  var _seedBytes = _rng();\n\n  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n  var _nodeId = [\n    _seedBytes[0] | 0x01,\n    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n  ];\n\n  // Per 4.2.2, randomize (14 bit) clockseq\n  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n  // Previous uuid creation time\n  var _lastMSecs = 0, _lastNSecs = 0;\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v1(options, buf, offset) {\n    var i = buf && offset || 0;\n    var b = buf || [];\n\n    options = options || {};\n\n    var clockseq = options.clockseq != null ? options.clockseq : _clockseq;\n\n    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n    var msecs = options.msecs != null ? options.msecs : new Date().getTime();\n\n    // Per 4.2.1.2, use count of uuid's generated during the current clock\n    // cycle to simulate higher resolution clock\n    var nsecs = options.nsecs != null ? options.nsecs : _lastNSecs + 1;\n\n    // Time since last uuid creation (in msecs)\n    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n    // Per 4.2.1.2, Bump clockseq on clock regression\n    if (dt < 0 && options.clockseq == null) {\n      clockseq = clockseq + 1 & 0x3fff;\n    }\n\n    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n    // time interval\n    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {\n      nsecs = 0;\n    }\n\n    // Per 4.2.1.2 Throw error if too many uuids are requested\n    if (nsecs >= 10000) {\n      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n    }\n\n    _lastMSecs = msecs;\n    _lastNSecs = nsecs;\n    _clockseq = clockseq;\n\n    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n    msecs += 12219292800000;\n\n    // `time_low`\n    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n    b[i++] = tl >>> 24 & 0xff;\n    b[i++] = tl >>> 16 & 0xff;\n    b[i++] = tl >>> 8 & 0xff;\n    b[i++] = tl & 0xff;\n\n    // `time_mid`\n    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n    b[i++] = tmh >>> 8 & 0xff;\n    b[i++] = tmh & 0xff;\n\n    // `time_high_and_version`\n    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n    b[i++] = tmh >>> 16 & 0xff;\n\n    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n    b[i++] = clockseq >>> 8 | 0x80;\n\n    // `clock_seq_low`\n    b[i++] = clockseq & 0xff;\n\n    // `node`\n    var node = options.node || _nodeId;\n    for (var n = 0; n < 6; n++) {\n      b[i + n] = node[n];\n    }\n\n    return buf ? buf : unparse(b);\n  }\n\n  // **`v4()` - Generate random UUID**\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v4(options, buf, offset) {\n    // Deprecated - 'format' argument, as supported in v1.2\n    var i = buf && offset || 0;\n\n    if (typeof(options) == 'string') {\n      buf = options == 'binary' ? new BufferClass(16) : null;\n      options = null;\n    }\n    options = options || {};\n\n    var rnds = options.random || (options.rng || _rng)();\n\n    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n    // Copy bytes to buffer, if provided\n    if (buf) {\n      for (var ii = 0; ii < 16; ii++) {\n        buf[i + ii] = rnds[ii];\n      }\n    }\n\n    return buf || unparse(rnds);\n  }\n\n  // Export public API\n  var uuid = v4;\n  uuid.v1 = v1;\n  uuid.v4 = v4;\n  uuid.parse = parse;\n  uuid.unparse = unparse;\n  uuid.BufferClass = BufferClass;\n\n  if (typeof(module) != 'undefined' && module.exports) {\n    // Publish as node.js module\n    module.exports = uuid;\n  } else  if (typeof define === 'function' && define.amd) {\n    // Publish as AMD module\n    define(function() {return uuid;});\n \n\n  } else {\n    // Publish as global (in browsers)\n    var _previousRoot = _global.uuid;\n\n    // **`noConflict()` - (browser only) to reset global 'uuid' var**\n    uuid.noConflict = function() {\n      _global.uuid = _previousRoot;\n      return uuid;\n    };\n\n    _global.uuid = uuid;\n  }\n}).call(this);\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compile = void 0;\nvar boolbase_1 = require(\"boolbase\");\n/**\n * Returns a function that checks if an elements index matches the given rule\n * highly optimized to return the fastest solution.\n *\n * @param parsed A tuple [a, b], as returned by `parse`.\n * @returns A highly optimized function that returns whether an index matches the nth-check.\n * @example\n * const check = nthCheck.compile([2, 3]);\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n */\nfunction compile(parsed) {\n    var a = parsed[0];\n    // Subtract 1 from `b`, to convert from one- to zero-indexed.\n    var b = parsed[1] - 1;\n    /*\n     * When `b <= 0`, `a * n` won't be lead to any matches for `a < 0`.\n     * Besides, the specification states that no elements are\n     * matched when `a` and `b` are 0.\n     *\n     * `b < 0` here as we subtracted 1 from `b` above.\n     */\n    if (b < 0 && a <= 0)\n        return boolbase_1.falseFunc;\n    // When `a` is in the range -1..1, it matches any element (so only `b` is checked).\n    if (a === -1)\n        return function (index) { return index <= b; };\n    if (a === 0)\n        return function (index) { return index === b; };\n    // When `b <= 0` and `a === 1`, they match any element.\n    if (a === 1)\n        return b < 0 ? boolbase_1.trueFunc : function (index) { return index >= b; };\n    /*\n     * Otherwise, modulo can be used to check if there is a match.\n     *\n     * Modulo doesn't care about the sign, so let's use `a`s absolute value.\n     */\n    var absA = Math.abs(a);\n    // Get `b mod a`, + a if this is negative.\n    var bMod = ((b % absA) + absA) % absA;\n    return a > 1\n        ? function (index) { return index >= b && index % absA === bMod; }\n        : function (index) { return index <= b && index % absA === bMod; };\n}\nexports.compile = compile;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compile = exports.parse = void 0;\nvar parse_1 = require(\"./parse\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return parse_1.parse; } });\nvar compile_1 = require(\"./compile\");\nObject.defineProperty(exports, \"compile\", { enumerable: true, get: function () { return compile_1.compile; } });\n/**\n * Parses and compiles a formula to a highly optimized function.\n * Combination of `parse` and `compile`.\n *\n * If the formula doesn't match any elements,\n * it returns [`boolbase`](https://github.com/fb55/boolbase)'s `falseFunc`.\n * Otherwise, a function accepting an _index_ is returned, which returns\n * whether or not the passed _index_ matches the formula.\n *\n * Note: The nth-rule starts counting at `1`, the returned function at `0`.\n *\n * @param formula The formula to compile.\n * @example\n * const check = nthCheck(\"2n+3\");\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n */\nfunction nthCheck(formula) {\n    return compile_1.compile(parse_1.parse(formula));\n}\nexports.default = nthCheck;\n",
    "\"use strict\";\n// Following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = void 0;\n// [ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\nvar RE_NTH_ELEMENT = /^([+-]?\\d*n)?\\s*(?:([+-]?)\\s*(\\d+))?$/;\n/**\n * Parses an expression.\n *\n * @throws An `Error` if parsing fails.\n * @returns An array containing the integer step size and the integer offset of the nth rule.\n * @example nthCheck.parse(\"2n+3\"); // returns [2, 3]\n */\nfunction parse(formula) {\n    formula = formula.trim().toLowerCase();\n    if (formula === \"even\") {\n        return [2, 0];\n    }\n    else if (formula === \"odd\") {\n        return [2, 1];\n    }\n    var parsed = formula.match(RE_NTH_ELEMENT);\n    if (!parsed) {\n        throw new Error(\"n-th rule couldn't be parsed ('\" + formula + \"')\");\n    }\n    var a;\n    if (parsed[1]) {\n        a = parseInt(parsed[1], 10);\n        if (isNaN(a)) {\n            a = parsed[1].startsWith(\"-\") ? -1 : 1;\n        }\n    }\n    else\n        a = 0;\n    var b = (parsed[2] === \"-\" ? -1 : 1) *\n        (parsed[3] ? parseInt(parsed[3], 10) : 0);\n    return [a, b];\n}\nexports.parse = parse;\n",
    "'use strict';\n\nconst doctype = require('parse5/lib/common/doctype');\nconst { DOCUMENT_MODE } = require('parse5/lib/common/html');\n\n//Conversion tables for DOM Level1 structure emulation\nconst nodeTypes = {\n    element: 1,\n    text: 3,\n    cdata: 4,\n    comment: 8\n};\n\nconst nodePropertyShorthands = {\n    tagName: 'name',\n    childNodes: 'children',\n    parentNode: 'parent',\n    previousSibling: 'prev',\n    nextSibling: 'next',\n    nodeValue: 'data'\n};\n\n//Node\nclass Node {\n    constructor(props) {\n        for (const key of Object.keys(props)) {\n            this[key] = props[key];\n        }\n    }\n\n    get firstChild() {\n        const children = this.children;\n\n        return (children && children[0]) || null;\n    }\n\n    get lastChild() {\n        const children = this.children;\n\n        return (children && children[children.length - 1]) || null;\n    }\n\n    get nodeType() {\n        return nodeTypes[this.type] || nodeTypes.element;\n    }\n}\n\nObject.keys(nodePropertyShorthands).forEach(key => {\n    const shorthand = nodePropertyShorthands[key];\n\n    Object.defineProperty(Node.prototype, key, {\n        get: function() {\n            return this[shorthand] || null;\n        },\n        set: function(val) {\n            this[shorthand] = val;\n            return val;\n        }\n    });\n});\n\n//Node construction\nexports.createDocument = function() {\n    return new Node({\n        type: 'root',\n        name: 'root',\n        parent: null,\n        prev: null,\n        next: null,\n        children: [],\n        'x-mode': DOCUMENT_MODE.NO_QUIRKS\n    });\n};\n\nexports.createDocumentFragment = function() {\n    return new Node({\n        type: 'root',\n        name: 'root',\n        parent: null,\n        prev: null,\n        next: null,\n        children: []\n    });\n};\n\nexports.createElement = function(tagName, namespaceURI, attrs) {\n    const attribs = Object.create(null);\n    const attribsNamespace = Object.create(null);\n    const attribsPrefix = Object.create(null);\n\n    for (let i = 0; i < attrs.length; i++) {\n        const attrName = attrs[i].name;\n\n        attribs[attrName] = attrs[i].value;\n        attribsNamespace[attrName] = attrs[i].namespace;\n        attribsPrefix[attrName] = attrs[i].prefix;\n    }\n\n    return new Node({\n        type: tagName === 'script' || tagName === 'style' ? tagName : 'tag',\n        name: tagName,\n        namespace: namespaceURI,\n        attribs: attribs,\n        'x-attribsNamespace': attribsNamespace,\n        'x-attribsPrefix': attribsPrefix,\n        children: [],\n        parent: null,\n        prev: null,\n        next: null\n    });\n};\n\nexports.createCommentNode = function(data) {\n    return new Node({\n        type: 'comment',\n        data: data,\n        parent: null,\n        prev: null,\n        next: null\n    });\n};\n\nconst createTextNode = function(value) {\n    return new Node({\n        type: 'text',\n        data: value,\n        parent: null,\n        prev: null,\n        next: null\n    });\n};\n\n//Tree mutation\nconst appendChild = (exports.appendChild = function(parentNode, newNode) {\n    const prev = parentNode.children[parentNode.children.length - 1];\n\n    if (prev) {\n        prev.next = newNode;\n        newNode.prev = prev;\n    }\n\n    parentNode.children.push(newNode);\n    newNode.parent = parentNode;\n});\n\nconst insertBefore = (exports.insertBefore = function(parentNode, newNode, referenceNode) {\n    const insertionIdx = parentNode.children.indexOf(referenceNode);\n    const prev = referenceNode.prev;\n\n    if (prev) {\n        prev.next = newNode;\n        newNode.prev = prev;\n    }\n\n    referenceNode.prev = newNode;\n    newNode.next = referenceNode;\n\n    parentNode.children.splice(insertionIdx, 0, newNode);\n    newNode.parent = parentNode;\n});\n\nexports.setTemplateContent = function(templateElement, contentElement) {\n    appendChild(templateElement, contentElement);\n};\n\nexports.getTemplateContent = function(templateElement) {\n    return templateElement.children[0];\n};\n\nexports.setDocumentType = function(document, name, publicId, systemId) {\n    const data = doctype.serializeContent(name, publicId, systemId);\n    let doctypeNode = null;\n\n    for (let i = 0; i < document.children.length; i++) {\n        if (document.children[i].type === 'directive' && document.children[i].name === '!doctype') {\n            doctypeNode = document.children[i];\n            break;\n        }\n    }\n\n    if (doctypeNode) {\n        doctypeNode.data = data;\n        doctypeNode['x-name'] = name;\n        doctypeNode['x-publicId'] = publicId;\n        doctypeNode['x-systemId'] = systemId;\n    } else {\n        appendChild(\n            document,\n            new Node({\n                type: 'directive',\n                name: '!doctype',\n                data: data,\n                'x-name': name,\n                'x-publicId': publicId,\n                'x-systemId': systemId\n            })\n        );\n    }\n};\n\nexports.setDocumentMode = function(document, mode) {\n    document['x-mode'] = mode;\n};\n\nexports.getDocumentMode = function(document) {\n    return document['x-mode'];\n};\n\nexports.detachNode = function(node) {\n    if (node.parent) {\n        const idx = node.parent.children.indexOf(node);\n        const prev = node.prev;\n        const next = node.next;\n\n        node.prev = null;\n        node.next = null;\n\n        if (prev) {\n            prev.next = next;\n        }\n\n        if (next) {\n            next.prev = prev;\n        }\n\n        node.parent.children.splice(idx, 1);\n        node.parent = null;\n    }\n};\n\nexports.insertText = function(parentNode, text) {\n    const lastChild = parentNode.children[parentNode.children.length - 1];\n\n    if (lastChild && lastChild.type === 'text') {\n        lastChild.data += text;\n    } else {\n        appendChild(parentNode, createTextNode(text));\n    }\n};\n\nexports.insertTextBefore = function(parentNode, text, referenceNode) {\n    const prevNode = parentNode.children[parentNode.children.indexOf(referenceNode) - 1];\n\n    if (prevNode && prevNode.type === 'text') {\n        prevNode.data += text;\n    } else {\n        insertBefore(parentNode, createTextNode(text), referenceNode);\n    }\n};\n\nexports.adoptAttributes = function(recipient, attrs) {\n    for (let i = 0; i < attrs.length; i++) {\n        const attrName = attrs[i].name;\n\n        if (typeof recipient.attribs[attrName] === 'undefined') {\n            recipient.attribs[attrName] = attrs[i].value;\n            recipient['x-attribsNamespace'][attrName] = attrs[i].namespace;\n            recipient['x-attribsPrefix'][attrName] = attrs[i].prefix;\n        }\n    }\n};\n\n//Tree traversing\nexports.getFirstChild = function(node) {\n    return node.children[0];\n};\n\nexports.getChildNodes = function(node) {\n    return node.children;\n};\n\nexports.getParentNode = function(node) {\n    return node.parent;\n};\n\nexports.getAttrList = function(element) {\n    const attrList = [];\n\n    for (const name in element.attribs) {\n        attrList.push({\n            name: name,\n            value: element.attribs[name],\n            namespace: element['x-attribsNamespace'][name],\n            prefix: element['x-attribsPrefix'][name]\n        });\n    }\n\n    return attrList;\n};\n\n//Node data\nexports.getTagName = function(element) {\n    return element.name;\n};\n\nexports.getNamespaceURI = function(element) {\n    return element.namespace;\n};\n\nexports.getTextNodeContent = function(textNode) {\n    return textNode.data;\n};\n\nexports.getCommentNodeContent = function(commentNode) {\n    return commentNode.data;\n};\n\nexports.getDocumentTypeNodeName = function(doctypeNode) {\n    return doctypeNode['x-name'];\n};\n\nexports.getDocumentTypeNodePublicId = function(doctypeNode) {\n    return doctypeNode['x-publicId'];\n};\n\nexports.getDocumentTypeNodeSystemId = function(doctypeNode) {\n    return doctypeNode['x-systemId'];\n};\n\n//Node types\nexports.isTextNode = function(node) {\n    return node.type === 'text';\n};\n\nexports.isCommentNode = function(node) {\n    return node.type === 'comment';\n};\n\nexports.isDocumentTypeNode = function(node) {\n    return node.type === 'directive' && node.name === '!doctype';\n};\n\nexports.isElementNode = function(node) {\n    return !!node.attribs;\n};\n\n// Source code location\nexports.setNodeSourceCodeLocation = function(node, location) {\n    node.sourceCodeLocation = location;\n};\n\nexports.getNodeSourceCodeLocation = function(node) {\n    return node.sourceCodeLocation;\n};\n\nexports.updateNodeSourceCodeLocation = function(node, endLocation) {\n    node.sourceCodeLocation = Object.assign(node.sourceCodeLocation, endLocation);\n};\n",
    "'use strict';\n\nconst { DOCUMENT_MODE } = require('./html');\n\n//Const\nconst VALID_DOCTYPE_NAME = 'html';\nconst VALID_SYSTEM_ID = 'about:legacy-compat';\nconst QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd';\n\nconst QUIRKS_MODE_PUBLIC_ID_PREFIXES = [\n    '+//silmaril//dtd html pro v0r11 19970101//',\n    '-//as//dtd html 3.0 aswedit + extensions//',\n    '-//advasoft ltd//dtd html 3.0 aswedit + extensions//',\n    '-//ietf//dtd html 2.0 level 1//',\n    '-//ietf//dtd html 2.0 level 2//',\n    '-//ietf//dtd html 2.0 strict level 1//',\n    '-//ietf//dtd html 2.0 strict level 2//',\n    '-//ietf//dtd html 2.0 strict//',\n    '-//ietf//dtd html 2.0//',\n    '-//ietf//dtd html 2.1e//',\n    '-//ietf//dtd html 3.0//',\n    '-//ietf//dtd html 3.2 final//',\n    '-//ietf//dtd html 3.2//',\n    '-//ietf//dtd html 3//',\n    '-//ietf//dtd html level 0//',\n    '-//ietf//dtd html level 1//',\n    '-//ietf//dtd html level 2//',\n    '-//ietf//dtd html level 3//',\n    '-//ietf//dtd html strict level 0//',\n    '-//ietf//dtd html strict level 1//',\n    '-//ietf//dtd html strict level 2//',\n    '-//ietf//dtd html strict level 3//',\n    '-//ietf//dtd html strict//',\n    '-//ietf//dtd html//',\n    '-//metrius//dtd metrius presentational//',\n    '-//microsoft//dtd internet explorer 2.0 html strict//',\n    '-//microsoft//dtd internet explorer 2.0 html//',\n    '-//microsoft//dtd internet explorer 2.0 tables//',\n    '-//microsoft//dtd internet explorer 3.0 html strict//',\n    '-//microsoft//dtd internet explorer 3.0 html//',\n    '-//microsoft//dtd internet explorer 3.0 tables//',\n    '-//netscape comm. corp.//dtd html//',\n    '-//netscape comm. corp.//dtd strict html//',\n    \"-//o'reilly and associates//dtd html 2.0//\",\n    \"-//o'reilly and associates//dtd html extended 1.0//\",\n    \"-//o'reilly and associates//dtd html extended relaxed 1.0//\",\n    '-//sq//dtd html 2.0 hotmetal + extensions//',\n    '-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//',\n    '-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//',\n    '-//spyglass//dtd html 2.0 extended//',\n    '-//sun microsystems corp.//dtd hotjava html//',\n    '-//sun microsystems corp.//dtd hotjava strict html//',\n    '-//w3c//dtd html 3 1995-03-24//',\n    '-//w3c//dtd html 3.2 draft//',\n    '-//w3c//dtd html 3.2 final//',\n    '-//w3c//dtd html 3.2//',\n    '-//w3c//dtd html 3.2s draft//',\n    '-//w3c//dtd html 4.0 frameset//',\n    '-//w3c//dtd html 4.0 transitional//',\n    '-//w3c//dtd html experimental 19960712//',\n    '-//w3c//dtd html experimental 970421//',\n    '-//w3c//dtd w3 html//',\n    '-//w3o//dtd w3 html 3.0//',\n    '-//webtechs//dtd mozilla html 2.0//',\n    '-//webtechs//dtd mozilla html//'\n];\n\nconst QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = QUIRKS_MODE_PUBLIC_ID_PREFIXES.concat([\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//'\n]);\n\nconst QUIRKS_MODE_PUBLIC_IDS = ['-//w3o//dtd w3 html strict 3.0//en//', '-/w3c/dtd html 4.0 transitional/en', 'html'];\nconst LIMITED_QUIRKS_PUBLIC_ID_PREFIXES = ['-//w3c//dtd xhtml 1.0 frameset//', '-//w3c//dtd xhtml 1.0 transitional//'];\n\nconst LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES = LIMITED_QUIRKS_PUBLIC_ID_PREFIXES.concat([\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//'\n]);\n\n//Utils\nfunction enquoteDoctypeId(id) {\n    const quote = id.indexOf('\"') !== -1 ? \"'\" : '\"';\n\n    return quote + id + quote;\n}\n\nfunction hasPrefix(publicId, prefixes) {\n    for (let i = 0; i < prefixes.length; i++) {\n        if (publicId.indexOf(prefixes[i]) === 0) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n//API\nexports.isConforming = function(token) {\n    return (\n        token.name === VALID_DOCTYPE_NAME &&\n        token.publicId === null &&\n        (token.systemId === null || token.systemId === VALID_SYSTEM_ID)\n    );\n};\n\nexports.getDocumentMode = function(token) {\n    if (token.name !== VALID_DOCTYPE_NAME) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n\n    const systemId = token.systemId;\n\n    if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n\n    let publicId = token.publicId;\n\n    if (publicId !== null) {\n        publicId = publicId.toLowerCase();\n\n        if (QUIRKS_MODE_PUBLIC_IDS.indexOf(publicId) > -1) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n\n        let prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;\n\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n\n        prefixes =\n            systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;\n\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.LIMITED_QUIRKS;\n        }\n    }\n\n    return DOCUMENT_MODE.NO_QUIRKS;\n};\n\nexports.serializeContent = function(name, publicId, systemId) {\n    let str = '!DOCTYPE ';\n\n    if (name) {\n        str += name;\n    }\n\n    if (publicId) {\n        str += ' PUBLIC ' + enquoteDoctypeId(publicId);\n    } else if (systemId) {\n        str += ' SYSTEM';\n    }\n\n    if (systemId !== null) {\n        str += ' ' + enquoteDoctypeId(systemId);\n    }\n\n    return str;\n};\n",
    "'use strict';\n\nmodule.exports = {\n    controlCharacterInInputStream: 'control-character-in-input-stream',\n    noncharacterInInputStream: 'noncharacter-in-input-stream',\n    surrogateInInputStream: 'surrogate-in-input-stream',\n    nonVoidHtmlElementStartTagWithTrailingSolidus: 'non-void-html-element-start-tag-with-trailing-solidus',\n    endTagWithAttributes: 'end-tag-with-attributes',\n    endTagWithTrailingSolidus: 'end-tag-with-trailing-solidus',\n    unexpectedSolidusInTag: 'unexpected-solidus-in-tag',\n    unexpectedNullCharacter: 'unexpected-null-character',\n    unexpectedQuestionMarkInsteadOfTagName: 'unexpected-question-mark-instead-of-tag-name',\n    invalidFirstCharacterOfTagName: 'invalid-first-character-of-tag-name',\n    unexpectedEqualsSignBeforeAttributeName: 'unexpected-equals-sign-before-attribute-name',\n    missingEndTagName: 'missing-end-tag-name',\n    unexpectedCharacterInAttributeName: 'unexpected-character-in-attribute-name',\n    unknownNamedCharacterReference: 'unknown-named-character-reference',\n    missingSemicolonAfterCharacterReference: 'missing-semicolon-after-character-reference',\n    unexpectedCharacterAfterDoctypeSystemIdentifier: 'unexpected-character-after-doctype-system-identifier',\n    unexpectedCharacterInUnquotedAttributeValue: 'unexpected-character-in-unquoted-attribute-value',\n    eofBeforeTagName: 'eof-before-tag-name',\n    eofInTag: 'eof-in-tag',\n    missingAttributeValue: 'missing-attribute-value',\n    missingWhitespaceBetweenAttributes: 'missing-whitespace-between-attributes',\n    missingWhitespaceAfterDoctypePublicKeyword: 'missing-whitespace-after-doctype-public-keyword',\n    missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:\n        'missing-whitespace-between-doctype-public-and-system-identifiers',\n    missingWhitespaceAfterDoctypeSystemKeyword: 'missing-whitespace-after-doctype-system-keyword',\n    missingQuoteBeforeDoctypePublicIdentifier: 'missing-quote-before-doctype-public-identifier',\n    missingQuoteBeforeDoctypeSystemIdentifier: 'missing-quote-before-doctype-system-identifier',\n    missingDoctypePublicIdentifier: 'missing-doctype-public-identifier',\n    missingDoctypeSystemIdentifier: 'missing-doctype-system-identifier',\n    abruptDoctypePublicIdentifier: 'abrupt-doctype-public-identifier',\n    abruptDoctypeSystemIdentifier: 'abrupt-doctype-system-identifier',\n    cdataInHtmlContent: 'cdata-in-html-content',\n    incorrectlyOpenedComment: 'incorrectly-opened-comment',\n    eofInScriptHtmlCommentLikeText: 'eof-in-script-html-comment-like-text',\n    eofInDoctype: 'eof-in-doctype',\n    nestedComment: 'nested-comment',\n    abruptClosingOfEmptyComment: 'abrupt-closing-of-empty-comment',\n    eofInComment: 'eof-in-comment',\n    incorrectlyClosedComment: 'incorrectly-closed-comment',\n    eofInCdata: 'eof-in-cdata',\n    absenceOfDigitsInNumericCharacterReference: 'absence-of-digits-in-numeric-character-reference',\n    nullCharacterReference: 'null-character-reference',\n    surrogateCharacterReference: 'surrogate-character-reference',\n    characterReferenceOutsideUnicodeRange: 'character-reference-outside-unicode-range',\n    controlCharacterReference: 'control-character-reference',\n    noncharacterCharacterReference: 'noncharacter-character-reference',\n    missingWhitespaceBeforeDoctypeName: 'missing-whitespace-before-doctype-name',\n    missingDoctypeName: 'missing-doctype-name',\n    invalidCharacterSequenceAfterDoctypeName: 'invalid-character-sequence-after-doctype-name',\n    duplicateAttribute: 'duplicate-attribute',\n    nonConformingDoctype: 'non-conforming-doctype',\n    missingDoctype: 'missing-doctype',\n    misplacedDoctype: 'misplaced-doctype',\n    endTagWithoutMatchingOpenElement: 'end-tag-without-matching-open-element',\n    closingOfElementWithOpenChildElements: 'closing-of-element-with-open-child-elements',\n    disallowedContentInNoscriptInHead: 'disallowed-content-in-noscript-in-head',\n    openElementsLeftAfterEof: 'open-elements-left-after-eof',\n    abandonedHeadElementChild: 'abandoned-head-element-child',\n    misplacedStartTagForHeadElement: 'misplaced-start-tag-for-head-element',\n    nestedNoscriptInHead: 'nested-noscript-in-head',\n    eofInElementThatCanContainOnlyText: 'eof-in-element-that-can-contain-only-text'\n};\n",
    "'use strict';\n\nconst Tokenizer = require('../tokenizer');\nconst HTML = require('./html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\nconst ATTRS = HTML.ATTRS;\n\n//MIME types\nconst MIME_TYPES = {\n    TEXT_HTML: 'text/html',\n    APPLICATION_XML: 'application/xhtml+xml'\n};\n\n//Attributes\nconst DEFINITION_URL_ATTR = 'definitionurl';\nconst ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';\nconst SVG_ATTRS_ADJUSTMENT_MAP = {\n    attributename: 'attributeName',\n    attributetype: 'attributeType',\n    basefrequency: 'baseFrequency',\n    baseprofile: 'baseProfile',\n    calcmode: 'calcMode',\n    clippathunits: 'clipPathUnits',\n    diffuseconstant: 'diffuseConstant',\n    edgemode: 'edgeMode',\n    filterunits: 'filterUnits',\n    glyphref: 'glyphRef',\n    gradienttransform: 'gradientTransform',\n    gradientunits: 'gradientUnits',\n    kernelmatrix: 'kernelMatrix',\n    kernelunitlength: 'kernelUnitLength',\n    keypoints: 'keyPoints',\n    keysplines: 'keySplines',\n    keytimes: 'keyTimes',\n    lengthadjust: 'lengthAdjust',\n    limitingconeangle: 'limitingConeAngle',\n    markerheight: 'markerHeight',\n    markerunits: 'markerUnits',\n    markerwidth: 'markerWidth',\n    maskcontentunits: 'maskContentUnits',\n    maskunits: 'maskUnits',\n    numoctaves: 'numOctaves',\n    pathlength: 'pathLength',\n    patterncontentunits: 'patternContentUnits',\n    patterntransform: 'patternTransform',\n    patternunits: 'patternUnits',\n    pointsatx: 'pointsAtX',\n    pointsaty: 'pointsAtY',\n    pointsatz: 'pointsAtZ',\n    preservealpha: 'preserveAlpha',\n    preserveaspectratio: 'preserveAspectRatio',\n    primitiveunits: 'primitiveUnits',\n    refx: 'refX',\n    refy: 'refY',\n    repeatcount: 'repeatCount',\n    repeatdur: 'repeatDur',\n    requiredextensions: 'requiredExtensions',\n    requiredfeatures: 'requiredFeatures',\n    specularconstant: 'specularConstant',\n    specularexponent: 'specularExponent',\n    spreadmethod: 'spreadMethod',\n    startoffset: 'startOffset',\n    stddeviation: 'stdDeviation',\n    stitchtiles: 'stitchTiles',\n    surfacescale: 'surfaceScale',\n    systemlanguage: 'systemLanguage',\n    tablevalues: 'tableValues',\n    targetx: 'targetX',\n    targety: 'targetY',\n    textlength: 'textLength',\n    viewbox: 'viewBox',\n    viewtarget: 'viewTarget',\n    xchannelselector: 'xChannelSelector',\n    ychannelselector: 'yChannelSelector',\n    zoomandpan: 'zoomAndPan'\n};\n\nconst XML_ATTRS_ADJUSTMENT_MAP = {\n    'xlink:actuate': { prefix: 'xlink', name: 'actuate', namespace: NS.XLINK },\n    'xlink:arcrole': { prefix: 'xlink', name: 'arcrole', namespace: NS.XLINK },\n    'xlink:href': { prefix: 'xlink', name: 'href', namespace: NS.XLINK },\n    'xlink:role': { prefix: 'xlink', name: 'role', namespace: NS.XLINK },\n    'xlink:show': { prefix: 'xlink', name: 'show', namespace: NS.XLINK },\n    'xlink:title': { prefix: 'xlink', name: 'title', namespace: NS.XLINK },\n    'xlink:type': { prefix: 'xlink', name: 'type', namespace: NS.XLINK },\n    'xml:base': { prefix: 'xml', name: 'base', namespace: NS.XML },\n    'xml:lang': { prefix: 'xml', name: 'lang', namespace: NS.XML },\n    'xml:space': { prefix: 'xml', name: 'space', namespace: NS.XML },\n    xmlns: { prefix: '', name: 'xmlns', namespace: NS.XMLNS },\n    'xmlns:xlink': { prefix: 'xmlns', name: 'xlink', namespace: NS.XMLNS }\n};\n\n//SVG tag names adjustment map\nconst SVG_TAG_NAMES_ADJUSTMENT_MAP = (exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = {\n    altglyph: 'altGlyph',\n    altglyphdef: 'altGlyphDef',\n    altglyphitem: 'altGlyphItem',\n    animatecolor: 'animateColor',\n    animatemotion: 'animateMotion',\n    animatetransform: 'animateTransform',\n    clippath: 'clipPath',\n    feblend: 'feBlend',\n    fecolormatrix: 'feColorMatrix',\n    fecomponenttransfer: 'feComponentTransfer',\n    fecomposite: 'feComposite',\n    feconvolvematrix: 'feConvolveMatrix',\n    fediffuselighting: 'feDiffuseLighting',\n    fedisplacementmap: 'feDisplacementMap',\n    fedistantlight: 'feDistantLight',\n    feflood: 'feFlood',\n    fefunca: 'feFuncA',\n    fefuncb: 'feFuncB',\n    fefuncg: 'feFuncG',\n    fefuncr: 'feFuncR',\n    fegaussianblur: 'feGaussianBlur',\n    feimage: 'feImage',\n    femerge: 'feMerge',\n    femergenode: 'feMergeNode',\n    femorphology: 'feMorphology',\n    feoffset: 'feOffset',\n    fepointlight: 'fePointLight',\n    fespecularlighting: 'feSpecularLighting',\n    fespotlight: 'feSpotLight',\n    fetile: 'feTile',\n    feturbulence: 'feTurbulence',\n    foreignobject: 'foreignObject',\n    glyphref: 'glyphRef',\n    lineargradient: 'linearGradient',\n    radialgradient: 'radialGradient',\n    textpath: 'textPath'\n});\n\n//Tags that causes exit from foreign content\nconst EXITS_FOREIGN_CONTENT = {\n    [$.B]: true,\n    [$.BIG]: true,\n    [$.BLOCKQUOTE]: true,\n    [$.BODY]: true,\n    [$.BR]: true,\n    [$.CENTER]: true,\n    [$.CODE]: true,\n    [$.DD]: true,\n    [$.DIV]: true,\n    [$.DL]: true,\n    [$.DT]: true,\n    [$.EM]: true,\n    [$.EMBED]: true,\n    [$.H1]: true,\n    [$.H2]: true,\n    [$.H3]: true,\n    [$.H4]: true,\n    [$.H5]: true,\n    [$.H6]: true,\n    [$.HEAD]: true,\n    [$.HR]: true,\n    [$.I]: true,\n    [$.IMG]: true,\n    [$.LI]: true,\n    [$.LISTING]: true,\n    [$.MENU]: true,\n    [$.META]: true,\n    [$.NOBR]: true,\n    [$.OL]: true,\n    [$.P]: true,\n    [$.PRE]: true,\n    [$.RUBY]: true,\n    [$.S]: true,\n    [$.SMALL]: true,\n    [$.SPAN]: true,\n    [$.STRONG]: true,\n    [$.STRIKE]: true,\n    [$.SUB]: true,\n    [$.SUP]: true,\n    [$.TABLE]: true,\n    [$.TT]: true,\n    [$.U]: true,\n    [$.UL]: true,\n    [$.VAR]: true\n};\n\n//Check exit from foreign content\nexports.causesExit = function(startTagToken) {\n    const tn = startTagToken.tagName;\n    const isFontWithAttrs =\n        tn === $.FONT &&\n        (Tokenizer.getTokenAttr(startTagToken, ATTRS.COLOR) !== null ||\n            Tokenizer.getTokenAttr(startTagToken, ATTRS.SIZE) !== null ||\n            Tokenizer.getTokenAttr(startTagToken, ATTRS.FACE) !== null);\n\n    return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];\n};\n\n//Token adjustments\nexports.adjustTokenMathMLAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        if (token.attrs[i].name === DEFINITION_URL_ATTR) {\n            token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;\n            break;\n        }\n    }\n};\n\nexports.adjustTokenSVGAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];\n\n        if (adjustedAttrName) {\n            token.attrs[i].name = adjustedAttrName;\n        }\n    }\n};\n\nexports.adjustTokenXMLAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];\n\n        if (adjustedAttrEntry) {\n            token.attrs[i].prefix = adjustedAttrEntry.prefix;\n            token.attrs[i].name = adjustedAttrEntry.name;\n            token.attrs[i].namespace = adjustedAttrEntry.namespace;\n        }\n    }\n};\n\nexports.adjustTokenSVGTagName = function(token) {\n    const adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];\n\n    if (adjustedTagName) {\n        token.tagName = adjustedTagName;\n    }\n};\n\n//Integration points\nfunction isMathMLTextIntegrationPoint(tn, ns) {\n    return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);\n}\n\nfunction isHtmlIntegrationPoint(tn, ns, attrs) {\n    if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {\n        for (let i = 0; i < attrs.length; i++) {\n            if (attrs[i].name === ATTRS.ENCODING) {\n                const value = attrs[i].value.toLowerCase();\n\n                return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;\n            }\n        }\n    }\n\n    return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);\n}\n\nexports.isIntegrationPoint = function(tn, ns, attrs, foreignNS) {\n    if ((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) {\n        return true;\n    }\n\n    if ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)) {\n        return true;\n    }\n\n    return false;\n};\n",
    "'use strict';\n\nconst NS = (exports.NAMESPACES = {\n    HTML: 'http://www.w3.org/1999/xhtml',\n    MATHML: 'http://www.w3.org/1998/Math/MathML',\n    SVG: 'http://www.w3.org/2000/svg',\n    XLINK: 'http://www.w3.org/1999/xlink',\n    XML: 'http://www.w3.org/XML/1998/namespace',\n    XMLNS: 'http://www.w3.org/2000/xmlns/'\n});\n\nexports.ATTRS = {\n    TYPE: 'type',\n    ACTION: 'action',\n    ENCODING: 'encoding',\n    PROMPT: 'prompt',\n    NAME: 'name',\n    COLOR: 'color',\n    FACE: 'face',\n    SIZE: 'size'\n};\n\nexports.DOCUMENT_MODE = {\n    NO_QUIRKS: 'no-quirks',\n    QUIRKS: 'quirks',\n    LIMITED_QUIRKS: 'limited-quirks'\n};\n\nconst $ = (exports.TAG_NAMES = {\n    A: 'a',\n    ADDRESS: 'address',\n    ANNOTATION_XML: 'annotation-xml',\n    APPLET: 'applet',\n    AREA: 'area',\n    ARTICLE: 'article',\n    ASIDE: 'aside',\n\n    B: 'b',\n    BASE: 'base',\n    BASEFONT: 'basefont',\n    BGSOUND: 'bgsound',\n    BIG: 'big',\n    BLOCKQUOTE: 'blockquote',\n    BODY: 'body',\n    BR: 'br',\n    BUTTON: 'button',\n\n    CAPTION: 'caption',\n    CENTER: 'center',\n    CODE: 'code',\n    COL: 'col',\n    COLGROUP: 'colgroup',\n\n    DD: 'dd',\n    DESC: 'desc',\n    DETAILS: 'details',\n    DIALOG: 'dialog',\n    DIR: 'dir',\n    DIV: 'div',\n    DL: 'dl',\n    DT: 'dt',\n\n    EM: 'em',\n    EMBED: 'embed',\n\n    FIELDSET: 'fieldset',\n    FIGCAPTION: 'figcaption',\n    FIGURE: 'figure',\n    FONT: 'font',\n    FOOTER: 'footer',\n    FOREIGN_OBJECT: 'foreignObject',\n    FORM: 'form',\n    FRAME: 'frame',\n    FRAMESET: 'frameset',\n\n    H1: 'h1',\n    H2: 'h2',\n    H3: 'h3',\n    H4: 'h4',\n    H5: 'h5',\n    H6: 'h6',\n    HEAD: 'head',\n    HEADER: 'header',\n    HGROUP: 'hgroup',\n    HR: 'hr',\n    HTML: 'html',\n\n    I: 'i',\n    IMG: 'img',\n    IMAGE: 'image',\n    INPUT: 'input',\n    IFRAME: 'iframe',\n\n    KEYGEN: 'keygen',\n\n    LABEL: 'label',\n    LI: 'li',\n    LINK: 'link',\n    LISTING: 'listing',\n\n    MAIN: 'main',\n    MALIGNMARK: 'malignmark',\n    MARQUEE: 'marquee',\n    MATH: 'math',\n    MENU: 'menu',\n    META: 'meta',\n    MGLYPH: 'mglyph',\n    MI: 'mi',\n    MO: 'mo',\n    MN: 'mn',\n    MS: 'ms',\n    MTEXT: 'mtext',\n\n    NAV: 'nav',\n    NOBR: 'nobr',\n    NOFRAMES: 'noframes',\n    NOEMBED: 'noembed',\n    NOSCRIPT: 'noscript',\n\n    OBJECT: 'object',\n    OL: 'ol',\n    OPTGROUP: 'optgroup',\n    OPTION: 'option',\n\n    P: 'p',\n    PARAM: 'param',\n    PLAINTEXT: 'plaintext',\n    PRE: 'pre',\n\n    RB: 'rb',\n    RP: 'rp',\n    RT: 'rt',\n    RTC: 'rtc',\n    RUBY: 'ruby',\n\n    S: 's',\n    SCRIPT: 'script',\n    SECTION: 'section',\n    SELECT: 'select',\n    SOURCE: 'source',\n    SMALL: 'small',\n    SPAN: 'span',\n    STRIKE: 'strike',\n    STRONG: 'strong',\n    STYLE: 'style',\n    SUB: 'sub',\n    SUMMARY: 'summary',\n    SUP: 'sup',\n\n    TABLE: 'table',\n    TBODY: 'tbody',\n    TEMPLATE: 'template',\n    TEXTAREA: 'textarea',\n    TFOOT: 'tfoot',\n    TD: 'td',\n    TH: 'th',\n    THEAD: 'thead',\n    TITLE: 'title',\n    TR: 'tr',\n    TRACK: 'track',\n    TT: 'tt',\n\n    U: 'u',\n    UL: 'ul',\n\n    SVG: 'svg',\n\n    VAR: 'var',\n\n    WBR: 'wbr',\n\n    XMP: 'xmp'\n});\n\nexports.SPECIAL_ELEMENTS = {\n    [NS.HTML]: {\n        [$.ADDRESS]: true,\n        [$.APPLET]: true,\n        [$.AREA]: true,\n        [$.ARTICLE]: true,\n        [$.ASIDE]: true,\n        [$.BASE]: true,\n        [$.BASEFONT]: true,\n        [$.BGSOUND]: true,\n        [$.BLOCKQUOTE]: true,\n        [$.BODY]: true,\n        [$.BR]: true,\n        [$.BUTTON]: true,\n        [$.CAPTION]: true,\n        [$.CENTER]: true,\n        [$.COL]: true,\n        [$.COLGROUP]: true,\n        [$.DD]: true,\n        [$.DETAILS]: true,\n        [$.DIR]: true,\n        [$.DIV]: true,\n        [$.DL]: true,\n        [$.DT]: true,\n        [$.EMBED]: true,\n        [$.FIELDSET]: true,\n        [$.FIGCAPTION]: true,\n        [$.FIGURE]: true,\n        [$.FOOTER]: true,\n        [$.FORM]: true,\n        [$.FRAME]: true,\n        [$.FRAMESET]: true,\n        [$.H1]: true,\n        [$.H2]: true,\n        [$.H3]: true,\n        [$.H4]: true,\n        [$.H5]: true,\n        [$.H6]: true,\n        [$.HEAD]: true,\n        [$.HEADER]: true,\n        [$.HGROUP]: true,\n        [$.HR]: true,\n        [$.HTML]: true,\n        [$.IFRAME]: true,\n        [$.IMG]: true,\n        [$.INPUT]: true,\n        [$.LI]: true,\n        [$.LINK]: true,\n        [$.LISTING]: true,\n        [$.MAIN]: true,\n        [$.MARQUEE]: true,\n        [$.MENU]: true,\n        [$.META]: true,\n        [$.NAV]: true,\n        [$.NOEMBED]: true,\n        [$.NOFRAMES]: true,\n        [$.NOSCRIPT]: true,\n        [$.OBJECT]: true,\n        [$.OL]: true,\n        [$.P]: true,\n        [$.PARAM]: true,\n        [$.PLAINTEXT]: true,\n        [$.PRE]: true,\n        [$.SCRIPT]: true,\n        [$.SECTION]: true,\n        [$.SELECT]: true,\n        [$.SOURCE]: true,\n        [$.STYLE]: true,\n        [$.SUMMARY]: true,\n        [$.TABLE]: true,\n        [$.TBODY]: true,\n        [$.TD]: true,\n        [$.TEMPLATE]: true,\n        [$.TEXTAREA]: true,\n        [$.TFOOT]: true,\n        [$.TH]: true,\n        [$.THEAD]: true,\n        [$.TITLE]: true,\n        [$.TR]: true,\n        [$.TRACK]: true,\n        [$.UL]: true,\n        [$.WBR]: true,\n        [$.XMP]: true\n    },\n    [NS.MATHML]: {\n        [$.MI]: true,\n        [$.MO]: true,\n        [$.MN]: true,\n        [$.MS]: true,\n        [$.MTEXT]: true,\n        [$.ANNOTATION_XML]: true\n    },\n    [NS.SVG]: {\n        [$.TITLE]: true,\n        [$.FOREIGN_OBJECT]: true,\n        [$.DESC]: true\n    }\n};\n",
    "'use strict';\n\nconst UNDEFINED_CODE_POINTS = [\n    0xfffe,\n    0xffff,\n    0x1fffe,\n    0x1ffff,\n    0x2fffe,\n    0x2ffff,\n    0x3fffe,\n    0x3ffff,\n    0x4fffe,\n    0x4ffff,\n    0x5fffe,\n    0x5ffff,\n    0x6fffe,\n    0x6ffff,\n    0x7fffe,\n    0x7ffff,\n    0x8fffe,\n    0x8ffff,\n    0x9fffe,\n    0x9ffff,\n    0xafffe,\n    0xaffff,\n    0xbfffe,\n    0xbffff,\n    0xcfffe,\n    0xcffff,\n    0xdfffe,\n    0xdffff,\n    0xefffe,\n    0xeffff,\n    0xffffe,\n    0xfffff,\n    0x10fffe,\n    0x10ffff\n];\n\nexports.REPLACEMENT_CHARACTER = '\\uFFFD';\n\nexports.CODE_POINTS = {\n    EOF: -1,\n    NULL: 0x00,\n    TABULATION: 0x09,\n    CARRIAGE_RETURN: 0x0d,\n    LINE_FEED: 0x0a,\n    FORM_FEED: 0x0c,\n    SPACE: 0x20,\n    EXCLAMATION_MARK: 0x21,\n    QUOTATION_MARK: 0x22,\n    NUMBER_SIGN: 0x23,\n    AMPERSAND: 0x26,\n    APOSTROPHE: 0x27,\n    HYPHEN_MINUS: 0x2d,\n    SOLIDUS: 0x2f,\n    DIGIT_0: 0x30,\n    DIGIT_9: 0x39,\n    SEMICOLON: 0x3b,\n    LESS_THAN_SIGN: 0x3c,\n    EQUALS_SIGN: 0x3d,\n    GREATER_THAN_SIGN: 0x3e,\n    QUESTION_MARK: 0x3f,\n    LATIN_CAPITAL_A: 0x41,\n    LATIN_CAPITAL_F: 0x46,\n    LATIN_CAPITAL_X: 0x58,\n    LATIN_CAPITAL_Z: 0x5a,\n    RIGHT_SQUARE_BRACKET: 0x5d,\n    GRAVE_ACCENT: 0x60,\n    LATIN_SMALL_A: 0x61,\n    LATIN_SMALL_F: 0x66,\n    LATIN_SMALL_X: 0x78,\n    LATIN_SMALL_Z: 0x7a,\n    REPLACEMENT_CHARACTER: 0xfffd\n};\n\nexports.CODE_POINT_SEQUENCES = {\n    DASH_DASH_STRING: [0x2d, 0x2d], //--\n    DOCTYPE_STRING: [0x44, 0x4f, 0x43, 0x54, 0x59, 0x50, 0x45], //DOCTYPE\n    CDATA_START_STRING: [0x5b, 0x43, 0x44, 0x41, 0x54, 0x41, 0x5b], //[CDATA[\n    SCRIPT_STRING: [0x73, 0x63, 0x72, 0x69, 0x70, 0x74], //script\n    PUBLIC_STRING: [0x50, 0x55, 0x42, 0x4c, 0x49, 0x43], //PUBLIC\n    SYSTEM_STRING: [0x53, 0x59, 0x53, 0x54, 0x45, 0x4d] //SYSTEM\n};\n\n//Surrogates\nexports.isSurrogate = function(cp) {\n    return cp >= 0xd800 && cp <= 0xdfff;\n};\n\nexports.isSurrogatePair = function(cp) {\n    return cp >= 0xdc00 && cp <= 0xdfff;\n};\n\nexports.getSurrogatePairCodePoint = function(cp1, cp2) {\n    return (cp1 - 0xd800) * 0x400 + 0x2400 + cp2;\n};\n\n//NOTE: excluding NULL and ASCII whitespace\nexports.isControlCodePoint = function(cp) {\n    return (\n        (cp !== 0x20 && cp !== 0x0a && cp !== 0x0d && cp !== 0x09 && cp !== 0x0c && cp >= 0x01 && cp <= 0x1f) ||\n        (cp >= 0x7f && cp <= 0x9f)\n    );\n};\n\nexports.isUndefinedCodePoint = function(cp) {\n    return (cp >= 0xfdd0 && cp <= 0xfdef) || UNDEFINED_CODE_POINTS.indexOf(cp) > -1;\n};\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\n\nclass ErrorReportingMixinBase extends Mixin {\n    constructor(host, opts) {\n        super(host);\n\n        this.posTracker = null;\n        this.onParseError = opts.onParseError;\n    }\n\n    _setErrorLocation(err) {\n        err.startLine = err.endLine = this.posTracker.line;\n        err.startCol = err.endCol = this.posTracker.col;\n        err.startOffset = err.endOffset = this.posTracker.offset;\n    }\n\n    _reportError(code) {\n        const err = {\n            code: code,\n            startLine: -1,\n            startCol: -1,\n            startOffset: -1,\n            endLine: -1,\n            endCol: -1,\n            endOffset: -1\n        };\n\n        this._setErrorLocation(err);\n        this.onParseError(err);\n    }\n\n    _getOverriddenMethods(mxn) {\n        return {\n            _err(code) {\n                mxn._reportError(code);\n            }\n        };\n    }\n}\n\nmodule.exports = ErrorReportingMixinBase;\n",
    "'use strict';\n\nconst ErrorReportingMixinBase = require('./mixin-base');\nconst ErrorReportingTokenizerMixin = require('./tokenizer-mixin');\nconst LocationInfoTokenizerMixin = require('../location-info/tokenizer-mixin');\nconst Mixin = require('../../utils/mixin');\n\nclass ErrorReportingParserMixin extends ErrorReportingMixinBase {\n    constructor(parser, opts) {\n        super(parser, opts);\n\n        this.opts = opts;\n        this.ctLoc = null;\n        this.locBeforeToken = false;\n    }\n\n    _setErrorLocation(err) {\n        if (this.ctLoc) {\n            err.startLine = this.ctLoc.startLine;\n            err.startCol = this.ctLoc.startCol;\n            err.startOffset = this.ctLoc.startOffset;\n\n            err.endLine = this.locBeforeToken ? this.ctLoc.startLine : this.ctLoc.endLine;\n            err.endCol = this.locBeforeToken ? this.ctLoc.startCol : this.ctLoc.endCol;\n            err.endOffset = this.locBeforeToken ? this.ctLoc.startOffset : this.ctLoc.endOffset;\n        }\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        return {\n            _bootstrap(document, fragmentContext) {\n                orig._bootstrap.call(this, document, fragmentContext);\n\n                Mixin.install(this.tokenizer, ErrorReportingTokenizerMixin, mxn.opts);\n                Mixin.install(this.tokenizer, LocationInfoTokenizerMixin);\n            },\n\n            _processInputToken(token) {\n                mxn.ctLoc = token.location;\n\n                orig._processInputToken.call(this, token);\n            },\n\n            _err(code, options) {\n                mxn.locBeforeToken = options && options.beforeToken;\n                mxn._reportError(code);\n            }\n        };\n    }\n}\n\nmodule.exports = ErrorReportingParserMixin;\n",
    "'use strict';\n\nconst ErrorReportingMixinBase = require('./mixin-base');\nconst PositionTrackingPreprocessorMixin = require('../position-tracking/preprocessor-mixin');\nconst Mixin = require('../../utils/mixin');\n\nclass ErrorReportingPreprocessorMixin extends ErrorReportingMixinBase {\n    constructor(preprocessor, opts) {\n        super(preprocessor, opts);\n\n        this.posTracker = Mixin.install(preprocessor, PositionTrackingPreprocessorMixin);\n        this.lastErrOffset = -1;\n    }\n\n    _reportError(code) {\n        //NOTE: avoid reporting error twice on advance/retreat\n        if (this.lastErrOffset !== this.posTracker.offset) {\n            this.lastErrOffset = this.posTracker.offset;\n            super._reportError(code);\n        }\n    }\n}\n\nmodule.exports = ErrorReportingPreprocessorMixin;\n",
    "'use strict';\n\nconst ErrorReportingMixinBase = require('./mixin-base');\nconst ErrorReportingPreprocessorMixin = require('./preprocessor-mixin');\nconst Mixin = require('../../utils/mixin');\n\nclass ErrorReportingTokenizerMixin extends ErrorReportingMixinBase {\n    constructor(tokenizer, opts) {\n        super(tokenizer, opts);\n\n        const preprocessorMixin = Mixin.install(tokenizer.preprocessor, ErrorReportingPreprocessorMixin, opts);\n\n        this.posTracker = preprocessorMixin.posTracker;\n    }\n}\n\nmodule.exports = ErrorReportingTokenizerMixin;\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\n\nclass LocationInfoOpenElementStackMixin extends Mixin {\n    constructor(stack, opts) {\n        super(stack);\n\n        this.onItemPop = opts.onItemPop;\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        return {\n            pop() {\n                mxn.onItemPop(this.current);\n                orig.pop.call(this);\n            },\n\n            popAllUpToHtmlElement() {\n                for (let i = this.stackTop; i > 0; i--) {\n                    mxn.onItemPop(this.items[i]);\n                }\n\n                orig.popAllUpToHtmlElement.call(this);\n            },\n\n            remove(element) {\n                mxn.onItemPop(this.current);\n                orig.remove.call(this, element);\n            }\n        };\n    }\n}\n\nmodule.exports = LocationInfoOpenElementStackMixin;\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\nconst Tokenizer = require('../../tokenizer');\nconst LocationInfoTokenizerMixin = require('./tokenizer-mixin');\nconst LocationInfoOpenElementStackMixin = require('./open-element-stack-mixin');\nconst HTML = require('../../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\n\nclass LocationInfoParserMixin extends Mixin {\n    constructor(parser) {\n        super(parser);\n\n        this.parser = parser;\n        this.treeAdapter = this.parser.treeAdapter;\n        this.posTracker = null;\n        this.lastStartTagToken = null;\n        this.lastFosterParentingLocation = null;\n        this.currentToken = null;\n    }\n\n    _setStartLocation(element) {\n        let loc = null;\n\n        if (this.lastStartTagToken) {\n            loc = Object.assign({}, this.lastStartTagToken.location);\n            loc.startTag = this.lastStartTagToken.location;\n        }\n\n        this.treeAdapter.setNodeSourceCodeLocation(element, loc);\n    }\n\n    _setEndLocation(element, closingToken) {\n        const loc = this.treeAdapter.getNodeSourceCodeLocation(element);\n\n        if (loc) {\n            if (closingToken.location) {\n                const ctLoc = closingToken.location;\n                const tn = this.treeAdapter.getTagName(element);\n\n                // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing\n                // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.\n                const isClosingEndTag = closingToken.type === Tokenizer.END_TAG_TOKEN && tn === closingToken.tagName;\n                const endLoc = {};\n                if (isClosingEndTag) {\n                    endLoc.endTag = Object.assign({}, ctLoc);\n                    endLoc.endLine = ctLoc.endLine;\n                    endLoc.endCol = ctLoc.endCol;\n                    endLoc.endOffset = ctLoc.endOffset;\n                } else {\n                    endLoc.endLine = ctLoc.startLine;\n                    endLoc.endCol = ctLoc.startCol;\n                    endLoc.endOffset = ctLoc.startOffset;\n                }\n\n                this.treeAdapter.updateNodeSourceCodeLocation(element, endLoc);\n            }\n        }\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        return {\n            _bootstrap(document, fragmentContext) {\n                orig._bootstrap.call(this, document, fragmentContext);\n\n                mxn.lastStartTagToken = null;\n                mxn.lastFosterParentingLocation = null;\n                mxn.currentToken = null;\n\n                const tokenizerMixin = Mixin.install(this.tokenizer, LocationInfoTokenizerMixin);\n\n                mxn.posTracker = tokenizerMixin.posTracker;\n\n                Mixin.install(this.openElements, LocationInfoOpenElementStackMixin, {\n                    onItemPop: function(element) {\n                        mxn._setEndLocation(element, mxn.currentToken);\n                    }\n                });\n            },\n\n            _runParsingLoop(scriptHandler) {\n                orig._runParsingLoop.call(this, scriptHandler);\n\n                // NOTE: generate location info for elements\n                // that remains on open element stack\n                for (let i = this.openElements.stackTop; i >= 0; i--) {\n                    mxn._setEndLocation(this.openElements.items[i], mxn.currentToken);\n                }\n            },\n\n            //Token processing\n            _processTokenInForeignContent(token) {\n                mxn.currentToken = token;\n                orig._processTokenInForeignContent.call(this, token);\n            },\n\n            _processToken(token) {\n                mxn.currentToken = token;\n                orig._processToken.call(this, token);\n\n                //NOTE: <body> and <html> are never popped from the stack, so we need to updated\n                //their end location explicitly.\n                const requireExplicitUpdate =\n                    token.type === Tokenizer.END_TAG_TOKEN &&\n                    (token.tagName === $.HTML || (token.tagName === $.BODY && this.openElements.hasInScope($.BODY)));\n\n                if (requireExplicitUpdate) {\n                    for (let i = this.openElements.stackTop; i >= 0; i--) {\n                        const element = this.openElements.items[i];\n\n                        if (this.treeAdapter.getTagName(element) === token.tagName) {\n                            mxn._setEndLocation(element, token);\n                            break;\n                        }\n                    }\n                }\n            },\n\n            //Doctype\n            _setDocumentType(token) {\n                orig._setDocumentType.call(this, token);\n\n                const documentChildren = this.treeAdapter.getChildNodes(this.document);\n                const cnLength = documentChildren.length;\n\n                for (let i = 0; i < cnLength; i++) {\n                    const node = documentChildren[i];\n\n                    if (this.treeAdapter.isDocumentTypeNode(node)) {\n                        this.treeAdapter.setNodeSourceCodeLocation(node, token.location);\n                        break;\n                    }\n                }\n            },\n\n            //Elements\n            _attachElementToTree(element) {\n                //NOTE: _attachElementToTree is called from _appendElement, _insertElement and _insertTemplate methods.\n                //So we will use token location stored in this methods for the element.\n                mxn._setStartLocation(element);\n                mxn.lastStartTagToken = null;\n                orig._attachElementToTree.call(this, element);\n            },\n\n            _appendElement(token, namespaceURI) {\n                mxn.lastStartTagToken = token;\n                orig._appendElement.call(this, token, namespaceURI);\n            },\n\n            _insertElement(token, namespaceURI) {\n                mxn.lastStartTagToken = token;\n                orig._insertElement.call(this, token, namespaceURI);\n            },\n\n            _insertTemplate(token) {\n                mxn.lastStartTagToken = token;\n                orig._insertTemplate.call(this, token);\n\n                const tmplContent = this.treeAdapter.getTemplateContent(this.openElements.current);\n\n                this.treeAdapter.setNodeSourceCodeLocation(tmplContent, null);\n            },\n\n            _insertFakeRootElement() {\n                orig._insertFakeRootElement.call(this);\n                this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current, null);\n            },\n\n            //Comments\n            _appendCommentNode(token, parent) {\n                orig._appendCommentNode.call(this, token, parent);\n\n                const children = this.treeAdapter.getChildNodes(parent);\n                const commentNode = children[children.length - 1];\n\n                this.treeAdapter.setNodeSourceCodeLocation(commentNode, token.location);\n            },\n\n            //Text\n            _findFosterParentingLocation() {\n                //NOTE: store last foster parenting location, so we will be able to find inserted text\n                //in case of foster parenting\n                mxn.lastFosterParentingLocation = orig._findFosterParentingLocation.call(this);\n\n                return mxn.lastFosterParentingLocation;\n            },\n\n            _insertCharacters(token) {\n                orig._insertCharacters.call(this, token);\n\n                const hasFosterParent = this._shouldFosterParentOnInsertion();\n\n                const parent =\n                    (hasFosterParent && mxn.lastFosterParentingLocation.parent) ||\n                    this.openElements.currentTmplContent ||\n                    this.openElements.current;\n\n                const siblings = this.treeAdapter.getChildNodes(parent);\n\n                const textNodeIdx =\n                    hasFosterParent && mxn.lastFosterParentingLocation.beforeElement\n                        ? siblings.indexOf(mxn.lastFosterParentingLocation.beforeElement) - 1\n                        : siblings.length - 1;\n\n                const textNode = siblings[textNodeIdx];\n\n                //NOTE: if we have location assigned by another token, then just update end position\n                const tnLoc = this.treeAdapter.getNodeSourceCodeLocation(textNode);\n\n                if (tnLoc) {\n                    const { endLine, endCol, endOffset } = token.location;\n                    this.treeAdapter.updateNodeSourceCodeLocation(textNode, { endLine, endCol, endOffset });\n                } else {\n                    this.treeAdapter.setNodeSourceCodeLocation(textNode, token.location);\n                }\n            }\n        };\n    }\n}\n\nmodule.exports = LocationInfoParserMixin;\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\nconst Tokenizer = require('../../tokenizer');\nconst PositionTrackingPreprocessorMixin = require('../position-tracking/preprocessor-mixin');\n\nclass LocationInfoTokenizerMixin extends Mixin {\n    constructor(tokenizer) {\n        super(tokenizer);\n\n        this.tokenizer = tokenizer;\n        this.posTracker = Mixin.install(tokenizer.preprocessor, PositionTrackingPreprocessorMixin);\n        this.currentAttrLocation = null;\n        this.ctLoc = null;\n    }\n\n    _getCurrentLocation() {\n        return {\n            startLine: this.posTracker.line,\n            startCol: this.posTracker.col,\n            startOffset: this.posTracker.offset,\n            endLine: -1,\n            endCol: -1,\n            endOffset: -1\n        };\n    }\n\n    _attachCurrentAttrLocationInfo() {\n        this.currentAttrLocation.endLine = this.posTracker.line;\n        this.currentAttrLocation.endCol = this.posTracker.col;\n        this.currentAttrLocation.endOffset = this.posTracker.offset;\n\n        const currentToken = this.tokenizer.currentToken;\n        const currentAttr = this.tokenizer.currentAttr;\n\n        if (!currentToken.location.attrs) {\n            currentToken.location.attrs = Object.create(null);\n        }\n\n        currentToken.location.attrs[currentAttr.name] = this.currentAttrLocation;\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        const methods = {\n            _createStartTagToken() {\n                orig._createStartTagToken.call(this);\n                this.currentToken.location = mxn.ctLoc;\n            },\n\n            _createEndTagToken() {\n                orig._createEndTagToken.call(this);\n                this.currentToken.location = mxn.ctLoc;\n            },\n\n            _createCommentToken() {\n                orig._createCommentToken.call(this);\n                this.currentToken.location = mxn.ctLoc;\n            },\n\n            _createDoctypeToken(initialName) {\n                orig._createDoctypeToken.call(this, initialName);\n                this.currentToken.location = mxn.ctLoc;\n            },\n\n            _createCharacterToken(type, ch) {\n                orig._createCharacterToken.call(this, type, ch);\n                this.currentCharacterToken.location = mxn.ctLoc;\n            },\n\n            _createEOFToken() {\n                orig._createEOFToken.call(this);\n                this.currentToken.location = mxn._getCurrentLocation();\n            },\n\n            _createAttr(attrNameFirstCh) {\n                orig._createAttr.call(this, attrNameFirstCh);\n                mxn.currentAttrLocation = mxn._getCurrentLocation();\n            },\n\n            _leaveAttrName(toState) {\n                orig._leaveAttrName.call(this, toState);\n                mxn._attachCurrentAttrLocationInfo();\n            },\n\n            _leaveAttrValue(toState) {\n                orig._leaveAttrValue.call(this, toState);\n                mxn._attachCurrentAttrLocationInfo();\n            },\n\n            _emitCurrentToken() {\n                const ctLoc = this.currentToken.location;\n\n                //NOTE: if we have pending character token make it's end location equal to the\n                //current token's start location.\n                if (this.currentCharacterToken) {\n                    this.currentCharacterToken.location.endLine = ctLoc.startLine;\n                    this.currentCharacterToken.location.endCol = ctLoc.startCol;\n                    this.currentCharacterToken.location.endOffset = ctLoc.startOffset;\n                }\n\n                if (this.currentToken.type === Tokenizer.EOF_TOKEN) {\n                    ctLoc.endLine = ctLoc.startLine;\n                    ctLoc.endCol = ctLoc.startCol;\n                    ctLoc.endOffset = ctLoc.startOffset;\n                } else {\n                    ctLoc.endLine = mxn.posTracker.line;\n                    ctLoc.endCol = mxn.posTracker.col + 1;\n                    ctLoc.endOffset = mxn.posTracker.offset + 1;\n                }\n\n                orig._emitCurrentToken.call(this);\n            },\n\n            _emitCurrentCharacterToken() {\n                const ctLoc = this.currentCharacterToken && this.currentCharacterToken.location;\n\n                //NOTE: if we have character token and it's location wasn't set in the _emitCurrentToken(),\n                //then set it's location at the current preprocessor position.\n                //We don't need to increment preprocessor position, since character token\n                //emission is always forced by the start of the next character token here.\n                //So, we already have advanced position.\n                if (ctLoc && ctLoc.endOffset === -1) {\n                    ctLoc.endLine = mxn.posTracker.line;\n                    ctLoc.endCol = mxn.posTracker.col;\n                    ctLoc.endOffset = mxn.posTracker.offset;\n                }\n\n                orig._emitCurrentCharacterToken.call(this);\n            }\n        };\n\n        //NOTE: patch initial states for each mode to obtain token start position\n        Object.keys(Tokenizer.MODE).forEach(modeName => {\n            const state = Tokenizer.MODE[modeName];\n\n            methods[state] = function(cp) {\n                mxn.ctLoc = mxn._getCurrentLocation();\n                orig[state].call(this, cp);\n            };\n        });\n\n        return methods;\n    }\n}\n\nmodule.exports = LocationInfoTokenizerMixin;\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\n\nclass PositionTrackingPreprocessorMixin extends Mixin {\n    constructor(preprocessor) {\n        super(preprocessor);\n\n        this.preprocessor = preprocessor;\n        this.isEol = false;\n        this.lineStartPos = 0;\n        this.droppedBufferSize = 0;\n\n        this.offset = 0;\n        this.col = 0;\n        this.line = 1;\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        return {\n            advance() {\n                const pos = this.pos + 1;\n                const ch = this.html[pos];\n\n                //NOTE: LF should be in the last column of the line\n                if (mxn.isEol) {\n                    mxn.isEol = false;\n                    mxn.line++;\n                    mxn.lineStartPos = pos;\n                }\n\n                if (ch === '\\n' || (ch === '\\r' && this.html[pos + 1] !== '\\n')) {\n                    mxn.isEol = true;\n                }\n\n                mxn.col = pos - mxn.lineStartPos + 1;\n                mxn.offset = mxn.droppedBufferSize + pos;\n\n                return orig.advance.call(this);\n            },\n\n            retreat() {\n                orig.retreat.call(this);\n\n                mxn.isEol = false;\n                mxn.col = this.pos - mxn.lineStartPos + 1;\n            },\n\n            dropParsedChunk() {\n                const prevPos = this.pos;\n\n                orig.dropParsedChunk.call(this);\n\n                const reduction = prevPos - this.pos;\n\n                mxn.lineStartPos -= reduction;\n                mxn.droppedBufferSize += reduction;\n                mxn.offset = mxn.droppedBufferSize + this.pos;\n            }\n        };\n    }\n}\n\nmodule.exports = PositionTrackingPreprocessorMixin;\n",
    "'use strict';\n\nconst Parser = require('./parser');\nconst Serializer = require('./serializer');\n\n// Shorthands\nexports.parse = function parse(html, options) {\n    const parser = new Parser(options);\n\n    return parser.parse(html);\n};\n\nexports.parseFragment = function parseFragment(fragmentContext, html, options) {\n    if (typeof fragmentContext === 'string') {\n        options = html;\n        html = fragmentContext;\n        fragmentContext = null;\n    }\n\n    const parser = new Parser(options);\n\n    return parser.parseFragment(html, fragmentContext);\n};\n\nexports.serialize = function(node, options) {\n    const serializer = new Serializer(node, options);\n\n    return serializer.serialize();\n};\n",
    "'use strict';\n\n//Const\nconst NOAH_ARK_CAPACITY = 3;\n\n//List of formatting elements\nclass FormattingElementList {\n    constructor(treeAdapter) {\n        this.length = 0;\n        this.entries = [];\n        this.treeAdapter = treeAdapter;\n        this.bookmark = null;\n    }\n\n    //Noah Ark's condition\n    //OPTIMIZATION: at first we try to find possible candidates for exclusion using\n    //lightweight heuristics without thorough attributes check.\n    _getNoahArkConditionCandidates(newElement) {\n        const candidates = [];\n\n        if (this.length >= NOAH_ARK_CAPACITY) {\n            const neAttrsLength = this.treeAdapter.getAttrList(newElement).length;\n            const neTagName = this.treeAdapter.getTagName(newElement);\n            const neNamespaceURI = this.treeAdapter.getNamespaceURI(newElement);\n\n            for (let i = this.length - 1; i >= 0; i--) {\n                const entry = this.entries[i];\n\n                if (entry.type === FormattingElementList.MARKER_ENTRY) {\n                    break;\n                }\n\n                const element = entry.element;\n                const elementAttrs = this.treeAdapter.getAttrList(element);\n\n                const isCandidate =\n                    this.treeAdapter.getTagName(element) === neTagName &&\n                    this.treeAdapter.getNamespaceURI(element) === neNamespaceURI &&\n                    elementAttrs.length === neAttrsLength;\n\n                if (isCandidate) {\n                    candidates.push({ idx: i, attrs: elementAttrs });\n                }\n            }\n        }\n\n        return candidates.length < NOAH_ARK_CAPACITY ? [] : candidates;\n    }\n\n    _ensureNoahArkCondition(newElement) {\n        const candidates = this._getNoahArkConditionCandidates(newElement);\n        let cLength = candidates.length;\n\n        if (cLength) {\n            const neAttrs = this.treeAdapter.getAttrList(newElement);\n            const neAttrsLength = neAttrs.length;\n            const neAttrsMap = Object.create(null);\n\n            //NOTE: build attrs map for the new element so we can perform fast lookups\n            for (let i = 0; i < neAttrsLength; i++) {\n                const neAttr = neAttrs[i];\n\n                neAttrsMap[neAttr.name] = neAttr.value;\n            }\n\n            for (let i = 0; i < neAttrsLength; i++) {\n                for (let j = 0; j < cLength; j++) {\n                    const cAttr = candidates[j].attrs[i];\n\n                    if (neAttrsMap[cAttr.name] !== cAttr.value) {\n                        candidates.splice(j, 1);\n                        cLength--;\n                    }\n\n                    if (candidates.length < NOAH_ARK_CAPACITY) {\n                        return;\n                    }\n                }\n            }\n\n            //NOTE: remove bottommost candidates until Noah's Ark condition will not be met\n            for (let i = cLength - 1; i >= NOAH_ARK_CAPACITY - 1; i--) {\n                this.entries.splice(candidates[i].idx, 1);\n                this.length--;\n            }\n        }\n    }\n\n    //Mutations\n    insertMarker() {\n        this.entries.push({ type: FormattingElementList.MARKER_ENTRY });\n        this.length++;\n    }\n\n    pushElement(element, token) {\n        this._ensureNoahArkCondition(element);\n\n        this.entries.push({\n            type: FormattingElementList.ELEMENT_ENTRY,\n            element: element,\n            token: token\n        });\n\n        this.length++;\n    }\n\n    insertElementAfterBookmark(element, token) {\n        let bookmarkIdx = this.length - 1;\n\n        for (; bookmarkIdx >= 0; bookmarkIdx--) {\n            if (this.entries[bookmarkIdx] === this.bookmark) {\n                break;\n            }\n        }\n\n        this.entries.splice(bookmarkIdx + 1, 0, {\n            type: FormattingElementList.ELEMENT_ENTRY,\n            element: element,\n            token: token\n        });\n\n        this.length++;\n    }\n\n    removeEntry(entry) {\n        for (let i = this.length - 1; i >= 0; i--) {\n            if (this.entries[i] === entry) {\n                this.entries.splice(i, 1);\n                this.length--;\n                break;\n            }\n        }\n    }\n\n    clearToLastMarker() {\n        while (this.length) {\n            const entry = this.entries.pop();\n\n            this.length--;\n\n            if (entry.type === FormattingElementList.MARKER_ENTRY) {\n                break;\n            }\n        }\n    }\n\n    //Search\n    getElementEntryInScopeWithTagName(tagName) {\n        for (let i = this.length - 1; i >= 0; i--) {\n            const entry = this.entries[i];\n\n            if (entry.type === FormattingElementList.MARKER_ENTRY) {\n                return null;\n            }\n\n            if (this.treeAdapter.getTagName(entry.element) === tagName) {\n                return entry;\n            }\n        }\n\n        return null;\n    }\n\n    getElementEntry(element) {\n        for (let i = this.length - 1; i >= 0; i--) {\n            const entry = this.entries[i];\n\n            if (entry.type === FormattingElementList.ELEMENT_ENTRY && entry.element === element) {\n                return entry;\n            }\n        }\n\n        return null;\n    }\n}\n\n//Entry types\nFormattingElementList.MARKER_ENTRY = 'MARKER_ENTRY';\nFormattingElementList.ELEMENT_ENTRY = 'ELEMENT_ENTRY';\n\nmodule.exports = FormattingElementList;\n",
    "'use strict';\n\nconst Tokenizer = require('../tokenizer');\nconst OpenElementStack = require('./open-element-stack');\nconst FormattingElementList = require('./formatting-element-list');\nconst LocationInfoParserMixin = require('../extensions/location-info/parser-mixin');\nconst ErrorReportingParserMixin = require('../extensions/error-reporting/parser-mixin');\nconst Mixin = require('../utils/mixin');\nconst defaultTreeAdapter = require('../tree-adapters/default');\nconst mergeOptions = require('../utils/merge-options');\nconst doctype = require('../common/doctype');\nconst foreignContent = require('../common/foreign-content');\nconst ERR = require('../common/error-codes');\nconst unicode = require('../common/unicode');\nconst HTML = require('../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\nconst ATTRS = HTML.ATTRS;\n\nconst DEFAULT_OPTIONS = {\n    scriptingEnabled: true,\n    sourceCodeLocationInfo: false,\n    onParseError: null,\n    treeAdapter: defaultTreeAdapter\n};\n\n//Misc constants\nconst HIDDEN_INPUT_TYPE = 'hidden';\n\n//Adoption agency loops iteration count\nconst AA_OUTER_LOOP_ITER = 8;\nconst AA_INNER_LOOP_ITER = 3;\n\n//Insertion modes\nconst INITIAL_MODE = 'INITIAL_MODE';\nconst BEFORE_HTML_MODE = 'BEFORE_HTML_MODE';\nconst BEFORE_HEAD_MODE = 'BEFORE_HEAD_MODE';\nconst IN_HEAD_MODE = 'IN_HEAD_MODE';\nconst IN_HEAD_NO_SCRIPT_MODE = 'IN_HEAD_NO_SCRIPT_MODE';\nconst AFTER_HEAD_MODE = 'AFTER_HEAD_MODE';\nconst IN_BODY_MODE = 'IN_BODY_MODE';\nconst TEXT_MODE = 'TEXT_MODE';\nconst IN_TABLE_MODE = 'IN_TABLE_MODE';\nconst IN_TABLE_TEXT_MODE = 'IN_TABLE_TEXT_MODE';\nconst IN_CAPTION_MODE = 'IN_CAPTION_MODE';\nconst IN_COLUMN_GROUP_MODE = 'IN_COLUMN_GROUP_MODE';\nconst IN_TABLE_BODY_MODE = 'IN_TABLE_BODY_MODE';\nconst IN_ROW_MODE = 'IN_ROW_MODE';\nconst IN_CELL_MODE = 'IN_CELL_MODE';\nconst IN_SELECT_MODE = 'IN_SELECT_MODE';\nconst IN_SELECT_IN_TABLE_MODE = 'IN_SELECT_IN_TABLE_MODE';\nconst IN_TEMPLATE_MODE = 'IN_TEMPLATE_MODE';\nconst AFTER_BODY_MODE = 'AFTER_BODY_MODE';\nconst IN_FRAMESET_MODE = 'IN_FRAMESET_MODE';\nconst AFTER_FRAMESET_MODE = 'AFTER_FRAMESET_MODE';\nconst AFTER_AFTER_BODY_MODE = 'AFTER_AFTER_BODY_MODE';\nconst AFTER_AFTER_FRAMESET_MODE = 'AFTER_AFTER_FRAMESET_MODE';\n\n//Insertion mode reset map\nconst INSERTION_MODE_RESET_MAP = {\n    [$.TR]: IN_ROW_MODE,\n    [$.TBODY]: IN_TABLE_BODY_MODE,\n    [$.THEAD]: IN_TABLE_BODY_MODE,\n    [$.TFOOT]: IN_TABLE_BODY_MODE,\n    [$.CAPTION]: IN_CAPTION_MODE,\n    [$.COLGROUP]: IN_COLUMN_GROUP_MODE,\n    [$.TABLE]: IN_TABLE_MODE,\n    [$.BODY]: IN_BODY_MODE,\n    [$.FRAMESET]: IN_FRAMESET_MODE\n};\n\n//Template insertion mode switch map\nconst TEMPLATE_INSERTION_MODE_SWITCH_MAP = {\n    [$.CAPTION]: IN_TABLE_MODE,\n    [$.COLGROUP]: IN_TABLE_MODE,\n    [$.TBODY]: IN_TABLE_MODE,\n    [$.TFOOT]: IN_TABLE_MODE,\n    [$.THEAD]: IN_TABLE_MODE,\n    [$.COL]: IN_COLUMN_GROUP_MODE,\n    [$.TR]: IN_TABLE_BODY_MODE,\n    [$.TD]: IN_ROW_MODE,\n    [$.TH]: IN_ROW_MODE\n};\n\n//Token handlers map for insertion modes\nconst TOKEN_HANDLERS = {\n    [INITIAL_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInInitialMode,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInInitialMode,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: doctypeInInitialMode,\n        [Tokenizer.START_TAG_TOKEN]: tokenInInitialMode,\n        [Tokenizer.END_TAG_TOKEN]: tokenInInitialMode,\n        [Tokenizer.EOF_TOKEN]: tokenInInitialMode\n    },\n    [BEFORE_HTML_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHtml,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHtml,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagBeforeHtml,\n        [Tokenizer.END_TAG_TOKEN]: endTagBeforeHtml,\n        [Tokenizer.EOF_TOKEN]: tokenBeforeHtml\n    },\n    [BEFORE_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagBeforeHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagBeforeHead,\n        [Tokenizer.EOF_TOKEN]: tokenBeforeHead\n    },\n    [IN_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagInHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagInHead,\n        [Tokenizer.EOF_TOKEN]: tokenInHead\n    },\n    [IN_HEAD_NO_SCRIPT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInHeadNoScript,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHeadNoScript,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagInHeadNoScript,\n        [Tokenizer.END_TAG_TOKEN]: endTagInHeadNoScript,\n        [Tokenizer.EOF_TOKEN]: tokenInHeadNoScript\n    },\n    [AFTER_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterHead,\n        [Tokenizer.EOF_TOKEN]: tokenAfterHead\n    },\n    [IN_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagInBody,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [TEXT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: ignoreToken,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: ignoreToken,\n        [Tokenizer.END_TAG_TOKEN]: endTagInText,\n        [Tokenizer.EOF_TOKEN]: eofInText\n    },\n    [IN_TABLE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTable,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTable,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TABLE_TEXT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTableText,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInTableText,\n        [Tokenizer.COMMENT_TOKEN]: tokenInTableText,\n        [Tokenizer.DOCTYPE_TOKEN]: tokenInTableText,\n        [Tokenizer.START_TAG_TOKEN]: tokenInTableText,\n        [Tokenizer.END_TAG_TOKEN]: tokenInTableText,\n        [Tokenizer.EOF_TOKEN]: tokenInTableText\n    },\n    [IN_CAPTION_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInCaption,\n        [Tokenizer.END_TAG_TOKEN]: endTagInCaption,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_COLUMN_GROUP_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInColumnGroup,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInColumnGroup,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInColumnGroup,\n        [Tokenizer.END_TAG_TOKEN]: endTagInColumnGroup,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TABLE_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTableBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTableBody,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_ROW_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInRow,\n        [Tokenizer.END_TAG_TOKEN]: endTagInRow,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_CELL_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInCell,\n        [Tokenizer.END_TAG_TOKEN]: endTagInCell,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_SELECT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInSelect,\n        [Tokenizer.END_TAG_TOKEN]: endTagInSelect,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_SELECT_IN_TABLE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInSelectInTable,\n        [Tokenizer.END_TAG_TOKEN]: endTagInSelectInTable,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TEMPLATE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTemplate,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTemplate,\n        [Tokenizer.EOF_TOKEN]: eofInTemplate\n    },\n    [AFTER_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterBody,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToRootHtmlElement,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterBody,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [IN_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInFrameset,\n        [Tokenizer.END_TAG_TOKEN]: endTagInFrameset,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterFrameset,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterFrameset,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_AFTER_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterBody,\n        [Tokenizer.END_TAG_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_AFTER_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterFrameset,\n        [Tokenizer.END_TAG_TOKEN]: ignoreToken,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    }\n};\n\n//Parser\nclass Parser {\n    constructor(options) {\n        this.options = mergeOptions(DEFAULT_OPTIONS, options);\n\n        this.treeAdapter = this.options.treeAdapter;\n        this.pendingScript = null;\n\n        if (this.options.sourceCodeLocationInfo) {\n            Mixin.install(this, LocationInfoParserMixin);\n        }\n\n        if (this.options.onParseError) {\n            Mixin.install(this, ErrorReportingParserMixin, { onParseError: this.options.onParseError });\n        }\n    }\n\n    // API\n    parse(html) {\n        const document = this.treeAdapter.createDocument();\n\n        this._bootstrap(document, null);\n        this.tokenizer.write(html, true);\n        this._runParsingLoop(null);\n\n        return document;\n    }\n\n    parseFragment(html, fragmentContext) {\n        //NOTE: use <template> element as a fragment context if context element was not provided,\n        //so we will parse in \"forgiving\" manner\n        if (!fragmentContext) {\n            fragmentContext = this.treeAdapter.createElement($.TEMPLATE, NS.HTML, []);\n        }\n\n        //NOTE: create fake element which will be used as 'document' for fragment parsing.\n        //This is important for jsdom there 'document' can't be recreated, therefore\n        //fragment parsing causes messing of the main `document`.\n        const documentMock = this.treeAdapter.createElement('documentmock', NS.HTML, []);\n\n        this._bootstrap(documentMock, fragmentContext);\n\n        if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE) {\n            this._pushTmplInsertionMode(IN_TEMPLATE_MODE);\n        }\n\n        this._initTokenizerForFragmentParsing();\n        this._insertFakeRootElement();\n        this._resetInsertionMode();\n        this._findFormInFragmentContext();\n        this.tokenizer.write(html, true);\n        this._runParsingLoop(null);\n\n        const rootElement = this.treeAdapter.getFirstChild(documentMock);\n        const fragment = this.treeAdapter.createDocumentFragment();\n\n        this._adoptNodes(rootElement, fragment);\n\n        return fragment;\n    }\n\n    //Bootstrap parser\n    _bootstrap(document, fragmentContext) {\n        this.tokenizer = new Tokenizer(this.options);\n\n        this.stopped = false;\n\n        this.insertionMode = INITIAL_MODE;\n        this.originalInsertionMode = '';\n\n        this.document = document;\n        this.fragmentContext = fragmentContext;\n\n        this.headElement = null;\n        this.formElement = null;\n\n        this.openElements = new OpenElementStack(this.document, this.treeAdapter);\n        this.activeFormattingElements = new FormattingElementList(this.treeAdapter);\n\n        this.tmplInsertionModeStack = [];\n        this.tmplInsertionModeStackTop = -1;\n        this.currentTmplInsertionMode = null;\n\n        this.pendingCharacterTokens = [];\n        this.hasNonWhitespacePendingCharacterToken = false;\n\n        this.framesetOk = true;\n        this.skipNextNewLine = false;\n        this.fosterParentingEnabled = false;\n    }\n\n    //Errors\n    _err() {\n        // NOTE: err reporting is noop by default. Enabled by mixin.\n    }\n\n    //Parsing loop\n    _runParsingLoop(scriptHandler) {\n        while (!this.stopped) {\n            this._setupTokenizerCDATAMode();\n\n            const token = this.tokenizer.getNextToken();\n\n            if (token.type === Tokenizer.HIBERNATION_TOKEN) {\n                break;\n            }\n\n            if (this.skipNextNewLine) {\n                this.skipNextNewLine = false;\n\n                if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN && token.chars[0] === '\\n') {\n                    if (token.chars.length === 1) {\n                        continue;\n                    }\n\n                    token.chars = token.chars.substr(1);\n                }\n            }\n\n            this._processInputToken(token);\n\n            if (scriptHandler && this.pendingScript) {\n                break;\n            }\n        }\n    }\n\n    runParsingLoopForCurrentChunk(writeCallback, scriptHandler) {\n        this._runParsingLoop(scriptHandler);\n\n        if (scriptHandler && this.pendingScript) {\n            const script = this.pendingScript;\n\n            this.pendingScript = null;\n\n            scriptHandler(script);\n\n            return;\n        }\n\n        if (writeCallback) {\n            writeCallback();\n        }\n    }\n\n    //Text parsing\n    _setupTokenizerCDATAMode() {\n        const current = this._getAdjustedCurrentElement();\n\n        this.tokenizer.allowCDATA =\n            current &&\n            current !== this.document &&\n            this.treeAdapter.getNamespaceURI(current) !== NS.HTML &&\n            !this._isIntegrationPoint(current);\n    }\n\n    _switchToTextParsing(currentToken, nextTokenizerState) {\n        this._insertElement(currentToken, NS.HTML);\n        this.tokenizer.state = nextTokenizerState;\n        this.originalInsertionMode = this.insertionMode;\n        this.insertionMode = TEXT_MODE;\n    }\n\n    switchToPlaintextParsing() {\n        this.insertionMode = TEXT_MODE;\n        this.originalInsertionMode = IN_BODY_MODE;\n        this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n    }\n\n    //Fragment parsing\n    _getAdjustedCurrentElement() {\n        return this.openElements.stackTop === 0 && this.fragmentContext\n            ? this.fragmentContext\n            : this.openElements.current;\n    }\n\n    _findFormInFragmentContext() {\n        let node = this.fragmentContext;\n\n        do {\n            if (this.treeAdapter.getTagName(node) === $.FORM) {\n                this.formElement = node;\n                break;\n            }\n\n            node = this.treeAdapter.getParentNode(node);\n        } while (node);\n    }\n\n    _initTokenizerForFragmentParsing() {\n        if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS.HTML) {\n            const tn = this.treeAdapter.getTagName(this.fragmentContext);\n\n            if (tn === $.TITLE || tn === $.TEXTAREA) {\n                this.tokenizer.state = Tokenizer.MODE.RCDATA;\n            } else if (\n                tn === $.STYLE ||\n                tn === $.XMP ||\n                tn === $.IFRAME ||\n                tn === $.NOEMBED ||\n                tn === $.NOFRAMES ||\n                tn === $.NOSCRIPT\n            ) {\n                this.tokenizer.state = Tokenizer.MODE.RAWTEXT;\n            } else if (tn === $.SCRIPT) {\n                this.tokenizer.state = Tokenizer.MODE.SCRIPT_DATA;\n            } else if (tn === $.PLAINTEXT) {\n                this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n            }\n        }\n    }\n\n    //Tree mutation\n    _setDocumentType(token) {\n        const name = token.name || '';\n        const publicId = token.publicId || '';\n        const systemId = token.systemId || '';\n\n        this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);\n    }\n\n    _attachElementToTree(element) {\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentElement(element);\n        } else {\n            const parent = this.openElements.currentTmplContent || this.openElements.current;\n\n            this.treeAdapter.appendChild(parent, element);\n        }\n    }\n\n    _appendElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n\n        this._attachElementToTree(element);\n    }\n\n    _insertElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n\n        this._attachElementToTree(element);\n        this.openElements.push(element);\n    }\n\n    _insertFakeElement(tagName) {\n        const element = this.treeAdapter.createElement(tagName, NS.HTML, []);\n\n        this._attachElementToTree(element);\n        this.openElements.push(element);\n    }\n\n    _insertTemplate(token) {\n        const tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs);\n        const content = this.treeAdapter.createDocumentFragment();\n\n        this.treeAdapter.setTemplateContent(tmpl, content);\n        this._attachElementToTree(tmpl);\n        this.openElements.push(tmpl);\n    }\n\n    _insertFakeRootElement() {\n        const element = this.treeAdapter.createElement($.HTML, NS.HTML, []);\n\n        this.treeAdapter.appendChild(this.openElements.current, element);\n        this.openElements.push(element);\n    }\n\n    _appendCommentNode(token, parent) {\n        const commentNode = this.treeAdapter.createCommentNode(token.data);\n\n        this.treeAdapter.appendChild(parent, commentNode);\n    }\n\n    _insertCharacters(token) {\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentText(token.chars);\n        } else {\n            const parent = this.openElements.currentTmplContent || this.openElements.current;\n\n            this.treeAdapter.insertText(parent, token.chars);\n        }\n    }\n\n    _adoptNodes(donor, recipient) {\n        for (let child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {\n            this.treeAdapter.detachNode(child);\n            this.treeAdapter.appendChild(recipient, child);\n        }\n    }\n\n    //Token processing\n    _shouldProcessTokenInForeignContent(token) {\n        const current = this._getAdjustedCurrentElement();\n\n        if (!current || current === this.document) {\n            return false;\n        }\n\n        const ns = this.treeAdapter.getNamespaceURI(current);\n\n        if (ns === NS.HTML) {\n            return false;\n        }\n\n        if (\n            this.treeAdapter.getTagName(current) === $.ANNOTATION_XML &&\n            ns === NS.MATHML &&\n            token.type === Tokenizer.START_TAG_TOKEN &&\n            token.tagName === $.SVG\n        ) {\n            return false;\n        }\n\n        const isCharacterToken =\n            token.type === Tokenizer.CHARACTER_TOKEN ||\n            token.type === Tokenizer.NULL_CHARACTER_TOKEN ||\n            token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN;\n\n        const isMathMLTextStartTag =\n            token.type === Tokenizer.START_TAG_TOKEN && token.tagName !== $.MGLYPH && token.tagName !== $.MALIGNMARK;\n\n        if ((isMathMLTextStartTag || isCharacterToken) && this._isIntegrationPoint(current, NS.MATHML)) {\n            return false;\n        }\n\n        if (\n            (token.type === Tokenizer.START_TAG_TOKEN || isCharacterToken) &&\n            this._isIntegrationPoint(current, NS.HTML)\n        ) {\n            return false;\n        }\n\n        return token.type !== Tokenizer.EOF_TOKEN;\n    }\n\n    _processToken(token) {\n        TOKEN_HANDLERS[this.insertionMode][token.type](this, token);\n    }\n\n    _processTokenInBodyMode(token) {\n        TOKEN_HANDLERS[IN_BODY_MODE][token.type](this, token);\n    }\n\n    _processTokenInForeignContent(token) {\n        if (token.type === Tokenizer.CHARACTER_TOKEN) {\n            characterInForeignContent(this, token);\n        } else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN) {\n            nullCharacterInForeignContent(this, token);\n        } else if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN) {\n            insertCharacters(this, token);\n        } else if (token.type === Tokenizer.COMMENT_TOKEN) {\n            appendComment(this, token);\n        } else if (token.type === Tokenizer.START_TAG_TOKEN) {\n            startTagInForeignContent(this, token);\n        } else if (token.type === Tokenizer.END_TAG_TOKEN) {\n            endTagInForeignContent(this, token);\n        }\n    }\n\n    _processInputToken(token) {\n        if (this._shouldProcessTokenInForeignContent(token)) {\n            this._processTokenInForeignContent(token);\n        } else {\n            this._processToken(token);\n        }\n\n        if (token.type === Tokenizer.START_TAG_TOKEN && token.selfClosing && !token.ackSelfClosing) {\n            this._err(ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);\n        }\n    }\n\n    //Integration points\n    _isIntegrationPoint(element, foreignNS) {\n        const tn = this.treeAdapter.getTagName(element);\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        const attrs = this.treeAdapter.getAttrList(element);\n\n        return foreignContent.isIntegrationPoint(tn, ns, attrs, foreignNS);\n    }\n\n    //Active formatting elements reconstruction\n    _reconstructActiveFormattingElements() {\n        const listLength = this.activeFormattingElements.length;\n\n        if (listLength) {\n            let unopenIdx = listLength;\n            let entry = null;\n\n            do {\n                unopenIdx--;\n                entry = this.activeFormattingElements.entries[unopenIdx];\n\n                if (entry.type === FormattingElementList.MARKER_ENTRY || this.openElements.contains(entry.element)) {\n                    unopenIdx++;\n                    break;\n                }\n            } while (unopenIdx > 0);\n\n            for (let i = unopenIdx; i < listLength; i++) {\n                entry = this.activeFormattingElements.entries[i];\n                this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));\n                entry.element = this.openElements.current;\n            }\n        }\n    }\n\n    //Close elements\n    _closeTableCell() {\n        this.openElements.generateImpliedEndTags();\n        this.openElements.popUntilTableCellPopped();\n        this.activeFormattingElements.clearToLastMarker();\n        this.insertionMode = IN_ROW_MODE;\n    }\n\n    _closePElement() {\n        this.openElements.generateImpliedEndTagsWithExclusion($.P);\n        this.openElements.popUntilTagNamePopped($.P);\n    }\n\n    //Insertion modes\n    _resetInsertionMode() {\n        for (let i = this.openElements.stackTop, last = false; i >= 0; i--) {\n            let element = this.openElements.items[i];\n\n            if (i === 0) {\n                last = true;\n\n                if (this.fragmentContext) {\n                    element = this.fragmentContext;\n                }\n            }\n\n            const tn = this.treeAdapter.getTagName(element);\n            const newInsertionMode = INSERTION_MODE_RESET_MAP[tn];\n\n            if (newInsertionMode) {\n                this.insertionMode = newInsertionMode;\n                break;\n            } else if (!last && (tn === $.TD || tn === $.TH)) {\n                this.insertionMode = IN_CELL_MODE;\n                break;\n            } else if (!last && tn === $.HEAD) {\n                this.insertionMode = IN_HEAD_MODE;\n                break;\n            } else if (tn === $.SELECT) {\n                this._resetInsertionModeForSelect(i);\n                break;\n            } else if (tn === $.TEMPLATE) {\n                this.insertionMode = this.currentTmplInsertionMode;\n                break;\n            } else if (tn === $.HTML) {\n                this.insertionMode = this.headElement ? AFTER_HEAD_MODE : BEFORE_HEAD_MODE;\n                break;\n            } else if (last) {\n                this.insertionMode = IN_BODY_MODE;\n                break;\n            }\n        }\n    }\n\n    _resetInsertionModeForSelect(selectIdx) {\n        if (selectIdx > 0) {\n            for (let i = selectIdx - 1; i > 0; i--) {\n                const ancestor = this.openElements.items[i];\n                const tn = this.treeAdapter.getTagName(ancestor);\n\n                if (tn === $.TEMPLATE) {\n                    break;\n                } else if (tn === $.TABLE) {\n                    this.insertionMode = IN_SELECT_IN_TABLE_MODE;\n                    return;\n                }\n            }\n        }\n\n        this.insertionMode = IN_SELECT_MODE;\n    }\n\n    _pushTmplInsertionMode(mode) {\n        this.tmplInsertionModeStack.push(mode);\n        this.tmplInsertionModeStackTop++;\n        this.currentTmplInsertionMode = mode;\n    }\n\n    _popTmplInsertionMode() {\n        this.tmplInsertionModeStack.pop();\n        this.tmplInsertionModeStackTop--;\n        this.currentTmplInsertionMode = this.tmplInsertionModeStack[this.tmplInsertionModeStackTop];\n    }\n\n    //Foster parenting\n    _isElementCausesFosterParenting(element) {\n        const tn = this.treeAdapter.getTagName(element);\n\n        return tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR;\n    }\n\n    _shouldFosterParentOnInsertion() {\n        return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.current);\n    }\n\n    _findFosterParentingLocation() {\n        const location = {\n            parent: null,\n            beforeElement: null\n        };\n\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            const openElement = this.openElements.items[i];\n            const tn = this.treeAdapter.getTagName(openElement);\n            const ns = this.treeAdapter.getNamespaceURI(openElement);\n\n            if (tn === $.TEMPLATE && ns === NS.HTML) {\n                location.parent = this.treeAdapter.getTemplateContent(openElement);\n                break;\n            } else if (tn === $.TABLE) {\n                location.parent = this.treeAdapter.getParentNode(openElement);\n\n                if (location.parent) {\n                    location.beforeElement = openElement;\n                } else {\n                    location.parent = this.openElements.items[i - 1];\n                }\n\n                break;\n            }\n        }\n\n        if (!location.parent) {\n            location.parent = this.openElements.items[0];\n        }\n\n        return location;\n    }\n\n    _fosterParentElement(element) {\n        const location = this._findFosterParentingLocation();\n\n        if (location.beforeElement) {\n            this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);\n        } else {\n            this.treeAdapter.appendChild(location.parent, element);\n        }\n    }\n\n    _fosterParentText(chars) {\n        const location = this._findFosterParentingLocation();\n\n        if (location.beforeElement) {\n            this.treeAdapter.insertTextBefore(location.parent, chars, location.beforeElement);\n        } else {\n            this.treeAdapter.insertText(location.parent, chars);\n        }\n    }\n\n    //Special elements\n    _isSpecialElement(element) {\n        const tn = this.treeAdapter.getTagName(element);\n        const ns = this.treeAdapter.getNamespaceURI(element);\n\n        return HTML.SPECIAL_ELEMENTS[ns][tn];\n    }\n}\n\nmodule.exports = Parser;\n\n//Adoption agency algorithm\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)\n//------------------------------------------------------------------\n\n//Steps 5-8 of the algorithm\nfunction aaObtainFormattingElementEntry(p, token) {\n    let formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);\n\n    if (formattingElementEntry) {\n        if (!p.openElements.contains(formattingElementEntry.element)) {\n            p.activeFormattingElements.removeEntry(formattingElementEntry);\n            formattingElementEntry = null;\n        } else if (!p.openElements.hasInScope(token.tagName)) {\n            formattingElementEntry = null;\n        }\n    } else {\n        genericEndTagInBody(p, token);\n    }\n\n    return formattingElementEntry;\n}\n\n//Steps 9 and 10 of the algorithm\nfunction aaObtainFurthestBlock(p, formattingElementEntry) {\n    let furthestBlock = null;\n\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (element === formattingElementEntry.element) {\n            break;\n        }\n\n        if (p._isSpecialElement(element)) {\n            furthestBlock = element;\n        }\n    }\n\n    if (!furthestBlock) {\n        p.openElements.popUntilElementPopped(formattingElementEntry.element);\n        p.activeFormattingElements.removeEntry(formattingElementEntry);\n    }\n\n    return furthestBlock;\n}\n\n//Step 13 of the algorithm\nfunction aaInnerLoop(p, furthestBlock, formattingElement) {\n    let lastElement = furthestBlock;\n    let nextElement = p.openElements.getCommonAncestor(furthestBlock);\n\n    for (let i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {\n        //NOTE: store next element for the next loop iteration (it may be deleted from the stack by step 9.5)\n        nextElement = p.openElements.getCommonAncestor(element);\n\n        const elementEntry = p.activeFormattingElements.getElementEntry(element);\n        const counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;\n        const shouldRemoveFromOpenElements = !elementEntry || counterOverflow;\n\n        if (shouldRemoveFromOpenElements) {\n            if (counterOverflow) {\n                p.activeFormattingElements.removeEntry(elementEntry);\n            }\n\n            p.openElements.remove(element);\n        } else {\n            element = aaRecreateElementFromEntry(p, elementEntry);\n\n            if (lastElement === furthestBlock) {\n                p.activeFormattingElements.bookmark = elementEntry;\n            }\n\n            p.treeAdapter.detachNode(lastElement);\n            p.treeAdapter.appendChild(element, lastElement);\n            lastElement = element;\n        }\n    }\n\n    return lastElement;\n}\n\n//Step 13.7 of the algorithm\nfunction aaRecreateElementFromEntry(p, elementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(elementEntry.element);\n    const newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);\n\n    p.openElements.replace(elementEntry.element, newElement);\n    elementEntry.element = newElement;\n\n    return newElement;\n}\n\n//Step 14 of the algorithm\nfunction aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {\n    if (p._isElementCausesFosterParenting(commonAncestor)) {\n        p._fosterParentElement(lastElement);\n    } else {\n        const tn = p.treeAdapter.getTagName(commonAncestor);\n        const ns = p.treeAdapter.getNamespaceURI(commonAncestor);\n\n        if (tn === $.TEMPLATE && ns === NS.HTML) {\n            commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);\n        }\n\n        p.treeAdapter.appendChild(commonAncestor, lastElement);\n    }\n}\n\n//Steps 15-19 of the algorithm\nfunction aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);\n    const token = formattingElementEntry.token;\n    const newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);\n\n    p._adoptNodes(furthestBlock, newElement);\n    p.treeAdapter.appendChild(furthestBlock, newElement);\n\n    p.activeFormattingElements.insertElementAfterBookmark(newElement, formattingElementEntry.token);\n    p.activeFormattingElements.removeEntry(formattingElementEntry);\n\n    p.openElements.remove(formattingElementEntry.element);\n    p.openElements.insertAfter(furthestBlock, newElement);\n}\n\n//Algorithm entry point\nfunction callAdoptionAgency(p, token) {\n    let formattingElementEntry;\n\n    for (let i = 0; i < AA_OUTER_LOOP_ITER; i++) {\n        formattingElementEntry = aaObtainFormattingElementEntry(p, token, formattingElementEntry);\n\n        if (!formattingElementEntry) {\n            break;\n        }\n\n        const furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);\n\n        if (!furthestBlock) {\n            break;\n        }\n\n        p.activeFormattingElements.bookmark = formattingElementEntry;\n\n        const lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);\n        const commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);\n\n        p.treeAdapter.detachNode(lastElement);\n        aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);\n        aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);\n    }\n}\n\n//Generic token handlers\n//------------------------------------------------------------------\nfunction ignoreToken() {\n    //NOTE: do nothing =)\n}\n\nfunction misplacedDoctype(p) {\n    p._err(ERR.misplacedDoctype);\n}\n\nfunction appendComment(p, token) {\n    p._appendCommentNode(token, p.openElements.currentTmplContent || p.openElements.current);\n}\n\nfunction appendCommentToRootHtmlElement(p, token) {\n    p._appendCommentNode(token, p.openElements.items[0]);\n}\n\nfunction appendCommentToDocument(p, token) {\n    p._appendCommentNode(token, p.document);\n}\n\nfunction insertCharacters(p, token) {\n    p._insertCharacters(token);\n}\n\nfunction stopParsing(p) {\n    p.stopped = true;\n}\n\n// The \"initial\" insertion mode\n//------------------------------------------------------------------\nfunction doctypeInInitialMode(p, token) {\n    p._setDocumentType(token);\n\n    const mode = token.forceQuirks ? HTML.DOCUMENT_MODE.QUIRKS : doctype.getDocumentMode(token);\n\n    if (!doctype.isConforming(token)) {\n        p._err(ERR.nonConformingDoctype);\n    }\n\n    p.treeAdapter.setDocumentMode(p.document, mode);\n\n    p.insertionMode = BEFORE_HTML_MODE;\n}\n\nfunction tokenInInitialMode(p, token) {\n    p._err(ERR.missingDoctype, { beforeToken: true });\n    p.treeAdapter.setDocumentMode(p.document, HTML.DOCUMENT_MODE.QUIRKS);\n    p.insertionMode = BEFORE_HTML_MODE;\n    p._processToken(token);\n}\n\n// The \"before html\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHtml(p, token) {\n    if (token.tagName === $.HTML) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = BEFORE_HEAD_MODE;\n    } else {\n        tokenBeforeHtml(p, token);\n    }\n}\n\nfunction endTagBeforeHtml(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML || tn === $.HEAD || tn === $.BODY || tn === $.BR) {\n        tokenBeforeHtml(p, token);\n    }\n}\n\nfunction tokenBeforeHtml(p, token) {\n    p._insertFakeRootElement();\n    p.insertionMode = BEFORE_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"before head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.HEAD) {\n        p._insertElement(token, NS.HTML);\n        p.headElement = p.openElements.current;\n        p.insertionMode = IN_HEAD_MODE;\n    } else {\n        tokenBeforeHead(p, token);\n    }\n}\n\nfunction endTagBeforeHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HEAD || tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenBeforeHead(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenBeforeHead(p, token) {\n    p._insertFakeElement($.HEAD);\n    p.headElement = p.openElements.current;\n    p.insertionMode = IN_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"in head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.BASE || tn === $.BASEFONT || tn === $.BGSOUND || tn === $.LINK || tn === $.META) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.TITLE) {\n        p._switchToTextParsing(token, Tokenizer.MODE.RCDATA);\n    } else if (tn === $.NOSCRIPT) {\n        if (p.options.scriptingEnabled) {\n            p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n        } else {\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = IN_HEAD_NO_SCRIPT_MODE;\n        }\n    } else if (tn === $.NOFRAMES || tn === $.STYLE) {\n        p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n    } else if (tn === $.SCRIPT) {\n        p._switchToTextParsing(token, Tokenizer.MODE.SCRIPT_DATA);\n    } else if (tn === $.TEMPLATE) {\n        p._insertTemplate(token, NS.HTML);\n        p.activeFormattingElements.insertMarker();\n        p.framesetOk = false;\n        p.insertionMode = IN_TEMPLATE_MODE;\n        p._pushTmplInsertionMode(IN_TEMPLATE_MODE);\n    } else if (tn === $.HEAD) {\n        p._err(ERR.misplacedStartTagForHeadElement);\n    } else {\n        tokenInHead(p, token);\n    }\n}\n\nfunction endTagInHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HEAD) {\n        p.openElements.pop();\n        p.insertionMode = AFTER_HEAD_MODE;\n    } else if (tn === $.BODY || tn === $.BR || tn === $.HTML) {\n        tokenInHead(p, token);\n    } else if (tn === $.TEMPLATE) {\n        if (p.openElements.tmplCount > 0) {\n            p.openElements.generateImpliedEndTagsThoroughly();\n\n            if (p.openElements.currentTagName !== $.TEMPLATE) {\n                p._err(ERR.closingOfElementWithOpenChildElements);\n            }\n\n            p.openElements.popUntilTagNamePopped($.TEMPLATE);\n            p.activeFormattingElements.clearToLastMarker();\n            p._popTmplInsertionMode();\n            p._resetInsertionMode();\n        } else {\n            p._err(ERR.endTagWithoutMatchingOpenElement);\n        }\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenInHead(p, token) {\n    p.openElements.pop();\n    p.insertionMode = AFTER_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"in head no script\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHeadNoScript(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.HEAD ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.STYLE\n    ) {\n        startTagInHead(p, token);\n    } else if (tn === $.NOSCRIPT) {\n        p._err(ERR.nestedNoscriptInHead);\n    } else {\n        tokenInHeadNoScript(p, token);\n    }\n}\n\nfunction endTagInHeadNoScript(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.NOSCRIPT) {\n        p.openElements.pop();\n        p.insertionMode = IN_HEAD_MODE;\n    } else if (tn === $.BR) {\n        tokenInHeadNoScript(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenInHeadNoScript(p, token) {\n    const errCode =\n        token.type === Tokenizer.EOF_TOKEN ? ERR.openElementsLeftAfterEof : ERR.disallowedContentInNoscriptInHead;\n\n    p._err(errCode);\n    p.openElements.pop();\n    p.insertionMode = IN_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"after head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.BODY) {\n        p._insertElement(token, NS.HTML);\n        p.framesetOk = false;\n        p.insertionMode = IN_BODY_MODE;\n    } else if (tn === $.FRAMESET) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_FRAMESET_MODE;\n    } else if (\n        tn === $.BASE ||\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.SCRIPT ||\n        tn === $.STYLE ||\n        tn === $.TEMPLATE ||\n        tn === $.TITLE\n    ) {\n        p._err(ERR.abandonedHeadElementChild);\n        p.openElements.push(p.headElement);\n        startTagInHead(p, token);\n        p.openElements.remove(p.headElement);\n    } else if (tn === $.HEAD) {\n        p._err(ERR.misplacedStartTagForHeadElement);\n    } else {\n        tokenAfterHead(p, token);\n    }\n}\n\nfunction endTagAfterHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenAfterHead(p, token);\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenAfterHead(p, token) {\n    p._insertFakeElement($.BODY);\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"in body\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n}\n\nfunction characterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\n\nfunction htmlStartTagInBody(p, token) {\n    if (p.openElements.tmplCount === 0) {\n        p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);\n    }\n}\n\nfunction bodyStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n\n    if (bodyElement && p.openElements.tmplCount === 0) {\n        p.framesetOk = false;\n        p.treeAdapter.adoptAttributes(bodyElement, token.attrs);\n    }\n}\n\nfunction framesetStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n\n    if (p.framesetOk && bodyElement) {\n        p.treeAdapter.detachNode(bodyElement);\n        p.openElements.popAllUpToHtmlElement();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_FRAMESET_MODE;\n    }\n}\n\nfunction addressStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction numberedHeaderStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    const tn = p.openElements.currentTagName;\n\n    if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n        p.openElements.pop();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction preStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.framesetOk = false;\n}\n\nfunction formStartTagInBody(p, token) {\n    const inTemplate = p.openElements.tmplCount > 0;\n\n    if (!p.formElement || inTemplate) {\n        if (p.openElements.hasInButtonScope($.P)) {\n            p._closePElement();\n        }\n\n        p._insertElement(token, NS.HTML);\n\n        if (!inTemplate) {\n            p.formElement = p.openElements.current;\n        }\n    }\n}\n\nfunction listItemStartTagInBody(p, token) {\n    p.framesetOk = false;\n\n    const tn = token.tagName;\n\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const element = p.openElements.items[i];\n        const elementTn = p.treeAdapter.getTagName(element);\n        let closeTn = null;\n\n        if (tn === $.LI && elementTn === $.LI) {\n            closeTn = $.LI;\n        } else if ((tn === $.DD || tn === $.DT) && (elementTn === $.DD || elementTn === $.DT)) {\n            closeTn = elementTn;\n        }\n\n        if (closeTn) {\n            p.openElements.generateImpliedEndTagsWithExclusion(closeTn);\n            p.openElements.popUntilTagNamePopped(closeTn);\n            break;\n        }\n\n        if (elementTn !== $.ADDRESS && elementTn !== $.DIV && elementTn !== $.P && p._isSpecialElement(element)) {\n            break;\n        }\n    }\n\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction plaintextStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n}\n\nfunction buttonStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BUTTON)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped($.BUTTON);\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n}\n\nfunction aStartTagInBody(p, token) {\n    const activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName($.A);\n\n    if (activeElementEntry) {\n        callAdoptionAgency(p, token);\n        p.openElements.remove(activeElementEntry.element);\n        p.activeFormattingElements.removeEntry(activeElementEntry);\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction bStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction nobrStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    if (p.openElements.hasInScope($.NOBR)) {\n        callAdoptionAgency(p, token);\n        p._reconstructActiveFormattingElements();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction appletStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.insertMarker();\n    p.framesetOk = false;\n}\n\nfunction tableStartTagInBody(p, token) {\n    if (\n        p.treeAdapter.getDocumentMode(p.document) !== HTML.DOCUMENT_MODE.QUIRKS &&\n        p.openElements.hasInButtonScope($.P)\n    ) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode = IN_TABLE_MODE;\n}\n\nfunction areaStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\n\nfunction inputStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n\n    const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);\n\n    if (!inputType || inputType.toLowerCase() !== HIDDEN_INPUT_TYPE) {\n        p.framesetOk = false;\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction paramStartTagInBody(p, token) {\n    p._appendElement(token, NS.HTML);\n    token.ackSelfClosing = true;\n}\n\nfunction hrStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\n\nfunction imageStartTagInBody(p, token) {\n    token.tagName = $.IMG;\n    areaStartTagInBody(p, token);\n}\n\nfunction textareaStartTagInBody(p, token) {\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.tokenizer.state = Tokenizer.MODE.RCDATA;\n    p.originalInsertionMode = p.insertionMode;\n    p.framesetOk = false;\n    p.insertionMode = TEXT_MODE;\n}\n\nfunction xmpStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._reconstructActiveFormattingElements();\n    p.framesetOk = false;\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\nfunction iframeStartTagInBody(p, token) {\n    p.framesetOk = false;\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\n//NOTE: here we assume that we always act as an user agent with enabled plugins, so we parse\n//<noembed> as a rawtext.\nfunction noembedStartTagInBody(p, token) {\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\nfunction selectStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n\n    if (\n        p.insertionMode === IN_TABLE_MODE ||\n        p.insertionMode === IN_CAPTION_MODE ||\n        p.insertionMode === IN_TABLE_BODY_MODE ||\n        p.insertionMode === IN_ROW_MODE ||\n        p.insertionMode === IN_CELL_MODE\n    ) {\n        p.insertionMode = IN_SELECT_IN_TABLE_MODE;\n    } else {\n        p.insertionMode = IN_SELECT_MODE;\n    }\n}\n\nfunction optgroupStartTagInBody(p, token) {\n    if (p.openElements.currentTagName === $.OPTION) {\n        p.openElements.pop();\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\n\nfunction rbStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTags();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction rtStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.RTC);\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction menuStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction mathStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    foreignContent.adjustTokenMathMLAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n\n    if (token.selfClosing) {\n        p._appendElement(token, NS.MATHML);\n    } else {\n        p._insertElement(token, NS.MATHML);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction svgStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    foreignContent.adjustTokenSVGAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n\n    if (token.selfClosing) {\n        p._appendElement(token, NS.SVG);\n    } else {\n        p._insertElement(token, NS.SVG);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction genericStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\n\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\n//It's faster than using dictionary.\nfunction startTagInBody(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 1:\n            if (tn === $.I || tn === $.S || tn === $.B || tn === $.U) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.P) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.A) {\n                aStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 2:\n            if (tn === $.DL || tn === $.OL || tn === $.UL) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n                numberedHeaderStartTagInBody(p, token);\n            } else if (tn === $.LI || tn === $.DD || tn === $.DT) {\n                listItemStartTagInBody(p, token);\n            } else if (tn === $.EM || tn === $.TT) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.BR) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.HR) {\n                hrStartTagInBody(p, token);\n            } else if (tn === $.RB) {\n                rbStartTagInBody(p, token);\n            } else if (tn === $.RT || tn === $.RP) {\n                rtStartTagInBody(p, token);\n            } else if (tn !== $.TH && tn !== $.TD && tn !== $.TR) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.DIV || tn === $.DIR || tn === $.NAV) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.PRE) {\n                preStartTagInBody(p, token);\n            } else if (tn === $.BIG) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.IMG || tn === $.WBR) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.XMP) {\n                xmpStartTagInBody(p, token);\n            } else if (tn === $.SVG) {\n                svgStartTagInBody(p, token);\n            } else if (tn === $.RTC) {\n                rbStartTagInBody(p, token);\n            } else if (tn !== $.COL) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.HTML) {\n                htmlStartTagInBody(p, token);\n            } else if (tn === $.BASE || tn === $.LINK || tn === $.META) {\n                startTagInHead(p, token);\n            } else if (tn === $.BODY) {\n                bodyStartTagInBody(p, token);\n            } else if (tn === $.MAIN || tn === $.MENU) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.FORM) {\n                formStartTagInBody(p, token);\n            } else if (tn === $.CODE || tn === $.FONT) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.NOBR) {\n                nobrStartTagInBody(p, token);\n            } else if (tn === $.AREA) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.MATH) {\n                mathStartTagInBody(p, token);\n            } else if (tn === $.MENU) {\n                menuStartTagInBody(p, token);\n            } else if (tn !== $.HEAD) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.STYLE || tn === $.TITLE) {\n                startTagInHead(p, token);\n            } else if (tn === $.ASIDE) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.SMALL) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.TABLE) {\n                tableStartTagInBody(p, token);\n            } else if (tn === $.EMBED) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.INPUT) {\n                inputStartTagInBody(p, token);\n            } else if (tn === $.PARAM || tn === $.TRACK) {\n                paramStartTagInBody(p, token);\n            } else if (tn === $.IMAGE) {\n                imageStartTagInBody(p, token);\n            } else if (tn !== $.FRAME && tn !== $.TBODY && tn !== $.TFOOT && tn !== $.THEAD) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (tn === $.SCRIPT) {\n                startTagInHead(p, token);\n            } else if (\n                tn === $.CENTER ||\n                tn === $.FIGURE ||\n                tn === $.FOOTER ||\n                tn === $.HEADER ||\n                tn === $.HGROUP ||\n                tn === $.DIALOG\n            ) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.BUTTON) {\n                buttonStartTagInBody(p, token);\n            } else if (tn === $.STRIKE || tn === $.STRONG) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.APPLET || tn === $.OBJECT) {\n                appletStartTagInBody(p, token);\n            } else if (tn === $.KEYGEN) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.SOURCE) {\n                paramStartTagInBody(p, token);\n            } else if (tn === $.IFRAME) {\n                iframeStartTagInBody(p, token);\n            } else if (tn === $.SELECT) {\n                selectStartTagInBody(p, token);\n            } else if (tn === $.OPTION) {\n                optgroupStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (tn === $.BGSOUND) {\n                startTagInHead(p, token);\n            } else if (\n                tn === $.DETAILS ||\n                tn === $.ADDRESS ||\n                tn === $.ARTICLE ||\n                tn === $.SECTION ||\n                tn === $.SUMMARY\n            ) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.LISTING) {\n                preStartTagInBody(p, token);\n            } else if (tn === $.MARQUEE) {\n                appletStartTagInBody(p, token);\n            } else if (tn === $.NOEMBED) {\n                noembedStartTagInBody(p, token);\n            } else if (tn !== $.CAPTION) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.BASEFONT) {\n                startTagInHead(p, token);\n            } else if (tn === $.FRAMESET) {\n                framesetStartTagInBody(p, token);\n            } else if (tn === $.FIELDSET) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.TEXTAREA) {\n                textareaStartTagInBody(p, token);\n            } else if (tn === $.TEMPLATE) {\n                startTagInHead(p, token);\n            } else if (tn === $.NOSCRIPT) {\n                if (p.options.scriptingEnabled) {\n                    noembedStartTagInBody(p, token);\n                } else {\n                    genericStartTagInBody(p, token);\n                }\n            } else if (tn === $.OPTGROUP) {\n                optgroupStartTagInBody(p, token);\n            } else if (tn !== $.COLGROUP) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 9:\n            if (tn === $.PLAINTEXT) {\n                plaintextStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 10:\n            if (tn === $.BLOCKQUOTE || tn === $.FIGCAPTION) {\n                addressStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        default:\n            genericStartTagInBody(p, token);\n    }\n}\n\nfunction bodyEndTagInBody(p) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = AFTER_BODY_MODE;\n    }\n}\n\nfunction htmlEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = AFTER_BODY_MODE;\n        p._processToken(token);\n    }\n}\n\nfunction addressEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\n\nfunction formEndTagInBody(p) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    const formElement = p.formElement;\n\n    if (!inTemplate) {\n        p.formElement = null;\n    }\n\n    if ((formElement || inTemplate) && p.openElements.hasInScope($.FORM)) {\n        p.openElements.generateImpliedEndTags();\n\n        if (inTemplate) {\n            p.openElements.popUntilTagNamePopped($.FORM);\n        } else {\n            p.openElements.remove(formElement);\n        }\n    }\n}\n\nfunction pEndTagInBody(p) {\n    if (!p.openElements.hasInButtonScope($.P)) {\n        p._insertFakeElement($.P);\n    }\n\n    p._closePElement();\n}\n\nfunction liEndTagInBody(p) {\n    if (p.openElements.hasInListItemScope($.LI)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.LI);\n        p.openElements.popUntilTagNamePopped($.LI);\n    }\n}\n\nfunction ddEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTagsWithExclusion(tn);\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\n\nfunction numberedHeaderEndTagInBody(p) {\n    if (p.openElements.hasNumberedHeaderInScope()) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilNumberedHeaderPopped();\n    }\n}\n\nfunction appletEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n        p.activeFormattingElements.clearToLastMarker();\n    }\n}\n\nfunction brEndTagInBody(p) {\n    p._reconstructActiveFormattingElements();\n    p._insertFakeElement($.BR);\n    p.openElements.pop();\n    p.framesetOk = false;\n}\n\nfunction genericEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (p.treeAdapter.getTagName(element) === tn) {\n            p.openElements.generateImpliedEndTagsWithExclusion(tn);\n            p.openElements.popUntilElementPopped(element);\n            break;\n        }\n\n        if (p._isSpecialElement(element)) {\n            break;\n        }\n    }\n}\n\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\n//It's faster than using dictionary.\nfunction endTagInBody(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 1:\n            if (tn === $.A || tn === $.B || tn === $.I || tn === $.S || tn === $.U) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.P) {\n                pEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 2:\n            if (tn === $.DL || tn === $.UL || tn === $.OL) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.LI) {\n                liEndTagInBody(p, token);\n            } else if (tn === $.DD || tn === $.DT) {\n                ddEndTagInBody(p, token);\n            } else if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n                numberedHeaderEndTagInBody(p, token);\n            } else if (tn === $.BR) {\n                brEndTagInBody(p, token);\n            } else if (tn === $.EM || tn === $.TT) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.BIG) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.DIR || tn === $.DIV || tn === $.NAV || tn === $.PRE) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.BODY) {\n                bodyEndTagInBody(p, token);\n            } else if (tn === $.HTML) {\n                htmlEndTagInBody(p, token);\n            } else if (tn === $.FORM) {\n                formEndTagInBody(p, token);\n            } else if (tn === $.CODE || tn === $.FONT || tn === $.NOBR) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.MAIN || tn === $.MENU) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.ASIDE) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.SMALL) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (\n                tn === $.CENTER ||\n                tn === $.FIGURE ||\n                tn === $.FOOTER ||\n                tn === $.HEADER ||\n                tn === $.HGROUP ||\n                tn === $.DIALOG\n            ) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.APPLET || tn === $.OBJECT) {\n                appletEndTagInBody(p, token);\n            } else if (tn === $.STRIKE || tn === $.STRONG) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (\n                tn === $.ADDRESS ||\n                tn === $.ARTICLE ||\n                tn === $.DETAILS ||\n                tn === $.SECTION ||\n                tn === $.SUMMARY ||\n                tn === $.LISTING\n            ) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.MARQUEE) {\n                appletEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.FIELDSET) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.TEMPLATE) {\n                endTagInHead(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 10:\n            if (tn === $.BLOCKQUOTE || tn === $.FIGCAPTION) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        default:\n            genericEndTagInBody(p, token);\n    }\n}\n\nfunction eofInBody(p, token) {\n    if (p.tmplInsertionModeStackTop > -1) {\n        eofInTemplate(p, token);\n    } else {\n        p.stopped = true;\n    }\n}\n\n// The \"text\" insertion mode\n//------------------------------------------------------------------\nfunction endTagInText(p, token) {\n    if (token.tagName === $.SCRIPT) {\n        p.pendingScript = p.openElements.current;\n    }\n\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n}\n\nfunction eofInText(p, token) {\n    p._err(ERR.eofInElementThatCanContainOnlyText);\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n\n// The \"in table\" insertion mode\n//------------------------------------------------------------------\nfunction characterInTable(p, token) {\n    const curTn = p.openElements.currentTagName;\n\n    if (curTn === $.TABLE || curTn === $.TBODY || curTn === $.TFOOT || curTn === $.THEAD || curTn === $.TR) {\n        p.pendingCharacterTokens = [];\n        p.hasNonWhitespacePendingCharacterToken = false;\n        p.originalInsertionMode = p.insertionMode;\n        p.insertionMode = IN_TABLE_TEXT_MODE;\n        p._processToken(token);\n    } else {\n        tokenInTable(p, token);\n    }\n}\n\nfunction captionStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p.activeFormattingElements.insertMarker();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_CAPTION_MODE;\n}\n\nfunction colgroupStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_COLUMN_GROUP_MODE;\n}\n\nfunction colStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement($.COLGROUP);\n    p.insertionMode = IN_COLUMN_GROUP_MODE;\n    p._processToken(token);\n}\n\nfunction tbodyStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_TABLE_BODY_MODE;\n}\n\nfunction tdStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement($.TBODY);\n    p.insertionMode = IN_TABLE_BODY_MODE;\n    p._processToken(token);\n}\n\nfunction tableStartTagInTable(p, token) {\n    if (p.openElements.hasInTableScope($.TABLE)) {\n        p.openElements.popUntilTagNamePopped($.TABLE);\n        p._resetInsertionMode();\n        p._processToken(token);\n    }\n}\n\nfunction inputStartTagInTable(p, token) {\n    const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);\n\n    if (inputType && inputType.toLowerCase() === HIDDEN_INPUT_TYPE) {\n        p._appendElement(token, NS.HTML);\n    } else {\n        tokenInTable(p, token);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction formStartTagInTable(p, token) {\n    if (!p.formElement && p.openElements.tmplCount === 0) {\n        p._insertElement(token, NS.HTML);\n        p.formElement = p.openElements.current;\n        p.openElements.pop();\n    }\n}\n\nfunction startTagInTable(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 2:\n            if (tn === $.TD || tn === $.TH || tn === $.TR) {\n                tdStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.COL) {\n                colStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.FORM) {\n                formStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.TABLE) {\n                tableStartTagInTable(p, token);\n            } else if (tn === $.STYLE) {\n                startTagInHead(p, token);\n            } else if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n                tbodyStartTagInTable(p, token);\n            } else if (tn === $.INPUT) {\n                inputStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (tn === $.SCRIPT) {\n                startTagInHead(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (tn === $.CAPTION) {\n                captionStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.COLGROUP) {\n                colgroupStartTagInTable(p, token);\n            } else if (tn === $.TEMPLATE) {\n                startTagInHead(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        default:\n            tokenInTable(p, token);\n    }\n}\n\nfunction endTagInTable(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.TABLE)) {\n            p.openElements.popUntilTagNamePopped($.TABLE);\n            p._resetInsertionMode();\n        }\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else if (\n        tn !== $.BODY &&\n        tn !== $.CAPTION &&\n        tn !== $.COL &&\n        tn !== $.COLGROUP &&\n        tn !== $.HTML &&\n        tn !== $.TBODY &&\n        tn !== $.TD &&\n        tn !== $.TFOOT &&\n        tn !== $.TH &&\n        tn !== $.THEAD &&\n        tn !== $.TR\n    ) {\n        tokenInTable(p, token);\n    }\n}\n\nfunction tokenInTable(p, token) {\n    const savedFosterParentingState = p.fosterParentingEnabled;\n\n    p.fosterParentingEnabled = true;\n    p._processTokenInBodyMode(token);\n    p.fosterParentingEnabled = savedFosterParentingState;\n}\n\n// The \"in table text\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n}\n\nfunction characterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n    p.hasNonWhitespacePendingCharacterToken = true;\n}\n\nfunction tokenInTableText(p, token) {\n    let i = 0;\n\n    if (p.hasNonWhitespacePendingCharacterToken) {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            tokenInTable(p, p.pendingCharacterTokens[i]);\n        }\n    } else {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            p._insertCharacters(p.pendingCharacterTokens[i]);\n        }\n    }\n\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n\n// The \"in caption\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCaption(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TD ||\n        tn === $.TFOOT ||\n        tn === $.TH ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInBody(p, token);\n    }\n}\n\nfunction endTagInCaption(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.CAPTION || tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_TABLE_MODE;\n\n            if (tn === $.TABLE) {\n                p._processToken(token);\n            }\n        }\n    } else if (\n        tn !== $.BODY &&\n        tn !== $.COL &&\n        tn !== $.COLGROUP &&\n        tn !== $.HTML &&\n        tn !== $.TBODY &&\n        tn !== $.TD &&\n        tn !== $.TFOOT &&\n        tn !== $.TH &&\n        tn !== $.THEAD &&\n        tn !== $.TR\n    ) {\n        endTagInBody(p, token);\n    }\n}\n\n// The \"in column group\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInColumnGroup(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.COL) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.TEMPLATE) {\n        startTagInHead(p, token);\n    } else {\n        tokenInColumnGroup(p, token);\n    }\n}\n\nfunction endTagInColumnGroup(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.COLGROUP) {\n        if (p.openElements.currentTagName === $.COLGROUP) {\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n        }\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else if (tn !== $.COL) {\n        tokenInColumnGroup(p, token);\n    }\n}\n\nfunction tokenInColumnGroup(p, token) {\n    if (p.openElements.currentTagName === $.COLGROUP) {\n        p.openElements.pop();\n        p.insertionMode = IN_TABLE_MODE;\n        p._processToken(token);\n    }\n}\n\n// The \"in table body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTableBody(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TR) {\n        p.openElements.clearBackToTableBodyContext();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_ROW_MODE;\n    } else if (tn === $.TH || tn === $.TD) {\n        p.openElements.clearBackToTableBodyContext();\n        p._insertFakeElement($.TR);\n        p.insertionMode = IN_ROW_MODE;\n        p._processToken(token);\n    } else if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD\n    ) {\n        if (p.openElements.hasTableBodyContextInTableScope()) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInTable(p, token);\n    }\n}\n\nfunction endTagInTableBody(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n        }\n    } else if (tn === $.TABLE) {\n        if (p.openElements.hasTableBodyContextInTableScope()) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else if (\n        (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP) ||\n        (tn !== $.HTML && tn !== $.TD && tn !== $.TH && tn !== $.TR)\n    ) {\n        endTagInTable(p, token);\n    }\n}\n\n// The \"in row\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInRow(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TH || tn === $.TD) {\n        p.openElements.clearBackToTableRowContext();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_CELL_MODE;\n        p.activeFormattingElements.insertMarker();\n    } else if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInTable(p, token);\n    }\n}\n\nfunction endTagInRow(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TR) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n        }\n    } else if (tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n        if (p.openElements.hasInTableScope(tn) || p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else if (\n        (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP) ||\n        (tn !== $.HTML && tn !== $.TD && tn !== $.TH)\n    ) {\n        endTagInTable(p, token);\n    }\n}\n\n// The \"in cell\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCell(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TD ||\n        tn === $.TFOOT ||\n        tn === $.TH ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.TD) || p.openElements.hasInTableScope($.TH)) {\n            p._closeTableCell();\n            p._processToken(token);\n        }\n    } else {\n        startTagInBody(p, token);\n    }\n}\n\nfunction endTagInCell(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TD || tn === $.TH) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped(tn);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_ROW_MODE;\n        }\n    } else if (tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p._closeTableCell();\n            p._processToken(token);\n        }\n    } else if (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP && tn !== $.HTML) {\n        endTagInBody(p, token);\n    }\n}\n\n// The \"in select\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelect(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.OPTION) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.OPTGROUP) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n\n        if (p.openElements.currentTagName === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.INPUT || tn === $.KEYGEN || tn === $.TEXTAREA || tn === $.SELECT) {\n        if (p.openElements.hasInSelectScope($.SELECT)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n\n            if (tn !== $.SELECT) {\n                p._processToken(token);\n            }\n        }\n    } else if (tn === $.SCRIPT || tn === $.TEMPLATE) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagInSelect(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.OPTGROUP) {\n        const prevOpenElement = p.openElements.items[p.openElements.stackTop - 1];\n        const prevOpenElementTn = prevOpenElement && p.treeAdapter.getTagName(prevOpenElement);\n\n        if (p.openElements.currentTagName === $.OPTION && prevOpenElementTn === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n\n        if (p.openElements.currentTagName === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n    } else if (tn === $.OPTION) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n    } else if (tn === $.SELECT && p.openElements.hasInSelectScope($.SELECT)) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    }\n}\n\n//12.2.5.4.17 The \"in select in table\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelectInTable(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH\n    ) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n        p._processToken(token);\n    } else {\n        startTagInSelect(p, token);\n    }\n}\n\nfunction endTagInSelectInTable(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH\n    ) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n            p._processToken(token);\n        }\n    } else {\n        endTagInSelect(p, token);\n    }\n}\n\n// The \"in template\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTemplate(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.BASE ||\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.SCRIPT ||\n        tn === $.STYLE ||\n        tn === $.TEMPLATE ||\n        tn === $.TITLE\n    ) {\n        startTagInHead(p, token);\n    } else {\n        const newInsertionMode = TEMPLATE_INSERTION_MODE_SWITCH_MAP[tn] || IN_BODY_MODE;\n\n        p._popTmplInsertionMode();\n        p._pushTmplInsertionMode(newInsertionMode);\n        p.insertionMode = newInsertionMode;\n        p._processToken(token);\n    }\n}\n\nfunction endTagInTemplate(p, token) {\n    if (token.tagName === $.TEMPLATE) {\n        endTagInHead(p, token);\n    }\n}\n\nfunction eofInTemplate(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p._popTmplInsertionMode();\n        p._resetInsertionMode();\n        p._processToken(token);\n    } else {\n        p.stopped = true;\n    }\n}\n\n// The \"after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        startTagInBody(p, token);\n    } else {\n        tokenAfterBody(p, token);\n    }\n}\n\nfunction endTagAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        if (!p.fragmentContext) {\n            p.insertionMode = AFTER_AFTER_BODY_MODE;\n        }\n    } else {\n        tokenAfterBody(p, token);\n    }\n}\n\nfunction tokenAfterBody(p, token) {\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"in frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.FRAMESET) {\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.FRAME) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagInFrameset(p, token) {\n    if (token.tagName === $.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {\n        p.openElements.pop();\n\n        if (!p.fragmentContext && p.openElements.currentTagName !== $.FRAMESET) {\n            p.insertionMode = AFTER_FRAMESET_MODE;\n        }\n    }\n}\n\n// The \"after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagAfterFrameset(p, token) {\n    if (token.tagName === $.HTML) {\n        p.insertionMode = AFTER_AFTER_FRAMESET_MODE;\n    }\n}\n\n// The \"after after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        startTagInBody(p, token);\n    } else {\n        tokenAfterAfterBody(p, token);\n    }\n}\n\nfunction tokenAfterAfterBody(p, token) {\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"after after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\n// The rules for parsing tokens in foreign content\n//------------------------------------------------------------------\nfunction nullCharacterInForeignContent(p, token) {\n    token.chars = unicode.REPLACEMENT_CHARACTER;\n    p._insertCharacters(token);\n}\n\nfunction characterInForeignContent(p, token) {\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\n\nfunction startTagInForeignContent(p, token) {\n    if (foreignContent.causesExit(token) && !p.fragmentContext) {\n        while (\n            p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS.HTML &&\n            !p._isIntegrationPoint(p.openElements.current)\n        ) {\n            p.openElements.pop();\n        }\n\n        p._processToken(token);\n    } else {\n        const current = p._getAdjustedCurrentElement();\n        const currentNs = p.treeAdapter.getNamespaceURI(current);\n\n        if (currentNs === NS.MATHML) {\n            foreignContent.adjustTokenMathMLAttrs(token);\n        } else if (currentNs === NS.SVG) {\n            foreignContent.adjustTokenSVGTagName(token);\n            foreignContent.adjustTokenSVGAttrs(token);\n        }\n\n        foreignContent.adjustTokenXMLAttrs(token);\n\n        if (token.selfClosing) {\n            p._appendElement(token, currentNs);\n        } else {\n            p._insertElement(token, currentNs);\n        }\n\n        token.ackSelfClosing = true;\n    }\n}\n\nfunction endTagInForeignContent(p, token) {\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (p.treeAdapter.getNamespaceURI(element) === NS.HTML) {\n            p._processToken(token);\n            break;\n        }\n\n        if (p.treeAdapter.getTagName(element).toLowerCase() === token.tagName) {\n            p.openElements.popUntilElementPopped(element);\n            break;\n        }\n    }\n}\n",
    "'use strict';\n\nconst HTML = require('../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\n\n//Element utils\n\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\n//It's faster than using dictionary.\nfunction isImpliedEndTagRequired(tn) {\n    switch (tn.length) {\n        case 1:\n            return tn === $.P;\n\n        case 2:\n            return tn === $.RB || tn === $.RP || tn === $.RT || tn === $.DD || tn === $.DT || tn === $.LI;\n\n        case 3:\n            return tn === $.RTC;\n\n        case 6:\n            return tn === $.OPTION;\n\n        case 8:\n            return tn === $.OPTGROUP;\n    }\n\n    return false;\n}\n\nfunction isImpliedEndTagRequiredThoroughly(tn) {\n    switch (tn.length) {\n        case 1:\n            return tn === $.P;\n\n        case 2:\n            return (\n                tn === $.RB ||\n                tn === $.RP ||\n                tn === $.RT ||\n                tn === $.DD ||\n                tn === $.DT ||\n                tn === $.LI ||\n                tn === $.TD ||\n                tn === $.TH ||\n                tn === $.TR\n            );\n\n        case 3:\n            return tn === $.RTC;\n\n        case 5:\n            return tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD;\n\n        case 6:\n            return tn === $.OPTION;\n\n        case 7:\n            return tn === $.CAPTION;\n\n        case 8:\n            return tn === $.OPTGROUP || tn === $.COLGROUP;\n    }\n\n    return false;\n}\n\nfunction isScopingElement(tn, ns) {\n    switch (tn.length) {\n        case 2:\n            if (tn === $.TD || tn === $.TH) {\n                return ns === NS.HTML;\n            } else if (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS) {\n                return ns === NS.MATHML;\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.HTML) {\n                return ns === NS.HTML;\n            } else if (tn === $.DESC) {\n                return ns === NS.SVG;\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.TABLE) {\n                return ns === NS.HTML;\n            } else if (tn === $.MTEXT) {\n                return ns === NS.MATHML;\n            } else if (tn === $.TITLE) {\n                return ns === NS.SVG;\n            }\n\n            break;\n\n        case 6:\n            return (tn === $.APPLET || tn === $.OBJECT) && ns === NS.HTML;\n\n        case 7:\n            return (tn === $.CAPTION || tn === $.MARQUEE) && ns === NS.HTML;\n\n        case 8:\n            return tn === $.TEMPLATE && ns === NS.HTML;\n\n        case 13:\n            return tn === $.FOREIGN_OBJECT && ns === NS.SVG;\n\n        case 14:\n            return tn === $.ANNOTATION_XML && ns === NS.MATHML;\n    }\n\n    return false;\n}\n\n//Stack of open elements\nclass OpenElementStack {\n    constructor(document, treeAdapter) {\n        this.stackTop = -1;\n        this.items = [];\n        this.current = document;\n        this.currentTagName = null;\n        this.currentTmplContent = null;\n        this.tmplCount = 0;\n        this.treeAdapter = treeAdapter;\n    }\n\n    //Index of element\n    _indexOf(element) {\n        let idx = -1;\n\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.items[i] === element) {\n                idx = i;\n                break;\n            }\n        }\n        return idx;\n    }\n\n    //Update current element\n    _isInTemplate() {\n        return this.currentTagName === $.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;\n    }\n\n    _updateCurrentElement() {\n        this.current = this.items[this.stackTop];\n        this.currentTagName = this.current && this.treeAdapter.getTagName(this.current);\n\n        this.currentTmplContent = this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : null;\n    }\n\n    //Mutations\n    push(element) {\n        this.items[++this.stackTop] = element;\n        this._updateCurrentElement();\n\n        if (this._isInTemplate()) {\n            this.tmplCount++;\n        }\n    }\n\n    pop() {\n        this.stackTop--;\n\n        if (this.tmplCount > 0 && this._isInTemplate()) {\n            this.tmplCount--;\n        }\n\n        this._updateCurrentElement();\n    }\n\n    replace(oldElement, newElement) {\n        const idx = this._indexOf(oldElement);\n\n        this.items[idx] = newElement;\n\n        if (idx === this.stackTop) {\n            this._updateCurrentElement();\n        }\n    }\n\n    insertAfter(referenceElement, newElement) {\n        const insertionIdx = this._indexOf(referenceElement) + 1;\n\n        this.items.splice(insertionIdx, 0, newElement);\n\n        if (insertionIdx === ++this.stackTop) {\n            this._updateCurrentElement();\n        }\n    }\n\n    popUntilTagNamePopped(tagName) {\n        while (this.stackTop > -1) {\n            const tn = this.currentTagName;\n            const ns = this.treeAdapter.getNamespaceURI(this.current);\n\n            this.pop();\n\n            if (tn === tagName && ns === NS.HTML) {\n                break;\n            }\n        }\n    }\n\n    popUntilElementPopped(element) {\n        while (this.stackTop > -1) {\n            const poppedElement = this.current;\n\n            this.pop();\n\n            if (poppedElement === element) {\n                break;\n            }\n        }\n    }\n\n    popUntilNumberedHeaderPopped() {\n        while (this.stackTop > -1) {\n            const tn = this.currentTagName;\n            const ns = this.treeAdapter.getNamespaceURI(this.current);\n\n            this.pop();\n\n            if (\n                tn === $.H1 ||\n                tn === $.H2 ||\n                tn === $.H3 ||\n                tn === $.H4 ||\n                tn === $.H5 ||\n                (tn === $.H6 && ns === NS.HTML)\n            ) {\n                break;\n            }\n        }\n    }\n\n    popUntilTableCellPopped() {\n        while (this.stackTop > -1) {\n            const tn = this.currentTagName;\n            const ns = this.treeAdapter.getNamespaceURI(this.current);\n\n            this.pop();\n\n            if (tn === $.TD || (tn === $.TH && ns === NS.HTML)) {\n                break;\n            }\n        }\n    }\n\n    popAllUpToHtmlElement() {\n        //NOTE: here we assume that root <html> element is always first in the open element stack, so\n        //we perform this fast stack clean up.\n        this.stackTop = 0;\n        this._updateCurrentElement();\n    }\n\n    clearBackToTableContext() {\n        while (\n            (this.currentTagName !== $.TABLE && this.currentTagName !== $.TEMPLATE && this.currentTagName !== $.HTML) ||\n            this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML\n        ) {\n            this.pop();\n        }\n    }\n\n    clearBackToTableBodyContext() {\n        while (\n            (this.currentTagName !== $.TBODY &&\n                this.currentTagName !== $.TFOOT &&\n                this.currentTagName !== $.THEAD &&\n                this.currentTagName !== $.TEMPLATE &&\n                this.currentTagName !== $.HTML) ||\n            this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML\n        ) {\n            this.pop();\n        }\n    }\n\n    clearBackToTableRowContext() {\n        while (\n            (this.currentTagName !== $.TR && this.currentTagName !== $.TEMPLATE && this.currentTagName !== $.HTML) ||\n            this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML\n        ) {\n            this.pop();\n        }\n    }\n\n    remove(element) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.items[i] === element) {\n                this.items.splice(i, 1);\n                this.stackTop--;\n                this._updateCurrentElement();\n                break;\n            }\n        }\n    }\n\n    //Search\n    tryPeekProperlyNestedBodyElement() {\n        //Properly nested <body> element (should be second element in stack).\n        const element = this.items[1];\n\n        return element && this.treeAdapter.getTagName(element) === $.BODY ? element : null;\n    }\n\n    contains(element) {\n        return this._indexOf(element) > -1;\n    }\n\n    getCommonAncestor(element) {\n        let elementIdx = this._indexOf(element);\n\n        return --elementIdx >= 0 ? this.items[elementIdx] : null;\n    }\n\n    isRootHtmlElementCurrent() {\n        return this.stackTop === 0 && this.currentTagName === $.HTML;\n    }\n\n    //Element in scope\n    hasInScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n\n            if (isScopingElement(tn, ns)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasNumberedHeaderInScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (\n                (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) &&\n                ns === NS.HTML\n            ) {\n                return true;\n            }\n\n            if (isScopingElement(tn, ns)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasInListItemScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n\n            if (((tn === $.UL || tn === $.OL) && ns === NS.HTML) || isScopingElement(tn, ns)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasInButtonScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n\n            if ((tn === $.BUTTON && ns === NS.HTML) || isScopingElement(tn, ns)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasInTableScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (ns !== NS.HTML) {\n                continue;\n            }\n\n            if (tn === tagName) {\n                return true;\n            }\n\n            if (tn === $.TABLE || tn === $.TEMPLATE || tn === $.HTML) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasTableBodyContextInTableScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (ns !== NS.HTML) {\n                continue;\n            }\n\n            if (tn === $.TBODY || tn === $.THEAD || tn === $.TFOOT) {\n                return true;\n            }\n\n            if (tn === $.TABLE || tn === $.HTML) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasInSelectScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (ns !== NS.HTML) {\n                continue;\n            }\n\n            if (tn === tagName) {\n                return true;\n            }\n\n            if (tn !== $.OPTION && tn !== $.OPTGROUP) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    //Implied end tags\n    generateImpliedEndTags() {\n        while (isImpliedEndTagRequired(this.currentTagName)) {\n            this.pop();\n        }\n    }\n\n    generateImpliedEndTagsThoroughly() {\n        while (isImpliedEndTagRequiredThoroughly(this.currentTagName)) {\n            this.pop();\n        }\n    }\n\n    generateImpliedEndTagsWithExclusion(exclusionTagName) {\n        while (isImpliedEndTagRequired(this.currentTagName) && this.currentTagName !== exclusionTagName) {\n            this.pop();\n        }\n    }\n}\n\nmodule.exports = OpenElementStack;\n",
    "'use strict';\n\nconst defaultTreeAdapter = require('../tree-adapters/default');\nconst mergeOptions = require('../utils/merge-options');\nconst doctype = require('../common/doctype');\nconst HTML = require('../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\n\n//Default serializer options\nconst DEFAULT_OPTIONS = {\n    treeAdapter: defaultTreeAdapter\n};\n\n//Escaping regexes\nconst AMP_REGEX = /&/g;\nconst NBSP_REGEX = /\\u00a0/g;\nconst DOUBLE_QUOTE_REGEX = /\"/g;\nconst LT_REGEX = /</g;\nconst GT_REGEX = />/g;\n\n//Serializer\nclass Serializer {\n    constructor(node, options) {\n        this.options = mergeOptions(DEFAULT_OPTIONS, options);\n        this.treeAdapter = this.options.treeAdapter;\n\n        this.html = '';\n        this.startNode = node;\n    }\n\n    //API\n    serialize() {\n        this._serializeChildNodes(this.startNode);\n\n        return this.html;\n    }\n\n    //Internals\n    _serializeChildNodes(parentNode) {\n        const childNodes = this.treeAdapter.getChildNodes(parentNode);\n\n        if (childNodes) {\n            for (let i = 0, cnLength = childNodes.length; i < cnLength; i++) {\n                const currentNode = childNodes[i];\n\n                if (this.treeAdapter.isElementNode(currentNode)) {\n                    this._serializeElement(currentNode);\n                } else if (this.treeAdapter.isTextNode(currentNode)) {\n                    this._serializeTextNode(currentNode);\n                } else if (this.treeAdapter.isCommentNode(currentNode)) {\n                    this._serializeCommentNode(currentNode);\n                } else if (this.treeAdapter.isDocumentTypeNode(currentNode)) {\n                    this._serializeDocumentTypeNode(currentNode);\n                }\n            }\n        }\n    }\n\n    _serializeElement(node) {\n        const tn = this.treeAdapter.getTagName(node);\n        const ns = this.treeAdapter.getNamespaceURI(node);\n\n        this.html += '<' + tn;\n        this._serializeAttributes(node);\n        this.html += '>';\n\n        if (\n            tn !== $.AREA &&\n            tn !== $.BASE &&\n            tn !== $.BASEFONT &&\n            tn !== $.BGSOUND &&\n            tn !== $.BR &&\n            tn !== $.COL &&\n            tn !== $.EMBED &&\n            tn !== $.FRAME &&\n            tn !== $.HR &&\n            tn !== $.IMG &&\n            tn !== $.INPUT &&\n            tn !== $.KEYGEN &&\n            tn !== $.LINK &&\n            tn !== $.META &&\n            tn !== $.PARAM &&\n            tn !== $.SOURCE &&\n            tn !== $.TRACK &&\n            tn !== $.WBR\n        ) {\n            const childNodesHolder =\n                tn === $.TEMPLATE && ns === NS.HTML ? this.treeAdapter.getTemplateContent(node) : node;\n\n            this._serializeChildNodes(childNodesHolder);\n            this.html += '</' + tn + '>';\n        }\n    }\n\n    _serializeAttributes(node) {\n        const attrs = this.treeAdapter.getAttrList(node);\n\n        for (let i = 0, attrsLength = attrs.length; i < attrsLength; i++) {\n            const attr = attrs[i];\n            const value = Serializer.escapeString(attr.value, true);\n\n            this.html += ' ';\n\n            if (!attr.namespace) {\n                this.html += attr.name;\n            } else if (attr.namespace === NS.XML) {\n                this.html += 'xml:' + attr.name;\n            } else if (attr.namespace === NS.XMLNS) {\n                if (attr.name !== 'xmlns') {\n                    this.html += 'xmlns:';\n                }\n\n                this.html += attr.name;\n            } else if (attr.namespace === NS.XLINK) {\n                this.html += 'xlink:' + attr.name;\n            } else {\n                this.html += attr.prefix + ':' + attr.name;\n            }\n\n            this.html += '=\"' + value + '\"';\n        }\n    }\n\n    _serializeTextNode(node) {\n        const content = this.treeAdapter.getTextNodeContent(node);\n        const parent = this.treeAdapter.getParentNode(node);\n        let parentTn = void 0;\n\n        if (parent && this.treeAdapter.isElementNode(parent)) {\n            parentTn = this.treeAdapter.getTagName(parent);\n        }\n\n        if (\n            parentTn === $.STYLE ||\n            parentTn === $.SCRIPT ||\n            parentTn === $.XMP ||\n            parentTn === $.IFRAME ||\n            parentTn === $.NOEMBED ||\n            parentTn === $.NOFRAMES ||\n            parentTn === $.PLAINTEXT ||\n            parentTn === $.NOSCRIPT\n        ) {\n            this.html += content;\n        } else {\n            this.html += Serializer.escapeString(content, false);\n        }\n    }\n\n    _serializeCommentNode(node) {\n        this.html += '<!--' + this.treeAdapter.getCommentNodeContent(node) + '-->';\n    }\n\n    _serializeDocumentTypeNode(node) {\n        const name = this.treeAdapter.getDocumentTypeNodeName(node);\n\n        this.html += '<' + doctype.serializeContent(name, null, null) + '>';\n    }\n}\n\n// NOTE: used in tests and by rewriting stream\nSerializer.escapeString = function(str, attrMode) {\n    str = str.replace(AMP_REGEX, '&amp;').replace(NBSP_REGEX, '&nbsp;');\n\n    if (attrMode) {\n        str = str.replace(DOUBLE_QUOTE_REGEX, '&quot;');\n    } else {\n        str = str.replace(LT_REGEX, '&lt;').replace(GT_REGEX, '&gt;');\n    }\n\n    return str;\n};\n\nmodule.exports = Serializer;\n",
    "'use strict';\n\nconst Preprocessor = require('./preprocessor');\nconst unicode = require('../common/unicode');\nconst neTree = require('./named-entity-data');\nconst ERR = require('../common/error-codes');\n\n//Aliases\nconst $ = unicode.CODE_POINTS;\nconst $$ = unicode.CODE_POINT_SEQUENCES;\n\n//C1 Unicode control character reference replacements\nconst C1_CONTROLS_REFERENCE_REPLACEMENTS = {\n    0x80: 0x20ac,\n    0x82: 0x201a,\n    0x83: 0x0192,\n    0x84: 0x201e,\n    0x85: 0x2026,\n    0x86: 0x2020,\n    0x87: 0x2021,\n    0x88: 0x02c6,\n    0x89: 0x2030,\n    0x8a: 0x0160,\n    0x8b: 0x2039,\n    0x8c: 0x0152,\n    0x8e: 0x017d,\n    0x91: 0x2018,\n    0x92: 0x2019,\n    0x93: 0x201c,\n    0x94: 0x201d,\n    0x95: 0x2022,\n    0x96: 0x2013,\n    0x97: 0x2014,\n    0x98: 0x02dc,\n    0x99: 0x2122,\n    0x9a: 0x0161,\n    0x9b: 0x203a,\n    0x9c: 0x0153,\n    0x9e: 0x017e,\n    0x9f: 0x0178\n};\n\n// Named entity tree flags\nconst HAS_DATA_FLAG = 1 << 0;\nconst DATA_DUPLET_FLAG = 1 << 1;\nconst HAS_BRANCHES_FLAG = 1 << 2;\nconst MAX_BRANCH_MARKER_VALUE = HAS_DATA_FLAG | DATA_DUPLET_FLAG | HAS_BRANCHES_FLAG;\n\n//States\nconst DATA_STATE = 'DATA_STATE';\nconst RCDATA_STATE = 'RCDATA_STATE';\nconst RAWTEXT_STATE = 'RAWTEXT_STATE';\nconst SCRIPT_DATA_STATE = 'SCRIPT_DATA_STATE';\nconst PLAINTEXT_STATE = 'PLAINTEXT_STATE';\nconst TAG_OPEN_STATE = 'TAG_OPEN_STATE';\nconst END_TAG_OPEN_STATE = 'END_TAG_OPEN_STATE';\nconst TAG_NAME_STATE = 'TAG_NAME_STATE';\nconst RCDATA_LESS_THAN_SIGN_STATE = 'RCDATA_LESS_THAN_SIGN_STATE';\nconst RCDATA_END_TAG_OPEN_STATE = 'RCDATA_END_TAG_OPEN_STATE';\nconst RCDATA_END_TAG_NAME_STATE = 'RCDATA_END_TAG_NAME_STATE';\nconst RAWTEXT_LESS_THAN_SIGN_STATE = 'RAWTEXT_LESS_THAN_SIGN_STATE';\nconst RAWTEXT_END_TAG_OPEN_STATE = 'RAWTEXT_END_TAG_OPEN_STATE';\nconst RAWTEXT_END_TAG_NAME_STATE = 'RAWTEXT_END_TAG_NAME_STATE';\nconst SCRIPT_DATA_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_LESS_THAN_SIGN_STATE';\nconst SCRIPT_DATA_END_TAG_OPEN_STATE = 'SCRIPT_DATA_END_TAG_OPEN_STATE';\nconst SCRIPT_DATA_END_TAG_NAME_STATE = 'SCRIPT_DATA_END_TAG_NAME_STATE';\nconst SCRIPT_DATA_ESCAPE_START_STATE = 'SCRIPT_DATA_ESCAPE_START_STATE';\nconst SCRIPT_DATA_ESCAPE_START_DASH_STATE = 'SCRIPT_DATA_ESCAPE_START_DASH_STATE';\nconst SCRIPT_DATA_ESCAPED_STATE = 'SCRIPT_DATA_ESCAPED_STATE';\nconst SCRIPT_DATA_ESCAPED_DASH_STATE = 'SCRIPT_DATA_ESCAPED_DASH_STATE';\nconst SCRIPT_DATA_ESCAPED_DASH_DASH_STATE = 'SCRIPT_DATA_ESCAPED_DASH_DASH_STATE';\nconst SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE';\nconst SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE = 'SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE';\nconst SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE = 'SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPED_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE';\nconst BEFORE_ATTRIBUTE_NAME_STATE = 'BEFORE_ATTRIBUTE_NAME_STATE';\nconst ATTRIBUTE_NAME_STATE = 'ATTRIBUTE_NAME_STATE';\nconst AFTER_ATTRIBUTE_NAME_STATE = 'AFTER_ATTRIBUTE_NAME_STATE';\nconst BEFORE_ATTRIBUTE_VALUE_STATE = 'BEFORE_ATTRIBUTE_VALUE_STATE';\nconst ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE = 'ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE';\nconst ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE = 'ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE';\nconst ATTRIBUTE_VALUE_UNQUOTED_STATE = 'ATTRIBUTE_VALUE_UNQUOTED_STATE';\nconst AFTER_ATTRIBUTE_VALUE_QUOTED_STATE = 'AFTER_ATTRIBUTE_VALUE_QUOTED_STATE';\nconst SELF_CLOSING_START_TAG_STATE = 'SELF_CLOSING_START_TAG_STATE';\nconst BOGUS_COMMENT_STATE = 'BOGUS_COMMENT_STATE';\nconst MARKUP_DECLARATION_OPEN_STATE = 'MARKUP_DECLARATION_OPEN_STATE';\nconst COMMENT_START_STATE = 'COMMENT_START_STATE';\nconst COMMENT_START_DASH_STATE = 'COMMENT_START_DASH_STATE';\nconst COMMENT_STATE = 'COMMENT_STATE';\nconst COMMENT_LESS_THAN_SIGN_STATE = 'COMMENT_LESS_THAN_SIGN_STATE';\nconst COMMENT_LESS_THAN_SIGN_BANG_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_STATE';\nconst COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE';\nconst COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE';\nconst COMMENT_END_DASH_STATE = 'COMMENT_END_DASH_STATE';\nconst COMMENT_END_STATE = 'COMMENT_END_STATE';\nconst COMMENT_END_BANG_STATE = 'COMMENT_END_BANG_STATE';\nconst DOCTYPE_STATE = 'DOCTYPE_STATE';\nconst BEFORE_DOCTYPE_NAME_STATE = 'BEFORE_DOCTYPE_NAME_STATE';\nconst DOCTYPE_NAME_STATE = 'DOCTYPE_NAME_STATE';\nconst AFTER_DOCTYPE_NAME_STATE = 'AFTER_DOCTYPE_NAME_STATE';\nconst AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE = 'AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE';\nconst BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE = 'BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE';\nconst DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE = 'DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE';\nconst DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE = 'DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE';\nconst AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE = 'AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE';\nconst BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE = 'BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE';\nconst AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE = 'AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE';\nconst BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE = 'BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE';\nconst DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE = 'DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE';\nconst DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE = 'DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE';\nconst AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE = 'AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE';\nconst BOGUS_DOCTYPE_STATE = 'BOGUS_DOCTYPE_STATE';\nconst CDATA_SECTION_STATE = 'CDATA_SECTION_STATE';\nconst CDATA_SECTION_BRACKET_STATE = 'CDATA_SECTION_BRACKET_STATE';\nconst CDATA_SECTION_END_STATE = 'CDATA_SECTION_END_STATE';\nconst CHARACTER_REFERENCE_STATE = 'CHARACTER_REFERENCE_STATE';\nconst NAMED_CHARACTER_REFERENCE_STATE = 'NAMED_CHARACTER_REFERENCE_STATE';\nconst AMBIGUOUS_AMPERSAND_STATE = 'AMBIGUOS_AMPERSAND_STATE';\nconst NUMERIC_CHARACTER_REFERENCE_STATE = 'NUMERIC_CHARACTER_REFERENCE_STATE';\nconst HEXADEMICAL_CHARACTER_REFERENCE_START_STATE = 'HEXADEMICAL_CHARACTER_REFERENCE_START_STATE';\nconst DECIMAL_CHARACTER_REFERENCE_START_STATE = 'DECIMAL_CHARACTER_REFERENCE_START_STATE';\nconst HEXADEMICAL_CHARACTER_REFERENCE_STATE = 'HEXADEMICAL_CHARACTER_REFERENCE_STATE';\nconst DECIMAL_CHARACTER_REFERENCE_STATE = 'DECIMAL_CHARACTER_REFERENCE_STATE';\nconst NUMERIC_CHARACTER_REFERENCE_END_STATE = 'NUMERIC_CHARACTER_REFERENCE_END_STATE';\n\n//Utils\n\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isWhitespace(cp) {\n    return cp === $.SPACE || cp === $.LINE_FEED || cp === $.TABULATION || cp === $.FORM_FEED;\n}\n\nfunction isAsciiDigit(cp) {\n    return cp >= $.DIGIT_0 && cp <= $.DIGIT_9;\n}\n\nfunction isAsciiUpper(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_Z;\n}\n\nfunction isAsciiLower(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_Z;\n}\n\nfunction isAsciiLetter(cp) {\n    return isAsciiLower(cp) || isAsciiUpper(cp);\n}\n\nfunction isAsciiAlphaNumeric(cp) {\n    return isAsciiLetter(cp) || isAsciiDigit(cp);\n}\n\nfunction isAsciiUpperHexDigit(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_F;\n}\n\nfunction isAsciiLowerHexDigit(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_F;\n}\n\nfunction isAsciiHexDigit(cp) {\n    return isAsciiDigit(cp) || isAsciiUpperHexDigit(cp) || isAsciiLowerHexDigit(cp);\n}\n\nfunction toAsciiLowerCodePoint(cp) {\n    return cp + 0x0020;\n}\n\n//NOTE: String.fromCharCode() function can handle only characters from BMP subset.\n//So, we need to workaround this manually.\n//(see: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/fromCharCode#Getting_it_to_work_with_higher_values)\nfunction toChar(cp) {\n    if (cp <= 0xffff) {\n        return String.fromCharCode(cp);\n    }\n\n    cp -= 0x10000;\n    return String.fromCharCode(((cp >>> 10) & 0x3ff) | 0xd800) + String.fromCharCode(0xdc00 | (cp & 0x3ff));\n}\n\nfunction toAsciiLowerChar(cp) {\n    return String.fromCharCode(toAsciiLowerCodePoint(cp));\n}\n\nfunction findNamedEntityTreeBranch(nodeIx, cp) {\n    const branchCount = neTree[++nodeIx];\n    let lo = ++nodeIx;\n    let hi = lo + branchCount - 1;\n\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midCp = neTree[mid];\n\n        if (midCp < cp) {\n            lo = mid + 1;\n        } else if (midCp > cp) {\n            hi = mid - 1;\n        } else {\n            return neTree[mid + branchCount];\n        }\n    }\n\n    return -1;\n}\n\n//Tokenizer\nclass Tokenizer {\n    constructor() {\n        this.preprocessor = new Preprocessor();\n\n        this.tokenQueue = [];\n\n        this.allowCDATA = false;\n\n        this.state = DATA_STATE;\n        this.returnState = '';\n\n        this.charRefCode = -1;\n        this.tempBuff = [];\n        this.lastStartTagName = '';\n\n        this.consumedAfterSnapshot = -1;\n        this.active = false;\n\n        this.currentCharacterToken = null;\n        this.currentToken = null;\n        this.currentAttr = null;\n    }\n\n    //Errors\n    _err() {\n        // NOTE: err reporting is noop by default. Enabled by mixin.\n    }\n\n    _errOnNextCodePoint(err) {\n        this._consume();\n        this._err(err);\n        this._unconsume();\n    }\n\n    //API\n    getNextToken() {\n        while (!this.tokenQueue.length && this.active) {\n            this.consumedAfterSnapshot = 0;\n\n            const cp = this._consume();\n\n            if (!this._ensureHibernation()) {\n                this[this.state](cp);\n            }\n        }\n\n        return this.tokenQueue.shift();\n    }\n\n    write(chunk, isLastChunk) {\n        this.active = true;\n        this.preprocessor.write(chunk, isLastChunk);\n    }\n\n    insertHtmlAtCurrentPos(chunk) {\n        this.active = true;\n        this.preprocessor.insertHtmlAtCurrentPos(chunk);\n    }\n\n    //Hibernation\n    _ensureHibernation() {\n        if (this.preprocessor.endOfChunkHit) {\n            for (; this.consumedAfterSnapshot > 0; this.consumedAfterSnapshot--) {\n                this.preprocessor.retreat();\n            }\n\n            this.active = false;\n            this.tokenQueue.push({ type: Tokenizer.HIBERNATION_TOKEN });\n\n            return true;\n        }\n\n        return false;\n    }\n\n    //Consumption\n    _consume() {\n        this.consumedAfterSnapshot++;\n        return this.preprocessor.advance();\n    }\n\n    _unconsume() {\n        this.consumedAfterSnapshot--;\n        this.preprocessor.retreat();\n    }\n\n    _reconsumeInState(state) {\n        this.state = state;\n        this._unconsume();\n    }\n\n    _consumeSequenceIfMatch(pattern, startCp, caseSensitive) {\n        let consumedCount = 0;\n        let isMatch = true;\n        const patternLength = pattern.length;\n        let patternPos = 0;\n        let cp = startCp;\n        let patternCp = void 0;\n\n        for (; patternPos < patternLength; patternPos++) {\n            if (patternPos > 0) {\n                cp = this._consume();\n                consumedCount++;\n            }\n\n            if (cp === $.EOF) {\n                isMatch = false;\n                break;\n            }\n\n            patternCp = pattern[patternPos];\n\n            if (cp !== patternCp && (caseSensitive || cp !== toAsciiLowerCodePoint(patternCp))) {\n                isMatch = false;\n                break;\n            }\n        }\n\n        if (!isMatch) {\n            while (consumedCount--) {\n                this._unconsume();\n            }\n        }\n\n        return isMatch;\n    }\n\n    //Temp buffer\n    _isTempBufferEqualToScriptString() {\n        if (this.tempBuff.length !== $$.SCRIPT_STRING.length) {\n            return false;\n        }\n\n        for (let i = 0; i < this.tempBuff.length; i++) {\n            if (this.tempBuff[i] !== $$.SCRIPT_STRING[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    //Token creation\n    _createStartTagToken() {\n        this.currentToken = {\n            type: Tokenizer.START_TAG_TOKEN,\n            tagName: '',\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: []\n        };\n    }\n\n    _createEndTagToken() {\n        this.currentToken = {\n            type: Tokenizer.END_TAG_TOKEN,\n            tagName: '',\n            selfClosing: false,\n            attrs: []\n        };\n    }\n\n    _createCommentToken() {\n        this.currentToken = {\n            type: Tokenizer.COMMENT_TOKEN,\n            data: ''\n        };\n    }\n\n    _createDoctypeToken(initialName) {\n        this.currentToken = {\n            type: Tokenizer.DOCTYPE_TOKEN,\n            name: initialName,\n            forceQuirks: false,\n            publicId: null,\n            systemId: null\n        };\n    }\n\n    _createCharacterToken(type, ch) {\n        this.currentCharacterToken = {\n            type: type,\n            chars: ch\n        };\n    }\n\n    _createEOFToken() {\n        this.currentToken = { type: Tokenizer.EOF_TOKEN };\n    }\n\n    //Tag attributes\n    _createAttr(attrNameFirstCh) {\n        this.currentAttr = {\n            name: attrNameFirstCh,\n            value: ''\n        };\n    }\n\n    _leaveAttrName(toState) {\n        if (Tokenizer.getTokenAttr(this.currentToken, this.currentAttr.name) === null) {\n            this.currentToken.attrs.push(this.currentAttr);\n        } else {\n            this._err(ERR.duplicateAttribute);\n        }\n\n        this.state = toState;\n    }\n\n    _leaveAttrValue(toState) {\n        this.state = toState;\n    }\n\n    //Token emission\n    _emitCurrentToken() {\n        this._emitCurrentCharacterToken();\n\n        const ct = this.currentToken;\n\n        this.currentToken = null;\n\n        //NOTE: store emited start tag's tagName to determine is the following end tag token is appropriate.\n        if (ct.type === Tokenizer.START_TAG_TOKEN) {\n            this.lastStartTagName = ct.tagName;\n        } else if (ct.type === Tokenizer.END_TAG_TOKEN) {\n            if (ct.attrs.length > 0) {\n                this._err(ERR.endTagWithAttributes);\n            }\n\n            if (ct.selfClosing) {\n                this._err(ERR.endTagWithTrailingSolidus);\n            }\n        }\n\n        this.tokenQueue.push(ct);\n    }\n\n    _emitCurrentCharacterToken() {\n        if (this.currentCharacterToken) {\n            this.tokenQueue.push(this.currentCharacterToken);\n            this.currentCharacterToken = null;\n        }\n    }\n\n    _emitEOFToken() {\n        this._createEOFToken();\n        this._emitCurrentToken();\n    }\n\n    //Characters emission\n\n    //OPTIMIZATION: specification uses only one type of character tokens (one token per character).\n    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.\n    //If we have a sequence of characters that belong to the same group, parser can process it\n    //as a single solid character token.\n    //So, there are 3 types of character tokens in parse5:\n    //1)NULL_CHARACTER_TOKEN - \\u0000-character sequences (e.g. '\\u0000\\u0000\\u0000')\n    //2)WHITESPACE_CHARACTER_TOKEN - any whitespace/new-line character sequences (e.g. '\\n  \\r\\t   \\f')\n    //3)CHARACTER_TOKEN - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')\n    _appendCharToCurrentCharacterToken(type, ch) {\n        if (this.currentCharacterToken && this.currentCharacterToken.type !== type) {\n            this._emitCurrentCharacterToken();\n        }\n\n        if (this.currentCharacterToken) {\n            this.currentCharacterToken.chars += ch;\n        } else {\n            this._createCharacterToken(type, ch);\n        }\n    }\n\n    _emitCodePoint(cp) {\n        let type = Tokenizer.CHARACTER_TOKEN;\n\n        if (isWhitespace(cp)) {\n            type = Tokenizer.WHITESPACE_CHARACTER_TOKEN;\n        } else if (cp === $.NULL) {\n            type = Tokenizer.NULL_CHARACTER_TOKEN;\n        }\n\n        this._appendCharToCurrentCharacterToken(type, toChar(cp));\n    }\n\n    _emitSeveralCodePoints(codePoints) {\n        for (let i = 0; i < codePoints.length; i++) {\n            this._emitCodePoint(codePoints[i]);\n        }\n    }\n\n    //NOTE: used then we emit character explicitly. This is always a non-whitespace and a non-null character.\n    //So we can avoid additional checks here.\n    _emitChars(ch) {\n        this._appendCharToCurrentCharacterToken(Tokenizer.CHARACTER_TOKEN, ch);\n    }\n\n    // Character reference helpers\n    _matchNamedCharacterReference(startCp) {\n        let result = null;\n        let excess = 1;\n        let i = findNamedEntityTreeBranch(0, startCp);\n\n        this.tempBuff.push(startCp);\n\n        while (i > -1) {\n            const current = neTree[i];\n            const inNode = current < MAX_BRANCH_MARKER_VALUE;\n            const nodeWithData = inNode && current & HAS_DATA_FLAG;\n\n            if (nodeWithData) {\n                //NOTE: we use greedy search, so we continue lookup at this point\n                result = current & DATA_DUPLET_FLAG ? [neTree[++i], neTree[++i]] : [neTree[++i]];\n                excess = 0;\n            }\n\n            const cp = this._consume();\n\n            this.tempBuff.push(cp);\n            excess++;\n\n            if (cp === $.EOF) {\n                break;\n            }\n\n            if (inNode) {\n                i = current & HAS_BRANCHES_FLAG ? findNamedEntityTreeBranch(i, cp) : -1;\n            } else {\n                i = cp === current ? ++i : -1;\n            }\n        }\n\n        while (excess--) {\n            this.tempBuff.pop();\n            this._unconsume();\n        }\n\n        return result;\n    }\n\n    _isCharacterReferenceInAttribute() {\n        return (\n            this.returnState === ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE ||\n            this.returnState === ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE ||\n            this.returnState === ATTRIBUTE_VALUE_UNQUOTED_STATE\n        );\n    }\n\n    _isCharacterReferenceAttributeQuirk(withSemicolon) {\n        if (!withSemicolon && this._isCharacterReferenceInAttribute()) {\n            const nextCp = this._consume();\n\n            this._unconsume();\n\n            return nextCp === $.EQUALS_SIGN || isAsciiAlphaNumeric(nextCp);\n        }\n\n        return false;\n    }\n\n    _flushCodePointsConsumedAsCharacterReference() {\n        if (this._isCharacterReferenceInAttribute()) {\n            for (let i = 0; i < this.tempBuff.length; i++) {\n                this.currentAttr.value += toChar(this.tempBuff[i]);\n            }\n        } else {\n            this._emitSeveralCodePoints(this.tempBuff);\n        }\n\n        this.tempBuff = [];\n    }\n\n    // State machine\n\n    // Data state\n    //------------------------------------------------------------------\n    [DATA_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.LESS_THAN_SIGN) {\n            this.state = TAG_OPEN_STATE;\n        } else if (cp === $.AMPERSAND) {\n            this.returnState = DATA_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitCodePoint(cp);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    //  RCDATA state\n    //------------------------------------------------------------------\n    [RCDATA_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.AMPERSAND) {\n            this.returnState = RCDATA_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = RCDATA_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // RAWTEXT state\n    //------------------------------------------------------------------\n    [RAWTEXT_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.LESS_THAN_SIGN) {\n            this.state = RAWTEXT_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // PLAINTEXT state\n    //------------------------------------------------------------------\n    [PLAINTEXT_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Tag open state\n    //------------------------------------------------------------------\n    [TAG_OPEN_STATE](cp) {\n        if (cp === $.EXCLAMATION_MARK) {\n            this.state = MARKUP_DECLARATION_OPEN_STATE;\n        } else if (cp === $.SOLIDUS) {\n            this.state = END_TAG_OPEN_STATE;\n        } else if (isAsciiLetter(cp)) {\n            this._createStartTagToken();\n            this._reconsumeInState(TAG_NAME_STATE);\n        } else if (cp === $.QUESTION_MARK) {\n            this._err(ERR.unexpectedQuestionMarkInsteadOfTagName);\n            this._createCommentToken();\n            this._reconsumeInState(BOGUS_COMMENT_STATE);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofBeforeTagName);\n            this._emitChars('<');\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.invalidFirstCharacterOfTagName);\n            this._emitChars('<');\n            this._reconsumeInState(DATA_STATE);\n        }\n    }\n\n    // End tag open state\n    //------------------------------------------------------------------\n    [END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(TAG_NAME_STATE);\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingEndTagName);\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofBeforeTagName);\n            this._emitChars('</');\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.invalidFirstCharacterOfTagName);\n            this._createCommentToken();\n            this._reconsumeInState(BOGUS_COMMENT_STATE);\n        }\n    }\n\n    // Tag name state\n    //------------------------------------------------------------------\n    [TAG_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n        } else if (cp === $.SOLIDUS) {\n            this.state = SELF_CLOSING_START_TAG_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.tagName += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this.currentToken.tagName += toChar(cp);\n        }\n    }\n\n    // RCDATA less-than sign state\n    //------------------------------------------------------------------\n    [RCDATA_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = RCDATA_END_TAG_OPEN_STATE;\n        } else {\n            this._emitChars('<');\n            this._reconsumeInState(RCDATA_STATE);\n        }\n    }\n\n    // RCDATA end tag open state\n    //------------------------------------------------------------------\n    [RCDATA_END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(RCDATA_END_TAG_NAME_STATE);\n        } else {\n            this._emitChars('</');\n            this._reconsumeInState(RCDATA_STATE);\n        }\n    }\n\n    // RCDATA end tag name state\n    //------------------------------------------------------------------\n    [RCDATA_END_TAG_NAME_STATE](cp) {\n        if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n            this.tempBuff.push(cp);\n        } else if (isAsciiLower(cp)) {\n            this.currentToken.tagName += toChar(cp);\n            this.tempBuff.push(cp);\n        } else {\n            if (this.lastStartTagName === this.currentToken.tagName) {\n                if (isWhitespace(cp)) {\n                    this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n                    return;\n                }\n\n                if (cp === $.SOLIDUS) {\n                    this.state = SELF_CLOSING_START_TAG_STATE;\n                    return;\n                }\n\n                if (cp === $.GREATER_THAN_SIGN) {\n                    this.state = DATA_STATE;\n                    this._emitCurrentToken();\n                    return;\n                }\n            }\n\n            this._emitChars('</');\n            this._emitSeveralCodePoints(this.tempBuff);\n            this._reconsumeInState(RCDATA_STATE);\n        }\n    }\n\n    // RAWTEXT less-than sign state\n    //------------------------------------------------------------------\n    [RAWTEXT_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = RAWTEXT_END_TAG_OPEN_STATE;\n        } else {\n            this._emitChars('<');\n            this._reconsumeInState(RAWTEXT_STATE);\n        }\n    }\n\n    // RAWTEXT end tag open state\n    //------------------------------------------------------------------\n    [RAWTEXT_END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(RAWTEXT_END_TAG_NAME_STATE);\n        } else {\n            this._emitChars('</');\n            this._reconsumeInState(RAWTEXT_STATE);\n        }\n    }\n\n    // RAWTEXT end tag name state\n    //------------------------------------------------------------------\n    [RAWTEXT_END_TAG_NAME_STATE](cp) {\n        if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n            this.tempBuff.push(cp);\n        } else if (isAsciiLower(cp)) {\n            this.currentToken.tagName += toChar(cp);\n            this.tempBuff.push(cp);\n        } else {\n            if (this.lastStartTagName === this.currentToken.tagName) {\n                if (isWhitespace(cp)) {\n                    this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n                    return;\n                }\n\n                if (cp === $.SOLIDUS) {\n                    this.state = SELF_CLOSING_START_TAG_STATE;\n                    return;\n                }\n\n                if (cp === $.GREATER_THAN_SIGN) {\n                    this._emitCurrentToken();\n                    this.state = DATA_STATE;\n                    return;\n                }\n            }\n\n            this._emitChars('</');\n            this._emitSeveralCodePoints(this.tempBuff);\n            this._reconsumeInState(RAWTEXT_STATE);\n        }\n    }\n\n    // Script data less-than sign state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = SCRIPT_DATA_END_TAG_OPEN_STATE;\n        } else if (cp === $.EXCLAMATION_MARK) {\n            this.state = SCRIPT_DATA_ESCAPE_START_STATE;\n            this._emitChars('<!');\n        } else {\n            this._emitChars('<');\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data end tag open state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(SCRIPT_DATA_END_TAG_NAME_STATE);\n        } else {\n            this._emitChars('</');\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data end tag name state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_END_TAG_NAME_STATE](cp) {\n        if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n            this.tempBuff.push(cp);\n        } else if (isAsciiLower(cp)) {\n            this.currentToken.tagName += toChar(cp);\n            this.tempBuff.push(cp);\n        } else {\n            if (this.lastStartTagName === this.currentToken.tagName) {\n                if (isWhitespace(cp)) {\n                    this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n                    return;\n                } else if (cp === $.SOLIDUS) {\n                    this.state = SELF_CLOSING_START_TAG_STATE;\n                    return;\n                } else if (cp === $.GREATER_THAN_SIGN) {\n                    this._emitCurrentToken();\n                    this.state = DATA_STATE;\n                    return;\n                }\n            }\n\n            this._emitChars('</');\n            this._emitSeveralCodePoints(this.tempBuff);\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data escape start state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPE_START_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_ESCAPE_START_DASH_STATE;\n            this._emitChars('-');\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data escape start dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPE_START_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_ESCAPED_DASH_DASH_STATE;\n            this._emitChars('-');\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data escaped state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_ESCAPED_DASH_STATE;\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data escaped dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_ESCAPED_DASH_DASH_STATE;\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = SCRIPT_DATA_ESCAPED_STATE;\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this.state = SCRIPT_DATA_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data escaped dash dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_DASH_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = SCRIPT_DATA_STATE;\n            this._emitChars('>');\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = SCRIPT_DATA_ESCAPED_STATE;\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this.state = SCRIPT_DATA_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data escaped less-than sign state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE;\n        } else if (isAsciiLetter(cp)) {\n            this.tempBuff = [];\n            this._emitChars('<');\n            this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE);\n        } else {\n            this._emitChars('<');\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);\n        }\n    }\n\n    // Script data escaped end tag open state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE);\n        } else {\n            this._emitChars('</');\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);\n        }\n    }\n\n    // Script data escaped end tag name state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE](cp) {\n        if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n            this.tempBuff.push(cp);\n        } else if (isAsciiLower(cp)) {\n            this.currentToken.tagName += toChar(cp);\n            this.tempBuff.push(cp);\n        } else {\n            if (this.lastStartTagName === this.currentToken.tagName) {\n                if (isWhitespace(cp)) {\n                    this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n                    return;\n                }\n\n                if (cp === $.SOLIDUS) {\n                    this.state = SELF_CLOSING_START_TAG_STATE;\n                    return;\n                }\n\n                if (cp === $.GREATER_THAN_SIGN) {\n                    this._emitCurrentToken();\n                    this.state = DATA_STATE;\n                    return;\n                }\n            }\n\n            this._emitChars('</');\n            this._emitSeveralCodePoints(this.tempBuff);\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);\n        }\n    }\n\n    // Script data double escape start state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE](cp) {\n        if (isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN) {\n            this.state = this._isTempBufferEqualToScriptString()\n                ? SCRIPT_DATA_DOUBLE_ESCAPED_STATE\n                : SCRIPT_DATA_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        } else if (isAsciiUpper(cp)) {\n            this.tempBuff.push(toAsciiLowerCodePoint(cp));\n            this._emitCodePoint(cp);\n        } else if (isAsciiLower(cp)) {\n            this.tempBuff.push(cp);\n            this._emitCodePoint(cp);\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);\n        }\n    }\n\n    // Script data double escaped state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPED_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE;\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;\n            this._emitChars('<');\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data double escaped dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE;\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;\n            this._emitChars('<');\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data double escaped dash dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;\n            this._emitChars('<');\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = SCRIPT_DATA_STATE;\n            this._emitChars('>');\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data double escaped less-than sign state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE;\n            this._emitChars('/');\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPED_STATE);\n        }\n    }\n\n    // Script data double escape end state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE](cp) {\n        if (isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN) {\n            this.state = this._isTempBufferEqualToScriptString()\n                ? SCRIPT_DATA_ESCAPED_STATE\n                : SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n\n            this._emitCodePoint(cp);\n        } else if (isAsciiUpper(cp)) {\n            this.tempBuff.push(toAsciiLowerCodePoint(cp));\n            this._emitCodePoint(cp);\n        } else if (isAsciiLower(cp)) {\n            this.tempBuff.push(cp);\n            this._emitCodePoint(cp);\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPED_STATE);\n        }\n    }\n\n    // Before attribute name state\n    //------------------------------------------------------------------\n    [BEFORE_ATTRIBUTE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN || cp === $.EOF) {\n            this._reconsumeInState(AFTER_ATTRIBUTE_NAME_STATE);\n        } else if (cp === $.EQUALS_SIGN) {\n            this._err(ERR.unexpectedEqualsSignBeforeAttributeName);\n            this._createAttr('=');\n            this.state = ATTRIBUTE_NAME_STATE;\n        } else {\n            this._createAttr('');\n            this._reconsumeInState(ATTRIBUTE_NAME_STATE);\n        }\n    }\n\n    // Attribute name state\n    //------------------------------------------------------------------\n    [ATTRIBUTE_NAME_STATE](cp) {\n        if (isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN || cp === $.EOF) {\n            this._leaveAttrName(AFTER_ATTRIBUTE_NAME_STATE);\n            this._unconsume();\n        } else if (cp === $.EQUALS_SIGN) {\n            this._leaveAttrName(BEFORE_ATTRIBUTE_VALUE_STATE);\n        } else if (isAsciiUpper(cp)) {\n            this.currentAttr.name += toAsciiLowerChar(cp);\n        } else if (cp === $.QUOTATION_MARK || cp === $.APOSTROPHE || cp === $.LESS_THAN_SIGN) {\n            this._err(ERR.unexpectedCharacterInAttributeName);\n            this.currentAttr.name += toChar(cp);\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.name += unicode.REPLACEMENT_CHARACTER;\n        } else {\n            this.currentAttr.name += toChar(cp);\n        }\n    }\n\n    // After attribute name state\n    //------------------------------------------------------------------\n    [AFTER_ATTRIBUTE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.SOLIDUS) {\n            this.state = SELF_CLOSING_START_TAG_STATE;\n        } else if (cp === $.EQUALS_SIGN) {\n            this.state = BEFORE_ATTRIBUTE_VALUE_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this._createAttr('');\n            this._reconsumeInState(ATTRIBUTE_NAME_STATE);\n        }\n    }\n\n    // Before attribute value state\n    //------------------------------------------------------------------\n    [BEFORE_ATTRIBUTE_VALUE_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.QUOTATION_MARK) {\n            this.state = ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this.state = ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingAttributeValue);\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else {\n            this._reconsumeInState(ATTRIBUTE_VALUE_UNQUOTED_STATE);\n        }\n    }\n\n    // Attribute value (double-quoted) state\n    //------------------------------------------------------------------\n    [ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE](cp) {\n        if (cp === $.QUOTATION_MARK) {\n            this.state = AFTER_ATTRIBUTE_VALUE_QUOTED_STATE;\n        } else if (cp === $.AMPERSAND) {\n            this.returnState = ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this.currentAttr.value += toChar(cp);\n        }\n    }\n\n    // Attribute value (single-quoted) state\n    //------------------------------------------------------------------\n    [ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE](cp) {\n        if (cp === $.APOSTROPHE) {\n            this.state = AFTER_ATTRIBUTE_VALUE_QUOTED_STATE;\n        } else if (cp === $.AMPERSAND) {\n            this.returnState = ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this.currentAttr.value += toChar(cp);\n        }\n    }\n\n    // Attribute value (unquoted) state\n    //------------------------------------------------------------------\n    [ATTRIBUTE_VALUE_UNQUOTED_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this._leaveAttrValue(BEFORE_ATTRIBUTE_NAME_STATE);\n        } else if (cp === $.AMPERSAND) {\n            this.returnState = ATTRIBUTE_VALUE_UNQUOTED_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._leaveAttrValue(DATA_STATE);\n            this._emitCurrentToken();\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;\n        } else if (\n            cp === $.QUOTATION_MARK ||\n            cp === $.APOSTROPHE ||\n            cp === $.LESS_THAN_SIGN ||\n            cp === $.EQUALS_SIGN ||\n            cp === $.GRAVE_ACCENT\n        ) {\n            this._err(ERR.unexpectedCharacterInUnquotedAttributeValue);\n            this.currentAttr.value += toChar(cp);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this.currentAttr.value += toChar(cp);\n        }\n    }\n\n    // After attribute value (quoted) state\n    //------------------------------------------------------------------\n    [AFTER_ATTRIBUTE_VALUE_QUOTED_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this._leaveAttrValue(BEFORE_ATTRIBUTE_NAME_STATE);\n        } else if (cp === $.SOLIDUS) {\n            this._leaveAttrValue(SELF_CLOSING_START_TAG_STATE);\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._leaveAttrValue(DATA_STATE);\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingWhitespaceBetweenAttributes);\n            this._reconsumeInState(BEFORE_ATTRIBUTE_NAME_STATE);\n        }\n    }\n\n    // Self-closing start tag state\n    //------------------------------------------------------------------\n    [SELF_CLOSING_START_TAG_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.currentToken.selfClosing = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.unexpectedSolidusInTag);\n            this._reconsumeInState(BEFORE_ATTRIBUTE_NAME_STATE);\n        }\n    }\n\n    // Bogus comment state\n    //------------------------------------------------------------------\n    [BOGUS_COMMENT_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.data += unicode.REPLACEMENT_CHARACTER;\n        } else {\n            this.currentToken.data += toChar(cp);\n        }\n    }\n\n    // Markup declaration open state\n    //------------------------------------------------------------------\n    [MARKUP_DECLARATION_OPEN_STATE](cp) {\n        if (this._consumeSequenceIfMatch($$.DASH_DASH_STRING, cp, true)) {\n            this._createCommentToken();\n            this.state = COMMENT_START_STATE;\n        } else if (this._consumeSequenceIfMatch($$.DOCTYPE_STRING, cp, false)) {\n            this.state = DOCTYPE_STATE;\n        } else if (this._consumeSequenceIfMatch($$.CDATA_START_STRING, cp, true)) {\n            if (this.allowCDATA) {\n                this.state = CDATA_SECTION_STATE;\n            } else {\n                this._err(ERR.cdataInHtmlContent);\n                this._createCommentToken();\n                this.currentToken.data = '[CDATA[';\n                this.state = BOGUS_COMMENT_STATE;\n            }\n        }\n\n        //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n        //results are no longer valid and we will need to start over.\n        else if (!this._ensureHibernation()) {\n            this._err(ERR.incorrectlyOpenedComment);\n            this._createCommentToken();\n            this._reconsumeInState(BOGUS_COMMENT_STATE);\n        }\n    }\n\n    // Comment start state\n    //------------------------------------------------------------------\n    [COMMENT_START_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_START_DASH_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptClosingOfEmptyComment);\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else {\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment start dash state\n    //------------------------------------------------------------------\n    [COMMENT_START_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_END_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptClosingOfEmptyComment);\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += '-';\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment state\n    //------------------------------------------------------------------\n    [COMMENT_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_END_DASH_STATE;\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.currentToken.data += '<';\n            this.state = COMMENT_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.data += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += toChar(cp);\n        }\n    }\n\n    // Comment less-than sign state\n    //------------------------------------------------------------------\n    [COMMENT_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.EXCLAMATION_MARK) {\n            this.currentToken.data += '!';\n            this.state = COMMENT_LESS_THAN_SIGN_BANG_STATE;\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.currentToken.data += '!';\n        } else {\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment less-than sign bang state\n    //------------------------------------------------------------------\n    [COMMENT_LESS_THAN_SIGN_BANG_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE;\n        } else {\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment less-than sign bang dash state\n    //------------------------------------------------------------------\n    [COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE;\n        } else {\n            this._reconsumeInState(COMMENT_END_DASH_STATE);\n        }\n    }\n\n    // Comment less-than sign bang dash dash state\n    //------------------------------------------------------------------\n    [COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE](cp) {\n        if (cp !== $.GREATER_THAN_SIGN && cp !== $.EOF) {\n            this._err(ERR.nestedComment);\n        }\n\n        this._reconsumeInState(COMMENT_END_STATE);\n    }\n\n    // Comment end dash state\n    //------------------------------------------------------------------\n    [COMMENT_END_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_END_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += '-';\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment end state\n    //------------------------------------------------------------------\n    [COMMENT_END_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EXCLAMATION_MARK) {\n            this.state = COMMENT_END_BANG_STATE;\n        } else if (cp === $.HYPHEN_MINUS) {\n            this.currentToken.data += '-';\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += '--';\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment end bang state\n    //------------------------------------------------------------------\n    [COMMENT_END_BANG_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.currentToken.data += '--!';\n            this.state = COMMENT_END_DASH_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.incorrectlyClosedComment);\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += '--!';\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // DOCTYPE state\n    //------------------------------------------------------------------\n    [DOCTYPE_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BEFORE_DOCTYPE_NAME_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._reconsumeInState(BEFORE_DOCTYPE_NAME_STATE);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this._createDoctypeToken(null);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingWhitespaceBeforeDoctypeName);\n            this._reconsumeInState(BEFORE_DOCTYPE_NAME_STATE);\n        }\n    }\n\n    // Before DOCTYPE name state\n    //------------------------------------------------------------------\n    [BEFORE_DOCTYPE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (isAsciiUpper(cp)) {\n            this._createDoctypeToken(toAsciiLowerChar(cp));\n            this.state = DOCTYPE_NAME_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._createDoctypeToken(unicode.REPLACEMENT_CHARACTER);\n            this.state = DOCTYPE_NAME_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypeName);\n            this._createDoctypeToken(null);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this._createDoctypeToken(null);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._createDoctypeToken(toChar(cp));\n            this.state = DOCTYPE_NAME_STATE;\n        }\n    }\n\n    // DOCTYPE name state\n    //------------------------------------------------------------------\n    [DOCTYPE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = AFTER_DOCTYPE_NAME_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (isAsciiUpper(cp)) {\n            this.currentToken.name += toAsciiLowerChar(cp);\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.name += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.name += toChar(cp);\n        }\n    }\n\n    // After DOCTYPE name state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else if (this._consumeSequenceIfMatch($$.PUBLIC_STRING, cp, false)) {\n            this.state = AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE;\n        } else if (this._consumeSequenceIfMatch($$.SYSTEM_STRING, cp, false)) {\n            this.state = AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE;\n        }\n        //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n        //results are no longer valid and we will need to start over.\n        else if (!this._ensureHibernation()) {\n            this._err(ERR.invalidCharacterSequenceAfterDoctypeName);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // After DOCTYPE public keyword state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE;\n        } else if (cp === $.QUOTATION_MARK) {\n            this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n            this.currentToken.publicId = '';\n            this.state = DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n            this.currentToken.publicId = '';\n            this.state = DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // Before DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    [BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.QUOTATION_MARK) {\n            this.currentToken.publicId = '';\n            this.state = DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this.currentToken.publicId = '';\n            this.state = DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // DOCTYPE public identifier (double-quoted) state\n    //------------------------------------------------------------------\n    [DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE](cp) {\n        if (cp === $.QUOTATION_MARK) {\n            this.state = AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.publicId += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.publicId += toChar(cp);\n        }\n    }\n\n    // DOCTYPE public identifier (single-quoted) state\n    //------------------------------------------------------------------\n    [DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE](cp) {\n        if (cp === $.APOSTROPHE) {\n            this.state = AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.publicId += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.publicId += toChar(cp);\n        }\n    }\n\n    // After DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.QUOTATION_MARK) {\n            this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // Between DOCTYPE public and system identifiers state\n    //------------------------------------------------------------------\n    [BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.GREATER_THAN_SIGN) {\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.QUOTATION_MARK) {\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // After DOCTYPE system keyword state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE;\n        } else if (cp === $.QUOTATION_MARK) {\n            this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // Before DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    [BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.QUOTATION_MARK) {\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // DOCTYPE system identifier (double-quoted) state\n    //------------------------------------------------------------------\n    [DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE](cp) {\n        if (cp === $.QUOTATION_MARK) {\n            this.state = AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.systemId += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.systemId += toChar(cp);\n        }\n    }\n\n    // DOCTYPE system identifier (single-quoted) state\n    //------------------------------------------------------------------\n    [DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE](cp) {\n        if (cp === $.APOSTROPHE) {\n            this.state = AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.systemId += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.systemId += toChar(cp);\n        }\n    }\n\n    // After DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.GREATER_THAN_SIGN) {\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier);\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // Bogus DOCTYPE state\n    //------------------------------------------------------------------\n    [BOGUS_DOCTYPE_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n        } else if (cp === $.EOF) {\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        }\n    }\n\n    // CDATA section state\n    //------------------------------------------------------------------\n    [CDATA_SECTION_STATE](cp) {\n        if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this.state = CDATA_SECTION_BRACKET_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInCdata);\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // CDATA section bracket state\n    //------------------------------------------------------------------\n    [CDATA_SECTION_BRACKET_STATE](cp) {\n        if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this.state = CDATA_SECTION_END_STATE;\n        } else {\n            this._emitChars(']');\n            this._reconsumeInState(CDATA_SECTION_STATE);\n        }\n    }\n\n    // CDATA section end state\n    //------------------------------------------------------------------\n    [CDATA_SECTION_END_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n        } else if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this._emitChars(']');\n        } else {\n            this._emitChars(']]');\n            this._reconsumeInState(CDATA_SECTION_STATE);\n        }\n    }\n\n    // Character reference state\n    //------------------------------------------------------------------\n    [CHARACTER_REFERENCE_STATE](cp) {\n        this.tempBuff = [$.AMPERSAND];\n\n        if (cp === $.NUMBER_SIGN) {\n            this.tempBuff.push(cp);\n            this.state = NUMERIC_CHARACTER_REFERENCE_STATE;\n        } else if (isAsciiAlphaNumeric(cp)) {\n            this._reconsumeInState(NAMED_CHARACTER_REFERENCE_STATE);\n        } else {\n            this._flushCodePointsConsumedAsCharacterReference();\n            this._reconsumeInState(this.returnState);\n        }\n    }\n\n    // Named character reference state\n    //------------------------------------------------------------------\n    [NAMED_CHARACTER_REFERENCE_STATE](cp) {\n        const matchResult = this._matchNamedCharacterReference(cp);\n\n        //NOTE: matching can be abrupted by hibernation. In that case match\n        //results are no longer valid and we will need to start over.\n        if (this._ensureHibernation()) {\n            this.tempBuff = [$.AMPERSAND];\n        } else if (matchResult) {\n            const withSemicolon = this.tempBuff[this.tempBuff.length - 1] === $.SEMICOLON;\n\n            if (!this._isCharacterReferenceAttributeQuirk(withSemicolon)) {\n                if (!withSemicolon) {\n                    this._errOnNextCodePoint(ERR.missingSemicolonAfterCharacterReference);\n                }\n\n                this.tempBuff = matchResult;\n            }\n\n            this._flushCodePointsConsumedAsCharacterReference();\n            this.state = this.returnState;\n        } else {\n            this._flushCodePointsConsumedAsCharacterReference();\n            this.state = AMBIGUOUS_AMPERSAND_STATE;\n        }\n    }\n\n    // Ambiguos ampersand state\n    //------------------------------------------------------------------\n    [AMBIGUOUS_AMPERSAND_STATE](cp) {\n        if (isAsciiAlphaNumeric(cp)) {\n            if (this._isCharacterReferenceInAttribute()) {\n                this.currentAttr.value += toChar(cp);\n            } else {\n                this._emitCodePoint(cp);\n            }\n        } else {\n            if (cp === $.SEMICOLON) {\n                this._err(ERR.unknownNamedCharacterReference);\n            }\n\n            this._reconsumeInState(this.returnState);\n        }\n    }\n\n    // Numeric character reference state\n    //------------------------------------------------------------------\n    [NUMERIC_CHARACTER_REFERENCE_STATE](cp) {\n        this.charRefCode = 0;\n\n        if (cp === $.LATIN_SMALL_X || cp === $.LATIN_CAPITAL_X) {\n            this.tempBuff.push(cp);\n            this.state = HEXADEMICAL_CHARACTER_REFERENCE_START_STATE;\n        } else {\n            this._reconsumeInState(DECIMAL_CHARACTER_REFERENCE_START_STATE);\n        }\n    }\n\n    // Hexademical character reference start state\n    //------------------------------------------------------------------\n    [HEXADEMICAL_CHARACTER_REFERENCE_START_STATE](cp) {\n        if (isAsciiHexDigit(cp)) {\n            this._reconsumeInState(HEXADEMICAL_CHARACTER_REFERENCE_STATE);\n        } else {\n            this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n            this._flushCodePointsConsumedAsCharacterReference();\n            this._reconsumeInState(this.returnState);\n        }\n    }\n\n    // Decimal character reference start state\n    //------------------------------------------------------------------\n    [DECIMAL_CHARACTER_REFERENCE_START_STATE](cp) {\n        if (isAsciiDigit(cp)) {\n            this._reconsumeInState(DECIMAL_CHARACTER_REFERENCE_STATE);\n        } else {\n            this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n            this._flushCodePointsConsumedAsCharacterReference();\n            this._reconsumeInState(this.returnState);\n        }\n    }\n\n    // Hexademical character reference state\n    //------------------------------------------------------------------\n    [HEXADEMICAL_CHARACTER_REFERENCE_STATE](cp) {\n        if (isAsciiUpperHexDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x37;\n        } else if (isAsciiLowerHexDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x57;\n        } else if (isAsciiDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x30;\n        } else if (cp === $.SEMICOLON) {\n            this.state = NUMERIC_CHARACTER_REFERENCE_END_STATE;\n        } else {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n            this._reconsumeInState(NUMERIC_CHARACTER_REFERENCE_END_STATE);\n        }\n    }\n\n    // Decimal character reference state\n    //------------------------------------------------------------------\n    [DECIMAL_CHARACTER_REFERENCE_STATE](cp) {\n        if (isAsciiDigit(cp)) {\n            this.charRefCode = this.charRefCode * 10 + cp - 0x30;\n        } else if (cp === $.SEMICOLON) {\n            this.state = NUMERIC_CHARACTER_REFERENCE_END_STATE;\n        } else {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n            this._reconsumeInState(NUMERIC_CHARACTER_REFERENCE_END_STATE);\n        }\n    }\n\n    // Numeric character reference end state\n    //------------------------------------------------------------------\n    [NUMERIC_CHARACTER_REFERENCE_END_STATE]() {\n        if (this.charRefCode === $.NULL) {\n            this._err(ERR.nullCharacterReference);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        } else if (this.charRefCode > 0x10ffff) {\n            this._err(ERR.characterReferenceOutsideUnicodeRange);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        } else if (unicode.isSurrogate(this.charRefCode)) {\n            this._err(ERR.surrogateCharacterReference);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        } else if (unicode.isUndefinedCodePoint(this.charRefCode)) {\n            this._err(ERR.noncharacterCharacterReference);\n        } else if (unicode.isControlCodePoint(this.charRefCode) || this.charRefCode === $.CARRIAGE_RETURN) {\n            this._err(ERR.controlCharacterReference);\n\n            const replacement = C1_CONTROLS_REFERENCE_REPLACEMENTS[this.charRefCode];\n\n            if (replacement) {\n                this.charRefCode = replacement;\n            }\n        }\n\n        this.tempBuff = [this.charRefCode];\n\n        this._flushCodePointsConsumedAsCharacterReference();\n        this._reconsumeInState(this.returnState);\n    }\n}\n\n//Token types\nTokenizer.CHARACTER_TOKEN = 'CHARACTER_TOKEN';\nTokenizer.NULL_CHARACTER_TOKEN = 'NULL_CHARACTER_TOKEN';\nTokenizer.WHITESPACE_CHARACTER_TOKEN = 'WHITESPACE_CHARACTER_TOKEN';\nTokenizer.START_TAG_TOKEN = 'START_TAG_TOKEN';\nTokenizer.END_TAG_TOKEN = 'END_TAG_TOKEN';\nTokenizer.COMMENT_TOKEN = 'COMMENT_TOKEN';\nTokenizer.DOCTYPE_TOKEN = 'DOCTYPE_TOKEN';\nTokenizer.EOF_TOKEN = 'EOF_TOKEN';\nTokenizer.HIBERNATION_TOKEN = 'HIBERNATION_TOKEN';\n\n//Tokenizer initial states for different modes\nTokenizer.MODE = {\n    DATA: DATA_STATE,\n    RCDATA: RCDATA_STATE,\n    RAWTEXT: RAWTEXT_STATE,\n    SCRIPT_DATA: SCRIPT_DATA_STATE,\n    PLAINTEXT: PLAINTEXT_STATE\n};\n\n//Static\nTokenizer.getTokenAttr = function(token, attrName) {\n    for (let i = token.attrs.length - 1; i >= 0; i--) {\n        if (token.attrs[i].name === attrName) {\n            return token.attrs[i].value;\n        }\n    }\n\n    return null;\n};\n\nmodule.exports = Tokenizer;\n",
    "'use strict';\n\n//NOTE: this file contains auto-generated array mapped radix tree that is used for the named entity references consumption\n//(details: https://github.com/inikulin/parse5/tree/master/scripts/generate-named-entity-data/README.md)\nmodule.exports = new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4000,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,10000,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13000,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204]);",
    "'use strict';\n\nconst unicode = require('../common/unicode');\nconst ERR = require('../common/error-codes');\n\n//Aliases\nconst $ = unicode.CODE_POINTS;\n\n//Const\nconst DEFAULT_BUFFER_WATERLINE = 1 << 16;\n\n//Preprocessor\n//NOTE: HTML input preprocessing\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)\nclass Preprocessor {\n    constructor() {\n        this.html = null;\n\n        this.pos = -1;\n        this.lastGapPos = -1;\n        this.lastCharPos = -1;\n\n        this.gapStack = [];\n\n        this.skipNextNewLine = false;\n\n        this.lastChunkWritten = false;\n        this.endOfChunkHit = false;\n        this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;\n    }\n\n    _err() {\n        // NOTE: err reporting is noop by default. Enabled by mixin.\n    }\n\n    _addGap() {\n        this.gapStack.push(this.lastGapPos);\n        this.lastGapPos = this.pos;\n    }\n\n    _processSurrogate(cp) {\n        //NOTE: try to peek a surrogate pair\n        if (this.pos !== this.lastCharPos) {\n            const nextCp = this.html.charCodeAt(this.pos + 1);\n\n            if (unicode.isSurrogatePair(nextCp)) {\n                //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.\n                this.pos++;\n\n                //NOTE: add gap that should be avoided during retreat\n                this._addGap();\n\n                return unicode.getSurrogatePairCodePoint(cp, nextCp);\n            }\n        }\n\n        //NOTE: we are at the end of a chunk, therefore we can't infer surrogate pair yet.\n        else if (!this.lastChunkWritten) {\n            this.endOfChunkHit = true;\n            return $.EOF;\n        }\n\n        //NOTE: isolated surrogate\n        this._err(ERR.surrogateInInputStream);\n\n        return cp;\n    }\n\n    dropParsedChunk() {\n        if (this.pos > this.bufferWaterline) {\n            this.lastCharPos -= this.pos;\n            this.html = this.html.substring(this.pos);\n            this.pos = 0;\n            this.lastGapPos = -1;\n            this.gapStack = [];\n        }\n    }\n\n    write(chunk, isLastChunk) {\n        if (this.html) {\n            this.html += chunk;\n        } else {\n            this.html = chunk;\n        }\n\n        this.lastCharPos = this.html.length - 1;\n        this.endOfChunkHit = false;\n        this.lastChunkWritten = isLastChunk;\n    }\n\n    insertHtmlAtCurrentPos(chunk) {\n        this.html = this.html.substring(0, this.pos + 1) + chunk + this.html.substring(this.pos + 1, this.html.length);\n\n        this.lastCharPos = this.html.length - 1;\n        this.endOfChunkHit = false;\n    }\n\n    advance() {\n        this.pos++;\n\n        if (this.pos > this.lastCharPos) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return $.EOF;\n        }\n\n        let cp = this.html.charCodeAt(this.pos);\n\n        //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character\n        //must be ignored.\n        if (this.skipNextNewLine && cp === $.LINE_FEED) {\n            this.skipNextNewLine = false;\n            this._addGap();\n            return this.advance();\n        }\n\n        //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters\n        if (cp === $.CARRIAGE_RETURN) {\n            this.skipNextNewLine = true;\n            return $.LINE_FEED;\n        }\n\n        this.skipNextNewLine = false;\n\n        if (unicode.isSurrogate(cp)) {\n            cp = this._processSurrogate(cp);\n        }\n\n        //OPTIMIZATION: first check if code point is in the common allowed\n        //range (ASCII alphanumeric, whitespaces, big chunk of BMP)\n        //before going into detailed performance cost validation.\n        const isCommonValidRange =\n            (cp > 0x1f && cp < 0x7f) || cp === $.LINE_FEED || cp === $.CARRIAGE_RETURN || (cp > 0x9f && cp < 0xfdd0);\n\n        if (!isCommonValidRange) {\n            this._checkForProblematicCharacters(cp);\n        }\n\n        return cp;\n    }\n\n    _checkForProblematicCharacters(cp) {\n        if (unicode.isControlCodePoint(cp)) {\n            this._err(ERR.controlCharacterInInputStream);\n        } else if (unicode.isUndefinedCodePoint(cp)) {\n            this._err(ERR.noncharacterInInputStream);\n        }\n    }\n\n    retreat() {\n        if (this.pos === this.lastGapPos) {\n            this.lastGapPos = this.gapStack.pop();\n            this.pos--;\n        }\n\n        this.pos--;\n    }\n}\n\nmodule.exports = Preprocessor;\n",
    "'use strict';\n\nconst { DOCUMENT_MODE } = require('../common/html');\n\n//Node construction\nexports.createDocument = function() {\n    return {\n        nodeName: '#document',\n        mode: DOCUMENT_MODE.NO_QUIRKS,\n        childNodes: []\n    };\n};\n\nexports.createDocumentFragment = function() {\n    return {\n        nodeName: '#document-fragment',\n        childNodes: []\n    };\n};\n\nexports.createElement = function(tagName, namespaceURI, attrs) {\n    return {\n        nodeName: tagName,\n        tagName: tagName,\n        attrs: attrs,\n        namespaceURI: namespaceURI,\n        childNodes: [],\n        parentNode: null\n    };\n};\n\nexports.createCommentNode = function(data) {\n    return {\n        nodeName: '#comment',\n        data: data,\n        parentNode: null\n    };\n};\n\nconst createTextNode = function(value) {\n    return {\n        nodeName: '#text',\n        value: value,\n        parentNode: null\n    };\n};\n\n//Tree mutation\nconst appendChild = (exports.appendChild = function(parentNode, newNode) {\n    parentNode.childNodes.push(newNode);\n    newNode.parentNode = parentNode;\n});\n\nconst insertBefore = (exports.insertBefore = function(parentNode, newNode, referenceNode) {\n    const insertionIdx = parentNode.childNodes.indexOf(referenceNode);\n\n    parentNode.childNodes.splice(insertionIdx, 0, newNode);\n    newNode.parentNode = parentNode;\n});\n\nexports.setTemplateContent = function(templateElement, contentElement) {\n    templateElement.content = contentElement;\n};\n\nexports.getTemplateContent = function(templateElement) {\n    return templateElement.content;\n};\n\nexports.setDocumentType = function(document, name, publicId, systemId) {\n    let doctypeNode = null;\n\n    for (let i = 0; i < document.childNodes.length; i++) {\n        if (document.childNodes[i].nodeName === '#documentType') {\n            doctypeNode = document.childNodes[i];\n            break;\n        }\n    }\n\n    if (doctypeNode) {\n        doctypeNode.name = name;\n        doctypeNode.publicId = publicId;\n        doctypeNode.systemId = systemId;\n    } else {\n        appendChild(document, {\n            nodeName: '#documentType',\n            name: name,\n            publicId: publicId,\n            systemId: systemId\n        });\n    }\n};\n\nexports.setDocumentMode = function(document, mode) {\n    document.mode = mode;\n};\n\nexports.getDocumentMode = function(document) {\n    return document.mode;\n};\n\nexports.detachNode = function(node) {\n    if (node.parentNode) {\n        const idx = node.parentNode.childNodes.indexOf(node);\n\n        node.parentNode.childNodes.splice(idx, 1);\n        node.parentNode = null;\n    }\n};\n\nexports.insertText = function(parentNode, text) {\n    if (parentNode.childNodes.length) {\n        const prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];\n\n        if (prevNode.nodeName === '#text') {\n            prevNode.value += text;\n            return;\n        }\n    }\n\n    appendChild(parentNode, createTextNode(text));\n};\n\nexports.insertTextBefore = function(parentNode, text, referenceNode) {\n    const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];\n\n    if (prevNode && prevNode.nodeName === '#text') {\n        prevNode.value += text;\n    } else {\n        insertBefore(parentNode, createTextNode(text), referenceNode);\n    }\n};\n\nexports.adoptAttributes = function(recipient, attrs) {\n    const recipientAttrsMap = [];\n\n    for (let i = 0; i < recipient.attrs.length; i++) {\n        recipientAttrsMap.push(recipient.attrs[i].name);\n    }\n\n    for (let j = 0; j < attrs.length; j++) {\n        if (recipientAttrsMap.indexOf(attrs[j].name) === -1) {\n            recipient.attrs.push(attrs[j]);\n        }\n    }\n};\n\n//Tree traversing\nexports.getFirstChild = function(node) {\n    return node.childNodes[0];\n};\n\nexports.getChildNodes = function(node) {\n    return node.childNodes;\n};\n\nexports.getParentNode = function(node) {\n    return node.parentNode;\n};\n\nexports.getAttrList = function(element) {\n    return element.attrs;\n};\n\n//Node data\nexports.getTagName = function(element) {\n    return element.tagName;\n};\n\nexports.getNamespaceURI = function(element) {\n    return element.namespaceURI;\n};\n\nexports.getTextNodeContent = function(textNode) {\n    return textNode.value;\n};\n\nexports.getCommentNodeContent = function(commentNode) {\n    return commentNode.data;\n};\n\nexports.getDocumentTypeNodeName = function(doctypeNode) {\n    return doctypeNode.name;\n};\n\nexports.getDocumentTypeNodePublicId = function(doctypeNode) {\n    return doctypeNode.publicId;\n};\n\nexports.getDocumentTypeNodeSystemId = function(doctypeNode) {\n    return doctypeNode.systemId;\n};\n\n//Node types\nexports.isTextNode = function(node) {\n    return node.nodeName === '#text';\n};\n\nexports.isCommentNode = function(node) {\n    return node.nodeName === '#comment';\n};\n\nexports.isDocumentTypeNode = function(node) {\n    return node.nodeName === '#documentType';\n};\n\nexports.isElementNode = function(node) {\n    return !!node.tagName;\n};\n\n// Source code location\nexports.setNodeSourceCodeLocation = function(node, location) {\n    node.sourceCodeLocation = location;\n};\n\nexports.getNodeSourceCodeLocation = function(node) {\n    return node.sourceCodeLocation;\n};\n\nexports.updateNodeSourceCodeLocation = function(node, endLocation) {\n    node.sourceCodeLocation = Object.assign(node.sourceCodeLocation, endLocation);\n};\n",
    "'use strict';\n\nmodule.exports = function mergeOptions(defaults, options) {\n    options = options || Object.create(null);\n\n    return [defaults, options].reduce((merged, optObj) => {\n        Object.keys(optObj).forEach(key => {\n            merged[key] = optObj[key];\n        });\n\n        return merged;\n    }, Object.create(null));\n};\n",
    "'use strict';\n\nclass Mixin {\n    constructor(host) {\n        const originalMethods = {};\n        const overriddenMethods = this._getOverriddenMethods(this, originalMethods);\n\n        for (const key of Object.keys(overriddenMethods)) {\n            if (typeof overriddenMethods[key] === 'function') {\n                originalMethods[key] = host[key];\n                host[key] = overriddenMethods[key];\n            }\n        }\n    }\n\n    _getOverriddenMethods() {\n        throw new Error('Not implemented');\n    }\n}\n\nMixin.install = function(host, Ctor, opts) {\n    if (!host.__mixins) {\n        host.__mixins = [];\n    }\n\n    for (let i = 0; i < host.__mixins.length; i++) {\n        if (host.__mixins[i].constructor === Ctor) {\n            return host.__mixins[i];\n        }\n    }\n\n    const mixin = new Ctor(host, opts);\n\n    host.__mixins.push(mixin);\n\n    return mixin;\n};\n\nmodule.exports = Mixin;\n",
    "// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n",
    "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",
    "'use strict';\nvar strictUriEncode = require('strict-uri-encode');\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n\tif (typeof str !== 'string') {\n\t\treturn {};\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn {};\n\t}\n\n\treturn str.split('&').reduce(function (ret, param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\tkey = decodeURIComponent(key);\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\tret[key] = val;\n\t\t} else if (Array.isArray(ret[key])) {\n\t\t\tret[key].push(val);\n\t\t} else {\n\t\t\tret[key] = [ret[key], val];\n\t\t}\n\n\t\treturn ret;\n\t}, {});\n};\n\nexports.stringify = function (obj) {\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn key;\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\treturn val.slice().sort().map(function (val2) {\n\t\t\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val2);\n\t\t\t}).join('&');\n\t\t}\n\n\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n",
    "var now = require('performance-now')\n  , global = typeof window === 'undefined' ? {} : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = global['request' + suffix]\n  , caf = global['cancel' + suffix] || global['cancelRequest' + suffix]\n\nfor(var i = 0; i < vendors.length && !raf; i++) {\n  raf = global[vendors[i] + 'Request' + suffix]\n  caf = global[vendors[i] + 'Cancel' + suffix]\n      || global[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(global, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(global, arguments)\n}\n",
    "// Generated by CoffeeScript 1.7.1\n(function() {\n  var getNanoSeconds, hrtime, loadTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - loadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    loadTime = getNanoSeconds();\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n",
    "var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n",
    "var raf = require('raf'),\n    COMPLETE = 'complete',\n    CANCELED = 'canceled';\n\nfunction setElementScroll(element, x, y){\n    if(element === window){\n        element.scrollTo(x, y);\n    }else{\n        element.scrollLeft = x;\n        element.scrollTop = y;\n    }\n}\n\nfunction getTargetScrollLocation(target, parent, align){\n    var targetPosition = target.getBoundingClientRect(),\n        parentPosition,\n        x,\n        y,\n        differenceX,\n        differenceY,\n        targetWidth,\n        targetHeight,\n        leftAlign = align && align.left != null ? align.left : 0.5,\n        topAlign = align && align.top != null ? align.top : 0.5,\n        leftOffset = align && align.leftOffset != null ? align.leftOffset : 0,\n        topOffset = align && align.topOffset != null ? align.topOffset : 0,\n        leftScalar = leftAlign,\n        topScalar = topAlign;\n\n    if(parent === window){\n        targetWidth = Math.min(targetPosition.width, window.innerWidth);\n        targetHeight = Math.min(targetPosition.height, window.innerHeight);\n        x = targetPosition.left + window.pageXOffset - window.innerWidth * leftScalar + targetWidth * leftScalar;\n        y = targetPosition.top + window.pageYOffset - window.innerHeight * topScalar + targetHeight * topScalar;\n        x = Math.max(Math.min(x, document.body.scrollWidth - window.innerWidth * leftScalar), 0);\n        y = Math.max(Math.min(y, document.body.scrollHeight- window.innerHeight * topScalar), 0);\n        x -= leftOffset;\n        y -= topOffset;\n        differenceX = x - window.pageXOffset;\n        differenceY = y - window.pageYOffset;\n    }else{\n        targetWidth = targetPosition.width;\n        targetHeight = targetPosition.height;\n        parentPosition = parent.getBoundingClientRect();\n        var offsetLeft = targetPosition.left - (parentPosition.left - parent.scrollLeft);\n        var offsetTop = targetPosition.top - (parentPosition.top - parent.scrollTop);\n        x = offsetLeft + (targetWidth * leftScalar) - parent.clientWidth * leftScalar;\n        y = offsetTop + (targetHeight * topScalar) - parent.clientHeight * topScalar;\n        x = Math.max(Math.min(x, parent.scrollWidth - parent.clientWidth), 0);\n        y = Math.max(Math.min(y, parent.scrollHeight - parent.clientHeight), 0);\n        x -= leftOffset;\n        y -= topOffset;\n        differenceX = x - parent.scrollLeft;\n        differenceY = y - parent.scrollTop;\n    }\n\n    return {\n        x: x,\n        y: y,\n        differenceX: differenceX,\n        differenceY: differenceY\n    };\n}\n\nfunction animate(parent){\n    raf(function(){\n        var scrollSettings = parent._scrollSettings;\n        if(!scrollSettings){\n            return;\n        }\n\n        var location = getTargetScrollLocation(scrollSettings.target, parent, scrollSettings.align),\n            time = Date.now() - scrollSettings.startTime,\n            timeValue = Math.min(1 / scrollSettings.time * time, 1);\n\n        if(\n            time > scrollSettings.time + 20\n        ){\n            setElementScroll(parent, location.x, location.y);\n            parent._scrollSettings = null;\n            return scrollSettings.end(COMPLETE);\n        }\n\n        var easeValue = 1 - scrollSettings.ease(timeValue);\n\n        setElementScroll(parent,\n            location.x - location.differenceX * easeValue,\n            location.y - location.differenceY * easeValue\n        );\n\n        animate(parent);\n    });\n}\nfunction transitionScrollTo(target, parent, settings, callback){\n    var idle = !parent._scrollSettings,\n        lastSettings = parent._scrollSettings,\n        now = Date.now(),\n        endHandler;\n\n    if(lastSettings){\n        lastSettings.end(CANCELED);\n    }\n\n    function end(endType){\n        parent._scrollSettings = null;\n        if(parent.parentElement && parent.parentElement._scrollSettings){\n            parent.parentElement._scrollSettings.end(endType);\n        }\n        callback(endType);\n        parent.removeEventListener('touchstart', endHandler);\n    }\n\n    parent._scrollSettings = {\n        startTime: lastSettings ? lastSettings.startTime : Date.now(),\n        target: target,\n        time: settings.time + (lastSettings ? now - lastSettings.startTime : 0),\n        ease: settings.ease,\n        align: settings.align,\n        end: end\n    };\n\n    endHandler = end.bind(null, CANCELED);\n    parent.addEventListener('touchstart', endHandler);\n\n    if(idle){\n        animate(parent);\n    }\n}\n\nfunction isScrollable(element){\n    return (\n        element === window ||\n        (\n            element.scrollHeight !== element.clientHeight ||\n            element.scrollWidth !== element.clientWidth\n        ) &&\n        getComputedStyle(element).overflow !== 'hidden'\n    );\n}\n\nfunction defaultValidTarget(){\n    return true;\n}\n\nmodule.exports = function(target, settings, callback){\n    if(!target){\n        return;\n    }\n\n    if(typeof settings === 'function'){\n        callback = settings;\n        settings = null;\n    }\n\n    if(!settings){\n        settings = {};\n    }\n\n    settings.time = isNaN(settings.time) ? 1000 : settings.time;\n    settings.ease = settings.ease || function(v){return 1 - Math.pow(1 - v, v / 2);};\n\n    var parent = target.parentElement,\n        parents = 0;\n\n    function done(endType){\n        parents--;\n        if(!parents){\n            callback && callback(endType);\n        }\n    }\n\n    var validTarget = settings.validTarget || defaultValidTarget;\n\n    while(parent){\n        if(validTarget(parent, parents) && isScrollable(parent)){\n            parents++;\n            transitionScrollTo(target, parent, settings, done);\n        }\n\n        parent = parent.parentElement;\n\n        if(!parent){\n            return;\n        }\n\n        if(parent.tagName === 'BODY'){\n            parent = window;\n        }\n    }\n};\n",
    "/*\r\nSlick Parser\r\n - originally created by the almighty Thomas Aylott <@subtlegradient> (http://subtlegradient.com)\r\n*/\"use strict\"\r\n\r\n// Notable changes from Slick.Parser 1.0.x\r\n\r\n// The parser now uses 2 classes: Expressions and Expression\r\n// `new Expressions` produces an array-like object containing a list of Expression objects\r\n// - Expressions::toString() produces a cleaned up expressions string\r\n// `new Expression` produces an array-like object\r\n// - Expression::toString() produces a cleaned up expression string\r\n// The only exposed method is parse, which produces a (cached) `new Expressions` instance\r\n// parsed.raw is no longer present, use .toString()\r\n// parsed.expression is now useless, just use the indices\r\n// parsed.reverse() has been removed for now, due to its apparent uselessness\r\n// Other changes in the Expressions object:\r\n// - classNames are now unique, and save both escaped and unescaped values\r\n// - attributes now save both escaped and unescaped values\r\n// - pseudos now save both escaped and unescaped values\r\n\r\nvar escapeRe   = /([-.*+?^${}()|[\\]\\/\\\\])/g,\r\n    unescapeRe = /\\\\/g\r\n\r\nvar escape = function(string){\r\n    // XRegExp v2.0.0-beta-3\r\n    // « https://github.com/slevithan/XRegExp/blob/master/src/xregexp.js\r\n    return (string + \"\").replace(escapeRe, '\\\\$1')\r\n}\r\n\r\nvar unescape = function(string){\r\n    return (string + \"\").replace(unescapeRe, '')\r\n}\r\n\r\nvar slickRe = RegExp(\r\n/*\r\n#!/usr/bin/env ruby\r\nputs \"\\t\\t\" + DATA.read.gsub(/\\(\\?x\\)|\\s+#.*$|\\s+|\\\\$|\\\\n/,'')\r\n__END__\r\n    \"(?x)^(?:\\\r\n      \\\\s* ( , ) \\\\s*               # Separator          \\n\\\r\n    | \\\\s* ( <combinator>+ ) \\\\s*   # Combinator         \\n\\\r\n    |      ( \\\\s+ )                 # CombinatorChildren \\n\\\r\n    |      ( <unicode>+ | \\\\* )     # Tag                \\n\\\r\n    | \\\\#  ( <unicode>+       )     # ID                 \\n\\\r\n    | \\\\.  ( <unicode>+       )     # ClassName          \\n\\\r\n    |                               # Attribute          \\n\\\r\n    \\\\[  \\\r\n        \\\\s* (<unicode1>+)  (?:  \\\r\n            \\\\s* ([*^$!~|]?=)  (?:  \\\r\n                \\\\s* (?:\\\r\n                    ([\\\"']?)(.*?)\\\\9 \\\r\n                )\\\r\n            )  \\\r\n        )?  \\\\s*  \\\r\n    \\\\](?!\\\\]) \\n\\\r\n    |   :+ ( <unicode>+ )(?:\\\r\n    \\\\( (?:\\\r\n        (?:([\\\"'])([^\\\\12]*)\\\\12)|((?:\\\\([^)]+\\\\)|[^()]*)+)\\\r\n    ) \\\\)\\\r\n    )?\\\r\n    )\"\r\n*/\r\n\"^(?:\\\\s*(,)\\\\s*|\\\\s*(<combinator>+)\\\\s*|(\\\\s+)|(<unicode>+|\\\\*)|\\\\#(<unicode>+)|\\\\.(<unicode>+)|\\\\[\\\\s*(<unicode1>+)(?:\\\\s*([*^$!~|]?=)(?:\\\\s*(?:([\\\"']?)(.*?)\\\\9)))?\\\\s*\\\\](?!\\\\])|(:+)(<unicode>+)(?:\\\\((?:(?:([\\\"'])([^\\\\13]*)\\\\13)|((?:\\\\([^)]+\\\\)|[^()]*)+))\\\\))?)\"\r\n    .replace(/<combinator>/, '[' + escape(\">+~`!@$%^&={}\\\\;</\") + ']')\r\n    .replace(/<unicode>/g, '(?:[\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])')\r\n    .replace(/<unicode1>/g, '(?:[:\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])')\r\n)\r\n\r\n// Part\r\n\r\nvar Part = function Part(combinator){\r\n    this.combinator = combinator || \" \"\r\n    this.tag = \"*\"\r\n}\r\n\r\nPart.prototype.toString = function(){\r\n\r\n    if (!this.raw){\r\n\r\n        var xpr = \"\", k, part\r\n\r\n        xpr += this.tag || \"*\"\r\n        if (this.id) xpr += \"#\" + this.id\r\n        if (this.classes) xpr += \".\" + this.classList.join(\".\")\r\n        if (this.attributes) for (k = 0; part = this.attributes[k++];){\r\n            xpr += \"[\" + part.name + (part.operator ? part.operator + '\"' + part.value + '\"' : '') + \"]\"\r\n        }\r\n        if (this.pseudos) for (k = 0; part = this.pseudos[k++];){\r\n            xpr += \":\" + part.name\r\n            if (part.value) xpr += \"(\" + part.value + \")\"\r\n        }\r\n\r\n        this.raw = xpr\r\n\r\n    }\r\n\r\n    return this.raw\r\n}\r\n\r\n// Expression\r\n\r\nvar Expression = function Expression(){\r\n    this.length = 0\r\n}\r\n\r\nExpression.prototype.toString = function(){\r\n\r\n    if (!this.raw){\r\n\r\n        var xpr = \"\"\r\n\r\n        for (var j = 0, bit; bit = this[j++];){\r\n            if (j !== 1) xpr += \" \"\r\n            if (bit.combinator !== \" \") xpr += bit.combinator + \" \"\r\n            xpr += bit\r\n        }\r\n\r\n        this.raw = xpr\r\n\r\n    }\r\n\r\n    return this.raw\r\n}\r\n\r\nvar replacer = function(\r\n    rawMatch,\r\n\r\n    separator,\r\n    combinator,\r\n    combinatorChildren,\r\n\r\n    tagName,\r\n    id,\r\n    className,\r\n\r\n    attributeKey,\r\n    attributeOperator,\r\n    attributeQuote,\r\n    attributeValue,\r\n\r\n    pseudoMarker,\r\n    pseudoClass,\r\n    pseudoQuote,\r\n    pseudoClassQuotedValue,\r\n    pseudoClassValue\r\n){\r\n\r\n    var expression, current\r\n\r\n    if (separator || !this.length){\r\n        expression = this[this.length++] = new Expression\r\n        if (separator) return ''\r\n    }\r\n\r\n    if (!expression) expression = this[this.length - 1]\r\n\r\n    if (combinator || combinatorChildren || !expression.length){\r\n        current = expression[expression.length++] = new Part(combinator)\r\n    }\r\n\r\n    if (!current) current = expression[expression.length - 1]\r\n\r\n    if (tagName){\r\n\r\n        current.tag = unescape(tagName)\r\n\r\n    } else if (id){\r\n\r\n        current.id = unescape(id)\r\n\r\n    } else if (className){\r\n\r\n        var unescaped = unescape(className)\r\n\r\n        var classes = current.classes || (current.classes = {})\r\n        if (!classes[unescaped]){\r\n            classes[unescaped] = escape(className)\r\n            var classList = current.classList || (current.classList = [])\r\n            classList.push(unescaped)\r\n            classList.sort()\r\n        }\r\n\r\n    } else if (pseudoClass){\r\n\r\n        pseudoClassValue = pseudoClassValue || pseudoClassQuotedValue\r\n\r\n        ;(current.pseudos || (current.pseudos = [])).push({\r\n            type         : pseudoMarker.length == 1 ? 'class' : 'element',\r\n            name         : unescape(pseudoClass),\r\n            escapedName  : escape(pseudoClass),\r\n            value        : pseudoClassValue ? unescape(pseudoClassValue) : null,\r\n            escapedValue : pseudoClassValue ? escape(pseudoClassValue) : null\r\n        })\r\n\r\n    } else if (attributeKey){\r\n\r\n        attributeValue = attributeValue ? escape(attributeValue) : null\r\n\r\n        ;(current.attributes || (current.attributes = [])).push({\r\n            operator     : attributeOperator,\r\n            name         : unescape(attributeKey),\r\n            escapedName  : escape(attributeKey),\r\n            value        : attributeValue ? unescape(attributeValue) : null,\r\n            escapedValue : attributeValue ? escape(attributeValue) : null\r\n        })\r\n\r\n    }\r\n\r\n    return ''\r\n\r\n}\r\n\r\n// Expressions\r\n\r\nvar Expressions = function Expressions(expression){\r\n    this.length = 0\r\n\r\n    var self = this\r\n\r\n    var original = expression, replaced\r\n\r\n    while (expression){\r\n        replaced = expression.replace(slickRe, function(){\r\n            return replacer.apply(self, arguments)\r\n        })\r\n        if (replaced === expression) throw new Error(original + ' is an invalid expression')\r\n        expression = replaced\r\n    }\r\n}\r\n\r\nExpressions.prototype.toString = function(){\r\n    if (!this.raw){\r\n        var expressions = []\r\n        for (var i = 0, expression; expression = this[i++];) expressions.push(expression)\r\n        this.raw = expressions.join(\", \")\r\n    }\r\n\r\n    return this.raw\r\n}\r\n\r\nvar cache = {}\r\n\r\nvar parse = function(expression){\r\n    if (expression == null) return null\r\n    expression = ('' + expression).replace(/^\\s+|\\s+$/g, '')\r\n    return cache[expression] || (cache[expression] = new Expressions(expression))\r\n}\r\n\r\nmodule.exports = parse\r\n",
    "'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n",
    "module.exports = require(\"./zen-observable.js\").Observable;\n",
    "'use strict'; (function(fn, name) { if (typeof exports !== 'undefined') fn(exports, module); else if (typeof self !== 'undefined') fn(name === '*' ? self : (name ? self[name] = {} : {})); })(function(exports, module) { // === Symbol Support ===\n\nfunction hasSymbol(name) {\n\n    return typeof Symbol === \"function\" && Boolean(Symbol[name]);\n}\n\nfunction getSymbol(name) {\n\n    return hasSymbol(name) ? Symbol[name] : \"@@\" + name;\n}\n\n// === Abstract Operations ===\n\nfunction getMethod(obj, key) {\n\n    var value = obj[key];\n\n    if (value == null)\n        return undefined;\n\n    if (typeof value !== \"function\")\n        throw new TypeError(value + \" is not a function\");\n\n    return value;\n}\n\nfunction getSpecies(ctor) {\n\n    var symbol = getSymbol(\"species\");\n    return symbol ? ctor[symbol] : ctor;\n}\n\nfunction addMethods(target, methods) {\n\n    Object.keys(methods).forEach(function(k) {\n\n        var desc = Object.getOwnPropertyDescriptor(methods, k);\n        desc.enumerable = false;\n        Object.defineProperty(target, k, desc);\n    });\n}\n\nfunction cleanupSubscription(subscription) {\n\n    // Assert:  observer._observer is undefined\n\n    var cleanup = subscription._cleanup;\n\n    if (!cleanup)\n        return;\n\n    // Drop the reference to the cleanup function so that we won't call it\n    // more than once\n    subscription._cleanup = undefined;\n\n    // Call the cleanup function\n    cleanup();\n}\n\nfunction subscriptionClosed(subscription) {\n\n    return subscription._observer === undefined;\n}\n\nfunction closeSubscription(subscription) {\n\n    if (subscriptionClosed(subscription))\n        return;\n\n    subscription._observer = undefined;\n    cleanupSubscription(subscription);\n}\n\nfunction cleanupFromSubscription(subscription) {\n    return function(_) { subscription.unsubscribe() };\n}\n\nfunction Subscription(observer, subscriber) {\n\n    // Assert: subscriber is callable\n\n    // The observer must be an object\n    if (Object(observer) !== observer)\n        throw new TypeError(\"Observer must be an object\");\n\n    this._cleanup = undefined;\n    this._observer = observer;\n\n    var start = getMethod(observer, \"start\");\n\n    if (start)\n        start.call(observer, this);\n\n    if (subscriptionClosed(this))\n        return;\n\n    observer = new SubscriptionObserver(this);\n\n    try {\n\n        // Call the subscriber function\n        var cleanup$0 = subscriber.call(undefined, observer);\n\n        // The return value must be undefined, null, a subscription object, or a function\n        if (cleanup$0 != null) {\n\n            if (typeof cleanup$0.unsubscribe === \"function\")\n                cleanup$0 = cleanupFromSubscription(cleanup$0);\n            else if (typeof cleanup$0 !== \"function\")\n                throw new TypeError(cleanup$0 + \" is not a function\");\n\n            this._cleanup = cleanup$0;\n        }\n\n    } catch (e) {\n\n        // If an error occurs during startup, then attempt to send the error\n        // to the observer\n        observer.error(e);\n        return;\n    }\n\n    // If the stream is already finished, then perform cleanup\n    if (subscriptionClosed(this))\n        cleanupSubscription(this);\n}\n\naddMethods(Subscription.prototype = {}, {\n    get closed() { return subscriptionClosed(this) },\n    unsubscribe: function() { closeSubscription(this) },\n});\n\nfunction SubscriptionObserver(subscription) {\n    this._subscription = subscription;\n}\n\naddMethods(SubscriptionObserver.prototype = {}, {\n\n    get closed() { return subscriptionClosed(this._subscription) },\n\n    next: function(value) {\n\n        var subscription = this._subscription;\n\n        // If the stream if closed, then return undefined\n        if (subscriptionClosed(subscription))\n            return undefined;\n\n        var observer = subscription._observer;\n\n        try {\n\n            var m$0 = getMethod(observer, \"next\");\n\n            // If the observer doesn't support \"next\", then return undefined\n            if (!m$0)\n                return undefined;\n\n            // Send the next value to the sink\n            return m$0.call(observer, value);\n\n        } catch (e) {\n\n            // If the observer throws, then close the stream and rethrow the error\n            try { closeSubscription(subscription) }\n            finally { throw e }\n        }\n    },\n\n    error: function(value) {\n\n        var subscription = this._subscription;\n\n        // If the stream is closed, throw the error to the caller\n        if (subscriptionClosed(subscription))\n            throw value;\n\n        var observer = subscription._observer;\n        subscription._observer = undefined;\n\n        try {\n\n            var m$1 = getMethod(observer, \"error\");\n\n            // If the sink does not support \"error\", then throw the error to the caller\n            if (!m$1)\n                throw value;\n\n            value = m$1.call(observer, value);\n\n        } catch (e) {\n\n            try { cleanupSubscription(subscription) }\n            finally { throw e }\n        }\n\n        cleanupSubscription(subscription);\n        return value;\n    },\n\n    complete: function(value) {\n\n        var subscription = this._subscription;\n\n        // If the stream is closed, then return undefined\n        if (subscriptionClosed(subscription))\n            return undefined;\n\n        var observer = subscription._observer;\n        subscription._observer = undefined;\n\n        try {\n\n            var m$2 = getMethod(observer, \"complete\");\n\n            // If the sink does not support \"complete\", then return undefined\n            value = m$2 ? m$2.call(observer, value) : undefined;\n\n        } catch (e) {\n\n            try { cleanupSubscription(subscription) }\n            finally { throw e }\n        }\n\n        cleanupSubscription(subscription);\n        return value;\n    },\n\n});\n\nfunction Observable(subscriber) {\n\n    // The stream subscriber must be a function\n    if (typeof subscriber !== \"function\")\n        throw new TypeError(\"Observable initializer must be a function\");\n\n    this._subscriber = subscriber;\n}\n\naddMethods(Observable.prototype, {\n\n    subscribe: function(observer) { for (var args = [], __$0 = 1; __$0 < arguments.length; ++__$0) args.push(arguments[__$0]); \n\n        if (typeof observer === 'function') {\n\n            observer = {\n                next: observer,\n                error: args[0],\n                complete: args[1],\n            };\n        }\n\n        return new Subscription(observer, this._subscriber);\n    },\n\n    forEach: function(fn) { var __this = this; \n\n        return new Promise(function(resolve, reject) {\n\n            if (typeof fn !== \"function\")\n                return Promise.reject(new TypeError(fn + \" is not a function\"));\n\n            __this.subscribe({\n\n                _subscription: null,\n\n                start: function(subscription) {\n\n                    if (Object(subscription) !== subscription)\n                        throw new TypeError(subscription + \" is not an object\");\n\n                    this._subscription = subscription;\n                },\n\n                next: function(value) {\n\n                    var subscription = this._subscription;\n\n                    if (subscription.closed)\n                        return;\n\n                    try {\n\n                        return fn(value);\n\n                    } catch (err) {\n\n                        reject(err);\n                        subscription.unsubscribe();\n                    }\n                },\n\n                error: reject,\n                complete: resolve,\n            });\n\n        });\n    },\n\n    map: function(fn) { var __this = this; \n\n        if (typeof fn !== \"function\")\n            throw new TypeError(fn + \" is not a function\");\n\n        var C = getSpecies(this.constructor);\n\n        return new C(function(observer) { return __this.subscribe({\n\n            next: function(value) {\n\n                if (observer.closed)\n                    return;\n\n                try { value = fn(value) }\n                catch (e) { return observer.error(e) }\n\n                return observer.next(value);\n            },\n\n            error: function(e) { return observer.error(e) },\n            complete: function(x) { return observer.complete(x) },\n        }); });\n    },\n\n    filter: function(fn) { var __this = this; \n\n        if (typeof fn !== \"function\")\n            throw new TypeError(fn + \" is not a function\");\n\n        var C = getSpecies(this.constructor);\n\n        return new C(function(observer) { return __this.subscribe({\n\n            next: function(value) {\n\n                if (observer.closed)\n                    return;\n\n                try { if (!fn(value)) return undefined }\n                catch (e) { return observer.error(e) }\n\n                return observer.next(value);\n            },\n\n            error: function(e) { return observer.error(e) },\n            complete: function() { return observer.complete() },\n        }); });\n    },\n\n    reduce: function(fn) { var __this = this; \n\n        if (typeof fn !== \"function\")\n            throw new TypeError(fn + \" is not a function\");\n\n        var C = getSpecies(this.constructor),\n            hasSeed = arguments.length > 1,\n            hasValue = false,\n            seed = arguments[1],\n            acc = seed;\n\n        return new C(function(observer) { return __this.subscribe({\n\n            next: function(value) {\n\n                if (observer.closed)\n                    return;\n\n                var first = !hasValue;\n                hasValue = true;\n\n                if (!first || hasSeed) {\n\n                    try { acc = fn(acc, value) }\n                    catch (e) { return observer.error(e) }\n\n                } else {\n\n                    acc = value;\n                }\n            },\n\n            error: function(e) { return observer.error(e) },\n\n            complete: function() {\n\n                if (!hasValue && !hasSeed) {\n                    observer.error(new TypeError(\"Cannot reduce an empty sequence\"));\n                    return;\n                }\n\n                observer.next(acc);\n                observer.complete();\n            },\n\n        }); });\n    },\n\n    flatMap: function(fn) { var __this = this; \n\n        if (typeof fn !== \"function\")\n            throw new TypeError(fn + \" is not a function\");\n\n        var C = getSpecies(this.constructor);\n\n        return new C(function(observer) {\n\n            var completed = false,\n                subscriptions = [];\n\n            // Subscribe to the outer Observable\n            var outer = __this.subscribe({\n\n                next: function(value) {\n\n                    if (fn) {\n\n                        try {\n\n                            value = fn(value);\n\n                        } catch (x) {\n\n                            observer.error(x);\n                            return;\n                        }\n                    }\n\n                    // Subscribe to the inner Observable\n                    Observable.from(value).subscribe({\n\n                        _subscription: null,\n\n                        start: function(s) { subscriptions.push(this._subscription = s) },\n                        next: function(value) { observer.next(value) },\n                        error: function(e) { observer.error(e) },\n\n                        complete: function() {\n\n                            var i = subscriptions.indexOf(this._subscription);\n\n                            if (i >= 0)\n                                subscriptions.splice(i, 1);\n\n                            closeIfDone();\n                        }\n                    });\n                },\n\n                error: function(e) {\n\n                    return observer.error(e);\n                },\n\n                complete: function() {\n\n                    completed = true;\n                    closeIfDone();\n                }\n            });\n\n            function closeIfDone() {\n\n                if (completed && subscriptions.length === 0)\n                    observer.complete();\n            }\n\n            return function(_) {\n\n                subscriptions.forEach(function(s) { return s.unsubscribe(); });\n                outer.unsubscribe();\n            };\n        });\n    }\n\n});\n\nObject.defineProperty(Observable.prototype, getSymbol(\"observable\"), {\n    value: function() { return this },\n    writable: true,\n    configurable: true,\n});\n\naddMethods(Observable, {\n\n    from: function(x) {\n\n        var C = typeof this === \"function\" ? this : Observable;\n\n        if (x == null)\n            throw new TypeError(x + \" is not an object\");\n\n        var method = getMethod(x, getSymbol(\"observable\"));\n\n        if (method) {\n\n            var observable$0 = method.call(x);\n\n            if (Object(observable$0) !== observable$0)\n                throw new TypeError(observable$0 + \" is not an object\");\n\n            if (observable$0.constructor === C)\n                return observable$0;\n\n            return new C(function(observer) { return observable$0.subscribe(observer); });\n        }\n\n        if (hasSymbol(\"iterator\") && (method = getMethod(x, getSymbol(\"iterator\")))) {\n\n            return new C(function(observer) {\n\n                for (var __$0 = (method.call(x))[Symbol.iterator](), __$1; __$1 = __$0.next(), !__$1.done;) { var item$0 = __$1.value; \n\n                    observer.next(item$0);\n\n                    if (observer.closed)\n                        return;\n                }\n\n                observer.complete();\n            });\n        }\n\n        if (Array.isArray(x)) {\n\n            return new C(function(observer) {\n\n                for (var i$0 = 0; i$0 < x.length; ++i$0) {\n\n                    observer.next(x[i$0]);\n\n                    if (observer.closed)\n                        return;\n                }\n\n                observer.complete();\n            });\n        }\n\n        throw new TypeError(x + \" is not observable\");\n    },\n\n    of: function() { for (var items = [], __$0 = 0; __$0 < arguments.length; ++__$0) items.push(arguments[__$0]); \n\n        var C = typeof this === \"function\" ? this : Observable;\n\n        return new C(function(observer) {\n\n            for (var i$1 = 0; i$1 < items.length; ++i$1) {\n\n                observer.next(items[i$1]);\n\n                if (observer.closed)\n                    return;\n            }\n\n            observer.complete();\n        });\n    },\n\n});\n\nObject.defineProperty(Observable, getSymbol(\"species\"), {\n    get: function() { return this },\n    configurable: true,\n});\n\nexports.Observable = Observable;\n\n\n}, \"*\");",
    "module.exports = \"<hypothesis-adder-toolbar class=\\\"annotator-adder js-adder\\\">\\n  <div  class=\\\"js-group-txt\\\" data-action=\\\"group\\\">\\n  \\t\\n  </div>\\n  <hypothesis-adder-actions class=\\\"annotator-adder-actions\\\">\\n    <button class=\\\"annotator-adder-actions__button h-icon-highlight js-highlight-btn\\\">\\n      <span class=\\\"annotator-adder-actions__label\\\" data-action=\\\"highlight\\\">Highlight</span>\\n    </button>\\n     <button class=\\\"annotator-adder-actions__button h-icon-annotate js-annotate-btn\\\">\\n      <span class=\\\"annotator-adder-actions__label\\\" data-action=\\\"comment\\\">Comment</span>\\n    </button>\\n    <button class=\\\"annotator-adder-actions__button h-icon-annotation-share js-highlight-share-btn\\\">\\n      <span class=\\\"annotator-adder-actions__label\\\" data-action=\\\"share\\\">Share</span>\\n    </button>\\n     <button class=\\\"annotator-adder-actions__button h-icon-download js-include-btn\\\">\\n      <span class=\\\"annotator-adder-actions__label\\\" data-action=\\\"include\\\">Include</span>\\n    </button>\\n    <button class=\\\"annotator-adder-actions__button h-icon-upload js-exclude-btn\\\">\\n      <span class=\\\"annotator-adder-actions__label\\\" data-action=\\\"exclude\\\">Exclude</span>\\n    </button>\\n    <!-- <button class=\\\"annotator-adder-actions__button h-icon-group js-group-btn\\\">\\n      <span class=\\\"annotator-adder-actions__label\\\" data-action=\\\"group\\\">Change Taskspace</span>\\n    </button> -->\\n    <button class=\\\"annotator-adder-actions__button h-icon-account js-login-btn\\\">\\n      <span class=\\\"annotator-adder-actions__label\\\" data-action=\\\"login\\\">Login</span>\\n    </button>\\n  </hypothesis-adder-actions>\\n</hypothesis-adder-toolbar>\\n\";\n",
    "'use strict';\n\nvar classnames = require('classnames');\n\nvar template = require('./adder.html');\n\nvar ANNOTATE_BTN_CLASS = 'js-annotate-btn';\nvar ANNOTATE_BTN_SELECTOR = '.js-annotate-btn';\n\nvar HIGHLIGHT_BTN_CLASS = 'js-highlight-btn';\nvar HIGHLIGHT_BTN_SELECTOR = '.js-highlight-btn';\n\nvar HIGHLIGHT_SHARE_BTN_CLASS = 'js-highlight-share-btn';\nvar HIGHLIGHT_SHARE_BTN_SELECTOR = '.js-highlight-share-btn';\n\nvar INCLUDE_BTN_CLASS = 'js-include-btn';\nvar INCLUDE_BTN_SELECTOR = '.js-include-btn';\n\nvar EXCLUDE_BTN_CLASS = 'js-exclude-btn';\nvar EXCLUDE_BTN_SELECTOR = '.js-exclude-btn';\n\nvar GROUP_BTN_CLASS = 'js-group-btn';\nvar GROUP_BTN_SELECTOR = '.js-anchor-btn';\n\nvar GROUP_TXT = 'Select Taskspace';\nvar GROUP_TXT_SELECTOR = '.js-group-txt';\n\nvar LOGIN_BTN_CLASS = 'js-login-btn';\nvar LOGIN_BTN_SELECTOR = '.js-login-btn';\n\nvar BTN_LABEL_SELECTOR = '.annotator-adder-actions__label';\n\n/**\n * @typedef Target\n * @prop {number} left - Offset from left edge of viewport.\n * @prop {number} top - Offset from top edge of viewport.\n * @prop {number} arrowDirection - Direction of the adder's arrow.\n */\n\n/**\n * Show the adder above the selection with an arrow pointing down at the\n * selected text.\n */\nvar ARROW_POINTING_DOWN = 1;\n\n/**\n * Show the adder above the selection with an arrow pointing up at the\n * selected text.\n */\nvar ARROW_POINTING_UP = 2;\n\nfunction toPx(pixels) {\n  return pixels.toString() + 'px';\n}\n\nvar ARROW_HEIGHT = 10;\n\n// The preferred gap between the end of the text selection and the adder's\n// arrow position.\nvar ARROW_H_MARGIN = 20;\n\nfunction attachShadow(element) {\n  if (element.attachShadow) {\n    // Shadow DOM v1 (Chrome v53, Safari 10)\n    return element.attachShadow({mode: 'open'});\n  } else if (element.createShadowRoot) {\n    // Shadow DOM v0 (Chrome ~35-52)\n    return element.createShadowRoot();\n  } else {\n    return null;\n  }\n}\n\n/**\n * Return the closest ancestor of `el` which has been positioned.\n *\n * If no ancestor has been positioned, returns the root element.\n *\n * @param {Element} el\n * @return {Element}\n */\nfunction nearestPositionedAncestor(el) {\n  var parentEl = el.parentElement;\n  while (parentEl.parentElement) {\n    if (getComputedStyle(parentEl).position !== 'static') {\n      break;\n    }\n    parentEl = parentEl.parentElement;\n  }\n  return parentEl;\n}\n\n/**\n * Create the DOM structure for the Adder.\n *\n * Returns the root DOM node for the adder, which may be in a shadow tree.\n */\nfunction createAdderDOM(container) {\n  var element;\n\n  // If the browser supports Shadow DOM, use it to isolate the adder\n  // from the page's CSS\n  //\n  // See https://developers.google.com/web/fundamentals/primers/shadowdom/\n  var shadowRoot = attachShadow(container);\n  if (shadowRoot) {\n    shadowRoot.innerHTML = template;\n    element = shadowRoot.querySelector('.js-adder');\n\n    // Load stylesheets required by adder into shadow DOM element\n    var adderStyles = Array.from(document.styleSheets).map(function (sheet) {\n      return sheet.href;\n    }).filter(function (url) {\n      return (url || '').match(/(icomoon|annotator|select|bootstrap)\\.css/);\n    });\n\n    // Stylesheet <link> elements are inert inside shadow roots [1]. Until\n    // Shadow DOM implementations support external stylesheets [2], grab the\n    // relevant CSS files from the current page and `@import` them.\n    //\n    // [1] http://stackoverflow.com/questions/27746590\n    // [2] https://github.com/w3c/webcomponents/issues/530\n    //\n    // This will unfortunately break if the page blocks inline stylesheets via\n    // CSP, but that appears to be rare and if this happens, the user will still\n    // get a usable adder, albeit one that uses browser default styles for the\n    // toolbar.\n    var styleEl = document.createElement('style');\n    styleEl.textContent = adderStyles.map(function (url) {\n      return '@import \"' + url + '\";';\n    }).join('\\n');\n    shadowRoot.appendChild(styleEl);\n  } else {\n    container.innerHTML = template;\n    element = container.querySelector('.js-adder');\n  }\n  return element;\n}\n\n/**\n * Annotation 'adder' toolbar which appears next to the selection\n * and provides controls for the user to create new annotations.\n */\nclass Adder {\n  /**\n   * Construct the toolbar and populate the UI.\n   *\n   * The adder is initially hidden.\n   *\n   * @param {Element} container - The DOM element into which the adder will be created\n   * @param {Object} options - Options object specifying `onAnnotate` and `onHighlight`\n   *        event handlers.\n   */\n  constructor(container, options) {\n\tthis.session = null;\n\tthis.group = null;\n    this.element = createAdderDOM(container);\n    this._container = container;\n    this.clipperMode = false;\n\n    // Set initial style\n    Object.assign(container.style, {\n      display: 'block',\n\n      // take position out of layout flow initially\n      position: 'absolute',\n      top: 0,\n\n      // Assign a high Z-index so that the adder shows above any content on the\n      // page\n      zIndex: 2147483647,\n    });\n    \n    // The adder is hidden using the `visibility` property rather than `display`\n    // so that we can compute its size in order to position it before display.\n    this.element.style.visibility = 'hidden';\n\n    this._view = this.element.ownerDocument.defaultView;\n    this._enterTimeout = null;\n\n    var handleCommand = (event) => {\n      event.preventDefault();\n      event.stopPropagation();\n      \n      var action = event.target.getAttribute(\"data-action\");\n      \n      var isAnnotateCommand = event.target.classList.contains(ANNOTATE_BTN_CLASS) || action === \"comment\";\n      var isHighlightCommand = event.target.classList.contains(HIGHLIGHT_BTN_CLASS) || action === \"highlight\";\n      var isShareHighlightCommand = event.target.classList.contains(HIGHLIGHT_SHARE_BTN_CLASS) || action === \"share\";\n      var isIncludeCommand = event.target.classList.contains(INCLUDE_BTN_CLASS) || action === \"include\";\n      var isExlcudeCommand = event.target.classList.contains(EXCLUDE_BTN_CLASS) || action === \"exclude\";\n      var isGroupCommand = event.target.classList.contains(GROUP_BTN_CLASS) || action === \"group\";\n      var isLoginCommand = event.target.classList.contains(LOGIN_BTN_CLASS) || action === \"login\";\n\n      if (isAnnotateCommand) {\n        options.onAnnotate();\n        this.hide();\n      } else  if (isHighlightCommand) {\n        options.onHighlight();\n        this.hide();\n      } else  if (isShareHighlightCommand) {\n        options.onShareHighlight();\n        this.hide();\n      } else  if (isIncludeCommand) {\n          options.onInclude();\n          this.hide();\n      } else  if (isExlcudeCommand) {\n          options.onExclude();\n          this.hide();\n      }  else  if (isGroupCommand) {\n    \t  options.onGroupChange();\n      } else  if (isLoginCommand) {\n    \t  options.onLogin();\n      }\n    };\n\n    this.element.querySelector(ANNOTATE_BTN_SELECTOR)\n      .addEventListener('click', handleCommand);\n    this.element.querySelector(HIGHLIGHT_BTN_SELECTOR)\n      .addEventListener('click', handleCommand);\n    this.element.querySelector(HIGHLIGHT_SHARE_BTN_SELECTOR)\n      .addEventListener('click', handleCommand);\n    this.element.querySelector(INCLUDE_BTN_SELECTOR)\n      .addEventListener('click', handleCommand);\n    this.element.querySelector(EXCLUDE_BTN_SELECTOR)\n      .addEventListener('click', handleCommand);\n    this.element.querySelector(GROUP_TXT_SELECTOR)\n    .addEventListener('click', handleCommand);\n    this.element.querySelector(LOGIN_BTN_SELECTOR)\n      .addEventListener('click', handleCommand);\n    this.element.querySelector(BTN_LABEL_SELECTOR)\n    .addEventListener('click', handleCommand);\n\n    this._width = () => this.element.getBoundingClientRect().width;\n    this._height = () => this.element.getBoundingClientRect().height;\n  }\n\n  \n  enableClipperCommands() {\n\t  this.clipperMode = true;\n\t  var session = this.getSession(); \n\t  var group = this.getGroup();\n\t  if(session && session.userid ) {\n\t\t  this.element.querySelector(INCLUDE_BTN_SELECTOR).style.display = '';\n\t      this.element.querySelector(EXCLUDE_BTN_SELECTOR).style.display = '';      \n\t      this.showButtons();\n\t  }\n  }\n  \n  disableClipperCommands() {\n\t  this.element.querySelector(INCLUDE_BTN_SELECTOR).style.display = 'none';\n      this.element.querySelector(EXCLUDE_BTN_SELECTOR).style.display = 'none';\n      this.clipperMode = false;\n      this.showButtons();\n  }\n  \n  /** Hide the adder */\n  hide() {\n    clearTimeout(this._enterTimeout);\n    this.element.className = classnames({'annotator-adder': true});\n    this.element.style.visibility = 'hidden';\n  }\n\n  /**\n   * Return the best position to show the adder in order to target the\n   * selected text in `targetRect`.\n   *\n   * @param {Rect} targetRect - The rect of text to target, in viewport\n   *        coordinates.\n   * @param {boolean} isSelectionBackwards - True if the selection was made\n   *        backwards, such that the focus point is mosty likely at the top-left\n   *        edge of `targetRect`.\n   * @return {Target}\n   */\n  target(targetRect, isSelectionBackwards) {\n    // Set the initial arrow direction based on whether the selection was made\n    // forwards/upwards or downwards/backwards.\n    var arrowDirection;\n    if (isSelectionBackwards) {\n      arrowDirection = ARROW_POINTING_DOWN;\n    } else {\n      arrowDirection = ARROW_POINTING_UP;\n    }\n    var top;\n    var left;\n\n    // Position the adder such that the arrow it is above or below the selection\n    // and close to the end.\n    var hMargin = Math.min(ARROW_H_MARGIN, targetRect.width);\n    if (isSelectionBackwards) {\n      left = targetRect.left - this._width() / 2 + hMargin;\n    } else {\n      left = targetRect.left + targetRect.width - this._width() / 2 - hMargin;\n    }\n\n    // Flip arrow direction if adder would appear above the top or below the\n    // bottom of the viewport.\n    if (targetRect.top - this._height() < 0 &&\n        arrowDirection === ARROW_POINTING_DOWN) {\n      arrowDirection = ARROW_POINTING_UP;\n    } else if (targetRect.top + this._height() > this._view.innerHeight) {\n      arrowDirection = ARROW_POINTING_DOWN;\n    }\n\n    if (arrowDirection === ARROW_POINTING_UP) {\n      top = targetRect.top + targetRect.height + ARROW_HEIGHT;\n    } else {\n      top = targetRect.top - this._height() - ARROW_HEIGHT;\n    }\n\n    // Constrain the adder to the viewport.\n    left = Math.max(left, 0);\n    left = Math.min(left, this._view.innerWidth - this._width());\n\n    top = Math.max(top, 0);\n    top = Math.min(top, this._view.innerHeight - this._height());\n\n    return {top, left, arrowDirection};\n  }\n\n  /**\n   * Show the adder at the given position and with the arrow pointing in\n   * `arrowDirection`.\n   *\n   * @param {number} left - Horizontal offset from left edge of viewport.\n   * @param {number} top - Vertical offset from top edge of viewport.\n   */\n  showAt(left, top, arrowDirection) {\n\tvar group = this.getGroup();\n\t\n\tvar isActive = this.element.classList.contains(\"is-active\");\n    this.element.className = classnames({\n      'annotator-adder': true,\n      'is-active' : isActive,\n      'annotator-adder--arrow-down': arrowDirection === ARROW_POINTING_DOWN,\n      'annotator-adder--arrow-up': arrowDirection === ARROW_POINTING_UP,\n    });\n    \n    \n    if((group && group.fromPublicLink) || !group) {\n    \treturn false;\n    }\n    \n    this.showButtons();\n    \n\n    // Translate the (left, top) viewport coordinates into positions relative to\n    // the adder's nearest positioned ancestor (NPA).\n    //\n    // Typically the adder is a child of the `<body>` and the NPA is the root\n    // `<html>` element. However page styling may make the `<body>` positioned.\n    // See https://github.com/hypothesis/client/issues/487.\n    var positionedAncestor = nearestPositionedAncestor(this._container);\n    var parentRect = positionedAncestor.getBoundingClientRect();\n\n    if(arrowDirection === ARROW_POINTING_UP) {\n    \ttop -= ARROW_HEIGHT;\n    } else if(arrowDirection === ARROW_POINTING_DOWN) {\n    \ttop += ARROW_HEIGHT;\n    }\n    \n    Object.assign(this._container.style, {\n      top: toPx(top - parentRect.top),\n      left: toPx(left - parentRect.left),\n    });\n    this.element.style.visibility = 'visible';\n    if(!isActive) {\n    \tclearTimeout(this._enterTimeout);\n        this._enterTimeout = setTimeout(() => {\n          this.element.className += ' is-active';\n        }, 1);\n    }\n  }\n  \n  showButtons() {\n\t// Some sites make big assumptions about interactive\n    // elements on the page. Some want to hide interactive elements\n    // after use. So we need to make sure the button stays displayed\n    // the way it was originally displayed - without the inline styles\n    // See: https://github.com/hypothesis/client/issues/137\n    var session = this.getSession(); \n    var group = this.getGroup();\n    \n    if(session && session.userid ) {\n    \tif(!this.clipperMode) {\n    \t\tthis.element.querySelector(ANNOTATE_BTN_SELECTOR).style.display = '';\n            this.element.querySelector(HIGHLIGHT_BTN_SELECTOR).style.display = '';\n            this.element.querySelector(HIGHLIGHT_SHARE_BTN_SELECTOR).style.display = '';\n    \t} else {\n    \t\tthis.element.querySelector(ANNOTATE_BTN_SELECTOR).style.display = 'none';\n            this.element.querySelector(HIGHLIGHT_BTN_SELECTOR).style.display = 'none';\n            this.element.querySelector(HIGHLIGHT_SHARE_BTN_SELECTOR).style.display = 'none';\n        }\n        //this.element.querySelector(GROUP_BTN_SELECTOR).style.display = '';\n        this.element.querySelector(GROUP_TXT_SELECTOR).style.display = '';\n        this.element.querySelector(LOGIN_BTN_SELECTOR).style.display = 'none';\n    } else {\n    \tthis.element.querySelector(ANNOTATE_BTN_SELECTOR).style.display = 'none';\n        this.element.querySelector(HIGHLIGHT_BTN_SELECTOR).style.display = 'none';\n        this.element.querySelector(HIGHLIGHT_SHARE_BTN_SELECTOR).style.display = 'none';\n       // this.element.querySelector(GROUP_BTN_SELECTOR).style.display = 'none';\n        this.element.querySelector(GROUP_TXT_SELECTOR).style.display = 'none';\n        this.element.querySelector(LOGIN_BTN_SELECTOR).style.display = '';\n    }\n    \n    if(group && group.permissions && group.permissions.readOnly) {\n    \tthis.element.querySelector(ANNOTATE_BTN_SELECTOR).style.display = 'none';\n        this.element.querySelector(HIGHLIGHT_BTN_SELECTOR).style.display = 'none';\n        this.element.querySelector(HIGHLIGHT_SHARE_BTN_SELECTOR).style.display = 'none';\n    }\n    \n    if((group && group.fromPublicLink) || !group) {\n    \tthis.element.querySelector(ANNOTATE_BTN_SELECTOR).style.display = 'none';\n        this.element.querySelector(HIGHLIGHT_BTN_SELECTOR).style.display = 'none';\n        this.element.querySelector(HIGHLIGHT_SHARE_BTN_SELECTOR).style.display = 'none';\n        //this.element.querySelector(GROUP_BTN_SELECTOR).style.display = 'none';\n        this.element.querySelector(GROUP_TXT_SELECTOR).style.display = 'none';\n    }\n    \n    if(group) {\n\t    \n        let text = group.name;\n\t    if(group.selectedSection) {\n\t\t\ttext = text+\" / \"+group.selectedSection.name;\n\t    }\n    \tthis.element.querySelector(GROUP_TXT_SELECTOR).innerHTML ='<a href=\"\" class=\"js-anchor-btn\" style=\"color:#fff;\" data-action=\"group\" title=\"'+text+'\">'+text+'</a>';  \n    \tthis.element.querySelector(GROUP_TXT_SELECTOR).style.color = '#fff';\n    \tthis.element.querySelector(GROUP_TXT_SELECTOR).style['border-color'] = '#069';\n    } else {\n    \tthis.element.querySelector(GROUP_TXT_SELECTOR).innerHTML = GROUP_TXT;\n    \tthis.element.querySelector(GROUP_TXT_SELECTOR).style.color = '#a94442';\n    \tthis.element.querySelector(GROUP_TXT_SELECTOR).style['border-color'] = '#a94442';\n    }\n  }\n  \n  setSession(session) {\n\t  this.session = session;\n\t  this.showButtons();\n  }\n  \n  getSession() {\n\t  return this.session;\n  }\n  \n  setGroup(group) {\n\t  this.group = group;\n\t  this.showButtons();\n  }\n  \n  getGroup() {\n\t  return this.group;\n  }\n  \n  getTextNodes(elem) {\n\t  var textNodes = [];\n\t  if (elem) {\n\t    for (var nodes = elem.childNodes, i = nodes.length; i--;) {\n\t      var node = nodes[i], nodeType = node.nodeType;\n\t      if (nodeType == 3) {\n\t    \t  textNodes.push(node);\n\t      }\n\t      else if (nodeType == 1 || nodeType == 9 || nodeType == 11) {\n\t        textNodes = textNodes.concat(this.getTextNodes(node));\n\t      }\n\t    }\n\t  }\n\t  return textNodes;\n  }\n  \n  anchor(textContent) {\n\t  return {\n\t\t  \"target\": [\n\t\t\t  {\n\t\t\t\t  \"selector\": [\n\t\t\t\t\t  {\n\t\t\t\t          \"type\": \"TextQuoteSelector\",\n\t\t\t\t          \"exact\": textContent,\n\t\t\t\t          \"prefix\": \"\",\n\t\t\t\t          \"suffix\": \"\"\n\t\t\t\t\t  }\n\t\t\t\t  ]\n\t\t\t  }\n\t\t  ]\n\t  };\n  }\n  \n  getWebClipperAnchors(elem,title) {\n\t  var anchors = [];\n\t  var nodes = this.getTextNodes(elem);\n\t  if(title && title.trim() !== \"\") {\n\t\t  var anchor = this.anchor(title);\n\t\t  anchors.push(anchor);\n\t  }\n\t  for(var i=0;nodes.length > i;i++) {\n\t\t  var textContent = nodes[i].textContent.trim();\n\t\t  if(textContent !== \"\") {\n\t\t\t  var anchor = this.anchor(textContent);\n\t\t\t  anchors.push(anchor);\n\t\t  }\n\t  }\n\t  return anchors;\n  }\n}\n\n\nmodule.exports = {\n  ARROW_POINTING_DOWN: ARROW_POINTING_DOWN,\n  ARROW_POINTING_UP: ARROW_POINTING_UP,\n\n  Adder: Adder,\n};\n",
    "var FragmentAnchor, ImageAnchor, RangeAnchor, TextPositionAnchor, TextQuoteAnchor, querySelector, ref;\n\nref = require('./types'), FragmentAnchor = ref.FragmentAnchor, RangeAnchor = ref.RangeAnchor, TextPositionAnchor = ref.TextPositionAnchor, TextQuoteAnchor = ref.TextQuoteAnchor, ImageAnchor = ref.ImageAnchor;\n\nquerySelector = function(type, root, selector, options) {\n  var doQuery;\n  doQuery = function(resolve, reject) {\n    var anchor, error, range;\n    try {\n      anchor = type.fromSelector(root, selector, options);\n      range = anchor.toRange(options);\n      range.type = type.name;\n      range.node = anchor.node;\n      return resolve(range);\n    } catch (error1) {\n      error = error1;\n      return reject(error);\n    }\n  };\n  return new Promise(doQuery);\n};\n\n\n/**\n * Anchor a set of selectors.\n *\n * This function converts a set of selectors into a document range.\n * It encapsulates the core anchoring algorithm, using the selectors alone or\n * in combination to establish the best anchor within the document.\n *\n * :param Element root: The root element of the anchoring context.\n * :param Array selectors: The selectors to try.\n * :param Object options: Options to pass to the anchor implementations.\n * :return: A Promise that resolves to a Range on success.\n * :rtype: Promise\n */\n\nexports.anchor = function(root, selectors, options) {\n  var fragment, i, image, len, maybeAssertImageQuote, maybeAssertQuote, position, promise, quote, range, ref1, selector;\n  if (options == null) {\n    options = {};\n  }\n  fragment = null;\n  position = null;\n  quote = null;\n  range = null;\n  image = null;\n  ref1 = selectors != null ? selectors : [];\n  for (i = 0, len = ref1.length; i < len; i++) {\n    selector = ref1[i];\n    switch (selector.type) {\n      case 'FragmentSelector':\n        fragment = selector;\n        break;\n      case 'TextPositionSelector':\n        position = selector;\n        options.hint = position.start;\n        break;\n      case 'TextQuoteSelector':\n        quote = selector;\n        break;\n      case 'RangeSelector':\n        range = selector;\n        break;\n      case 'ImageSelector':\n        image = selector;\n    }\n  }\n  maybeAssertQuote = function(range) {\n    if (((quote != null ? quote.exact : void 0) != null) && (range.toString() !== quote.exact || !quote.exact)) {\n      throw new Error('quote mismatch');\n    } else {\n      return range;\n    }\n  };\n  maybeAssertImageQuote = function(range) {\n    if (((image != null ? image.exact : void 0) != null) && (range.textQuoteRange && range.textQuoteRange.toString() !== image.exact)) {\n      throw new Error('Image quote mismatch');\n    } else {\n      return range;\n    }\n  };\n  promise = Promise.reject('unable to anchor');\n  if (image != null) {\n    promise = promise[\"catch\"](function() {\n      return querySelector(ImageAnchor, root, image, options).then(maybeAssertImageQuote);\n    });\n    return promise;\n  }\n  if (fragment != null) {\n    promise = promise[\"catch\"](function() {\n      return querySelector(FragmentAnchor, root, fragment, options).then(maybeAssertQuote);\n    });\n  }\n  if (range != null) {\n    promise = promise[\"catch\"](function() {\n      return querySelector(RangeAnchor, root, range, options).then(maybeAssertQuote);\n    });\n  }\n  if (position != null) {\n    promise = promise[\"catch\"](function() {\n      return querySelector(TextPositionAnchor, root, position, options).then(maybeAssertQuote);\n    });\n  }\n  if (quote != null) {\n    promise = promise[\"catch\"](function() {\n      return querySelector(TextQuoteAnchor, root, quote, options).then(maybeAssertQuote);\n    });\n  }\n  return promise;\n};\n\nexports.describe = function(root, range, options) {\n  var anchor, selector, selectors, type, types;\n  if (options == null) {\n    options = {};\n  }\n  types = [FragmentAnchor, RangeAnchor, TextPositionAnchor, TextQuoteAnchor];\n  if (options.isScreenshot) {\n    types = [FragmentAnchor, RangeAnchor, TextPositionAnchor, TextQuoteAnchor];\n  }\n  selectors = (function() {\n    var i, len, results;\n    results = [];\n    for (i = 0, len = types.length; i < len; i++) {\n      type = types[i];\n      try {\n        anchor = type.fromRange(root, range, options);\n        results.push(selector = anchor.toSelector(options));\n      } catch (error1) {\n        continue;\n      }\n    }\n    return results;\n  })();\n  try {\n    if (!options.isScreenshot) {\n      anchor = ImageAnchor.fromRange(root, range, options);\n      selector = anchor.toSelector(options);\n      selectors = [selector];\n    }\n\n    /*\n    if selector.imgSrc || selector.isCanvas \n      selectors = selectors.filter (e) -> e.type == \"TextPositionSelector\"\n      if selectors\n        selectors.push selector\n      else\n        selectors = [selector]\n     */\n  } catch (error1) {\n\n  }\n  return selectors;\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvYW5jaG9yaW5nL2h0bWwuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvYW5jaG9yaW5nL2h0bWwuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUE7O0FBQUEsTUFNSSxPQUFBLENBQVEsU0FBUixDQU5KLEVBQ0UsbUNBREYsRUFFRSw2QkFGRixFQUdFLDJDQUhGLEVBSUUscUNBSkYsRUFLRTs7QUFJRixhQUFBLEdBQWdCLFNBQUMsSUFBRCxFQUFPLElBQVAsRUFBYSxRQUFiLEVBQXVCLE9BQXZCO0FBQ2QsTUFBQTtFQUFBLE9BQUEsR0FBVSxTQUFDLE9BQUQsRUFBVSxNQUFWO0FBQ1IsUUFBQTtBQUFBO01BQ0UsTUFBQSxHQUFTLElBQUksQ0FBQyxZQUFMLENBQWtCLElBQWxCLEVBQXdCLFFBQXhCLEVBQWtDLE9BQWxDO01BQ1QsS0FBQSxHQUFRLE1BQU0sQ0FBQyxPQUFQLENBQWUsT0FBZjtNQUNSLEtBQUssQ0FBQyxJQUFOLEdBQWEsSUFBSSxDQUFDO01BQ2xCLEtBQUssQ0FBQyxJQUFOLEdBQWEsTUFBTSxDQUFDO2FBQ3BCLE9BQUEsQ0FBUSxLQUFSLEVBTEY7S0FBQSxjQUFBO01BTU07YUFDSixNQUFBLENBQU8sS0FBUCxFQVBGOztFQURRO0FBU1YsU0FBTyxJQUFJLE9BQUosQ0FBWSxPQUFaO0FBVk87OztBQWFoQjs7Ozs7Ozs7Ozs7Ozs7QUFhQSxPQUFPLENBQUMsTUFBUixHQUFpQixTQUFDLElBQUQsRUFBTyxTQUFQLEVBQWtCLE9BQWxCO0FBRWYsTUFBQTs7SUFGaUMsVUFBVTs7RUFFM0MsUUFBQSxHQUFXO0VBQ1gsUUFBQSxHQUFXO0VBQ1gsS0FBQSxHQUFRO0VBQ1IsS0FBQSxHQUFRO0VBQ1IsS0FBQSxHQUFRO0FBR1I7QUFBQSxPQUFBLHNDQUFBOztBQUNFLFlBQU8sUUFBUSxDQUFDLElBQWhCO0FBQUEsV0FDTyxrQkFEUDtRQUVJLFFBQUEsR0FBVztBQURSO0FBRFAsV0FHTyxzQkFIUDtRQUlJLFFBQUEsR0FBVztRQUNYLE9BQU8sQ0FBQyxJQUFSLEdBQWUsUUFBUSxDQUFDO0FBRnJCO0FBSFAsV0FNTyxtQkFOUDtRQU9JLEtBQUEsR0FBUTtBQURMO0FBTlAsV0FRTyxlQVJQO1FBU0ksS0FBQSxHQUFRO0FBREw7QUFSUCxXQVVPLGVBVlA7UUFXSSxLQUFBLEdBQVE7QUFYWjtBQURGO0VBZUEsZ0JBQUEsR0FBbUIsU0FBQyxLQUFEO0lBQ2pCLElBQUcsZ0RBQUEsSUFBa0IsQ0FBQyxLQUFLLENBQUMsUUFBTixDQUFBLENBQUEsS0FBb0IsS0FBSyxDQUFDLEtBQTFCLElBQW1DLENBQUMsS0FBSyxDQUFDLEtBQTNDLENBQXJCO0FBQ0UsWUFBTSxJQUFJLEtBQUosQ0FBVSxnQkFBVixFQURSO0tBQUEsTUFBQTtBQUdFLGFBQU8sTUFIVDs7RUFEaUI7RUFRbkIscUJBQUEsR0FBd0IsU0FBQyxLQUFEO0lBQ3RCLElBQUcsZ0RBQUEsSUFBa0IsQ0FBQyxLQUFLLENBQUMsY0FBTixJQUF3QixLQUFLLENBQUMsY0FBYyxDQUFDLFFBQXJCLENBQUEsQ0FBQSxLQUFtQyxLQUFLLENBQUMsS0FBbEUsQ0FBckI7QUFDRSxZQUFNLElBQUksS0FBSixDQUFVLHNCQUFWLEVBRFI7S0FBQSxNQUFBO0FBR0UsYUFBTyxNQUhUOztFQURzQjtFQVF4QixPQUFBLEdBQVUsT0FBTyxDQUFDLE1BQVIsQ0FBZSxrQkFBZjtFQUdWLElBQUcsYUFBSDtJQUNFLE9BQUEsR0FBVSxPQUFPLEVBQUMsS0FBRCxFQUFQLENBQWMsU0FBQTtBQUN0QixhQUFPLGFBQUEsQ0FBYyxXQUFkLEVBQTJCLElBQTNCLEVBQWlDLEtBQWpDLEVBQXdDLE9BQXhDLENBQ1AsQ0FBQyxJQURNLENBQ0QscUJBREM7SUFEZSxDQUFkO0FBR1YsV0FBTyxRQUpUOztFQU1BLElBQUcsZ0JBQUg7SUFDRSxPQUFBLEdBQVUsT0FBTyxFQUFDLEtBQUQsRUFBUCxDQUFjLFNBQUE7QUFDdEIsYUFBTyxhQUFBLENBQWMsY0FBZCxFQUE4QixJQUE5QixFQUFvQyxRQUFwQyxFQUE4QyxPQUE5QyxDQUNQLENBQUMsSUFETSxDQUNELGdCQURDO0lBRGUsQ0FBZCxFQURaOztFQU9BLElBQUcsYUFBSDtJQUNFLE9BQUEsR0FBVSxPQUFPLEVBQUMsS0FBRCxFQUFQLENBQWMsU0FBQTtBQUN0QixhQUFPLGFBQUEsQ0FBYyxXQUFkLEVBQTJCLElBQTNCLEVBQWlDLEtBQWpDLEVBQXdDLE9BQXhDLENBQ1AsQ0FBQyxJQURNLENBQ0QsZ0JBREM7SUFEZSxDQUFkLEVBRFo7O0VBS0EsSUFBRyxnQkFBSDtJQUNFLE9BQUEsR0FBVSxPQUFPLEVBQUMsS0FBRCxFQUFQLENBQWMsU0FBQTtBQUN0QixhQUFPLGFBQUEsQ0FBYyxrQkFBZCxFQUFrQyxJQUFsQyxFQUF3QyxRQUF4QyxFQUFrRCxPQUFsRCxDQUNQLENBQUMsSUFETSxDQUNELGdCQURDO0lBRGUsQ0FBZCxFQURaOztFQUtBLElBQUcsYUFBSDtJQUNFLE9BQUEsR0FBVSxPQUFPLEVBQUMsS0FBRCxFQUFQLENBQWMsU0FBQTtBQUV0QixhQUFPLGFBQUEsQ0FBYyxlQUFkLEVBQStCLElBQS9CLEVBQXFDLEtBQXJDLEVBQTRDLE9BQTVDLENBQ1AsQ0FBQyxJQURNLENBQ0QsZ0JBREM7SUFGZSxDQUFkLEVBRFo7O0FBTUEsU0FBTztBQXhFUTs7QUEyRWpCLE9BQU8sQ0FBQyxRQUFSLEdBQW1CLFNBQUMsSUFBRCxFQUFPLEtBQVAsRUFBYyxPQUFkO0FBQ2pCLE1BQUE7O0lBRCtCLFVBQVU7O0VBQ3pDLEtBQUEsR0FBUSxDQUFDLGNBQUQsRUFBaUIsV0FBakIsRUFBOEIsa0JBQTlCLEVBQWtELGVBQWxEO0VBQ1IsSUFBRyxPQUFPLENBQUMsWUFBWDtJQUNFLEtBQUEsR0FBUSxDQUFDLGNBQUQsRUFBaUIsV0FBakIsRUFBOEIsa0JBQTlCLEVBQWtELGVBQWxELEVBRFY7O0VBRUEsU0FBQTs7QUFBWTtTQUFBLHVDQUFBOztBQUNWO1FBQ0UsTUFBQSxHQUFTLElBQUksQ0FBQyxTQUFMLENBQWUsSUFBZixFQUFxQixLQUFyQixFQUE0QixPQUE1QjtxQkFDVCxRQUFBLEdBQVcsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsT0FBbEIsR0FGYjtPQUFBLGNBQUE7QUFJRSxpQkFKRjs7QUFEVTs7O0FBT1o7SUFDRSxJQUFHLENBQUMsT0FBTyxDQUFDLFlBQVo7TUFDRSxNQUFBLEdBQVMsV0FBVyxDQUFDLFNBQVosQ0FBc0IsSUFBdEIsRUFBNEIsS0FBNUIsRUFBbUMsT0FBbkM7TUFDVCxRQUFBLEdBQVcsTUFBTSxDQUFDLFVBQVAsQ0FBa0IsT0FBbEI7TUFDWCxTQUFBLEdBQVksQ0FBQyxRQUFELEVBSGQ7OztBQUlBOzs7Ozs7O09BTEY7R0FBQSxjQUFBO0FBQUE7O0FBY0EsU0FBTztBQXpCVSJ9\n",
    "var RenderingStates, TextPositionAnchor, TextQuoteAnchor, anchorByPosition, findInPages, findPage, getNodeTextLayer, getPage, getPageOffset, getPageTextContent, getSiblingIndex, html, pageTextCache, prioritizePages, quotePositionCache, ref, seek, xpathRange,\n  slice = [].slice;\n\nseek = require('dom-seek');\n\nxpathRange = require('./range');\n\nhtml = require('./html');\n\nRenderingStates = require('../pdfjs-rendering-states');\n\nref = require('./types'), TextPositionAnchor = ref.TextPositionAnchor, TextQuoteAnchor = ref.TextQuoteAnchor;\n\npageTextCache = {};\n\nquotePositionCache = {};\n\ngetSiblingIndex = function(node) {\n  var siblings;\n  siblings = Array.prototype.slice.call(node.parentNode.childNodes);\n  return siblings.indexOf(node);\n};\n\ngetNodeTextLayer = function(node) {\n  var ref1;\n  while (!((ref1 = node.classList) != null ? ref1.contains('page') : void 0)) {\n    node = node.parentNode;\n  }\n  return node.getElementsByClassName('textLayer')[0];\n};\n\ngetPage = function(pageIndex) {\n  return PDFViewerApplication.pdfViewer.getPageView(pageIndex);\n};\n\ngetPageTextContent = function(pageIndex) {\n  var joinItems;\n  if (pageTextCache[pageIndex] != null) {\n    return pageTextCache[pageIndex];\n  } else {\n    joinItems = function(arg) {\n      var item, items, nonEmpty, textContent;\n      items = arg.items;\n      nonEmpty = (function() {\n        var i, len, results;\n        results = [];\n        for (i = 0, len = items.length; i < len; i++) {\n          item = items[i];\n          if (/\\S/.test(item.str)) {\n            results.push(item.str);\n          }\n        }\n        return results;\n      })();\n      textContent = nonEmpty.join('');\n      return textContent;\n    };\n    pageTextCache[pageIndex] = PDFViewerApplication.pdfViewer.getPageTextContent(pageIndex).then(joinItems);\n    return pageTextCache[pageIndex];\n  }\n};\n\ngetPageOffset = function(pageIndex) {\n  var index, next;\n  index = -1;\n  next = function(offset) {\n    if (++index === pageIndex) {\n      return Promise.resolve(offset);\n    }\n    return getPageTextContent(index).then(function(textContent) {\n      return next(offset + textContent.length);\n    });\n  };\n  return next(0);\n};\n\nfindPage = function(offset) {\n  var count, index, total;\n  index = 0;\n  total = 0;\n  count = function(textContent) {\n    var lastPageIndex;\n    lastPageIndex = PDFViewerApplication.pdfViewer.pagesCount - 1;\n    if (total + textContent.length > offset || index === lastPageIndex) {\n      offset = total;\n      return Promise.resolve({\n        index: index,\n        offset: offset,\n        textContent: textContent\n      });\n    } else {\n      index++;\n      total += textContent.length;\n      return getPageTextContent(index).then(count);\n    }\n  };\n  return getPageTextContent(0).then(count);\n};\n\nanchorByPosition = function(page, anchor, options) {\n  var div, placeholder, range, ref1, ref2, renderingDone, renderingState, root, selector;\n  renderingState = page.renderingState;\n  renderingDone = (ref1 = page.textLayer) != null ? ref1.renderingDone : void 0;\n  if (renderingState === RenderingStates.FINISHED && renderingDone) {\n    root = page.textLayer.textLayerDiv;\n    selector = anchor.toSelector(options);\n    return html.anchor(root, [selector]);\n  } else {\n    div = (ref2 = page.div) != null ? ref2 : page.el;\n    placeholder = div.getElementsByClassName('annotator-placeholder')[0];\n    if (placeholder == null) {\n      placeholder = document.createElement('span');\n      placeholder.classList.add('annotator-placeholder');\n      placeholder.textContent = 'Loading annotations…';\n      div.appendChild(placeholder);\n    }\n    range = document.createRange();\n    range.setStartBefore(placeholder);\n    range.setEndAfter(placeholder);\n    return range;\n  }\n};\n\nfindInPages = function(arg, quote, position) {\n  var attempt, cacheAndFinish, content, next, offset, page, pageIndex, rest;\n  pageIndex = arg[0], rest = 2 <= arg.length ? slice.call(arg, 1) : [];\n  if (pageIndex == null) {\n    return Promise.reject(new Error('Quote not found'));\n  }\n  attempt = function(info) {\n    var anchor, content, hint, offset, page, root;\n    page = info[0], content = info[1], offset = info[2];\n    root = {\n      textContent: content\n    };\n    anchor = new TextQuoteAnchor.fromSelector(root, quote);\n    if (position != null) {\n      hint = position.start - offset;\n      hint = Math.max(0, hint);\n      hint = Math.min(hint, content.length);\n      return anchor.toPositionAnchor({\n        hint: hint\n      });\n    } else {\n      return anchor.toPositionAnchor();\n    }\n  };\n  next = function() {\n    return findInPages(rest, quote, position);\n  };\n  cacheAndFinish = function(anchor) {\n    var name;\n    if (position) {\n      if (quotePositionCache[name = quote.exact] == null) {\n        quotePositionCache[name] = {};\n      }\n      quotePositionCache[quote.exact][position.start] = {\n        page: page,\n        anchor: anchor\n      };\n    }\n    return anchorByPosition(page, anchor);\n  };\n  page = getPage(pageIndex);\n  content = getPageTextContent(pageIndex);\n  offset = getPageOffset(pageIndex);\n  return Promise.all([page, content, offset]).then(attempt).then(cacheAndFinish)[\"catch\"](next);\n};\n\nprioritizePages = function(position) {\n  var i, pageIndices, pagesCount, results, sort;\n  pagesCount = PDFViewerApplication.pdfViewer.pagesCount;\n  pageIndices = (function() {\n    results = [];\n    for (var i = 0; 0 <= pagesCount ? i < pagesCount : i > pagesCount; 0 <= pagesCount ? i++ : i--){ results.push(i); }\n    return results;\n  }).apply(this);\n  sort = function(pageIndex) {\n    var left, result, right;\n    left = pageIndices.slice(0, pageIndex);\n    right = pageIndices.slice(pageIndex);\n    result = [];\n    while (left.length || right.length) {\n      if (right.length) {\n        result.push(right.shift());\n      }\n      if (left.length) {\n        result.push(left.pop());\n      }\n    }\n    return result;\n  };\n  if (position != null) {\n    return findPage(position.start).then(function(arg) {\n      var index;\n      index = arg.index;\n      return sort(index);\n    });\n  } else {\n    return Promise.resolve(pageIndices);\n  }\n};\n\n\n/**\n * Anchor a set of selectors.\n *\n * This function converts a set of selectors into a document range.\n * It encapsulates the core anchoring algorithm, using the selectors alone or\n * in combination to establish the best anchor within the document.\n *\n * :param Element root: The root element of the anchoring context.\n * :param Array selectors: The selectors to try.\n * :param Object options: Options to pass to the anchor implementations.\n * :return: A Promise that resolves to a Range on success.\n * :rtype: Promise\n */\n\nexports.anchor = function(root, selectors, options) {\n  var assertQuote, i, len, position, promise, quote, ref1, selector;\n  if (options == null) {\n    options = {};\n  }\n  position = null;\n  quote = null;\n  ref1 = selectors != null ? selectors : [];\n  for (i = 0, len = ref1.length; i < len; i++) {\n    selector = ref1[i];\n    switch (selector.type) {\n      case 'TextPositionSelector':\n        position = selector;\n        break;\n      case 'TextQuoteSelector':\n        quote = selector;\n    }\n  }\n  promise = Promise.reject('unable to anchor');\n  assertQuote = function(range) {\n    if (((quote != null ? quote.exact : void 0) != null) && range.toString() !== quote.exact) {\n      throw new Error('quote mismatch');\n    } else {\n      return range;\n    }\n  };\n  if (position != null) {\n    promise = promise[\"catch\"](function() {\n      return findPage(position.start).then(function(arg) {\n        var anchor, end, index, length, offset, page, start, textContent;\n        index = arg.index, offset = arg.offset, textContent = arg.textContent;\n        page = getPage(index);\n        start = position.start - offset;\n        end = position.end - offset;\n        length = end - start;\n        assertQuote(textContent.substr(start, length));\n        anchor = new TextPositionAnchor(root, start, end);\n        return anchorByPosition(page, anchor, options);\n      });\n    });\n  }\n  if (quote != null) {\n    promise = promise[\"catch\"](function() {\n      var anchor, page, ref2, ref3;\n      if ((position != null) && (((ref2 = quotePositionCache[quote.exact]) != null ? ref2[position.start] : void 0) != null)) {\n        ref3 = quotePositionCache[quote.exact][position.start], page = ref3.page, anchor = ref3.anchor;\n        return anchorByPosition(page, anchor, options);\n      }\n      return prioritizePages(position).then(function(pageIndices) {\n        return findInPages(pageIndices, quote, position);\n      });\n    });\n  }\n  return promise;\n};\n\n\n/**\n * Convert a DOM Range object into a set of selectors.\n *\n * Converts a DOM `Range` object describing a start and end point within a\n * `root` `Element` and converts it to a `[position, quote]` tuple of selectors\n * which can be saved into an annotation and later passed to `anchor` to map\n * the selectors back to a `Range`.\n *\n * :param Element root: The root Element\n * :param Range range: DOM Range object\n * :param Object options: Options passed to `TextQuoteAnchor` and\n *                        `TextPositionAnchor`'s `toSelector` methods.\n */\n\nexports.describe = function(root, range, options) {\n  var end, endPageIndex, endRange, endTextLayer, iter, start, startPageIndex, startRange, startTextLayer;\n  if (options == null) {\n    options = {};\n  }\n  range = new xpathRange.BrowserRange(range).normalize();\n  startTextLayer = getNodeTextLayer(range.start);\n  endTextLayer = getNodeTextLayer(range.end);\n  if (startTextLayer !== endTextLayer) {\n    throw new Error('selecting across page breaks is not supported');\n  }\n  startRange = range.limit(startTextLayer);\n  endRange = range.limit(endTextLayer);\n  startPageIndex = getSiblingIndex(startTextLayer.parentNode);\n  endPageIndex = getSiblingIndex(endTextLayer.parentNode);\n  iter = document.createNodeIterator(startTextLayer, NodeFilter.SHOW_TEXT);\n  start = seek(iter, range.start);\n  end = seek(iter, range.end) + start + range.end.textContent.length;\n  return getPageOffset(startPageIndex).then(function(pageOffset) {\n    var position, quote, r;\n    start += pageOffset;\n    end += pageOffset;\n    position = new TextPositionAnchor(root, start, end).toSelector(options);\n    r = document.createRange();\n    r.setStartBefore(startRange.start);\n    r.setEndAfter(endRange.end);\n    quote = TextQuoteAnchor.fromRange(root, r, options).toSelector(options);\n    return Promise.all([position, quote]);\n  });\n};\n\n\n/**\n * Clear the internal caches of page text contents and quote locations.\n *\n * This exists mainly as a helper for use in tests.\n */\n\nexports.purgeCache = function() {\n  pageTextCache = {};\n  return quotePositionCache = {};\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvYW5jaG9yaW5nL3BkZi5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvaG9tZS91YnVudHUvcGRmdHJvbkV4dGVuc2lvbi9jbGllbnQvc3JjL2Fubm90YXRvci9hbmNob3JpbmcvcGRmLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLDZQQUFBO0VBQUE7O0FBQUEsSUFBQSxHQUFPLE9BQUEsQ0FBUSxVQUFSOztBQUVQLFVBQUEsR0FBYSxPQUFBLENBQVEsU0FBUjs7QUFFYixJQUFBLEdBQU8sT0FBQSxDQUFRLFFBQVI7O0FBQ1AsZUFBQSxHQUFrQixPQUFBLENBQVEsMkJBQVI7O0FBQ2xCLE1BQXdDLE9BQUEsQ0FBUSxTQUFSLENBQXhDLEVBQUMsMkNBQUQsRUFBcUI7O0FBS3JCLGFBQUEsR0FBZ0I7O0FBSWhCLGtCQUFBLEdBQXFCOztBQUdyQixlQUFBLEdBQWtCLFNBQUMsSUFBRDtBQUNoQixNQUFBO0VBQUEsUUFBQSxHQUFXLEtBQUssQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQXRCLENBQTJCLElBQUksQ0FBQyxVQUFVLENBQUMsVUFBM0M7QUFDWCxTQUFPLFFBQVEsQ0FBQyxPQUFULENBQWlCLElBQWpCO0FBRlM7O0FBS2xCLGdCQUFBLEdBQW1CLFNBQUMsSUFBRDtBQUNqQixNQUFBO0FBQUEsU0FBQSx3Q0FBb0IsQ0FBRSxRQUFoQixDQUF5QixNQUF6QixXQUFOO0lBQ0UsSUFBQSxHQUFPLElBQUksQ0FBQztFQURkO0FBRUEsU0FBTyxJQUFJLENBQUMsc0JBQUwsQ0FBNEIsV0FBNUIsQ0FBeUMsQ0FBQSxDQUFBO0FBSC9COztBQU1uQixPQUFBLEdBQVUsU0FBQyxTQUFEO0FBQ1IsU0FBTyxvQkFBb0IsQ0FBQyxTQUFTLENBQUMsV0FBL0IsQ0FBMkMsU0FBM0M7QUFEQzs7QUFJVixrQkFBQSxHQUFxQixTQUFDLFNB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\n",
    "var $, Range, Util,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\n$ = require('jquery');\n\nUtil = require('./util');\n\nRange = {};\n\nRange.sniff = function(r) {\n  if (r.commonAncestorContainer != null) {\n    return new Range.BrowserRange(r);\n  } else if (typeof r.start === \"string\") {\n    return new Range.SerializedRange(r);\n  } else if (r.start && typeof r.start === \"object\") {\n    return new Range.NormalizedRange(r);\n  } else {\n    console.error(\"Could not sniff range type\");\n    return false;\n  }\n};\n\nRange.nodeFromXPath = function(xpath, root) {\n  var customResolver, evaluateXPath, namespace, node, segment;\n  if (root == null) {\n    root = document;\n  }\n  evaluateXPath = function(xp, nsResolver) {\n    var exception;\n    if (nsResolver == null) {\n      nsResolver = null;\n    }\n    try {\n      return document.evaluate('.' + xp, root, nsResolver, XPathResult.FIRST_ORDERED_NODE_TYPE, null).singleNodeValue;\n    } catch (error) {\n      exception = error;\n      console.log(\"XPath evaluation failed.\");\n      console.log(\"Trying fallback...\");\n      return Util.nodeFromXPath(xp, root);\n    }\n  };\n  if (!$.isXMLDoc(document.documentElement)) {\n    return evaluateXPath(xpath);\n  } else {\n    customResolver = document.createNSResolver(document.ownerDocument === null ? document.documentElement : document.ownerDocument.documentElement);\n    node = evaluateXPath(xpath, customResolver);\n    if (!node) {\n      xpath = ((function() {\n        var i, len, ref, results;\n        ref = xpath.split('/');\n        results = [];\n        for (i = 0, len = ref.length; i < len; i++) {\n          segment = ref[i];\n          if (segment && segment.indexOf(':') === -1) {\n            results.push(segment.replace(/^([a-z]+)/, 'xhtml:$1'));\n          } else {\n            results.push(segment);\n          }\n        }\n        return results;\n      })()).join('/');\n      namespace = document.lookupNamespaceURI(null);\n      customResolver = function(ns) {\n        if (ns === 'xhtml') {\n          return namespace;\n        } else {\n          return document.documentElement.getAttribute('xmlns:' + ns);\n        }\n      };\n      node = evaluateXPath(xpath, customResolver);\n    }\n    return node;\n  }\n};\n\nRange.RangeError = (function(superClass) {\n  extend(RangeError, superClass);\n\n  function RangeError(type, message, parent1) {\n    this.type = type;\n    this.message = message;\n    this.parent = parent1 != null ? parent1 : null;\n    RangeError.__super__.constructor.call(this, this.message);\n  }\n\n  return RangeError;\n\n})(Error);\n\nRange.BrowserRange = (function() {\n  function BrowserRange(obj) {\n    this.commonAncestorContainer = obj.commonAncestorContainer;\n    this.startContainer = obj.startContainer;\n    this.startOffset = obj.startOffset;\n    this.endContainer = obj.endContainer;\n    this.endOffset = obj.endOffset;\n  }\n\n  BrowserRange.prototype.normalize = function(root) {\n    var n, node, nr, r;\n    if (this.tainted) {\n      console.error(\"You may only call normalize() once on a BrowserRange!\");\n      return false;\n    } else {\n      this.tainted = true;\n    }\n    r = {};\n    if (this.startContainer.nodeType === Node.ELEMENT_NODE) {\n      if (this.startOffset < this.startContainer.childNodes.length) {\n        r.start = Util.getFirstTextNodeNotBefore(this.startContainer.childNodes[this.startOffset]);\n      } else {\n        r.start = Util.getFirstTextNodeNotBefore(this.startContainer);\n      }\n      r.startOffset = 0;\n    } else {\n      r.start = this.startContainer;\n      r.startOffset = this.startOffset;\n    }\n    if (this.endContainer.nodeType === Node.ELEMENT_NODE) {\n      node = this.endContainer.childNodes[this.endOffset];\n      if (node != null) {\n        n = node;\n        while ((n != null) && (n.nodeType !== Node.TEXT_NODE)) {\n          n = n.firstChild;\n        }\n        if (n != null) {\n          r.end = n;\n          r.endOffset = 0;\n        }\n      }\n      if (r.end == null) {\n        if (this.endOffset) {\n          node = this.endContainer.childNodes[this.endOffset - 1];\n        } else {\n          node = this.endContainer.previousSibling;\n        }\n        r.end = Util.getLastTextNodeUpTo(node);\n        r.endOffset = r.end.nodeValue.length;\n      }\n    } else {\n      r.end = this.endContainer;\n      r.endOffset = this.endOffset;\n    }\n    nr = {};\n    if (r.startOffset > 0) {\n      if (!r.start.nextSibling || r.start.nodeValue.length > r.startOffset) {\n        nr.start = r.start.splitText(r.startOffset);\n      } else {\n        nr.start = r.start.nextSibling;\n      }\n    } else {\n      nr.start = r.start;\n    }\n    if (r.start === r.end) {\n      if (nr.start.nodeValue.length > (r.endOffset - r.startOffset)) {\n        nr.start.splitText(r.endOffset - r.startOffset);\n      }\n      nr.end = nr.start;\n    } else {\n      if (r.end.nodeValue.length > r.endOffset) {\n        r.end.splitText(r.endOffset);\n      }\n      nr.end = r.end;\n    }\n    nr.commonAncestor = this.commonAncestorContainer;\n    while (nr.commonAncestor.nodeType !== Node.ELEMENT_NODE) {\n      nr.commonAncestor = nr.commonAncestor.parentNode;\n    }\n    return new Range.NormalizedRange(nr);\n  };\n\n  BrowserRange.prototype.serialize = function(root, ignoreSelector) {\n    return this.normalize(root).serialize(root, ignoreSelector);\n  };\n\n  return BrowserRange;\n\n})();\n\nRange.NormalizedRange = (function() {\n  function NormalizedRange(obj) {\n    this.commonAncestor = obj.commonAncestor;\n    this.start = obj.start;\n    this.end = obj.end;\n  }\n\n  NormalizedRange.prototype.normalize = function(root) {\n    return this;\n  };\n\n  NormalizedRange.prototype.limit = function(bounds) {\n    var i, len, nodes, parent, ref, startParents;\n    nodes = $.grep(this.textNodes(), function(node) {\n      return node.parentNode === bounds || $.contains(bounds, node.parentNode);\n    });\n    if (!nodes.length) {\n      return null;\n    }\n    this.start = nodes[0];\n    this.end = nodes[nodes.length - 1];\n    startParents = $(this.start).parents();\n    ref = $(this.end).parents();\n    for (i = 0, len = ref.length; i < len; i++) {\n      parent = ref[i];\n      if (startParents.index(parent) !== -1) {\n        this.commonAncestor = parent;\n        break;\n      }\n    }\n    return this;\n  };\n\n  NormalizedRange.prototype.serialize = function(root, ignoreSelector) {\n    var end, serialization, start;\n    serialization = function(node, isEnd) {\n      var i, len, n, nodes, offset, origParent, textNodes, xpath;\n      if (ignoreSelector) {\n        origParent = $(node).parents(\":not(\" + ignoreSelector + \")\").eq(0);\n      } else {\n        origParent = $(node).parent();\n      }\n      xpath = Util.xpathFromNode(origParent, root)[0];\n      textNodes = Util.getTextNodes(origParent);\n      nodes = textNodes.slice(0, textNodes.index(node));\n      offset = 0;\n      for (i = 0, len = nodes.length; i < len; i++) {\n        n = nodes[i];\n        offset += n.nodeValue.length;\n      }\n      if (isEnd) {\n        return [xpath, offset + node.nodeValue.length];\n      } else {\n        return [xpath, offset];\n      }\n    };\n    start = serialization(this.start);\n    end = serialization(this.end, true);\n    return new Range.SerializedRange({\n      start: start[0],\n      end: end[0],\n      startOffset: start[1],\n      endOffset: end[1]\n    });\n  };\n\n  NormalizedRange.prototype.text = function() {\n    var node;\n    return ((function() {\n      var i, len, ref, results;\n      ref = this.textNodes();\n      results = [];\n      for (i = 0, len = ref.length; i < len; i++) {\n        node = ref[i];\n        results.push(node.nodeValue);\n      }\n      return results;\n    }).call(this)).join('');\n  };\n\n  NormalizedRange.prototype.textNodes = function() {\n    var end, ref, start, textNodes;\n    textNodes = Util.getTextNodes($(this.commonAncestor));\n    ref = [textNodes.index(this.start), textNodes.index(this.end)], start = ref[0], end = ref[1];\n    return $.makeArray(textNodes.slice(start, +end + 1 || 9e9));\n  };\n\n  NormalizedRange.prototype.toRange = function() {\n    var range;\n    range = document.createRange();\n    range.setStartBefore(this.start);\n    range.setEndAfter(this.end);\n    return range;\n  };\n\n  return NormalizedRange;\n\n})();\n\nRange.SerializedRange = (function() {\n  function SerializedRange(obj) {\n    this.start = obj.start;\n    this.startOffset = obj.startOffset;\n    this.end = obj.end;\n    this.endOffset = obj.endOffset;\n  }\n\n  SerializedRange.prototype.normalize = function(root) {\n    var contains, e, i, j, len, len1, length, node, p, range, ref, ref1, targetOffset, tn;\n    range = {};\n    ref = ['start', 'end'];\n    for (i = 0, len = ref.length; i < len; i++) {\n      p = ref[i];\n      try {\n        node = Range.nodeFromXPath(this[p], root);\n      } catch (error) {\n        e = error;\n        throw new Range.RangeError(p, (\"Error while finding \" + p + \" node: \" + this[p] + \": \") + e, e);\n      }\n      if (!node) {\n        throw new Range.RangeError(p, \"Couldn't find \" + p + \" node: \" + this[p]);\n      }\n      length = 0;\n      targetOffset = this[p + 'Offset'];\n      if (p === 'end') {\n        targetOffset--;\n      }\n      ref1 = Util.getTextNodes($(node));\n      for (j = 0, len1 = ref1.length; j < len1; j++) {\n        tn = ref1[j];\n        if (length + tn.nodeValue.length > targetOffset) {\n          range[p + 'Container'] = tn;\n          range[p + 'Offset'] = this[p + 'Offset'] - length;\n          break;\n        } else {\n          length += tn.nodeValue.length;\n        }\n      }\n      if (range[p + 'Offset'] == null) {\n        throw new Range.RangeError(p + \"offset\", \"Couldn't find offset \" + this[p + 'Offset'] + \" in element \" + this[p]);\n      }\n    }\n    contains = document.compareDocumentPosition == null ? function(a, b) {\n      return a.contains(b);\n    } : function(a, b) {\n      return a.compareDocumentPosition(b) & 16;\n    };\n    $(range.startContainer).parents().each(function() {\n      if (contains(this, range.endContainer)) {\n        range.commonAncestorContainer = this;\n        return false;\n      }\n    });\n    return new Range.BrowserRange(range).normalize(root);\n  };\n\n  SerializedRange.prototype.serialize = function(root, ignoreSelector) {\n    return this.normalize(root).serialize(root, ignoreSelector);\n  };\n\n  SerializedRange.prototype.toObject = function() {\n    return {\n      start: this.start,\n      startOffset: this.startOffset,\n      end: this.end,\n      endOffset: this.endOffset\n    };\n  };\n\n  return SerializedRange;\n\n})();\n\nmodule.exports = Range;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvYW5jaG9yaW5nL3JhbmdlLmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvYW5ub3RhdG9yL2FuY2hvcmluZy9yYW5nZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUJBLElBQUEsY0FBQTtFQUFBOzs7QUFBQSxDQUFBLEdBQUksT0FBQSxDQUFRLFFBQVI7O0FBRUosSUFBQSxHQUFPLE9BQUEsQ0FBUSxRQUFSOztBQUVQLEtBQUEsR0FBUTs7QUFjUixLQUFLLENBQUMsS0FBTixHQUFjLFNBQUMsQ0FBRDtFQUNaLElBQUcsaUNBQUg7V0FDRSxJQUFJLEtBQUssQ0FBQyxZQUFWLENBQXVCLENBQXZCLEVBREY7R0FBQSxNQUVLLElBQUcsT0FBTyxDQUFDLENBQUMsS0FBVCxLQUFrQixRQUFyQjtXQUNILElBQUksS0FBSyxDQUFDLGVBQVYsQ0FBMEIsQ0FBMUIsRUFERztHQUFBLE1BRUEsSUFBRyxDQUFDLENBQUMsS0FBRixJQUFZLE9BQU8sQ0FBQyxDQUFDLEtBQVQsS0FBa0IsUUFBakM7V0FDSCxJQUFJLEtBQUssQ0FBQyxlQUFWLENBQTBCLENBQTFCLEVBREc7R0FBQSxNQUFBO0lBR0gsT0FBTyxDQUFDLEtBQVIsQ0FBYyw0QkFBZDtXQUNBLE1BSkc7O0FBTE87O0FBMEJkLEtBQUssQ0FBQyxhQUFOLEdBQXNCLFNBQUMsS0FBRCxFQUFRLElBQVI7QUFDcEIsTUFBQTs7SUFENEIsT0FBSzs7RUFDakMsYUFBQSxHQUFnQixTQUFDLEVBQUQsRUFBSyxVQUFMO0FBQ2QsUUFBQTs7TUFEbUIsYUFBVzs7QUFDOUI7YUFDRSxRQUFRLENBQUMsUUFBVCxDQUFrQixHQUFBLEdBQU0sRUFBeEIsRUFBNEIsSUFBNUIsRUFBa0MsVUFBbEMsRUFBOEMsV0FBVyxDQUFDLHVCQUExRCxF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\n",
    "var $, ImageAnchor, RangeAnchor, TextPositionAnchor, TextQuoteAnchor, Util, domAnchorTextPosition, domAnchorTextQuote, missingParameter, urlsEqual, xpathRange;\n\ndomAnchorTextPosition = require('dom-anchor-text-position');\n\ndomAnchorTextQuote = require('dom-anchor-text-quote');\n\nxpathRange = require('./range');\n\n$ = require('jquery');\n\nUtil = require('./util');\n\nurlsEqual = require('../util/url').urlsEqual;\n\nmissingParameter = function(name) {\n  throw new Error('missing required parameter \"' + name + '\"');\n};\n\n\n/**\n * class:: RangeAnchor(range)\n *\n * This anchor type represents a DOM Range.\n *\n * :param Range range: A range describing the anchor.\n */\n\nRangeAnchor = (function() {\n  function RangeAnchor(root, range) {\n    if (root == null) {\n      missingParameter('root');\n    }\n    if (range == null) {\n      missingParameter('range');\n    }\n    this.root = root;\n    this.range = xpathRange.sniff(range).normalize(this.root);\n    this.orgRange = range;\n  }\n\n  RangeAnchor.fromRange = function(root, range) {\n    return new RangeAnchor(root, range);\n  };\n\n  RangeAnchor.fromSelector = function(root, selector) {\n    var data, range;\n    data = {\n      start: selector.startContainer,\n      startOffset: selector.startOffset,\n      end: selector.endContainer,\n      endOffset: selector.endOffset\n    };\n    range = new xpathRange.SerializedRange(data);\n    return new RangeAnchor(root, range);\n  };\n\n  RangeAnchor.prototype.toRange = function() {\n    return this.range.toRange();\n  };\n\n  RangeAnchor.prototype.toSelector = function(options) {\n    var range;\n    if (options == null) {\n      options = {};\n    }\n    range = this.range.serialize(this.root, options.ignoreSelector);\n    return {\n      type: 'RangeSelector',\n      startContainer: range.start,\n      startOffset: range.startOffset,\n      endContainer: range.end,\n      endOffset: range.endOffset\n    };\n  };\n\n  return RangeAnchor;\n\n})();\n\n\n/**\n * class:: RangeAnchor(range)\n *\n * This anchor type represents a DOM Range.\n *\n * :param Range range: A range describing the anchor.\n */\n\nImageAnchor = (function() {\n  function ImageAnchor(root, range, imgNode, textQuoteAnchor) {\n    if (root == null) {\n      missingParameter('root');\n    }\n    if (range == null) {\n      missingParameter('range');\n    }\n    this.root = root;\n    this.range = range;\n    this.node = imgNode;\n    this.textQuote = textQuoteAnchor;\n  }\n\n  ImageAnchor.fromRange = function(root, range) {\n    var selector, textQuoteAnchor;\n    selector = domAnchorTextQuote.fromRange(root, range, {});\n    textQuoteAnchor = TextQuoteAnchor.fromSelector(root, selector);\n    return new ImageAnchor(root, range, null, textQuoteAnchor);\n  };\n\n  ImageAnchor.getImageNode = function() {\n    return this.node;\n  };\n\n\n  /*if selector.endOffset - selector.startOffset != 1\n      throw new Error('Can not create ImageAnchor')\n    start = xpathRange.nodeFromXPath(selector.startContainer,root)\n    end = xpathRange.nodeFromXPath(selector.endContainer,root)\n    range.setStart(start,selector.startOffset)\n    range.setEnd(end,selector.endOffset)\n   */\n\n  ImageAnchor.fromSelector = function(root, selector) {\n    var $imgFromSrc, e, element, i, imgNode, imgRange, len, prefix, range, suffix, textQuoteAnchor;\n    range = document.createRange();\n    imgRange = null;\n    imgNode = null;\n    if (selector.imgSrc) {\n      $imgFromSrc = $('img[src=\"' + selector.imgSrc + '\"]');\n      $imgFromSrc = document.images;\n      if ($imgFromSrc.length > 0) {\n        for (i = 0, len = $imgFromSrc.length; i < len; i++) {\n          element = $imgFromSrc[i];\n          try {\n            if (urlsEqual(element.src, selector.imgSrc) || $(element).attr(\"src\") === selector.imgSrc) {\n              imgRange = document.createRange();\n              imgRange.selectNode(element);\n              imgNode = element;\n              break;\n            }\n          } catch (error) {\n            e = error;\n            continue;\n          }\n        }\n      }\n    }\n    if (imgRange || selector.isCanvas) {\n      textQuoteAnchor;\n      if (selector.exact) {\n        prefix = selector.prefix, suffix = selector.suffix;\n        textQuoteAnchor = new TextQuoteAnchor(root, selector.exact, {\n          prefix: prefix,\n          suffix: suffix\n        });\n      }\n      return new ImageAnchor(root, range, imgNode, textQuoteAnchor);\n    } else {\n      throw new Error('Image Not found');\n    }\n  };\n\n  ImageAnchor.prototype.toQuoteSelector = function() {\n    return {\n      exact: this.textQuote.exact,\n      prefix: this.textQuote.context ? this.textQuote.context.prefix : \"\",\n      suffix: this.textQuote.context ? this.textQuote.context.suffix : \"\"\n    };\n  };\n\n  ImageAnchor.prototype.toRange = function() {\n    var range, textQuoteRange;\n    if (this.textQuote && this.textQuote.exact) {\n      textQuoteRange = range = domAnchorTextQuote.toRange(this.root, this.toQuoteSelector(), {});\n      if (textQuoteRange !== null) {\n        this.range.textQuoteRange = textQuoteRange;\n      }\n    }\n    return this.range;\n  };\n\n  ImageAnchor.prototype.toSelector = function(options) {\n    var canvasEls, commonAncestorContainer, div, endContainer, fragment, imgs, src, startContainer, text;\n    if (options == null) {\n      options = {};\n    }\n    src = null;\n    commonAncestorContainer = Util.xpathFromNode($(this.range.commonAncestorContainer), this.root)[0];\n    startContainer = Util.xpathFromNode($(this.range.startContainer), this.root)[0];\n    endContainer = Util.xpathFromNode($(this.range.endContainer), this.root)[0];\n    fragment = this.range.cloneContents();\n    div = document.createElement('div');\n    div.appendChild(fragment.cloneNode(true));\n    text = $(div).text();\n    imgs = $(div).find(\"img\");\n    canvasEls = $(div).find(\"canvas\");\n    if (imgs.length > 0) {\n      imgs.each((function(_this) {\n        return function(index, element) {\n          src = element.src;\n        };\n      })(this));\n    } else {\n      throw new Error('No Image found in the selection');\n    }\n    return {\n      type: 'ImageSelector',\n      commonAncestorContainer: commonAncestorContainer,\n      startContainer: startContainer,\n      startOffset: this.range.startOffset,\n      endContainer: endContainer,\n      endOffset: this.range.endOffset,\n      imgSrc: src,\n      isCanvas: canvasEls.length > 0,\n      exact: this.textQuote ? this.textQuote.exact : \"\",\n      prefix: this.textQuote && this.textQuote.context ? this.textQuote.context.prefix : \"\",\n      suffix: this.textQuote && this.textQuote.context ? this.textQuote.context.suffix : \"\"\n    };\n  };\n\n  return ImageAnchor;\n\n})();\n\n\n/**\n * Converts between TextPositionSelector selectors and Range objects.\n */\n\nTextPositionAnchor = (function() {\n  function TextPositionAnchor(root, start, end) {\n    this.root = root;\n    this.start = start;\n    this.end = end;\n  }\n\n  TextPositionAnchor.fromRange = function(root, range) {\n    var selector;\n    selector = domAnchorTextPosition.fromRange(root, range);\n    return TextPositionAnchor.fromSelector(root, selector);\n  };\n\n  TextPositionAnchor.fromSelector = function(root, selector) {\n    return new TextPositionAnchor(root, selector.start, selector.end);\n  };\n\n  TextPositionAnchor.prototype.toSelector = function() {\n    return {\n      type: 'TextPositionSelector',\n      start: this.start,\n      end: this.end\n    };\n  };\n\n  TextPositionAnchor.prototype.toRange = function() {\n    return domAnchorTextPosition.toRange(this.root, {\n      start: this.start,\n      end: this.end\n    });\n  };\n\n  return TextPositionAnchor;\n\n})();\n\n\n/**\n * Converts between TextQuoteSelector selectors and Range objects.\n */\n\nTextQuoteAnchor = (function() {\n  function TextQuoteAnchor(root, exact, context) {\n    if (context == null) {\n      context = {};\n    }\n    this.root = root;\n    this.exact = exact;\n    this.context = context;\n  }\n\n  TextQuoteAnchor.fromRange = function(root, range, options) {\n    var selector;\n    selector = domAnchorTextQuote.fromRange(root, range, options);\n    return TextQuoteAnchor.fromSelector(root, selector);\n  };\n\n  TextQuoteAnchor.fromSelector = function(root, selector) {\n    var prefix, suffix;\n    prefix = selector.prefix, suffix = selector.suffix;\n    return new TextQuoteAnchor(root, selector.exact, {\n      prefix: prefix,\n      suffix: suffix\n    });\n  };\n\n  TextQuoteAnchor.prototype.toSelector = function() {\n    return {\n      type: 'TextQuoteSelector',\n      exact: this.exact ? this.exact : null,\n      prefix: this.context.prefix,\n      suffix: this.context.suffix\n    };\n  };\n\n  TextQuoteAnchor.prototype.toRange = function(options) {\n    var range;\n    if (options == null) {\n      options = {};\n    }\n    range = domAnchorTextQuote.toRange(this.root, this.toSelector(), options);\n    if (range === null) {\n      throw new Error('Quote not found');\n    }\n    return range;\n  };\n\n  TextQuoteAnchor.prototype.toPositionAnchor = function(options) {\n    var anchor;\n    if (options == null) {\n      options = {};\n    }\n    anchor = domAnchorTextQuote.toTextPosition(this.root, this.toSelector(), options);\n    if (anchor === null) {\n      throw new Error('Quote not found');\n    }\n    return new TextPositionAnchor(this.root, anchor.start, anchor.end);\n  };\n\n  return TextQuoteAnchor;\n\n})();\n\nexports.RangeAnchor = RangeAnchor;\n\nexports.ImageAnchor = ImageAnchor;\n\nexports.FragmentAnchor = require('dom-anchor-fragment');\n\nexports.TextPositionAnchor = TextPositionAnchor;\n\nexports.TextQuoteAnchor = TextQuoteAnchor;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvYW5jaG9yaW5nL3R5cGVzLmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvYW5ub3RhdG9yL2FuY2hvcmluZy90eXBlcy5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBUUEsSUFBQTs7QUFBQSxxQkFBQSxHQUF3QixPQUFBLENBQVEsMEJBQVI7O0FBQ3hCLGtCQUFBLEdBQXFCLE9BQUEsQ0FBUSx1QkFBUjs7QUFFckIsVUFBQSxHQUFhLE9BQUEsQ0FBUSxTQUFSOztBQUNiLENBQUEsR0FBSSxPQUFBLENBQVEsUUFBUjs7QUFDSixJQUFBLEdBQU8sT0FBQSxDQUFRLFFBQVI7O0FBQ0wsWUFBYyxPQUFBLENBQVEsYUFBUjs7QUFFaEIsZ0JBQUEsR0FBbUIsU0FBQyxJQUFEO0FBQ2pCLFFBQU0sSUFBSSxLQUFKLENBQVUsOEJBQUEsR0FBaUMsSUFBakMsR0FBd0MsR0FBbEQ7QUFEVzs7O0FBSW5COzs7Ozs7OztBQU9NO0VBQ1MscUJBQUMsSUFBRCxFQUFPLEtBQVA7SUFDWCxJQUFPLFlBQVA7TUFBa0IsZ0JBQUEsQ0FBaUIsTUFBakIsRUFBbEI7O0lBQ0EsSUFBTyxhQUFQO01BQW1CLGdCQUFBLENBQWlCLE9BQWpCLEVBQW5COztJQUNBLElBQUMsQ0FBQSxJQUFELEdBQVE7SUFDUixJQUFDLENBQUEsS0FBRCxHQUFTLFVBQVUsQ0FBQyxLQUFYLENBQWlCLEtBQWpCLENBQXVCLENBQUMsU0FBeEIsQ0FBa0MsSUFBQyxDQUFBLElBQW5DO0lBQ1QsSUFBQyxDQUFBLFFBQUQsR0FBWTtFQUxEOztFQU9iLFdBQUMsQ0FBQSxTQUFELEdBQVksU0FBQyxJQUFELEVBQU8sS0FBUDtBQUNWLFdBQU8sSUFBSSxXQUFKLENBQWdCLElBQWhCLEVBQXNCLEtBQXRCO0VBREc7O0VBSVosV0FB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\n",
    "var $, Util, ref, simpleXPathJQuery, simpleXPathPure;\n\n$ = require('jquery');\n\nref = require('./xpath'), simpleXPathJQuery = ref.simpleXPathJQuery, simpleXPathPure = ref.simpleXPathPure;\n\nUtil = {};\n\nUtil.flatten = function(array) {\n  var flatten;\n  flatten = function(ary) {\n    var el, flat, i, len;\n    flat = [];\n    for (i = 0, len = ary.length; i < len; i++) {\n      el = ary[i];\n      flat = flat.concat(el && $.isArray(el) ? flatten(el) : el);\n    }\n    return flat;\n  };\n  return flatten(array);\n};\n\nUtil.getTextNodes = function(jq) {\n  var getTextNodes;\n  getTextNodes = function(node) {\n    var nodes;\n    if (node && node.nodeType !== Node.TEXT_NODE) {\n      nodes = [];\n      if (node.nodeType !== Node.COMMENT_NODE) {\n        node = node.lastChild;\n        while (node) {\n          nodes.push(getTextNodes(node));\n          node = node.previousSibling;\n        }\n      }\n      return nodes.reverse();\n    } else {\n      return node;\n    }\n  };\n  return jq.map(function() {\n    return Util.flatten(getTextNodes(this));\n  });\n};\n\nUtil.getLastTextNodeUpTo = function(n) {\n  var result;\n  switch (n.nodeType) {\n    case Node.TEXT_NODE:\n      return n;\n    case Node.ELEMENT_NODE:\n      if (n.lastChild != null) {\n        result = Util.getLastTextNodeUpTo(n.lastChild);\n        if (result != null) {\n          return result;\n        }\n      }\n      break;\n  }\n  n = n.previousSibling;\n  if (n != null) {\n    return Util.getLastTextNodeUpTo(n);\n  } else {\n    return null;\n  }\n};\n\nUtil.getFirstTextNodeNotBefore = function(n) {\n  var result;\n  switch (n.nodeType) {\n    case Node.TEXT_NODE:\n      return n;\n    case Node.ELEMENT_NODE:\n      if (n.firstChild != null) {\n        result = Util.getFirstTextNodeNotBefore(n.firstChild);\n        if (result != null) {\n          return result;\n        }\n      }\n      break;\n  }\n  n = n.nextSibling;\n  if (n != null) {\n    return Util.getFirstTextNodeNotBefore(n);\n  } else {\n    return null;\n  }\n};\n\nUtil.xpathFromNode = function(el, relativeRoot) {\n  var exception, result;\n  try {\n    result = simpleXPathJQuery.call(el, relativeRoot);\n  } catch (error) {\n    exception = error;\n    console.log(\"jQuery-based XPath construction failed! Falling back to manual.\");\n    result = simpleXPathPure.call(el, relativeRoot);\n  }\n  return result;\n};\n\nUtil.nodeFromXPath = function(xp, root) {\n  var i, idx, len, name, node, ref1, step, steps;\n  steps = xp.substring(1).split(\"/\");\n  node = root;\n  for (i = 0, len = steps.length; i < len; i++) {\n    step = steps[i];\n    ref1 = step.split(\"[\"), name = ref1[0], idx = ref1[1];\n    idx = idx != null ? parseInt((idx != null ? idx.split(\"]\") : void 0)[0]) : 1;\n    node = findChild(node, name.toLowerCase(), idx);\n  }\n  return node;\n};\n\nmodule.exports = {\n  nodeFromXPath: Util.nodeFromXPath,\n  xpathFromNode: Util.xpathFromNode,\n  getTextNodes: Util.getTextNodes,\n  getFirstTextNodeNotBefore: Util.getFirstTextNodeNotBefore,\n  getLastTextNodeUpTo: Util.getLastTextNodeUpTo\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvYW5jaG9yaW5nL3V0aWwuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvYW5jaG9yaW5nL3V0aWwuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXFCQSxJQUFBOztBQUFBLENBQUEsR0FBSSxPQUFBLENBQVEsUUFBUjs7QUFFSixNQUF5QyxPQUFBLENBQVEsU0FBUixDQUF6QyxFQUFFLHlDQUFGLEVBQXFCOztBQUVyQixJQUFBLEdBQU87O0FBS1AsSUFBSSxDQUFDLE9BQUwsR0FBZSxTQUFDLEtBQUQ7QUFDYixNQUFBO0VBQUEsT0FBQSxHQUFVLFNBQUMsR0FBRDtBQUNSLFFBQUE7SUFBQSxJQUFBLEdBQU87QUFFUCxTQUFBLHFDQUFBOztNQUNFLElBQUEsR0FBTyxJQUFJLENBQUMsTUFBTCxDQUFlLEVBQUEsSUFBTyxDQUFDLENBQUMsT0FBRixDQUFVLEVBQVYsQ0FBVixHQUE2QixPQUFBLENBQVEsRUFBUixDQUE3QixHQUE4QyxFQUExRDtBQURUO0FBR0EsV0FBTztFQU5DO1NBUVYsT0FBQSxDQUFRLEtBQVI7QUFUYTs7QUFjZixJQUFJLENBQUMsWUFBTCxHQUFvQixTQUFDLEVBQUQ7QUFDbEIsTUFBQTtFQUFBLFlBQUEsR0FBZSxTQUFDLElBQUQ7QUFDYixRQUFBO0lBQUEsSUFBRyxJQUFBLElBQVMsSUFBSSxDQUFDLFFBQUwsS0FBaUIsSUFBSSxDQUFDLFNBQWxDO01BQ0UsS0FBQSxHQUFRO01BTVIsSUFBRyxJQUFJLENBQUMsUUFBTCxLQUFpQixJQUFJLENBQUMsWUFBekI7UUFFRSxJQUFBLEdBQU8sSUFBSSxDQUFDO0FBQ1osZUFBTSxJQUFOO1VBQ0UsS0FBSyxDQUFDLElBQU4sQ0FBVyxZQUFBLENBQWEsSUFBYixDQUFYO1VBQ0EsSUFBQSxHQUFPLElBQUksQ0FBQztRQUZkLENBSEY7O0FBUUEsYUFBTyxLQUFLLENBQUMsT0FBTixDQUFBLEVBZlQ7S0FBQSxNQUFBO0FBaUJFLGFBQU8sS0FqQlQ7O0VBRGE7U0FvQmYsRUFBRSxDQUFDLEdBQUgsQ0FBTyxTQUFBO1dBQUcsSUFBSSxDQUFDLE9BQUwsQ0FBYSxZQUFBLENBQWEsSUFBYixDQUFiO0VBQUgsQ0FBUDtBQXJCa0I7O0FBd0JwQixJQUFJLENBQUMsbUJBQUwsR0FBMkIsU0FBQyxDQUFEO0FBQ3pCLE1BQUE7QUFBQSxVQUFPLENBQUMsQ0FBQyxRQUFUO0FBQUEsU0FDTyxJQUFJLENBQUMsU0FEWjtBQUVJLGFBQU87QUFGWCxTQUdPLElBQUksQ0FBQyxZQUhaO01BS0ksSUFBRyxtQkFBSDtRQUNFLE1BQUEsR0FBUyxJQUFJLENBQUMsbUJBQUwsQ0FBeUIsQ0FBQyxDQUFDLFNBQTNCO1FBQ1QsSUFBRyxjQUFIO0FBQWdCLGlCQUFPLE9BQXZCO1NBRkY7O0FBRkc7QUFIUDtFQVdBLENBQUEsR0FBSSxDQUFDLENBQUM7RUFDTixJQUFHLFNBQUg7V0FDRSxJQUFJLENBQUMsbUJBQUwsQ0FBeUIsQ0FBekIsRUFERjtHQUFBLE1BQUE7V0FHRSxLQUhGOztBQWJ5Qjs7QUFtQjNCLElBQUksQ0FBQyx5QkFBTCxHQUFpQyxTQUFDLENBQUQ7QUFDL0IsTUFBQTtBQUFBLFVBQU8sQ0FBQyxDQUFDLFFBQVQ7QUFBQSxTQUNPLElBQUksQ0FBQyxTQURaO0FBRUksYUFBTztBQUZYLFNBR08sSUFBSSxDQUFDLFlBSFo7TUFLSSxJQUFHLG9CQUFIO1FBQ0UsTUFBQSxHQUFTLElBQUksQ0FBQyx5QkFBTCxDQUErQixDQUFDLENBQUMsVUFBakM7UUFDVCxJQUFHLGNBQUg7QUFBZ0IsaUJBQU8sT0FBdkI7U0FGRjs7QUFGRztBQUhQO0VBV0EsQ0FBQSxHQUFJLENBQUMsQ0FBQztFQUNOLElBQUcsU0FBSDtXQUNFLElBQUksQ0FBQyx5QkFBTCxDQUErQixDQUEvQixFQURGO0dBQUEsTUFBQTtXQUdFLEtBSEY7O0FBYitCOztBQWtCakMsSUFBSSxDQUFDLGFBQUwsR0FBcUIsU0FBQyxFQUFELEVBQUssWUFBTDtBQUNuQixNQUFBO0FBQUE7SUFDRSxNQUFBLEdBQVMsaUJBQWlCLENBQUMsSUFBbEIsQ0FBdUIsRUFBdkIsRUFBMkIsWUFBM0IsRUFEWDtHQUFBLGFBQUE7SUFFTTtJQUNKLE9BQU8sQ0FBQyxHQUFSLENBQVksaUVBQVo7SUFDQSxNQUFBLEdBQVMsZUFBZSxDQUFDLElBQWhCLENBQXFCLEVBQXJCLEVBQXlCLFlBQXpCLEVBSlg7O1NBS0E7QUFObUI7O0FBUXJCLElBQUksQ0FBQyxhQUFMLEdBQXFCLFNBQUMsRUFBRCxFQUFLLElBQUw7QUFDbkIsTUFBQTtFQUFBLEtBQUEsR0FBUSxFQUFFLENBQUMsU0FBSCxDQUFhLENBQWIsQ0FBZSxDQUFDLEtBQWhCLENBQXNCLEdBQXRCO0VBQ1IsSUFBQSxHQUFPO0FBQ1AsT0FBQSx1Q0FBQTs7SUFDRSxPQUFjLElBQUksQ0FBQyxLQUFMLENBQVcsR0FBWCxDQUFkLEVBQUMsY0FBRCxFQUFPO0lBQ1AsR0FBQSxHQUFTLFdBQUgsR0FBYSxRQUFBLENBQVMsZUFBQyxHQUFHLENBQUUsS0FBTCxDQUFXLEdBQVgsVUFBRCxDQUFpQixDQUFBLENBQUEsQ0FBMUIsQ0FBYixHQUErQztJQUNyRCxJQUFBLEdBQU8sU0FBQSxDQUFVLElBQVYsRUFBZ0IsSUFBSSxDQUFDLFdBQUwsQ0FBQSxDQUFoQixFQUFvQyxHQUFwQztBQUhUO1NBS0E7QUFSbUI7O0FBVXJCLE1BQU0sQ0FBQyxPQUFQLEdBQWlCO0VBQ2YsYUFBQSxFQUFlLElBQUksQ0FBQyxhQURMO0VBRWYsYUFBQSxFQUFlLElBQUksQ0FBQyxhQUZMO0VBR2YsWUFBQSxFQUFjLElBQUksQ0FBQyxZQUhKO0VBSWYseUJBQUEsRUFBMkIsSUFBSSxDQUFDLHlCQUpqQjtFQUtmLG1CQUFBLEVBQXFCLElBQUksQ0FBQyxtQkFMWCJ9\n",
    "var $, findChild, getNodeName, getNodePosition, simpleXPathJQuery, simpleXPathPure;\n\n$ = require('jquery');\n\nsimpleXPathJQuery = function(relativeRoot) {\n  var jq;\n  jq = this.map(function() {\n    var elem, idx, path, tagName;\n    path = '';\n    elem = this;\n    while ((elem != null ? elem.nodeType : void 0) === Node.ELEMENT_NODE && elem !== relativeRoot) {\n      tagName = elem.tagName.replace(\":\", \"\\\\:\");\n      idx = $(elem.parentNode).children(tagName).index(elem) + 1;\n      idx = \"[\" + idx + \"]\";\n      path = \"/\" + elem.tagName.toLowerCase() + idx + path;\n      elem = elem.parentNode;\n    }\n    return path;\n  });\n  return jq.get();\n};\n\nsimpleXPathPure = function(relativeRoot) {\n  var getPathSegment, getPathTo, jq, rootNode;\n  getPathSegment = function(node) {\n    var name, pos;\n    name = getNodeName(node);\n    pos = getNodePosition(node);\n    return name + \"[\" + pos + \"]\";\n  };\n  rootNode = relativeRoot;\n  getPathTo = function(node) {\n    var xpath;\n    xpath = '';\n    while (node !== rootNode) {\n      if (node == null) {\n        throw new Error(\"Called getPathTo on a node which was not a descendant of @rootNode. \" + rootNode);\n      }\n      xpath = (getPathSegment(node)) + '/' + xpath;\n      node = node.parentNode;\n    }\n    xpath = '/' + xpath;\n    xpath = xpath.replace(/\\/$/, '');\n    return xpath;\n  };\n  jq = this.map(function() {\n    var path;\n    path = getPathTo(this);\n    return path;\n  });\n  return jq.get();\n};\n\nfindChild = function(node, type, index) {\n  var child, children, found, i, len, name;\n  if (!node.hasChildNodes()) {\n    throw new Error(\"XPath error: node has no children!\");\n  }\n  children = node.childNodes;\n  found = 0;\n  for (i = 0, len = children.length; i < len; i++) {\n    child = children[i];\n    name = getNodeName(child);\n    if (name === type) {\n      found += 1;\n      if (found === index) {\n        return child;\n      }\n    }\n  }\n  throw new Error(\"XPath error: wanted child not found.\");\n};\n\ngetNodeName = function(node) {\n  var nodeName;\n  nodeName = node.nodeName.toLowerCase();\n  switch (nodeName) {\n    case \"#text\":\n      return \"text()\";\n    case \"#comment\":\n      return \"comment()\";\n    case \"#cdata-section\":\n      return \"cdata-section()\";\n    default:\n      return nodeName;\n  }\n};\n\ngetNodePosition = function(node) {\n  var pos, tmp;\n  pos = 0;\n  tmp = node;\n  while (tmp) {\n    if (tmp.nodeName === node.nodeName) {\n      pos++;\n    }\n    tmp = tmp.previousSibling;\n  }\n  return pos;\n};\n\nmodule.exports = {\n  simpleXPathJQuery: simpleXPathJQuery,\n  simpleXPathPure: simpleXPathPure\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvYW5jaG9yaW5nL3hwYXRoLmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvYW5ub3RhdG9yL2FuY2hvcmluZy94cGF0aC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBcUJBLElBQUE7O0FBQUEsQ0FBQSxHQUFJLE9BQUEsQ0FBUSxRQUFSOztBQUdKLGlCQUFBLEdBQW9CLFNBQUMsWUFBRDtBQUNsQixNQUFBO0VBQUEsRUFBQSxHQUFLLElBQUksQ0FBQyxHQUFMLENBQVMsU0FBQTtBQUNaLFFBQUE7SUFBQSxJQUFBLEdBQU87SUFDUCxJQUFBLEdBQU87QUFFUCwyQkFBTSxJQUFJLENBQUUsa0JBQU4sS0FBa0IsSUFBSSxDQUFDLFlBQXZCLElBQXdDLElBQUEsS0FBVSxZQUF4RDtNQUNFLE9BQUEsR0FBVSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQWIsQ0FBcUIsR0FBckIsRUFBMEIsS0FBMUI7TUFDVixHQUFBLEdBQU0sQ0FBQSxDQUFFLElBQUksQ0FBQyxVQUFQLENBQWtCLENBQUMsUUFBbkIsQ0FBNEIsT0FBNUIsQ0FBb0MsQ0FBQyxLQUFyQyxDQUEyQyxJQUEzQyxDQUFBLEdBQW1EO01BRXpELEdBQUEsR0FBTyxHQUFBLEdBQUksR0FBSixHQUFRO01BQ2YsSUFBQSxHQUFPLEdBQUEsR0FBTSxJQUFJLENBQUMsT0FBTyxDQUFDLFdBQWIsQ0FBQSxDQUFOLEdBQW1DLEdBQW5DLEdBQXlDO01BQ2hELElBQUEsR0FBTyxJQUFJLENBQUM7SUFOZDtXQVFBO0VBWlksQ0FBVDtTQWNMLEVBQUUsQ0FBQyxHQUFILENBQUE7QUFma0I7O0FBbUJwQixlQUFBLEdBQWtCLFNBQUMsWUFBRDtBQUVoQixNQUFBO0VBQUEsY0FBQSxHQUFpQixTQUFDLElBQUQ7QUFDZixRQUFBO0lBQUEsSUFBQSxHQUFPLFdBQUEsQ0FBWSxJQUFaO0lBQ1AsR0FBQSxHQUFNLGVBQUEsQ0FBZ0IsSUFBaEI7V0FDSCxJQUFELEdBQU0sR0FBTixHQUFTLEdBQVQsR0FBYTtFQUhBO0VBS2pCLFFBQUEsR0FBVztFQUVYLFNBQUEsR0FBWSxTQUFDLElBQUQ7QUFDVixRQUFBO0lBQUEsS0FBQSxHQUFRO0FBQ1IsV0FBTSxJQUFBLEtBQVEsUUFBZDtNQUNFLElBQU8sWUFBUDtBQUNFLGNBQU0sSUFBSSxLQUFKLENBQVUsc0VBQUEsR0FBeUUsUUFBbkYsRUFEUjs7TUFFQSxLQUFBLEdBQVEsQ0FBQyxjQUFBLENBQWUsSUFBZixDQUFELENBQUEsR0FBd0IsR0FBeEIsR0FBOEI7TUFDdEMsSUFBQSxHQUFPLElBQUksQ0FBQztJQUpkO0lBS0EsS0FBQSxHQUFRLEdBQUEsR0FBTTtJQUNkLEtBQUEsR0FBUSxLQUFLLENBQUMsT0FBTixDQUFjLEtBQWQsRUFBcUIsRUFBckI7V0FDUjtFQVRVO0VBV1osRUFBQSxHQUFLLElBQUksQ0FBQyxHQUFMLENBQVMsU0FBQTtBQUNaLFFBQUE7SUFBQSxJQUFBLEdBQU8sU0FBQSxDQUFVLElBQVY7V0FFUDtFQUhZLENBQVQ7U0FLTCxFQUFFLENBQUMsR0FBSCxDQUFBO0FBekJnQjs7QUEyQmxCLFNBQUEsR0FBWSxTQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsS0FBYjtBQUNWLE1BQUE7RUFBQSxJQUFBLENBQU8sSUFBSSxDQUFDLGFBQUwsQ0FBQSxDQUFQO0FBQ0UsVUFBTSxJQUFJLEtBQUosQ0FBVSxvQ0FBVixFQURSOztFQUVBLFFBQUEsR0FBVyxJQUFJLENBQUM7RUFDaEIsS0FBQSxHQUFRO0FBQ1IsT0FBQSwwQ0FBQTs7SUFDRSxJQUFBLEdBQU8sV0FBQSxDQUFZLEtBQVo7SUFDUCxJQUFHLElBQUEsS0FBUSxJQUFYO01BQ0UsS0FBQSxJQUFTO01BQ1QsSUFBRyxLQUFBLEtBQVMsS0FBWjtBQUNFLGVBQU8sTUFEVDtPQUZGOztBQUZGO0FBTUEsUUFBTSxJQUFJLEtBQUosQ0FBVSxzQ0FBVjtBQVhJOztBQWNaLFdBQUEsR0FBYyxTQUFDLElBQUQ7QUFDVixNQUFBO0VBQUEsUUFBQSxHQUFXLElBQUksQ0FBQyxRQUFRLENBQUMsV0FBZCxDQUFBO0FBQ1gsVUFBTyxRQUFQO0FBQUEsU0FDTyxPQURQO0FBQ29CLGFBQU87QUFEM0IsU0FFTyxVQUZQO0FBRXVCLGFBQU87QUFGOUIsU0FHTyxnQkFIUDtBQUc2QixhQUFPO0FBSHBDO0FBSU8sYUFBTztBQUpkO0FBRlU7O0FBU2QsZUFBQSxHQUFrQixTQUFDLElBQUQ7QUFDaEIsTUFBQTtFQUFBLEdBQUEsR0FBTTtFQUNOLEdBQUEsR0FBTTtBQUNOLFNBQU0sR0FBTjtJQUNFLElBQUcsR0FBRyxDQUFDLFFBQUosS0FBZ0IsSUFBSSxDQUFDLFFBQXhCO01BQ0UsR0FBQSxHQURGOztJQUVBLEdBQUEsR0FBTSxHQUFHLENBQUM7RUFIWjtTQUlBO0FBUGdCOztBQVNsQixNQUFNLENBQUMsT0FBUCxHQUFpQjtFQUNmLG1CQUFBLGlCQURlO0VBRWYsaUJBQUEsZUFGZSJ9\n",
    "'use strict';\n\nvar events = require('../shared/bridge-events');\n\nvar ANNOTATION_COUNT_ATTR = 'data-hypothesis-annotation-count';\n\n/**\n * Update the elements in the container element with the count data attribute\n * with the new annotation count.\n *\n * @param {Element} rootEl - The DOM element which contains the elements that\n * display annotation count.\n */\n\nfunction annotationCounts(rootEl, crossframe) {\n  crossframe.on(events.PUBLIC_ANNOTATION_COUNT_CHANGED, updateAnnotationCountElems);\n\n  function updateAnnotationCountElems(newCount) {\n    var elems = rootEl.querySelectorAll('['+ANNOTATION_COUNT_ATTR+']');\n    Array.from(elems).forEach(function(elem) {\n      elem.textContent = newCount;\n    });\n  }\n}\n\nmodule.exports = annotationCounts;\n",
    "'use strict';\n\n// AnnotationSync listens for messages from the sidebar app indicating that\n// annotations have been added or removed and relays them to Guest.\n//\n// It also listens for events from Guest when new annotations are created or\n// annotations successfully anchor and relays these to the sidebar app.\nfunction AnnotationSync(bridge, options) {\n  var self = this;\n\n  this.bridge = bridge;\n\n  if (!options.on) {\n    throw new Error('options.on unspecified for AnnotationSync.');\n  }\n\n  if (!options.emit) {\n    throw new Error('options.emit unspecified for AnnotationSync.');\n  }\n\n  this.cache = {};\n\n  this._on = options.on;\n  this._emit = options.emit;\n\n  // Listen locally for interesting events\n  Object.keys(this._eventListeners).forEach(function(eventName) {\n    var listener = self._eventListeners[eventName];\n    self._on(eventName, function(annotation) {\n      listener.apply(self, [annotation]);\n    });\n  });\n\n  // Register remotely invokable methods\n  Object.keys(this._channelListeners).forEach(function(eventName) {\n    self.bridge.on(eventName, function(data, callbackFunction) {\n      var listener = self._channelListeners[eventName];\n      listener.apply(self, [data, callbackFunction]);\n    });\n  });\n}\n\n// Cache of annotations which have crossed the bridge for fast, encapsulated\n// association of annotations received in arguments to window-local copies.\nAnnotationSync.prototype.cache = null;\n\nAnnotationSync.prototype.sync = function(annotations) {\n  annotations = (function() {\n    var i;\n    var formattedAnnotations = [];\n\n    for (i = 0; i < annotations.length; i++) {\n      formattedAnnotations.push(this._format(annotations[i]));\n    }\n    return formattedAnnotations;\n  }).call(this);\n  this.bridge.call('sync', annotations, (function(_this) {\n    return function(err, annotations) {\n      var i;\n      var parsedAnnotations = [];\n      annotations = annotations || [];\n\n      for (i = 0; i < annotations.length; i++) {\n        parsedAnnotations.push(_this._parse(annotations[i]));\n      }\n      return parsedAnnotations;\n    };\n  })(this));\n  return this;\n};\n\n// Handlers for messages arriving through a channel\nAnnotationSync.prototype._channelListeners = {\n  'deleteAnnotation': function(body, cb) {\n    var annotation = this._parse(body);\n    delete this.cache[annotation.$tag];\n    this._emit('annotationDeleted', annotation);\n    cb(null, this._format(annotation));\n  },\n  'loadAnnotations': function(bodies, cb) {\n    var annotations = (function() {\n      var i;\n      var parsedAnnotations = [];\n\n      for (i = 0; i < bodies.length; i++) {\n        parsedAnnotations.push(this._parse(bodies[i]));\n      }\n      return parsedAnnotations;\n    }).call(this);\n    this._emit('annotationsLoaded', annotations);\n    return cb(null, annotations);\n  },\n};\n\n// Handlers for events coming from this frame, to send them across the channel\nAnnotationSync.prototype._eventListeners = {\n  'beforeAnnotationCreated': function(annotation) {\n    if (annotation.$tag && !annotation.$screenshot) {\n      return undefined;\n    }\n    return this._mkCallRemotelyAndParseResults('beforeCreateAnnotation')(annotation);\n  },\n  'addToTaskSpace': function(doc) {\n    return this._mkCallRemotelyAndParseResults('addToTaskSpace')(doc);\n   },\n   'captureScreenShot': function(coords) {\n    return this._mkCallRemotelyAndParseResults('captureScreenShot')(coords);\n   },\n   'tagDocument': function(doc) {\n    return this._mkCallRemotelyAndParseResults('tagDocument')(doc);\n   },\n   'shareDocument': function(doc) {\n    return this._mkCallRemotelyAndParseResults('shareDocument')(doc);\n   },\n};\n\nAnnotationSync.prototype._mkCallRemotelyAndParseResults = function(method, callBack) {\n  return (function(_this) {\n    return function(annotation) {\n      // Wrap the callback function to first parse returned items\n      var wrappedCallback = function(failure, results) {\n        if (failure === null) {\n          _this._parseResults(results);\n        }\n        if (typeof callBack === 'function') {\n          callBack(failure, results);\n        }\n      };\n      // Call the remote method\n      _this.bridge.call(method, _this._format(annotation), wrappedCallback);\n    };\n  })(this);\n};\n\n// Parse returned message bodies to update cache with any changes made remotely\nAnnotationSync.prototype._parseResults = function(results) {\n  var bodies;\n  var body;\n  var i;\n  var j;\n\n  for (i = 0; i < results.length; i++) {\n    bodies = results[i];\n    bodies = [].concat(bodies);\n    for (j = 0; j < bodies.length; j++) {\n      body = bodies[j];\n      if (body !== null) {\n        this._parse(body);\n      }\n    }\n  }\n};\n\n// Assign a non-enumerable tag to objects which cross the bridge.\n// This tag is used to identify the objects between message.\nAnnotationSync.prototype._tag = function(ann, tag) {\n  if (ann.$tag) {\n    return ann;\n  }\n  tag = tag || window.btoa(Math.random());\n  Object.defineProperty(ann, '$tag', {\n    value: tag,\n  });\n  this.cache[tag] = ann;\n  return ann;\n};\n\n// Parse a message body from a RPC call with the provided parser.\nAnnotationSync.prototype._parse = function(body) {\n  var merged = Object.assign(this.cache[body.tag] || {}, body.msg);\n  return this._tag(merged, body.tag);\n};\n\n// Format an annotation into an RPC message body with the provided formatter.\nAnnotationSync.prototype._format = function(ann) {\n  this._tag(ann);\n  return {\n    tag: ann.$tag,\n    msg: ann,\n  };\n};\n\nmodule.exports = AnnotationSync;\n",
    "var $, Clipper, Readability, Sidebar, debounce, extend,\n  extend1 = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  slice = [].slice;\n\nextend = require('extend');\n\ndebounce = require('lodash.debounce');\n\n$ = require('jquery');\n\nSidebar = require('./sidebar');\n\nReadability = require('../readability/Readability');\n\ndebounce = require('lodash.debounce');\n\nmodule.exports = Clipper = (function(superClass) {\n  var SHOW_CLIP_HIGHLIGHTS_CLASS;\n\n  extend1(Clipper, superClass);\n\n  SHOW_CLIP_HIGHLIGHTS_CLASS = 'clip-highlights-always-on';\n\n  Clipper.prototype.options = {\n    Document: {},\n    TextSelection: {},\n    BucketBar: {\n      container: '.annotator-frame'\n    },\n    Toolbar: {\n      container: '.annotator-frame'\n    }\n  };\n\n  Clipper.prototype.documentClone = null;\n\n  Clipper.prototype.article = null;\n\n  Clipper.prototype.textNodes = [];\n\n  function Clipper(element, config) {\n    var clipper, clipperAppSrc, debouncedFunction, delay, handleMouseOver, mytimeOut, self, timeout;\n    self = this;\n    clipperAppSrc = config.clipperAppUrl;\n    timeout = 300;\n    mytimeOut = null;\n    delay = function() {\n      var args, fn, time;\n      time = arguments[0], fn = arguments[1], args = 3 <= arguments.length ? slice.call(arguments, 2) : [];\n      return mytimeOut = setTimeout.apply(null, [fn, time].concat(slice.call(args)));\n    };\n    handleMouseOver = function(ev) {\n      var range, sel;\n      if (element.hasAttribute(SHOW_CLIP_HIGHLIGHTS_CLASS)) {\n        ev.stopPropagation();\n        ev.preventDefault();\n        range = document.createRange();\n        range.selectNodeContents(ev.target);\n        sel = window.getSelection();\n        sel.removeAllRanges();\n        return sel.addRange(range);\n      }\n    };\n    debouncedFunction = debounce(((function(_this) {\n      return function(ev) {\n        return handleMouseOver(ev);\n      };\n    })(this)), timeout);\n    $(element).find('section,h2,h3,h4,h5,h6,p,td,pre,img').not('.annotator-adder-actions__button').hover(function(ev) {\n      return debouncedFunction(ev);\n    }, function(ev) {\n      ev.stopPropagation();\n      return ev.preventDefault();\n    });\n    clipper = $('<iframe></iframe>').attr('name', 'clipper_frame').attr('allowfullscreen', '').attr('seamless', '').attr('src', clipperAppSrc).addClass('clipper-iframe');\n    this.clipperframe = $('<div></div>').addClass('clipper-frame clipper-collapsed');\n    if (config.theme === 'clean') {\n      this.clipperframe.addClass('annotator-frame--drop-shadow-enabled');\n    }\n    this.clipperframe.appendTo(element);\n    this.documentClone = document.cloneNode(true);\n    Clipper.__super__.constructor.apply(this, arguments);\n    clipper.appendTo(this.clipperframe);\n    this.hide();\n    this._setupClipprEvents();\n    this.getSimplifiedArticle();\n  }\n\n  Clipper.prototype._setupClipprEvents = function() {\n    this.crossframe.on('showClipper', (function(_this) {\n      return function() {\n        return _this.showClipper();\n      };\n    })(this));\n    this.crossframe.on('hideClipper', (function(_this) {\n      return function() {\n        return _this.hideClipper();\n      };\n    })(this));\n    this.crossframe.on('getClip', (function(_this) {\n      return function(options) {\n        return _this.getClip(options);\n      };\n    })(this));\n    return this;\n  };\n\n  Clipper.prototype.processArticle = function() {\n    var h1, lengthSimilarRate, titlesMatch;\n    h1 = $(this.article.content).find(\"h1\");\n    titlesMatch = false;\n    if (h1.length === 1) {\n      if (h1[0].textContent.toUpperCase() === this.article.title.toUpperCase()) {\n        titlesMatch = true;\n      } else {\n        lengthSimilarRate = (this.article.title.length - h1[0].textContent.length) / h1[0].textContent.length;\n        if (Math.abs(lengthSimilarRate) < 0.8) {\n          if (lengthSimilarRate > 0) {\n            titlesMatch = this.article.title.includes(h1[0].textContent);\n          } else {\n            titlesMatch = h1[0].textContent.includes(this.article.title);\n          }\n        }\n      }\n      if (titlesMatch) {\n        return this.article.isTitleRequired = \"false\";\n      }\n    }\n  };\n\n  Clipper.prototype.getSimplifiedArticle = function(options) {\n    var $content, article, docClone, e, i, len, ref, text;\n    try {\n      docClone = document.cloneNode(true);\n      article = new Readability(docClone, options).parse();\n      if (article) {\n        this.article = article;\n        this.article.url = document.URL;\n        this.article.origin = window.location.origin;\n        this.article.host = this._getHostName(document.URL);\n        $content = $(this.article.content);\n        $content.find(\"a\").attr(\"target\", \"_blank\");\n        this.article.content = $content.html();\n        this.article.isTitleRequired = \"true\";\n        this.processArticle();\n        $(document).find(\"[data-clipped='true']\").removeAttr(\"data-clipped\");\n        this.textNodes = this.adderCtrl.getWebClipperAnchors($(this.article.content)[0], this.article.title);\n        ref = this.textNodes;\n        for (i = 0, len = ref.length; i < len; i++) {\n          text = ref[i];\n          this.anchorWebclip(text, \"webclip-hl\", {\n            'data-clipped': 'true'\n          });\n        }\n      }\n    } catch (error) {\n      e = error;\n    }\n    return this.article;\n  };\n\n  Clipper.prototype._getHostName = function(url) {\n    var a;\n    a = document.createElement('a');\n    a.href = url;\n    return a.hostname;\n  };\n\n  Clipper.prototype.showClipper = function() {\n    var ref, ref1, session, shouldShowWebClipHighlights;\n    session = this.adderCtrl.getSession();\n    shouldShowWebClipHighlights = (ref = session && session.userid) != null ? ref : {\n      \"true\": false\n    };\n    this.setClipVisibleHighlights(shouldShowWebClipHighlights);\n    return (ref1 = this.crossframe) != null ? ref1.call('SimplifiedArticle', this.article) : void 0;\n  };\n\n  Clipper.prototype.hideClipper = function() {\n    return this.setClipVisibleHighlights(false);\n  };\n\n  Clipper.prototype.isClipperOpen = function() {\n    return !this.clipperframe.hasClass('clipper-collapsed');\n  };\n\n  Clipper.prototype.getClip = function(options) {\n    var ref;\n    this.getSimplifiedArticle(options);\n    if ((ref = this.crossframe) != null) {\n      ref.call('SimplifiedArticle', this.article);\n    }\n    return this.article;\n  };\n\n  Clipper.prototype.setClipVisibleHighlights = function(shouldShowWebClipHighlights) {\n    if (shouldShowWebClipHighlights) {\n      this.element.attr(SHOW_CLIP_HIGHLIGHTS_CLASS, \"\");\n      return this.adderCtrl.enableClipperCommands();\n    } else {\n      this.element.removeAttr(SHOW_CLIP_HIGHLIGHTS_CLASS);\n      return this.adderCtrl.disableClipperCommands();\n    }\n  };\n\n  Clipper.prototype.destroy = function() {\n    this.element.find('.webclip-hl').each(function() {\n      $(this).contents().insertBefore(this);\n      return $(this).remove();\n    });\n    this.clipperframe.remove();\n    return Clipper.__super__.destroy.apply(this, arguments);\n  };\n\n  return Clipper;\n\n})(Sidebar);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvY2xpcHBlci5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvaG9tZS91YnVudHUvcGRmdHJvbkV4dGVuc2lvbi9jbGllbnQvc3JjL2Fubm90YXRvci9jbGlwcGVyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLGtEQUFBO0VBQUE7Ozs7QUFBQSxNQUFBLEdBQVMsT0FBQSxDQUFRLFFBQVI7O0FBQ1QsUUFBQSxHQUFXLE9BQUEsQ0FBUSxpQkFBUjs7QUFDWCxDQUFBLEdBQUksT0FBQSxDQUFRLFFBQVI7O0FBQ0osT0FBQSxHQUFVLE9BQUEsQ0FBUSxXQUFSOztBQUNWLFdBQUEsR0FBYyxPQUFBLENBQVEsNEJBQVI7O0FBQ2QsUUFBQSxHQUFXLE9BQUEsQ0FBUSxpQkFBUjs7QUFFWCxNQUFNLENBQUMsT0FBUCxHQUF1QjtBQUNyQixNQUFBOzs7O0VBQUEsMEJBQUEsR0FBNkI7O29CQUU3QixPQUFBLEdBQ0U7SUFBQSxRQUFBLEVBQVUsRUFBVjtJQUNBLGFBQUEsRUFBZSxFQURmO0lBRUEsU0FBQSxFQUNFO01BQUEsU0FBQSxFQUFXLGtCQUFYO0tBSEY7SUFJQSxPQUFBLEVBQ0U7TUFBQSxTQUFBLEVBQVcsa0JBQVg7S0FMRjs7O29CQU9GLGFBQUEsR0FBZTs7b0JBQ2YsT0FBQSxHQUFTOztvQkFDVCxTQUFBLEdBQVc7O0VBQ0UsaUJBQUMsT0FBRCxFQUFVLE1BQVY7QUFDWixRQUFBO0lBQUEsSUFBQSxHQUFPO0lBQ1AsYUFBQSxHQUFnQixNQUFNLENBQUM7SUFDdkIsT0FBQSxHQUFVO0lBQ1YsU0FBQSxHQUFZO0lBQ1osS0FBQSxHQUFRLFNBQUE7QUFDTixVQUFBO01BRE8scUJBQU0sbUJBQUk7YUFDakIsU0FBQSxHQUFZLFVBQUEsYUFBVyxDQUFBLEVBQUEsRUFBSSxJQUFNLFNBQUEsV0FBQSxJQUFBLENBQUEsQ0FBckI7SUFE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\n",
    "'use strict';\n\n/**\n * Return an object containing config settings from window.hypothesisConfig().\n *\n * Return an object containing config settings returned by the\n * window.hypothesisConfig() function provided by the host page:\n *\n *   {\n *     fooSetting: 'fooValue',\n *     barSetting: 'barValue',\n *     ...\n *   }\n *\n * If there's no window.hypothesisConfig() function then return {}.\n *\n * @param {Window} window_ - The window to search for a hypothesisConfig() function\n * @return {Object} - Any config settings returned by hypothesisConfig()\n *\n */\nfunction configFuncSettingsFrom(window_) {\n  if (!window_.hasOwnProperty('hypothesisConfig')) {\n    return {};\n  }\n\n  if (typeof window_.hypothesisConfig !== 'function') {\n    var docs = 'https://h.readthedocs.io/projects/client/en/latest/publishers/config/#window.hypothesisConfig';\n    console.warn('hypothesisConfig must be a function, see: ' + docs);\n    return {};\n  }\n\n  return window_.hypothesisConfig();\n}\n\nmodule.exports = configFuncSettingsFrom;\n",
    "'use strict';\n\nvar settingsFrom = require('./settings');\n\n/**\n * Reads the Hypothesis configuration from the environment.\n *\n * @param {Window} window_ - The Window object to read config from.\n */\nfunction configFrom(window_) {\n  var settings = settingsFrom(window_);\n  return {\n    annotations: settings.annotations,\n    group: settings.group,\n    client: settings.client,\n    linkId: settings.linkId,\n    startTime: settings.startTime,\n    browserExtension: settings.browserExtension,\n    // URL where client assets are served from. Used when injecting the client\n    // into child iframes.\n    assetRoot: settings.hostPageSetting('assetRoot', {allowInBrowserExt: true}),\n    branding: settings.hostPageSetting('branding'),\n    // URL of the client's boot script. Used when injecting the client into\n    // child iframes.\n    clientUrl: settings.clientUrl,\n    enableExperimentalNewNoteButton: settings.hostPageSetting('enableExperimentalNewNoteButton'),\n    theme: settings.hostPageSetting('theme'),\n    usernameUrl: settings.hostPageSetting('usernameUrl'),\n    onLayoutChange: settings.hostPageSetting('onLayoutChange'),\n    openSidebar: settings.hostPageSetting('openSidebar', {allowInBrowserExt: true}),\n    query: settings.query,\n    services: settings.hostPageSetting('services'),\n    showHighlights: settings.showHighlights,\n    sidebarAppUrl: settings.sidebarAppUrl,\n    clipperAppUrl: settings.clipperAppUrl,\n    // Subframe identifier given when a frame is being embedded into\n    // by a top level client\n    subFrameIdentifier: settings.hostPageSetting('subFrameIdentifier', {allowInBrowserExt: true}),\n  };\n}\n\nmodule.exports = configFrom;\n",
    "'use strict';\n\n/**\n * Return true if the client is from a browser extension.\n *\n * @returns {boolean} true if this instance of the Hypothesis client is one\n *   distributed in a browser extension, false if it's one embedded in a\n *   website.\n *\n */\nfunction isBrowserExtension(app) {\n  return !(app.startsWith('http://') || app.startsWith('https://'));\n}\n\nmodule.exports = isBrowserExtension;\n",
    "'use strict';\n\nvar configFuncSettingsFrom = require('./config-func-settings-from');\nvar isBrowserExtension = require('./is-browser-extension');\nvar sharedSettings = require('../../shared/settings');\n\nfunction settingsFrom(window_) {\n\n\tvar jsonConfigs = sharedSettings.jsonConfigsFrom(window_.document);\n\tvar configFuncSettings = configFuncSettingsFrom(window_);\n\n\t/**\n\t * Return the href URL of the first annotator sidebar link in the given document.\n\t *\n\t * Return the value of the href attribute of the first\n\t * `<link type=\"application/annotator+html\" rel=\"sidebar\">` element in the given document.\n\t *\n\t * This URL is used as the src of the sidebar's iframe.\n\t *\n\t * @return {string} - The URL to use for the sidebar's iframe.\n\t *\n\t * @throws {Error} - If there's no annotator link or the first annotator has\n\t *   no href.\n\t *\n\t */\n\tfunction sidebarAppUrl() {\n\t\tvar link = window_.document.querySelector('link[type=\"application/annotator+html\"][rel=\"sidebar\"]');\n\n\t\tif (!link) {\n\t\t\tthrow new Error('No application/annotator+html (rel=\"sidebar\") link in the document');\n\t\t}\n\n\t\tif (!link.href) {\n\t\t\tthrow new Error('application/annotator+html (rel=\"sidebar\") link has no href');\n\t\t}\n\n\t\treturn link.href;\n\t}\n\n\n\t/**\n\t * Return the href URL of the first annotator sidebar link in the given document.\n\t *\n\t * Return the value of the href attribute of the first\n\t * `<link type=\"application/annotator+html\" rel=\"sidebar\">` element in the given document.\n\t *\n\t * This URL is used as the src of the sidebar's iframe.\n\t *\n\t * @return {string} - The URL to use for the sidebar's iframe.\n\t *\n\t * @throws {Error} - If there's no annotator link or the first annotator has\n\t *   no href.\n\t *\n\t */\n\tfunction clipperAppUrl() {\n\t\tvar link = window_.document.querySelector('link[type=\"application/annotator+html\"][rel=\"clipper\"]');\n\n\t\tif (!link) {\n\t\t\t//throw new Error('No application/annotator+html (rel=\"clipper\") link in the document');\n\t\t\treturn null;\n\t\t}\n\n\t\tif (!link.href) {\n\t\t\t//throw new Error('application/annotator+html (rel=\"clipper\") link has no href');\n\t\t\treturn null;\n\t\t}\n\n\t\treturn link.href;\n\t}\n\n\n\n\t/**\n\t * Return the href URL of the first annotator client link in the given document.\n\t *\n\t * Return the value of the href attribute of the first\n\t * `<link type=\"application/annotator+html\" rel=\"hypothesis-client\">` element in the given document.\n\t *\n\t * This URL is used to identify where the client is from and what url should be\n\t *    used inside of subframes\n\t *\n\t * @return {string} - The URL that the client is hosted from\n\t *\n\t * @throws {Error} - If there's no annotator link or the first annotator has\n\t *   no href.\n\t *\n\t */\n\tfunction clientUrl() {\n\t\tvar link = window_.document.querySelector('link[type=\"application/annotator+javascript\"][rel=\"hypothesis-client\"]');\n\n\t\tif (!link) {\n\t\t\tthrow new Error('No application/annotator+javascript (rel=\"hypothesis-client\") link in the document');\n\t\t}\n\n\t\tif (!link.href) {\n\t\t\tthrow new Error('application/annotator+javascript (rel=\"hypothesis-client\") link has no href');\n\t\t}\n\n\t\treturn link.href;\n\t}\n\n\t/**\n\t * Return the `#annotations:*` ID from the given URL's fragment.\n\t *\n\t * If the URL contains a `#annotations:<ANNOTATION_ID>` fragment then return\n\t * the annotation ID extracted from the fragment. Otherwise return `null`.\n\t *\n\t * @return {string|null} - The extracted ID, or null.\n\t */\n\tfunction annotations() {\n\n\t\t/** Return the annotations from the URL, or null. */\n\t\tfunction annotationsFromURL() {\n\t\t\t// Annotation IDs are url-safe-base64 identifiers\n\t\t\t// See https://tools.ietf.org/html/rfc4648#page-7\n\t\t\tvar annotFragmentMatch = window_.location.href.match(/#webannotations:([A-Za-z0-9_-]+)/);\n\t\t\tif (annotFragmentMatch) {\n\t\t\t\treturn annotFragmentMatch[1];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\treturn jsonConfigs.annotations || annotationsFromURL();\n\t}\n\n\tfunction group() {\n\n\t\t/** Return the annotations from the URL, or null. */\n\t\tfunction groupFromURL() {\n\t\t\t// Annotation IDs are url-safe-base64 identifiers\n\t\t\t// See https://tools.ietf.org/html/rfc4648#page-7\n\t\t\tvar annotFragmentMatch = window_.location.href.match(/#group:([A-Za-z0-9_-]+)/);\n\t\t\tif (annotFragmentMatch) {\n\t\t\t\treturn annotFragmentMatch[1];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\treturn jsonConfigs.group || groupFromURL();\n\t}\n\n\tfunction client() {\n\n\t\t/** Return the annotations from the URL, or null. */\n\t\tfunction clientFromURL() {\n\t\t\t// Annotation IDs are url-safe-base64 identifiers\n\t\t\t// See https://tools.ietf.org/html/rfc4648#page-7\n\t\t\tvar annotFragmentMatch = window_.location.href.match(/#client:([A-Za-z0-9_-]+)/);\n\t\t\tif (annotFragmentMatch) {\n\t\t\t\treturn annotFragmentMatch[1];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\treturn jsonConfigs.client || clientFromURL();\n\t}\n\n\n\tfunction linkId() {\n\n\t\t/** Return the annotations from the URL, or null. */\n\t\tfunction LinkIdFromURL() {\n\t\t\t// Annotation IDs are url-safe-base64 identifiers\n\t\t\t// See https://tools.ietf.org/html/rfc4648#page-7\n\t\t\tvar annotFragmentMatch = window_.location.href.match(/#linkId:([A-Za-z0-9_-]+)/);\n\t\t\tif (annotFragmentMatch) {\n\t\t\t\treturn annotFragmentMatch[1];\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\treturn jsonConfigs.linkId || LinkIdFromURL();\n\t}\n\n\tfunction startTime() {\n\t\treturn jsonConfigs.startTime;\n\t}\n\n\tfunction browserExtension() {\n\t\treturn isBrowserExtension(sidebarAppUrl());\n\t}\n\n\tfunction showHighlights() {\n\t\tvar showHighlights_ = hostPageSetting('showHighlights');\n\n\t\tif (showHighlights_ === null) {\n\t\t\tshowHighlights_ = 'always';  // The default value is 'always'.\n\t\t}\n\n\t\t// Convert legacy keys/values to corresponding current configuration.\n\t\tif (typeof showHighlights_ === 'boolean') {\n\t\t\treturn showHighlights_ ? 'always' : 'never';\n\t\t}\n\n\t\treturn showHighlights_;\n\t}\n\n\t/**\n\t * Return the config.query setting from the host page or from the URL.\n\t *\n\t * If the host page contains a js-hypothesis-config script containing a\n\t * query setting then return that.\n\t *\n\t * Otherwise if the host page's URL has a `#annotations:query:*` (or\n\t * `#annotations:q:*`) fragment then return the query value from that.\n\t *\n\t * Otherwise return null.\n\t *\n\t * @return {string|null} - The config.query setting, or null.\n\t */\n\tfunction query() {\n\n\t\t/** Return the query from the URL, or null. */\n\t\tfunction queryFromURL() {\n\t\t\tvar queryFragmentMatch = window_.location.href.match(/#webannotations:(query|q):(.+)$/i);\n\t\t\tif (queryFragmentMatch) {\n\t\t\t\ttry {\n\t\t\t\t\treturn decodeURIComponent(queryFragmentMatch[2]);\n\t\t\t\t} catch (err) {\n\t\t\t\t\t// URI Error should return the page unfiltered.\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn null;\n\t\t}\n\n\t\treturn jsonConfigs.query || queryFromURL();\n\t}\n\n\tfunction hostPageSetting(name, options = {}) {\n\t\tvar allowInBrowserExt = options.allowInBrowserExt || false;\n\t\tvar hasDefaultValue = typeof options.defaultValue !== 'undefined';\n\n\t\tif (!allowInBrowserExt && isBrowserExtension(sidebarAppUrl())) {\n\t\t\treturn hasDefaultValue ? options.defaultValue : null;\n\t\t}\n\n\t\tif (configFuncSettings.hasOwnProperty(name)) {\n\t\t\treturn configFuncSettings[name];\n\t\t}\n\n\t\tif (jsonConfigs.hasOwnProperty(name)) {\n\t\t\treturn jsonConfigs[name];\n\t\t}\n\n\t\tif (hasDefaultValue) {\n\t\t\treturn options.defaultValue;\n\t\t}\n\n\t\treturn null;\n\t}\n\n\treturn {\n\t\tget annotations() { return annotations(); },\n\t\tget clientUrl() { return clientUrl(); },\n\t\tget showHighlights() { return showHighlights(); },\n\t\tget sidebarAppUrl() { return sidebarAppUrl(); },\n\t\tget clipperAppUrl() { return clipperAppUrl(); },\n\t\tget query() { return query(); },\n\t\tget group() { return group(); },\n\t\tget client() { return client() },\n\t\tget linkId() { return linkId() },\n\t\tget startTime() { return startTime() },\n\t\tget browserExtension() { return browserExtension() },\n\t\thostPageSetting: hostPageSetting,\n\t};\n}\n\nmodule.exports = settingsFrom;\n",
    "var $, Delegator,\n  slice = [].slice,\n  hasProp = {}.hasOwnProperty;\n\n$ = require('jquery');\n\n\n/*\n** Adapted from:\n** https://github.com/openannotation/annotator/blob/v1.2.x/src/class.coffee\n**\n** Annotator v1.2.10\n** https://github.com/openannotation/annotator\n**\n** Copyright 2015, the Annotator project contributors.\n** Dual licensed under the MIT and GPLv3 licenses.\n** https://github.com/openannotation/annotator/blob/master/LICENSE\n */\n\nmodule.exports = Delegator = (function() {\n  Delegator.prototype.events = {};\n\n  Delegator.prototype.options = {};\n\n  Delegator.prototype.element = null;\n\n  function Delegator(element, config) {\n    this.options = $.extend(true, {}, this.options, config);\n    this.element = $(element);\n    this._closures = {};\n    this.on = this.subscribe;\n    this.addEvents();\n  }\n\n  Delegator.prototype.destroy = function() {\n    return this.removeEvents();\n  };\n\n  Delegator.prototype.addEvents = function() {\n    var event, i, len, ref, results;\n    ref = Delegator._parseEvents(this.events);\n    results = [];\n    for (i = 0, len = ref.length; i < len; i++) {\n      event = ref[i];\n      results.push(this._addEvent(event.selector, event.event, event.functionName));\n    }\n    return results;\n  };\n\n  Delegator.prototype.removeEvents = function() {\n    var event, i, len, ref, results;\n    ref = Delegator._parseEvents(this.events);\n    results = [];\n    for (i = 0, len = ref.length; i < len; i++) {\n      event = ref[i];\n      results.push(this._removeEvent(event.selector, event.event, event.functionName));\n    }\n    return results;\n  };\n\n  Delegator.prototype._addEvent = function(selector, event, functionName) {\n    var closure;\n    closure = (function(_this) {\n      return function() {\n        return _this[functionName].apply(_this, arguments);\n      };\n    })(this);\n    if (selector === '' && Delegator._isCustomEvent(event)) {\n      this.subscribe(event, closure);\n    } else {\n      this.element.delegate(selector, event, closure);\n    }\n    this._closures[selector + \"/\" + event + \"/\" + functionName] = closure;\n    return this;\n  };\n\n  Delegator.prototype._removeEvent = function(selector, event, functionName) {\n    var closure;\n    closure = this._closures[selector + \"/\" + event + \"/\" + functionName];\n    if (selector === '' && Delegator._isCustomEvent(event)) {\n      this.unsubscribe(event, closure);\n    } else {\n      this.element.undelegate(selector, event, closure);\n    }\n    delete this._closures[selector + \"/\" + event + \"/\" + functionName];\n    return this;\n  };\n\n  Delegator.prototype.publish = function() {\n    this.element.triggerHandler.apply(this.element, arguments);\n    return this;\n  };\n\n  Delegator.prototype.subscribe = function(event, callback) {\n    var closure;\n    closure = function() {\n      return callback.apply(this, [].slice.call(arguments, 1));\n    };\n    closure.guid = callback.guid = ($.guid += 1);\n    this.element.bind(event, closure);\n    return this;\n  };\n\n  Delegator.prototype.unsubscribe = function() {\n    this.element.unbind.apply(this.element, arguments);\n    return this;\n  };\n\n  return Delegator;\n\n})();\n\nDelegator._parseEvents = function(eventsObj) {\n  var event, events, functionName, i, ref, sel, selector;\n  events = [];\n  for (sel in eventsObj) {\n    functionName = eventsObj[sel];\n    ref = sel.split(' '), selector = 2 <= ref.length ? slice.call(ref, 0, i = ref.length - 1) : (i = 0, []), event = ref[i++];\n    events.push({\n      selector: selector.join(' '),\n      event: event,\n      functionName: functionName\n    });\n  }\n  return events;\n};\n\nDelegator.natives = (function() {\n  var key, specials, val;\n  specials = (function() {\n    var ref, results;\n    ref = $.event.special;\n    results = [];\n    for (key in ref) {\n      if (!hasProp.call(ref, key)) continue;\n      val = ref[key];\n      results.push(key);\n    }\n    return results;\n  })();\n  return \"blur focus focusin focusout load resize scroll unload click dblclick\\nmousedown mouseup mousemove mouseover mouseout mouseenter mouseleave\\nchange select submit keydown keypress keyup error\".split(/[^a-z]+/).concat(specials);\n})();\n\nDelegator._isCustomEvent = function(event) {\n  event = event.split('.')[0];\n  return $.inArray(event, Delegator.natives) === -1;\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvZGVsZWdhdG9yLmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvYW5ub3RhdG9yL2RlbGVnYXRvci5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxZQUFBO0VBQUE7OztBQUFBLENBQUEsR0FBSSxPQUFBLENBQVEsUUFBUjs7O0FBRUo7Ozs7Ozs7Ozs7OztBQWVBLE1BQU0sQ0FBQyxPQUFQLEdBQXVCO3NCQUdyQixNQUFBLEdBQVE7O3NCQUdSLE9BQUEsR0FBUzs7c0JBR1QsT0FBQSxHQUFTOztFQWdCSSxtQkFBQyxPQUFELEVBQVUsTUFBVjtJQUNYLElBQUMsQ0FBQSxPQUFELEdBQVcsQ0FBQyxDQUFDLE1BQUYsQ0FBUyxJQUFULEVBQWUsRUFBZixFQUFtQixJQUFDLENBQUEsT0FBcEIsRUFBNkIsTUFBN0I7SUFDWCxJQUFDLENBQUEsT0FBRCxHQUFXLENBQUEsQ0FBRSxPQUFGO0lBSVgsSUFBQyxDQUFBLFNBQUQsR0FBYTtJQUViLElBQUksQ0FBQyxFQUFMLEdBQVUsSUFBSSxDQUFDO0lBQ2YsSUFBSSxDQUFDLFNBQUwsQ0FBQTtFQVRXOztzQkFjYixPQUFBLEdBQVMsU0FBQTtXQUNQLElBQUksQ0FBQyxZQUFMLENBQUE7RUFETzs7c0JBNEJULFNBQUEsR0FBVyxTQUFBO0FBQ1QsUUFBQTtBQUFBO0FBQUE7U0FBQSxxQ0FBQTs7bUJBQ0UsSUFBSSxDQUFDLFNBQUwsQ0FBZSxLQUFLLENBQUMsUUFBckIsRUFBK0IsS0FBSyxDQUFDLEtBQXJDLEVBQTRDLEtBQUssQ0FBQyxZQUFsRDtBQURGOztFQURTOztzQkFXWCxZQUFBLEdBQWMsU0FBQTtBQUNaLFFBQUE7QUFBQTtBQUFBO1NBQUEscUNBQUE7O21CQUNFLElBQUksQ0FBQyxZQUFMLENBQWtCLEtBQUss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\n",
    "'use strict';\r\n\r\nfunction isAllowedElement(node) {\r\n\tif(allowedElements().indexOf(node.tagName) == -1) {\r\n\t\treturn false;\r\n\t}\r\n\treturn true;\r\n}\r\n\r\nfunction allowedElements() {\r\n  return [\"IMG\",\"CANVAS\",\"TABLE\"];\r\n}\r\n\r\n\r\nmodule.exports = {\r\n  isAllowedElement: isAllowedElement,\r\n  allowedElements: allowedElements,\r\n};",
    "'use strict';\n\nconst events = require('../shared/bridge-events');\n\nlet _features = {};\n\nconst _set = (features) => {\n  _features = features || {};\n};\n\n\nmodule.exports = {\n\n  init: function(crossframe) {\n    crossframe.on(events.FEATURE_FLAGS_UPDATED, _set);\n  },\n\n  reset: function() {\n    _set({});\n  },\n\n  flagEnabled: function(flag) {\n    if (!(flag in _features)) {\n      console.warn('looked up unknown feature', flag);\n      return false;\n    }\n    return _features[flag];\n  },\n\n};\n",
    "'use strict';\n\nlet FrameUtil = require('./util/frame-util');\nlet debounce = require('lodash.debounce');\n\n// Find difference of two arrays\nlet difference = (arrayA, arrayB) => {\n  return arrayA.filter(x => !arrayB.includes(x));\n};\n\nconst DEBOUNCE_WAIT = 40;\n\nclass FrameObserver {\n\n  constructor (target) {\n    this._target = target;\n    this._handledFrames = [];\n\n    this._mutationObserver = new MutationObserver(debounce(() => {\n      this._discoverFrames();\n    }, DEBOUNCE_WAIT));\n  }\n\n  observe (onFrameAddedCallback, onFrameRemovedCallback) {\n    this._onFrameAdded = onFrameAddedCallback;\n    this._onFrameRemoved = onFrameRemovedCallback;\n\n    this._discoverFrames();\n    this._mutationObserver.observe(this._target, {\n      childList: true,\n      subtree: true,\n    });\n  }\n\n  disconnect () {\n    this._mutationObserver.disconnect();\n  }\n\n  _addFrame (frame) {\n    if (FrameUtil.isAccessible(frame)) {\n      FrameUtil.isDocumentReady(frame, () => {\n        frame.contentWindow.addEventListener('unload', () => {\n          this._removeFrame(frame);\n        });\n        this._handledFrames.push(frame);\n        this._onFrameAdded(frame);\n      });\n    } else {\n      // Could warn here that frame was not cross origin accessible\n    }\n  }\n\n  _removeFrame (frame) {\n    this._onFrameRemoved(frame);\n\n    // Remove the frame from our list\n    this._handledFrames = this._handledFrames.filter(x => x !== frame);\n  }\n\n  _discoverFrames () {\n    let frames = FrameUtil.findFrames(this._target);\n\n    for (let frame of frames) {\n      if (!this._handledFrames.includes(frame)) {\n        this._addFrame(frame);\n      }\n    }\n\n    for (let frame of difference(this._handledFrames, frames)) {\n      this._removeFrame(frame);\n    }\n  }\n}\nFrameObserver.DEBOUNCE_WAIT = DEBOUNCE_WAIT;\n\nmodule.exports = FrameObserver;",
    "'use strict';\r\nvar $ = require('jquery');\r\n\r\n\r\n\r\nmodule.exports = (function() {\r\n\tvar GS_SOURCE_URL = '.gs_or_ggsm a';\r\n\tvar GS_ROOT = '.gs_ri';\r\n\tvar GS_HEADER = '.gs_rt a';\r\n\tvar GS_APYW = '.gs_a';  // AUTHOR, PUBLICATION, YEAR OF PUBLICATION, WEBSITE OF PUBLICATION\r\n\tvar GS_DESCRIPTION  = '.gs_rs'; // \r\n\tvar GS_FOOTER = '.gs_fl a'; // Cited by URL,Related Articles , All versions \r\n\t\r\n\tvar GS_CITE_TABLE = '#gs_citt'; // Cite table\r\n\tvar GS_CITE_TH = '.gs_cith'; // Cite key \r\n\tvar GS_CITE_TR = '.gs_citr'; // Cite value\r\n\tvar GS_CITE_LINKS = 'a.gs_citi'; // Cite links \r\n\r\n\tvar metaKeyPrefix = \"GS_\";\r\n\r\n\tfunction getSourceUrlInfo(gs) {\r\n\t\tvar obj = {};\r\n\t\tvar sourceAnchor = gs.find(GS_SOURCE_URL);\r\n\t\tif(sourceAnchor.length == 1) {\r\n\t\t\tvar sourceText = sourceAnchor.text();\r\n\t\t\tif(sourceText && sourceText.includes('[PDF]')) {\r\n\t\t\t\tobj[metaKeyPrefix+\"sourceUrl\"] = sourceAnchor[0].href;\r\n\t\t\t\tobj[metaKeyPrefix+\"sourceUrlText\"] = sourceText;\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn obj;\r\n\t}\r\n\t\r\n\tfunction getUrlInfo(gs) {\r\n\t\tvar obj = {};\r\n\t\tvar titleAnchor = gs.find(GS_HEADER);\r\n\t\tif(titleAnchor.length == 1) {\r\n\t\t\tobj[metaKeyPrefix+\"title\"] = titleAnchor.text();\r\n\t\t\tobj[metaKeyPrefix+\"url\"] = titleAnchor[0].href;\r\n\t\t\tobj[metaKeyPrefix+\"publicationWebsite\"] = titleAnchor[0].hostname;\r\n\t\t}\r\n\t\t\r\n\t\treturn obj;\r\n\t}\r\n\r\n\r\n\tfunction getDescription(gs) {\r\n\t\tvar obj = {};\r\n\t\tvar desEl = gs.find(GS_DESCRIPTION);\r\n\t\tif(desEl.length == 1) {\r\n\t\t\tobj[metaKeyPrefix+\"description\"] = desEl.text();\r\n\t\t}\r\n\t\t\r\n\t\treturn obj;\r\n\t}\r\n\r\n\tfunction getCitationInfo(gs) {\r\n\t\tvar obj = {};\r\n\t\tvar gs_aEl = gs.find(GS_APYW);\r\n\t\tif(gs_aEl.length == 1) {\r\n\t\t\tvar gsAText = gs_aEl.text();\r\n\t\t\tif(gsAText) {\r\n\t\t\t\tif(gsAText.includes('-')) {\r\n\t\t\t\t\tvar apyw = gsAText.split('-');\r\n\t\t\t\t\tif(apyw.length > 0) {\r\n\t\t\t\t\t\tfor(var i = 0;i<apyw.length;i++) {\r\n\t\t\t\t\t\t\tif(i == 0) {\r\n\t\t\t\t\t\t\t\tobj[metaKeyPrefix+\"Authors\"] = apyw[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(i == 1) {\r\n\t\t\t\t\t\t\t\tvar yearOfPublication = apyw[i].match(/\\d{4}/);\r\n\t\t\t\t\t\t\t\tif(yearOfPublication) {\r\n\t\t\t\t\t\t\t\t\tobj[metaKeyPrefix+\"YearOfPublication\"] = yearOfPublication[0];\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tif(i == 2) {\r\n\t\t\t\t\t\t\t\tobj[metaKeyPrefix+\"Publication\"] = apyw[i];\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn obj;\r\n\t}\r\n\r\n\tfunction getRelatedCitationInfo(gs) {\r\n\t\tvar footerAnchors = gs.find(GS_FOOTER);\r\n\t\tvar obj = {};\r\n\t\tif(footerAnchors.length > 0) {\r\n\t\t\tfooterAnchors.each(function(index,element) {\r\n\t\t\t\tvar href = $(element).attr('href');\r\n\t\t\t\tif(href && href.includes('cites=')) {\r\n\t\t\t\t\tvar citedByText = $(element).text();\r\n\t\t\t\t\tobj[metaKeyPrefix+\"CitedByUrl\"] = element.href;\r\n\t\t\t\t\tif (citedByText) {\r\n\t\t\t\t\t\tvar citations  = citedByText.match(/\\d+/);\r\n\t\t\t\t\t\tif(citations) {\r\n\t\t\t\t\t\t\tobj[metaKeyPrefix+\"Citations\"] = citations[0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(href && href.includes('related:')) {\r\n\t\t\t\t\tobj[metaKeyPrefix+\"RelatedArticles\"] = element.href; \r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tif(href && href.includes('cluster=')) {\r\n\t\t\t\t\tvar versionsText = $(element).text();\r\n\t\t\t\t\tobj[metaKeyPrefix+\"AllVersionsUrl\"] = element.href;\r\n\t\t\t\t\tif (versionsText) {\r\n\t\t\t\t\t\tvar noOfVersions  = versionsText.match(/\\d+/);\r\n\t\t\t\t\t\tif(noOfVersions) {\r\n\t\t\t\t\t\t\tobj[metaKeyPrefix+\"NoOfVersions\"] = noOfVersions[0];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn obj;\r\n\t}\r\n\r\n\tfunction getCiteUrl(gs) {\r\n\t\tvar protocol = window.location.protocol+\"//\";\r\n\t\tvar host= window.location.hostname+\"/scholar?\";\r\n\t\tvar params = {\r\n\t\t\t\t\"q\" : \"info:\"+gs.attr('data-cid')+\":scholar.google.com/\",\r\n\t\t\t\t\"output\" : \"cite\"\r\n\t\t};\r\n\t\t\r\n\t\treturn protocol+host+$.param(params);\r\n\t}\r\n\t\r\n\tfunction getCite(gs) {\r\n\t\tvar url = getCiteUrl(gs);\r\n\t\treturn fetch(url).then(function (res) {\r\n\t\t      return res.text();\r\n\t    }).then(function (data) {\r\n\t    \tif(data && data.length > 0) {\r\n\t    \t\tvar $citeTable,$citeRow,$citeLinks;\r\n\t    \t\tvar citationMetaData = {};\r\n\t    \t\tvar citationLinks = {};\r\n\t    \t\t\r\n\t    \t\tvar $citD = $('<div></div>');\r\n\t    \t\t$citD.append(data);\r\n\t    \t\t\r\n\t    \t\t$citeTable = $citD.find(GS_CITE_TABLE);\r\n\t    \t\t$citeLinks = $citD.find(GS_CITE_LINKS);\r\n\t    \t\t\r\n\t    \t\tif($citeTable.length > 0) {\r\n\t    \t\t\t$citeRow = $citeTable.find('tbody tr');\r\n\t    \t\t\t$citeRow.each(function(index,tr) {\r\n\t\t    \t\t\tvar key = $(tr).find(GS_CITE_TH).text();\r\n\t\t    \t\t\tvar val = $(tr).find(GS_CITE_TR).text();\r\n\t\t    \t\t\tif(key && val) {\r\n\t\t    \t\t\t\tcitationMetaData[key.trim()] = val.trim();\r\n\t\t    \t\t\t}\r\n\t\t    \t\t});\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\tif($citeLinks.length > 0) {\r\n\t    \t\t\t$citeLinks.each(function(index,a) {\r\n\t    \t\t\t\tvar href = $(a).attr('href');\r\n\t    \t\t\t\tif(href) {\r\n\t    \t\t\t\t\tvar key = $(a).text();\r\n\t    \t\t\t\t\tvar val = a.href;\r\n\t    \t\t\t\t\tif (key && val) {\r\n\t    \t\t\t\t\t\tcitationLinks[key.trim()] = val;\r\n\t    \t\t\t\t\t}\r\n\t    \t\t\t\t}\r\n\t\t    \t\t});\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\t$citD.find(\"#gs_citi\").css(\"height\", \"40px\");\r\n\t    \t\t$citD.find(\"#gs_citi\").css(\"lineHeight\", \"40px\");\r\n\t    \t\t$citD.find(\"#gs_citi\").css(\"borderTop\", \"1px solid #ccc\");\r\n\t    \t\t$citD.find(\"#gs_citi\").css(\"textAlign\", \"center\");\r\n\t    \t\t\r\n\t    \t\t$citD.find('a').each(function(index,element) {\r\n\t    \t\t\t$(element).attr(\"target\",\"_blank\");\r\n\t    \t\t\t$(element).css(\"display\", \"block\");\r\n\t    \t\t\t$(element).css(\"textDecoration\", \"none\");\r\n\t    \t\t\t$(element).css( \"color\", \"#069\");\r\n\t    \t\t\t$(element).css(\"padding\", \"0px 10px\");\r\n\t    \t\t\t$(element).css(\"whiteSpace\", \"nowrap\");\r\n\t    \t\t\t$(element).css( \"overflow\", \"hidden\");\r\n\t    \t\t\t$(element).css(\"textOverflow\", \"ellipsis\");\r\n\t    \t\t\t$(element).css(\"paddingLeft\", \"0px\");\r\n\t    \t\t\t$(element).wrap('<div style=\"width: 25%;float: left;height: 40px;line-height: 40px;text-align: center;\"></div>');\r\n\t    \t\t});\r\n\t    \t\treturn {\r\n\t    \t\t\t\"citationMetaData\" : citationMetaData, \r\n\t\t    \t\t\"citationLinks\" : citationLinks,\r\n\t\t    \t\t\"citationHtml\" : $citD.html()\r\n\t    \t\t};\r\n\t    \t} else {\r\n\t    \t\treturn null;\r\n\t    \t}\r\n\t     \r\n\t    }).catch(function(error) {\r\n\t        return null;\r\n\t    });\r\n\t}\r\n\t\r\n\tfunction getMetaInfoFromScholar(gs) {\r\n\t\tvar info = {};\r\n\t\tvar urlInfo = getUrlInfo(gs);\r\n\t\tvar description = getDescription(gs);\r\n\t\tvar citationInfo = getCitationInfo(gs);\r\n\t\tvar relatedCitationInfo = getRelatedCitationInfo(gs);\r\n\t\tvar sourceUrlInfo = getSourceUrlInfo(gs);\r\n\t\t\r\n\t\treturn $.extend(info,urlInfo,description,citationInfo,relatedCitationInfo,sourceUrlInfo);\r\n\t}\r\n\t\r\n\treturn {\r\n\t\t  getMetaInfoFromScholar: getMetaInfoFromScholar,\r\n\t\t  prefix: metaKeyPrefix,\r\n\t\t  getCite: getCite\r\n\t};\r\n})();",
    "var $, CustomEvent, Delegator, Guest, adder, animationPromise, debounce, elementFilter, extend, gsmetaInfo, highlighter, htmlToMarkdown, normalizeURI, raf, rangeUtil, screenShot, scrollIntoView, selections, sharelink, viewtsdigest, xpathRange,\n  extend1 = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  slice = [].slice,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nextend = require('extend');\n\nraf = require('raf');\n\nscrollIntoView = require('scroll-into-view');\n\nCustomEvent = require('custom-event');\n\nDelegator = require('./delegator');\n\n$ = require('jquery');\n\nadder = require('./adder');\n\nscreenShot = require('./screenshot');\n\nsharelink = require('./share-link');\n\nviewtsdigest = require('./view-ts-digest');\n\nhtmlToMarkdown = require('./html-to-markdown').htmlToMarkdown;\n\nhighlighter = require('./highlighter');\n\nrangeUtil = require('./range-util');\n\nselections = require('./selections');\n\nxpathRange = require('./anchoring/range');\n\nnormalizeURI = require('./util/url').normalizeURI;\n\ndebounce = require('lodash.debounce');\n\nelementFilter = require('./element-filters');\n\ngsmetaInfo = require('./gs-extractor');\n\nanimationPromise = function(fn) {\n  return new Promise(function(resolve, reject) {\n    return raf(function() {\n      var error;\n      try {\n        return resolve(fn());\n      } catch (error1) {\n        error = error1;\n        return reject(error);\n      }\n    });\n  });\n};\n\nmodule.exports = Guest = (function(superClass) {\n  var GS_OR_SAVE, HTML_OBJECTS, SHOW_HIGHLIGHTS_CLASS;\n\n  extend1(Guest, superClass);\n\n  SHOW_HIGHLIGHTS_CLASS = 'annotator-highlights-always-on';\n\n  HTML_OBJECTS = elementFilter.allowedElements().join(\",\");\n\n  GS_OR_SAVE = \"a.gs_or_sav[role='button']\";\n\n  Guest.prototype.events = {\n    \".annotator-hl click\": \"onHighlightClick\",\n    \".annotator-hl mouseover\": \"onHighlightMouseover\",\n    \".annotator-hl mouseout\": \"onHighlightMouseout\",\n    \"click\": \"onElementClick\",\n    \"touchstart\": \"onElementTouchStart\"\n  };\n\n  Guest.prototype.options = {\n    Document: {},\n    TextSelection: {}\n  };\n\n  Guest.prototype.anchoring = require('./anchoring/html');\n\n  Guest.prototype.plugins = null;\n\n  Guest.prototype.anchors = null;\n\n  Guest.prototype.visibleHighlights = false;\n\n  Guest.prototype.frameIdentifier = null;\n\n  Guest.prototype.documentObserver = null;\n\n  Guest.prototype.headObserver = null;\n\n  Guest.prototype.headMutations = [];\n\n  Guest.prototype.htmlObjectAnntoations = false;\n\n  Guest.prototype.htmlObjectAnntoationsKey = \"htmlObjectAnntoationsKey\";\n\n  Guest.prototype.html = {\n    adder: '<hypothesis-adder></hypothesis-adder>'\n  };\n\n  function Guest(element, config) {\n    var cfOptions, debouncedFunction, name, opts, ref, self;\n    Guest.__super__.constructor.apply(this, arguments);\n    self = this;\n    this.adder = $(this.html.adder).appendTo(this.element).hide();\n    self.addIdToCanvasElements();\n    self.shareLinkCtrl = new sharelink.share();\n    self.viewTSDigestCtrl = new viewtsdigest.tsdigest();\n    self.screenShotCtrl = new screenShot(window, {\n      onCapture: function(coords, selection, range) {\n        self.createScreenShot(coords, selection, range);\n        return document.getSelection().removeAllRanges();\n      },\n      onCancel: function(coords, selection, range) {\n        var ref;\n        return (ref = self.crossframe) != null ? ref.call('showSidebar') : void 0;\n      },\n      isPdf: function() {\n        return self.isPdf();\n      },\n      scrollToPdfAnnotation: function(annotation, anchor, pageNO) {\n        return self.scrollToPdfAnnotation(annotation, anchor, pageNO);\n      }\n    });\n    this.adderCtrl = new adder.Adder(this.adder[0], {\n      onAnnotate: function() {\n        self.createAnnotation(null, document.getSelection());\n        return document.getSelection().removeAllRanges();\n      },\n      onHighlight: function() {\n        self.setVisibleHighlights(true);\n        self.createHighlight(document.getSelection());\n        return document.getSelection().removeAllRanges();\n      },\n      onShareHighlight: function() {\n        self.setVisibleHighlights(true);\n        self.createAnnotation({\n          $highlight: true,\n          $share: true\n        }, document.getSelection());\n        return document.getSelection().removeAllRanges();\n      },\n      onInclude: function() {\n        self.includeSelection();\n        return document.getSelection().removeAllRanges();\n      },\n      onExclude: function() {\n        self.excludeSelection();\n        return document.getSelection().removeAllRanges();\n      },\n      onLogin: function() {\n        return self.requestLogin();\n      },\n      onGroupChange: function() {\n        return self.requestGroupChange();\n      }\n    });\n    this.adderCtrl.disableClipperCommands();\n    this.selections = selections(document).subscribe({\n      next: function(range) {\n        if (range) {\n          return self._onSelection(range);\n        } else {\n          return self._onClearSelection();\n        }\n      }\n    });\n    this.plugins = {};\n    this.anchors = [];\n    this.frameIdentifier = config.subFrameIdentifier || null;\n    cfOptions = {\n      config: config,\n      on: (function(_this) {\n        return function(event, handler) {\n          return _this.subscribe(event, handler);\n        };\n      })(this),\n      emit: (function(_this) {\n        return function() {\n          var args, event;\n          event = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n          return _this.publish(event, args);\n        };\n      })(this)\n    };\n    this.addPlugin('CrossFrame', cfOptions);\n    this.crossframe = this.plugins.CrossFrame;\n    this.crossframe.onConnect((function(_this) {\n      return function() {\n        return _this._setupInitialState(config);\n      };\n    })(this));\n    this._connectAnnotationSync(this.crossframe);\n    this._connectAnnotationUISync(this.crossframe);\n    ref = this.options;\n    for (name in ref) {\n      if (!hasProp.call(ref, name)) continue;\n      opts = ref[name];\n      if (!this.plugins[name] && this.options.pluginClasses[name]) {\n        this.addPlugin(name, opts);\n      }\n    }\n\n    /*\n    this.urlChanges = urlChanges(this.plugins.Document).subscribe\n      next: (url) =>\n        @crossframe.call 'urlChanged', url\n     */\n    debouncedFunction = debounce(((function(_this) {\n      return function(mutations) {\n        var anchor, i, len, ref1;\n        self.enableOrDisableHtmlObjectAnnotaion(self.htmlObjectAnntoations, false);\n        self.addIdToCanvasElements();\n        self.attachEventToGoogleScholarSave();\n        try {\n          ref1 = self.anchors;\n          for (i = 0, len = ref1.length; i < len; i++) {\n            anchor = ref1[i];\n            if (anchor.annotation.$orphan) {\n              self.anchor(anchor.annotation);\n            }\n          }\n        } catch (error1) {\n\n        }\n      };\n    })(this)), 1000);\n\n    /*\n    debouncedHeadFunction = debounce(\n      (\n        (mutations) => \n          console.log(mutations)\n          mutations.forEach (mutation) ->\n            if mutation.target.nodeName == \"title\"\n              window.location.reload()\n              return false  \n          @headMutations = []\n      )\n    ,1000)\n     */\n    this.documentObserver = new MutationObserver((function(_this) {\n      return function(mutations) {\n        return debouncedFunction(mutations);\n      };\n    })(this));\n    this.documentObserver.observe(document.body, {\n      childList: true,\n      subtree: true\n    });\n\n    /*\n    @headObserver = new MutationObserver(\n      (mutations) =>\n        @headMutations = @headMutations.concat(mutations) \n        debouncedHeadFunction(@headMutations)\n    )\n    \n    @headObserver.observe(document.head,{\n      childList: true\n      subtree: true\n      characterData: true\n      attributeFilter: ['name','property','content']\n    })\n     */\n    this.crossframe.on('HTML_OBJ_ANNOTATIONS', (function(_this) {\n      return function(enable) {\n        if (enable === 'true') {\n          return self.enableOrDisableHtmlObjectAnnotaion(true, false);\n        } else {\n          return self.enableOrDisableHtmlObjectAnnotaion(false, false);\n        }\n      };\n    })(this));\n    $(window).on('focus', function(event) {\n      var ref1;\n      if ((ref1 = self.crossframe) != null) {\n        ref1.call('windowFocus');\n      }\n      self.shareLinkCtrl.focus();\n      return self.viewTSDigestCtrl.focus();\n    });\n    $(window).on('beforeunload', function(event) {\n      self.shareLinkCtrl.close();\n      return self.viewTSDigestCtrl.close();\n    });\n  }\n\n  Guest.prototype.handleMouseOver = function(ev) {\n    var range, sel;\n    sel = document.getSelection();\n    sel.removeAllRanges();\n    ev.stopPropagation();\n    ev.preventDefault();\n    range = document.createRange();\n    if (ev.currentTarget.nodeName === \"CANVAS\" && $(ev.currentTarget).siblings(\"canvas\").length > 0) {\n      range.selectNode(ev.target.parentElement);\n    } else {\n      range.selectNode(ev.currentTarget);\n    }\n    self.selectedRanges = [range];\n    return sel.addRange(range);\n  };\n\n  Guest.prototype.saveGSWebResource = function(ev) {\n    var addToTaskSpace, doc, gsInfo, gsInfoEl, prefix, self;\n    self = this;\n    prefix = gsmetaInfo.prefix;\n    doc = {};\n    addToTaskSpace = function(cite) {\n      var ref;\n      if (cite) {\n        doc[\"citations\"] = cite;\n      }\n      self.publish('addToTaskSpace', [doc]);\n      return (ref = self.crossframe) != null ? ref.call('showSidebar') : void 0;\n    };\n    gsInfoEl = $(ev.currentTarget).closest('[data-rp]');\n    if (gsInfoEl.length > 0) {\n      gsInfo = gsmetaInfo.getMetaInfoFromScholar(gsInfoEl);\n      doc.isGoogleScholarResource = true;\n      doc.document = {\n        title: gsInfo[prefix + \"title\"],\n        uri: gsInfo[prefix + \"url\"]\n      };\n      doc.uri = gsInfo[prefix + \"url\"];\n      doc.googleScholarMetaInfo = gsInfo;\n      gsmetaInfo.getCite(gsInfoEl).then(addToTaskSpace);\n    }\n  };\n\n  Guest.prototype.addIdToCanvasElements = function() {\n    var canvasEls;\n    canvasEls = $(document).find(\"canvas\");\n    if (canvasEls.length > 0) {\n      return canvasEls.each((function(_this) {\n        return function(index, element) {\n          $(element).attr(\"data-hid\", index);\n        };\n      })(this));\n    }\n  };\n\n  Guest.prototype.attachEventToGoogleScholarSave = function() {\n    var debouncedFunction, self, timeout;\n    self = this;\n    timeout = 2000;\n    debouncedFunction = debounce(((function(_this) {\n      return function(ev) {\n        return self.saveGSWebResource(ev);\n      };\n    })(this)), timeout);\n    if (document.URL.indexOf('https://scholar.google') > -1) {\n      $(GS_OR_SAVE).off(\"click\");\n      return $(GS_OR_SAVE).on(\"click\", function(ev) {\n        return debouncedFunction(ev);\n      });\n    }\n  };\n\n  Guest.prototype.attachEventToHtmlObjects = function() {\n    var debouncedFunction, self, timeout;\n    self = this;\n    timeout = 1000;\n    debouncedFunction = debounce(((function(_this) {\n      return function(ev) {\n        return self.handleMouseOver(ev);\n      };\n    })(this)), timeout);\n    return $(HTML_OBJECTS).on(\"mouseover\", function(ev) {\n      return debouncedFunction(ev);\n    });\n  };\n\n  Guest.prototype.removeEventToHtmlObjects = function() {\n    return $(HTML_OBJECTS).off(\"mouseover\");\n  };\n\n  Guest.prototype.enableOrDisableHtmlObjectAnnotaion = function(enable, removeRanges) {\n    var sel;\n    this.htmlObjectAnntoations = enable;\n    this.removeEventToHtmlObjects();\n    sel = document.getSelection();\n    if (removeRanges) {\n      sel.removeAllRanges();\n      this.crossframe.call('HTML_OBJ_ANNOTATIONS', enable);\n    }\n    if (enable) {\n      this.attachEventToHtmlObjects();\n      if (this.plugins.Toolbar != null) {\n        return this.plugins.Toolbar.enableObjectAnnotations();\n      }\n    } else if (this.plugins.Toolbar != null) {\n      return this.plugins.Toolbar.disableObjectAnnotations();\n    }\n  };\n\n  Guest.prototype.addPlugin = function(name, options) {\n    var base, klass;\n    if (this.plugins[name]) {\n      console.error(\"You cannot have more than one instance of any plugin.\");\n    } else {\n      klass = this.options.pluginClasses[name];\n      if (typeof klass === 'function') {\n        this.plugins[name] = new klass(this.element[0], options);\n        this.plugins[name].annotator = this;\n        this.plugins[name].clipper = this;\n        if (typeof (base = this.plugins[name]).pluginInit === \"function\") {\n          base.pluginInit();\n        }\n      } else {\n        console.error(\"Could not load \" + name + \" plugin. Have you included the appropriate <script> tag?\");\n      }\n    }\n    return this;\n  };\n\n  Guest.prototype.getDocumentInfo = function() {\n    var metadataPromise, uriPromise;\n    if (this.plugins.PDF != null) {\n      metadataPromise = Promise.resolve(this.plugins.PDF.getMetadata());\n      uriPromise = Promise.resolve(this.plugins.PDF.uri());\n    } else if (this.plugins.Document != null) {\n      uriPromise = Promise.resolve(this.plugins.Document.uri());\n      metadataPromise = Promise.resolve(this.plugins.Document.getDocumentMetadata());\n    } else {\n      uriPromise = Promise.reject();\n      metadataPromise = Promise.reject();\n    }\n    uriPromise = uriPromise[\"catch\"](function() {\n      return decodeURIComponent(window.location.href);\n    });\n    metadataPromise = metadataPromise[\"catch\"](function() {\n      return {\n        title: document.title,\n        link: [\n          {\n            href: decodeURIComponent(window.location.href)\n          }\n        ]\n      };\n    });\n    return Promise.all([metadataPromise, uriPromise]).then((function(_this) {\n      return function(arg) {\n        var href, metadata;\n        metadata = arg[0], href = arg[1];\n        return {\n          uri: normalizeURI(href),\n          metadata: metadata,\n          frameIdentifier: _this.frameIdentifier\n        };\n      };\n    })(this));\n  };\n\n  Guest.prototype._setupInitialState = function(config) {\n    this.publish('panelReady');\n    return this.setVisibleHighlights(config.showHighlights === 'always');\n  };\n\n  Guest.prototype._connectAnnotationSync = function(crossframe) {\n    this.subscribe('annotationDeleted', (function(_this) {\n      return function(annotation) {\n        return _this.detach(annotation);\n      };\n    })(this));\n    return this.subscribe('annotationsLoaded', (function(_this) {\n      return function(annotations) {\n        var annotation, i, len, results;\n        results = [];\n        for (i = 0, len = annotations.length; i < len; i++) {\n          annotation = annotations[i];\n          results.push(_this.anchor(annotation));\n        }\n        return results;\n      };\n    })(this));\n  };\n\n  Guest.prototype._connectAnnotationUISync = function(crossframe) {\n    crossframe.on('focusAnnotations', (function(_this) {\n      return function(tags) {\n        var anchor, i, len, ref, ref1, results, toggle;\n        if (tags == null) {\n          tags = [];\n        }\n        ref = _this.anchors;\n        results = [];\n        for (i = 0, len = ref.length; i < len; i++) {\n          anchor = ref[i];\n          if (!(anchor.highlights != null)) {\n            continue;\n          }\n          toggle = (ref1 = anchor.annotation.$tag, indexOf.call(tags, ref1) >= 0);\n          results.push($(anchor.highlights).toggleClass('annotator-hl-focused', toggle));\n        }\n        return results;\n      };\n    })(this));\n    crossframe.on('setSession', (function(_this) {\n      return function(session) {\n        return _this.adderCtrl.setSession(session);\n      };\n    })(this));\n    crossframe.on('setGroup', (function(_this) {\n      return function(group) {\n        _this.adderCtrl.setGroup(group);\n        if (_this.plugins.Toolbar != null) {\n          _this.plugins.Toolbar.disableOrEnableSidebarBtns(group);\n        }\n        return $(document).mouseup();\n      };\n    })(this));\n    crossframe.on('shareLink', (function(_this) {\n      return function(link) {\n        return _this.shareLinkCtrl.open(link.url);\n      };\n    })(this));\n    crossframe.on('viewTSDigest', (function(_this) {\n      return function(link) {\n        return _this.viewTSDigestCtrl.open(link.url);\n      };\n    })(this));\n    crossframe.on('capture', (function(_this) {\n      return function(imageInfo) {\n        var ref;\n        return (ref = _this.crossframe) != null ? ref.call('showSidebar') : void 0;\n      };\n    })(this));\n    crossframe.on('createScreenShotAnnotation', (function(_this) {\n      return function(annotation) {\n        return _this.createScreenShotAnnotation(annotation);\n      };\n    })(this));\n    crossframe.on('closeShareLink', (function(_this) {\n      return function() {\n        return _this.shareLinkCtrl.close();\n      };\n    })(this));\n    crossframe.on('closeViewTSDigest', (function(_this) {\n      return function() {\n        return _this.viewTSDigestCtrl.close();\n      };\n    })(this));\n    crossframe.on('hideSidePaneToolbar', (function(_this) {\n      return function(data) {\n        if (_this.plugins.Toolbar != null) {\n          return _this.plugins.Toolbar.hideSidePaneToolbar(data.hide, data.group);\n        }\n      };\n    })(this));\n    crossframe.on('scrollToAnnotation', (function(_this) {\n      return function(annotation) {\n        var anchor, coords, defaultNotPrevented, element, event, i, len, pageNo, parent, ref;\n        _this.screenShotCtrl.removeAreaHighlight();\n        _this.screenShotCtrl.resetSelectedScreenshot();\n        ref = _this.anchors;\n        for (i = 0, len = ref.length; i < len; i++) {\n          anchor = ref[i];\n          if (anchor.highlights != null) {\n            if (anchor.annotation.$tag === annotation.$tag) {\n              event = new CustomEvent('scrolltorange', {\n                bubbles: true,\n                cancelable: true,\n                detail: anchor.range\n              });\n              defaultNotPrevented = _this.element[0].dispatchEvent(event);\n              if (defaultNotPrevented) {\n                if (annotation.annotationType === \"Screenshot\" && annotation.coordinates && annotation.coordinates.length > 0) {\n                  console.log(\"scrollToAnnotation: commonAncestorContainer from range created by selectors \" + anchor.range.commonAncestorContainer);\n                  if (_this.constructor.name === \"PdfSidebar\") {\n                    pageNo = _this.screenShotCtrl.getPdfPageByAnnot(anchor.highlights);\n                    _this.screenShotCtrl.highlightpdfScreenshotArea(annotation, anchor, pageNo);\n                    if (!_this.screenShotCtrl.pdfPageRendered(anchor.highlights)) {\n                      scrollIntoView(anchor.highlights[0]);\n                      return;\n                    } else {\n                      _this.scrollToPdfAnnotation(annotation, anchor, pageNo);\n                      return;\n                    }\n                  }\n                  parent = _this.screenShotCtrl.getCommonParent(anchor.highlights);\n                  element = _this.screenShotCtrl.highlightArea(parent || anchor.range.commonAncestorContainer, annotation.coordinates);\n                  if (element) {\n                    coords = _this.screenShotCtrl.getScrollCoords(element);\n                    window.scrollTo(coords.x, coords.y);\n                  } else {\n                    scrollIntoView(anchor.highlights[0]);\n                  }\n                  return;\n                }\n                scrollIntoView(anchor.highlights[0]);\n              }\n            }\n          }\n        }\n      };\n    })(this));\n    crossframe.on('getDocumentInfo', (function(_this) {\n      return function(cb) {\n        return _this.getDocumentInfo().then(function(info) {\n          return cb(null, info);\n        })[\"catch\"](function(reason) {\n          return cb(reason);\n        });\n      };\n    })(this));\n    return crossframe.on('setVisibleHighlights', (function(_this) {\n      return function(state) {\n        return _this.setVisibleHighlights(state);\n      };\n    })(this));\n  };\n\n  Guest.prototype.scrollToPdfAnnotation = function(annotation, anchor, pageNo) {\n    var element, parent;\n    parent = this.screenShotCtrl.getCommonParentForPdf(anchor.highlights);\n    element = this.screenShotCtrl.drawPdfScreenshotArea(annotation, pageNo);\n    if (element) {\n      return scrollIntoView(element[0]);\n    }\n  };\n\n  Guest.prototype.destroy = function() {\n    var name, plugin, ref;\n    $('#annotator-dynamic-style').remove();\n    $(GS_OR_SAVE).off(\"click\");\n    $(window).off('focus');\n    this.shareLinkCtrl.close();\n    this.viewTSDigestCtrl.close();\n    this.removeEventToHtmlObjects();\n    this.selections.unsubscribe();\n    this.adder.remove();\n    this.documentObserver.disconnect();\n    this.headObserver.disconnect();\n    this.element.find('.annotator-hl').each(function() {\n      $(this).contents().insertBefore(this);\n      return $(this).remove();\n    });\n    this.screenShotCtrl.removeAreaHighlight();\n    this.element.data('annotator', null);\n    ref = this.plugins;\n    for (name in ref) {\n      plugin = ref[name];\n      this.plugins[name].destroy();\n    }\n    return Guest.__super__.destroy.apply(this, arguments);\n  };\n\n  Guest.prototype.anchor = function(annotation, type, include) {\n    var anchor, anchoredTargets, anchors, deadHighlights, highlight, i, j, len, len1, locate, ref, ref1, ref2, root, self, sync, target;\n    self = this;\n    root = this.element[0];\n    anchors = [];\n    anchoredTargets = [];\n    deadHighlights = [];\n    if (annotation.target == null) {\n      annotation.target = [];\n    }\n    locate = function(target) {\n      var options, ref;\n      if (!((ref = target.selector) != null ? ref : []).some((function(_this) {\n        return function(s) {\n          return s.type === 'TextQuoteSelector' || s.type === 'ImageSelector';\n        };\n      })(this))) {\n        return Promise.resolve({\n          annotation: annotation,\n          target: target\n        });\n      }\n      options = {\n        cache: self.anchoringCache,\n        ignoreSelector: '[class^=\"annotator-\"]'\n      };\n      return self.anchoring.anchor(root, target.selector, options).then(function(range) {\n        return {\n          annotation: annotation,\n          target: target,\n          range: range\n        };\n      })[\"catch\"](function() {\n        return {\n          annotation: annotation,\n          target: target\n        };\n      });\n    };\n    highlight = function(anchor) {\n      if (anchor.range == null) {\n        return anchor;\n      }\n      return animationPromise(function() {\n        var error, highlights, normedRange, parent, range;\n        if (anchor.range.type === \"ImageAnchor\") {\n          if (anchor.range.textQuoteRange) {\n            try {\n              range = xpathRange.sniff(anchor.range.textQuoteRange);\n              normedRange = range.normalize(root);\n              anchor.range.normedRange = normedRange;\n            } catch (error1) {\n              error = error1;\n              console.log(error);\n            }\n          }\n          highlights = highlighter.highlightRange(anchor.range, type, include);\n        } else {\n          range = xpathRange.sniff(anchor.range);\n          normedRange = range.normalize(root);\n          highlights = highlighter.highlightRange(normedRange, type, include);\n        }\n        anchor.annotation._rangeCoords = rangeUtil.rangeRectInDocContext(anchor.range);\n        $(highlights).data('annotation', anchor.annotation);\n        $(highlights).attr('data-numici-annot', anchor.annotation.$tag);\n\n        /*\n        {top,left} = rangeUtil.computeOffsets($(highlights));\n        console.log(\"t-\"+top+\" l-\"+left)\n        console.log(anchor.annotation.coordinates)\n         */\n        if (annotation.annotationType === \"Screenshot\" || annotation.$screenshot) {\n          $(highlights).attr('class', \"numici-screenshot\");\n          if (anchor.annotation.coordinates && !anchor.annotation.id) {\n            if (anchor.range.commonAncestorContainer && !self.isPdf()) {\n              anchor.annotation.annotatedText = self.screenShotCtrl.getTextUndertheCoordinates($(highlights), anchor.annotation.coordinates);\n              parent = self.screenShotCtrl.getCommonParent($(highlights));\n              self.screenShotCtrl.calculateCoordinates(parent || anchor.range.commonAncestorContainer, anchor.annotation.coordinates);\n            }\n            if (self.isPdf() && anchor.annotation.coordinates) {\n              anchor.annotation.annotatedText = self.screenShotCtrl.getTextUnderthePdfCoordinates($(highlights), anchor.annotation.coordinates);\n            }\n          }\n        }\n        if (!anchor.annotation.coordinates) {\n          anchor.annotation.updateRect = true;\n          anchor.annotation.coordinates = rangeUtil.rangeRectInDocContext(anchor.range);\n        }\n        anchor.highlights = highlights;\n        return anchor;\n      });\n    };\n    sync = function(anchors) {\n      var anchor, hasAnchorableTargets, hasAnchoredTargets, i, len, ref, ref1;\n      hasAnchorableTargets = false;\n      hasAnchoredTargets = false;\n      for (i = 0, len = anchors.length; i < len; i++) {\n        anchor = anchors[i];\n        if (anchor.target.selector != null) {\n          hasAnchorableTargets = true;\n          if (anchor.range != null) {\n            hasAnchoredTargets = true;\n            break;\n          }\n        }\n      }\n      annotation.$orphan = hasAnchorableTargets && !hasAnchoredTargets;\n      self.anchors = self.anchors.concat(anchors);\n      if ((ref = self.plugins.BucketBar) != null) {\n        ref.update();\n      }\n      if ((ref1 = self.plugins.CrossFrame) != null) {\n        ref1.sync([annotation]);\n      }\n      return anchors;\n    };\n    ref = self.anchors.splice(0, self.anchors.length);\n    for (i = 0, len = ref.length; i < len; i++) {\n      anchor = ref[i];\n      if (anchor.annotation === annotation) {\n        if ((anchor.range != null) && (ref1 = anchor.target, indexOf.call(annotation.target, ref1) >= 0)) {\n          anchors.push(anchor);\n          anchoredTargets.push(anchor.target);\n        } else if (anchor.highlights != null) {\n          deadHighlights = deadHighlights.concat(anchor.highlights);\n          delete anchor.highlights;\n          delete anchor.range;\n        }\n      } else {\n        self.anchors.push(anchor);\n      }\n    }\n    raf(function() {\n      return highlighter.removeHighlights(deadHighlights);\n    });\n    ref2 = annotation.target;\n    for (j = 0, len1 = ref2.length; j < len1; j++) {\n      target = ref2[j];\n      if (!(indexOf.call(anchoredTargets, target) < 0)) {\n        continue;\n      }\n      anchor = locate(target).then(highlight);\n      anchors.push(anchor);\n    }\n    return Promise.all(anchors).then(sync);\n  };\n\n  Guest.prototype.anchorWebclip = function(annotation, type, include) {\n    var anchor, anchoredTargets, anchors, deadHighlights, highlight, i, len, locate, ref, root, scripts, self, sync, target;\n    self = this;\n    root = this.element[0];\n    anchors = [];\n    anchoredTargets = [];\n    deadHighlights = [];\n    if (annotation.target == null) {\n      annotation.target = [];\n    }\n    scripts = this.element.find('script').clone(true);\n    this.element.find('script').remove();\n    sync = function(anchors) {\n      self.element.append(scripts);\n      return anchors;\n    };\n    locate = function(target) {\n      var options, ref;\n      if (!((ref = target.selector) != null ? ref : []).some((function(_this) {\n        return function(s) {\n          return s.type === 'TextQuoteSelector' || s.type === 'ImageSelector';\n        };\n      })(this))) {\n        return Promise.resolve({\n          annotation: annotation,\n          target: target\n        });\n      }\n      options = {\n        cache: self.anchoringCache,\n        ignoreSelector: '[class^=\"webclip-\"]'\n      };\n      return self.anchoring.anchor(root, target.selector, options).then(function(range) {\n        return {\n          annotation: annotation,\n          target: target,\n          range: range\n        };\n      })[\"catch\"](function() {\n        return {\n          annotation: annotation,\n          target: target\n        };\n      });\n    };\n    highlight = function(anchor) {\n      if (anchor.range == null) {\n        return anchor;\n      }\n      return animationPromise(function() {\n        var highlights, normedRange, range;\n        range = xpathRange.sniff(anchor.range);\n        normedRange = range.normalize(root);\n        highlights = highlighter.highlightClipRange(normedRange, type, include);\n        $(highlights).data('annotation', anchor.annotation);\n        anchor.highlights = highlights;\n        return anchor;\n      });\n    };\n    ref = annotation.target;\n    for (i = 0, len = ref.length; i < len; i++) {\n      target = ref[i];\n      if (!(indexOf.call(anchoredTargets, target) < 0)) {\n        continue;\n      }\n      anchor = locate(target).then(highlight);\n      anchors.push(anchor);\n    }\n    return Promise.all(anchors).then(sync);\n  };\n\n  Guest.prototype.detach = function(annotation) {\n    var anchor, anchors, i, len, ref, ref1, ref2, targets, unhighlight;\n    anchors = [];\n    targets = [];\n    unhighlight = [];\n    ref = this.anchors;\n    for (i = 0, len = ref.length; i < len; i++) {\n      anchor = ref[i];\n      if (anchor.annotation === annotation) {\n        if (annotation.annotationType === \"Screenshot\") {\n          this.screenShotCtrl.removeAreaHighlight();\n        }\n        unhighlight.push((ref1 = anchor.highlights) != null ? ref1 : []);\n      } else {\n        anchors.push(anchor);\n      }\n    }\n    this.anchors = anchors;\n    unhighlight = (ref2 = Array.prototype).concat.apply(ref2, unhighlight);\n    return raf((function(_this) {\n      return function() {\n        var ref3;\n        highlighter.removeHighlights(unhighlight);\n        return (ref3 = _this.plugins.BucketBar) != null ? ref3.update() : void 0;\n      };\n    })(this));\n  };\n\n  Guest.prototype.isPdf = function() {\n    var self;\n    self = this;\n    return self.constructor.name === \"PdfSidebar\";\n  };\n\n  Guest.prototype.createAnnotation = function(annotation, selection) {\n    var getSelectors, info, metadata, ranges, ref, ref1, root, selectors, self, setDocumentInfo, setTargets, targets;\n    if (annotation == null) {\n      annotation = {};\n    }\n    self = this;\n    root = this.element[0];\n    ranges = (ref = this.selectedRanges) != null ? ref : [];\n    this.selectedRanges = null;\n    if (selection) {\n      if (selection.rangeCount === 0) {\n        ranges.forEach(function(range, index, ranges) {\n          return selection.addRange(range);\n        });\n      }\n      rangeUtil.extractContentFromSelection(selection, annotation, self.isPdf());\n    }\n    getSelectors = function(range) {\n      var options;\n      options = {\n        cache: self.anchoringCache,\n        ignoreSelector: '[class^=\"annotator-\"]'\n      };\n      return self.anchoring.describe(root, range, options);\n    };\n    setDocumentInfo = function(info) {\n      annotation.document = info.metadata;\n      return annotation.uri = info.uri;\n    };\n    setTargets = function(arg) {\n      var info, selector, selectors, source;\n      info = arg[0], selectors = arg[1];\n      source = info.uri;\n      annotation.target = (function() {\n        var i, len, results;\n        results = [];\n        for (i = 0, len = selectors.length; i < len; i++) {\n          selector = selectors[i];\n          results.push({\n            source: source,\n            selector: selector\n          });\n        }\n        return results;\n      })();\n      if (annotation.target && annotation.target.length === 0) {\n        return annotation.annotationType = \"Pagenote\";\n      }\n    };\n    info = this.getDocumentInfo();\n    selectors = Promise.all(ranges.map(getSelectors));\n    metadata = info.then(setDocumentInfo);\n    targets = Promise.all([info, selectors]).then(setTargets);\n    targets.then(function() {\n      return self.publish('beforeAnnotationCreated', [annotation]);\n    });\n    targets.then(function() {\n      return self.anchor(annotation);\n    });\n    if (annotation.$share || !annotation.$highlight || annotation.error) {\n      if ((ref1 = this.crossframe) != null) {\n        ref1.call('showSidebar');\n      }\n    }\n    return annotation;\n  };\n\n  Guest.prototype.createScreenShotAnnotation = function(annotation) {\n    var ref, self;\n    if (annotation == null) {\n      annotation = {};\n    }\n    self = this;\n\n    /*\n    div = document.createElement('div')\n    ptag = document.createElement('p')\n    textnode = document.createTextNode(annotation.annotatedText || \"\"); \n    img = document.createElement('img')\n    img.setAttribute(\"src\", annotation.screenshotUrl)\n    ptag.appendChild(textnode)\n    div.appendChild(ptag)\n    div.appendChild(img)\n    text = htmlToMarkdown(div.innerHTML)\n    annotation.formatedText = text\n     */\n    annotation.formatedText = null;\n    annotation.annotationType = \"Screenshot\";\n    self.publish('beforeAnnotationCreated', [annotation]);\n    if ((ref = this.crossframe) != null) {\n      ref.call('showSidebar');\n    }\n    return annotation;\n  };\n\n  Guest.prototype.addToTaskSpace = function(doc) {\n    var info, ref, self, setDocumentInfo;\n    if (doc == null) {\n      doc = {};\n    }\n    self = this;\n    setDocumentInfo = function(info) {\n      if (self.isPdf()) {\n        doc.isPdf = true;\n      }\n      doc.document = info.metadata;\n      return doc.uri = info.uri;\n    };\n    info = this.getDocumentInfo();\n    info.then(setDocumentInfo);\n    info.then(function() {\n      return self.publish('addToTaskSpace', [doc]);\n    });\n    if ((ref = this.crossframe) != null) {\n      ref.call('showSidebar');\n    }\n    return doc;\n  };\n\n  Guest.prototype.showDocumentInfo = function() {\n    var ref;\n    if ((ref = this.crossframe) != null) {\n      ref.call('showPageInfo');\n    }\n  };\n\n  Guest.prototype.shareDocument = function(doc) {\n    var info, ref, self, setDocumentInfo;\n    if (doc == null) {\n      doc = {};\n    }\n    self = this;\n    setDocumentInfo = function(info) {\n      if (self.isPdf()) {\n        doc.isPdf = true;\n      }\n      doc.document = info.metadata;\n      return doc.uri = info.uri;\n    };\n    info = this.getDocumentInfo();\n    info.then(setDocumentInfo);\n    info.then(function() {\n      return self.publish('shareDocument', [doc]);\n    });\n    if ((ref = this.crossframe) != null) {\n      ref.call('showSidebar');\n    }\n  };\n\n  Guest.prototype.screenShot = function() {\n    var ref;\n    this.screenShotCtrl.startScreenshot();\n    if ((ref = this.crossframe) != null) {\n      ref.call('hideCompleteSidebar');\n    }\n  };\n\n  Guest.prototype.createScreenShot = function(coords, selection, range) {\n    var annotation, getSelectors, info, metadata, ranges, root, selectors, self, setDocumentInfo, setTargets, targets;\n    self = this;\n    annotation = {};\n    annotation.screenshotInfo = coords.screenshotInfo;\n    annotation.$highlight = false;\n    annotation.$screenshot = true;\n    annotation.annotationType = \"Screenshot\";\n    root = this.element[0];\n    ranges = [range];\n    this.selectedRanges = null;\n    if (selection) {\n      rangeUtil.extractContentFromSelection(selection, annotation, self.isPdf());\n\n      /*\n       text = selection.toString()\n       text = text.replace(/(\\r\\n|\\n|\\r)/gm,\"\\n\")\n       annotation.annotatedText = text\n       */\n    }\n    getSelectors = function(range) {\n      var options;\n      options = {\n        cache: self.anchoringCache,\n        ignoreSelector: '[class^=\"annotator-\"]',\n        isScreenshot: true\n      };\n      return self.anchoring.describe(root, range, options);\n    };\n    setDocumentInfo = function(info) {\n      annotation.document = info.metadata;\n      return annotation.uri = info.uri;\n    };\n    setTargets = function(arg) {\n      var info, selector, selectors, source;\n      info = arg[0], selectors = arg[1];\n      source = info.uri;\n      return annotation.target = (function() {\n        var i, len, results;\n        results = [];\n        for (i = 0, len = selectors.length; i < len; i++) {\n          selector = selectors[i];\n          results.push({\n            source: source,\n            selector: selector\n          });\n        }\n        return results;\n      })();\n    };\n    annotation.coordinates = coords.coordinates;\n    info = this.getDocumentInfo();\n    selectors = Promise.all(ranges.map(getSelectors));\n    metadata = info.then(setDocumentInfo);\n    targets = Promise.all([info, selectors]).then(setTargets);\n    targets.then(function() {\n      return self.anchor(annotation).then(function() {\n        return self.publish('captureScreenShot', annotation);\n      })[\"catch\"](function() {\n        var ref;\n        return (ref = self.crossframe) != null ? ref.call('showSidebar') : void 0;\n      });\n    });\n  };\n\n  Guest.prototype.moveDocument = function() {\n    var ref, ref1;\n    if ((ref = this.crossframe) != null) {\n      ref.call('moveDocument');\n    }\n    if ((ref1 = this.crossframe) != null) {\n      ref1.call('showSidebar');\n    }\n  };\n\n  Guest.prototype.tagDocument = function(doc) {\n    var info, ref, self, setDocumentInfo;\n    if (doc == null) {\n      doc = {};\n    }\n    self = this;\n    setDocumentInfo = function(info) {\n      if (self.isPdf()) {\n        doc.isPdf = true;\n      }\n      doc.document = info.metadata;\n      return doc.uri = info.uri;\n    };\n    info = this.getDocumentInfo();\n    info.then(setDocumentInfo);\n    info.then(function() {\n      return self.publish('tagDocument', [doc]);\n    });\n    if ((ref = this.crossframe) != null) {\n      ref.call('showSidebar');\n    }\n  };\n\n  Guest.prototype.includeSelection = function(annotation) {\n    var getSelectors, info, metadata, ranges, ref, ref1, root, selectors, self, setDocumentInfo, setTargets, targets;\n    if (annotation == null) {\n      annotation = {};\n    }\n    self = this;\n    root = this.element[0];\n    ranges = (ref = this.selectedRanges) != null ? ref : [];\n    this.selectedRanges = null;\n    getSelectors = function(range) {\n      var options;\n      options = {\n        cache: self.anchoringCache,\n        ignoreSelector: '[class^=\"webclip-\"]'\n      };\n      return self.anchoring.describe(root, range, options);\n    };\n    setDocumentInfo = function(info) {\n      annotation.document = info.metadata;\n      return annotation.uri = info.uri;\n    };\n    setTargets = function(arg) {\n      var info, selector, selectors, source;\n      info = arg[0], selectors = arg[1];\n      source = info.uri;\n      return annotation.target = (function() {\n        var i, len, results;\n        results = [];\n        for (i = 0, len = selectors.length; i < len; i++) {\n          selector = selectors[i];\n          results.push({\n            source: source,\n            selector: selector\n          });\n        }\n        return results;\n      })();\n    };\n    info = this.getDocumentInfo();\n    selectors = Promise.all(ranges.map(getSelectors));\n    metadata = info.then(setDocumentInfo);\n    targets = Promise.all([info, selectors]).then(setTargets);\n    targets.then(function() {\n      return self.anchorWebclip(annotation, \"webclip-h1\", {\n        '_numici': 'include',\n        'data-clipped': 'true'\n      });\n    });\n    if ((ref1 = this.crossframe) != null) {\n      ref1.call('webClipChanged');\n    }\n    return annotation;\n  };\n\n  Guest.prototype.excludeSelection = function(annotation) {\n    var getSelectors, info, metadata, ranges, ref, ref1, root, selectors, self, setDocumentInfo, setTargets, targets;\n    if (annotation == null) {\n      annotation = {};\n    }\n    self = this;\n    root = this.element[0];\n    ranges = (ref = this.selectedRanges) != null ? ref : [];\n    this.selectedRanges = null;\n    getSelectors = function(range) {\n      var options;\n      options = {\n        cache: self.anchoringCache,\n        ignoreSelector: '[class^=\"webclip-\"]'\n      };\n      return self.anchoring.describe(root, range, options);\n    };\n    setDocumentInfo = function(info) {\n      annotation.document = info.metadata;\n      return annotation.uri = info.uri;\n    };\n    setTargets = function(arg) {\n      var info, selector, selectors, source;\n      info = arg[0], selectors = arg[1];\n      source = info.uri;\n      return annotation.target = (function() {\n        var i, len, results;\n        results = [];\n        for (i = 0, len = selectors.length; i < len; i++) {\n          selector = selectors[i];\n          results.push({\n            source: source,\n            selector: selector\n          });\n        }\n        return results;\n      })();\n    };\n    info = this.getDocumentInfo();\n    selectors = Promise.all(ranges.map(getSelectors));\n    metadata = info.then(setDocumentInfo);\n    targets = Promise.all([info, selectors]).then(setTargets);\n    targets.then(function() {\n      return self.anchorWebclip(annotation, \"webclip-exclude\", {\n        '_numici': 'exclude',\n        'data-clipped': 'false'\n      });\n    });\n    if ((ref1 = this.crossframe) != null) {\n      ref1.call('webClipChanged');\n    }\n    return annotation;\n  };\n\n  Guest.prototype.createHighlight = function(selection) {\n    return this.createAnnotation({\n      $highlight: true\n    }, selection);\n  };\n\n  Guest.prototype.createComment = function() {\n    var annotation, prepare, self;\n    annotation = {};\n    self = this;\n    prepare = function(info) {\n      annotation.document = info.metadata;\n      annotation.uri = info.uri;\n      return annotation.target = [\n        {\n          source: info.uri\n        }\n      ];\n    };\n    this.getDocumentInfo().then(prepare).then(function() {\n      return self.publish('beforeAnnotationCreated', [annotation]);\n    });\n    return annotation;\n  };\n\n  Guest.prototype.deleteAnnotation = function(annotation) {\n    var h, i, len, ref;\n    if (annotation.highlights != null) {\n      ref = annotation.highlights;\n      for (i = 0, len = ref.length; i < len; i++) {\n        h = ref[i];\n        if (h.parentNode != null) {\n          $(h).replaceWith(h.childNodes);\n        }\n      }\n    }\n    this.publish('annotationDeleted', [annotation]);\n    return annotation;\n  };\n\n  Guest.prototype.requestLogin = function() {\n    var ref;\n    return (ref = this.crossframe) != null ? ref.call('requestLogin') : void 0;\n  };\n\n  Guest.prototype.requestGroupChange = function() {\n    var ref, ref1;\n    if ((ref = this.crossframe) != null) {\n      ref.call('requestGroupChange');\n    }\n    return (ref1 = this.crossframe) != null ? ref1.call('showSidebar') : void 0;\n  };\n\n  Guest.prototype.showAnnotations = function(annotations) {\n    var a, ref, ref1, tags;\n    tags = (function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = annotations.length; i < len; i++) {\n        a = annotations[i];\n        results.push(a.$tag);\n      }\n      return results;\n    })();\n    if ((ref = this.crossframe) != null) {\n      ref.call('showAnnotations', tags);\n    }\n    return (ref1 = this.crossframe) != null ? ref1.call('showSidebar') : void 0;\n  };\n\n  Guest.prototype.toggleAnnotationSelection = function(annotations) {\n    var a, ref, tags;\n    tags = (function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = annotations.length; i < len; i++) {\n        a = annotations[i];\n        results.push(a.$tag);\n      }\n      return results;\n    })();\n    return (ref = this.crossframe) != null ? ref.call('toggleAnnotationSelection', tags) : void 0;\n  };\n\n  Guest.prototype.updateAnnotations = function(annotations) {\n    var a, ref, tags;\n    tags = (function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = annotations.length; i < len; i++) {\n        a = annotations[i];\n        results.push(a.$tag);\n      }\n      return results;\n    })();\n    return (ref = this.crossframe) != null ? ref.call('updateAnnotations', tags) : void 0;\n  };\n\n  Guest.prototype.focusAnnotations = function(annotations) {\n    var a, ref, tags;\n    tags = (function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = annotations.length; i < len; i++) {\n        a = annotations[i];\n        results.push(a.$tag);\n      }\n      return results;\n    })();\n    return (ref = this.crossframe) != null ? ref.call('focusAnnotations', tags) : void 0;\n  };\n\n  Guest.prototype._onSelection = function(range) {\n    var arrowDirection, focusRect, isBackwards, left, ref, selection, top;\n    selection = document.getSelection();\n    isBackwards = rangeUtil.isSelectionBackwards(selection);\n    focusRect = rangeUtil.selectionFocusRect(selection);\n    if (!focusRect) {\n      this._onClearSelection();\n      return;\n    }\n    this.selectedRanges = [range];\n    $('.annotator-toolbar .h-icon-note').attr('title', 'New Annotation').removeClass('h-icon-note').addClass('h-icon-annotate');\n    ref = this.adderCtrl.target(focusRect, isBackwards), left = ref.left, top = ref.top, arrowDirection = ref.arrowDirection;\n    return this.adderCtrl.showAt(left, top, arrowDirection);\n  };\n\n  Guest.prototype._onClearSelection = function() {\n    this.adderCtrl.hide();\n    this.selectedRanges = [];\n    return $('.annotator-toolbar .h-icon-annotate').attr('title', 'New Page Note').removeClass('h-icon-annotate').addClass('h-icon-note');\n  };\n\n  Guest.prototype.selectAnnotations = function(annotations, toggle) {\n    if (toggle) {\n      return this.toggleAnnotationSelection(annotations);\n    } else {\n      return this.showAnnotations(annotations);\n    }\n  };\n\n  Guest.prototype.onElementClick = function(event) {\n    var ref, ref1;\n    if (!((ref = this.selectedTargets) != null ? ref.length : void 0)) {\n      return (ref1 = this.crossframe) != null ? ref1.call('hideSidebar') : void 0;\n    }\n  };\n\n  Guest.prototype.onElementTouchStart = function(event) {\n    var ref, ref1;\n    if (!((ref = this.selectedTargets) != null ? ref.length : void 0)) {\n      return (ref1 = this.crossframe) != null ? ref1.call('hideSidebar') : void 0;\n    }\n  };\n\n  Guest.prototype.onHighlightMouseover = function(event) {\n    var annotation, annotations;\n    if (!this.visibleHighlights) {\n      return;\n    }\n    annotation = $(event.currentTarget).data('annotation');\n    annotations = event.annotations != null ? event.annotations : event.annotations = [];\n    annotations.push(annotation);\n    if (event.target === event.currentTarget) {\n      return setTimeout((function(_this) {\n        return function() {\n          return _this.focusAnnotations(annotations);\n        };\n      })(this));\n    }\n  };\n\n  Guest.prototype.onHighlightMouseout = function(event) {\n    if (!this.visibleHighlights) {\n      return;\n    }\n    return this.focusAnnotations([]);\n  };\n\n  Guest.prototype.onHighlightClick = function(event) {\n    var annotation, annotations, xor;\n    if (!this.visibleHighlights) {\n      return;\n    }\n    annotation = $(event.currentTarget).data('annotation');\n    annotations = event.annotations != null ? event.annotations : event.annotations = [];\n    annotations.push(annotation);\n    if (event.target === event.currentTarget || event.target.parentElement === event.currentTarget) {\n      xor = event.metaKey || event.ctrlKey;\n      return setTimeout((function(_this) {\n        return function() {\n          return _this.selectAnnotations(annotations, xor);\n        };\n      })(this));\n    }\n  };\n\n  Guest.prototype.setVisibleHighlights = function(shouldShowHighlights) {\n    return this.toggleHighlightClass(shouldShowHighlights);\n  };\n\n  Guest.prototype.toggleHighlightClass = function(shouldShowHighlights) {\n    if (shouldShowHighlights) {\n      this.element.attr(SHOW_HIGHLIGHTS_CLASS, \"\");\n    } else {\n      this.element.removeAttr(SHOW_HIGHLIGHTS_CLASS);\n    }\n    this.screenShotCtrl.toggleAreaHighlight(shouldShowHighlights);\n    return this.visibleHighlights = shouldShowHighlights;\n  };\n\n  return Guest;\n\n})(Delegator);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvZ3Vlc3QuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvZ3Vlc3QuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsOE9BQUE7RUFBQTs7Ozs7QUFBQSxNQUFBLEdBQVMsT0FBQSxDQUFRLFFBQVI7O0FBQ1QsR0FBQSxHQUFNLE9BQUEsQ0FBUSxLQUFSOztBQUNOLGNBQUEsR0FBaUIsT0FBQSxDQUFRLGtCQUFSOztBQUNqQixXQUFBLEdBQWMsT0FBQSxDQUFRLGNBQVI7O0FBRWQsU0FBQSxHQUFZLE9BQUEsQ0FBUSxhQUFSOztBQUNaLENBQUEsR0FBSSxPQUFBLENBQVEsUUFBUjs7QUFFSixLQUFBLEdBQVEsT0FBQSxDQUFRLFNBQVI7O0FBQ1IsVUFBQSxHQUFhLE9BQUEsQ0FBUSxjQUFSOztBQUNiLFNBQUEsR0FBWSxPQUFBLENBQVEsY0FBUjs7QUFDWixZQUFBLEdBQWUsT0FBQSxDQUFRLGtCQUFSOztBQUNkLGlCQUFtQixPQUFBLENBQVEsb0JBQVI7O0FBQ3BCLFdBQUEsR0FBYyxPQUFBLENBQVEsZUFBUjs7QUFDZCxTQUFBLEdBQVksT0FBQSxDQUFRLGNBQVI7O0FBQ1osVUFBQSxHQUFhLE9BQUEsQ0FBUSxjQUFSOztBQUNiLFVBQUEsR0FBYSxPQUFBLENBQVEsbUJBQVI7O0FBQ1gsZUFBaUIsT0FBQSxDQUFRLFlBQVI7O0FBR25CLFFBQUEsR0FBVyxPQUFBLENBQVEsaUJBQVI7O0FBQ1gsYUFBQSxHQUFnQixPQUFBLENBQVEsbUJBQVI7O0FBQ2hCLFVBQUEsR0FBYSxPQUFBLENBQVEsZ0JBQVI7O0FBRWIsZ0JBQUEsR0FBbUIsU0FBQyxFQUFEO0FBQ2pCLFNBQU8sSUFBSSxPQUFKLENBQVksU0FBQyxPQUFELEVBQVUsTUFBVjtXQUNq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\n",
    "var $, elementFilter, rangeUtil;\n\n$ = require('jquery');\n\nrangeUtil = require('../../range-util');\n\nelementFilter = require('../../element-filters');\n\nexports.highlightRange = function(normedRange, cssClass) {\n  var hl, nodes, txtnodes, white;\n  if (cssClass == null) {\n    cssClass = 'annotator-hl';\n  }\n  white = /^\\s*$/;\n  hl = $(\"<hypothesis-highlight class='\" + cssClass + \"'></hypothesis-highlight>\");\n  nodes;\n  if (normedRange.textNodes) {\n    nodes = $(normedRange.textNodes()).filter(function(i) {\n      return $(this).closest(\"style\").length === 0 && !white.test(this.nodeValue);\n    });\n  } else if (normedRange.type === \"ImageAnchor\") {\n    nodes = $(normedRange.node);\n    if (normedRange.normedRange && normedRange.normedRange.textNodes) {\n      txtnodes = $(normedRange.normedRange.textNodes()).filter(function(i) {\n        return $(this).closest(\"style\").length === 0 && !white.test(this.nodeValue);\n      });\n      nodes = nodes.add(txtnodes);\n    }\n  } else {\n    rangeUtil.forEachNodeInRange(normedRange, function(node) {\n      if (elementFilter.isAllowedElement(node)) {\n        if (nodes) {\n          nodes = nodes.add($(node));\n        } else {\n          nodes = nodes = $(node);\n        }\n      }\n    });\n  }\n  return nodes.wrap(hl).parent().toArray();\n};\n\nexports.highlightClipRange = function(normedRange, cssClass, include) {\n  var key, nodes, value;\n  if (cssClass == null) {\n    cssClass = 'webclip-hl';\n  }\n  if (include == null) {\n    include = {};\n  }\n  nodes = $(normedRange.textNodes()).closest('section,h2,h3,h4,h5,h6,p,td,pre');\n  if (nodes.length === 0) {\n    nodes = $(normedRange.textNodes()).closest('div');\n  }\n  if (Object.keys(include).length === 0) {\n    nodes.removeClass(cssClass);\n    nodes.addClass(cssClass);\n  }\n  for (key in include) {\n    value = include[key];\n    nodes.attr(key, value);\n    nodes.removeClass(cssClass);\n    if (value === 'include') {\n      nodes.addClass(cssClass);\n    }\n  }\n  return nodes;\n};\n\nexports.removeHighlights = function(highlights) {\n  var h, j, len, results;\n  results = [];\n  for (j = 0, len = highlights.length; j < len; j++) {\n    h = highlights[j];\n    if (h.parentNode != null) {\n      results.push($(h).replaceWith(h.childNodes));\n    }\n  }\n  return results;\n};\n\nexports.getBoundingClientRect = function(collection) {\n  var rects;\n  rects = collection.map(function(n) {\n    return n.getBoundingClientRect();\n  });\n  return rects.reduce(function(acc, r) {\n    return {\n      top: Math.min(acc.top, r.top),\n      left: Math.min(acc.left, r.left),\n      bottom: Math.max(acc.bottom, r.bottom),\n      right: Math.max(acc.right, r.right)\n    };\n  });\n};\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvaGlnaGxpZ2h0ZXIvZG9tLXdyYXAtaGlnaGxpZ2h0ZXIvaW5kZXguY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvaGlnaGxpZ2h0ZXIvZG9tLXdyYXAtaGlnaGxpZ2h0ZXIvaW5kZXguY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUE7O0FBQUEsQ0FBQSxHQUFJLE9BQUEsQ0FBUSxRQUFSOztBQUNKLFNBQUEsR0FBWSxPQUFBLENBQVEsa0JBQVI7O0FBQ1osYUFBQSxHQUFnQixPQUFBLENBQVEsdUJBQVI7O0FBU2hCLE9BQU8sQ0FBQyxjQUFSLEdBQXlCLFNBQUMsV0FBRCxFQUFjLFFBQWQ7QUFDdkIsTUFBQTs7SUFEcUMsV0FBUzs7RUFDOUMsS0FBQSxHQUFRO0VBSVIsRUFBQSxHQUFLLENBQUEsQ0FBRSwrQkFBQSxHQUFnQyxRQUFoQyxHQUF5QywyQkFBM0M7RUFPTDtFQUNBLElBQUcsV0FBVyxDQUFDLFNBQWY7SUFDRSxLQUFBLEdBQVEsQ0FBQSxDQUFFLFdBQVcsQ0FBQyxTQUFaLENBQUEsQ0FBRixDQUEwQixDQUFDLE1BQTNCLENBQWtDLFNBQUMsQ0FBRDthQUFPLENBQUEsQ0FBRSxJQUFGLENBQU8sQ0FBQyxPQUFSLENBQWdCLE9BQWhCLENBQXdCLENBQUMsTUFBekIsS0FBbUMsQ0FBbkMsSUFBeUMsQ0FBSSxLQUFLLENBQUMsSUFBTixDQUFXLElBQUMsQ0FBQSxTQUFaO0lBQXBELENBQWxDLEVBRFY7R0FBQSxNQUVLLElBQUcsV0FBVyxDQUFDLElBQVosS0FBb0IsYUFBdkI7SUFDSCxLQUFBLEdBQVEsQ0FBQSxDQUFFLFdBQVcsQ0FBQyxJQUFkO0lBQ1IsSUFBRyxXQUFXLENBQUMsV0FBWixJQUEyQixXQUFXLENBQUMsV0FBVyxD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\n",
    "'use strict';\n\nconst domWrapHighlighter = require('./dom-wrap-highlighter');\nconst overlayHighlighter = require('./overlay-highlighter');\nconst features = require('../features');\n\n// we need a facade for the highlighter interface\n// that will let us lazy check the overlay_highlighter feature\n// flag and later determine which interface should be used.\nconst highlighterFacade = {};\nlet overlayFlagEnabled;\n\nObject.keys(domWrapHighlighter).forEach((methodName)=>{\n  highlighterFacade[methodName] = (...args)=>{\n    // lazy check the value but we will\n    // use that first value as the rule throughout\n    // the in memory session\n    if(overlayFlagEnabled === undefined){\n      overlayFlagEnabled = features.flagEnabled('overlay_highlighter');\n    }\n\n    const method = overlayFlagEnabled ? overlayHighlighter[methodName] : domWrapHighlighter[methodName];\n    return method.apply(null, args);\n  };\n});\n\nmodule.exports = highlighterFacade;\n",
    "'use strict';\n\nmodule.exports = {\n  highlightRange: () => {\n    // eslint-disable-next-line no-console\n    console.log('highlightRange not implemented');\n  },\n\n  removeHighlights: () => {\n    // eslint-disable-next-line no-console\n    console.log('removeHighlights not implemented');\n  },\n\n  getBoundingClientRect: () => {\n    // eslint-disable-next-line no-console\n    console.log('getBoundingClientRect not implemented');\n  },\n};\n",
    "var $, Guest, Host,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n$ = require('jquery');\n\nGuest = require('./guest');\n\nmodule.exports = Host = (function(superClass) {\n  extend(Host, superClass);\n\n  function Host(element, config) {\n    var app, configParam, ref, service, sidebarAppSrc;\n    if ((ref = config.services) != null ? ref[0] : void 0) {\n      service = config.services[0];\n      if (service.onLoginRequest) {\n        service.onLoginRequestProvided = true;\n      }\n      if (service.onLogoutRequest) {\n        service.onLogoutRequestProvided = true;\n      }\n      if (service.onSignupRequest) {\n        service.onSignupRequestProvided = true;\n      }\n      if (service.onProfileRequest) {\n        service.onProfileRequestProvided = true;\n      }\n      if (service.onAboutRequest) {\n        service.onAboutRequestProvided = true;\n      }\n      if (service.onHelpRequest) {\n        service.onHelpRequestProvided = true;\n      }\n    }\n    configParam = 'config=' + encodeURIComponent(JSON.stringify(Object.assign({}, config, {\n      sidebarAppUrl: void 0,\n      pluginClasses: void 0\n    })));\n    if (config.sidebarAppUrl && indexOf.call(config.sidebarAppUrl, '?') >= 0) {\n      sidebarAppSrc = config.sidebarAppUrl + '&' + configParam;\n    } else {\n      sidebarAppSrc = config.sidebarAppUrl + '?' + configParam;\n    }\n    app = $('<iframe></iframe>');\n    app.attr('name', 'hyp_sidebar_frame').attr('allowfullscreen', '').attr('seamless', '').attr('src', sidebarAppSrc).addClass('h-sidebar-iframe');\n    this.frame = $('<div></div>').css('display', 'none').addClass('annotator-frame annotator-outer');\n    if (config.theme === 'clean') {\n      this.frame.addClass('annotator-frame--drop-shadow-enabled');\n    }\n    this.frame.appendTo(element);\n    Host.__super__.constructor.apply(this, arguments);\n    app.ready(function() {\n      if (app.length > 0 && app.attr(\"src\").indexOf(\"app.html\") === -1) {\n        app[0].src = sidebarAppSrc;\n      }\n      return true;\n    });\n    app.appendTo(this.frame);\n    this.on('panelReady', (function(_this) {\n      return function() {\n        return _this.frame.css('display', '');\n      };\n    })(this));\n    this.on('beforeAnnotationCreated', function(annotation) {\n      if (!annotation.$highlight) {\n        return app[0].contentWindow.focus();\n      }\n    });\n  }\n\n  Host.prototype.destroy = function() {\n    this.frame.remove();\n    return Host.__super__.destroy.apply(this, arguments);\n  };\n\n  return Host;\n\n})(Guest);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvaG9zdC5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvaG9tZS91YnVudHUvcGRmdHJvbkV4dGVuc2lvbi9jbGllbnQvc3JjL2Fubm90YXRvci9ob3N0LmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLGNBQUE7RUFBQTs7OztBQUFBLENBQUEsR0FBSSxPQUFBLENBQVEsUUFBUjs7QUFFSixLQUFBLEdBQVEsT0FBQSxDQUFRLFNBQVI7O0FBRVIsTUFBTSxDQUFDLE9BQVAsR0FBdUI7OztFQUNSLGNBQUMsT0FBRCxFQUFVLE1BQVY7QUFNWCxRQUFBO0lBQUEseUNBQW9CLENBQUEsQ0FBQSxVQUFwQjtNQUNFLE9BQUEsR0FBVSxNQUFNLENBQUMsUUFBUyxDQUFBLENBQUE7TUFDMUIsSUFBRyxPQUFPLENBQUMsY0FBWDtRQUNFLE9BQU8sQ0FBQyxzQkFBUixHQUFpQyxLQURuQzs7TUFFQSxJQUFHLE9BQU8sQ0FBQyxlQUFYO1FBQ0UsT0FBTyxDQUFDLHVCQUFSLEdBQWtDLEtBRHBDOztNQUVBLElBQUcsT0FBTyxDQUFDLGVBQVg7UUFDRSxPQUFPLENBQUMsdUJBQVIsR0FBa0MsS0FEcEM7O01BRUEsSUFBRyxPQUFPLENBQUMsZ0JBQVg7UUFDRSxPQUFPLENBQUMsd0JBQVIsR0FBbUMsS0FEckM7O01BRUEsSUFBRyxPQUFPLENBQUMsY0FBWDtRQUNFLE9BQU8sQ0FBQyxzQkFBUixHQUFpQyxLQURuQzs7TUFFQSxJQUFHLE9BQU8sQ0FBQyxhQUFYO1FBQ0UsT0FBTyxDQUFDLHFCQUFSLEdBQWdDLEtBRGxDO09BWkY7O0lBaUJBLFdBQUEsR0FBYyxTQUFBLEdBQVksa0JBQUEsQ0FDeEIsSUFBSSxDQUFDLFNBQUwsQ0FBZSxNQUFNLENBQUMsTUFBUCxDQUFjLEVBQWQsRUFBa0IsTUFBbEIsRUFBMEI7TUFBQyxhQUFBLEVBQWUsTUFBaEI7TUFBMkIsYUFBQSxFQUFlLE1BQTFDO0tBQTFCLENBQWYsQ0FEd0I7SUFHMUIsSUFBRyxNQUFNLENBQUMsYUFBUCxJQUF5QixhQUFPLE1BQU0sQ0FBQyxhQUFkLEVBQUEsR0FBQSxNQUE1QjtNQUNFLGFBQUEsR0FBZ0IsTUFBTSxDQUFDLGFBQVAsR0FBdUIsR0FBdkIsR0FBNkIsWUFEL0M7S0FBQSxNQUFBO01BR0UsYUFBQSxHQUFnQixNQUFNLENBQUMsYUFBUCxHQUF1QixHQUF2QixHQUE2QixZQUgvQzs7SUFNQSxHQUFBLEdBQU0sQ0FBQSxDQUFFLG1CQUFGO0lBQ04sR0FBRyxDQUFDLElBQUosQ0FBUyxNQUFULEVBQWlCLG1CQUFqQixDQUVBLENBQUMsSUFGRCxDQUVNLGlCQUZOLEVBRXlCLEVBRnpCLENBR0EsQ0FBQyxJQUhELENBR00sVUFITixFQUdrQixFQUhsQixDQUlBLENBQUMsSUFKRCxDQUlNLEtBSk4sRUFJYSxhQUpiLENBS0EsQ0FBQyxRQUxELENBS1Usa0JBTFY7SUFPQSxJQUFDLENBQUEsS0FBRCxHQUFTLENBQUEsQ0FBRSxhQUFGLENBQ1QsQ0FBQyxHQURRLENBQ0osU0FESSxFQUNPLE1BRFAsQ0FFVCxDQUFDLFFBRlEsQ0FFQyxpQ0FGRDtJQUlULElBQUcsTUFBTSxDQUFDLEtBQVAsS0FBZ0IsT0FBbkI7TUFDRSxJQUFDLENBQUEsS0FBSyxDQUFDLFFBQVAsQ0FBZ0Isc0NBQWhCLEVBREY7O0lBR0EsSUFBQyxDQUFBLEtBQUssQ0FBQyxRQUFQLENBQWdCLE9BQWhCO0lBRUEsdUNBQUEsU0FBQTtJQUVBLEdBQUcsQ0FBQyxLQUFKLENBQVUsU0FBQTtNQUNSLElBQUcsR0FBRyxDQUFDLE1BQUosR0FBYSxDQUFiLElBQWtCLEdBQUcsQ0FBQyxJQUFKLENBQVMsS0FBVCxDQUFlLENBQUMsT0FBaEIsQ0FBd0IsVUFBeEIsQ0FBQSxLQUF1QyxDQUFDLENBQTdEO1FBQ0UsR0FBSSxDQUFBLENBQUEsQ0FBRSxDQUFDLEdBQVAsR0FBYSxjQURmOztBQUVBLGFBQU87SUFIQyxDQUFWO0lBSUEsR0FBRyxDQUFDLFFBQUosQ0FBYSxJQUFDLENBQUEsS0FBZDtJQUVBLElBQUksQ0FBQyxFQUFMLENBQVEsWUFBUixFQUFzQixDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUE7ZUFFcEIsS0FBQyxDQUFBLEtBQUssQ0FBQyxHQUFQLENBQVcsU0FBWCxFQUFzQixFQUF0QjtNQUZvQjtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBdEI7SUFJQSxJQUFJLENBQUMsRUFBTCxDQUFRLHlCQUFSLEVBQW1DLFNBQUMsVUFBRDtNQUlqQyxJQUFHLENBQUMsVUFBVSxDQUFDLFVBQWY7ZUFDRSxHQUFJLENBQUEsQ0FBQSxDQUFFLENBQUMsYUFBYSxDQUFDLEtBQXJCLENBQUEsRUFERjs7SUFKaUMsQ0FBbkM7RUE3RFc7O2lCQW9FYixPQUFBLEdBQVMsU0FBQTtJQUNQLElBQUMsQ0FBQSxLQUFLLENBQUMsTUFBUCxDQUFBO1dBQ0EsbUNBQUEsU0FBQTtFQUZPOzs7O0dBckV5QiJ9\n",
    "'use strict';\r\n\r\nvar TurndownService  = require('turndown');\r\nvar turndownPluginGfm = require('turndown-plugin-gfm');\r\nvar gfm = turndownPluginGfm.gfm;\r\n\r\n/*const rules = require('./slackify-rules')\r\nvar showdown = require('showdown');*/\r\n\r\nvar turndownService;\r\n\r\nfunction isBlock (node) {\r\n  return is(node, blockElements);\r\n}\r\n\r\nfunction is (node, tagNames) {\r\n  return tagNames.indexOf(node.nodeName) >= 0;\r\n}\r\n\r\nconst blockElements = [\r\n  'ADDRESS', 'ARTICLE', 'ASIDE', 'AUDIO', 'BLOCKQUOTE', 'BODY', 'CANVAS',\r\n  'CENTER', 'DD', 'DIR', 'DIV', 'DL', 'DT', 'FIELDSET', 'FIGCAPTION', 'FIGURE',\r\n  'FOOTER', 'FORM', 'FRAMESET', 'H1', 'H2', 'H3', 'H4', 'H5', 'H6', 'HEADER',\r\n  'HGROUP', 'HR', 'HTML', 'ISINDEX', 'LI', 'MAIN', 'MENU', 'NAV', 'NOFRAMES',\r\n  'NOSCRIPT', 'OL', 'OUTPUT', 'P', 'PRE', 'SECTION', 'TABLE', 'TBODY', 'TD',\r\n  'TFOOT', 'TH', 'THEAD', 'TR', 'UL'\r\n];\r\n\r\n\r\n/*var slackifyService;\r\nvar converter;\r\n\r\nfunction htmlToMarkdown_Showdown(html) {\r\n\t\r\n\tif (!converter) {\r\n\t\t// see https://github.com/showdownjs/showdown#valid-options\r\n\t\t converter = new showdown.Converter({\r\n\t\t      simplifiedAutoLink: true,\r\n\t\t      // Since we're using simplifiedAutoLink we also use\r\n\t\t      // literalMidWordUnderscores because otherwise _'s in URLs get\r\n\t\t      // transformed into <em>'s.\r\n\t\t      // See https://github.com/showdownjs/showdown/issues/211\r\n\t\t      literalMidWordUnderscores: true,\r\n\t\t      tables : true,\r\n\t\t\t  strikethrough : true,\r\n\t\t\t  tasklists : true\r\n\t    });\r\n\t }\r\n\t return converter.makeMarkdown(html);\r\n}\r\n\r\nfunction htmlToSlackdownService(html) {\r\n\t  if (!slackifyService) {\r\n\t    // see https://github.com/domchristie/turndown#options\r\n\t\tslackifyService = new TurndownService({\r\n\t    \tbulletListMarker: '•',\r\n\t    \tstrongDelimiter: '*',\r\n\t    \temDelimiter: '_',\r\n\t    \tcodeBlockStyle: 'fenced',\r\n\t    \tlinkStyle: 'slack'\r\n\t    });\r\n\t    \r\n\t\tslackifyService.escape = (string) => (\r\n\t\t\t\tstring.replace('&', '&amp;')\r\n    \t\t    .replace('<', '&lt;')\r\n    \t\t    .replace('>', '&gt;')\r\n\t\t)\r\n\r\n\t    slackifyService.use(turndownPluginGfm.strikethrough)\r\n\t    slackifyService.use(turndownPluginGfm.taskListItems)\r\n\r\n\t    slackifyService.remove('table')\r\n\t    \r\n\t    \r\n\t   Object.keys(rules).forEach(rule => slackifyService.addRule(rule, rules[rule]))\r\n\t\t\r\n\t  }\r\n\t  return slackifyService.turndown(html);\r\n}\r\n\r\nfunction htmlToSlackMarkdown(html) {\r\n\t  var markdown = htmlToSlackdownService(html);\r\n\t  return markdown;\r\n}\r\n*/\r\n\r\nfunction htmlToMarkdownService(html) {\r\n\t  if (!turndownService) {\r\n\t    // see https://github.com/domchristie/turndown#options\r\n\t    turndownService = new TurndownService();\r\n        turndownService.keep(['table','caption','thead','tbody','colgroup','col','tr','th','td','tfoot']);\r\n\t\t\r\n\t\tturndownService.addRule('block-anchors', {\r\n\t\t  filter: function (node) {\r\n\t\t    const descendants = node.querySelectorAll('*')\r\n\t\t    return Array.prototype.some.call(descendants, (n) => isBlock(n))\r\n\t\t  },\r\n\t\t  replacement: (content, node) => '\\n\\n' + node.outerHTML + '\\n\\n'\r\n\t\t});\r\n\t    //turndownService.use(gfm);\r\n\t  }\r\n\t  return turndownService.turndown(html);\r\n}\r\n\r\n\r\nfunction htmlToMarkdown(html) {\r\n\t  var markdown = htmlToMarkdownService(html);\r\n\t  return markdown;\r\n}\r\n\r\nmodule.exports = {\r\n\t\thtmlToMarkdown: htmlToMarkdown,\r\n\t\t//htmlToSlackMarkdown: htmlToSlackMarkdown,\r\n\t\t//htmlToMarkdown_Showdown: htmlToMarkdown_Showdown,\r\n};\r\n",
    "'use strict';\n\nvar configFrom = require('./config/index');\nrequire('../shared/polyfills');\n\n\n// Polyfills\n\n// document.evaluate() implementation,\n// required by IE 10, 11\n//\n// This sets `window.wgxpath`\nif (!window.document.evaluate) {\n  require('./vendor/wgxpath.install');\n}\nif (window.wgxpath) {\n  window.wgxpath.install();\n}\n\nvar $ = require('jquery');\n\n// Applications\nvar Guest = require('./guest');\nvar Sidebar = require('./sidebar');\nvar PdfSidebar = require('./pdf-sidebar');\n\nvar Clipper = require('./clipper');\n\nvar pluginClasses = {\n  // UI plugins\n  BucketBar: require('./plugin/bucket-bar'),\n  Toolbar: require('./plugin/toolbar'),\n  ClipperToolbar: require('./plugin/clipper-toolbar'),\n\n  // Document type plugins\n  PDF: require('./plugin/pdf'),\n  Document: require('./plugin/document'),\n\n  // Cross-frame communication\n  CrossFrame: require('./plugin/cross-frame'),\n};\n\nvar appLinkEl = document.querySelector('link[type=\"application/annotator+html\"][rel=\"sidebar\"]');\nvar clipperLinkEl = document.querySelector('link[type=\"application/annotator+html\"][rel=\"clipper\"]');\nvar config = configFrom(window);\n\n$.noConflict(true)(function() {\n  var Klass = window.PDFViewerApplication ? PdfSidebar : (config.clipperAppUrl ? Clipper : Sidebar);\n\n  if (config.hasOwnProperty('constructor')) {\n    Klass = config.constructor;\n    delete config.constructor;\n  }\n\n  if (config.subFrameIdentifier) {\n    // Make sure the PDF plugin is loaded if the subframe contains the PDF.js viewer.\n    if (typeof window.PDFViewerApplication !== 'undefined') {\n      config.PDF = {};\n    }\n    Klass = Guest;\n\n    // Other modules use this to detect if this\n    // frame context belongs to hypothesis.\n    // Needs to be a global property that's set.\n    window.__hypothesis_frame = true;\n  }\n\n  if(config.theme === 'clean') {\n    delete pluginClasses.BucketBar;\n  }\n\n  config.pluginClasses = pluginClasses;\n  var annotator = new Klass(document.body, config);\n  appLinkEl.addEventListener('destroy', function () {\n    appLinkEl.parentElement.removeChild(appLinkEl);\n    clipperLinkEl.parentElement.removeChild(clipperLinkEl);\n    annotator.destroy();\n  });\n});\n",
    "var PdfSidebar, Sidebar,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nSidebar = require('./sidebar');\n\nmodule.exports = PdfSidebar = (function(superClass) {\n  extend(PdfSidebar, superClass);\n\n  function PdfSidebar() {\n    return PdfSidebar.__super__.constructor.apply(this, arguments);\n  }\n\n  PdfSidebar.prototype.options = {\n    TextSelection: {},\n    PDF: {},\n    BucketBar: {\n      container: '.annotator-frame',\n      scrollables: ['#viewerContainer']\n    },\n    Toolbar: {\n      container: '.annotator-frame'\n    }\n  };\n\n  return PdfSidebar;\n\n})(Sidebar);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGRmLXNpZGViYXIuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGRmLXNpZGViYXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsbUJBQUE7RUFBQTs7O0FBQUEsT0FBQSxHQUFVLE9BQUEsQ0FBUSxXQUFSOztBQUdWLE1BQU0sQ0FBQyxPQUFQLEdBQXVCOzs7Ozs7O3VCQUNyQixPQUFBLEdBQ0U7SUFBQSxhQUFBLEVBQWUsRUFBZjtJQUNBLEdBQUEsRUFBSyxFQURMO0lBRUEsU0FBQSxFQUNFO01BQUEsU0FBQSxFQUFXLGtCQUFYO01BQ0EsV0FBQSxFQUFhLENBQUMsa0JBQUQsQ0FEYjtLQUhGO0lBS0EsT0FBQSxFQUNFO01BQUEsU0FBQSxFQUFXLGtCQUFYO0tBTkY7Ozs7O0dBRnNDIn0=\n",
    "'use strict';\n\n/**\n * Enum values for page rendering states (IRenderableView#renderingState)\n * in PDF.js. Taken from web/pdf_rendering_queue.js in the PDF.js library.\n *\n * Reproduced here because this enum is not exported consistently across\n * different versions of PDF.js\n */\nvar RenderingStates = {\n  INITIAL: 0,\n  RUNNING: 1,\n  PAUSED: 2,\n  FINISHED: 3,\n};\n\nmodule.exports = RenderingStates;\n",
    "var Delegator, Plugin,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nDelegator = require('./delegator');\n\nmodule.exports = Plugin = (function(superClass) {\n  extend(Plugin, superClass);\n\n  function Plugin(element, options) {\n    Plugin.__super__.constructor.apply(this, arguments);\n  }\n\n  Plugin.prototype.pluginInit = function() {};\n\n  return Plugin;\n\n})(Delegator);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luLmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvYW5ub3RhdG9yL3BsdWdpbi5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSxpQkFBQTtFQUFBOzs7QUFBQSxTQUFBLEdBQVksT0FBQSxDQUFRLGFBQVI7O0FBRVosTUFBTSxDQUFDLE9BQVAsR0FBdUI7OztFQUNSLGdCQUFDLE9BQUQsRUFBVSxPQUFWO0lBQ1gseUNBQUEsU0FBQTtFQURXOzttQkFHYixVQUFBLEdBQVksU0FBQSxHQUFBOzs7O0dBSndCIn0=\n",
    "var $, BUCKET_NAV_SIZE, BUCKET_SIZE, BUCKET_TOP_THRESHOLD, BucketBar, Plugin, highlighter, raf, scrollIntoView, scrollToClosest,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nraf = require('raf');\n\n$ = require('jquery');\n\nPlugin = require('../plugin');\n\nscrollIntoView = require('scroll-into-view');\n\nhighlighter = require('../highlighter');\n\nBUCKET_SIZE = 16;\n\nBUCKET_NAV_SIZE = BUCKET_SIZE + 6;\n\nBUCKET_TOP_THRESHOLD = 115 + BUCKET_NAV_SIZE;\n\nscrollToClosest = function(anchors, direction) {\n  var dir, next;\n  dir = direction === \"up\" ? +1 : -1;\n  next = anchors.reduce(function(acc, anchor) {\n    var rect, ref, start;\n    if (!((ref = anchor.highlights) != null ? ref.length : void 0)) {\n      return acc;\n    }\n    start = acc.start, next = acc.next;\n    rect = highlighter.getBoundingClientRect(anchor.highlights);\n    if (dir === 1 && rect.top >= BUCKET_TOP_THRESHOLD) {\n      return acc;\n    } else if (dir === -1 && rect.top <= window.innerHeight - BUCKET_NAV_SIZE) {\n      return acc;\n    }\n    if (next == null) {\n      return {\n        start: rect.top,\n        next: anchor\n      };\n    } else if (start * dir < rect.top * dir) {\n      return {\n        start: rect.top,\n        next: anchor\n      };\n    } else {\n      return acc;\n    }\n  }, {}).next;\n  return scrollIntoView(next.highlights[0]);\n};\n\nmodule.exports = BucketBar = (function(superClass) {\n  extend(BucketBar, superClass);\n\n  BucketBar.prototype.html = \"<div class=\\\"annotator-bucket-bar\\\">\\n</div>\";\n\n  BucketBar.prototype.options = {\n    gapSize: 60,\n    scrollables: ['body']\n  };\n\n  BucketBar.prototype.buckets = [];\n\n  BucketBar.prototype.index = [];\n\n  BucketBar.prototype.tabs = null;\n\n  function BucketBar(element, options) {\n    this.update = bind(this.update, this);\n    BucketBar.__super__.constructor.call(this, $(this.html), options);\n    if (this.options.container != null) {\n      $(this.options.container).append(this.element);\n    } else {\n      $(element).append(this.element);\n    }\n  }\n\n  BucketBar.prototype.pluginInit = function() {\n    var k, len, ref, ref1, results, scrollable;\n    $(window).on('resize scroll', this.update);\n    ref1 = (ref = this.options.scrollables) != null ? ref : [];\n    results = [];\n    for (k = 0, len = ref1.length; k < len; k++) {\n      scrollable = ref1[k];\n      results.push($(scrollable).on('resize scroll', this.update));\n    }\n    return results;\n  };\n\n  BucketBar.prototype.destroy = function() {\n    var k, len, ref, ref1, results, scrollable;\n    $(window).off('resize scroll', this.update);\n    ref1 = (ref = this.options.scrollables) != null ? ref : [];\n    results = [];\n    for (k = 0, len = ref1.length; k < len; k++) {\n      scrollable = ref1[k];\n      results.push($(scrollable).off('resize scroll', this.update));\n    }\n    return results;\n  };\n\n  BucketBar.prototype._collate = function(a, b) {\n    var i, k, ref;\n    for (i = k = 0, ref = a.length - 1; 0 <= ref ? k <= ref : k >= ref; i = 0 <= ref ? ++k : --k) {\n      if (a[i] < b[i]) {\n        return -1;\n      }\n      if (a[i] > b[i]) {\n        return 1;\n      }\n    }\n    return 0;\n  };\n\n  BucketBar.prototype.update = function() {\n    if (this._updatePending != null) {\n      return;\n    }\n    return this._updatePending = raf((function(_this) {\n      return function() {\n        delete _this._updatePending;\n        return _this._update();\n      };\n    })(this));\n  };\n\n  BucketBar.prototype._update = function() {\n    var above, b, below, element, k, len, max, points, ref, ref1;\n    above = [];\n    below = [];\n    points = this.annotator.anchors.reduce((function(_this) {\n      return function(points, anchor, i) {\n        var h, rect, ref, x;\n        if (!((ref = anchor.highlights) != null ? ref.length : void 0)) {\n          return points;\n        }\n        rect = highlighter.getBoundingClientRect(anchor.highlights);\n        x = rect.top;\n        h = rect.bottom - rect.top;\n        if (x < BUCKET_TOP_THRESHOLD) {\n          if (indexOf.call(above, anchor) < 0) {\n            above.push(anchor);\n          }\n        } else if (x > window.innerHeight - BUCKET_NAV_SIZE) {\n          if (indexOf.call(below, anchor) < 0) {\n            below.push(anchor);\n          }\n        } else {\n          points.push([x, 1, anchor]);\n          points.push([x + h, -1, anchor]);\n        }\n        return points;\n      };\n    })(this), []);\n    ref = points.sort(this._collate).reduce((function(_this) {\n      return function(arg, arg1, i, points) {\n        var a, a0, buckets, carry, d, index, j, k, l, last, len, len1, ref, ref1, toMerge, x;\n        buckets = arg.buckets, index = arg.index, carry = arg.carry;\n        x = arg1[0], d = arg1[1], a = arg1[2];\n        if (d > 0) {\n          if ((j = carry.anchors.indexOf(a)) < 0) {\n            carry.anchors.unshift(a);\n            carry.counts.unshift(1);\n          } else {\n            carry.counts[j]++;\n          }\n        } else {\n          j = carry.anchors.indexOf(a);\n          if (--carry.counts[j] === 0) {\n            carry.anchors.splice(j, 1);\n            carry.counts.splice(j, 1);\n          }\n        }\n        if ((index.length === 0 || i === points.length - 1) || carry.anchors.length === 0 || x - index[index.length - 1] > _this.options.gapSize) {\n          buckets.push(carry.anchors.slice());\n          index.push(x);\n        } else {\n          if ((ref = buckets[buckets.length - 2]) != null ? ref.length : void 0) {\n            last = buckets[buckets.length - 2];\n            toMerge = buckets.pop();\n            index.pop();\n          } else {\n            last = buckets[buckets.length - 1];\n            toMerge = [];\n          }\n          ref1 = carry.anchors;\n          for (k = 0, len = ref1.length; k < len; k++) {\n            a0 = ref1[k];\n            if (indexOf.call(last, a0) < 0) {\n              last.push(a0);\n            }\n          }\n          for (l = 0, len1 = toMerge.length; l < len1; l++) {\n            a0 = toMerge[l];\n            if (indexOf.call(last, a0) < 0) {\n              last.push(a0);\n            }\n          }\n        }\n        return {\n          buckets: buckets,\n          index: index,\n          carry: carry\n        };\n      };\n    })(this), {\n      buckets: [],\n      index: [],\n      carry: {\n        anchors: [],\n        counts: [],\n        latest: 0\n      }\n    }), this.buckets = ref.buckets, this.index = ref.index;\n    this.buckets.unshift([], above, []);\n    this.index.unshift(0, BUCKET_TOP_THRESHOLD - 1, BUCKET_TOP_THRESHOLD);\n    this.buckets.push([], below, []);\n    this.index.push(window.innerHeight - BUCKET_NAV_SIZE, window.innerHeight - BUCKET_NAV_SIZE + 1, window.innerHeight);\n    max = 0;\n    ref1 = this.buckets;\n    for (k = 0, len = ref1.length; k < len; k++) {\n      b = ref1[k];\n      max = Math.max(max, b.length);\n    }\n    element = this.element;\n    this.tabs || (this.tabs = $([]));\n    this.tabs.slice(this.buckets.length).remove();\n    this.tabs = this.tabs.slice(0, this.buckets.length);\n    $.each(this.buckets.slice(this.tabs.length), (function(_this) {\n      return function() {\n        var div;\n        div = $('<div/>').appendTo(element);\n        _this.tabs.push(div[0]);\n        return div.addClass('annotator-bucket-indicator').on('mousemove', function(event) {\n          var anchor, bucket, l, len1, ref2, results, toggle;\n          bucket = _this.tabs.index(event.currentTarget);\n          ref2 = _this.annotator.anchors;\n          results = [];\n          for (l = 0, len1 = ref2.length; l < len1; l++) {\n            anchor = ref2[l];\n            toggle = indexOf.call(_this.buckets[bucket], anchor) >= 0;\n            results.push($(anchor.highlights).toggleClass('annotator-hl-focused', toggle));\n          }\n          return results;\n        }).on('mouseout', function(event) {\n          var anchor, bucket, l, len1, ref2, results;\n          bucket = _this.tabs.index(event.currentTarget);\n          ref2 = _this.buckets[bucket];\n          results = [];\n          for (l = 0, len1 = ref2.length; l < len1; l++) {\n            anchor = ref2[l];\n            results.push($(anchor.highlights).removeClass('annotator-hl-focused'));\n          }\n          return results;\n        }).on('click', function(event) {\n          var anchor, annotations, bucket;\n          bucket = _this.tabs.index(event.currentTarget);\n          event.stopPropagation();\n          if (_this.isUpper(bucket)) {\n            return scrollToClosest(_this.buckets[bucket], 'up');\n          } else if (_this.isLower(bucket)) {\n            return scrollToClosest(_this.buckets[bucket], 'down');\n          } else {\n            annotations = (function() {\n              var l, len1, ref2, results;\n              ref2 = this.buckets[bucket];\n              results = [];\n              for (l = 0, len1 = ref2.length; l < len1; l++) {\n                anchor = ref2[l];\n                results.push(anchor.annotation);\n              }\n              return results;\n            }).call(_this);\n            return annotator.selectAnnotations(annotations, event.ctrlKey || event.metaKey);\n          }\n        });\n      };\n    })(this));\n    return this._buildTabs(this.tabs, this.buckets);\n  };\n\n  BucketBar.prototype._buildTabs = function() {\n    return this.tabs.each((function(_this) {\n      return function(d, el) {\n        var bucket, bucketLength, bucketSize, title;\n        el = $(el);\n        bucket = _this.buckets[d];\n        bucketLength = bucket != null ? bucket.length : void 0;\n        title = bucketLength !== 1 ? \"Show \" + bucketLength + \" annotations\" : bucketLength > 0 ? 'Show one annotation' : void 0;\n        el.attr('title', title);\n        el.toggleClass('upper', _this.isUpper(d));\n        el.toggleClass('lower', _this.isLower(d));\n        if (_this.isUpper(d) || _this.isLower(d)) {\n          bucketSize = BUCKET_NAV_SIZE;\n        } else {\n          bucketSize = BUCKET_SIZE;\n        }\n        el.css({\n          top: (_this.index[d] + _this.index[d + 1]) / 2,\n          marginTop: -bucketSize / 2,\n          display: !bucketLength ? 'none' : ''\n        });\n        if (bucket) {\n          return el.html(\"<div class='label'>\" + bucketLength + \"</div>\");\n        }\n      };\n    })(this));\n  };\n\n  BucketBar.prototype.isUpper = function(i) {\n    return i === 1;\n  };\n\n  BucketBar.prototype.isLower = function(i) {\n    return i === this.index.length - 2;\n  };\n\n  return BucketBar;\n\n})(Plugin);\n\nBucketBar.BUCKET_SIZE = BUCKET_SIZE;\n\nBucketBar.BUCKET_NAV_SIZE = BUCKET_NAV_SIZE;\n\nBucketBar.BUCKET_TOP_THRESHOLD = BUCKET_TOP_THRESHOLD;\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luL2J1Y2tldC1iYXIuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luL2J1Y2tldC1iYXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsMkhBQUE7RUFBQTs7Ozs7QUFBQSxHQUFBLEdBQU0sT0FBQSxDQUFRLEtBQVI7O0FBRU4sQ0FBQSxHQUFJLE9BQUEsQ0FBUSxRQUFSOztBQUNKLE1BQUEsR0FBUyxPQUFBLENBQVEsV0FBUjs7QUFFVCxjQUFBLEdBQWlCLE9BQUEsQ0FBUSxrQkFBUjs7QUFFakIsV0FBQSxHQUFjLE9BQUEsQ0FBUSxnQkFBUjs7QUFFZCxXQUFBLEdBQWM7O0FBQ2QsZUFBQSxHQUFrQixXQUFBLEdBQWM7O0FBQ2hDLG9CQUFBLEdBQXVCLEdBQUEsR0FBTTs7QUFJN0IsZUFBQSxHQUFrQixTQUFDLE9BQUQsRUFBVSxTQUFWO0FBQ2hCLE1BQUE7RUFBQSxHQUFBLEdBQVMsU0FBQSxLQUFhLElBQWhCLEdBQTBCLENBQUMsQ0FBM0IsR0FBa0MsQ0FBQztFQUN4QyxPQUFRLE9BQU8sQ0FBQyxNQUFSLENBQWUsU0FBQyxHQUFELEVBQU0sTUFBTjtBQUN0QixRQUFBO0lBQUEsSUFBQSx5Q0FBd0IsQ0FBRSxnQkFBMUI7QUFDRSxhQUFPLElBRFQ7O0lBR0MsaUJBQUQsRUFBUTtJQUNSLElBQUEsR0FBTyxXQUFXLENBQUMscUJBQVosQ0FBa0MsTUFBTSxDQUFDLFVBQXpDO0lBR1AsSUFBSSxHQUFBLEtBQU8sQ0FBUCxJQUFhLElBQUksQ0FBQyxHQUFMLElBQVksb0JBQTdCO0FBQ0UsYUFBTyxJQURUO0tBQUEsTUFFSyxJQUFJLEdBQUEsS0FBTyxDQUFDLENBQVIsSUFBYyxJQUFJLENBQUMsR0FBTCxJQUFZLE1B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\n",
    "var $, ClipperToolbar, Plugin, makeButton,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nPlugin = require('../plugin');\n\n$ = require('jquery');\n\nmakeButton = function(item) {\n  var anchor;\n  anchor = $('<button></button>').attr('href', '').attr('title', item.title).attr('name', item.name).on(item.on).addClass('annotator-frame-button').addClass(item[\"class\"]);\n  return anchor[0];\n};\n\nmodule.exports = ClipperToolbar = (function(superClass) {\n  extend(ClipperToolbar, superClass);\n\n  function ClipperToolbar() {\n    return ClipperToolbar.__super__.constructor.apply(this, arguments);\n  }\n\n  ClipperToolbar.prototype.html = '<span class=\"clipper-toolbar\"></span>';\n\n  ClipperToolbar.prototype.pluginInit = function() {\n    var item, items;\n    this.clipper.toolbar = this.toolbar = $(this.html);\n    if (this.options.container != null) {\n      $(this.options.container).append(this.toolbar);\n    } else {\n      $(this.element).append(this.toolbar);\n    }\n    items = [\n      {\n        \"title\": \"Close Clipper\",\n        \"class\": \"annotator-frame-button--sidebar_close h-icon-close\",\n        \"name\": \"clipper-close\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              return _this.clipper.hideClipper();\n            };\n          })(this)\n        }\n      }\n    ];\n    this.buttons = $((function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = items.length; i < len; i++) {\n        item = items[i];\n        results.push(makeButton(item));\n      }\n      return results;\n    })());\n    return this.toolbar.append(this.buttons);\n  };\n\n  return ClipperToolbar;\n\n})(Plugin);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luL2NsaXBwZXItdG9vbGJhci5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvaG9tZS91YnVudHUvcGRmdHJvbkV4dGVuc2lvbi9jbGllbnQvc3JjL2Fubm90YXRvci9wbHVnaW4vY2xpcHBlci10b29sYmFyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLHFDQUFBO0VBQUE7OztBQUFBLE1BQUEsR0FBUyxPQUFBLENBQVEsV0FBUjs7QUFDVCxDQUFBLEdBQUksT0FBQSxDQUFRLFFBQVI7O0FBRUosVUFBQSxHQUFhLFNBQUMsSUFBRDtBQUNYLE1BQUE7RUFBQSxNQUFBLEdBQVMsQ0FBQSxDQUFFLG1CQUFGLENBQ1QsQ0FBQyxJQURRLENBQ0gsTUFERyxFQUNLLEVBREwsQ0FFVCxDQUFDLElBRlEsQ0FFSCxPQUZHLEVBRU0sSUFBSSxDQUFDLEtBRlgsQ0FHVCxDQUFDLElBSFEsQ0FHSCxNQUhHLEVBR0ssSUFBSSxDQUFDLElBSFYsQ0FJVCxDQUFDLEVBSlEsQ0FJTCxJQUFJLENBQUMsRUFKQSxDQUtULENBQUMsUUFMUSxDQUtDLHdCQUxELENBTVQsQ0FBQyxRQU5RLENBTUMsSUFBSSxFQUFDLEtBQUQsRUFOTDtBQU9ULFNBQU8sTUFBTyxDQUFBLENBQUE7QUFSSDs7QUFVYixNQUFNLENBQUMsT0FBUCxHQUF1Qjs7Ozs7OzsyQkFFckIsSUFBQSxHQUFNOzsyQkFFTixVQUFBLEdBQVksU0FBQTtBQUNWLFFBQUE7SUFBQSxJQUFDLENBQUEsT0FBTyxDQUFDLE9BQVQsR0FBbUIsSUFBQyxDQUFBLE9BQUQsR0FBVyxDQUFBLENBQUUsSUFBQyxDQUFBLElBQUg7SUFDOUIsSUFBRyw4QkFBSDtNQUNFLENBQUEsQ0FBRSxJQUFDLENBQUEsT0FBTyxDQUFDLFNBQVgsQ0FBcUIsQ0FBQyxNQUF0QixDQUE2QixJQUFDLENBQUEsT0FBOUIsRUFERjtLQUFBLE1BQUE7TUFHRSxDQUFBLENBQUUsSUFBQyxDQUFBLE9BQUgsQ0FBVyxDQUFDLE1BQVosQ0FBbUIsSUFBQyxDQUFBLE9BQXBCLEVBSEY7O0lBS0EsS0FBQSxHQUFRO01BQ047UUFBQSxPQUFBLEVBQVMsZUFBVDtRQUNBLE9BQUEsRUFBUyxvREFEVDtRQUVBLE1BQUEsRUFBUSxlQUZSO1FBR0EsSUFBQSxFQUNFO1VBQUEsT0FBQSxFQUFTLENBQUEsU0FBQSxLQUFBO21CQUFBLFNBQUMsS0FBRDtjQUNQLEtBQUssQ0FBQyxjQUFOLENBQUE7Y0FDQSxLQUFLLENBQUMsZUFBTixDQUFBO3FCQUNBLEtBQUMsQ0FBQSxPQUFPLENBQUMsV0FBVCxDQUFBO1lBSE87VUFBQSxDQUFBLENBQUEsQ0FBQSxJQUFBLENBQVQ7U0FKRjtPQURNOztJQVVSLElBQUMsQ0FBQSxPQUFELEdBQVcsQ0FBQTs7QUFBRTtXQUFBLHVDQUFBOztxQkFBQSxVQUFBLENBQVcsSUFBWDtBQUFBOztRQUFGO1dBQ1gsSUFBQyxDQUFBLE9BQU8sQ0FBQyxNQUFULENBQWdCLElBQUMsQ0FBQSxPQUFqQjtFQWxCVTs7OztHQUpnQyJ9\n",
    "var AnnotationSync, Bridge, CrossFrame, Discovery, FrameObserver, FrameUtil, Plugin, extract,\n  slice = [].slice,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nPlugin = require('../plugin');\n\nAnnotationSync = require('../annotation-sync');\n\nBridge = require('../../shared/bridge');\n\nDiscovery = require('../../shared/discovery');\n\nFrameUtil = require('../util/frame-util');\n\nFrameObserver = require('../frame-observer');\n\nextract = extract = function() {\n  var i, key, keys, len, obj, ret;\n  obj = arguments[0], keys = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n  ret = {};\n  for (i = 0, len = keys.length; i < len; i++) {\n    key = keys[i];\n    if (obj.hasOwnProperty(key)) {\n      ret[key] = obj[key];\n    }\n  }\n  return ret;\n};\n\nmodule.exports = CrossFrame = (function(superClass) {\n  extend(CrossFrame, superClass);\n\n  function CrossFrame(elem, options) {\n    var _iframeUnloaded, _injectToFrame, annotationSync, bridge, config, discovery, frameIdentifiers, frameObserver, opts;\n    CrossFrame.__super__.constructor.apply(this, arguments);\n    config = options.config;\n    opts = extract(options, 'server');\n    discovery = new Discovery(window, opts);\n    bridge = new Bridge();\n    opts = extract(options, 'on', 'emit');\n    annotationSync = new AnnotationSync(bridge, opts);\n    frameObserver = new FrameObserver(elem);\n    frameIdentifiers = new Map();\n    this.pluginInit = function() {\n      var onDiscoveryCallback;\n      onDiscoveryCallback = function(source, origin, token) {\n        return bridge.createChannel(source, origin, token);\n      };\n      discovery.startDiscovery(onDiscoveryCallback);\n      return frameObserver.observe(_injectToFrame, _iframeUnloaded);\n    };\n    this.destroy = function() {\n      Plugin.prototype.destroy.apply(this, arguments);\n      bridge.destroy();\n      discovery.stopDiscovery();\n      return frameObserver.disconnect();\n    };\n    this.sync = function(annotations, cb) {\n      return annotationSync.sync(annotations, cb);\n    };\n    this.on = function(event, fn) {\n      return bridge.on(event, fn);\n    };\n    this.call = function() {\n      var args, message;\n      message = arguments[0], args = 2 <= arguments.length ? slice.call(arguments, 1) : [];\n      return bridge.call.apply(bridge, [message].concat(slice.call(args)));\n    };\n    this.onConnect = function(fn) {\n      return bridge.onConnect(fn);\n    };\n    _injectToFrame = function(frame) {\n      var clientUrl;\n      if (!FrameUtil.hasHypothesis(frame)) {\n        clientUrl = config.clientUrl;\n        return FrameUtil.isLoaded(frame, function() {\n          var injectedConfig, subFrameIdentifier;\n          subFrameIdentifier = discovery._generateToken();\n          frameIdentifiers.set(frame, subFrameIdentifier);\n          injectedConfig = Object.assign({}, config, {\n            subFrameIdentifier: subFrameIdentifier\n          });\n          return FrameUtil.injectHypothesis(frame, clientUrl, injectedConfig);\n        });\n      }\n    };\n    _iframeUnloaded = function(frame) {\n      bridge.call('destroyFrame', frameIdentifiers.get(frame));\n      return frameIdentifiers[\"delete\"](frame);\n    };\n  }\n\n  return CrossFrame;\n\n})(Plugin);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luL2Nyb3NzLWZyYW1lLmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvYW5ub3RhdG9yL3BsdWdpbi9jcm9zcy1mcmFtZS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSx3RkFBQTtFQUFBOzs7O0FBQUEsTUFBQSxHQUFTLE9BQUEsQ0FBUSxXQUFSOztBQUVULGNBQUEsR0FBaUIsT0FBQSxDQUFRLG9CQUFSOztBQUNqQixNQUFBLEdBQVMsT0FBQSxDQUFRLHFCQUFSOztBQUNULFNBQUEsR0FBWSxPQUFBLENBQVEsd0JBQVI7O0FBQ1osU0FBQSxHQUFZLE9BQUEsQ0FBUSxvQkFBUjs7QUFDWixhQUFBLEdBQWdCLE9BQUEsQ0FBUSxtQkFBUjs7QUFHaEIsT0FBQSxHQUFVLE9BQUEsR0FBVSxTQUFBO0FBQ2xCLE1BQUE7RUFEbUIsb0JBQUs7RUFDeEIsR0FBQSxHQUFNO0FBQ04sT0FBQSxzQ0FBQTs7UUFBeUMsR0FBRyxDQUFDLGNBQUosQ0FBbUIsR0FBbkI7TUFBekMsR0FBSSxDQUFBLEdBQUEsQ0FBSixHQUFXLEdBQUksQ0FBQSxHQUFBOztBQUFmO1NBQ0E7QUFIa0I7O0FBV3BCLE1BQU0sQ0FBQyxPQUFQLEdBQXVCOzs7RUFDUixvQkFBQyxJQUFELEVBQU8sT0FBUDtBQUNYLFFBQUE7SUFBQSw2Q0FBQSxTQUFBO0lBRUEsTUFBQSxHQUFTLE9BQU8sQ0FBQztJQUNqQixJQUFBLEdBQU8sT0FBQSxDQUFRLE9BQVIsRUFBaUIsUUFBakI7SUFDUCxTQUFBLEdBQVksSUFBSSxTQUFKLENBQWMsTUFBZCxFQUFzQixJQUF0QjtJQUVaLE1BQUEsR0FBUyxJQUFJLE1BQUosQ0FBQTtJQUVULElBQUEsR0FBTyxPQUFBLENBQVEsT0FBUixFQUFpQixJQUFqQixF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\n",
    "'use strict';\r\nvar $ = require('jquery');\r\n\r\nfunction hasAttr(e, name) {\r\n\tvar attr = e.attr(name);\r\n\tif (typeof attr !== typeof undefined && attr !== false) {\r\n\t\treturn true;\r\n\t}\r\n\treturn false;\r\n}\r\n\r\nfunction processMetaTagInfo(docMetaTags) {\r\n\tvar metaInfo = {};\r\n\tif (docMetaTags) {\r\n\t\tif (null != docMetaTags[\"twitter:image\"] && docMetaTags[\"twitter:image\"] != \"\") {\r\n\t\t\tmetaInfo[\"imageUrl\"] = docMetaTags[\"twitter:image\"];\r\n\t\t} else if (null != docMetaTags[\"og:image\"] && docMetaTags[\"og:image\"] != \"\") {\r\n\t\t\tmetaInfo[\"imageUrl\"] = docMetaTags[\"og:image\"];\r\n\t\t} else if (null != docMetaTags[\"parsely-image-url\"] && docMetaTags[\"parsely-image-url\"] != \"\") {\r\n\t\t\tmetaInfo[\"imageUrl\"] = docMetaTags[\"parsely-image-url\"];\r\n\t\t}\r\n\r\n\t\tif (null != docMetaTags[\"twitter:title\"] && docMetaTags[\"twitter:title\"] != \"\") {\r\n\t\t\tmetaInfo[\"title\"] = docMetaTags[\"twitter:title\"];\r\n\t\t} else if (null != docMetaTags[\"og:title\"] && docMetaTags[\"og:title\"] != \"\") {\r\n\t\t\tmetaInfo[\"title\"] = docMetaTags[\"og:title\"];\r\n\t\t} else if (null != docMetaTags[\"parsely-title\"] && docMetaTags[\"parsely-title\"] != \"\") {\r\n\t\t\tmetaInfo[\"title\"] = docMetaTags[\"parsely-title\"];\r\n\t\t}\r\n\r\n\t\tif (null != docMetaTags[\"twitter:url\"] && docMetaTags[\"twitter:url\"] != \"\") {\r\n\t\t\tmetaInfo[\"sourceUrl\"] = docMetaTags[\"twitter:url\"];\r\n\t\t} else if (null != docMetaTags[\"og:url\"] && docMetaTags[\"og:url\"] != \"\") {\r\n\t\t\tmetaInfo[\"sourceUrl\"] = docMetaTags[\"og:url\"];\r\n\t\t} else if (null != docMetaTags[\"parsely-link\"] && docMetaTags[\"parsely-link\"] != \"\") {\r\n\t\t\tmetaInfo[\"sourceUrl\"] = docMetaTags[\"parsely-link\"];\r\n\t\t}\r\n\r\n\t\tif (null != docMetaTags[\"twitter:description\"] && docMetaTags[\"twitter:description\"] != \"\") {\r\n\t\t\tmetaInfo[\"description\"] = docMetaTags[\"twitter:description\"];\r\n\t\t} else if (null != docMetaTags[\"og:description\"] && docMetaTags[\"og:description\"] != \"\") {\r\n\t\t\tmetaInfo[\"description\"] = docMetaTags[\"og:description\"];\r\n\t\t} else if (null != docMetaTags[\"description\"] && docMetaTags[\"description\"] != \"\") {\r\n\t\t\tmetaInfo[\"description\"] = docMetaTags[\"description\"];\r\n\t\t} else if (null != docMetaTags[\"Description\"] && docMetaTags[\"Description\"] != \"\") {\r\n\t\t\tmetaInfo[\"description\"] = docMetaTags[\"Description\"];\r\n\t\t}\r\n\r\n\t\tif (null != docMetaTags[\"twitter:image:width\"] && docMetaTags[\"twitter:image:width\"] != \"\") {\r\n\t\t\tmetaInfo[\"imageWidth\"] = docMetaTags[\"twitter:image:width\"];\r\n\t\t} else if (null != docMetaTags[\"og:image:width\"] && docMetaTags[\"og:image:width\"] != \"\") {\r\n\t\t\tmetaInfo[\"imageWidth\"] = docMetaTags[\"og:image:width\"];\r\n\t\t}\r\n\r\n\t\tif (null != docMetaTags[\"twitter:image:height\"] && docMetaTags[\"twitter:image:height\"] != \"\") {\r\n\t\t\tmetaInfo[\"imageHeight\"] = docMetaTags[\"twitter:image:height\"];\r\n\t\t} else if (null != docMetaTags[\"og:image:height\"] && docMetaTags[\"og:image:height\"] != \"\") {\r\n\t\t\tmetaInfo[\"imageHeight\"] = docMetaTags[\"og:image:height\"];\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn metaInfo;\r\n}\r\n\r\nfunction getMeataTags() {\r\n\tvar metaTags = {};\r\n\ttry {\r\n\t\tvar meta = $(\"head > meta\");\r\n\tif (meta && meta.length > 0) {\r\n\t\tfor (var i = 0; i < meta.length; i++) {\r\n\t\t\tvar name;\r\n\t\t\tvar e = $(meta[i]);\r\n\t\t\tif (hasAttr(e, \"name\")) {\r\n\t\t\t\tname = e.attr(\"name\");\r\n\t\t\t} else if (hasAttr(e, \"property\")) {\r\n\t\t\t\tname = e.attr(\"property\");\r\n\t\t\t} else if (hasAttr(e, \"http-equiv\")) {\r\n\t\t\t\tname = e.attr(\"http-equiv\");\r\n\t\t\t}\r\n\t\t\tif (null != name) {\r\n\t\t\t\tvar content = \"\";\r\n\t\t\t\tif (hasAttr(e,\"content\")) {\r\n\t\t\t\t\tcontent = e.attr(\"content\");\r\n\t\t\t\t}\r\n\t\t\t\tif (!metaTags[name]) {\r\n\t\t\t\t\tmetaTags[name] = content;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tvar title = $(\"head > title\");\r\n\tif (title.text() != \"\") {\r\n\t\tmetaTags[\"webResourceTitle\"] = title.text();\r\n\t}\r\n\t} catch(e) {\r\n\t\tconsole.error(e.message);\r\n\t}\r\n\t//return processMetaTagInfo(metaTags);\r\n\treturn metaTags;\r\n}\r\n\r\nmodule.exports = getMeataTags;\r\n",
    "var $, Document, Plugin, baseURI, getMeataTags, normalizeURI,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\n$ = require('jquery');\n\nbaseURI = require('document-base-uri');\n\ngetMeataTags = require('./doc-metatags');\n\nPlugin = require('../plugin');\n\nnormalizeURI = require('../util/url').normalizeURI;\n\n\n/*\n** Adapted from:\n** https://github.com/openannotation/annotator/blob/v1.2.x/src/plugin/document.coffee\n**\n** Annotator v1.2.10\n** https://github.com/openannotation/annotator\n**\n** Copyright 2015, the Annotator project contributors.\n** Dual licensed under the MIT and GPLv3 licenses.\n** https://github.com/openannotation/annotator/blob/master/LICENSE\n */\n\nmodule.exports = Document = (function(superClass) {\n  extend(Document, superClass);\n\n  function Document() {\n    this._getFavicon = bind(this._getFavicon, this);\n    this._getLinks = bind(this._getLinks, this);\n    this._getTitle = bind(this._getTitle, this);\n    this._getMetaTags = bind(this._getMetaTags, this);\n    this._getEprints = bind(this._getEprints, this);\n    this._getPrism = bind(this._getPrism, this);\n    this._getDublinCore = bind(this._getDublinCore, this);\n    this._getTwitter = bind(this._getTwitter, this);\n    this._getFacebook = bind(this._getFacebook, this);\n    this._getHighwire = bind(this._getHighwire, this);\n    this.getDocumentMetadata = bind(this.getDocumentMetadata, this);\n    this.beforeAnnotationCreated = bind(this.beforeAnnotationCreated, this);\n    this.uris = bind(this.uris, this);\n    this.uri = bind(this.uri, this);\n    return Document.__super__.constructor.apply(this, arguments);\n  }\n\n  Document.prototype.events = {\n    'beforeAnnotationCreated': 'beforeAnnotationCreated'\n  };\n\n  Document.prototype.pluginInit = function() {\n    this.baseURI = this.options.baseURI || baseURI;\n    this.document = this.options.document || document;\n    return this.getDocumentMetadata();\n  };\n\n  Document.prototype.uri = function() {\n    var uri;\n    uri = decodeURIComponent(this._getDocumentHref());\n    this.locationurl = uri;\n\n    /*\n    for link in @metadata.link\n      if link.rel == \"canonical\"\n        uri = link.href\n     */\n    return uri;\n  };\n\n  Document.prototype.uris = function() {\n    var href, i, len, link, ref, uniqueUrls;\n    uniqueUrls = {};\n    ref = this.metadata.link;\n    for (i = 0, len = ref.length; i < len; i++) {\n      link = ref[i];\n      if (link.href) {\n        uniqueUrls[link.href] = true;\n      }\n    }\n    return (function() {\n      var results;\n      results = [];\n      for (href in uniqueUrls) {\n        results.push(href);\n      }\n      return results;\n    })();\n  };\n\n  Document.prototype.beforeAnnotationCreated = function(annotation) {\n    return annotation.document = this.metadata;\n  };\n\n  Document.prototype.getDocumentMetadata = function() {\n    this.metadata = {};\n    this._getHighwire();\n    this._getDublinCore();\n    this._getFacebook();\n    this._getEprints();\n    this._getPrism();\n    this._getTwitter();\n    this._getFavicon();\n    this._getTitle();\n    this._getLinks();\n    this._getdocMetaTags();\n    return this.metadata;\n  };\n\n  Document.prototype._getHighwire = function() {\n    return this.metadata.highwire = this._getMetaTags(\"citation\", \"name\", \"_\");\n  };\n\n  Document.prototype._getFacebook = function() {\n    return this.metadata.facebook = this._getMetaTags(\"og\", \"property\", \":\");\n  };\n\n  Document.prototype._getTwitter = function() {\n    return this.metadata.twitter = this._getMetaTags(\"twitter\", \"name\", \":\");\n  };\n\n  Document.prototype._getDublinCore = function() {\n    return this.metadata.dc = this._getMetaTags(\"dc\", \"name\", \".\");\n  };\n\n  Document.prototype._getPrism = function() {\n    return this.metadata.prism = this._getMetaTags(\"prism\", \"name\", \".\");\n  };\n\n  Document.prototype._getEprints = function() {\n    return this.metadata.eprints = this._getMetaTags(\"eprints\", \"name\", \".\");\n  };\n\n  Document.prototype._getMetaTags = function(prefix, attribute, delimiter) {\n    var content, i, len, match, meta, n, name, ref, tags;\n    tags = {};\n    ref = $(\"meta\");\n    for (i = 0, len = ref.length; i < len; i++) {\n      meta = ref[i];\n      name = $(meta).attr(attribute);\n      content = $(meta).prop(\"content\");\n      if (name) {\n        match = name.match(RegExp(\"^\" + prefix + delimiter + \"(.+)$\", \"i\"));\n        if (match) {\n          n = match[1];\n          if (tags[n]) {\n            tags[n].push(content);\n          } else {\n            tags[n] = [content];\n          }\n        }\n      }\n    }\n    return tags;\n  };\n\n  Document.prototype._getTitle = function() {\n    if (this.metadata.highwire.title) {\n      return this.metadata.title = this.metadata.highwire.title[0];\n    } else if (this.metadata.eprints.title) {\n      return this.metadata.title = this.metadata.eprints.title[0];\n    } else if (this.metadata.prism.title) {\n      return this.metadata.title = this.metadata.prism.title[0];\n    } else if (this.metadata.facebook.title) {\n      return this.metadata.title = this.metadata.facebook.title[0];\n    } else if (this.metadata.twitter.title) {\n      return this.metadata.title = this.metadata.twitter.title[0];\n    } else if (this.metadata.dc.title) {\n      return this.metadata.title = this.metadata.dc.title[0];\n    } else {\n      return this.metadata.title = $(\"head title\").text();\n    }\n  };\n\n  Document.prototype._getLinks = function() {\n    var dcIdentifierValues, dcRelationValues, dcUrn, dcUrnIdentifierComponent, dcUrnRelationComponent, doi, href, i, id, j, k, l, lang, len, len1, len2, len3, link, m, name, ref, ref1, ref2, rel, type, url, values;\n    this.metadata.link = [\n      {\n        href: this._getDocumentHref()\n      }\n    ];\n    ref = $(\"link\");\n    for (i = 0, len = ref.length; i < len; i++) {\n      link = ref[i];\n      l = $(link);\n      href = this._absoluteUrl(l.prop('href'));\n      rel = l.prop('rel');\n      type = l.prop('type');\n      lang = l.prop('hreflang');\n      if (rel !== \"alternate\" && rel !== \"canonical\" && rel !== \"bookmark\" && rel !== \"shortlink\") {\n        continue;\n      }\n      if (rel === 'alternate') {\n        if (type && type.match(/^application\\/(rss|atom)\\+xml/)) {\n          continue;\n        }\n        if (lang) {\n          continue;\n        }\n      }\n      this.metadata.link.push({\n        href: href,\n        rel: rel,\n        type: type\n      });\n    }\n    ref1 = this.metadata.highwire;\n    for (name in ref1) {\n      values = ref1[name];\n      if (name === \"pdf_url\") {\n        for (j = 0, len1 = values.length; j < len1; j++) {\n          url = values[j];\n          this.metadata.link.push({\n            href: this._absoluteUrl(url),\n            type: \"application/pdf\"\n          });\n        }\n      }\n      if (name === \"doi\") {\n        for (k = 0, len2 = values.length; k < len2; k++) {\n          doi = values[k];\n          if (doi.slice(0, 4) !== \"doi:\") {\n            doi = \"doi:\" + doi;\n          }\n          this.metadata.link.push({\n            href: doi\n          });\n        }\n      }\n    }\n    ref2 = this.metadata.dc;\n    for (name in ref2) {\n      values = ref2[name];\n      if (name === \"identifier\") {\n        for (m = 0, len3 = values.length; m < len3; m++) {\n          id = values[m];\n          if (id.slice(0, 4) === \"doi:\") {\n            this.metadata.link.push({\n              href: id\n            });\n          }\n        }\n      }\n    }\n    dcRelationValues = this.metadata.dc['relation.ispartof'];\n    dcIdentifierValues = this.metadata.dc['identifier'];\n    if (dcRelationValues && dcIdentifierValues) {\n      dcUrnRelationComponent = dcRelationValues[dcRelationValues.length - 1];\n      dcUrnIdentifierComponent = dcIdentifierValues[dcIdentifierValues.length - 1];\n      dcUrn = 'urn:x-dc:' + encodeURIComponent(dcUrnRelationComponent) + '/' + encodeURIComponent(dcUrnIdentifierComponent);\n      this.metadata.link.push({\n        href: dcUrn\n      });\n      return this.metadata.documentFingerprint = dcUrn;\n    }\n  };\n\n  Document.prototype._getFavicon = function() {\n    var i, len, link, ref, ref1, results;\n    ref = $(\"link\");\n    results = [];\n    for (i = 0, len = ref.length; i < len; i++) {\n      link = ref[i];\n      if ((ref1 = $(link).prop(\"rel\")) === \"shortcut icon\" || ref1 === \"icon\") {\n        results.push(this.metadata[\"favicon\"] = this._absoluteUrl(link.href));\n      } else {\n        results.push(void 0);\n      }\n    }\n    return results;\n  };\n\n  Document.prototype._absoluteUrl = function(url) {\n    return normalizeURI(url, this.baseURI);\n  };\n\n  Document.prototype._getDocumentHref = function() {\n    var allowedSchemes, href, ref, ref1;\n    href = this.document.location.href;\n    allowedSchemes = ['http:', 'https:', 'file:'];\n    if (ref = new URL(href).protocol, indexOf.call(allowedSchemes, ref) >= 0) {\n      return href;\n    }\n    if (this.baseURI && (ref1 = new URL(this.baseURI).protocol, indexOf.call(allowedSchemes, ref1) >= 0)) {\n      return this.baseURI;\n    }\n    return href;\n  };\n\n  Document.prototype._getdocMetaTags = function() {\n    return this.metadata[\"metatags\"] = getMeataTags();\n  };\n\n  Document.prototype._ListenUrlChange = function() {\n    var self;\n    self = this;\n    return setInterval(function() {\n      var i, len, link, locUri, ref, uri;\n      if (self.locationurl) {\n        self.getDocumentMetadata();\n        locUri = self._getDocumentHref();\n        uri = decodeURIComponent(locUri);\n        ref = self.metadata.link;\n        for (i = 0, len = ref.length; i < len; i++) {\n          link = ref[i];\n          if (link.rel === \"canonical\") {\n            uri = link.href;\n          }\n        }\n        if (self.locationurl !== locUri) {\n          return window.location.reload();\n        }\n      }\n    }, 1000);\n  };\n\n  return Document;\n\n})(Plugin);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luL2RvY3VtZW50LmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvYW5ub3RhdG9yL3BsdWdpbi9kb2N1bWVudC5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQSx3REFBQTtFQUFBOzs7OztBQUFBLENBQUEsR0FBSSxPQUFBLENBQVEsUUFBUjs7QUFDSixPQUFBLEdBQVUsT0FBQSxDQUFRLG1CQUFSOztBQUNWLFlBQUEsR0FBZSxPQUFBLENBQVEsZ0JBQVI7O0FBQ2YsTUFBQSxHQUFTLE9BQUEsQ0FBUSxXQUFSOztBQUNQLGVBQWlCLE9BQUEsQ0FBUSxhQUFSOzs7QUFFbkI7Ozs7Ozs7Ozs7OztBQVlBLE1BQU0sQ0FBQyxPQUFQLEdBQXVCOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBRXJCLE1BQUEsR0FDRTtJQUFBLHlCQUFBLEVBQTJCLHlCQUEzQjs7O3FCQUVGLFVBQUEsR0FBWSxTQUFBO0lBRVYsSUFBQyxDQUFBLE9BQUQsR0FBVyxJQUFDLENBQUEsT0FBTyxDQUFDLE9BQVQsSUFBb0I7SUFDL0IsSUFBQyxDQUFBLFFBQUQsR0FBWSxJQUFDLENBQUEsT0FBTyxDQUFDLFFBQVQsSUFBcUI7V0FFakMsSUFBSSxDQUFDLG1CQUFMLENBQUE7RUFMVTs7cUJBVVosR0FBQSxHQUFLLFNBQUE7QUFDSCxRQUFBO0lBQUEsR0FBQSxHQUFNLGtCQUFBLENBQW1CLElBQUksQ0FBQyxnQkFBTCxDQUFBLENBQW5CO0lBQ04sSUFBQyxDQUFBLFdBQUQsR0FBZTs7QUFDZjs7Ozs7QUFLQSxXQUFPO0VBUko7O3FCQVlMLElBQUEsR0FBTSxTQUFBO0FBQ0osUUFBQTtJQUFBLFVBQUEsR0FBYTtBQUNiO0FBQUEsU0FBQSxxQ0FBQTs7TUFDRSxJQUFnQyxJQUFJLENBQUMs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\n",
    "'use strict';\n\nconst { normalizeURI } = require('../util/url');\n\n/**\n * @typedef Link\n * @prop {string} href\n */\n\n/**\n * @typedef Metadata\n * @prop {string} title - The document title\n * @prop {Link[]} link - Array of URIs associated with this document\n * @prop {string} documentFingerprint - The fingerprint of this PDF. This is\n *   referred to as the \"File Identifier\" in the PDF spec. It may be a hash of\n *   part of the content if the PDF file does not have a File Identifier.\n */\n\n/**\n * PDFMetadata extracts metadata about a loading/loaded PDF document from a\n * PDF.js PDFViewerApplication object.\n *\n * @example\n * // Invoke in a PDF.js viewer, before or after the PDF has finished loading.\n * const meta = new PDFMetadata(window.PDFViewerApplication)\n * meta.getUri().then(uri => {\n *    // Do something with the URL of the PDF.\n * })\n */\nclass PDFMetadata {\n  /**\n   * Construct a `PDFMetadata` that returns URIs/metadata associated with a\n   * given PDF viewer.\n   *\n   * @param {PDFViewerApplication} app\n   */\n  constructor(app) {\n    this._loaded = new Promise(resolve => {\n      var finish = () => {\n        window.removeEventListener('documentload', finish);\n        resolve(app);\n      };\n\n      if (app.documentFingerprint) {\n        resolve(app);\n      } else {\n        window.addEventListener('documentload', finish);\n      }\n    });\n  }\n\n  /**\n   * Return the URI of the PDF.\n   *\n   * If the PDF is currently loading, the returned promise resolves once loading\n   * is complete.\n   *\n   * @return {Promise<string>}\n   */\n  getUri() {\n    return this._loaded.then(app => {\n      var uri = getPDFURL(app);\n      if (!uri) {\n        uri = fingerprintToURN(app.documentFingerprint);\n      }\n      return uri;\n    });\n  }\n\n  /**\n   * Returns metadata about the document.\n   *\n   * If the PDF is currently loading, the returned promise resolves once loading\n   * is complete.\n   *\n   * @return {Promise<Metadata>}\n   */\n  getMetadata() {\n    return this._loaded.then(app => {\n      var title = document.title;\n      var filename = null;\n      if (app.metadata && app.metadata.has('dc:title') && app.metadata.get('dc:title') !== 'Untitled') {\n        title = app.metadata.get('dc:title');\n      } else if (app.documentInfo && app.documentInfo.Title) {\n        title = app.documentInfo.Title;\n      }\n\n      var link = [\n        {href: fingerprintToURN(app.documentFingerprint)},\n      ];\n\n      var url = getPDFURL(app);\n      if (url) {\n        link.push({href: url});\n      }\n      \n      if(getPDFFileNameFromURL) {\n    \t  filename = getPDFFileNameFromURL(url);\n      }\n      \n      function bufferToBase64(buf) {\n\t    var binstr = Array.prototype.map.call(buf, function (ch) {\n\t        return String.fromCharCode(ch);\n\t    }).join('');\n\t    return btoa(binstr);\n\t  }\n      \n      if (app.pdfDocument) {\n           return app.pdfDocument.getData().then(function(pdfData){\n          \tvar base64Data = bufferToBase64(pdfData);\n          \treturn {\n\t\t        title: title,\n\t\t        link: link,\n\t\t        documentFingerprint: app.documentFingerprint,\n\t\t        pdfData: base64Data,\n\t\t        pdfInfo : app.documentInfo,\n\t\t        filename: filename\n\t\t    }; \n          })\n      } else {\n    \t  return {\n\t        title: title,\n\t        link: link,\n\t        documentFingerprint: app.documentFingerprint,\n\t      }; \n      }\n      \n    });\n  }\n}\n\nfunction fingerprintToURN(fingerprint) {\n  return 'urn:x-pdf:' + String(fingerprint);\n}\n\nfunction getPDFURL(app) {\n  const url = normalizeURI(app.url);\n\n  // Local file:// URLs should not be saved in document metadata.\n  // Entries in document.link should be URIs. In the case of\n  // local files, omit the URL.\n  if (url.indexOf('file://') !== 0) {\n    return url;\n  }\n\n  return null;\n}\n\nmodule.exports = PDFMetadata;\n",
    "var PDF, Plugin, RenderingStates,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty,\n  indexOf = [].indexOf || function(item) { for (var i = 0, l = this.length; i < l; i++) { if (i in this && this[i] === item) return i; } return -1; };\n\nPlugin = require('../plugin');\n\nRenderingStates = require('../pdfjs-rendering-states');\n\nmodule.exports = PDF = (function(superClass) {\n  extend(PDF, superClass);\n\n  function PDF() {\n    return PDF.__super__.constructor.apply(this, arguments);\n  }\n\n  PDF.prototype.documentLoaded = null;\n\n  PDF.prototype.observer = null;\n\n  PDF.prototype.pdfViewer = null;\n\n  PDF.prototype.pluginInit = function() {\n    var PDFMetadata;\n    this.annotator.anchoring = require('../anchoring/pdf');\n    PDFMetadata = require('./pdf-metadata');\n    this.pdfViewer = PDFViewerApplication.pdfViewer;\n    this.pdfViewer.viewer.classList.add('has-transparent-text-layer');\n    this.pdfMetadata = new PDFMetadata(PDFViewerApplication);\n    this.observer = new MutationObserver((function(_this) {\n      return function(mutations) {\n        return _this._update();\n      };\n    })(this));\n    return this.observer.observe(this.pdfViewer.viewer, {\n      attributes: true,\n      attributeFilter: ['data-loaded'],\n      childList: true,\n      subtree: true\n    });\n  };\n\n  PDF.prototype.destroy = function() {\n    this.pdfViewer.viewer.classList.remove('has-transparent-text-layer');\n    return this.observer.disconnect();\n  };\n\n  PDF.prototype.uri = function() {\n    return this.pdfMetadata.getUri();\n  };\n\n  PDF.prototype.getMetadata = function() {\n    return this.pdfMetadata.getMetadata();\n  };\n\n  PDF.prototype._update = function() {\n    var anchor, annotation, annotator, div, hl, i, j, k, l, len, len1, len2, page, pageIndex, pdfViewer, placeholder, ref, ref1, ref2, ref3, ref4, ref5, ref6, refreshAnnotations, results;\n    ref = this, annotator = ref.annotator, pdfViewer = ref.pdfViewer;\n    refreshAnnotations = [];\n    for (pageIndex = i = 0, ref1 = pdfViewer.pagesCount; 0 <= ref1 ? i < ref1 : i > ref1; pageIndex = 0 <= ref1 ? ++i : --i) {\n      page = pdfViewer.getPageView(pageIndex);\n      if (!((ref2 = page.textLayer) != null ? ref2.renderingDone : void 0)) {\n        continue;\n      }\n      div = (ref3 = page.div) != null ? ref3 : page.el;\n      placeholder = div.getElementsByClassName('annotator-placeholder')[0];\n      switch (page.renderingState) {\n        case RenderingStates.INITIAL:\n          page.textLayer = null;\n          break;\n        case RenderingStates.FINISHED:\n          if (placeholder != null) {\n            placeholder.parentNode.removeChild(placeholder);\n          }\n      }\n    }\n    ref4 = annotator.anchors;\n    for (j = 0, len = ref4.length; j < len; j++) {\n      anchor = ref4[j];\n      if (!(anchor.highlights != null)) {\n        continue;\n      }\n      if (ref5 = anchor.annotation, indexOf.call(refreshAnnotations, ref5) >= 0) {\n        continue;\n      }\n      ref6 = anchor.highlights;\n      for (k = 0, len1 = ref6.length; k < len1; k++) {\n        hl = ref6[k];\n        if (!document.body.contains(hl)) {\n          delete anchor.highlights;\n          delete anchor.range;\n          refreshAnnotations.push(anchor.annotation);\n          break;\n        }\n      }\n    }\n    results = [];\n    for (l = 0, len2 = refreshAnnotations.length; l < len2; l++) {\n      annotation = refreshAnnotations[l];\n      results.push(annotator.anchor(annotation));\n    }\n    return results;\n  };\n\n  return PDF;\n\n})(Plugin);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luL3BkZi5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvaG9tZS91YnVudHUvcGRmdHJvbkV4dGVuc2lvbi9jbGllbnQvc3JjL2Fubm90YXRvci9wbHVnaW4vcGRmLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLDRCQUFBO0VBQUE7Ozs7QUFBQSxNQUFBLEdBQVMsT0FBQSxDQUFRLFdBQVI7O0FBRVQsZUFBQSxHQUFrQixPQUFBLENBQVEsMkJBQVI7O0FBRWxCLE1BQU0sQ0FBQyxPQUFQLEdBQXVCOzs7Ozs7O2dCQUNyQixjQUFBLEdBQWdCOztnQkFDaEIsUUFBQSxHQUFVOztnQkFDVixTQUFBLEdBQVc7O2dCQUVYLFVBQUEsR0FBWSxTQUFBO0FBQ1YsUUFBQTtJQUFBLElBQUMsQ0FBQSxTQUFTLENBQUMsU0FBWCxHQUF1QixPQUFBLENBQVEsa0JBQVI7SUFDdkIsV0FBQSxHQUFjLE9BQUEsQ0FBUSxnQkFBUjtJQUVkLElBQUMsQ0FBQSxTQUFELEdBQWEsb0JBQW9CLENBQUM7SUFDbEMsSUFBQyxDQUFBLFNBQVMsQ0FBQyxNQUFNLENBQUMsU0FBUyxDQUFDLEdBQTVCLENBQWdDLDRCQUFoQztJQUVBLElBQUMsQ0FBQSxXQUFELEdBQWUsSUFBSSxXQUFKLENBQWdCLG9CQUFoQjtJQUVmLElBQUMsQ0FBQSxRQUFELEdBQVksSUFBSSxnQkFBSixDQUFxQixDQUFBLFNBQUEsS0FBQTthQUFBLFNBQUMsU0FBRDtlQUFlLEtBQUksQ0FBQyxPQUFMLENBQUE7TUFBZjtJQUFBLENBQUEsQ0FBQSxDQUFBLElBQUEsQ0FBckI7V0FDWixJQUFDLENBQUEsUUFBUSxDQUFDLE9BQVYsQ0FBa0IsSUFBQyxDQUFBLFNBQVMsQ0FBQyxNQUE3QixFQUFxQztNQUNuQyxVQUFBLEVBQVksSUFEdUI7TUFFbkMsZUFBQSxFQUFpQixDQUFDLGFBQUQsQ0FGa0I7TUFHbkMsU0FBQSxFQUFXLElBSHdCO01BSW5DLE9BQUEsRUFBUyxJQUowQjtLQUFyQztFQVZVOztnQkFpQlosT0FBQSxHQUFTLFNBQUE7SUFDUCxJQUFDLENBQUEsU0FBUyxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsTUFBNUIsQ0FBbUMsNEJBQW5DO1dBQ0EsSUFBQyxDQUFBLFFBQVEsQ0FBQyxVQUFWLENBQUE7RUFGTzs7Z0JBSVQsR0FBQSxHQUFLLFNBQUE7V0FDSCxJQUFDLENBQUEsV0FBVyxDQUFDLE1BQWIsQ0FBQTtFQURHOztnQkFHTCxXQUFBLEdBQWEsU0FBQTtXQUNYLElBQUMsQ0FBQSxXQUFXLENBQUMsV0FBYixDQUFBO0VBRFc7O2dCQUliLE9BQUEsR0FBUyxTQUFBO0FBQ1AsUUFBQTtJQUFBLE1BQXlCLElBQXpCLEVBQUMseUJBQUQsRUFBWTtJQUdaLGtCQUFBLEdBQXFCO0FBR3JCLFNBQWlCLGtIQUFqQjtNQUNFLElBQUEsR0FBTyxTQUFTLENBQUMsV0FBVixDQUFzQixTQUF0QjtNQUNQLElBQUEsd0NBQThCLENBQUUsdUJBQWhDO0FBQUEsaUJBQUE7O01BRUEsR0FBQSxzQ0FBaUIsSUFBSSxDQUFDO01BQ3RCLFdBQUEsR0FBYyxHQUFHLENBQUMsc0JBQUosQ0FBMkIsdUJBQTNCLENBQW9ELENBQUEsQ0FBQTtBQUdsRSxjQUFPLElBQUksQ0FBQyxjQUFaO0FBQUEsYUFDTyxlQUFlLENBQUMsT0FEdkI7VUFJSSxJQUFJLENBQUMsU0FBTCxHQUFpQjtBQUhkO0FBRFAsYUFLTyxlQUFlLENBQUMsUUFMdkI7VUFVSSxJQUFHLG1CQUFIO1lBQ0UsV0FBVyxDQUFDLFVBQVUsQ0FBQyxXQUF2QixDQUFtQyxXQUFuQyxFQURGOztBQVZKO0FBUkY7QUFzQkE7QUFBQSxTQUFBLHNDQUFBOztZQUFxQzs7O01BRW5DLFdBQUcsTUFBTSxDQUFDLFVBQVAsRUFBQSxhQUFxQixrQkFBckIsRUFBQSxJQUFBLE1BQUg7QUFDRSxpQkFERjs7QUFNQTtBQUFBLFdBQUEsd0NBQUE7O1FBQ0UsSUFBRyxDQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsUUFBZCxDQUF1QixFQUF2QixDQUFQO1VBQ0UsT0FBTyxNQUFNLENBQUM7VUFDZCxPQUFPLE1BQU0sQ0FBQztVQUNkLGtCQUFrQixDQUFDLElBQW5CLENBQXdCLE1BQU0sQ0FBQyxVQUEvQjtBQUNBLGdCQUpGOztBQURGO0FBUkY7QUFlQTtTQUFBLHNEQUFBOzttQkFDRSxTQUFTLENBQUMsTUFBVixDQUFpQixVQUFqQjtBQURGOztFQTVDTzs7OztHQWpDd0IifQ==\n",
    "var $, Plugin, Toolbar, makeButton,\n  extend = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nPlugin = require('../plugin');\n\n$ = require('jquery');\n\nmakeButton = function(item) {\n  var anchor, button;\n  anchor = $('<button></button>').attr('href', '').attr('title', item.title).attr('name', item.name).on(item.on).addClass('annotator-frame-button').addClass(item[\"class\"]);\n  button = $('<li></li>').append(anchor);\n  return button[0];\n};\n\nmodule.exports = Toolbar = (function(superClass) {\n  var HIDE_CLASS;\n\n  extend(Toolbar, superClass);\n\n  function Toolbar() {\n    return Toolbar.__super__.constructor.apply(this, arguments);\n  }\n\n  HIDE_CLASS = 'annotator-hide';\n\n  Toolbar.prototype.events = {\n    'setVisibleHighlights': 'onSetVisibleHighlights'\n  };\n\n  Toolbar.prototype.html = '<div class=\"annotator-toolbar\"></div>';\n\n  Toolbar.prototype.pluginInit = function() {\n    var item, items, list, self;\n    this.annotator.toolbar = this.toolbar = $(this.html);\n    if (this.options.container != null) {\n      $(this.options.container).append(this.toolbar);\n    } else {\n      $(this.element).append(this.toolbar);\n    }\n    items = [\n      {\n        \"title\": \"Close Sidebar\",\n        \"class\": \"annotator-frame-button--sidebar_close h-icon-close\",\n        \"name\": \"sidebar-close\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              _this.annotator.hide();\n              return _this.toolbar.find('[name=sidebar-close]').hide();\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Toggle Sidebar\",\n        \"class\": \"annotator-frame-button--sidebar_toggle numici-icon-left\",\n        \"name\": \"sidebar-toggle\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              var collapsed;\n              event.preventDefault();\n              event.stopPropagation();\n              collapsed = _this.annotator.frame.hasClass('annotator-collapsed');\n              if (collapsed) {\n                return _this.annotator.show();\n              } else {\n                return _this.annotator.hide();\n              }\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Add to TaskSpace\",\n        \"class\": \"h-icon-add\",\n        \"name\": \"add-to-ts\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              return _this.annotator.addToTaskSpace();\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Added Document Info\",\n        \"class\": \"h-icon-check\",\n        \"name\": \"added-doc-info\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              _this.annotator.show();\n              return _this.annotator.showDocumentInfo();\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Hide Highlights\",\n        \"class\": \"h-icon-visibility\",\n        \"name\": \"highlight-visibility\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              var state;\n              event.preventDefault();\n              event.stopPropagation();\n              state = !_this.annotator.visibleHighlights;\n              return _this.annotator.setAllVisibleHighlights(state);\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Move this Document\",\n        \"class\": \"h-icon-redo2\",\n        \"name\": \"Move\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              return _this.annotator.moveDocument();\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Tag this Document\",\n        \"class\": \"h-icon-price-tag\",\n        \"name\": \"tag\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              return _this.annotator.tagDocument();\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"New Page Note\",\n        \"class\": \"h-icon-note\",\n        \"name\": \"insert-comment\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              _this.annotator.createAnnotation();\n              return _this.annotator.show();\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Web Clip\",\n        \"class\": \"h-icon-paragraph-justify\",\n        \"name\": \"web-clip\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              _this.annotator.showClipper();\n              return _this.annotator.show();\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Click to enable Image & Table annotations\",\n        \"class\": \"h-icon-insert-photo img-off\",\n        \"name\": \"Enable-html-annotations\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              if ($(event.currentTarget).hasClass(\"img-off\")) {\n                _this.annotator.enableOrDisableHtmlObjectAnnotaion(true, true);\n                $(event.currentTarget).removeClass(\"img-off\");\n                $(event.currentTarget).addClass(\"img-on\");\n                return $(event.currentTarget).attr(\"title\", \"Click to disable Image & Table annotations\");\n              } else {\n                _this.annotator.enableOrDisableHtmlObjectAnnotaion(false, true);\n                $(event.currentTarget).removeClass(\"img-on\");\n                $(event.currentTarget).addClass(\"img-off\");\n                return $(event.currentTarget).attr(\"title\", \"Click to enable Image & Table annotations\");\n              }\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Screenshot\",\n        \"class\": \"h-icon-fullscreen\",\n        \"name\": \"Screenshot\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              return _this.annotator.screenShot();\n            };\n          })(this)\n        }\n      }, {\n        \"title\": \"Share this Document\",\n        \"class\": \"h-icon-annotation-share\",\n        \"name\": \"Share\",\n        \"on\": {\n          \"click\": (function(_this) {\n            return function(event) {\n              event.preventDefault();\n              event.stopPropagation();\n              return _this.annotator.shareDocument();\n            };\n          })(this)\n        }\n      }\n    ];\n    this.buttons = $((function() {\n      var i, len, results;\n      results = [];\n      for (i = 0, len = items.length; i < len; i++) {\n        item = items[i];\n        results.push(makeButton(item));\n      }\n      return results;\n    })());\n    list = $('<ul class=\"btn-grp\"></ul>');\n    this.buttons.appendTo(list);\n    this.toolbar.append(list);\n    this.disableOrEnableSidebarBtns();\n    self = this;\n    list.on('mouseover', (function(_this) {\n      return function(event) {\n        if (!self.annotator.frame.hasClass('expanded')) {\n          return event.stopPropagation();\n        }\n      };\n    })(this));\n    return this.toolbar.on('mouseup', 'a', function(event) {\n      return $(event.target).blur();\n    });\n  };\n\n  Toolbar.prototype.onSetVisibleHighlights = function(state) {\n    if (state) {\n      return $('[name=highlight-visibility]').removeClass('h-icon-visibility-off').addClass('h-icon-visibility').prop('title', 'Hide Highlights');\n    } else {\n      return $('[name=highlight-visibility]').removeClass('h-icon-visibility').addClass('h-icon-visibility-off').prop('title', 'Show Highlights');\n    }\n  };\n\n  Toolbar.prototype.disableMinimizeBtn = function() {\n    return $('[name=sidebar-toggle]').remove();\n  };\n\n  Toolbar.prototype.disableHighlightsBtn = function() {\n    return $('[name=highlight-visibility]').remove();\n  };\n\n  Toolbar.prototype.disableNewNoteBtn = function() {\n    return $('[name=insert-comment]').remove();\n  };\n\n  Toolbar.prototype.hideNewNoteBtn = function() {\n    return $('[name=insert-comment]').hide();\n  };\n\n  Toolbar.prototype.showNewNoteBtn = function() {\n    return $('[name=insert-comment]').show();\n  };\n\n  Toolbar.prototype.hideScreenShotBtn = function() {\n    return $('[name=Screenshot]').hide();\n  };\n\n  Toolbar.prototype.showScreenShotBtn = function() {\n    return $('[name=Screenshot]').show();\n  };\n\n  Toolbar.prototype.disableCloseBtn = function() {\n    return $('[name=sidebar-close]').remove();\n  };\n\n  Toolbar.prototype.disableWebClipperBtn = function() {\n    return $('[name=web-clip]').remove();\n  };\n\n  Toolbar.prototype.hideWebClipperBtn = function() {\n    return $('[name=web-clip]').hide();\n  };\n\n  Toolbar.prototype.showWebClipperBtn = function() {\n    return $('[name=web-clip]').show();\n  };\n\n  Toolbar.prototype.getWidth = function() {\n    return parseInt(window.getComputedStyle(this.toolbar[0]).width);\n  };\n\n  Toolbar.prototype.hideCloseBtn = function() {\n    return $('[name=sidebar-close]').hide();\n  };\n\n  Toolbar.prototype.showCloseBtn = function() {\n    return $('[name=sidebar-close]').show();\n  };\n\n  Toolbar.prototype.hideAddToTSBtn = function() {\n    return $('[name=add-to-ts]').hide();\n  };\n\n  Toolbar.prototype.showAddToTSBtn = function() {\n    return $('[name=add-to-ts]').show();\n  };\n\n  Toolbar.prototype.hideAddedDocInfoBtn = function() {\n    return $('[name=added-doc-info]').hide();\n  };\n\n  Toolbar.prototype.showAddedDocInfoBtn = function() {\n    return $('[name=added-doc-info]').show();\n  };\n\n  Toolbar.prototype.hidetagInfoBtn = function() {\n    return $('[name=tag]').hide();\n  };\n\n  Toolbar.prototype.showtagInfoBtn = function() {\n    return $('[name=tag]').show();\n  };\n\n  Toolbar.prototype.showCollapseSidebarBtn = function() {\n    return $('[name=sidebar-toggle]').removeClass('numici-icon-left').addClass('numici-icon-right');\n  };\n\n  Toolbar.prototype.showExpandSidebarBtn = function() {\n    return $('[name=sidebar-toggle]').removeClass('numici-icon-right').addClass('numici-icon-left');\n  };\n\n  Toolbar.prototype.enableObjectAnnotations = function() {\n    return $('[name=Enable-html-annotations]').removeClass('img-off').addClass('img-on');\n  };\n\n  Toolbar.prototype.disableObjectAnnotations = function() {\n    return $('[name=Enable-html-annotations]').removeClass('img-on').addClass('img-off');\n  };\n\n  Toolbar.prototype.hideObjectAnnotations = function() {\n    return $('[name=Enable-html-annotations]').hide();\n  };\n\n  Toolbar.prototype.disableDocActions = function() {\n    $('[name=Move]').attr(\"disabled\", true);\n    return $('[name=Share]').attr(\"disabled\", true);\n  };\n\n  Toolbar.prototype.enableDocActions = function(name) {\n    return $('[name=' + name + ']').removeAttr(\"disabled\");\n  };\n\n  Toolbar.prototype.showObjectAnnotations = function() {\n    return $('[name=Enable-html-annotations]').show();\n  };\n\n  Toolbar.prototype.hideDocAction = function(action) {\n    return $('[name=' + action + ']').hide();\n  };\n\n  Toolbar.prototype.showDocAction = function(action) {\n    return $('[name=' + action + ']').show();\n  };\n\n  Toolbar.prototype.hideSidePaneToolbar = function(flag, group) {\n    if (!flag && group) {\n      return this.disableOrEnableSidebarBtns(group);\n    } else if (flag) {\n      return this.disableOrEnableSidebarBtns(null);\n    }\n  };\n\n  Toolbar.prototype.disableOrEnableSidebarBtns = function(group) {\n    this.disableDocActions();\n    this.hideAddedDocInfoBtn();\n    this.hidetagInfoBtn();\n    this.hideScreenShotBtn();\n    this.hideDocAction(\"Move\");\n    this.hideDocAction(\"Share\");\n    if (group) {\n      if (group.fromPublicLink || !group.permissions) {\n        this.hideNewNoteBtn();\n        this.hideScreenShotBtn();\n        this.hideWebClipperBtn();\n        this.hideAddToTSBtn();\n        this.hideObjectAnnotations();\n        this.disableDocActions();\n        this.hideDocAction(\"Move\");\n        this.hideDocAction(\"Share\");\n      } else if (group.permissions) {\n        if (group.permissions.owner || group.permissions.edit) {\n          this.showNewNoteBtn();\n          this.showScreenShotBtn();\n          this.showtagInfoBtn();\n          if (!group.objId) {\n            this.showAddToTSBtn();\n          }\n          this.showObjectAnnotations();\n          if (group.permissions.share) {\n            this.enableDocActions(\"Share\");\n            this.showDocAction(\"Share\");\n          }\n          if (group.objId && !group.fromPublicLink) {\n            if (group.permissions.share) {\n              this.enableDocActions(\"Share\");\n              this.showDocAction(\"Share\");\n            }\n            if (group.objOwner) {\n              this.enableDocActions(\"Move\");\n              this.showDocAction(\"Move\");\n            }\n          }\n          if (group.userPreferences) {\n            if (group.userPreferences.enableWebClip) {\n              this.showWebClipperBtn();\n            } else {\n              this.hideWebClipperBtn();\n            }\n          } else {\n            this.hideWebClipperBtn();\n          }\n        } else if (group.permissions.view) {\n          this.hideAddToTSBtn();\n          this.hideWebClipperBtn();\n          if (group.webresource || group.objId) {\n            this.showNewNoteBtn();\n            this.showScreenShotBtn();\n            this.showObjectAnnotations();\n            this.showtagInfoBtn();\n          }\n        } else {\n          this.hideNewNoteBtn();\n          this.hideScreenShotBtn();\n          this.hideWebClipperBtn();\n          this.hideAddToTSBtn();\n          this.hideObjectAnnotations();\n        }\n      }\n      if (group.objId) {\n        this.hideAddToTSBtn();\n        return this.showAddedDocInfoBtn();\n      } else {\n        return this.hideAddedDocInfoBtn();\n      }\n    } else {\n      this.hideNewNoteBtn();\n      this.hideScreenShotBtn();\n      this.hideWebClipperBtn();\n      this.hideAddToTSBtn();\n      this.hideObjectAnnotations();\n      this.disableDocActions();\n      this.hideDocAction(\"Move\");\n      return this.hideDocAction(\"Share\");\n    }\n  };\n\n  return Toolbar;\n\n})(Plugin);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luL3Rvb2xiYXIuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3IvcGx1Z2luL3Rvb2xiYXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUEsOEJBQUE7RUFBQTs7O0FBQUEsTUFBQSxHQUFTLE9BQUEsQ0FBUSxXQUFSOztBQUNULENBQUEsR0FBSSxPQUFBLENBQVEsUUFBUjs7QUFFSixVQUFBLEdBQWEsU0FBQyxJQUFEO0FBQ1gsTUFBQTtFQUFBLE1BQUEsR0FBUyxDQUFBLENBQUUsbUJBQUYsQ0FDVCxDQUFDLElBRFEsQ0FDSCxNQURHLEVBQ0ssRUFETCxDQUVULENBQUMsSUFGUSxDQUVILE9BRkcsRUFFTSxJQUFJLENBQUMsS0FGWCxDQUdULENBQUMsSUFIUSxDQUdILE1BSEcsRUFHSyxJQUFJLENBQUMsSUFIVixDQUlULENBQUMsRUFKUSxDQUlMLElBQUksQ0FBQyxFQUpBLENBS1QsQ0FBQyxRQUxRLENBS0Msd0JBTEQsQ0FNVCxDQUFDLFFBTlEsQ0FNQyxJQUFJLEVBQUMsS0FBRCxFQU5MO0VBT1QsTUFBQSxHQUFTLENBQUEsQ0FBRSxXQUFGLENBQWMsQ0FBQyxNQUFmLENBQXNCLE1BQXRCO0FBQ1QsU0FBTyxNQUFPLENBQUEsQ0FBQTtBQVRIOztBQVdiLE1BQU0sQ0FBQyxPQUFQLEdBQXVCO0FBQ3JCLE1BQUE7Ozs7Ozs7O0VBQUEsVUFBQSxHQUFhOztvQkFFYixNQUFBLEdBQ0U7SUFBQSxzQkFBQSxFQUF3Qix3QkFBeEI7OztvQkFFRixJQUFBLEdBQU07O29CQUVOLFVBQUEsR0FBWSxTQUFBO0FBQ1YsUUFBQTtJQUFBLElBQUMsQ0FBQSxTQUFTLENBQUMsT0FBWCxHQUFxQixJQUFDLENBQUEsT0FBRCxHQUFXLENBQUEsQ0FB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\n",
    "'use strict';\r\nvar $ = require('jquery');\r\nvar elementFilter = require('./element-filters');\r\nvar juice = require('juice/client');\r\nvar htmlToMarkdown = require('./html-to-markdown').htmlToMarkdown;\r\nvar isEmpty = require('./util/util').isEmpty;\r\nconst { forEach: each } = Array.prototype;\r\nvar uuid = require('node-uuid');\r\nvar num = 0;\r\nvar pdfScrollContatiner = '#viewerContainer';\r\n\r\n\r\n/**\r\n * Returns true if the start point of a selection occurs after the end point,\r\n * in document order.\r\n */\r\nfunction isSelectionBackwards(selection) {\r\n\tif (selection.focusNode === selection.anchorNode) {\r\n\t\treturn selection.focusOffset < selection.anchorOffset;\r\n\t}\r\n\r\n\tvar range = selection.getRangeAt(0);\r\n\treturn range.startContainer === selection.focusNode;\r\n}\r\n\r\n/**\r\n * Returns true if `node` lies within a range.\r\n *\r\n * This is a simplified version of `Range.isPointInRange()` for compatibility\r\n * with IE.\r\n *\r\n * @param {Range} range\r\n * @param {Node} node\r\n */\r\nfunction isNodeInRange(range, node) {\r\n\tif (node === range.startContainer || node === range.endContainer) {\r\n\t\treturn true;\r\n\t}\r\n\r\n\tvar nodeRange = node.ownerDocument.createRange();\r\n\tnodeRange.selectNode(node);\r\n\tvar isAtOrBeforeStart =\r\n\t\trange.compareBoundaryPoints(Range.START_TO_START, nodeRange) <= 0;\r\n\tvar isAtOrAfterEnd =\r\n\t\trange.compareBoundaryPoints(Range.END_TO_END, nodeRange) >= 0;\r\n\tnodeRange.detach();\r\n\treturn isAtOrBeforeStart && isAtOrAfterEnd;\r\n}\r\n\r\n/**\r\n * Iterate over all Node(s) in `range` in document order and invoke `callback`\r\n * for each of them.\r\n *\r\n * @param {Range} range\r\n * @param {Function} callback\r\n */\r\nfunction forEachNodeInRange(range, callback) {\r\n\tvar root = range.commonAncestorContainer;\r\n\r\n\t// The `whatToShow`, `filter` and `expandEntityReferences` arguments are\r\n\t// mandatory in IE although optional according to the spec.\r\n\tvar nodeIter = root.ownerDocument.createNodeIterator(root,\r\n\t\tNodeFilter.SHOW_ALL, null /* filter */, false /* expandEntityReferences */);\r\n\r\n\tvar currentNode;\r\n\twhile (currentNode = nodeIter.nextNode()) { // eslint-disable-line no-cond-assign\r\n\t\tif (isNodeInRange(range, currentNode)) {\r\n\t\t\tcallback(currentNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\n/**\r\n * Returns the bounding rectangles of non-whitespace text nodes in `range`.\r\n *\r\n * @param {Range} range\r\n * @return {Array<Rect>} Array of bounding rects in viewport coordinates.\r\n */\r\nfunction getTextBoundingBoxes(range) {\r\n\tvar whitespaceOnly = /^\\s*$/;\r\n\tvar textNodes = [];\r\n\tforEachNodeInRange(range, function(node) {\r\n\t\tif (node.nodeType === Node.TEXT_NODE &&\r\n\t\t\t!node.textContent.match(whitespaceOnly)) {\r\n\t\t\ttextNodes.push(node);\r\n\t\t} else if (elementFilter.isAllowedElement(node)) {\r\n\t\t\ttextNodes.push(node);\r\n\t\t}\r\n\t});\r\n\r\n\tvar rects = [];\r\n\ttextNodes.forEach(function(node) {\r\n\t\tvar nodeRange = node.ownerDocument.createRange();\r\n\t\tnodeRange.selectNodeContents(node);\r\n\t\tif (node === range.startContainer) {\r\n\t\t\tnodeRange.setStart(node, range.startOffset);\r\n\t\t}\r\n\t\tif (node === range.endContainer) {\r\n\t\t\tnodeRange.setEnd(node, range.endOffset);\r\n\t\t}\r\n\r\n\t\tvar viewportRects = [];\r\n\t\tif (elementFilter.isAllowedElement(node)) {\r\n\t\t\t// translate from viewport to document coordinates\r\n\t\t\tviewportRects = Array.from(node.getClientRects());\r\n\t\t} else if (nodeRange.collapsed) {\r\n\t\t\t// If the range ends at the start of this text node or starts at the end\r\n\t\t\t// of this node then do not include it.\r\n\t\t\treturn;\r\n\t\t} else {\r\n\t\t\t// Measure the range and translate from viewport to document coordinates\r\n\t\t\tviewportRects = Array.from(nodeRange.getClientRects());\r\n\t\t}\r\n\r\n\r\n\r\n\t\tnodeRange.detach();\r\n\t\trects = rects.concat(viewportRects);\r\n\t});\r\n\treturn rects;\r\n}\r\n\r\n/**\r\n * Returns the rectangle, in viewport coordinates, for the line of text\r\n * containing the focus point of a Selection.\r\n *\r\n * Returns null if the selection is empty.\r\n *\r\n * @param {Selection} selection\r\n * @return {Rect|null}\r\n */\r\nfunction selectionFocusRect(selection) {\r\n\tif (selection.isCollapsed) {\r\n\t\treturn null;\r\n\t}\r\n\tvar textBoxes = getTextBoundingBoxes(selection.getRangeAt(0));\r\n\tif (textBoxes.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tif (isSelectionBackwards(selection)) {\r\n\t\treturn textBoxes[0];\r\n\t} else {\r\n\t\treturn textBoxes[textBoxes.length - 1];\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * Returns the rectangle, in window coordinates\r\n *\r\n * Returns null if the selection is empty.\r\n *\r\n * @param {Selection} selection\r\n * @return {Rect|null}\r\n */\r\nfunction selectionRectInDocContext(selection) {\r\n\tif (selection.isCollapsed) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tlet range = selection.getRangeAt(0);\r\n\tlet rect = range.getBoundingClientRect();\r\n\r\n\tif (rect.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn [\r\n\t\t(rect.left + window.pageXOffset),\r\n\t\t(rect.top + window.pageYOffset),\r\n\t\t(rect.right + window.pageXOffset),\r\n\t\t(rect.bottom + window.pageYOffset)\r\n\t];\r\n}\r\n\r\n\r\n/**\r\n * Returns the rectangle, in window coordinates\r\n *\r\n * Returns null if the selection is empty.\r\n *\r\n * @param {Selection} selection\r\n * @return {Rect|null}\r\n */\r\nfunction selectionRectInPdfContext(selection) {\r\n\tvar scrollWindow = {};\r\n\tif (selection.isCollapsed) {\r\n\t\treturn null;\r\n\t}\r\n\tlet range = selection.getRangeAt(0);\r\n\tlet rect = range.getBoundingClientRect();\r\n\r\n\tif (rect.length === 0 && $(pdfScrollContatiner).length == 0) {\r\n\t\treturn null;\r\n\t} \r\n\ttry {\r\n\t\tscrollWindow = $(pdfScrollContatiner)[0];\r\n\t} catch(e) {\r\n\t\tscrollWindow.scrollLeft = 0;\r\n\t\tscrollWindow.scrollTop = 0;\t\r\n\t}\r\n    \r\n\treturn [\r\n\t\t(rect.left + scrollWindow.scrollLeft),\r\n\t\t(rect.top + scrollWindow.scrollTop),\r\n\t\t(rect.right + scrollWindow.scrollLeft),\r\n\t\t(rect.bottom + scrollWindow.scrollTop)\r\n\t];\r\n}\r\n\r\n\r\n/**\r\n * Returns the rectangle, in window coordinates\r\n *\r\n * Returns null if the selection is empty.\r\n *\r\n * @param {Range} selection\r\n * @return {Rect|null}\r\n */\r\nfunction rangeRectInDocContext(range) {\r\n\tif (range.collapsed) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\tlet rect = range.getBoundingClientRect();\r\n\r\n\tif (rect.length === 0) {\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn [\r\n\t\t(rect.left + window.pageXOffset),\r\n\t\t(rect.top + window.pageYOffset),\r\n\t\t(rect.right + window.pageXOffset),\r\n\t\t(rect.bottom + window.pageYOffset)\r\n\t];\r\n}\r\n\r\n\r\nfunction computedStyleToInlineStyle(element, options, copyto) {\r\n\tvar _context2;\r\n\r\n\tvar options = options || {};\r\n\r\n\tif (!element) {\r\n\t\tthrow new Error(\"No element specified.\");\r\n\t}\r\n\r\n\tif (options.recursive) {\r\n\t\tvar _context;\r\n\r\n\t\t(_context = element.children, each).call(_context, function(child) {\r\n\t\t\tcomputedStyleToInlineStyle(child, options);\r\n\t\t});\r\n\t}\r\n\r\n\tvar computedStyle = getComputedStyle(element);\r\n\t(_context2 = options.properties || computedStyle, each).call(_context2, function(property) {\r\n\t\tif (property != \"width\" || property != \"height\") {\r\n\t\t\tcopyto.style[property] = computedStyle.getPropertyValue(property);\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nfunction inlineContent(html) {\r\n\ttry {\r\n\t\tlet allStyles = \"\";\r\n\t\tconst styleSheets = Array.from(document.styleSheets).filter(\r\n\t\t\t(styleSheet) => !styleSheet.href || styleSheet.href.startsWith(window.location.origin)\r\n\t\t);\r\n\r\n\t\tfor (let css of styleSheets) {\r\n\t\t\tif (css instanceof CSSStyleSheet && (css.cssRules || css.rules)) {\r\n\t\t\t\tconst rules = css.cssRules ? css.cssRules : css.rules;\r\n\t\t\t\tfor (let i = 0; i < rules.length; i++) {\r\n\t\t\t\t\tconst rule = rules[i]\r\n\t\t\t\t\tallStyles = allStyles + rule.cssText;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn juice.inlineContent(html, allStyles);\r\n\t} catch (e) {\r\n\t\treturn null;\r\n\t}\r\n}\r\n\r\nfunction nextNode(node) {\r\n\tif (node.hasChildNodes()) {\r\n\t\treturn node.firstChild;\r\n\t} else {\r\n\t\twhile (node && !node.nextSibling) {\r\n\t\t\tnode = node.parentNode;\r\n\t\t}\r\n\t\tif (!node) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\treturn node.nextSibling;\r\n\t}\r\n}\r\n\r\nfunction getRangeSelectedNodes(range) {\r\n\tvar node = range.startContainer;\r\n\tvar endNode = range.endContainer;\r\n\r\n\t// Special case for a range that is contained within a single node\r\n\tif (node == endNode) {\r\n\t\treturn [node];\r\n\t}\r\n\r\n\t// Iterate nodes until we hit the end container\r\n\tvar rangeNodes = [];\r\n\twhile (node && node != endNode) {\r\n\t\trangeNodes.push(node = nextNode(node));\r\n\t}\r\n\r\n\t// Add partially selected nodes at the start of the range\r\n\tnode = range.startContainer;\r\n\twhile (node && node != range.commonAncestorContainer) {\r\n\t\trangeNodes.unshift(node);\r\n\t\tnode = node.parentNode;\r\n\t}\r\n\r\n\treturn rangeNodes;\r\n}\r\n\r\nfunction getSelectedNodes(sel) {\r\n\tif (!sel.isCollapsed) {\r\n\t\treturn getRangeSelectedNodes(sel.getRangeAt(0));\r\n\t}\r\n\treturn [];\r\n}\r\n\r\nfunction isHidden(el) {\r\n\ttry {\r\n\t\tvar style = window.getComputedStyle(el);\r\n\t\treturn (style.display === 'none' ||\r\n\t\t\tstyle.opacity === '0' ||\r\n\t\t\tstyle.fontSize === '0px' ||\r\n\t\t\tstyle.visibility === 'hidden');\r\n\t} catch (e) {\r\n\t\treturn true;\r\n\t}\r\n}\r\n\r\nfunction markNodes(sel) {\r\n\tvar nodes;\r\n\tvar whitespaceOnly = /^\\s*$/;;\r\n\tif (!sel.isCollapsed) {\r\n\t\tif (sel.type === 'Range') {\r\n\t\t\tfor (let i = 0; i < sel.rangeCount; i++) {\r\n\t\t\t\tconst range = sel.getRangeAt(i);\r\n\t\t\t\tnodes = getRangeSelectedNodes(range);\r\n\t\t\t\t//computedStyleToInlineStyle(range.commonAncestorContainer);\r\n\t\t\t\tif (nodes && nodes.length > 0) {\r\n\t\t\t\t\tfor (var i = 0; nodes.length > i; i++) {\r\n\t\t\t\t\t\tvar node = nodes[i];\r\n\t\t\t\t\t\tif (node && node.nodeType === Node.TEXT_NODE && !node.textContent.match(whitespaceOnly)) {\r\n\t\t\t\t\t\t\tvar parentNode = node.parentNode;\r\n\t\t\t\t\t\t\tparentNode.setAttribute(\"data-numici-include\", !isHidden(parentNode));\r\n\t\t\t\t\t\t\tparentNode.setAttribute(\"data-numici-id\", uuid.v4());\r\n\t\t\t\t\t\t} else if (node && node.setAttribute) {\r\n\t\t\t\t\t\t\tnode.setAttribute(\"data-numici-include\", !isHidden(node));\r\n\t\t\t\t\t\t\tnode.setAttribute(\"data-numici-id\", uuid.v4());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction inlineCss(div) {\r\n\tdiv.find(\"[data-numici-id]\").each(function(index, element) {\r\n\t\tvar $domElement = document.querySelector(\"[data-numici-id='\" + $(element).attr(\"data-numici-id\") + \"']\");\r\n\t\tif ($domElement) {\r\n\t\t\ttry {\r\n\t\t\t\tcomputedStyleToInlineStyle($domElement, null, element);\r\n\t\t\t} catch (e) {\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n}\r\n\r\n\r\nfunction extractContentFromSelection(selection, annotation,isPdf) {\r\n\tvar content = {},text;\r\n\tif (selection) {\r\n\t\t  text = selection.toString();\r\n\t\t  text = text.replace(/(\\r\\n|\\n|\\r)/gm, \"\\n\");\r\n\t\tif (selection.rangeCount > 0) {\r\n\t\t\tmarkNodes(selection);\r\n\t\t\tvar range = selection.getRangeAt(0);\r\n\t\t\tvar fragment = range.cloneContents();\r\n\t\t\tvar div = document.createElement('div');\r\n\t\t\tdiv.appendChild(fragment.cloneNode(true));\r\n\t\t\t//(div).find('hypothesis-highlight').unwrap();\r\n\t\t\tvar imgs = $(div).find(\"img\");\r\n\t\t\tvar links = $(div).find(\"a\");\r\n\t\t\tvar canvasEl = $(div).find(\"canvas\");\r\n\t\t\tvar svgEl = $(div).find(\"svg\");\r\n\t\t\tvar tableEl = $(div).find(\"table\");\r\n\t\t\t$(div).find(\"style\").remove();\r\n\t\t\t$(div).find(\"[data-numici-include=false]\").remove();\r\n\t\t\ttry {\r\n\t\t\t\t$(\"[data-numici-include]\").each(function() {\r\n\t\t\t\t\t$(this).removeAttr(\"data-numici-include\");\r\n\t\t\t\t\t$(this).removeAttr(\"data-numici-id\");\r\n\t\t\t\t});\r\n\t\t\t\t$(div).find('hypothesis-highlight').each(function() {\r\n\t\t\t\t\t$(this).contents().insertBefore(this);\r\n\t\t\t\t\t$(this).remove();\r\n\t\t\t\t});\r\n\t\t\t} catch (e) { }\r\n\t\t\t$(div).find('[class]').removeClass();\r\n\t\t\tif (!isEmpty(text) && (canvasEl.length > 0 || svgEl.length > 0)) {\r\n\t\t\t\tcontent.error = true;\r\n\t\t\t\tcontent.errorMsg = \"Svg and Canvas graphical elements may not be highlighted with text\";\r\n\t\t\t}\r\n\t\t\tif (imgs.length > 0) {\r\n\t\t\t\timgs.each((function(_this) {\r\n\t\t\t\t\treturn function(index, element) {\r\n\t\t\t\t\t\t$(element).attr(\"src\", element.src);\r\n\t\t\t\t\t\t$(element).removeAttr(\"style\");\r\n\t\t\t\t\t\t$(element).removeAttr(\"height\");\r\n\t\t\t\t\t\t$(element).removeAttr(\"width\");\r\n\t\t\t\t\t\t$(element).css('maxWidth', '100%');\r\n\t\t\t\t\t\t$(element).css('height', 'auto');\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t}\r\n\r\n\t\t\tif (links.length > 0) {\r\n\t\t\t\tlinks.each((function(_this) {\r\n\t\t\t\t\treturn function(index, element) {\r\n\t\t\t\t\t\t$(element).attr(\"href\", element.href);\r\n\t\t\t\t\t\treturn $(element).attr(\"target\", \"_blank\");\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t}\r\n\t\t\tif (canvasEl.length > 0) {\r\n\t\t\t\tcanvasEl.each((function(_this) {\r\n\t\t\t\t\treturn function(index, element) {\r\n\t\t\t\t\t\t$(element).remove();\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t}\r\n\t\t\tif (svgEl.length > 0) {\r\n\t\t\t\tsvgEl.each((function(_this) {\r\n\t\t\t\t\treturn function(index, element) {\r\n\t\t\t\t\t\t$(element).remove();\r\n\t\t\t\t\t};\r\n\t\t\t\t})(this));\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(isPdf) {\r\n\t\t\t\tcontent.annotatedText = text;\r\n\t\t\t\tcontent.formatedText = htmlToMarkdown(text);\r\n\t\t\t\tcontent.coordinates = selectionRectInPdfContext(selection);\r\n\t\t\t} else {\r\n\t\t\t\tcontent.annotatedText = $(div).text().replace(/(\\r\\n|\\n|\\r)/gm, \"\\n\");\r\n\t\t\t\ttext = htmlToMarkdown(div.innerHTML);\r\n\t\t\t\tcontent.formatedText = text;\r\n\t\t\t\tcontent.coordinates = selectionRectInDocContext(selection);\r\n\t\t\t}\r\n\t\t\tif(annotation.annotationType && annotation.annotationType == \"Screenshot\") {\r\n\t\t\t\tcontent.error = false;\r\n\t\t\t}\r\n\t\t\t//var juiceHtml = inlineContent(div.innerHTML);\r\n\t\t\t//inlineCss($(div));\r\n\t\t\t//content.htmlText = \"<div style='margin-top:20px;position:relative;border-top:1px solid #069;overflow:auto;'>\" + div.innerHTML + \"</div>\";//juiceHtml + \"<div style='margin-top:20px;position:relative;border-top:1px solid #069;overflow:auto;'>\" + div.innerHTML + \"</div>\";\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\tannotation = Object.assign(annotation, content);\r\n\treturn content;\r\n\r\n}\r\n\r\nfunction computeOffsets(highlights) {\r\n\tlet top = [],left = [];\r\n\tif(highlights && highlights.length > 0) {\r\n\t\thighlights.each(function(ind, el) {\r\n\t\t\tvar elOffset = $(el).offset();\r\n\t\t\ttop.push(elOffset.top);\r\n\t\t\tleft.push(elOffset.left);\r\n\t\t});\r\n\t}\r\n\t\r\n\treturn {top: Math.min(...top),left: Math.min(...left)};\r\n}\r\n\r\nmodule.exports = {\r\n\tgetTextBoundingBoxes: getTextBoundingBoxes,\r\n\tisNodeInRange: isNodeInRange,\r\n\tisSelectionBackwards: isSelectionBackwards,\r\n\tselectionFocusRect: selectionFocusRect,\r\n\tforEachNodeInRange: forEachNodeInRange,\r\n\tselectionRectInDocContext: selectionRectInDocContext,\r\n\trangeRectInDocContext: rangeRectInDocContext,\r\n\tcomputedStyleToInlineStyle: computedStyleToInlineStyle,\r\n\tinlineContent: inlineContent,\r\n\tgetSelectedNodes: getSelectedNodes,\r\n\tmarkNodes: markNodes,\r\n\tinlineCss: inlineCss,\r\n\textractContentFromSelection: extractContentFromSelection,\r\n\tcomputeOffsets: computeOffsets\r\n};\r\n\r\n\r\n\r\n\r\n\r\n/*\r\n\r\n\r\n**** from guest -- create annotation ****\r\n\r\n      text = selection.toString()\r\n      text = text.replace(/(\\r\\n|\\n|\\r)/gm,\"\\n\")\r\n      if selection.rangeCount > 0\r\n        rangeUtil.markNodes(selection)\r\n        range = selection.getRangeAt(0)\r\n        fragment = range.cloneContents()\r\n        div = document.createElement('div')\r\n        div.appendChild(fragment.cloneNode(true))\r\n\r\n\r\n        $(div).find('hypothesis-highlight').unwrap()\r\n        imgs = $(div).find(\"img\")\r\n        links = $(div).find(\"a\")\r\n        canvasEl = $(div).find(\"canvas\")\r\n        svgEl = $(div).find(\"svg\")\r\n        tableEl = $(div).find(\"table\")\r\n        $(div).find(\"style\").remove()\r\n        $(div).find(\"[data-numici-include=false]\").remove()\r\n\r\n        juiceHtml = rangeUtil.inlineContent(div.innerHTML)\r\n        rangeUtil.inlineCss($(div),$);\r\n\r\n\r\n        $(div).find('[class]').removeClass()\r\n\r\n        #imgs.length > 0 ||\r\n        #\"Image , Svg and Canvas graphical elements may not be highlighted with text\"\r\n        if !isEmpty(text) && ( canvasEl.length > 0 || svgEl.length > 0)\r\n          annotation.error = true\r\n          annotation.errorMsg = \"Svg and Canvas graphical elements may not be highlighted with text\"\r\n        if imgs.length > 0 #&& isEmpty(text)\r\n          imgs.each (index, element) =>\r\n            $(element).attr(\"src\",element.src)\r\n            $(element).removeAttr(\"style\")\r\n            $(element).removeAttr(\"height\")\r\n            $(element).removeAttr(\"width\")\r\n            $(element).css('maxWidth','100%')\r\n            $(element).css('height','auto')\r\n            return\r\n        ###\r\n        else if imgs.length > 0 && !isEmpty(text)\r\n          imgs.each (index, element) =>\r\n            $(element).remove()\r\n            return\r\n        ###\r\n        if links.length > 0\r\n          links.each (index, element) =>\r\n            $(element).attr(\"href\",element.href)\r\n            $(element).attr(\"target\",\"_blank\")\r\n        if canvasEl.length > 0\r\n          canvasEl.each (index, element) =>\r\n            $(element).remove()\r\n            return\r\n        if svgEl.length > 0\r\n          svgEl.each (index, element) =>\r\n            $(element).remove()\r\n            return\r\n        ###\r\n        if tableEl.length > 0\r\n          tableEl.each (index, element) =>\r\n            $(element).removeAttr(\"width\")\r\n            $(element).attr(\"border\",1)\r\n            $(element).css('width','100%')\r\n            $(element).css('maxWidth','100%')\r\n            $(element).css('height','auto')\r\n            return\r\n        if canvasEl.length > 0\r\n          canvasEl.each (index, element) =>\r\n            canvasId = $(element).attr(\"data-hid\")\r\n            if canvasId && $('canvas[data-hid=\"'+canvasId+'\"]').length > 0\r\n              el = $('canvas[data-hid=\"'+canvasId+'\"]')[0]\r\n              imgSrc = el.toDataURL(\"image/png\")\r\n              img = $('<img/>')\r\n              img.attr(\"src\",imgSrc)\r\n              img.width =  $(el).width()\r\n              img.height =  $(el).height()\r\n              img.css({\"backgroundColor\": \"transparent\"})\r\n              if $(el).css('position') is 'absolute'\r\n                img.css({\r\n                \"position\": \"absolute\",\r\n                \"left\": $(el).css('left'),\r\n                \"top\": $(el).css('top'),\r\n                \"zIndex\": $(el).css('z-index')\r\n                })\r\n              $(element).replaceWith(img)\r\n              return\r\n        text = div.innerHTML\r\n        ###\r\n        annotation.annotatedText = text\r\n        text = htmlToMarkdown(div.innerHTML)\r\n        annotation.formatedText = text\r\n        annotation.htmlText = juiceHtml + \"<div style='margin-top:20px;position:relative;border-top:1px solid #069;overflow:auto;'>\"+ div.innerHTML+ \"</div>\";\r\n        annotation.coordinates = rangeUtil.selectionRectInDocContext(selection)\r\n\r\n*/",
    "'use strict';\r\nvar $ = require('jquery');\r\n\r\nfunction ScreenShot(window, options) {\r\n\tvar self = this;\r\n\tvar isPdf = options.isPdf ? options.isPdf() : false;\r\n    const MARGIN_PIXEL = 5;\r\n\tfunction init() {\r\n\t\tself.ghostElement = null;\r\n\t\tself.startPos = null;\r\n\t\tself.gCoords = null;\r\n\t\tself.onCapture = options.onCapture;\r\n\t\tself.onCancel = options.onCancel;\r\n\t\tself.scrollToPdfAnnotation = options.scrollToPdfAnnotation;\r\n\t\tself.offset = 120;\r\n\t\tself.start = false;\r\n\t\tself.scrollToScreenshot = {};\r\n\t\tself.pdfWholePage = {};\r\n\t\ttry {\r\n\t\t\tself.PDFViewer = PDFViewerApplication.pdfViewer;\r\n\r\n\t\t\tif (self.PDFViewer) {\r\n\t\t\t\t\r\n\t\t\t\tdocument.addEventListener('scalechange', function(e) {\r\n\t\t\t\t\t\r\n\t\t\t\t}, true);\r\n\t\t\t\t\r\n\t\t\t\tdocument.addEventListener('textlayerrendered', function(e) {\r\n\t\t\t\t\tvar pageNumber = e.detail.pageNumber;\r\n\t\t\t\t\tvar pageIndex = pageNumber - 1;\r\n\t\t\t\t\tvar pageView = self.PDFViewer.getPageView(pageIndex);\r\n\r\n\t\t\t\t\tif (!pageView) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (pageView.error) {\r\n\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(self.pdfWholePage.pageNo == pageNumber) {\r\n\t\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\t\tpafPageScreenshot(self.pdfWholePage.pageNo);\r\n\t\t\t\t\t\t\t}, 1000);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif (self.start) {\r\n\t\t\t\t\t\t\tself.startScreenshot(pageNumber);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(self.scrollToScreenshot.pageNo == pageNumber) {\r\n\t\t\t\t\t\t\tself.scrollToPdfAnnotation(self.scrollToScreenshot.annot,self.scrollToScreenshot.anchor,self.scrollToScreenshot.pageNo);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}, true);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\r\n\t\t}\r\n\t}\r\n\r\n    self.resetSelectedScreenshot = function() {\r\n\t\tself.scrollToScreenshot = {};\r\n\t};\r\n\r\n\tself.getScrollCoords = function(element) {\r\n\t\tvar scrollCoords = {};\r\n\t\tvar width = element.width();\r\n\t\tvar height = element.height();\r\n\t\tvar vw = screen.availWidth;//Math.max(window.innerWidth, document.documentElement.clientWidth, document.body.clientWidth);\r\n\t\tvar vh = screen.availHeight;//Math.max(window.innerHeight, document.documentElement.clientHeight, document.body.clientHeight);\r\n\t\tvar left = vw / 2 - width / 2;\r\n\t\tvar top = vh / 2 - height / 2;\r\n\t\ttry {\r\n\t\t\tscrollCoords.x = element.offset().left - left;\r\n\t\t\tscrollCoords.y = element.offset().top - top;\r\n\r\n\t\t} catch (e) {\r\n\t\t\tscrollCoords.x = element.offset().left;\r\n\t\t\tscrollCoords.y = element.offset().top;\r\n\t\t}\r\n\r\n\t\treturn scrollCoords;\r\n\t};\r\n\r\n\r\n\tself.calculateCoordinates = function(element, coords) {\r\n\t\ttry {\r\n\t\t\tvar left = 0;\r\n\t\t\tvar top = 0;\r\n\t\t\tif (Array.isArray(coords)) {\r\n\t\t\t\tleft = coords[0];\r\n\t\t\t\ttop = coords[1];\r\n\t\t\t\tcoords[4] = (left - $(element).offset().left);\r\n\t\t\t\tcoords[5] = (top - $(element).offset().top);\r\n\t\t\t} else if (coords.left && coords.top) {\r\n\t\t\t\tleft = coords.left;\r\n\t\t\t\ttop = coords.top;\r\n\t\t\t\tcoords[\"relLeft\"] = (left - $(element).offset().left);\r\n\t\t\t\tcoords[\"reltop\"] = (top - $(element).offset().top);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\r\n\t\t}\r\n\t};\r\n\r\n\r\n\tself.getCommonParent = function(elements) {\r\n\t\tvar parent;\r\n\t\tif (elements && elements.length > 0) {\r\n\t\t\tparent = $(elements[0]).parents().has(elements[elements.length - 1]).first();\r\n\t\t}\r\n\t\tconsole.log(\"common parent \" + parent ? parent[0] : null);\r\n\t\treturn parent;\r\n\t};\r\n\t\r\n\tself.getCommonParentForPdf = function(highlights) {\r\n\t\tvar parent;\r\n\t\tif (highlights && highlights.length > 0) {\r\n\t\t\tvar $pageNum = $(highlights[0]).closest(\".page\");\r\n\t\t\tvar txtLayer = $pageNum && $pageNum.find(\".textLayer\");\r\n\t\t\tparent = txtLayer.length > 0 ? txtLayer : null; \t\r\n\t\t}\r\n\t\treturn parent\r\n\t};\r\n\r\n\tself.getTextUndertheCoordinates = function(elements, coords) {\r\n\t\tvar filtered, text = \"\";\r\n\t\tif (elements && elements.length > 0 && coords && coords.length > 0) {\r\n\t\t\ttry {\r\n\t\t\t\tfiltered = elements.filter(function(index, el) {\r\n\t\t\t\t\tvar elOffset = $(el).offset();\r\n\t\t\t\t\tvar elTop = elOffset.top;\r\n\t\t\t\t\tvar elLeft = elOffset.left;\r\n\t\t\t\t\tvar elRight = elLeft + $(el).width();\r\n\t\t\t\t\tvar elbottom = elTop + $(el).height();\r\n\t\t\t\t\treturn rectanglesIntersect(coords[0], coords[1], coords[2], coords[3], elLeft, elTop, elRight, elbottom);\r\n\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\r\n\t\t\t}\r\n\t\t\tif (filtered && filtered.length > 0) {\r\n\t\t\t\tfiltered.each(function(ind, el) {\r\n\t\t\t\t\tif ($(el).text()) {\r\n\t\t\t\t\t\ttext += \"  \" + $(el).text();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(\"Extracted text \" + text);\r\n\t\treturn text;\r\n\t};\r\n\t\r\n\tself.getTextUnderthePdfCoordinates = function(elements, coords) {\r\n\t\tvar filtered, text = \"\";\r\n\t\tif (elements && elements.length > 0 && coords && coords.length > 0) {\r\n\t\t\tvar pageNo = self.getPdfPageByAnnot(elements);\r\n\t\t\ttry {\r\n\t\t\t\t var pageIndex = pageNo - 1;\r\n\t\t\t\t var pageView = self.PDFViewer.getPageView(pageIndex);\r\n\t\t\t\t var viewport = pageView.viewport;\r\n\t\t\t\t var bounds = viewport.convertToViewportRectangle(coords);\r\n\t\t\t\t var top = Math.min(bounds[1], bounds[3]);\r\n\t\t\t\t var left = Math.min(bounds[0], bounds[2]);\r\n\t\t\t\t var w = Math.abs(bounds[0] - bounds[2]);\r\n\t\t\t\t var h = Math.abs(bounds[1] - bounds[3]);\r\n\t\t\t\tfiltered = elements.filter(function(index, el) {\r\n\t\t\t\t\tvar elOffset = $(el).parent().position();\r\n\t\t\t\t\tvar elTop = elOffset.top;\r\n\t\t\t\t\tvar elLeft = elOffset.left;\r\n\t\t\t\t\tvar elRight = elLeft + $(el).width();\r\n\t\t\t\t\tvar elbottom = elTop + $(el).height();\r\n\t\t\t\t\treturn rectanglesIntersect(left, top, w+left, h+top, elLeft, elTop, elRight, elbottom);\r\n\t\t\t\t});\r\n\t\t\t} catch (e) {\r\n\r\n\t\t\t}\r\n\t\t\tif (filtered && filtered.length > 0) {\r\n\t\t\t\tfiltered.each(function(ind, el) {\r\n\t\t\t\t\tif ($(el).text()) {\r\n\t\t\t\t\t\ttext += \"  \" + $(el).text();\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t\tconsole.log(\"Extracted text \" + text);\r\n\t\treturn text;\r\n\t};\r\n\r\n\tself.highlightAreaByHighlights = function(elements, coords) {\r\n\t\tif (elements && elements.length > 0) {\r\n\t\t\tvar parent = $(elements[0]).parents().has(elements[elements.length - 1]).first();\r\n\t\t\tself.highlightArea(parent, coords);\r\n\t\t}\r\n\t};\r\n\r\n\r\n    self.pdfPageRendered = function(highlights) {\r\n\t\tvar rendered = false;\r\n\t\tif (highlights && highlights.length > 0) {\r\n\t\t\tvar $pageNum = $(highlights[0]).closest(\".page\");\r\n\t\t\trendered = $pageNum && $pageNum.find(\".textLayer\").length > 0; \t\r\n\t\t}\r\n\t\treturn rendered;\r\n\t};\r\n\t\r\n\t self.getPdfPageByAnnot = function(highlights) {\r\n\t\tvar pageNo = null;\r\n\t\tif (highlights && highlights.length > 0) {\r\n\t\t\tpageNo = $(highlights[0]).closest(\".page\").attr(\"data-page-number\");\t\r\n\t\t}\r\n\t\treturn pageNo;\r\n\t};\r\n\r\n\tself.highlightpdfScreenshotArea = function(annotation,anchor,pageNo) {\r\n\t\tself.scrollToScreenshot.annot = annotation;\r\n\t\tself.scrollToScreenshot.pageNo = pageNo;\r\n\t\tself.scrollToScreenshot.anchor = anchor;\r\n\t};\r\n\r\n\r\n    self.drawPdfScreenshotArea = function(annotation,pageNo) {\r\n\t    self.removeAreaHighlight();\r\n\t\tvar css = {\r\n\t\t\t\"position\": 'absolute',\r\n\t\t\t\"z-index\": 2147483645,\r\n\t\t\t\"background\": \"#0066991a\",\r\n\t\t\t\"border\": '2px solid red',\r\n\t\t\t\"pointer-events\": \"none\",\r\n\t\t};\r\n\t\tvar hAreaHighlight = $(\"#h-area-highlight\");\r\n\t\tif (hAreaHighlight.length == 0) {\r\n\t\t\thAreaHighlight = $('<div id=\"h-area-highlight\" style=\"position:absolute;\"></div>');\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tvar coords =  annotation.coordinates ;\r\n\t\t\tif ( coords && coords.length > 0 && self.PDFViewer) {\r\n\t\t\t\t  var pageIndex = pageNo - 1;\r\n\t\t\t\t  var pageView = self.PDFViewer.getPageView(pageIndex);\r\n\t\t\t\t  var viewport = pageView.viewport;\r\n\t\t\t\t  var bounds = viewport.convertToViewportRectangle(coords);\r\n\t\t\t\t  var top = Math.min(bounds[1], bounds[3]);\r\n\t\t\t\t  var left = Math.min(bounds[0], bounds[2]);\r\n\t\t\t\t  var w = Math.abs(bounds[0] - bounds[2]);\r\n\t\t\t\t  var h = Math.abs(bounds[1] - bounds[3]);\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t  css.top = top+\"px\";\r\n\t\t\t\t  css.left = left+\"px\";\r\n\t\t\t\t  css.width = w + \"px\";\r\n\t\t\t\t  css.height = h + \"px\";\r\n\t\t\t\t  hAreaHighlight.css(css);\r\n\t\t          if(pageView.textLayer && pageView.textLayer.textLayerDiv) {\r\n\t\t\t\t\t$( pageView.textLayer.textLayerDiv).append(hAreaHighlight);\r\n\t\t\t\t  }\r\n\t\t\t} else {\r\n\t\t\t\tthrow \"Element not available\";\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tcss.top = coords[1];\r\n\t\t\tcss.left = coords[0];\r\n\t\t\tcss.width = (coords[2] - coords[0]) + \"px\";\r\n\t\t\tcss.height = (coords[3] - coords[1]) + \"px\";\r\n\r\n\t\t}\r\n\t\t\r\n\t\treturn hAreaHighlight;\r\n\t};\r\n\r\n\tself.highlightArea = function(element, coords) {\r\n\t\t//var element = anchor.highlights[0];\r\n\t\tvar css = {\r\n\t\t\t\"position\": 'absolute',\r\n\t\t\t\"z-index\": 2147483645,\r\n\t\t\t\"background\": \"#0066991a\",\r\n\t\t\t\"border\": '2px solid red',\r\n\t\t\t\"pointer-events\": \"none\",\r\n\t\t};\r\n\t\tvar hAreaHighlight = $(\"#h-area-highlight\");\r\n\t\tif (hAreaHighlight.length == 0) {\r\n\t\t\thAreaHighlight = $('<div id=\"h-area-highlight\" style=\"position:absolute;\"></div>');\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tif (element && coords && coords.length > 0) {\r\n\t\t\t\tcss.top = $(element).offset().top + coords[5];\r\n\t\t\t\tcss.left = $(element).offset().left + coords[4];\r\n\t\t\t\t//css.top = coords[5];\r\n\t\t\t\t//css.left = coords[4];\r\n\t\t\t\tcss.width = (coords[2] - coords[0]) + \"px\";\r\n\t\t\t\tcss.height = (coords[3] - coords[1]) + \"px\";\r\n\t\t\t\t//$(element).append(hAreaHighlight);\r\n\t\t\t} else {\r\n\t\t\t\tthrow \"Element not available\";\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tcss.top = coords[1];\r\n\t\t\tcss.left = coords[0];\r\n\t\t\tcss.width = (coords[2] - coords[0]) + \"px\";\r\n\t\t\tcss.height = (coords[3] - coords[1]) + \"px\";\r\n\r\n\t\t}\r\n\t\tif (isPdf) {\r\n\t\t\tif (element) {\r\n\t\t\t\tcss.top = coords[5];\r\n\t\t\t\tcss.left = coords[4];\r\n\t\t\t\thAreaHighlight.css(css);\r\n\t\t\t\t$(element).append(hAreaHighlight);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\thAreaHighlight.css(css);\r\n\t\t\t$(\"html\").append(hAreaHighlight);\r\n\t\t}\r\n\t\treturn hAreaHighlight;\r\n\r\n\t};\r\n\tself.removeAreaHighlight = function() {\r\n\t\t$(\"#h-area-highlight\").remove();\r\n\t};\r\n\r\n\tself.toggleAreaHighlight = function(status) {\r\n\t\tif (status) {\r\n\t\t\t$(\"#h-area-highlight\").show();\r\n\t\t} else {\r\n\t\t\t$(\"#h-area-highlight\").hide();\r\n\t\t}\r\n\t};\r\n\r\n\tself.startScreenshot = function(pageNo) {\r\n\t\tself.removeAreaHighlight();\r\n\t\tself.resetSelectedScreenshot();\r\n\t\tself.start = true;\r\n\t\tremoveEvents();\r\n\t\tlet backDrop = $(\".numiciScreensShotBackDrop\");\r\n\t\tbackDrop.remove();\r\n\t\tif (backDrop.length == 0) {\r\n\t\t\tbackDrop = $('<div class=\"numiciScreensShotBackDrop\"></div>');\r\n\t\t}\r\n\t\tbackDrop.css({\r\n\t\t\t\"background-color\": \"transparent\",\r\n\t\t\t\"position\": \"fixed\",\r\n\t\t\t\"top\": \"0px\",\r\n\t\t\t\"left\": \"0px\",\r\n\t\t\t\"height\": \"100%\",\r\n\t\t\t\"width\": \"100%\",\r\n\t\t\t\"cursor\": \"crosshair\",\r\n\t\t\t\"z-index\": 2147483644,\r\n\t\t});\r\n\t\t//document.body.style.cursor = \"crosshair\";\r\n\t\tif (isPdf) {\r\n\t\t\t//backDrop.attr(\"data-page\", pageNo);\r\n\t\t\tbackDrop.css(\"position\", \"absolute\");\r\n\t\t\t$('.textLayer').append(backDrop);\r\n\t\t\t$(document).on('mousedown', '.numiciScreensShotBackDrop', self.mouseDown);\r\n\t\t\tdocument.addEventListener('keydown', self.onKeydown, false);\r\n\r\n\t\t} else {\r\n\t\t\t$('html').append(backDrop);\r\n\t\t\tdocument.addEventListener('mousedown', self.mouseDown, false);\r\n\t\t\tdocument.addEventListener('keydown', self.onKeydown, false);\r\n\t\t}\r\n\t};\r\n\r\n\tself.reset = function() {\r\n\t\tremoveEvents();\r\n\t\tself.onCancel();\r\n\t\tself.start = false;\r\n\t};\r\n\t\r\n\tself.onEndScreenshot = function() {\r\n\t\tremoveEvents();\r\n\t\tself.start = false;\r\n\t\tself.pdfWholePage = {};\r\n\t};\r\n\r\n\tself.onKeydown = function(event) {\r\n\t\tif (event.key == \"Escape\") {\r\n\t\t\tevent.stopPropagation();\r\n\t\t\tself.reset();\r\n\t\t}\r\n\t};\r\n\r\n\tfunction removeEvents() {\r\n\t\t$(document).off('mousedown', '.numiciScreensShotBackDrop', self.mouseDown);\r\n\t\tdocument.removeEventListener('mousedown', self.mouseDown, false);\r\n\t\tdocument.removeEventListener('keydown', self.onKeydown, false);\r\n\t\t$(\".numiciScreensShotBackDrop\").remove();\r\n\t}\r\n\r\n\tfunction getTextNodesIn(node, includeWhitespaceNodes) {\r\n\t\tvar textNodes = [], whitespace = /^\\s*$/;\r\n\r\n\t\tfunction getTextNodes(node) {\r\n\t\t\tif (node.nodeType == 3) {\r\n\t\t\t\tif (includeWhitespaceNodes || !whitespace.test(node.nodeValue)) {\r\n\t\t\t\t\ttextNodes.push(node);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var i = 0, len = node.childNodes.length; i < len; ++i) {\r\n\t\t\t\t\tgetTextNodes(node.childNodes[i]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tgetTextNodes(node);\r\n\t\treturn textNodes;\r\n\t}\r\n\r\n\tfunction getRanageForPdfFiles(element, start, end) {\r\n\t\tvar range;\r\n\t\tif ($(element).hasClass(\"textLayer\")) {\r\n\t\t\trange = document.createRange();\r\n\t\t\tvar textnodes = getTextNodesIn(element, false);\r\n\t\t\tif (textnodes.length) {\r\n\t\t\t\tif (start) {\r\n\t\t\t\t\trange.setStart(textnodes[0], 0);\r\n\t\t\t\t}\r\n\t\t\t\tif (end) {\r\n\t\t\t\t\tvar endNodeoffset = 0;\r\n\t\t\t\t\tvar endTxt = textnodes[textnodes.length - 1].nodeValue;\r\n\t\t\t\t\tif (endTxt.length - 1 > 0) {\r\n\t\t\t\t\t\tendNodeoffset = endTxt.length - 1;\r\n\t\t\t\t\t}\r\n\t\t\t\t\trange.setEnd(textnodes[textnodes.length - 1], endNodeoffset);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn range;\r\n\t}\r\n\r\n\r\n    self.isFromTextLayer = function(el) {\r\n\t\tif($(el).hasClass(\"textLayer\") && $(el).closest(\".textLayer\").length > 0) {\r\n\t\t\treturn true;\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t};\r\n\r\n\tself.createRangeinPdfFiles = function(coords, boundElement, startElement, endElement) {\r\n\t\tvar range, selection;\r\n\t\tif (window.getSelection) {\r\n\t\t\ttry {\r\n\t\t\t\tif (document.caretRangeFromPoint && coords.screenshotInfo) {\r\n\t\t\t\t\tvar startRange = document.caretRangeFromPoint(coords.screenshotInfo.x, coords.screenshotInfo.y);\r\n\t\t\t\t\tvar endRange = document.caretRangeFromPoint(coords.screenshotInfo.x1, coords.screenshotInfo.y1);\r\n\t\t\t\t\t\r\n\t\t\t\t\tif(!self.isFromTextLayer(startRange.startContainer)) {\r\n\t\t\t\t\t\tthrow \"Not from textLayer\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (self.isFromTextLayer(endRange.endContainer)) {\r\n\t\t\t\t\t\tendRange = getRanageForPdfFiles(endRange.endContainer, false, true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow \"Not from textLayer\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tselection = window.getSelection();\r\n\t\t\t\t\trange = document.createRange();\r\n\t\t\t\t\trange.setStart(startRange.startContainer, startRange.startOffset);\r\n\t\t\t\t\trange.setEnd(endRange.endContainer, endRange.endOffset);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(range);\r\n\t\t\t\t\tif (!selection.toString()) {\r\n\t\t\t\t\t\tthrow \"No text nodes\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(\"From caretRangeFromPoint\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow \"no caretRangeFromPoint\";\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tselection = window.getSelection();\r\n\t\t\t\trange = document.createRange();\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (startElement && endElement && self.isFromTextLayer(startElement) && self.isFromTextLayer(endElement)) {\r\n\t\t\t\t\t\trange.setStartBefore(startElement);\r\n\t\t\t\t\t\tif ($(endElement).hasClass(\"textLayer\")) {\r\n\t\t\t\t\t\t\tvar endRange = getRanageForPdfFiles(endElement, false, true);\r\n\t\t\t\t\t\t\trange.setEnd(endRange.endContainer, endRange.endOffset);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\trange.setEndAfter(endElement);\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tconsole.log(\"From start and end elements\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow \"No startElement and endElement\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tif (boundElement && self.isFromTextLayer(boundElement)) {\r\n\t\t\t\t\t\trange = getRanageForPdfFiles(boundElement,true,true);\r\n\t\t\t\t\t\tconsole.log(\"From Middle point element\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn range;\r\n\t};\r\n\r\n\r\n\tself.createRange = function(coords, boundElement, startElement, endElement) {\r\n\t\tvar range, selection;\r\n\t\tif (window.getSelection) {\r\n\t\t\ttry {\r\n\t\t\t\tif (document.caretRangeFromPoint && coords.screenshotInfo) {\r\n\t\t\t\t\tvar startRange = document.caretRangeFromPoint(coords.screenshotInfo.x, coords.screenshotInfo.y);\r\n\t\t\t\t\tvar endRange = document.caretRangeFromPoint(coords.screenshotInfo.x1, coords.screenshotInfo.y1);\r\n\t\t\t\t\tselection = window.getSelection();\r\n\t\t\t\t\trange = document.createRange();\r\n\t\t\t\t\trange.setStart(startRange.startContainer, startRange.startOffset);\r\n\t\t\t\t\trange.setEnd(endRange.endContainer, endRange.endOffset);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(range);\r\n\t\t\t\t\tif (!selection.toString()) {\r\n\t\t\t\t\t\tthrow \"No text nodes\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(\"From caretRangeFromPoint\");\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow \"no caretRangeFromPoint\";\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tselection = window.getSelection();\r\n\t\t\t\trange = document.createRange();\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (startElement && endElement) {\r\n\t\t\t\t\t\trange.setStartBefore(startElement);\r\n\t\t\t\t\t\trange.setEndAfter(endElement);\r\n\t\t\t\t\t\tconsole.log(\"From start and end elements\");\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthrow \"No startElement and endElement\";\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tif (boundElement) {\r\n\t\t\t\t\t\trange.selectNode(boundElement);\r\n\t\t\t\t\t\tconsole.log(\"From Middle point element\");\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn range;\r\n\t};\r\n\r\n\r\n    self.convertToPdfCoordinates = function(coords,pageNumber) {\r\n\t\tif(pageNumber && self.PDFViewer && coords) {\r\n\t\t\tvar pageIndex = pageNumber - 1;\r\n\t\t    var pageView = self.PDFViewer.getPageView(pageIndex);\r\n\t\t\tvar pageRect = pageView.canvas.getClientRects()[0];\r\n\t\t\tvar viewport = pageView.viewport;\r\n\t\t\tvar selected = coords.map(function (r) {\r\n\t\t\t    return viewport.convertToPdfPoint(r.x - pageRect.left, r.y - pageRect.top)\r\n\t\t\t    .concat(viewport.convertToPdfPoint(r.x1 - pageRect.left, r.y1 - pageRect.top));\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\treturn (selected && selected.length > 0) ? selected[0] : null ;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\t\r\n\tself.getPageRect = function(pageNumber) {\r\n\t\tif(pageNumber && self.PDFViewer) {\r\n\t\t\tvar pageIndex = pageNumber - 1;\r\n\t\t    var pageView = self.PDFViewer.getPageView(pageIndex);\r\n\t\t\tvar pageRect = pageView.canvas.getClientRects()[0];\r\n\t\t\treturn pageRect;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\t\r\n\tself.setScale = function(pageNumber,value) {\r\n\t\tif(pageNumber && self.PDFViewer) {\r\n\t\t\tself.PDFViewer._setScale(value);\r\n\t\t\tself.PDFViewer.scrollPageIntoView(pageNumber);\r\n\t\t}\r\n\t};\r\n\t\r\n\tself.getScale = function() {\r\n\t\tif(self.PDFViewer) {\r\n\t\t\treturn self.PDFViewer._currentScaleValue;\r\n\t\t}\t\r\n\t\treturn null;\r\n\t};\r\n\t\r\n\tself.scrollPageIntoView = function(pageNumber) {\r\n\t\tif(self.PDFViewer) {\r\n\t\t\tself.PDFViewer.scrollPageIntoView(pageNumber);\r\n\t\t}\r\n\t};\r\n\t\r\n\tself.getPageOffset = function(pageNumber) {\r\n\t\tif(pageNumber && self.PDFViewer) {\r\n\t\t\tvar pageIndex = pageNumber - 1;\r\n\t\t    var pageView = self.PDFViewer.getPageView(pageIndex);\r\n\t\t\tvar pageOffset = $(pageView.canvas).offset();\r\n\t\t\treturn pageOffset;\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\t\r\n\tself.getTextLayer = function(pageNumber) {\r\n\t\tif(pageNumber && self.PDFViewer) {\r\n\t\t\tvar pageIndex = pageNumber - 1;\r\n\t\t    var pageView = self.PDFViewer.getPageView(pageIndex);\r\n\t\t\tif(pageView.textLayer && pageView.textLayer.textLayerDiv) {\r\n\t\t\t\treturn  pageView.textLayer.textLayerDiv;\r\n\t\t    }\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\tself.endScreenshot = function(coords, boundElement, startElement, endElement,pageNo) {\r\n\t\tvar selection; var range, txtRange,_coords = [];\r\n\t\ttry {\r\n\t\t\tif (window.getSelection) {\r\n\t\t\t\tselection = window.getSelection();\r\n\t\t\t\tif (isPdf) {\r\n\t\t\t\t\trange = self.createRangeinPdfFiles(coords, boundElement, startElement, endElement);\r\n\t\t\t\t\ttxtRange = self.createRange(coords, boundElement, startElement, endElement);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(txtRange);\r\n\t\t\t\t\t\r\n\t\t\t\t\t_coords[0] = coords.screenshotInfo;\r\n\t\t\t\t\t\r\n\t\t\t\t\tcoords.coordinates =  self.convertToPdfCoordinates(_coords,pageNo);\r\n\t\t\t\t} else {\r\n\t\t\t\t\trange = self.createRange(coords, boundElement, startElement, endElement);\r\n\t\t\t\t\tselection.removeAllRanges();\r\n\t\t\t\t\tselection.addRange(range);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch(e) {\r\n\t\t\t\r\n\t\t}\r\n\t\tconsole.log(\"commonAncestorContainer On creation time\" + range.commonAncestorContainer);\r\n\t\tself.onCapture(coords, selection, range);\r\n\t\tself.onEndScreenshot();\r\n\t};\r\n\r\n\tself.mouseDown = function(e) {\r\n\r\n\t\te.preventDefault();\r\n\t\tvar pageNo = $(this).closest(\".page\").attr(\"data-page-number\");\r\n\t\tself.startPos = { x: e.clientX, y: e.clientY, pageX: e.pageX, pageY: e.pageY };\r\n\r\n        if(isPdf) {\r\n\t        try{\r\n\t\t\t\tvar pageNo = $(this).closest(\".page\").attr(\"data-page-number\");\r\n\t\t\t\tvar txtLayer = $(this).closest(\".page\").find(\".textLayer\");\r\n\t\t\t\tself.startPos.pageNo = pageNo;\r\n\t\t\t\tself.startPos.pdfPageEl = txtLayer;\r\n\t\t\t}catch(e) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\r\n\t\tself.ghostElement = document.createElement('div');\r\n\t\tself.ghostElement.style.background = 'blue';\r\n\t\tself.ghostElement.style.opacity = '0.1';\r\n\t\tself.ghostElement.style.position = 'fixed';\r\n\t\tself.ghostElement.style.left = e.clientX + 'px';\r\n\t\tself.ghostElement.style.top = e.clientY + 'px';\r\n\t\tself.ghostElement.style.width = \"0px\";\r\n\t\tself.ghostElement.style.height = \"0px\";\r\n\t\tself.ghostElement.style.zIndex = \"2147483645\";\r\n\t\tself.ghostElement.setAttribute(\"id\", \"numici_rectangle\");\r\n\t\tdocument.documentElement.appendChild(self.ghostElement);\r\n\r\n\t\tdocument.addEventListener('mousemove', self.mouseMove, false);\r\n\t\tdocument.addEventListener('mouseup', self.mouseUp, false);\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n\tself.mouseMove = function(e) {\r\n\r\n\t\te.preventDefault();\r\n\r\n\t\tvar nowPos = { x: e.clientX, y: e.clientY };\r\n\t\tvar diff = { x: nowPos.x - self.startPos.x, y: nowPos.y - self.startPos.y };\r\n\r\n\t\tself.ghostElement.style.width = diff.x + 'px';\r\n\t\tself.ghostElement.style.height = diff.y + 'px';\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n    function removeGestureEvents() {\r\n\t\tdocument.removeEventListener('mousemove', self.mouseMove, false);\r\n\t\tdocument.removeEventListener('mouseup', self.mouseUp, false);\r\n\t}\r\n\r\n\tself.mouseUp = function(e) {\r\n\r\n\t\te.preventDefault();\r\n\t\tvar wholepage = false;\r\n\t\tvar boundElement, startElement, endElement;\r\n\t\t$(\".numiciScreensShotBackDrop\").remove();\r\n\t\tvar nowPos = { x: e.clientX, y: e.clientY, pageX: e.pageX, pageY: e.pageY };\r\n\r\n\t\tvar offY1 = Math.min(self.startPos.pageY, nowPos.pageY);\r\n\t\tvar offY2 = Math.max(self.startPos.pageY, nowPos.pageY);\r\n\t\tvar offX1 = Math.min(self.startPos.pageX, nowPos.pageX);\r\n\t\tvar offX2 = Math.max(self.startPos.pageX, nowPos.pageX);\r\n\r\n\t\tvar x1 = Math.min(self.startPos.x, nowPos.x); //Smaller X\r\n\t\tvar x2 = Math.max(self.startPos.x, nowPos.x); //Larger X\r\n\t\tvar y1 = Math.min(self.startPos.y, nowPos.y); //Smaller Y\r\n\t\tvar y2 = Math.max(self.startPos.y, nowPos.y); //Larger Y\r\n\r\n\r\n\t\tboundElement = self.getValidElementFromPoint((x1 + x2) / 2, (y1 + y2) / 2, { offX1, offX2, offY1, offY2 }, \"Middle\");\r\n\r\n\t\tvar client = getClientWidth();\r\n\t\tvar w = (x2 - x1) == 0 ? client.width : (x2 - x1);\r\n\t\tvar h = (y2 - y1) == 0 ? client.height : (y2 - y1);\r\n\t\t\r\n\t\tif ((x2 - x1) == 0 && y2 - y1 == 0) {\r\n\t\t\twholepage = true;\r\n\t\t}\r\n\t\t\r\n\t\tif ((x2 - x1) == 0) {\r\n\t\t\tx1 = 0;\r\n\t\t}\r\n\t\tif (y2 - y1 == 0) {\r\n\t\t\ty1 = 0;\r\n\t\t}\r\n\t\t\r\n\t\tif(wholepage && isPdf && self.startPos.pageNo) {\r\n\t\t\tif(self.getScale() == \"page-fit\") {\r\n\t\t\t\tself.scrollPageIntoView(self.startPos.pageNo);\r\n\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\tpafPageScreenshot(self.startPos.pageNo);\r\n\t\t\t\t}, 1000);\r\n\t\t\t} else {\r\n\t\t\t\tself.setScale(self.startPos.pageNo,\"page-fit\");\r\n\t\t\t\tself.pdfWholePage.pageNo = self.startPos.pageNo;\r\n\t\t\t}\r\n\t\t\tremoveGestureEvents();\r\n\t\t\t//pafPageScreenshot(self.startPos.pageNo);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tstartElement = self.getValidElementFromPoint(x1, y1, { offX1, offX2, offY1, offY2 }, \"Boundary\");\r\n\t\tendElement = self.getValidElementFromPoint(x2, y2, { offX1, offX2, offY1, offY2 }, \"Boundary\");\r\n\r\n\t\tremoveGestureEvents();\r\n\r\n\t\tself.ghostElement.parentNode.removeChild(self.ghostElement);\r\n\r\n\t\tvar coords = {\r\n\t\t\tcoordinates: [offX1, offY1, offX2, offY2],\r\n\t\t\tscreenshotInfo: {\r\n\t\t\t\tw: w,\r\n\t\t\t\th: h,\r\n\t\t\t\tx: x1,\r\n\t\t\t\ty: y1,\r\n\t\t\t\tx1: x2,\r\n\t\t\t\ty1: y2,\r\n\t\t\t\tdpi: window.devicePixelRatio,\r\n\t\t\t\twholepage: wholepage,\r\n\t\t\t\tisPdf: isPdf,\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t(function(_coords, _boundElement,pageNo) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tself.gCoords = _coords;\r\n\t\t\t\tself.endScreenshot(_coords, _boundElement, startElement, endElement,pageNo);\r\n\t\t\t}, 50);\r\n\r\n\t\t})(coords, boundElement,self.startPos.pageNo || null);\r\n\r\n\t\treturn false;\r\n\t};\r\n\r\n    function getClientWidth() {\r\n\t\treturn {\r\n\t\t\t\"width\" : Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0),\r\n\t\t\t\"height\" : Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0),\r\n\t\t};\r\n\t}\r\n\r\n    function pafPageScreenshot(pageNo) {\r\n\t    var x1,y1,x2,y2,w,h,offY1,offY2,offX1,offX2,boundElement;\r\n\t\tvar client = getClientWidth();\r\n\t\tvar clientRect = self.getPageRect(pageNo);\r\n\t\tvar offset = self.getPageOffset(pageNo);\r\n\t\tboundElement = self.getTextLayer(pageNo);\r\n\t\tif(clientRect) {\r\n\t\t\tvar wc = client.width,hc = client.height;\r\n\t\t\tx1 = (clientRect.x > 9 ? clientRect.x : 9) + MARGIN_PIXEL;\r\n\t\t\ty1 = (clientRect.y > 35 ? clientRect.y : 35) + MARGIN_PIXEL;\r\n\t\t\tx2 =(clientRect.right < wc ?  clientRect.right : wc) - MARGIN_PIXEL;\r\n\t\t\ty2 =(clientRect.bottom < hc ? clientRect.bottom : hc) - MARGIN_PIXEL;\t\r\n\t\t\tw = (clientRect.width < wc ?  clientRect.width : wc) - MARGIN_PIXEL;\r\n\t\t\th = (clientRect.height < hc ? clientRect.height : hc) - MARGIN_PIXEL;\r\n\t\t}\r\n\t\tif(offset) {\r\n\t\t\toffY1 = offset.top+y1;\r\n\t\t\toffY2 = offY1 + h;\r\n\t\t\toffX1 = offset.left+x1;\r\n\t\t\toffX2 = offX1+w;\r\n\t\t}\r\n\t\t\r\n\t\tvar coords = {\r\n\t\t\tcoordinates: [offX1, offY1, offX2, offY2],\r\n\t\t\tscreenshotInfo: {\r\n\t\t\t\tw: w,\r\n\t\t\t\th: h,\r\n\t\t\t\tx: x1,\r\n\t\t\t\ty: y1,\r\n\t\t\t\tx1: x2,\r\n\t\t\t\ty1: y2,\r\n\t\t\t\tdpi: window.devicePixelRatio,\r\n\t\t\t\twholepage: true,\r\n\t\t\t\tisPdf: isPdf,\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\t(function(_coords, _boundElement,pageNo) {\r\n\t\t\tsetTimeout(function() {\r\n\t\t\t\tself.gCoords = _coords;\r\n\t\t\t\tself.endScreenshot(_coords, _boundElement, null, null,pageNo);\r\n\t\t\t}, 50);\r\n\r\n\t\t})(coords, boundElement,self.startPos.pageNo || null);\t\r\n\t\t\r\n\t}\r\n\r\n\tfunction rectanglesIntersect(minAx, minAy, maxAx, maxAy, minBx, minBy, maxBx, maxBy) {\r\n\t\tvar aLeftOfB = maxAx < minBx;\r\n\t\tvar aRightOfB = minAx > maxBx;\r\n\t\tvar aAboveB = minAy > maxBy;\r\n\t\tvar aBelowB = maxAy < minBy;\r\n\r\n\t\treturn !(aLeftOfB || aRightOfB || aAboveB || aBelowB);\r\n\t}\r\n\r\n\r\n\tself.isValidBoundPoint = function(el) {\r\n\t\tif (el.nodeName == \"IFRAME\" || !$(el).text().trim().length || el.getAttribute('id') == \"numici_rectangle\") {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tself.isValidElement = function(el, coords, type) {\r\n\t\tif (type == \"Boundary\") {\r\n\t\t\treturn self.isValidBoundPoint(el);\r\n\t\t}\r\n\t\t\r\n\t\tvar valid = false;\r\n\t\tvar elOffset = $(el).offset();\r\n\r\n\t\tvar elTop = elOffset.top;\r\n\t\tvar elLeft = elOffset.left;\r\n\t\tvar elRight = elLeft + $(el).width();\r\n\t\tvar elbottom = elTop + $(el).height();\r\n\r\n\t\tif ($(el).has(\".numici-screenshot\") || el.nodeName == \"IFRAME\" || !$(el).text().trim().length || el.getAttribute('id') == \"numici_rectangle\" || (elTop > coords.offY1 || elbottom < coords.offY2)) {\r\n\t\t\tvalid = false;\r\n\t\t\treturn valid;\r\n\t\t}\r\n\t\tvalid = rectanglesIntersect(coords.offX1, coords.offY1, coords.offX2, coords.offY2, elLeft, elTop, elRight, elbottom);\r\n\r\n\t\t/*if (elTop <= coords.offY1 && elbottom >= coords.offY2) {\r\n\t\t\tvalid = true;\r\n\t\t}*/\r\n\r\n\t\treturn valid;\r\n\t};\r\n\r\n\tself.getValidElementFromPoint = function(x, y, coords, type) {\r\n\t\tvar self = this, element = null;\r\n\t\ttry {\r\n\t\t\tvar elements = self.elementsFromPoint(x, y);\r\n\t\t\tif (elements && elements.length > 0) {\r\n\t\t\t\tfor (var i = 0; i < elements.length; i++) {\r\n\t\t\t\t\tvar el = elements[i];\r\n\t\t\t\t\tif (self.isValidElement(el, coords, type)) {\r\n\t\t\t\t\t\telement = el;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcontinue;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tconsole.log(e.message);\r\n\t\t}\r\n\t\treturn element;\r\n\t};\r\n\r\n\t// returns a list of all elements under the cursor\r\n\r\n\tself.elementsFromPoint = function(x, y) {\r\n\t\tvar elements = [];\r\n\r\n\t\tif (typeof document.elementsFromPoint === \"function\") {\r\n\t\t\treturn document.elementsFromPoint(x, y);\r\n\t\t}\r\n\t\treturn elements;\r\n\t};\r\n\r\n\tinit();\r\n}\r\nmodule.exports = ScreenShot;\r\n",
    "'use strict';\n\nvar observable = require('./util/observable');\n\n/** Returns the selected `DOMRange` in `document`. */\nfunction selectedRange(document) {\n  var selection = document.getSelection();\n  if (!selection.rangeCount || selection.getRangeAt(0).collapsed) {\n    return null;\n  } else {\n    return selection.getRangeAt(0);\n  }\n}\n\n/**\n * Returns an Observable stream of text selections in the current document.\n *\n * New values are emitted when the user finishes making a selection\n * (represented by a `DOMRange`) or clears a selection (represented by `null`).\n *\n * A value will be emitted with the selected range at the time of subscription\n * on the next tick.\n *\n * @return Observable<DOMRange|null>\n */\nfunction selections(document) {\n\n  // Get a stream of selection changes that occur whilst the user is not\n  // making a selection with the mouse.\n  var isMouseDown;\n  var selectionEvents = observable.listen(document,\n    ['mousedown', 'mouseup', 'selectionchange'])\n    .filter(function (event) {\n      if (event.type === 'mousedown' || event.type === 'mouseup') {\n        isMouseDown = event.type === 'mousedown';\n        return false;\n      } else {\n        return !isMouseDown;\n      }\n    });\n\n  var events = observable.merge([\n    // Add a delay before checking the state of the selection because\n    // the selection is not updated immediately after a 'mouseup' event\n    // but only on the next tick of the event loop.\n    observable.buffer(10, observable.listen(document, ['mouseup'])),\n\n    // Buffer selection changes to avoid continually emitting events whilst the\n    // user drags the selection handles on mobile devices\n    observable.buffer(100, selectionEvents),\n\n    // Emit an initial event on the next tick\n    observable.delay(0, observable.Observable.of({})),\n  ]);\n\n  return events.map(function () {\n    return selectedRange(document);\n  });\n}\n\nmodule.exports = selections;\n",
    "'use strict';\r\nvar queryString = require('query-string');\r\n\r\nclass ShareController {\r\n\r\n\tconstructor() {\r\n\t\tthis.sharewindow = null;\r\n\t}\r\n\r\n\topen(url) {\r\n\t\t// In Chrome & Firefox the sizes passed to `window.open` are used for the\r\n\t\t// viewport size. In Safari the size is used for the window size including\r\n\t\t// title bar etc. There is enough vertical space at the bottom to allow for\r\n\r\n\t\tvar width = 600;\r\n\t\tvar height = 225;\r\n\r\n\t\tvar w = window.innerWidth\r\n\t\t\t|| document.documentElement.clientWidth\r\n\t\t\t|| document.body.clientWidth;\r\n\t\tif(window.outerWidth != window.screen.width) {\r\n\t\t\tw = window.screen.width;\r\n\t\t}\r\n\t\tvar h = window.innerHeight\r\n\t\t\t|| document.documentElement.clientHeight\r\n\t\t\t|| document.body.clientHeight;\r\n\t\tif(window.outerHeight && window.screen.availHeight && window.outerHeight != window.screen.availHeight) {\r\n\t\t\th = window.screen.availHeight;\r\n\t\t}\r\n\t\tvar left = w / 2 - width / 2;\r\n\t\tvar top = h / 2 - height / 2;\r\n\r\n\t\t// Generate settings for `window.open` in the required comma-separated\r\n\t\t// key=value format.\r\n\t\tvar WindowSettings = queryString.stringify({\r\n\t\t\tleft: left,\r\n\t\t\ttop: top+70,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tresizable : 'yes',\r\n\t\t\tlocation : 'no',\r\n\t\t\tfullscreen : 'no',\r\n\t\t\tstatus : 'no',\r\n\t\t}).replace(/&/g, ',');\r\n\r\n\t\tthis.close();\r\n\t\tvar windowProps = \"&iw=\"+w+\"&ih=\"+h;\r\n\t\turl = url+windowProps;\r\n\t\tthis.sharewindow = window.open('about:blank', \"ShareAsLink\", WindowSettings);\r\n\t\tthis.sharewindow.location = url;\r\n\t\t//this.sharewindow.INNER_WIDTH = w;\r\n\t\t//this.sharewindow.INNER_HEIGHT = h;\r\n\t\treturn this.sharewindow;\r\n\t}\r\n\r\n\tclose() {\r\n\t\tvar self = this;\r\n\t\ttry {\r\n\t\t\tif (self.sharewindow && self.sharewindow != null) {\r\n\t\t\t\tself.sharewindow.close();\r\n\t\t\t}\r\n\t\t} catch(e){\r\n\t\t\tconsole.log(e.message);\r\n\t\t}\r\n\t}\r\n\r\n\tfocus() {\r\n\t\tvar self = this;\r\n\t\tsetTimeout(function() {\r\n\t\t\ttry {\r\n\t\t\t\tif (self.sharewindow && self.sharewindow != null) {\r\n\t\t\t\t\tself.sharewindow.focus();\r\n\t\t\t\t}\r\n\t\t\t} catch(e){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}, 100);\r\n\r\n\t}\r\n}\r\n\r\n\r\nmodule.exports = {\r\n\tshare: ShareController,\r\n};\r\n",
    "'use strict';\n\nvar SIDEBAR_TRIGGER_BTN_ATTR = 'data-hypothesis-trigger';\n\n/**\n * Show the sidebar when user clicks on an element with the\n * trigger data attribute.\n *\n * @param {Element} rootEl - The DOM element which contains the trigger elements.\n * @param {Object} showFn - Function which shows the sidebar.\n */\n\nfunction trigger(rootEl, showFn) {\n\n  var triggerElems = rootEl.querySelectorAll('['+SIDEBAR_TRIGGER_BTN_ATTR+']');\n\n  Array.from(triggerElems).forEach(function(triggerElem) {\n    triggerElem.addEventListener('click', handleCommand);\n  });\n\n  function handleCommand(event) {\n    showFn();\n    event.stopPropagation();\n  }\n}\n\nmodule.exports = trigger;\n",
    "var $, Hammer, Host, MAX_RESIZE, MIN_RESIZE, Sidebar, annotationCounts, debounce, events, extend, features, raf, sidebarTrigger, w,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; },\n  extend1 = function(child, parent) { for (var key in parent) { if (hasProp.call(parent, key)) child[key] = parent[key]; } function ctor() { this.constructor = child; } ctor.prototype = parent.prototype; child.prototype = new ctor(); child.__super__ = parent.prototype; return child; },\n  hasProp = {}.hasOwnProperty;\n\nextend = require('extend');\n\nraf = require('raf');\n\nHammer = require('hammerjs');\n\n$ = require('jquery');\n\nHost = require('./host');\n\nannotationCounts = require('./annotation-counts');\n\nsidebarTrigger = require('./sidebar-trigger');\n\nevents = require('../shared/bridge-events');\n\nfeatures = require('./features');\n\ndebounce = require('lodash.debounce');\n\nw = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\nMIN_RESIZE = 280;\n\nMAX_RESIZE = w / 2;\n\nmodule.exports = Sidebar = (function(superClass) {\n  extend1(Sidebar, superClass);\n\n  Sidebar.prototype.options = {\n    Document: {},\n    TextSelection: {},\n    BucketBar: {\n      container: '.annotator-frame'\n    },\n    Toolbar: {\n      container: '.annotator-frame'\n    }\n  };\n\n  Sidebar.prototype.renderFrame = null;\n\n  Sidebar.prototype.gestureState = null;\n\n  function Sidebar(element, config) {\n    this.onSwipe = bind(this.onSwipe, this);\n    this.onPan = bind(this.onPan, this);\n    this._notifyOfLayoutChange = bind(this._notifyOfLayoutChange, this);\n    var ref, serviceConfig;\n    Sidebar.__super__.constructor.apply(this, arguments);\n    this.hide();\n    if (config.openSidebar || config.annotations || config.query || config.group) {\n      this.on('panelReady', (function(_this) {\n        return function() {\n          return _this.show();\n        };\n      })(this));\n    }\n    if (this.plugins.BucketBar != null) {\n      this.plugins.BucketBar.element.on('click', (function(_this) {\n        return function(event) {\n          event.preventDefault();\n          event.stopPropagation();\n          return _this.show();\n        };\n      })(this));\n    }\n    if (this.plugins.Toolbar != null) {\n      this.toolbarWidth = this.plugins.Toolbar.getWidth();\n      if (config.theme === 'clean') {\n        this.plugins.Toolbar.disableMinimizeBtn();\n        this.plugins.Toolbar.disableHighlightsBtn();\n        this.plugins.Toolbar.disableNewNoteBtn();\n      } else {\n        this.plugins.Toolbar.disableCloseBtn();\n      }\n      if ((this.plugins.PDF != null) || !config.clipperAppUrl) {\n        this.plugins.Toolbar.disableWebClipperBtn();\n      }\n      this._setupGestures();\n      this._setupHoverGestures();\n    }\n    serviceConfig = (ref = config.services) != null ? ref[0] : void 0;\n    if (serviceConfig) {\n      this.onLoginRequest = serviceConfig.onLoginRequest;\n      this.onLogoutRequest = serviceConfig.onLogoutRequest;\n      this.onSignupRequest = serviceConfig.onSignupRequest;\n      this.onProfileRequest = serviceConfig.onProfileRequest;\n      this.onAboutRequest = serviceConfig.onAboutRequest;\n      this.onHelpRequest = serviceConfig.onHelpRequest;\n    }\n    this.onLayoutChange = config.onLayoutChange;\n    this._notifyOfLayoutChange(false);\n    this._setupSidebarEvents();\n  }\n\n  Sidebar.prototype._setupSidebarEvents = function() {\n    annotationCounts(document.body, this.crossframe);\n    sidebarTrigger(document.body, (function(_this) {\n      return function() {\n        return _this.show();\n      };\n    })(this));\n    features.init(this.crossframe);\n    this.crossframe.on('showSidebar', (function(_this) {\n      return function() {\n        return _this.show();\n      };\n    })(this));\n    this.crossframe.on('hideSidebar', (function(_this) {\n      return function() {\n        return _this.hide();\n      };\n    })(this));\n    this.crossframe.on('hideCompleteSidebar', (function(_this) {\n      return function() {\n        return _this.hideCompleteSidebar();\n      };\n    })(this));\n    this.crossframe.on('setSidebarWidth', (function(_this) {\n      return function(width) {\n        return _this.setSidebarWidth(width);\n      };\n    })(this));\n    this.crossframe.on(events.LOGIN_REQUESTED, (function(_this) {\n      return function() {\n        if (_this.onLoginRequest) {\n          return _this.onLoginRequest();\n        }\n      };\n    })(this));\n    this.crossframe.on(events.LOGOUT_REQUESTED, (function(_this) {\n      return function() {\n        if (_this.onLogoutRequest) {\n          return _this.onLogoutRequest();\n        }\n      };\n    })(this));\n    this.crossframe.on(events.SIGNUP_REQUESTED, (function(_this) {\n      return function() {\n        if (_this.onSignupRequest) {\n          return _this.onSignupRequest();\n        }\n      };\n    })(this));\n    this.crossframe.on(events.PROFILE_REQUESTED, (function(_this) {\n      return function() {\n        if (_this.onProfileRequest) {\n          return _this.onProfileRequest();\n        }\n      };\n    })(this));\n    this.crossframe.on(events.ABOUT_REQUESTED, (function(_this) {\n      return function() {\n        if (_this.onAboutRequest) {\n          return _this.onAboutRequest();\n        }\n      };\n    })(this));\n    this.crossframe.on(events.HELP_REQUESTED, (function(_this) {\n      return function() {\n        if (_this.onHelpRequest) {\n          return _this.onHelpRequest();\n        }\n      };\n    })(this));\n    return this;\n  };\n\n  Sidebar.prototype._setupGestures = function() {\n    var $toggle, mgr, pan, swipe;\n    $toggle = this.toolbar.find('[name=sidebar-resize]');\n    if (this.plugins.BucketBar != null) {\n      $toggle = this.plugins.BucketBar.element;\n    }\n    if ($toggle[0]) {\n      $toggle.on('touchmove', function(event) {\n        return event.preventDefault();\n      });\n      mgr = new Hammer.Manager($toggle[0]).on('panstart panend panleft panright', this.onPan).on('swipeleft swiperight', this.onSwipe);\n      pan = mgr.add(new Hammer.Pan({\n        direction: Hammer.DIRECTION_HORIZONTAL\n      }));\n      swipe = mgr.add(new Hammer.Swipe({\n        direction: Hammer.DIRECTION_HORIZONTAL\n      }));\n      swipe.recognizeWith(pan);\n      this._initializeGestureState();\n      return this;\n    }\n  };\n\n  Sidebar.prototype._handleMouseOverOnSidePane = function(event) {\n    if (this.frame.hasClass('annotator-collapsed')) {\n      this.frame.css({\n        'margin-left': (-1 * this.frame.width()) + \"px\"\n      });\n      return this.frame.addClass('expanded');\n    }\n  };\n\n  Sidebar.prototype._setupHoverGestures = function() {\n    var debouncedFunction, self, timeout;\n    self = this;\n    timeout = 250;\n    debouncedFunction = debounce(((function(_this) {\n      return function(ev) {\n        return self._handleMouseOverOnSidePane(ev);\n      };\n    })(this)), timeout);\n    return this.frame.on('mouseover', (function(_this) {\n      return function(event) {\n        return debouncedFunction(event);\n      };\n    })(this)).on('mouseleave', (function(_this) {\n      return function(event) {\n        debouncedFunction.cancel();\n        if (_this.frame.hasClass('annotator-collapsed')) {\n          _this.frame.css({\n            'margin-left': \"0px\"\n          });\n          return _this.frame.removeClass('expanded');\n        }\n      };\n    })(this));\n  };\n\n  Sidebar.prototype._removeHoverGestures = function() {\n    return this.frame.off('mousemove', (function(_this) {\n      return function(event) {\n        return false;\n      };\n    })(this)).off('mouseout', (function(_this) {\n      return function(event) {\n        return false;\n      };\n    })(this));\n  };\n\n  Sidebar.prototype._initializeGestureState = function() {\n    return this.gestureState = {\n      initial: null,\n      final: null\n    };\n  };\n\n  Sidebar.prototype._updateLayout = function() {\n    if (this.renderFrame) {\n      return;\n    }\n    return this.renderFrame = raf((function(_this) {\n      return function() {\n        var m;\n        _this.renderFrame = null;\n        if (_this.gestureState.final !== _this.gestureState.initial) {\n          m = _this.gestureState.final;\n          w = -m;\n          _this.frame.css('margin-left', m + \"px\");\n          if (w >= MIN_RESIZE && w <= MAX_RESIZE) {\n            _this.frame.css('width', w + \"px\");\n          }\n          return _this._notifyOfLayoutChange();\n        }\n      };\n    })(this));\n  };\n\n\n  /**\n   * Notify integrator when sidebar layout changes via `onLayoutChange` callback.\n   *\n   * @param [boolean] explicitExpandedState - `true` or `false` if the sidebar\n   *   is being directly opened or closed, as opposed to being resized via\n   *   the sidebar's drag handles.\n   */\n\n  Sidebar.prototype._notifyOfLayoutChange = function(explicitExpandedState) {\n    var computedStyle, expanded, frameVisibleWidth, leftMargin, rect, toolbarWidth, width;\n    toolbarWidth = this.toolbarWidth || 0;\n    if (this.onLayoutChange) {\n      rect = this.frame[0].getBoundingClientRect();\n      computedStyle = window.getComputedStyle(this.frame[0]);\n      width = parseInt(computedStyle.width);\n      leftMargin = parseInt(computedStyle.marginLeft);\n      frameVisibleWidth = toolbarWidth;\n      if (explicitExpandedState != null) {\n        if (explicitExpandedState) {\n          frameVisibleWidth += width;\n        }\n      } else {\n        if (leftMargin < MIN_RESIZE) {\n          frameVisibleWidth += -leftMargin;\n        } else {\n          frameVisibleWidth += width;\n        }\n      }\n      expanded = frameVisibleWidth > toolbarWidth;\n      return this.onLayoutChange({\n        expanded: expanded,\n        width: expanded ? frameVisibleWidth : toolbarWidth,\n        height: rect.height\n      });\n    }\n  };\n\n  Sidebar.prototype.onPan = function(event) {\n    var d, m;\n    switch (event.type) {\n      case 'panstart':\n        this._initializeGestureState();\n        this.frame.addClass('annotator-no-transition');\n        this.frame.css('pointer-events', 'none');\n        $(event.target).css('cursor', 'ew-resize');\n        $(event.target).css('pointer-events', 'all');\n        $(event.target).css('border-left', '4px solid #069');\n        return this.gestureState.initial = parseInt(getComputedStyle(this.frame[0]).marginLeft);\n      case 'panend':\n        this.frame.removeClass('annotator-no-transition');\n        this.frame.css('pointer-events', '');\n        $(event.target).css('pointer-events', '');\n        $(event.target).css('cursor', '');\n        $(event.target).css('border-left', '');\n        if (this.gestureState.final <= -MIN_RESIZE) {\n          this.show();\n        } else {\n          this.hide();\n        }\n        return this._initializeGestureState();\n      case 'panleft':\n      case 'panright':\n        $(event.target).css('cursor', 'ew-resize');\n        $(event.target).css('border-left', '4px solid #069');\n        $(event.target).css('pointer-events', 'all');\n        if (this.gestureState.initial == null) {\n          return;\n        }\n        m = this.gestureState.initial;\n        d = event.deltaX;\n        this.gestureState.final = Math.min(Math.round(m + d), 0);\n        return this._updateLayout();\n    }\n  };\n\n  Sidebar.prototype.onSwipe = function(event) {\n    switch (event.type) {\n      case 'swipeleft':\n        return this.show();\n      case 'swiperight':\n        return this.hide();\n    }\n  };\n\n  Sidebar.prototype.show = function() {\n    this.crossframe.call('sidebarOpened');\n    this.frame.css({\n      'margin-left': (-1 * this.frame.width()) + \"px\"\n    });\n    this.frame.removeClass('annotator-collapsed');\n    this.frame.css({\n      'display': ''\n    });\n    if (this.plugins.Toolbar != null) {\n      this.plugins.Toolbar.showCollapseSidebarBtn();\n      this.plugins.Toolbar.showCloseBtn();\n    }\n    if (this.options.showHighlights === 'whenSidebarOpen') {\n      this.setVisibleHighlights(true);\n    }\n    return this._notifyOfLayoutChange(true);\n  };\n\n  Sidebar.prototype.hide = function() {\n    this.frame.css({\n      'margin-left': ''\n    });\n    this.frame.addClass('annotator-collapsed');\n    this.plugins.Toolbar.hideCloseBtn();\n    if (this.plugins.Toolbar != null) {\n      this.plugins.Toolbar.showExpandSidebarBtn();\n    }\n    if (this.options.showHighlights === 'whenSidebarOpen') {\n      this.setVisibleHighlights(false);\n    }\n    return this._notifyOfLayoutChange(false);\n  };\n\n  Sidebar.prototype.hideCompleteSidebar = function() {\n    return this.frame.css({\n      'display': 'none'\n    });\n  };\n\n  Sidebar.prototype.setSidebarWidth = function(width) {\n    this.frame.css({\n      'width': (1 * width) + \"px\"\n    });\n    return this.frame.css({\n      'margin-left': (-1 * width) + \"px\"\n    });\n  };\n\n  Sidebar.prototype.isOpen = function() {\n    return !this.frame.hasClass('annotator-collapsed');\n  };\n\n  Sidebar.prototype.setAllVisibleHighlights = function(shouldShowHighlights) {\n    this.crossframe.call('setVisibleHighlights', shouldShowHighlights);\n    return this.publish('setVisibleHighlights', shouldShowHighlights);\n  };\n\n  return Sidebar;\n\n})(Host);\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9hbm5vdGF0b3Ivc2lkZWJhci5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvaG9tZS91YnVudHUvcGRmdHJvbkV4dGVuc2lvbi9jbGllbnQvc3JjL2Fubm90YXRvci9zaWRlYmFyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxJQUFBLDhIQUFBO0VBQUE7Ozs7QUFBQSxNQUFBLEdBQVMsT0FBQSxDQUFRLFFBQVI7O0FBQ1QsR0FBQSxHQUFNLE9BQUEsQ0FBUSxLQUFSOztBQUNOLE1BQUEsR0FBUyxPQUFBLENBQVEsVUFBUjs7QUFDVCxDQUFBLEdBQUksT0FBQSxDQUFRLFFBQVI7O0FBQ0osSUFBQSxHQUFPLE9BQUEsQ0FBUSxRQUFSOztBQUNQLGdCQUFBLEdBQW1CLE9BQUEsQ0FBUSxxQkFBUjs7QUFDbkIsY0FBQSxHQUFpQixPQUFBLENBQVEsbUJBQVI7O0FBQ2pCLE1BQUEsR0FBUyxPQUFBLENBQVEseUJBQVI7O0FBQ1QsUUFBQSxHQUFXLE9BQUEsQ0FBUSxZQUFSOztBQUNYLFFBQUEsR0FBVyxPQUFBLENBQVEsaUJBQVI7O0FBR1gsQ0FBQSxHQUFJLE1BQU0sQ0FBQyxVQUFQLElBQXFCLFFBQVEsQ0FBQyxlQUFlLENBQUMsV0FBOUMsSUFBNkQsUUFBUSxDQUFDLElBQUksQ0FBQzs7QUFDL0UsVUFBQSxHQUFhOztBQUNiLFVBQUEsR0FBYSxDQUFBLEdBQUU7O0FBR2YsTUFBTSxDQUFDLE9BQVAsR0FBdUI7OztvQkFDckIsT0FBQSxHQUNFO0lBQUEsUUFBQSxFQUFVLEVBQVY7SUFDQSxhQUFBLEVBQWUsRUFEZjtJQUVBLFNBQUEsRUFDRTtNQUFBLFNBQUEsRUFBVyxrQkFBWDtLQUhGO0lBSUEsT0FBQSxFQUNFO01BQUEsU0FBQSxFQUFXLGtCQUFYO0tBTEY7OztvQkFPRixXQUFBLEdBQWE7O29CQUNiLFlBQUEsR0FBYzs7RUFFRCxpQkFBQyxPQUFE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\n",
    "'use strict';\n\n/**\n * Return all `<iframe>` elements under `container` which are annotate-able.\n *\n * @param {Element} container\n * @return {HTMLIFrameElement[]}\n */\nfunction findFrames(container) {\n  const frames = Array.from(container.getElementsByTagName('iframe'));\n  return frames.filter(shouldEnableAnnotation);\n}\n\n// Check if the iframe has already been injected\nfunction hasHypothesis(iframe) {\n  return iframe.contentWindow.__hypothesis_frame === true;\n}\n\n// Inject embed.js into the iframe\nfunction injectHypothesis(iframe, scriptUrl, config) {\n  const configElement = document.createElement('script');\n  configElement.className = 'js-hypothesis-config';\n  configElement.type = 'application/json';\n  configElement.innerText = JSON.stringify(config);\n\n  const src = scriptUrl;\n  const embedElement = document.createElement('script');\n  embedElement.className = 'js-hypothesis-embed';\n  embedElement.async = true;\n  embedElement.src = src;\n\n  iframe.contentDocument.body.appendChild(configElement);\n  iframe.contentDocument.body.appendChild(embedElement);\n}\n\n// Check if we can access this iframe's document\nfunction isAccessible(iframe) {\n  try {\n    return !!iframe.contentDocument;\n  } catch (e) {\n    return false;\n  }\n}\n\n/**\n * Return `true` if an iframe should be made annotate-able.\n *\n * To enable annotation, an iframe must be opted-in by adding the\n * \"enable-annotation\" attribute and must be visible.\n *\n * @param  {HTMLIFrameElement} iframe the frame being checked\n * @returns {boolean}   result of our validity checks\n */\nfunction shouldEnableAnnotation(iframe) {\n  // Ignore the Hypothesis sidebar.\n  const isNotClientFrame = !iframe.classList.contains('h-sidebar-iframe');\n\n  // Require iframes to opt into annotation support.\n  //\n  // Eventually we may want annotation to be enabled by default for iframes that\n  // pass certain tests. However we need to resolve a number of issues before we\n  // can do that. See https://github.com/hypothesis/client/issues/530\n  const enabled = iframe.hasAttribute('enable-annotation');\n\n  return isNotClientFrame && enabled;\n}\n\nfunction isDocumentReady(iframe, callback) {\n  if (iframe.contentDocument.readyState === 'loading') {\n    iframe.contentDocument.addEventListener('DOMContentLoaded', function() {\n      callback();\n    });\n  } else {\n    callback();\n  }\n}\n\nfunction isLoaded(iframe, callback) {\n  if (iframe.contentDocument.readyState !== 'complete') {\n    iframe.addEventListener('load', function() {\n      callback();\n    });\n  } else {\n    callback();\n  }\n}\n\nmodule.exports = {\n  findFrames: findFrames,\n  hasHypothesis: hasHypothesis,\n  injectHypothesis: injectHypothesis,\n  isAccessible: isAccessible,\n  isLoaded: isLoaded,\n  isDocumentReady: isDocumentReady,\n};\n",
    "'use strict';\n\n/**\n * Functions (aka. 'operators') for generating and manipulating streams of\n * values using the Observable API.\n */\n\nvar Observable = require('zen-observable');\n\n /**\n  * Returns an observable of events emitted by a DOM event source\n  * (eg. an Element, Document or Window).\n  *\n  * @param {EventTarget} src - The event source.\n  * @param {Array<string>} eventNames - List of events to subscribe to\n  */\nfunction listen(src, eventNames) {\n  return new Observable(function (observer) {\n    var onNext = function (event) {\n      observer.next(event);\n    };\n\n    eventNames.forEach(function (event) {\n      src.addEventListener(event, onNext);\n    });\n\n    return function () {\n      eventNames.forEach(function (event) {\n        src.removeEventListener(event, onNext);\n      });\n    };\n  });\n}\n\n/**\n * Delay events from a source Observable by `delay` ms.\n */\nfunction delay(delay, src) {\n  return new Observable(function (obs) {\n    var timeouts = [];\n    var sub = src.subscribe({\n      next: function (value) {\n        var t = setTimeout(function () {\n          timeouts = timeouts.filter(function (other) { return other !== t; });\n          obs.next(value);\n        }, delay);\n        timeouts.push(t);\n      },\n    });\n    return function () {\n      timeouts.forEach(clearTimeout);\n      sub.unsubscribe();\n    };\n  });\n}\n\n /**\n  * Buffers events from a source Observable, waiting for a pause of `delay`\n  * ms with no events before emitting the last value from `src`.\n  *\n  * @param {number} delay\n  * @param {Observable<T>} src\n  * @return {Observable<T>}\n  */\nfunction buffer(delay, src) {\n  return new Observable(function (obs) {\n    var lastValue;\n    var timeout;\n\n    function onNext() {\n      obs.next(lastValue);\n    }\n\n    var sub = src.subscribe({\n      next: function (value) {\n        lastValue = value;\n        clearTimeout(timeout);\n        timeout = setTimeout(onNext, delay);\n      },\n    });\n\n    return function () {\n      sub.unsubscribe();\n      clearTimeout(timeout);\n    };\n  });\n}\n\n /**\n  * Merges multiple streams of values into a single stream.\n  *\n  * @param {Array<Observable>} sources\n  * @return Observable\n  */\nfunction merge(sources) {\n  return new Observable(function (obs) {\n    var subs = sources.map(function (src) {\n      return src.subscribe({\n        next: function (value) {\n          obs.next(value);\n        },\n      });\n    });\n\n    return function () {\n      subs.forEach(function (sub) {\n        sub.unsubscribe();\n      });\n    };\n  });\n}\n\n/** Drop the first `n` events from the `src` Observable. */\nfunction drop(src, n) {\n  var count = 0;\n  return src.filter(function () {\n    ++count;\n    return count > n;\n  });\n}\n\nmodule.exports = {\n  buffer: buffer,\n  delay: delay,\n  drop: drop,\n  listen: listen,\n  merge: merge,\n  Observable: Observable,\n};\n",
    "'use strict';\n\nconst baseURI = require('document-base-uri');\n\n/**\n * Return a normalized version of a URI.\n *\n * This makes it absolute and strips the fragment identifier.\n *\n * @param {string} uri - Relative or absolute URL\n * @param {string} [base] - Base URL to resolve relative to. Defaults to\n *   the document's base URL.\n */\nfunction normalizeURI(uri, base = baseURI) {\n  const absUrl = new URL(uri, base).href;\n\n  // Remove the fragment identifier.\n  // This is done on the serialized URL rather than modifying `url.hash` due to\n  // a bug in Safari.\n  // See https://github.com/hypothesis/h/issues/3471#issuecomment-226713750\n  return absUrl.toString().replace(/#.*/, '');\n}\n\n\nfunction normalizeURI(uri, base = baseURI) {\n\t  const absUrl = new URL(uri, base).href;\n\n\t  // Remove the fragment identifier.\n\t  // This is done on the serialized URL rather than modifying `url.hash` due to\n\t  // a bug in Safari.\n\t  // See https://github.com/hypothesis/h/issues/3471#issuecomment-226713750\n\t  return absUrl.toString().replace(/#.*/, '');\n}\n\n\n\nfunction urlsEqual(urlProp1,urlProp2) {\n\t  const urls = [new URL(urlProp1),new URL(urlProp2)];\n\n\t  \n\t  if(urls[0].protocol !== urls[1].protocol){\n\t\t return false;\n\t  }\n\t  \n\t  if(urls[0].host !== urls[1].host){\n\t\t    return false;\n\t  }\n\t  \n\t  if(urls[0].pathname !== urls[1].pathname){\n\t    return false;\n\t  }\n\n\t  const params = urls.map(url => url.searchParams);\n\n\t  if(params[0].toString().length !== params[1].toString().length){\n\t    return false;\n\t  }\n\n\t  const paramObjects = params.map(param => {\n\t    param.delete(\"page\");\n\t    return Object.fromEntries(param);\n\t  });\n\n\t  if(Object.keys(paramObjects[0]).length !== \n\t     Object.keys(paramObjects[1]).length){\n\t       return false;\n\t  }\n\n\t  return Object.keys(paramObjects[0]).every(key => !!paramObjects[1][key] \n\t    && paramObjects[1][key] === paramObjects[0][key]);\n}\n\n\n\nmodule.exports = {\n  normalizeURI,\n  urlsEqual\n};\n",
    "\r\n'use strict';\r\n\r\nfunction isEmpty(str) {\r\n\t return (!str || /^\\s*$/.test(str));\r\n}\r\n\r\nmodule.exports = {\r\n  isEmpty\r\n};\r\n",
    "(function(){function h(a){return function(){return this[a]}}function l(a){return function(){return a}}var m=this;\nfunction aa(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b}function n(a){return\"string\"==typeof a}function ba(a,b,c){return a.call.apply(a.bind,arguments)}function da(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}\nfunction q(a,b,c){q=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ba:da;return q.apply(null,arguments)}function ea(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}\nfunction r(a){var b=t;function c(){}c.prototype=b.prototype;a.u=b.prototype;a.prototype=new c;a.t=function(a,c,f){for(var g=Array(arguments.length-2),k=2;k<arguments.length;k++)g[k-2]=arguments[k];return b.prototype[c].apply(a,g)}}Function.prototype.bind=Function.prototype.bind||function(a,b){if(1<arguments.length){var c=Array.prototype.slice.call(arguments,1);c.unshift(this,a);return q.apply(null,c)}return q(this,a)};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction u(a,b,c){this.a=a;this.b=b||1;this.d=c||1};var fa=String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")};function v(a,b){return-1!=a.indexOf(b)}function ga(a,b){return a<b?-1:a>b?1:0};var w=Array.prototype,ha=w.indexOf?function(a,b,c){return w.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},x=w.forEach?function(a,b,c){w.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(\"\"):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)},ia=w.filter?function(a,b,c){return w.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=[],f=0,g=n(a)?\na.split(\"\"):a,k=0;k<d;k++)if(k in g){var p=g[k];b.call(c,p,k,a)&&(e[f++]=p)}return e},z=w.reduce?function(a,b,c,d){d&&(b=q(b,d));return w.reduce.call(a,b,c)}:function(a,b,c,d){var e=c;x(a,function(c,g){e=b.call(d,e,c,g,a)});return e},ja=w.some?function(a,b,c){return w.some.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=n(a)?a.split(\"\"):a,f=0;f<d;f++)if(f in e&&b.call(c,e[f],f,a))return!0;return!1};\nfunction ka(a,b){var c;a:{c=a.length;for(var d=n(a)?a.split(\"\"):a,e=0;e<c;e++)if(e in d&&b.call(void 0,d[e],e,a)){c=e;break a}c=-1}return 0>c?null:n(a)?a.charAt(c):a[c]}function la(a){return w.concat.apply(w,arguments)}function ma(a,b,c){return 2>=arguments.length?w.slice.call(a,b):w.slice.call(a,b,c)};function na(a){var b=arguments.length;if(1==b&&\"array\"==aa(arguments[0]))return na.apply(null,arguments[0]);for(var c={},d=0;d<b;d++)c[arguments[d]]=!0;return c};var A;a:{var oa=m.navigator;if(oa){var pa=oa.userAgent;if(pa){A=pa;break a}}A=\"\"};function B(){return v(A,\"Edge\")};var qa=v(A,\"Opera\")||v(A,\"OPR\"),C=v(A,\"Edge\")||v(A,\"Trident\")||v(A,\"MSIE\"),ra=v(A,\"Gecko\")&&!(v(A.toLowerCase(),\"webkit\")&&!B())&&!(v(A,\"Trident\")||v(A,\"MSIE\"))&&!B(),sa=v(A.toLowerCase(),\"webkit\")&&!B();function ta(){var a=A;if(ra)return/rv\\:([^\\);]+)(\\)|;)/.exec(a);if(C&&B())return/Edge\\/([\\d\\.]+)/.exec(a);if(C)return/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/.exec(a);if(sa)return/WebKit\\/(\\S+)/.exec(a)}function ua(){var a=m.document;return a?a.documentMode:void 0}\nvar va=function(){if(qa&&m.opera){var a=m.opera.version;return\"function\"==aa(a)?a():a}var a=\"\",b=ta();b&&(a=b?b[1]:\"\");return C&&!B()&&(b=ua(),b>parseFloat(a))?String(b):a}(),wa={};\nfunction xa(a){if(!wa[a]){for(var b=0,c=fa(String(va)).split(\".\"),d=fa(String(a)).split(\".\"),e=Math.max(c.length,d.length),f=0;0==b&&f<e;f++){var g=c[f]||\"\",k=d[f]||\"\",p=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\"),y=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\");do{var F=p.exec(g)||[\"\",\"\",\"\"],ca=y.exec(k)||[\"\",\"\",\"\"];if(0==F[0].length&&0==ca[0].length)break;b=ga(0==F[1].length?0:parseInt(F[1],10),0==ca[1].length?0:parseInt(ca[1],10))||ga(0==F[2].length,0==ca[2].length)||ga(F[2],ca[2])}while(0==b)}wa[a]=0<=b}}\nfunction ya(a){return C&&(B()||za>=a)}var Aa=m.document,Ba=ua(),za=!Aa||!C||!Ba&&B()?void 0:Ba||(\"CSS1Compat\"==Aa.compatMode?parseInt(va,10):5);/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nvar D=C&&!ya(9),Ca=C&&!ya(8);/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction E(a,b,c,d){this.a=a;this.nodeName=c;this.nodeValue=d;this.nodeType=2;this.parentNode=this.ownerElement=b}function Da(a,b){var c=Ca&&\"href\"==b.nodeName?a.getAttribute(b.nodeName,2):b.nodeValue;return new E(b,a,b.nodeName,c)};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Ea(a){this.b=a;this.a=0}function Fa(a){a=a.match(Ga);for(var b=0;b<a.length;b++)Ha.test(a[b])&&a.splice(b,1);return new Ea(a)}var Ga=RegExp(\"\\\\$?(?:(?![0-9-])[\\\\w-]+:)?(?![0-9-])[\\\\w-]+|\\\\/\\\\/|\\\\.\\\\.|::|\\\\d+(?:\\\\.\\\\d*)?|\\\\.\\\\d+|\\\"[^\\\"]*\\\"|'[^']*'|[!<>]=|\\\\s+|.\",\"g\"),Ha=/^\\s/;function G(a,b){return a.b[a.a+(b||0)]}function H(a){return a.b[a.a++]}function Ia(a){return a.b.length<=a.a};na(\"area base br col command embed hr img input keygen link meta param source track wbr\".split(\" \"));!ra&&!C||C&&ya(9)||ra&&xa(\"1.9.1\");C&&xa(\"9\");function Ja(a,b){if(a.contains&&1==b.nodeType)return a==b||a.contains(b);if(\"undefined\"!=typeof a.compareDocumentPosition)return a==b||Boolean(a.compareDocumentPosition(b)&16);for(;b&&a!=b;)b=b.parentNode;return b==a}\nfunction Ka(a,b){if(a==b)return 0;if(a.compareDocumentPosition)return a.compareDocumentPosition(b)&2?1:-1;if(C&&!ya(9)){if(9==a.nodeType)return-1;if(9==b.nodeType)return 1}if(\"sourceIndex\"in a||a.parentNode&&\"sourceIndex\"in a.parentNode){var c=1==a.nodeType,d=1==b.nodeType;if(c&&d)return a.sourceIndex-b.sourceIndex;var e=a.parentNode,f=b.parentNode;return e==f?La(a,b):!c&&Ja(e,b)?-1*Ma(a,b):!d&&Ja(f,a)?Ma(b,a):(c?a.sourceIndex:e.sourceIndex)-(d?b.sourceIndex:f.sourceIndex)}d=9==a.nodeType?a:a.ownerDocument||\na.document;c=d.createRange();c.selectNode(a);c.collapse(!0);d=d.createRange();d.selectNode(b);d.collapse(!0);return c.compareBoundaryPoints(m.Range.START_TO_END,d)}function Ma(a,b){var c=a.parentNode;if(c==b)return-1;for(var d=b;d.parentNode!=c;)d=d.parentNode;return La(d,a)}function La(a,b){for(var c=b;c=c.previousSibling;)if(c==a)return-1;return 1};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction I(a){var b=null,c=a.nodeType;1==c&&(b=a.textContent,b=void 0==b||null==b?a.innerText:b,b=void 0==b||null==b?\"\":b);if(\"string\"!=typeof b)if(D&&\"title\"==a.nodeName.toLowerCase()&&1==c)b=a.text;else if(9==c||1==c){a=9==c?a.documentElement:a.firstChild;for(var c=0,d=[],b=\"\";a;){do 1!=a.nodeType&&(b+=a.nodeValue),D&&\"title\"==a.nodeName.toLowerCase()&&(b+=a.text),d[c++]=a;while(a=a.firstChild);for(;c&&!(a=d[--c].nextSibling););}}else b=a.nodeValue;return\"\"+b}\nfunction J(a,b,c){if(null===b)return!0;try{if(!a.getAttribute)return!1}catch(d){return!1}Ca&&\"class\"==b&&(b=\"className\");return null==c?!!a.getAttribute(b):a.getAttribute(b,2)==c}function Na(a,b,c,d,e){return(D?Oa:Pa).call(null,a,b,n(c)?c:null,n(d)?d:null,e||new K)}\nfunction Oa(a,b,c,d,e){if(a instanceof L||8==a.b||c&&null===a.b){var f=b.all;if(!f)return e;a=Qa(a);if(\"*\"!=a&&(f=b.getElementsByTagName(a),!f))return e;if(c){for(var g=[],k=0;b=f[k++];)J(b,c,d)&&g.push(b);f=g}for(k=0;b=f[k++];)\"*\"==a&&\"!\"==b.tagName||M(e,b);return e}Ra(a,b,c,d,e);return e}\nfunction Pa(a,b,c,d,e){b.getElementsByName&&d&&\"name\"==c&&!C?(b=b.getElementsByName(d),x(b,function(b){a.a(b)&&M(e,b)})):b.getElementsByClassName&&d&&\"class\"==c?(b=b.getElementsByClassName(d),x(b,function(b){b.className==d&&a.a(b)&&M(e,b)})):a instanceof N?Ra(a,b,c,d,e):b.getElementsByTagName&&(b=b.getElementsByTagName(a.d()),x(b,function(a){J(a,c,d)&&M(e,a)}));return e}\nfunction Sa(a,b,c,d,e){var f;if((a instanceof L||8==a.b||c&&null===a.b)&&(f=b.childNodes)){var g=Qa(a);if(\"*\"!=g&&(f=ia(f,function(a){return a.tagName&&a.tagName.toLowerCase()==g}),!f))return e;c&&(f=ia(f,function(a){return J(a,c,d)}));x(f,function(a){\"*\"==g&&(\"!\"==a.tagName||\"*\"==g&&1!=a.nodeType)||M(e,a)});return e}return Ta(a,b,c,d,e)}function Ta(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)J(b,c,d)&&a.a(b)&&M(e,b);return e}\nfunction Ra(a,b,c,d,e){for(b=b.firstChild;b;b=b.nextSibling)J(b,c,d)&&a.a(b)&&M(e,b),Ra(a,b,c,d,e)}function Qa(a){if(a instanceof N){if(8==a.b)return\"!\";if(null===a.b)return\"*\"}return a.d()};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction K(){this.b=this.a=null;this.i=0}function Ua(a){this.d=a;this.a=this.b=null}function Va(a,b){if(!a.a)return b;if(!b.a)return a;for(var c=a.a,d=b.a,e=null,f=null,g=0;c&&d;){var f=c.d,k=d.d;f==k||f instanceof E&&k instanceof E&&f.a==k.a?(f=c,c=c.a,d=d.a):0<Ka(c.d,d.d)?(f=d,d=d.a):(f=c,c=c.a);(f.b=e)?e.a=f:a.a=f;e=f;g++}for(f=c||d;f;)f.b=e,e=e.a=f,g++,f=f.a;a.b=e;a.i=g;return a}function Wa(a,b){var c=new Ua(b);c.a=a.a;a.b?a.a.b=c:a.a=a.b=c;a.a=c;a.i++}\nfunction M(a,b){var c=new Ua(b);c.b=a.b;a.a?a.b.a=c:a.a=a.b=c;a.b=c;a.i++}function Xa(a){return(a=a.a)?a.d:null}function Ya(a){return(a=Xa(a))?I(a):\"\"}function O(a,b){return new Za(a,!!b)}function Za(a,b){this.d=a;this.b=(this.c=b)?a.b:a.a;this.a=null}function P(a){var b=a.b;if(null==b)return null;var c=a.a=b;a.b=a.c?b.b:b.a;return c.d};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction $a(a){switch(a.nodeType){case 1:return ea(ab,a);case 9:return $a(a.documentElement);case 11:case 10:case 6:case 12:return bb;default:return a.parentNode?$a(a.parentNode):bb}}function bb(){return null}function ab(a,b){if(a.prefix==b)return a.namespaceURI||\"http://www.w3.org/1999/xhtml\";var c=a.getAttributeNode(\"xmlns:\"+b);return c&&c.specified?c.value||null:a.parentNode&&9!=a.parentNode.nodeType?ab(a.parentNode,b):null};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\n/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction t(a){this.g=a;this.b=this.e=!1;this.d=null}function Q(a){return\"\\n  \"+a.toString().split(\"\\n\").join(\"\\n  \")}function cb(a,b){a.e=b}function db(a,b){a.b=b}function R(a,b){var c=a.a(b);return c instanceof K?+Ya(c):+c}function S(a,b){var c=a.a(b);return c instanceof K?Ya(c):\"\"+c}function eb(a,b){var c=a.a(b);return c instanceof K?!!c.i:!!c};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction fb(a,b,c){t.call(this,a.g);this.c=a;this.f=b;this.k=c;this.e=b.e||c.e;this.b=b.b||c.b;this.c==gb&&(c.b||c.e||4==c.g||0==c.g||!b.d?b.b||b.e||4==b.g||0==b.g||!c.d||(this.d={name:c.d.name,l:b}):this.d={name:b.d.name,l:c})}r(fb);\nfunction hb(a,b,c,d,e){b=b.a(d);c=c.a(d);var f;if(b instanceof K&&c instanceof K){e=O(b);for(d=P(e);d;d=P(e))for(b=O(c),f=P(b);f;f=P(b))if(a(I(d),I(f)))return!0;return!1}if(b instanceof K||c instanceof K){b instanceof K?e=b:(e=c,c=b);e=O(e);b=typeof c;for(d=P(e);d;d=P(e)){switch(b){case \"number\":d=+I(d);break;case \"boolean\":d=!!I(d);break;case \"string\":d=I(d);break;default:throw Error(\"Illegal primitive type for comparison.\");}if(a(d,c))return!0}return!1}return e?\"boolean\"==typeof b||\"boolean\"==typeof c?\na(!!b,!!c):\"number\"==typeof b||\"number\"==typeof c?a(+b,+c):a(b,c):a(+b,+c)}fb.prototype.a=function(a){return this.c.j(this.f,this.k,a)};fb.prototype.toString=function(){var a=\"Binary Expression: \"+this.c,a=a+Q(this.f);return a+=Q(this.k)};function ib(a,b,c,d){this.a=a;this.p=b;this.g=c;this.j=d}ib.prototype.toString=h(\"a\");var jb={};function T(a,b,c,d){if(jb.hasOwnProperty(a))throw Error(\"Binary operator already created: \"+a);a=new ib(a,b,c,d);return jb[a.toString()]=a}\nT(\"div\",6,1,function(a,b,c){return R(a,c)/R(b,c)});T(\"mod\",6,1,function(a,b,c){return R(a,c)%R(b,c)});T(\"*\",6,1,function(a,b,c){return R(a,c)*R(b,c)});T(\"+\",5,1,function(a,b,c){return R(a,c)+R(b,c)});T(\"-\",5,1,function(a,b,c){return R(a,c)-R(b,c)});T(\"<\",4,2,function(a,b,c){return hb(function(a,b){return a<b},a,b,c)});T(\">\",4,2,function(a,b,c){return hb(function(a,b){return a>b},a,b,c)});T(\"<=\",4,2,function(a,b,c){return hb(function(a,b){return a<=b},a,b,c)});\nT(\">=\",4,2,function(a,b,c){return hb(function(a,b){return a>=b},a,b,c)});var gb=T(\"=\",3,2,function(a,b,c){return hb(function(a,b){return a==b},a,b,c,!0)});T(\"!=\",3,2,function(a,b,c){return hb(function(a,b){return a!=b},a,b,c,!0)});T(\"and\",2,2,function(a,b,c){return eb(a,c)&&eb(b,c)});T(\"or\",1,2,function(a,b,c){return eb(a,c)||eb(b,c)});/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction kb(a,b){if(b.a.length&&4!=a.g)throw Error(\"Primary expression must evaluate to nodeset if filter has predicate(s).\");t.call(this,a.g);this.c=a;this.f=b;this.e=a.e;this.b=a.b}r(kb);kb.prototype.a=function(a){a=this.c.a(a);return lb(this.f,a)};kb.prototype.toString=function(){var a;a=\"Filter:\"+Q(this.c);return a+=Q(this.f)};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction mb(a,b){if(b.length<a.o)throw Error(\"Function \"+a.h+\" expects at least\"+a.o+\" arguments, \"+b.length+\" given\");if(null!==a.n&&b.length>a.n)throw Error(\"Function \"+a.h+\" expects at most \"+a.n+\" arguments, \"+b.length+\" given\");a.s&&x(b,function(b,d){if(4!=b.g)throw Error(\"Argument \"+d+\" to function \"+a.h+\" is not of type Nodeset: \"+b);});t.call(this,a.g);this.f=a;this.c=b;cb(this,a.e||ja(b,function(a){return a.e}));db(this,a.r&&!b.length||a.q&&!!b.length||ja(b,function(a){return a.b}))}r(mb);\nmb.prototype.a=function(a){return this.f.j.apply(null,la(a,this.c))};mb.prototype.toString=function(){var a=\"Function: \"+this.f;if(this.c.length)var b=z(this.c,function(a,b){return a+Q(b)},\"Arguments:\"),a=a+Q(b);return a};function nb(a,b,c,d,e,f,g,k,p){this.h=a;this.g=b;this.e=c;this.r=d;this.q=e;this.j=f;this.o=g;this.n=void 0!==k?k:g;this.s=!!p}nb.prototype.toString=h(\"h\");var ob={};\nfunction U(a,b,c,d,e,f,g,k){if(ob.hasOwnProperty(a))throw Error(\"Function already created: \"+a+\".\");ob[a]=new nb(a,b,c,d,!1,e,f,g,k)}U(\"boolean\",2,!1,!1,function(a,b){return eb(b,a)},1);U(\"ceiling\",1,!1,!1,function(a,b){return Math.ceil(R(b,a))},1);U(\"concat\",3,!1,!1,function(a,b){var c=ma(arguments,1);return z(c,function(b,c){return b+S(c,a)},\"\")},2,null);U(\"contains\",2,!1,!1,function(a,b,c){return v(S(b,a),S(c,a))},2);U(\"count\",1,!1,!1,function(a,b){return b.a(a).i},1,1,!0);\nU(\"false\",2,!1,!1,l(!1),0);U(\"floor\",1,!1,!1,function(a,b){return Math.floor(R(b,a))},1);U(\"id\",4,!1,!1,function(a,b){function c(a){if(D){var b=e.all[a];if(b){if(b.nodeType&&a==b.id)return b;if(b.length)return ka(b,function(b){return a==b.id})}return null}return e.getElementById(a)}var d=a.a,e=9==d.nodeType?d:d.ownerDocument,d=S(b,a).split(/\\s+/),f=[];x(d,function(a){a=c(a);!a||0<=ha(f,a)||f.push(a)});f.sort(Ka);var g=new K;x(f,function(a){M(g,a)});return g},1);U(\"lang\",2,!1,!1,l(!1),1);\nU(\"last\",1,!0,!1,function(a){if(1!=arguments.length)throw Error(\"Function last expects ()\");return a.d},0);U(\"local-name\",3,!1,!0,function(a,b){var c=b?Xa(b.a(a)):a.a;return c?c.localName||c.nodeName.toLowerCase():\"\"},0,1,!0);U(\"name\",3,!1,!0,function(a,b){var c=b?Xa(b.a(a)):a.a;return c?c.nodeName.toLowerCase():\"\"},0,1,!0);U(\"namespace-uri\",3,!0,!1,l(\"\"),0,1,!0);U(\"normalize-space\",3,!1,!0,function(a,b){return(b?S(b,a):I(a.a)).replace(/[\\s\\xa0]+/g,\" \").replace(/^\\s+|\\s+$/g,\"\")},0,1);\nU(\"not\",2,!1,!1,function(a,b){return!eb(b,a)},1);U(\"number\",1,!1,!0,function(a,b){return b?R(b,a):+I(a.a)},0,1);U(\"position\",1,!0,!1,function(a){return a.b},0);U(\"round\",1,!1,!1,function(a,b){return Math.round(R(b,a))},1);U(\"starts-with\",2,!1,!1,function(a,b,c){b=S(b,a);a=S(c,a);return 0==b.lastIndexOf(a,0)},2);U(\"string\",3,!1,!0,function(a,b){return b?S(b,a):I(a.a)},0,1);U(\"string-length\",1,!1,!0,function(a,b){return(b?S(b,a):I(a.a)).length},0,1);\nU(\"substring\",3,!1,!1,function(a,b,c,d){c=R(c,a);if(isNaN(c)||Infinity==c||-Infinity==c)return\"\";d=d?R(d,a):Infinity;if(isNaN(d)||-Infinity===d)return\"\";c=Math.round(c)-1;var e=Math.max(c,0);a=S(b,a);if(Infinity==d)return a.substring(e);b=Math.round(d);return a.substring(e,c+b)},2,3);U(\"substring-after\",3,!1,!1,function(a,b,c){b=S(b,a);a=S(c,a);c=b.indexOf(a);return-1==c?\"\":b.substring(c+a.length)},2);\nU(\"substring-before\",3,!1,!1,function(a,b,c){b=S(b,a);a=S(c,a);a=b.indexOf(a);return-1==a?\"\":b.substring(0,a)},2);U(\"sum\",1,!1,!1,function(a,b){for(var c=O(b.a(a)),d=0,e=P(c);e;e=P(c))d+=+I(e);return d},1,1,!0);U(\"translate\",3,!1,!1,function(a,b,c,d){b=S(b,a);c=S(c,a);var e=S(d,a);a=[];for(d=0;d<c.length;d++){var f=c.charAt(d);f in a||(a[f]=e.charAt(d))}c=\"\";for(d=0;d<b.length;d++)f=b.charAt(d),c+=f in a?a[f]:f;return c},3);U(\"true\",2,!1,!1,l(!0),0);/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\n/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction N(a,b){this.f=a;this.c=void 0!==b?b:null;this.b=null;switch(a){case \"comment\":this.b=8;break;case \"text\":this.b=3;break;case \"processing-instruction\":this.b=7;break;case \"node\":break;default:throw Error(\"Unexpected argument\");}}function pb(a){return\"comment\"==a||\"text\"==a||\"processing-instruction\"==a||\"node\"==a}N.prototype.a=function(a){return null===this.b||this.b==a.nodeType};N.prototype.d=h(\"f\");N.prototype.toString=function(){var a=\"Kind Test: \"+this.f;null===this.c||(a+=Q(this.c));return a};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction qb(a){t.call(this,3);this.c=a.substring(1,a.length-1)}r(qb);qb.prototype.a=h(\"c\");qb.prototype.toString=function(){return\"Literal: \"+this.c};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction L(a,b){this.h=a.toLowerCase();this.c=b?b.toLowerCase():\"http://www.w3.org/1999/xhtml\"}L.prototype.a=function(a){var b=a.nodeType;return 1!=b&&2!=b?!1:\"*\"!=this.h&&this.h!=a.nodeName.toLowerCase()?!1:this.c==(a.namespaceURI?a.namespaceURI.toLowerCase():\"http://www.w3.org/1999/xhtml\")};L.prototype.d=h(\"h\");L.prototype.toString=function(){return\"Name Test: \"+(\"http://www.w3.org/1999/xhtml\"==this.c?\"\":this.c+\":\")+this.h};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction rb(a){t.call(this,1);this.c=a}r(rb);rb.prototype.a=h(\"c\");rb.prototype.toString=function(){return\"Number: \"+this.c};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction sb(a,b){t.call(this,a.g);this.f=a;this.c=b;this.e=a.e;this.b=a.b;if(1==this.c.length){var c=this.c[0];c.m||c.c!=tb||(c=c.k,\"*\"!=c.d()&&(this.d={name:c.d(),l:null}))}}r(sb);function ub(){t.call(this,4)}r(ub);ub.prototype.a=function(a){var b=new K;a=a.a;9==a.nodeType?M(b,a):M(b,a.ownerDocument);return b};ub.prototype.toString=l(\"Root Helper Expression\");function vb(){t.call(this,4)}r(vb);vb.prototype.a=function(a){var b=new K;M(b,a.a);return b};vb.prototype.toString=l(\"Context Helper Expression\");\nfunction wb(a){return\"/\"==a||\"//\"==a}sb.prototype.a=function(a){var b=this.f.a(a);if(!(b instanceof K))throw Error(\"Filter expression must evaluate to nodeset.\");a=this.c;for(var c=0,d=a.length;c<d&&b.i;c++){var e=a[c],f=O(b,e.c.a),g;if(e.e||e.c!=xb)if(e.e||e.c!=yb)for(g=P(f),b=e.a(new u(g));null!=(g=P(f));)g=e.a(new u(g)),b=Va(b,g);else g=P(f),b=e.a(new u(g));else{for(g=P(f);(b=P(f))&&(!g.contains||g.contains(b))&&b.compareDocumentPosition(g)&8;g=b);b=e.a(new u(g))}}return b};\nsb.prototype.toString=function(){var a;a=\"Path Expression:\"+Q(this.f);if(this.c.length){var b=z(this.c,function(a,b){return a+Q(b)},\"Steps:\");a+=Q(b)}return a};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction zb(a,b){this.a=a;this.b=!!b}\nfunction lb(a,b,c){for(c=c||0;c<a.a.length;c++)for(var d=a.a[c],e=O(b),f=b.i,g,k=0;g=P(e);k++){var p=a.b?f-k:k+1;g=d.a(new u(g,p,f));if(\"number\"==typeof g)p=p==g;else if(\"string\"==typeof g||\"boolean\"==typeof g)p=!!g;else if(g instanceof K)p=0<g.i;else throw Error(\"Predicate.evaluate returned an unexpected type.\");if(!p){p=e;g=p.d;var y=p.a;if(!y)throw Error(\"Next must be called at least once before remove.\");var F=y.b,y=y.a;F?F.a=y:g.a=y;y?y.b=F:g.b=F;g.i--;p.a=null}}return b}\nzb.prototype.toString=function(){return z(this.a,function(a,b){return a+Q(b)},\"Predicates:\")};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction V(a,b,c,d){t.call(this,4);this.c=a;this.k=b;this.f=c||new zb([]);this.m=!!d;b=this.f;b=0<b.a.length?b.a[0].d:null;a.b&&b&&(a=b.name,a=D?a.toLowerCase():a,this.d={name:a,l:b.l});a:{a=this.f;for(b=0;b<a.a.length;b++)if(c=a.a[b],c.e||1==c.g||0==c.g){a=!0;break a}a=!1}this.e=a}r(V);\nV.prototype.a=function(a){var b=a.a,c=null,c=this.d,d=null,e=null,f=0;c&&(d=c.name,e=c.l?S(c.l,a):null,f=1);if(this.m)if(this.e||this.c!=Ab)if(a=O((new V(Bb,new N(\"node\"))).a(a)),b=P(a))for(c=this.j(b,d,e,f);null!=(b=P(a));)c=Va(c,this.j(b,d,e,f));else c=new K;else c=Na(this.k,b,d,e),c=lb(this.f,c,f);else c=this.j(a.a,d,e,f);return c};V.prototype.j=function(a,b,c,d){a=this.c.d(this.k,a,b,c);return a=lb(this.f,a,d)};\nV.prototype.toString=function(){var a;a=\"Step:\"+Q(\"Operator: \"+(this.m?\"//\":\"/\"));this.c.h&&(a+=Q(\"Axis: \"+this.c));a+=Q(this.k);if(this.f.a.length){var b=z(this.f.a,function(a,b){return a+Q(b)},\"Predicates:\");a+=Q(b)}return a};function Cb(a,b,c,d){this.h=a;this.d=b;this.a=c;this.b=d}Cb.prototype.toString=h(\"h\");var Db={};function W(a,b,c,d){if(Db.hasOwnProperty(a))throw Error(\"Axis already created: \"+a);b=new Cb(a,b,c,!!d);return Db[a]=b}\nW(\"ancestor\",function(a,b){for(var c=new K,d=b;d=d.parentNode;)a.a(d)&&Wa(c,d);return c},!0);W(\"ancestor-or-self\",function(a,b){var c=new K,d=b;do a.a(d)&&Wa(c,d);while(d=d.parentNode);return c},!0);\nvar tb=W(\"attribute\",function(a,b){var c=new K,d=a.d();if(\"style\"==d&&b.style&&D)return M(c,new E(b.style,b,\"style\",b.style.cssText)),c;var e=b.attributes;if(e)if(a instanceof N&&null===a.b||\"*\"==d)for(var d=0,f;f=e[d];d++)D?f.nodeValue&&M(c,Da(b,f)):M(c,f);else(f=e.getNamedItem(d))&&(D?f.nodeValue&&M(c,Da(b,f)):M(c,f));return c},!1),Ab=W(\"child\",function(a,b,c,d,e){return(D?Sa:Ta).call(null,a,b,n(c)?c:null,n(d)?d:null,e||new K)},!1,!0);W(\"descendant\",Na,!1,!0);\nvar Bb=W(\"descendant-or-self\",function(a,b,c,d){var e=new K;J(b,c,d)&&a.a(b)&&M(e,b);return Na(a,b,c,d,e)},!1,!0),xb=W(\"following\",function(a,b,c,d){var e=new K;do for(var f=b;f=f.nextSibling;)J(f,c,d)&&a.a(f)&&M(e,f),e=Na(a,f,c,d,e);while(b=b.parentNode);return e},!1,!0);W(\"following-sibling\",function(a,b){for(var c=new K,d=b;d=d.nextSibling;)a.a(d)&&M(c,d);return c},!1);W(\"namespace\",function(){return new K},!1);\nvar Eb=W(\"parent\",function(a,b){var c=new K;if(9==b.nodeType)return c;if(2==b.nodeType)return M(c,b.ownerElement),c;var d=b.parentNode;a.a(d)&&M(c,d);return c},!1),yb=W(\"preceding\",function(a,b,c,d){var e=new K,f=[];do f.unshift(b);while(b=b.parentNode);for(var g=1,k=f.length;g<k;g++){var p=[];for(b=f[g];b=b.previousSibling;)p.unshift(b);for(var y=0,F=p.length;y<F;y++)b=p[y],J(b,c,d)&&a.a(b)&&M(e,b),e=Na(a,b,c,d,e)}return e},!0,!0);\nW(\"preceding-sibling\",function(a,b){for(var c=new K,d=b;d=d.previousSibling;)a.a(d)&&Wa(c,d);return c},!0);var Fb=W(\"self\",function(a,b){var c=new K;a.a(b)&&M(c,b);return c},!1);/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Gb(a){t.call(this,1);this.c=a;this.e=a.e;this.b=a.b}r(Gb);Gb.prototype.a=function(a){return-R(this.c,a)};Gb.prototype.toString=function(){return\"Unary Expression: -\"+Q(this.c)};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Hb(a){t.call(this,4);this.c=a;cb(this,ja(this.c,function(a){return a.e}));db(this,ja(this.c,function(a){return a.b}))}r(Hb);Hb.prototype.a=function(a){var b=new K;x(this.c,function(c){c=c.a(a);if(!(c instanceof K))throw Error(\"Path expression must evaluate to NodeSet.\");b=Va(b,c)});return b};Hb.prototype.toString=function(){return z(this.c,function(a,b){return a+Q(b)},\"Union Expression:\")};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Ib(a,b){this.a=a;this.b=b}function Jb(a){for(var b,c=[];;){X(a,\"Missing right hand side of binary expression.\");b=Kb(a);var d=H(a.a);if(!d)break;var e=(d=jb[d]||null)&&d.p;if(!e){a.a.a--;break}for(;c.length&&e<=c[c.length-1].p;)b=new fb(c.pop(),c.pop(),b);c.push(b,d)}for(;c.length;)b=new fb(c.pop(),c.pop(),b);return b}function X(a,b){if(Ia(a.a))throw Error(b);}function Lb(a,b){var c=H(a.a);if(c!=b)throw Error(\"Bad token, expected: \"+b+\" got: \"+c);}\nfunction Mb(a){a=H(a.a);if(\")\"!=a)throw Error(\"Bad token: \"+a);}function Nb(a){a=H(a.a);if(2>a.length)throw Error(\"Unclosed literal string\");return new qb(a)}function Ob(a){var b=H(a.a),c=b.indexOf(\":\");if(-1==c)return new L(b);var d=b.substring(0,c);a=a.b(d);if(!a)throw Error(\"Namespace prefix not declared: \"+d);b=b.substr(c+1);return new L(b,a)}\nfunction Pb(a){var b,c=[],d;if(wb(G(a.a))){b=H(a.a);d=G(a.a);if(\"/\"==b&&(Ia(a.a)||\".\"!=d&&\"..\"!=d&&\"@\"!=d&&\"*\"!=d&&!/(?![0-9])[\\w]/.test(d)))return new ub;d=new ub;X(a,\"Missing next location step.\");b=Qb(a,b);c.push(b)}else{a:{b=G(a.a);d=b.charAt(0);switch(d){case \"$\":throw Error(\"Variable reference not allowed in HTML XPath\");case \"(\":H(a.a);b=Jb(a);X(a,'unclosed \"(\"');Lb(a,\")\");break;case '\"':case \"'\":b=Nb(a);break;default:if(isNaN(+b))if(!pb(b)&&/(?![0-9])[\\w]/.test(d)&&\"(\"==G(a.a,1)){b=H(a.a);\nb=ob[b]||null;H(a.a);for(d=[];\")\"!=G(a.a);){X(a,\"Missing function argument list.\");d.push(Jb(a));if(\",\"!=G(a.a))break;H(a.a)}X(a,\"Unclosed function argument list.\");Mb(a);b=new mb(b,d)}else{b=null;break a}else b=new rb(+H(a.a))}\"[\"==G(a.a)&&(d=new zb(Rb(a)),b=new kb(b,d))}if(b)if(wb(G(a.a)))d=b;else return b;else b=Qb(a,\"/\"),d=new vb,c.push(b)}for(;wb(G(a.a));)b=H(a.a),X(a,\"Missing next location step.\"),b=Qb(a,b),c.push(b);return new sb(d,c)}\nfunction Qb(a,b){var c,d,e;if(\"/\"!=b&&\"//\"!=b)throw Error('Step op should be \"/\" or \"//\"');if(\".\"==G(a.a))return d=new V(Fb,new N(\"node\")),H(a.a),d;if(\"..\"==G(a.a))return d=new V(Eb,new N(\"node\")),H(a.a),d;var f;if(\"@\"==G(a.a))f=tb,H(a.a),X(a,\"Missing attribute name\");else if(\"::\"==G(a.a,1)){if(!/(?![0-9])[\\w]/.test(G(a.a).charAt(0)))throw Error(\"Bad token: \"+H(a.a));c=H(a.a);f=Db[c]||null;if(!f)throw Error(\"No axis with name: \"+c);H(a.a);X(a,\"Missing node name\")}else f=Ab;c=G(a.a);if(/(?![0-9])[\\w]/.test(c.charAt(0)))if(\"(\"==\nG(a.a,1)){if(!pb(c))throw Error(\"Invalid node type: \"+c);c=H(a.a);if(!pb(c))throw Error(\"Invalid type name: \"+c);Lb(a,\"(\");X(a,\"Bad nodetype\");e=G(a.a).charAt(0);var g=null;if('\"'==e||\"'\"==e)g=Nb(a);X(a,\"Bad nodetype\");Mb(a);c=new N(c,g)}else c=Ob(a);else if(\"*\"==c)c=Ob(a);else throw Error(\"Bad token: \"+H(a.a));e=new zb(Rb(a),f.a);return d||new V(f,c,e,\"//\"==b)}\nfunction Rb(a){for(var b=[];\"[\"==G(a.a);){H(a.a);X(a,\"Missing predicate expression.\");var c=Jb(a);b.push(c);X(a,\"Unclosed predicate expression.\");Lb(a,\"]\")}return b}function Kb(a){if(\"-\"==G(a.a))return H(a.a),new Gb(Kb(a));var b=Pb(a);if(\"|\"!=G(a.a))a=b;else{for(b=[b];\"|\"==H(a.a);)X(a,\"Missing next union location path.\"),b.push(Pb(a));a.a.a--;a=new Hb(b)}return a};/*\n\n Copyright 2014 Software Freedom Conservancy\n\n Licensed under the Apache License, Version 2.0 (the \"License\");\n you may not use this file except in compliance with the License.\n You may obtain a copy of the License at\n\n      http://www.apache.org/licenses/LICENSE-2.0\n\n Unless required by applicable law or agreed to in writing, software\n distributed under the License is distributed on an \"AS IS\" BASIS,\n WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n See the License for the specific language governing permissions and\n limitations under the License.\n*/\nfunction Sb(a,b){if(!a.length)throw Error(\"Empty XPath expression.\");var c=Fa(a);if(Ia(c))throw Error(\"Invalid XPath expression.\");b?\"function\"==aa(b)||(b=q(b.lookupNamespaceURI,b)):b=l(null);var d=Jb(new Ib(c,b));if(!Ia(c))throw Error(\"Bad token: \"+H(c));this.evaluate=function(a,b){var c=d.a(new u(a));return new Y(c,b)}}\nfunction Y(a,b){if(0==b)if(a instanceof K)b=4;else if(\"string\"==typeof a)b=2;else if(\"number\"==typeof a)b=1;else if(\"boolean\"==typeof a)b=3;else throw Error(\"Unexpected evaluation result.\");if(2!=b&&1!=b&&3!=b&&!(a instanceof K))throw Error(\"value could not be converted to the specified type\");this.resultType=b;var c;switch(b){case 2:this.stringValue=a instanceof K?Ya(a):\"\"+a;break;case 1:this.numberValue=a instanceof K?+Ya(a):+a;break;case 3:this.booleanValue=a instanceof K?0<a.i:!!a;break;case 4:case 5:case 6:case 7:var d=\nO(a);c=[];for(var e=P(d);e;e=P(d))c.push(e instanceof E?e.a:e);this.snapshotLength=a.i;this.invalidIteratorState=!1;break;case 8:case 9:d=Xa(a);this.singleNodeValue=d instanceof E?d.a:d;break;default:throw Error(\"Unknown XPathResult type.\");}var f=0;this.iterateNext=function(){if(4!=b&&5!=b)throw Error(\"iterateNext called with wrong result type\");return f>=c.length?null:c[f++]};this.snapshotItem=function(a){if(6!=b&&7!=b)throw Error(\"snapshotItem called with wrong result type\");return a>=c.length||\n0>a?null:c[a]}}Y.ANY_TYPE=0;Y.NUMBER_TYPE=1;Y.STRING_TYPE=2;Y.BOOLEAN_TYPE=3;Y.UNORDERED_NODE_ITERATOR_TYPE=4;Y.ORDERED_NODE_ITERATOR_TYPE=5;Y.UNORDERED_NODE_SNAPSHOT_TYPE=6;Y.ORDERED_NODE_SNAPSHOT_TYPE=7;Y.ANY_UNORDERED_NODE_TYPE=8;Y.FIRST_ORDERED_NODE_TYPE=9;function Tb(a){this.lookupNamespaceURI=$a(a)}\nfunction Ub(a){a=a||m;var b=a.document;b.evaluate||(a.XPathResult=Y,b.evaluate=function(a,b,e,f){return(new Sb(a,e)).evaluate(b,f)},b.createExpression=function(a,b){return new Sb(a,b)},b.createNSResolver=function(a){return new Tb(a)})}var Vb=[\"wgxpath\",\"install\"],Z=m;Vb[0]in Z||!Z.execScript||Z.execScript(\"var \"+Vb[0]);for(var Wb;Vb.length&&(Wb=Vb.shift());)Vb.length||void 0===Ub?Z[Wb]?Z=Z[Wb]:Z=Z[Wb]={}:Z[Wb]=Ub;})()\n",
    "'use strict';\r\nvar queryString = require('query-string');\r\n\r\nclass ViewTSDigestController {\r\n\r\n\tconstructor() {\r\n\t\tthis.tsdigestwindow = null;\r\n\t}\r\n\r\n\topen(url) {\r\n\t\t// In Chrome & Firefox the sizes passed to `window.open` are used for the\r\n\t\t// viewport size. In Safari the size is used for the window size including\r\n\t\t// title bar etc. There is enough vertical space at the bottom to allow for\r\n\r\n\t\tvar width = 980;\r\n\t\tvar height = 470;\r\n\r\n\t\tvar w = window.innerWidth\r\n\t\t\t|| document.documentElement.clientWidth\r\n\t\t\t|| document.body.clientWidth;\r\n\t\tif(window.outerWidth != window.screen.width) {\r\n\t\t\tw = window.screen.width;\r\n\t\t}\r\n\t\tvar h = window.innerHeight\r\n\t\t\t|| document.documentElement.clientHeight\r\n\t\t\t|| document.body.clientHeight;\r\n\t\tif(window.outerHeight && window.screen.availHeight && window.outerHeight != window.screen.availHeight) {\r\n\t\t\th = window.screen.availHeight;\r\n\t\t}\r\n\t\tvar left = w / 2 - width / 2;\r\n\t\tvar top = h / 2 - height / 2;\r\n\r\n\t\t// Generate settings for `window.open` in the required comma-separated\r\n\t\t// key=value format.\r\n\t\tvar WindowSettings = queryString.stringify({\r\n\t\t\tleft: left,\r\n\t\t\ttop: top+70,\r\n\t\t\twidth: width,\r\n\t\t\theight: height,\r\n\t\t\tresizable : 'yes',\r\n\t\t\tlocation : 'no',\r\n\t\t\tfullscreen : 'no',\r\n\t\t\tstatus : 'no',\r\n\t\t}).replace(/&/g, ',');\r\n\r\n\t\tthis.close();\r\n\t\tvar windowProps = \"&iw=\"+w+\"&ih=\"+h;\r\n\t\turl = url+windowProps;\r\n\t\tthis.tsdigestwindow = window.open('about:blank', \"ViewTaskSpaceDigest\", WindowSettings);\r\n\t\tthis.tsdigestwindow.location = url;\r\n\t\t//this.tsdigestwindow.INNER_WIDTH = w;\r\n\t\t//this.tsdigestwindow.INNER_HEIGHT = h;\r\n\t\treturn this.tsdigestwindow;\r\n\t}\r\n\r\n\tclose() {\r\n\t\tvar self = this;\r\n\t\ttry {\r\n\t\t\tif (self.tsdigestwindow && self.tsdigestwindow != null) {\r\n\t\t\t\tself.tsdigestwindow.close();\r\n\t\t\t}\r\n\t\t} catch(e){\r\n\t\t\tconsole.log(e.message);\r\n\t\t}\r\n\t}\r\n\r\n\tfocus() {\r\n\t\tvar self = this;\r\n\t\tsetTimeout(function() {\r\n\t\t\ttry {\r\n\t\t\t\tif (self.tsdigestwindow && self.tsdigestwindow != null) {\r\n\t\t\t\t\tself.tsdigestwindow.focus();\r\n\t\t\t\t}\r\n\t\t\t} catch(e){\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}, 100);\r\n\r\n\t}\r\n}\r\n\r\n\r\nmodule.exports = {\r\n\t\ttsdigest: ViewTSDigestController,\r\n};\r\n",
    "/*eslint-env es6:false*/\n/*\n * Copyright (c) 2010 Arc90 Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*\n * This code is heavily based on Arc90's readability.js (1.7.1) script\n * available at: http://code.google.com/p/arc90labs-readability\n */\n\n/**\n * Public constructor.\n * @param {HTMLDocument} doc     The document to parse.\n * @param {Object}       options The options object.\n */\nfunction Readability(doc, options) {\n  // In some older versions, people passed a URI as the first argument. Cope:\n  if (options && options.documentElement) {\n    doc = options;\n    options = arguments[2];\n  } else if (!doc || !doc.documentElement) {\n    throw new Error(\"First argument to Readability constructor should be a document object.\");\n  }\n  options = options || {};\n\n  this._doc = doc;\n  this._articleTitle = null;\n  this._articleImage = null;\n  this._articleByline = null;\n  this._articleDir = null;\n  this._docSrc = null;\n  this._nodeMap = new Map();\n  this._attempts = [];\n  this._metatags = [];\n\n  // Configurable options\n  this._debug = !!options.debug;\n  this._maxElemsToParse = options.maxElemsToParse || this.DEFAULT_MAX_ELEMS_TO_PARSE;\n  this._nbTopCandidates = options.nbTopCandidates || this.DEFAULT_N_TOP_CANDIDATES;\n  this._charThreshold = options.charThreshold || this.DEFAULT_CHAR_THRESHOLD;\n  this._classesToPreserve = this.CLASSES_TO_PRESERVE.concat(options.classesToPreserve || []);\n  this._closeScore = options.closeScore || this.DEFAULT_CLOSE_SCORE;\n  this._inclExclAttr = options.inclExclAttr || this.DEFAULT_INCL_EXCL_ATTR;\n  this._keepByline = options.keepByline || true;\n  this._keepHeaders = options.keepHeaders || true;\n  this._keepStyles = options.keepStyles || false;\n\n  // Start with all flags set\n  this._flags = this.FLAG_STRIP_UNLIKELYS |\n                this.FLAG_WEIGHT_CLASSES |\n                this.FLAG_CLEAN_CONDITIONALLY;\n\n  var logEl;\n\n    this.mydebug = function () {\n\tif (typeof console !== \"undefined\") {\n        var args = [\"Mydebug \"].concat(arguments);\n        console.log.apply(console, args);\n      }\n    };\n    this.dumperr = function () {\n\tif (typeof console !== \"undefined\") {\n        var args = [\"Error \"].concat(arguments);\n        console.log.apply(console, args);\n      }\n    };\n  // Control whether log messages are sent to the console\n  if (this._debug) {\n    logEl = function(e) {\n      var rv = e.nodeName + \" \";\n      if (e.nodeType == e.TEXT_NODE) {\n        return rv + '(\"' + e.textContent + '\")';\n      }\n      var classDesc = e.className && (\".\" + e.className.replace(/ /g, \".\"));\n      var elDesc = \"\";\n      if (e.id)\n        elDesc = \"(#\" + e.id + classDesc + \")\";\n      else if (classDesc)\n        elDesc = \"(\" + classDesc + \")\";\n      return rv + elDesc;\n    };\n    this.log = function () {\n      if (typeof dump !== \"undefined\") {\n        var msg = Array.prototype.map.call(arguments, function(x) {\n          return (x && x.nodeName) ? logEl(x) : x;\n        }).join(\" \");\n        dump(\"Reader: (Readability) \" + msg + \"\\n\");\n      } else if (typeof console !== \"undefined\") {\n        var args = [\"Reader: (Readability) \"].concat(arguments);\n        console.log.apply(console, args);\n      }\n    };\n  } else {\n    this.log = function () {};\n  }\n}\n\nReadability.prototype = {\n  FLAG_STRIP_UNLIKELYS: 0x1,\n  FLAG_WEIGHT_CLASSES: 0x2,\n  FLAG_CLEAN_CONDITIONALLY: 0x4,\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\n  ELEMENT_NODE: 1,\n  TEXT_NODE: 3,\n\n  // Max number of nodes supported by this parser. Default: 0 (no limit)\n  DEFAULT_MAX_ELEMS_TO_PARSE: 0,\n\n  // The number of top candidates to consider when analysing how\n  // tight the competition is among candidates.\n  DEFAULT_N_TOP_CANDIDATES: 100,\n\n  // Element tags to score by default.\n  DEFAULT_TAGS_TO_SCORE: \"section,h2,h3,h4,h5,h6,p,td,pre\".toUpperCase().split(\",\"),\n\n  // The default number of chars an article must have in order to return a result\n  DEFAULT_CHAR_THRESHOLD: 500,\n\n  DEFAULT_CLOSE_SCORE: 0.75,\n\n  DEFAULT_INCL_EXCL_ATTR: \"_numici\",\n\n  // All of the regular expressions in use within readability.\n  // Defined up here so we don't instantiate them repeatedly in loops.\n  REGEXPS: {\n    unlikelyCandidates: /-ad-|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|foot|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,\n    unlikelyCandidates_nohdr: /-ad-|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|foot|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,\n    okMaybeItsACandidate: /and|article|body|column|main|shadow/i,\n    positive: /article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,\n    negative: /hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,\n    extraneous: /print|archive|comment|discuss|e[\\-]?mail|share|reply|all|login|sign|single|utility/i,\n    byline: /byline|author|dateline|writtenby|p-author/i,\n    replaceFonts: /<(\\/?)font[^>]*>/gi,\n    normalize: /\\s{2,}/g,\n    videos: /\\/\\/(www\\.)?((dailymotion|youtube|youtube-nocookie|player\\.vimeo|v\\.qq)\\.com|(archive|upload\\.wikimedia)\\.org|player\\.twitch\\.tv)/i,\n    nextLink: /(next|weiter|continue|>([^\\|]|$)|»([^\\|]|$))/i,\n    prevLink: /(prev|earl|old|new|<|«)/i,\n    whitespace: /^\\s*$/,\n    hasContent: /\\S$/,\n  },\n\n  DIV_TO_P_ELEMS: [ \"A\", \"BLOCKQUOTE\", \"DL\", \"DIV\", \"IMG\", \"OL\", \"P\", \"PRE\", \"TABLE\", \"UL\", \"SELECT\" ],\n\n  ALTER_TO_DIV_EXCEPTIONS: [\"DIV\", \"ARTICLE\", \"SECTION\", \"P\"],\n\n  PRESENTATIONAL_ATTRIBUTES: [ \"align\", \"background\", \"bgcolor\", \"border\", \"cellpadding\", \"cellspacing\", \"frame\", \"hspace\", \"rules\", \"style\", \"valign\", \"vspace\" ],\n\n  DEPRECATED_SIZE_ATTRIBUTE_ELEMS: [ \"TABLE\", \"TH\", \"TD\", \"HR\", \"PRE\" ],\n\n  // The commented out elements qualify as phrasing content but tend to be\n  // removed by readability when put into paragraphs, so we ignore them here.\n  PHRASING_ELEMS: [\n    // \"CANVAS\", \"IFRAME\", \"SVG\", \"VIDEO\",\n    \"ABBR\", \"AUDIO\", \"B\", \"BDO\", \"BR\", \"BUTTON\", \"CITE\", \"CODE\", \"DATA\",\n    \"DATALIST\", \"DFN\", \"EM\", \"EMBED\", \"I\", \"IMG\", \"INPUT\", \"KBD\", \"LABEL\",\n    \"MARK\", \"MATH\", \"METER\", \"NOSCRIPT\", \"OBJECT\", \"OUTPUT\", \"PROGRESS\", \"Q\",\n    \"RUBY\", \"SAMP\", \"SCRIPT\", \"SELECT\", \"SMALL\", \"SPAN\", \"STRONG\", \"SUB\",\n    \"SUP\", \"TEXTAREA\", \"TIME\", \"VAR\", \"WBR\"\n  ],\n\n  // These are the classes that readability sets itself.\n  CLASSES_TO_PRESERVE: [ \"page\" ],\n\n  /**\n   * Run any post-process modifications to article content as necessary.\n   *\n   * @param Element\n   * @return void\n  **/\n  _postProcessContent: function(articleContent) {\n    // Readability cannot open relative uris so we convert them to absolute uris.\n    this._fixRelativeUris(articleContent);\n\n    // Remove classes.\n    this._cleanClasses(articleContent);\n  },\n\n  /**\n   * Iterates over a NodeList, calls `filterFn` for each node and removes node\n   * if function returned `true`.\n   *\n   * If function is not passed, removes all the nodes in node list.\n   *\n   * @param NodeList nodeList The nodes to operate on\n   * @param Function filterFn the function to use as a filter\n   * @return void\n   */\n  _removeNodes: function(nodeList, filterFn) {\n    for (var i = nodeList.length - 1; i >= 0; i--) {\n      var node = nodeList[i];\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        if (!filterFn || filterFn.call(this, node, i, nodeList)) {\n          parentNode.removeChild(node);\n        }\n      }\n    }\n  },\n\n  /**\n   * Iterates over a NodeList, and calls _setNodeTag for each node.\n   *\n   * @param NodeList nodeList The nodes to operate on\n   * @param String newTagName the new tag name to use\n   * @return void\n   */\n  _replaceNodeTags: function(nodeList, newTagName) {\n    for (var i = nodeList.length - 1; i >= 0; i--) {\n      var node = nodeList[i];\n      this._setNodeTag(node, newTagName);\n    }\n  },\n\n  /**\n   * Iterate over a NodeList, which doesn't natively fully implement the Array\n   * interface.\n   *\n   * For convenience, the current object context is applied to the provided\n   * iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return void\n   */\n  _forEachNode: function(nodeList, fn) {\n    Array.prototype.forEach.call(nodeList, fn, this);\n  },\n\n  /**\n   * Iterate over a NodeList, return true if any of the provided iterate\n   * function calls returns true, false otherwise.\n   *\n   * For convenience, the current object context is applied to the\n   * provided iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return Boolean\n   */\n  _someNode: function(nodeList, fn) {\n    return Array.prototype.some.call(nodeList, fn, this);\n  },\n\n  /**\n   * Iterate over a NodeList, return true if all of the provided iterate\n   * function calls return true, false otherwise.\n   *\n   * For convenience, the current object context is applied to the\n   * provided iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return Boolean\n   */\n  _everyNode: function(nodeList, fn) {\n    return Array.prototype.every.call(nodeList, fn, this);\n  },\n\n  /**\n   * Concat all nodelists passed as arguments.\n   *\n   * @return ...NodeList\n   * @return Array\n   */\n  _concatNodeLists: function() {\n    var slice = Array.prototype.slice;\n    var args = slice.call(arguments);\n    var nodeLists = args.map(function(list) {\n      return slice.call(list);\n    });\n    return Array.prototype.concat.apply([], nodeLists);\n  },\n\n  _getAllNodesWithTag: function(node, tagNames) {\n    if (node.querySelectorAll) {\n      return node.querySelectorAll(tagNames.join(\",\"));\n    }\n    return [].concat.apply([], tagNames.map(function(tag) {\n      var collection = node.getElementsByTagName(tag);\n      return Array.isArray(collection) ? collection : Array.from(collection);\n    }));\n  },\n\n  /**\n   * Removes the class=\"\" attribute from every element in the given\n   * subtree, except those that match CLASSES_TO_PRESERVE and\n   * the classesToPreserve array from the options object.\n   *\n   * @param Element\n   * @return void\n   */\n  _cleanClasses: function(node) {\n    var classesToPreserve = this._classesToPreserve;\n    var className = (node.getAttribute(\"class\") || \"\")\n      .split(/\\s+/)\n      .filter(function(cls) {\n        return classesToPreserve.indexOf(cls) != -1;\n      })\n      .join(\" \");\n\n    if (className) {\n      node.setAttribute(\"class\", className);\n    } else {\n      node.removeAttribute(\"class\");\n    }\n\n    for (node = node.firstElementChild; node; node = node.nextElementSibling) {\n      this._cleanClasses(node);\n    }\n  },\n\n  /**\n   * Converts each <a> and <img> uri in the given element to an absolute URI,\n   * ignoring #ref URIs.\n   *\n   * @param Element\n   * @return void\n   */\n  _fixRelativeUris: function(articleContent) {\n    var baseURI = this._doc.baseURI;\n    var documentURI = this._doc.documentURI;\n    function toAbsoluteURI(uri) {\n      // Leave hash links alone if the base URI matches the document URI:\n      if (baseURI == documentURI && uri.charAt(0) == \"#\") {\n        return uri;\n      }\n      // Otherwise, resolve against base URI:\n      try {\n        return new URL(uri, baseURI).href;\n      } catch (ex) {\n        // Something went wrong, just return the original:\n      }\n      return uri;\n    }\n\n    var links = articleContent.getElementsByTagName(\"a\");\n    this._forEachNode(links, function(link) {\n      var href = link.getAttribute(\"href\");\n      if (href) {\n        // Replace links with javascript: URIs with text content, since\n        // they won't work after scripts have been removed from the page.\n        if (href.indexOf(\"javascript:\") === 0) {\n          var text = this._doc.createTextNode(link.textContent);\n          link.parentNode.replaceChild(text, link);\n        } else {\n          link.setAttribute(\"href\", toAbsoluteURI(href));\n        }\n      }\n    });\n\n    var imgs = articleContent.getElementsByTagName(\"img\");\n    this._forEachNode(imgs, function(img) {\n      var src = img.getAttribute(\"src\");\n      if (src) {\n        img.setAttribute(\"src\", toAbsoluteURI(src));\n      }\n    });\n  },\n\n  /**\n   * Get the article title as an H1.\n   *\n   * @return void\n   **/\n  _getArticleTitle: function() {\n    var doc = this._doc;\n    var curTitle = \"\";\n    var origTitle = \"\";\n\n    try {\n      curTitle = origTitle = doc.title.trim();\n\n      // If they had an element with id \"title\" in their HTML\n      if (typeof curTitle !== \"string\")\n        curTitle = origTitle = this._getInnerText(doc.getElementsByTagName(\"title\")[0]);\n    } catch (e) {/* ignore exceptions setting the title. */}\n\n    var titleHadHierarchicalSeparators = false;\n    function wordCount(str) {\n      return str.split(/\\s+/).length;\n    }\n\n    // If there's a separator in the title, first remove the final part\n    if ((/ [\\|\\-\\\\\\/>»] /).test(curTitle)) {\n      titleHadHierarchicalSeparators = / [\\\\\\/>»] /.test(curTitle);\n      curTitle = origTitle.replace(/(.*)[\\|\\-\\\\\\/>»] .*/gi, \"$1\");\n\n      // If the resulting title is too short (3 words or fewer), remove\n      // the first part instead:\n      if (wordCount(curTitle) < 3)\n        curTitle = origTitle.replace(/[^\\|\\-\\\\\\/>»]*[\\|\\-\\\\\\/>»](.*)/gi, \"$1\");\n    } else if (curTitle.indexOf(\": \") !== -1) {\n      // Check if we have an heading containing this exact string, so we\n      // could assume it's the full title.\n      var headings = this._concatNodeLists(\n        doc.getElementsByTagName(\"h1\"),\n        doc.getElementsByTagName(\"h2\")\n      );\n      var trimmedTitle = curTitle.trim();\n      var match = this._someNode(headings, function(heading) {\n        return heading.textContent.trim() === trimmedTitle;\n      });\n\n      // If we don't, let's extract the title out of the original title string.\n      if (!match) {\n        curTitle = origTitle.substring(origTitle.lastIndexOf(\":\") + 1);\n\n        // If the title is now too short, try the first colon instead:\n        if (wordCount(curTitle) < 3) {\n          curTitle = origTitle.substring(origTitle.indexOf(\":\") + 1);\n          // But if we have too many words before the colon there's something weird\n          // with the titles and the H tags so let's just use the original title instead\n        } else if (wordCount(origTitle.substr(0, origTitle.indexOf(\":\"))) > 5) {\n          curTitle = origTitle;\n        }\n      }\n    } else if (curTitle.length > 150 || curTitle.length < 15) {\n      var hOnes = doc.getElementsByTagName(\"h1\");\n\n      if (hOnes.length === 1)\n        curTitle = this._getInnerText(hOnes[0]);\n    }\n\n    curTitle = curTitle.trim();\n    // If we now have 4 words or fewer as our title, and either no\n    // 'hierarchical' separators (\\, /, > or ») were found in the original\n    // title or we decreased the number of words by more than 1 word, use\n    // the original title.\n    var curTitleWordCount = wordCount(curTitle);\n    if (curTitleWordCount <= 4 &&\n        (!titleHadHierarchicalSeparators ||\n         curTitleWordCount != wordCount(origTitle.replace(/[\\|\\-\\\\\\/>»]+/g, \"\")) - 1)) {\n      curTitle = origTitle;\n    }\n\n    return curTitle;\n  },\n\n_numberNodes: function(node, num) {\n\tnum++;\n\tnode._num = num;\n\tnode.setAttribute(\"_num\", num);\n\tvar length = node.children.length;\n      for (var i = 1; i <= length; i++) {\n        var child = node.children[i-1];\n        num = this._numberNodes(child, num);\n      }\n    return num;\n},\n_buildNodeMap: function(node, nodeMap) {\n\tvar inclExcl = node.getAttribute(this._inclExclAttr) || \"\";\n\tif (inclExcl === \"include\") {\n\t\tnode.setAttribute(\"_userincluded\", \"true\");\n\t} else if (inclExcl === \"exclude\") {\n\t\tnode.setAttribute(\"_userexcluded\", \"true\");\n\t}\n\tif ( node.getAttribute(\"_num\") ) {\n\t\tnodeMap.set(node.getAttribute(\"_num\"), node);\n\t}\n\tvar length = node.children ? node.children.length : 0;\n      for (var i = 0; i < length; i++) {\n        this._buildNodeMap(node.children[i], nodeMap);\n      }\n},\n  /**\n   * Prepare the HTML document for readability to scrape it.\n   * This includes things like stripping javascript, CSS, and handling terrible markup.\n   *\n   * @return void\n   **/\n  _prepDocument: function() {\n    var doc = this._doc;\n    // Remove all style tags in head\n    this._removeNodes(doc.getElementsByTagName(\"style\"));\n\n    if (doc.body) {\n      this._replaceBrs(doc.body);\n    }\n\n    this._replaceNodeTags(doc.getElementsByTagName(\"font\"), \"SPAN\");\n  },\n\n  /**\n   * Finds the next element, starting from the given node, and ignoring\n   * whitespace in between. If the given node is an element, the same node is\n   * returned.\n   */\n  _nextElement: function (node) {\n    var next = node;\n    while (next\n        && (next.nodeType != this.ELEMENT_NODE)\n        && this.REGEXPS.whitespace.test(next.textContent)) {\n      next = next.nextSibling;\n    }\n    return next;\n  },\n\n  /**\n   * Replaces 2 or more successive <br> elements with a single <p>.\n   * Whitespace between <br> elements are ignored. For example:\n   *   <div>foo<br>bar<br> <br><br>abc</div>\n   * will become:\n   *   <div>foo<br>bar<p>abc</p></div>\n   */\n  _replaceBrs: function (elem) {\n    this._forEachNode(this._getAllNodesWithTag(elem, [\"br\"]), function(br) {\n      var next = br.nextSibling;\n\n      // Whether 2 or more <br> elements have been found and replaced with a\n      // <p> block.\n      var replaced = false;\n\n      // If we find a <br> chain, remove the <br>s until we hit another element\n      // or non-whitespace. This leaves behind the first <br> in the chain\n      // (which will be replaced with a <p> later).\n      while ((next = this._nextElement(next)) && (next.tagName == \"BR\")) {\n        replaced = true;\n        var brSibling = next.nextSibling;\n        next.parentNode.removeChild(next);\n        next = brSibling;\n      }\n\n      // If we removed a <br> chain, replace the remaining <br> with a <p>. Add\n      // all sibling nodes as children of the <p> until we hit another <br>\n      // chain.\n      if (replaced) {\n        var p = this._doc.createElement(\"p\");\n        br.parentNode.replaceChild(p, br);\n\n        next = p.nextSibling;\n        while (next) {\n          // If we've hit another <br><br>, we're done adding children to this <p>.\n          if (next.tagName == \"BR\") {\n            var nextElem = this._nextElement(next.nextSibling);\n            if (nextElem && nextElem.tagName == \"BR\")\n              break;\n          }\n\n          if (!this._isPhrasingContent(next))\n            break;\n\n          // Otherwise, make this node a child of the new <p>.\n          var sibling = next.nextSibling;\n          p.appendChild(next);\n          next = sibling;\n        }\n\n        while (p.lastChild && this._isWhitespace(p.lastChild)) {\n          p.removeChild(p.lastChild);\n        }\n\n        if (p.parentNode.tagName === \"P\")\n          this._setNodeTag(p.parentNode, \"DIV\");\n      }\n    });\n  },\n\n  _setNodeTag: function (node, tag) {\n    this.log(\"_setNodeTag\", node, tag);\n    if (node.__JSDOMParser__) {\n      node.localName = tag.toLowerCase();\n      node.tagName = tag.toUpperCase();\n      return node;\n    }\n\n    var replacement = node.ownerDocument.createElement(tag);\n    while (node.firstChild) {\n      replacement.appendChild(node.firstChild);\n    }\n    node.parentNode.replaceChild(replacement, node);\n    if (node.readability)\n      replacement.readability = node.readability;\n\n    for (var i = 0; i < node.attributes.length; i++) {\n      replacement.setAttribute(node.attributes[i].name, node.attributes[i].value);\n    }\n    return replacement;\n  },\n\n  /**\n   * Prepare the article node for display. Clean out any inline styles,\n   * iframes, forms, strip extraneous <p> tags, etc.\n   *\n   * @param Element\n   * @return void\n   **/\n  _prepArticle: function(articleContent) {\n    this._cleanStyles(articleContent);\n\n    // Check for data tables before we continue, to avoid removing items in\n    // those tables, which will often be isolated even though they're\n    // visually linked to other content-ful elements (text, images, etc.).\n    this._markDataTables(articleContent);\n\n    // Clean out junk from the article content\n    this._cleanConditionally(articleContent, \"form\");\n    this._cleanConditionally(articleContent, \"fieldset\");\n    this._clean(articleContent, \"object\");\n    this._clean(articleContent, \"embed\");\n    if ( !this._keepHeaders )\n    \tthis._clean(articleContent, \"h1\");\n    this._clean(articleContent, \"footer\");\n    this._clean(articleContent, \"link\");\n    this._clean(articleContent, \"aside\");\n\n    // Clean out elements have \"share\" in their id/class combinations from final top candidates,\n    // which means we don't remove the top candidates even they have \"share\".\n    this._forEachNode(articleContent.children, function(topCandidate) {\n      this._cleanMatchedNodes(topCandidate, /share/);\n    });\n\n    // If there is only one h2 and its text content substantially equals article title,\n    // they are probably using it as a header and not a subheader,\n    // so remove it since we already extract the title separately.\n    var h2 = articleContent.getElementsByTagName(\"h2\");\n    if (!this._keepHeaders && h2.length === 1) {\n      var lengthSimilarRate = (h2[0].textContent.length - this._articleTitle.length) / this._articleTitle.length;\n      if (Math.abs(lengthSimilarRate) < 0.5) {\n        var titlesMatch = false;\n        if (lengthSimilarRate > 0) {\n          titlesMatch = h2[0].textContent.includes(this._articleTitle);\n        } else {\n          titlesMatch = this._articleTitle.includes(h2[0].textContent);\n        }\n        if (titlesMatch) {\n          this._clean(articleContent, \"h2\");\n        }\n      }\n    }\n\n    this._removeNodes(articleContent.getElementsByTagName(\"h1\"), function (h1, index) {\n      return index > 0;\n    });\n    this._clean(articleContent, \"iframe\");\n    this._clean(articleContent, \"input\");\n    this._clean(articleContent, \"textarea\");\n    this._clean(articleContent, \"select\");\n    this._clean(articleContent, \"button\");\n    if ( !this._keepHeaders )\n\t    this._cleanHeaders(articleContent);\n\n    // Do these last as the previous stuff may have removed junk\n    // that will affect these\n    this._cleanConditionally(articleContent, \"table\");\n    this._cleanConditionally(articleContent, \"ul\");\n    this._cleanConditionally(articleContent, \"div\");\n\n    // Remove extra paragraphs\n    this._removeNodes(articleContent.getElementsByTagName(\"p\"), function (paragraph) {\n      var imgCount = paragraph.getElementsByTagName(\"img\").length;\n      var embedCount = paragraph.getElementsByTagName(\"embed\").length;\n      var objectCount = paragraph.getElementsByTagName(\"object\").length;\n      // At this point, nasty iframes have been removed, only remain embedded video ones.\n      var iframeCount = paragraph.getElementsByTagName(\"iframe\").length;\n      var totalCount = imgCount + embedCount + objectCount + iframeCount;\n\n      return totalCount === 0 && !this._getInnerText(paragraph, false);\n    });\n\n    this._forEachNode(this._getAllNodesWithTag(articleContent, [\"br\"]), function(br) {\n      var next = this._nextElement(br.nextSibling);\n      if (next && next.tagName == \"P\")\n        br.parentNode.removeChild(br);\n    });\n\n    // Remove single-cell tables\n    this._forEachNode(this._getAllNodesWithTag(articleContent, [\"table\"]), function(table) {\n      var tbody = this._hasSingleTagInsideElement(table, \"TBODY\") ? table.firstElementChild : table;\n      if (this._hasSingleTagInsideElement(tbody, \"TR\")) {\n        var row = tbody.firstElementChild;\n        if (this._hasSingleTagInsideElement(row, \"TD\")) {\n          var cell = row.firstElementChild;\n          cell = this._setNodeTag(cell, this._everyNode(cell.childNodes, this._isPhrasingContent) ? \"P\" : \"DIV\");\n          table.parentNode.replaceChild(cell, table);\n        }\n      }\n    });\n  },\n\n  /**\n   * Initialize a node with the readability object. Also checks the\n   * className/id for special names to add to its score.\n   *\n   * @param Element\n   * @return void\n  **/\n  _initializeNode: function(node) {\n    node.readability = {\"contentScore\": 0};\n\n    switch (node.tagName) {\n      case \"DIV\":\n        node.readability.contentScore += 5;\n        break;\n\n      case \"PRE\":\n      case \"TD\":\n      case \"BLOCKQUOTE\":\n        node.readability.contentScore += 3;\n        break;\n\n      case \"ADDRESS\":\n      case \"OL\":\n      case \"UL\":\n      case \"DL\":\n      case \"DD\":\n      case \"DT\":\n      case \"LI\":\n      case \"FORM\":\n        node.readability.contentScore -= 3;\n        break;\n\n      case \"H1\":\n      case \"H2\":\n      case \"H3\":\n      case \"H4\":\n      case \"H5\":\n      case \"H6\":\n      if ( !this._keepHeaders )\n        node.readability.contentScore -= 5;\n        break;\n\n      case \"TH\":\n        node.readability.contentScore -= 5;\n        break;\n    }\n\n    node.readability.contentScore += this._getClassWeight(node);\n  },\n\n  _removeAndGetNext: function(node) {\n    var nextNode = this._getNextNode(node, true);\n    node.parentNode.removeChild(node);\n    return nextNode;\n  },\n\n  /**\n   * Traverse the DOM from node to node, starting at the node passed in.\n   * Pass true for the second parameter to indicate this node itself\n   * (and its kids) are going away, and we want the next node over.\n   *\n   * Calling this in a loop will traverse the DOM depth-first.\n   */\n  _getNextNode: function(node, ignoreSelfAndKids) {\n    // First check for kids if those aren't being ignored\n    if (!ignoreSelfAndKids && node.firstElementChild) {\n      return node.firstElementChild;\n    }\n    // Then for siblings...\n    if (node.nextElementSibling) {\n      return node.nextElementSibling;\n    }\n    // And finally, move up the parent chain *and* find a sibling\n    // (because this is depth-first traversal, we will have already\n    // seen the parent nodes themselves).\n    do {\n      node = node.parentNode;\n    } while (node && !node.nextElementSibling);\n    return node && node.nextElementSibling;\n  },\n\n  _checkByline: function(node, matchString) {\n    if (this._articleByline) {\n      return false;\n    }\n\n    if (node.getAttribute !== undefined) {\n      var rel = node.getAttribute(\"rel\");\n    }\n\n    if ((rel === \"author\" || this.REGEXPS.byline.test(matchString)) && this._isValidByline(node.textContent)) {\n      this._articleByline = node.textContent.trim();\n      return true;\n    }\n\n    return false;\n  },\n\n  _hasByline: function(node) {\n    if (node.getAttribute !== undefined) {\n      var rel = node.getAttribute(\"rel\");\n    }\n\tvar matchString = node.className + \" \" + node.id;\n    if ((rel === \"author\" || this.REGEXPS.byline.test(matchString)) && this._isValidByline(node.textContent)) {\n      return true;\n    }\n\t  if ( !node.children ) {\n\t\t  return false;\n\t  }\n\t  for ( var i=0; i < node.children.length; i++ ) {\n\t\t  if ( this._hasByline(node.children[i]) ) {\n\t\t\t  return true;\n\t\t  }\n\t  }\n    return false;\n  },\n\n  _getNodeAncestors: function(node, maxDepth) {\n    maxDepth = maxDepth || 0;\n    var i = 0, ancestors = [];\n    while (node.parentNode) {\n      ancestors.push(node.parentNode);\n      if (maxDepth && ++i === maxDepth)\n        break;\n      node = node.parentNode;\n    }\n    return ancestors;\n  },\n_hasMustInclude: function(node) {\n\t\t  var inclExcl = node.getAttribute(this._inclExclAttr) || \"\";\n\t\t  if (inclExcl === \"include\") {\n\t\t\t  return true;\n\t\t  }\n\t\t  if ( !node.children ) {\n\t\t\t  return false;\n\t\t  }\n\t\t  for ( var i=0; i < node.children.length; i++ ) {\n\t\t\t  if ( this._hasMustInclude(node.children[i]) ) {\n\t\t\t\t  return true;\n\t\t\t  }\n\t\t  }\n\treturn false;\n},\n_removeMustExcludes: function(node) {\n\tif ( !node.children ) {\n\t\treturn ;\n\t}\n\t\t  for ( var i=node.children.length-1; i >= 0; --i ) {\n\t\t\t  var child = node.children[i];\n\t\t\t  var inclExcl = child.getAttribute(this._inclExclAttr) || \"\";\n\t\t\t  if (inclExcl === \"exclude\") {\n\t\t\t\t  node.removeChild(child);\n\t\t\t  } else {\n\t\t\t\tthis._removeMustExcludes(child);\n\t\t\t  }\n\t\t  }\n},\n  _dumpParents: function(node) {\n\t  var xx=\"\";\n    while (node && node.tagName !== 'BODY' ) {\n\t\txx += node.tagName+\"(\"+node._num+\"), \";\n      node = node.parentNode;\n    }\n    this.mydebug(xx);\n  },\n  _setLoggingAttribute(node, attr, value) {\n\t  var srcNode = this._nodeMap.get(node.getAttribute(\"_num\"));\n\t  if ( srcNode ) {\n\t\t  srcNode.setAttribute(attr, value);\n\t  }\n  },\n  _logNodeRemoved(node, reason) {\n\t  this._setLoggingAttribute(node, \"_removed\", reason);\n  },\n  _logContentScore(node, contentScore) {\n\t  this._setLoggingAttribute(node, \"_score\", contentScore);\n  },\n  /***\n   * grabArticle - Using a variety of metrics (content score, classname, element types), find the content that is\n   *         most likely to be the stuff a user wants to read. Then return it wrapped up in a div.\n   *\n   * @param page a document to run upon. Needs to be a full document, complete with body.\n   * @return Element\n  **/\n  _grabArticle: function (page) {\n    this.log(\"**** grabArticle ****\");\n    var doc = this._doc;\n    var isPaging = (page !== null ? true: false);\n    page = page ? page : this._doc.body;\n\n    // We can't grab an article if we don't have a page!\n    if (!page) {\n      this.log(\"No body found in document. Abort.\");\n      return null;\n    }\n\n    var pageCacheHtml = page.innerHTML;\n\n    while (true) {\n      var stripUnlikelyCandidates = this._flagIsActive(this.FLAG_STRIP_UNLIKELYS);\n\n      // First, node prepping. Trash nodes that look cruddy (like ones with the\n      // class name \"comment\", etc), and turn divs into P tags where they have been\n      // used inappropriately (as in, where they contain no other block level elements.)\n      var elementsToScore = [];\n      var node = this._doc.documentElement;\n\n      while (node) {\n\t\t  var mustInclude = this._hasMustInclude(node);\n        var matchString = node.className + \" \" + node.id;\n        if (!mustInclude && !this._isProbablyVisible(node)) {\n          this.log(\"Removing hidden node - \" + matchString);\n          this._logNodeRemoved(node, \"Hidden node - \" + matchString);\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        // Check to see if this node is a byline, and remove it if it is.\n        if (this._checkByline(node, matchString)) {\n\t\t\tif ( !this._keepByline ) {\n          this._logNodeRemoved(node, \"byline - \" + matchString);\n          \tnode = this._removeAndGetNext(node);\n          \tcontinue;\n\t\t\t}\n        }\n\n        // Remove unlikely candidates\n        if (!mustInclude && stripUnlikelyCandidates) {\n\t\t\tvar unlikely = (this._keepHeaders ? this.REGEXPS.unlikelyCandidates_nohdr.test(matchString) : this.REGEXPS.unlikelyCandidates.test(matchString));\n          if (unlikely &&\n              !this.REGEXPS.okMaybeItsACandidate.test(matchString) &&\n              node.tagName !== \"BODY\" &&\n              node.tagName !== \"A\") {\n            this.log(\"Removing unlikely candidate - \" + matchString);\n          this._logNodeRemoved(node, \"Unlikely candidate - \" + matchString);\n            node = this._removeAndGetNext(node);\n            continue;\n          }\n        }\n\n        // Remove DIV, SECTION, and HEADER nodes without any content(e.g. text, image, video, or iframe).\n        if (!mustInclude && (node.tagName === \"DIV\" || node.tagName === \"SECTION\" || node.tagName === \"HEADER\" ||\n             node.tagName === \"H1\" || node.tagName === \"H2\" || node.tagName === \"H3\" ||\n             node.tagName === \"H4\" || node.tagName === \"H5\" || node.tagName === \"H6\") &&\n            this._isElementWithoutContent(node)) {\n          this._logNodeRemoved(node, \"Element without content\");\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        if (this.DEFAULT_TAGS_TO_SCORE.indexOf(node.tagName) !== -1) {\n          elementsToScore.push(node);\n        }\n\n        // Turn all divs that don't have children block level elements into p's\n        // NOTE: removed altering <div> nodes\n        node = this._getNextNode(node);\n      }\n      /**\n       * Loop through all paragraphs, and assign a score to them based on how content-y they look.\n       * Then add their score to their parent node.\n       *\n       * A score is determined by things like number of commas, class names, etc. Maybe eventually link density.\n      **/\n      var candidates = [];\n      this._forEachNode(elementsToScore, function(elementToScore) {\n        if (!elementToScore.parentNode || typeof(elementToScore.parentNode.tagName) === \"undefined\")\n          return;\n\n        // If this paragraph is less than 25 characters, don't even count it.\n        var innerText = this._getInnerText(elementToScore);\n        if (innerText.length < 25) {\n\t\t\tthis._setLoggingAttribute(elementToScore, \"_innerTextSmall\", \"yes\");\n\t\t\treturn;\n\t\t}\n\n        // Exclude nodes with no ancestor.\n        var ancestors = this._getNodeAncestors(elementToScore, 3);\n        if (ancestors.length === 0)\n          return;\n\n        var contentScore = 0;\n\n        // Add a point for the paragraph itself as a base.\n        contentScore += 1;\n\n        // Add points for any commas within this paragraph.\n        contentScore += innerText.split(\",\").length;\n\n        // For every 100 characters in this paragraph, add another point. Up to 3 points.\n        contentScore += Math.min(Math.floor(innerText.length / 100), 3);\n\n\t\tthis._logContentScore(elementToScore, contentScore);\n        // Initialize and score ancestors.\n        this._forEachNode(ancestors, function(ancestor, level) {\n          if (!ancestor.tagName || !ancestor.parentNode || typeof(ancestor.parentNode.tagName) === \"undefined\")\n            return;\n          if (typeof(ancestor.readability) === \"undefined\") {\n            this._initializeNode(ancestor);\n            candidates.push(ancestor);\n\t\t\tthis._setLoggingAttribute(ancestor, \"_candidate\", \"true\");\n          }\n\n          // Node score divider:\n          // - parent:             1 (no division)\n          // - grandparent:        2\n          // - great grandparent+: ancestor level * 3\n          if (level === 0)\n            var scoreDivider = 1;\n          else if (level === 1)\n            scoreDivider = 2;\n          else\n            scoreDivider = level * 3;\n          ancestor.readability.contentScore += contentScore / scoreDivider;\n\t\tthis._logContentScore(ancestor, ancestor.readability.contentScore);\n        });\n      });\n\n      // After we've calculated scores, loop through all of the possible\n      // candidate nodes we found and find the one with the highest score.\n      var topCandidates = [];\n      for (var c = 0, cl = candidates.length; c < cl; c += 1) {\n        var candidate = candidates[c];\n\n        // Scale the final candidates score based on link density. Good content\n        // should have a relatively small link density (5% or less) and be mostly\n        // unaffected by this operation.\n        var linkdensity = this._getLinkDensity(candidate);\n        this._setLoggingAttribute(candidate, \"_linkdensity\", linkdensity);\n        var candidateScore = candidate.readability.contentScore * (1 - this._getLinkDensity(candidate));\n        candidate.readability.contentScore = candidateScore;\n\t\tthis._logContentScore(candidate, candidate.readability.contentScore);\n\n        this.log(\"Candidate:\", candidate, \"with score \" + candidateScore);\n        for (var t = 0; t < this._nbTopCandidates; t++) {\n          var aTopCandidate = topCandidates[t];\n\n          if (!aTopCandidate || candidateScore > aTopCandidate.readability.contentScore) {\n            topCandidates.splice(t, 0, candidate);\n            if (topCandidates.length > this._nbTopCandidates) {\n              dropped = topCandidates.pop();\n\t\t\tthis._setLoggingAttribute(dropped, \"_lowscore\", \"true\");\n\t\t  }\n            break;\n          }\n        }\n      }\n\n      var topCandidate = topCandidates[0] || null;\n      var neededToCreateTopCandidate = false;\n      var parentOfTopCandidate;\n      if ( topCandidate ) {\n\t      var mustIncludes = [];\n\t\t  while ( topCandidates.length > 0 ) {\n\t\t\t  var cand = topCandidates[topCandidates.length-1];\n\t\t\t  if ( cand.readability.contentScore / topCandidate.readability.contentScore < this._closeScore ) {\n\t\t\t\t  var dropped = topCandidates.pop();\n\t\t\t\t  this._setLoggingAttribute(dropped, \"_lowscore\", \"true\");\n\t\t\t\t  var includeBack=false;\n\t\t\t\t  if ( this._hasMustInclude(dropped) ) {\n\t\t\t\t\t  includeBack = true;\n\t\t\t\t  }\n\t\t\t\t  if ( !includeBack && this._keepHeaders ) {\n\t\t\t\t\t  var h1 = dropped.getElementsByTagName(\"h1\");\n\t\t\t\t\t  if ( h1 && h1.length >= 1 ) {\n\t\t\t\t\t\t  includeBack = true;\n\t\t\t\t\t  }\n\t\t\t\t  }\n\t\t\t\t  if ( !includeBack && this._keepByline && this._hasByline(dropped) ) {\n\t\t\t\t\t  includeBack = true;\n\t\t\t\t  }\n\t\t\t\t  if ( includeBack ) mustIncludes.push(dropped);\n\t\t\t  } else {\n\t\t\t\t  break;\n\t\t\t  }\n\t\t}\n\t\tif ( mustIncludes.length > 0 ) {\n\t\t\ttopCandidates = topCandidates.concat(mustIncludes);\n\t\t}\n\t  }\n\t  for ( var t=0; t < topCandidates.length; t++ ) {\n\t\t  if ( topCandidates[t].tagName === \"BODY\" ) {\n\t\t\t  topCandidate = topCandidates[t];\n\t\t\t  break;\n\t\t  }\n\t  }\n\t  var allSections=[];\n      // If we still have no top candidate, just use the body as a last resort.\n      // We also have to copy the body node so it is something we can modify.\n      if (topCandidate === null || topCandidate.tagName === \"BODY\") {\n        // Move all of the page's children into topCandidate\n        topCandidate = doc.createElement(\"DIV\");\n        neededToCreateTopCandidate = true;\n        // Move everything (not just elements, also text nodes etc.) into the container\n        // so we even include text directly in the body:\n        var kids = page.childNodes;\n        while (kids.length) {\n          this.log(\"Moving child out:\", kids[0]);\n          topCandidate.appendChild(kids[0]);\n        }\n\n        page.appendChild(topCandidate);\n\n        this._initializeNode(topCandidate);\n        allSections.push(topCandidate);\n      } else {\n\t\t  var orgTopCandidate = topCandidate;\n\t\t  for ( var t=0; t < topCandidates.length; t++ ) {\n\t        // Because of our bonus system, parents of candidates might have scores\n\t        // themselves. They get half of the node. There won't be nodes with higher\n\t        // scores than our topCandidate, but if we see the score going *up* in the first\n\t        // few steps up the tree, that's a decent sign that there might be more content\n\t        // lurking in other places that we want to unify in. The sibling stuff\n\t        // below does some of that - but only if we've looked high enough up the DOM\n\t        // tree.\n\t        topCandidate = topCandidates[t];\n\t        parentOfTopCandidate = topCandidate.parentNode;\n\t        var lastScore = topCandidate.readability.contentScore;\n\t        // The scores shouldn't get too low.\n\t        var scoreThreshold = lastScore / 3;\n\t        while (parentOfTopCandidate.tagName !== \"BODY\") {\n\t          if (!parentOfTopCandidate.readability) {\n\t            parentOfTopCandidate = parentOfTopCandidate.parentNode;\n\t            continue;\n\t          }\n\t          var parentScore = parentOfTopCandidate.readability.contentScore;\n\t          if (parentScore < scoreThreshold)\n\t            break;\n\t          if (parentScore > lastScore) {\n\t            // Alright! We found a better parent to use.\n\t            topCandidate = parentOfTopCandidate;\n\t            break;\n\t          }\n\t          lastScore = parentOfTopCandidate.readability.contentScore;\n\t          parentOfTopCandidate = parentOfTopCandidate.parentNode;\n\t        }\n\n\t        // If the top candidate is the only child, use parent instead. This will help sibling\n\t        // joining logic when adjacent content is actually located in parent's sibling node.\n\t        parentOfTopCandidate = topCandidate.parentNode;\n\t        while (parentOfTopCandidate.tagName != \"BODY\" && parentOfTopCandidate.children.length == 1) {\n\t          topCandidate = parentOfTopCandidate;\n\t          parentOfTopCandidate = topCandidate.parentNode;\n\t        }\n\t        if (!topCandidate.readability) {\n\t          this._initializeNode(topCandidate);\n\t        }\n\t        if ( !allSections.includes(topCandidate) ) {\n\t\t\t\tallSections.push(topCandidate);\n\t\t\t}\n\t\t}\n      }\n\n      // Now that we have the top candidate, look through its siblings for content\n      // that might also be related. Things like preambles, content split by ads\n      // that we removed, etc.\n      var articleContent = doc.createElement(\"DIV\");\n      if (isPaging)\n        articleContent.id = \"readability-content\";\nvar hasMainImage=0;\nif ( !this._articleImage ) {\n\thasMainImage = -1;\n}\nfor ( var si = 0; hasMainImage==0 && si < allSections.length; si++ ) {\n\ttopCandidate = allSections[si];\n    var imgs = articleContent.getElementsByTagName(\"img\");\n    this._forEachNode(imgs, function(img) {\n      var src = img.getAttribute(\"src\");\n      if (src === this._articleImage ) {\n        hasMainImage = 1;\n      }\n    });\n}\nif ( hasMainImage==0 ) {\n\tvar imgElement;\n    var imgs = this._doc.body.getElementsByTagName(\"img\");\n    this._forEachNode(imgs, function(img) {\n      var src = img.getAttribute(\"src\");\n      if (src === this._articleImage ) {\n        imgElement = img;\n      }\n    });\n    if ( imgElement ) {\n\t\tif ( imgElement.parentNode && imgElement.parentNode !== \"BODY\" ) {\n\t\t\tthis._initializeNode(imgElement.parentNode);\n\t\t\tallSections.push(imgElement.parentNode);\n\t\t}\n\t}\n}\n\tallSections.sort(function (a, b) {\n\t\treturn a._num - b._num;\n\t});\n\tfor ( var si = allSections.length-1; si > 0; --si ) {\n\t\tfor ( var sj = si-1; sj >= 0; --sj ) {\n\t\t\tif ( this._isAncestor(allSections[sj], allSections[si]) ) {\n\t\t\t\tallSections.splice(si, 1);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tfor ( var si = 0; si < allSections.length; si++ ) {\n\ttopCandidate = allSections[si];\n      var siblingScoreThreshold = Math.max(10, topCandidate.readability.contentScore * 0.2);\n      // Keep potential top candidate's parent node to try to get text direction of it later.\n      parentOfTopCandidate = topCandidate.parentNode;\n      var siblings = parentOfTopCandidate.children;\n      for (var s = 0, sl = siblings.length; s < sl; s++) {\n        var sibling = siblings[s];\n        var append = false;\n\n        this.log(\"Looking at sibling node:\", sibling, sibling.readability ? (\"with score \" + sibling.readability.contentScore) : \"\");\n        this.log(\"Sibling has score\", sibling.readability ? sibling.readability.contentScore : \"Unknown\");\n\t  var required=this._hasMustInclude(sibling);\n\t  if ( !required && this._keepHeaders ) {\n\t\t  var h1 = sibling.getElementsByTagName(\"h1\");\n\t\t  if ( h1 && h1.length >= 1 ) {\n\t\t\t  required = true;\n\t\t  }\n\t  }\n\t  if ( !required && this._keepByline && this._hasByline(sibling) ) {\n\t\t  required = true;\n\t  }\n\n        if (required || sibling === topCandidate) {\n          append = true;\n        } else {\n          var contentBonus = 0;\n\n          // Give a bonus if sibling nodes and top candidates have the example same classname\n          if (sibling.className === topCandidate.className && topCandidate.className !== \"\")\n            contentBonus += topCandidate.readability.contentScore * 0.2;\n\n          if (sibling.readability &&\n              ((sibling.readability.contentScore + contentBonus) >= siblingScoreThreshold)) {\n            append = true;\n          } else if (sibling.nodeName === \"P\") {\n            var linkDensity = this._getLinkDensity(sibling);\n            var nodeContent = this._getInnerText(sibling);\n            var nodeLength = nodeContent.length;\n\n            if (nodeLength > 80 && linkDensity < 0.25) {\n              append = true;\n            } else if (nodeLength < 80 && nodeLength > 0 && linkDensity === 0 &&\n                       nodeContent.search(/\\.( |$)/) !== -1) {\n              append = true;\n            }\n          }\n        }\n\n        if (append) {\n          this.log(\"Appending node:\", sibling);\n\n          if (this.ALTER_TO_DIV_EXCEPTIONS.indexOf(sibling.nodeName) === -1) {\n            // We have a node that isn't a common block level element, like a form or td tag.\n            // Turn it into a div so it doesn't get filtered out later by accident.\n            this.log(\"Altering sibling:\", sibling, \"to div.\");\n\n            sibling = this._setNodeTag(sibling, \"DIV\");\n          }\n          articleContent.appendChild(sibling);\n          // siblings is a reference to the children array, and\n          // sibling is removed from the array when we call appendChild().\n          // As a result, we must revisit this index since the nodes\n          // have been shifted.\n          s -= 1;\n          sl -= 1;\n        }\n      }\n}\n      if (this._debug)\n        this.log(\"Article content pre-prep: \" + articleContent.innerHTML);\n      // So we have all of the content that we need. Now we clean it up for presentation.\n      this._prepArticle(articleContent);\n      if (this._debug)\n        this.log(\"Article content post-prep: \" + articleContent.innerHTML);\n\n      if (neededToCreateTopCandidate) {\n        // We already created a fake div thing, and there wouldn't have been any siblings left\n        // for the previous loop, so there's no point trying to create a new div, and then\n        // move all the children over. Just assign IDs and class names here. No need to append\n        // because that already happened anyway.\n        topCandidate.id = \"readability-page-1\";\n        topCandidate.className = \"page\";\n      } else {\n        var div = doc.createElement(\"DIV\");\n        div.id = \"readability-page-1\";\n        div.className = \"page\";\n        var children = articleContent.childNodes;\n        while (children.length) {\n          div.appendChild(children[0]);\n        }\n        articleContent.appendChild(div);\n      }\n\n      if (this._debug)\n        this.log(\"Article content after paging: \" + articleContent.innerHTML);\n\n      var parseSuccessful = true;\n\n      // Now that we've gone through the full algorithm, check to see if\n      // we got any meaningful content. If we didn't, we may need to re-run\n      // grabArticle with different flags set. This gives us a higher likelihood of\n      // finding the content, and the sieve approach gives us a higher likelihood of\n      // finding the -right- content.\n      var textLength = this._getInnerText(articleContent, true).length;\n      if (textLength < this._charThreshold) {\n        parseSuccessful = false;\n        page.innerHTML = pageCacheHtml;\n\n        if (this._flagIsActive(this.FLAG_STRIP_UNLIKELYS)) {\n          this._removeFlag(this.FLAG_STRIP_UNLIKELYS);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else if (this._flagIsActive(this.FLAG_WEIGHT_CLASSES)) {\n          this._removeFlag(this.FLAG_WEIGHT_CLASSES);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else if (this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)) {\n          this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else {\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n          // No luck after removing flags, just return the longest text we found during the different loops\n          this._attempts.sort(function (a, b) {\n            return a.textLength < b.textLength;\n          });\n\n          // But first check if we actually have something\n          if (!this._attempts[0].textLength) {\n            return null;\n          }\n\n          articleContent = this._attempts[0].articleContent;\n          parseSuccessful = true;\n        }\n      }\n      if (parseSuccessful) {\n        // Find out text direction from ancestors of final top candidate.\n        var ancestors = [parentOfTopCandidate, topCandidate].concat(this._getNodeAncestors(parentOfTopCandidate));\n        this._someNode(ancestors, function(ancestor) {\n          if (!ancestor.tagName)\n            return false;\n          var articleDir = ancestor.getAttribute(\"dir\");\n          if (articleDir) {\n            this._articleDir = articleDir;\n            return true;\n          }\n          return false;\n        });\n\t      this._removeMustExcludes(articleContent);\n        return articleContent;\n      }\n    }\n  },\n\n  /**\n   * Check whether the input string could be a byline.\n   * This verifies that the input is a string, and that the length\n   * is less than 100 chars.\n   *\n   * @param possibleByline {string} - a string to check whether its a byline.\n   * @return Boolean - whether the input string is a byline.\n   */\n  _isValidByline: function(byline) {\n    if (typeof byline == \"string\" || byline instanceof String) {\n      byline = byline.trim();\n      return (byline.length > 0) && (byline.length < 100);\n    }\n    return false;\n  },\n\n  /**\n   * Attempts to get excerpt and byline metadata for the article.\n   *\n   * @return Object with optional \"excerpt\" and \"byline\" properties\n   */\n  _getArticleMetadata: function() {\n    var metadata = {};\n    var values = {};\n    var metaElements = this._doc.getElementsByTagName(\"meta\");\n\n    // property is a space-separated list of values\n    var propertyPattern = /\\s*(dc|dcterm|og|twitter)\\s*:\\s*(author|creator|description|title)\\s*/gi;\n\n    // name is a single value\n    var namePattern = /^\\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\\s*[\\.:]\\s*)?(author|creator|description|title)\\s*$/i;\n\n    // Find description tags.\n    this._forEachNode(metaElements, function(element) {\n\t\tthis._metatags.push(element.outerHTML);\n      var elementName = element.getAttribute(\"name\");\n      var elementProperty = element.getAttribute(\"property\");\n      var content = element.getAttribute(\"content\");\n      var matches = null;\n      var name = null;\nvar imageNames = [\"dc:image\", \"dcterm:image\", \"og:image\", \"image\", \"twitter:image\"];\n      if (elementProperty) {\n\t\t  if ( imageNames.includes(elementProperty) ) {\n\t\t\t  metadata.image = content.trim();;\n\t\t  }\n        matches = elementProperty.match(propertyPattern);\n        if (matches) {\n          for (var i = matches.length - 1; i >= 0; i--) {\n            // Convert to lowercase, and remove any whitespace\n            // so we can match below.\n            name = matches[i].toLowerCase().replace(/\\s/g, \"\");\n            // multiple authors\n            values[name] = content.trim();\n          }\n        }\n      }\n      if ( elementName && imageNames.includes(elementProperty) ) {\n\t\t\t  metadata.image = content.trim();;\n\t  }\n      if (!matches && elementName && namePattern.test(elementName)) {\n        name = elementName;\n        if (content) {\n          // Convert to lowercase, remove any whitespace, and convert dots\n          // to colons so we can match below.\n          name = name.toLowerCase().replace(/\\s/g, \"\").replace(/\\./g, \":\");\n          values[name] = content.trim();\n        }\n      }\n    });\n\n    // get title\n    metadata.title = values[\"dc:title\"] ||\n                     values[\"dcterm:title\"] ||\n                     values[\"og:title\"] ||\n                     values[\"weibo:article:title\"] ||\n                     values[\"weibo:webpage:title\"] ||\n                     values[\"title\"] ||\n                     values[\"twitter:title\"];\n\n    if (!metadata.title) {\n      metadata.title = this._getArticleTitle();\n    }\n\n    // get author\n    metadata.byline = values[\"dc:creator\"] ||\n                      values[\"dcterm:creator\"] ||\n                      values[\"author\"];\n\n    // get description\n    metadata.excerpt = values[\"dc:description\"] ||\n                       values[\"dcterm:description\"] ||\n                       values[\"og:description\"] ||\n                       values[\"weibo:article:description\"] ||\n                       values[\"weibo:webpage:description\"] ||\n                       values[\"description\"] ||\n                       values[\"twitter:description\"];\n\n    return metadata;\n  },\n\n  /**\n   * Removes script tags from the document.\n   *\n   * @param Element\n  **/\n  _removeScripts: function(doc) {\n    this._removeNodes(doc.getElementsByTagName(\"script\"), function(scriptNode) {\n      scriptNode.nodeValue = \"\";\n      scriptNode.removeAttribute(\"src\");\n      return true;\n    });\n    this._removeNodes(doc.getElementsByTagName(\"noscript\"));\n  },\n\n  /**\n   * Check if this node has only whitespace and a single element with given tag\n   * Returns false if the DIV node contains non-empty text nodes\n   * or if it contains no element with given tag or more than 1 element.\n   *\n   * @param Element\n   * @param string tag of child element\n  **/\n  _hasSingleTagInsideElement: function(element, tag) {\n    // There should be exactly 1 element child with given tag\n    if (element.children.length != 1 || element.children[0].tagName !== tag) {\n      return false;\n    }\n\n    // And there should be no text nodes with real content\n    return !this._someNode(element.childNodes, function(node) {\n      return node.nodeType === this.TEXT_NODE &&\n             this.REGEXPS.hasContent.test(node.textContent);\n    });\n  },\n\n  _isElementWithoutContent: function(node) {\n    return node.nodeType === this.ELEMENT_NODE &&\n      node.textContent.trim().length == 0 &&\n      (node.children.length == 0 ||\n       node.children.length == node.getElementsByTagName(\"br\").length + node.getElementsByTagName(\"hr\").length);\n  },\n\n  /**\n   * Determine whether element has any children block level elements.\n   *\n   * @param Element\n   */\n  _hasChildBlockElement: function (element) {\n    return this._someNode(element.childNodes, function(node) {\n      return this.DIV_TO_P_ELEMS.indexOf(node.tagName) !== -1 ||\n             this._hasChildBlockElement(node);\n    });\n  },\n\n  /***\n   * Determine if a node qualifies as phrasing content.\n   * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n  **/\n  _isPhrasingContent: function(node) {\n    return node.nodeType === this.TEXT_NODE || this.PHRASING_ELEMS.indexOf(node.tagName) !== -1 ||\n      ((node.tagName === \"A\" || node.tagName === \"DEL\" || node.tagName === \"INS\") &&\n        this._everyNode(node.childNodes, this._isPhrasingContent));\n  },\n\n  _isWhitespace: function(node) {\n    return (node.nodeType === this.TEXT_NODE && node.textContent.trim().length === 0) ||\n           (node.nodeType === this.ELEMENT_NODE && node.tagName === \"BR\");\n  },\n\n  /**\n   * Get the inner text of a node - cross browser compatibly.\n   * This also strips out any excess whitespace to be found.\n   *\n   * @param Element\n   * @param Boolean normalizeSpaces (default: true)\n   * @return string\n  **/\n  _getInnerText: function(e, normalizeSpaces) {\n    normalizeSpaces = (typeof normalizeSpaces === \"undefined\") ? true : normalizeSpaces;\n    var textContent = e.textContent.trim();\n\n    if (normalizeSpaces) {\n      return textContent.replace(this.REGEXPS.normalize, \" \");\n    }\n    return textContent;\n  },\n\n  /**\n   * Get the number of times a string s appears in the node e.\n   *\n   * @param Element\n   * @param string - what to split on. Default is \",\"\n   * @return number (integer)\n  **/\n  _getCharCount: function(e, s) {\n    s = s || \",\";\n    return this._getInnerText(e).split(s).length - 1;\n  },\n\n  /**\n   * Remove the style attribute on every e and under.\n   * TODO: Test if getElementsByTagName(*) is faster.\n   *\n   * @param Element\n   * @return void\n  **/\n  _cleanStyles: function(e) {\n    if (!e || e.tagName.toLowerCase() === \"svg\")\n      return;\n\n    // Remove `style` and deprecated presentational attributes\n    for (var i = 0; i < this.PRESENTATIONAL_ATTRIBUTES.length; i++) {\n\t\tif ( !this._keepStyles || this.PRESENTATIONAL_ATTRIBUTES !== \"style\" )\n      \t\te.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[i]);\n    }\n\n    if (this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName) !== -1) {\n      e.removeAttribute(\"width\");\n      e.removeAttribute(\"height\");\n    }\n\n    var cur = e.firstElementChild;\n    while (cur !== null) {\n      this._cleanStyles(cur);\n      cur = cur.nextElementSibling;\n    }\n  },\n\n  /**\n   * Get the density of links as a percentage of the content\n   * This is the amount of text that is inside a link divided by the total text in the node.\n   *\n   * @param Element\n   * @return number (float)\n  **/\n  _getLinkDensity: function(element) {\n    var textLength = this._getInnerText(element).length;\n    if (textLength === 0)\n      return 0;\n\n    var linkLength = 0;\n\n    // XXX implement _reduceNodeList?\n    this._forEachNode(element.getElementsByTagName(\"a\"), function(linkNode) {\n      linkLength += this._getInnerText(linkNode).length;\n    });\n\n    return linkLength / textLength;\n  },\n\n  /**\n   * Get an elements class/id weight. Uses regular expressions to tell if this\n   * element looks good or bad.\n   *\n   * @param Element\n   * @return number (Integer)\n  **/\n  _getClassWeight: function(e) {\n    if (!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))\n      return 0;\n\n    var weight = 0;\n\n    // Look for a special classname\n    if (typeof(e.className) === \"string\" && e.className !== \"\") {\n      if (this.REGEXPS.negative.test(e.className))\n        weight -= 25;\n\n      if (this.REGEXPS.positive.test(e.className))\n        weight += 25;\n    }\n\n    // Look for a special ID\n    if (typeof(e.id) === \"string\" && e.id !== \"\") {\n      if (this.REGEXPS.negative.test(e.id))\n        weight -= 25;\n\n      if (this.REGEXPS.positive.test(e.id))\n        weight += 25;\n    }\n\n    return weight;\n  },\n\n  /**\n   * Clean a node of all elements of type \"tag\".\n   * (Unless it's a youtube/vimeo video. People love movies.)\n   *\n   * @param Element\n   * @param string tag to clean\n   * @return void\n   **/\n  _clean: function(e, tag) {\n    var isEmbed = [\"object\", \"embed\", \"iframe\"].indexOf(tag) !== -1;\n\n    this._removeNodes(e.getElementsByTagName(tag), function(element) {\n      // Allow youtube and vimeo videos through as people usually want to see those.\n      if (isEmbed) {\n        var attributeValues = [].map.call(element.attributes, function(attr) {\n          return attr.value;\n        }).join(\"|\");\n\n        // First, check the elements attributes to see if any of them contain youtube or vimeo\n        if (this.REGEXPS.videos.test(attributeValues))\n          return false;\n\n        // Then check the elements inside this element for the same.\n        if (this.REGEXPS.videos.test(element.innerHTML))\n          return false;\n      }\n\n      return true;\n    });\n  },\n\n  /**\n   * Check if a given node has one of its ancestor tag name matching the\n   * provided one.\n   * @param  HTMLElement node\n   * @param  String      tagName\n   * @param  Number      maxDepth\n   * @param  Function    filterFn a filter to invoke to determine whether this node 'counts'\n   * @return Boolean\n   */\n  _hasAncestorTag: function(node, tagName, maxDepth, filterFn) {\n    maxDepth = maxDepth || 3;\n    tagName = tagName.toUpperCase();\n    var depth = 0;\n    while (node.parentNode) {\n      if (maxDepth > 0 && depth > maxDepth)\n        return false;\n      if (node.parentNode.tagName === tagName && (!filterFn || filterFn(node.parentNode)))\n        return true;\n      node = node.parentNode;\n      depth++;\n    }\n    return false;\n  },\n\n  _isAncestor: function(node, childnode) {\n    while (childnode) {\n\t  if ( node === childnode )\n\t  \treturn true;\n      childnode = childnode.parentNode;\n    }\n    return false;\n  },\n  /**\n   * Return an object indicating how many rows and columns this table has.\n   */\n  _getRowAndColumnCount: function(table) {\n    var rows = 0;\n    var columns = 0;\n    var trs = table.getElementsByTagName(\"tr\");\n    for (var i = 0; i < trs.length; i++) {\n      var rowspan = trs[i].getAttribute(\"rowspan\") || 0;\n      if (rowspan) {\n        rowspan = parseInt(rowspan, 10);\n      }\n      rows += (rowspan || 1);\n\n      // Now look for column-related info\n      var columnsInThisRow = 0;\n      var cells = trs[i].getElementsByTagName(\"td\");\n      for (var j = 0; j < cells.length; j++) {\n        var colspan = cells[j].getAttribute(\"colspan\") || 0;\n        if (colspan) {\n          colspan = parseInt(colspan, 10);\n        }\n        columnsInThisRow += (colspan || 1);\n      }\n      columns = Math.max(columns, columnsInThisRow);\n    }\n    return {rows: rows, columns: columns};\n  },\n\n  /**\n   * Look for 'data' (as opposed to 'layout') tables, for which we use\n   * similar checks as\n   * https://dxr.mozilla.org/mozilla-central/rev/71224049c0b52ab190564d3ea0eab089a159a4cf/accessible/html/HTMLTableAccessible.cpp#920\n   */\n  _markDataTables: function(root) {\n    var tables = root.getElementsByTagName(\"table\");\n    for (var i = 0; i < tables.length; i++) {\n      var table = tables[i];\n      var role = table.getAttribute(\"role\");\n      if (role == \"presentation\") {\n        table._readabilityDataTable = false;\n        continue;\n      }\n      var datatable = table.getAttribute(\"datatable\");\n      if (datatable == \"0\") {\n        table._readabilityDataTable = false;\n        continue;\n      }\n      var summary = table.getAttribute(\"summary\");\n      if (summary) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      var caption = table.getElementsByTagName(\"caption\")[0];\n      if (caption && caption.childNodes.length > 0) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      // If the table has a descendant with any of these tags, consider a data table:\n      var dataTableDescendants = [\"col\", \"colgroup\", \"tfoot\", \"thead\", \"th\"];\n      var descendantExists = function(tag) {\n        return !!table.getElementsByTagName(tag)[0];\n      };\n      if (dataTableDescendants.some(descendantExists)) {\n        this.log(\"Data table because found data-y descendant\");\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      // Nested tables indicate a layout table:\n      if (table.getElementsByTagName(\"table\")[0]) {\n        table._readabilityDataTable = false;\n        continue;\n      }\n\n      var sizeInfo = this._getRowAndColumnCount(table);\n      if (sizeInfo.rows >= 10 || sizeInfo.columns > 4) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n      // Now just go by size entirely:\n      table._readabilityDataTable = sizeInfo.rows * sizeInfo.columns > 10;\n    }\n  },\n\n  /**\n   * Clean an element of all tags of type \"tag\" if they look fishy.\n   * \"Fishy\" is an algorithm based on content length, classnames, link density, number of images & embeds, etc.\n   *\n   * @return void\n   **/\n  _cleanConditionally: function(e, tag) {\n    if (!this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))\n      return;\n\n    var isList = tag === \"ul\" || tag === \"ol\";\n\n    // Gather counts for other typical elements embedded within.\n    // Traverse backwards so we can remove nodes at the same time\n    // without effecting the traversal.\n    //\n    // TODO: Consider taking into account original contentScore here.\n    this._removeNodes(e.getElementsByTagName(tag), function(node) {\n      // First check if we're in a data table, in which case don't remove us.\n      var isDataTable = function(t) {\n        return t._readabilityDataTable;\n      };\n\n      if (this._hasAncestorTag(node, \"table\", -1, isDataTable)) {\n        return false;\n      }\n\n      var weight = this._getClassWeight(node);\n      var contentScore = 0;\n\n      this.log(\"Cleaning Conditionally\", node);\n\n      if (weight + contentScore < 0) {\n        return true;\n      }\n\n      if (this._getCharCount(node, \",\") < 10) {\n        // If there are not very many commas, and the number of\n        // non-paragraph elements is more than paragraphs or other\n        // ominous signs, remove the element.\n        var p = node.getElementsByTagName(\"p\").length;\n        var img = node.getElementsByTagName(\"img\").length;\n        var li = node.getElementsByTagName(\"li\").length - 100;\n        var input = node.getElementsByTagName(\"input\").length;\n\n        var embedCount = 0;\n        var embeds = node.getElementsByTagName(\"embed\");\n        for (var ei = 0, il = embeds.length; ei < il; ei += 1) {\n          if (!this.REGEXPS.videos.test(embeds[ei].src))\n            embedCount += 1;\n        }\n\n        var linkDensity = this._getLinkDensity(node);\n        var contentLength = this._getInnerText(node).length;\n\n        var haveToRemove =\n          (img > 1 && p / img < 0.5 && !this._hasAncestorTag(node, \"figure\")) ||\n          (!isList && li > p) ||\n          (input > Math.floor(p/3)) ||\n          (!isList && contentLength < 25 && (img === 0 || img > 2) && !this._hasAncestorTag(node, \"figure\")) ||\n          (!isList && weight < 25 && linkDensity > 0.2) ||\n          (weight >= 25 && linkDensity > 0.5) ||\n          ((embedCount === 1 && contentLength < 75) || embedCount > 1);\n        return haveToRemove;\n      }\n      return false;\n    });\n  },\n\n  /**\n   * Clean out elements whose id/class combinations match specific string.\n   *\n   * @param Element\n   * @param RegExp match id/class combination.\n   * @return void\n   **/\n  _cleanMatchedNodes: function(e, regex) {\n    var endOfSearchMarkerNode = this._getNextNode(e, true);\n    var next = this._getNextNode(e);\n    while (next && next != endOfSearchMarkerNode) {\n      if (regex.test(next.className + \" \" + next.id)) {\n        next = this._removeAndGetNext(next);\n      } else {\n        next = this._getNextNode(next);\n      }\n    }\n  },\n\n  /**\n   * Clean out spurious headers from an Element. Checks things like classnames and link density.\n   *\n   * @param Element\n   * @return void\n  **/\n  _cleanHeaders: function(e) {\n    for (var headerIndex = 1; headerIndex < 3; headerIndex += 1) {\n      this._removeNodes(e.getElementsByTagName(\"h\" + headerIndex), function (header) {\n        return this._getClassWeight(header) < 0;\n      });\n    }\n  },\n\n  _flagIsActive: function(flag) {\n    return (this._flags & flag) > 0;\n  },\n\n  _removeFlag: function(flag) {\n    this._flags = this._flags & ~flag;\n  },\n\n  _isProbablyVisible: function(node) {\n    return node.style.display != \"none\" && !node.hasAttribute(\"hidden\");\n  },\n\n  /**\n   * Decides whether or not the document is reader-able without parsing the whole thing.\n   *\n   * @return boolean Whether or not we suspect parse() will suceeed at returning an article object.\n   */\n  isProbablyReaderable: function(helperIsVisible) {\n    var nodes = this._getAllNodesWithTag(this._doc, [\"p\", \"pre\"]);\n\n    // Get <div> nodes which have <br> node(s) and append them into the `nodes` variable.\n    // Some articles' DOM structures might look like\n    // <div>\n    //   Sentences<br>\n    //   <br>\n    //   Sentences<br>\n    // </div>\n    var brNodes = this._getAllNodesWithTag(this._doc, [\"div > br\"]);\n    if (brNodes.length) {\n      var set = new Set();\n      [].forEach.call(brNodes, function(node) {\n        set.add(node.parentNode);\n      });\n      nodes = [].concat.apply(Array.from(set), nodes);\n    }\n\n    if (!helperIsVisible) {\n      helperIsVisible = this._isProbablyVisible;\n    }\n\n    var score = 0;\n    // This is a little cheeky, we use the accumulator 'score' to decide what to return from\n    // this callback:\n    return this._someNode(nodes, function(node) {\n      if (helperIsVisible && !helperIsVisible(node))\n        return false;\n      var matchString = node.className + \" \" + node.id;\n\n      if (this.REGEXPS.unlikelyCandidates.test(matchString) &&\n          !this.REGEXPS.okMaybeItsACandidate.test(matchString)) {\n        return false;\n      }\n\n      if (node.matches && node.matches(\"li p\")) {\n        return false;\n      }\n\n      var textContentLength = node.textContent.trim().length;\n      if (textContentLength < 140) {\n        return false;\n      }\n\n      score += Math.sqrt(textContentLength - 140);\n\n      if (score > 20) {\n        return true;\n      }\n      return false;\n    });\n  },\n\n_setScores: function(node) {\n      if (!(typeof(node.readability) === \"undefined\") ) {\n\t\t  try {\n\t\t  node.setAttribute(\"score\", node.readability.contentScore);\n\t  \t} catch (err) {\n\t\t\tthis.dumperr(err);\n\t\t}\n\t  }\n\t  if ( !node.children ) {\n\t\t  return ;\n\t  }\n\t  try {\n      var length = node.children.length;\n      for (var i = 0; i < length; i++) {\n        var child = node.children[i];\n        this._setScores(child);\n      }\n\t  \t} catch (err) {\n\t\t\tthis.dumperr(err);\n\t\t}\n    },\n_inclExclTest1: function(node) {\n\tvar txt = node.textContent || \"\";\n\tif ( node.tagName === \"P\" && txt.includes(\"Today, Elon Musk announced via Twitter that the first Boring Company\") ) {\n\t\tnode.setAttribute(this._inclExclAttr, \"exclude\");\n\t}\n\t  if ( !node.children ) {\n\t\t  return ;\n\t  }\n\t  try {\n      var length = node.children.length;\n      for (var i = 0; i < length; i++) {\n        var child = node.children[i];\n        this._inclExclTest1(child);\n      }\n  \t} catch (err) {\n\t\t\tthis.dumperr(err);\n\t\t}\n},\n_inclExclTest2: function(node) {\n\tif ( node.tagName === \"H2\" ) {\n\t\tvar txt = node.textContent || \"\";\n\t\tif ( txt.includes(\"Impeach Trump for lying about sex\" ) ) {\n\t\t\tnode.setAttribute(this._inclExclAttr, \"include\");\n\t\t}\n\t}\n\t\t  for ( var i=0; i < node.children.length; i++ ) {\n\t\t\t  if ( this._inclExclTest2(node.children[i]) ) {\n\t\t\t\t  return true;\n\t\t\t  }\n\t\t  }\n\treturn false;\n},\n_inclExclTest3: function(node) {\n\tvar txt = node.textContent || \"\";\n\tif ( node.tagName === \"P\" && txt.includes(\"quick attempt by Sony to cash in on the micro-console trend\") ) {\n\t\tnode.setAttribute(this._inclExclAttr, \"include\");\n\t}\n\tif ( node.tagName === \"P\" && txt.includes(\"Younger gamers who didn't grow up with the PlayStation might find something to enjoy\") ) {\n\t\tnode.setAttribute(this._inclExclAttr, \"include\");\n\t}\n\t  if ( !node.children ) {\n\t\t  return ;\n\t  }\n\t  try {\n      var length = node.children.length;\n      for (var i = 0; i < length; i++) {\n        var child = node.children[i];\n        this._inclExclTest3(child);\n      }\n  \t} catch (err) {\n\t\t\tthis.dumperr(err);\n\t\t}\n},\n  /**\n   * Runs readability.\n   *\n   * Workflow:\n   *  1. Prep the document by removing script tags, css, etc.\n   *  2. Build readability's DOM tree.\n   *  3. Grab the article content from the current dom tree.\n   *  4. Replace the current DOM tree with the new one.\n   *  5. Read peacefully.\n   *\n   * @return void\n   **/\n  parse: function () {\n    // Avoid parsing too large documents, as per configuration option\n    if (this._maxElemsToParse > 0) {\n      var numTags = this._doc.getElementsByTagName(\"*\").length;\n      if (numTags > this._maxElemsToParse) {\n        throw new Error(\"Aborting parsing document; \" + numTags + \" elements found\");\n      }\n    }\n\n    // Remove script tags from the document.\n    this._removeScripts(this._doc);\n    this._prepDocument();\nthis._numberNodes(this._doc.documentElement, 0);\ntry {\nthis._docSrc = this._doc.documentElement.cloneNode(true);\nthis._buildNodeMap(this._docSrc, this._nodeMap);\n} catch ( err ) {\n\tthis.dumperr(err);\n}\n    var metadata = this._getArticleMetadata();\n    this._articleTitle = metadata.title;\n\tthis._articleImage = metadata.image;\n    var articleContent;\n    try {\n    articleContent = this._grabArticle();\n\t} catch (err) { this.dumperr(err); }\n    if (!articleContent)\n      return null;\n\n    this.log(\"Grabbed: \" + articleContent.innerHTML);\n\n    this._postProcessContent(articleContent);\n    this._setScores(articleContent);\n\n    // If we haven't found an excerpt in the article's metadata, use the article's\n    // first paragraph as the excerpt. This is used for displaying a preview of\n    // the article's content.\n    if (!metadata.excerpt) {\n      var paragraphs = articleContent.getElementsByTagName(\"p\");\n      if (paragraphs.length > 0) {\n        metadata.excerpt = paragraphs[0].textContent.trim();\n      }\n    }\n\n    var textContent = articleContent.textContent;\n\n    return {\n      title: this._articleTitle,\n      byline: metadata.byline || this._articleByline,\n      dir: this._articleDir,\n      content: articleContent.innerHTML,\n      textContent: textContent,\n      length: textContent.length,\n      excerpt: metadata.excerpt,\n      metatags: this._metatags,\n      log : this._docSrc ? this._docSrc.innerHTML : \"\",\n    };\n  }\n};\n\nif (typeof module === \"object\") {\n  module.exports = Readability;\n}\n",
    "'use strict';\n\n/**\n * This module defines the set of global events that are dispatched\n * across the bridge between the sidebar and annotator\n */\nmodule.exports = {\n  // Events that the sidebar sends to the annotator\n  // ----------------------------------------------\n\n  /**\n   * The updated feature flags for the user\n   */\n  FEATURE_FLAGS_UPDATED: 'featureFlagsUpdated',\n\n  /**\n   * The sidebar is asking the annotator to open the partner site about page.\n   */\n  ABOUT_REQUESTED: 'aboutRequested',\n  \n  /**\n   * The sidebar is asking the annotator to open the partner site help page.\n   */\n  HELP_REQUESTED: 'helpRequested',\n\n  /** The sidebar is asking the annotator to do a partner site log in\n   *  (for example, pop up a log in window). This is used when the client is\n   *  embedded in a partner site and a log in button in the client is clicked.\n   */\n  LOGIN_REQUESTED: 'loginRequested',\n\n  /** The sidebar is asking the annotator to do a partner site log out.\n   *  This is used when the client is embedded in a partner site and a log out\n   *  button in the client is clicked.\n   */\n  LOGOUT_REQUESTED: 'logoutRequested',\n\n  /**\n   * The sidebar is asking the annotator to open the partner site profile page.\n   */\n  PROFILE_REQUESTED: 'profileRequested',\n\n  /**\n   * The set of annotations was updated.\n   */\n  PUBLIC_ANNOTATION_COUNT_CHANGED: 'publicAnnotationCountChanged',\n\n  /**\n   * The sidebar is asking the annotator to do a partner site sign-up.\n   */\n  SIGNUP_REQUESTED: 'signupRequested',\n\n\n  // Events that the annotator sends to the sidebar\n  // ----------------------------------------------\n};\n",
    "'use strict';\n\nvar extend = require('extend');\n\nvar RPC = require('./frame-rpc');\n\n/**\n * The Bridge service sets up a channel between frames and provides an events\n * API on top of it.\n */\nclass Bridge {\n  constructor() {\n    this.links = [];\n    this.channelListeners = {};\n    this.onConnectListeners = [];\n  }\n\n  /**\n   * Destroy all channels created with `createChannel`.\n   *\n   * This removes the event listeners for messages arriving from other windows.\n   */\n  destroy() {\n    Array.from(this.links).map((link) =>\n      link.channel.destroy());\n  }\n\n  /**\n   * Create a communication channel between this window and `source`.\n   *\n   * The created channel is added to the list of channels which `call`\n   * and `on` send and receive messages over.\n   *\n   * @param {Window} source - The source window.\n   * @param {string} origin - The origin of the document in `source`.\n   * @param {string} token\n   * @return {RPC} - Channel for communicating with the window.\n   */\n  createChannel(source, origin, token) {\n    var channel = null;\n    var connected = false;\n\n    var ready = () => {\n      if (connected) { return; }\n      connected = true;\n      Array.from(this.onConnectListeners).forEach((cb) =>\n        cb.call(null, channel, source)\n      );\n    };\n\n    var connect = (_token, cb) => {\n      if (_token === token) {\n        cb();\n        ready();\n      }\n    };\n\n    var listeners = extend({connect}, this.channelListeners);\n\n    // Set up a channel\n    channel = new RPC(window, source, origin, listeners);\n\n    // Fire off a connection attempt\n    channel.call('connect', token, ready);\n\n    // Store the newly created channel in our collection\n    this.links.push({\n      channel,\n      window: source,\n    });\n\n    return channel;\n  }\n\n  /**\n   * Make a method call on all channels, collect the results and pass them to a\n   * callback when all results are collected.\n   *\n   * @param {string} method - Name of remote method to call.\n   * @param {any[]} args - Arguments to method.\n   * @param [Function] callback - Called with an array of results.\n   */\n  call(method, ...args) {\n    var cb;\n    if (typeof(args[args.length - 1]) === 'function') {\n      cb = args[args.length - 1];\n      args = args.slice(0, -1);\n    }\n\n    var _makeDestroyFn = c => {\n      return error => {\n        c.destroy();\n        this.links = (Array.from(this.links).filter((l) => l.channel !== c).map((l) => l));\n        throw error;\n      };\n    };\n\n    var promises = this.links.map(function(l) {\n      var p = new Promise(function(resolve, reject) {\n        var timeout = setTimeout((() => resolve(null)), 1000);\n        try {\n          return l.channel.call(method, ...Array.from(args), function(err, result) {\n            clearTimeout(timeout);\n            if (err) { return reject(err); } else { return resolve(result); }\n          });\n        } catch (error) {\n          var err = error;\n          return reject(err);\n        }\n      });\n\n      // Don't assign here. The disconnect is handled asynchronously.\n      return p.catch(_makeDestroyFn(l.channel));\n    });\n\n    var resultPromise = Promise.all(promises);\n\n    if (cb) {\n      resultPromise = resultPromise\n        .then(results => cb(null, results))\n        .catch(error => cb(error));\n    }\n\n    return resultPromise;\n  }\n\n  /**\n   * Register a callback to be invoked when any connected channel sends a\n   * message to this `Bridge`.\n   *\n   * @param {string} method\n   * @param {Function} callback\n   */\n  on(method, callback) {\n    if (this.channelListeners[method]) {\n      throw new Error(`Listener '${method}' already bound in Bridge`);\n    }\n    this.channelListeners[method] = callback;\n    return this;\n  }\n\n  /**\n   * Unregister any callbacks registered with `on`.\n   *\n   * @param {string} method\n   */\n  off(method) {\n    delete this.channelListeners[method];\n    return this;\n  }\n\n  /**\n   * Add a function to be called upon a new connection.\n   *\n   * @param {Function} callback\n   */\n  onConnect(callback) {\n    this.onConnectListeners.push(callback);\n    return this;\n  }\n}\n\nmodule.exports = Bridge;\n",
    "var Discovery,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nmodule.exports = Discovery = (function() {\n  Discovery.prototype.server = false;\n\n  Discovery.prototype.origin = '*';\n\n  Discovery.prototype.onDiscovery = null;\n\n  Discovery.prototype.requestInProgress = false;\n\n  function Discovery(target, options) {\n    this.target = target;\n    if (options == null) {\n      options = {};\n    }\n    this._onMessage = bind(this._onMessage, this);\n    this.stopDiscovery = bind(this.stopDiscovery, this);\n    if (options.server) {\n      this.server = options.server;\n    }\n    if (options.origin) {\n      this.origin = options.origin;\n    }\n  }\n\n  Discovery.prototype.startDiscovery = function(onDiscovery) {\n    if (this.onDiscovery) {\n      throw new Error('Discovery is already in progress, call .stopDiscovery() first');\n    }\n    this.onDiscovery = onDiscovery;\n    this.target.addEventListener('message', this._onMessage, false);\n    this._beacon();\n  };\n\n  Discovery.prototype.stopDiscovery = function() {\n    this.onDiscovery = null;\n    this.target.removeEventListener('message', this._onMessage);\n  };\n\n  Discovery.prototype._beacon = function() {\n    var beaconMessage, child, i, len, parent, queue, ref;\n    beaconMessage = this.server ? '__cross_frame_dhcp_offer' : '__cross_frame_dhcp_discovery';\n    queue = [this.target.top];\n    while (queue.length) {\n      parent = queue.shift();\n      if (parent !== this.target) {\n        parent.postMessage(beaconMessage, this.origin);\n      }\n      ref = parent.frames;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        queue.push(child);\n      }\n    }\n  };\n\n  Discovery.prototype._onMessage = function(event) {\n    var data, discovered, match, messageType, origin, ref, reply, source, token;\n    source = event.source, origin = event.origin, data = event.data;\n    if (origin === 'null' || origin.match('moz-extension:') || window.location.protocol === 'moz-extension:') {\n      origin = '*';\n    }\n    match = typeof data.match === \"function\" ? data.match(/^__cross_frame_dhcp_(discovery|offer|request|ack)(?::(\\d+))?$/) : void 0;\n    if (!match) {\n      return;\n    }\n    messageType = match[1];\n    token = match[2];\n    ref = this._processMessage(messageType, token, origin), reply = ref.reply, discovered = ref.discovered, token = ref.token;\n    if (reply) {\n      source.postMessage('__cross_frame_dhcp_' + reply, origin);\n    }\n    if (discovered) {\n      this.onDiscovery.call(null, source, origin, token);\n    }\n  };\n\n  Discovery.prototype._processMessage = function(messageType, token, origin) {\n    var discovered, reply;\n    reply = null;\n    discovered = false;\n    if (this.server) {\n      if (messageType === 'discovery') {\n        reply = 'offer';\n      } else if (messageType === 'request') {\n        token = this._generateToken();\n        reply = 'ack' + ':' + token;\n        discovered = true;\n      } else if (messageType === 'offer' || messageType === 'ack') {\n        throw new Error(\"A second Discovery server has been detected at \" + origin + \".\\nThis is unsupported and will cause unexpected behaviour.\");\n      }\n    } else {\n      if (messageType === 'offer') {\n        if (!this.requestInProgress) {\n          this.requestInProgress = true;\n          reply = 'request';\n        }\n      } else if (messageType === 'ack') {\n        this.requestInProgress = false;\n        discovered = true;\n      }\n    }\n    return {\n      reply: reply,\n      discovered: discovered,\n      token: token\n    };\n  };\n\n  Discovery.prototype._generateToken = function() {\n    return ('' + Math.random()).replace(/\\D/g, '');\n  };\n\n  return Discovery;\n\n})();\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9zaGFyZWQvZGlzY292ZXJ5LmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvc2hhcmVkL2Rpc2NvdmVyeS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0JBLElBQUEsU0FBQTtFQUFBOztBQUFBLE1BQU0sQ0FBQyxPQUFQLEdBQXVCO3NCQUVyQixNQUFBLEdBQVE7O3NCQUlSLE1BQUEsR0FBUTs7c0JBRVIsV0FBQSxHQUFhOztzQkFDYixpQkFBQSxHQUFtQjs7RUFJTixtQkFBQyxNQUFELEVBQVUsT0FBVjtJQUFDLElBQUMsQ0FBQSxTQUFEOztNQUFTLFVBQVE7Ozs7SUFDN0IsSUFBNEIsT0FBTyxDQUFDLE1BQXBDO01BQUEsSUFBQyxDQUFBLE1BQUQsR0FBVSxPQUFPLENBQUMsT0FBbEI7O0lBQ0EsSUFBNEIsT0FBTyxDQUFDLE1BQXBDO01BQUEsSUFBQyxDQUFBLE1BQUQsR0FBVSxPQUFPLENBQUMsT0FBbEI7O0VBRlc7O3NCQUliLGNBQUEsR0FBZ0IsU0FBQyxXQUFEO0lBQ2QsSUFBRyxJQUFDLENBQUEsV0FBSjtBQUNFLFlBQU0sSUFBSSxLQUFKLENBQVUsK0RBQVYsRUFEUjs7SUFVQSxJQUFDLENBQUEsV0FBRCxHQUFlO0lBR2YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxnQkFBUixDQUF5QixTQUF6QixFQUFvQyxJQUFJLENBQUMsVUFBekMsRUFBcUQsS0FBckQ7SUFHQSxJQUFJLENBQUMsT0FBTCxDQUFBO0VBakJjOztzQkFvQmhCLGFBQUEsR0FBZSxTQUFBO0lBRWIsSUFBQyxDQUFBLFdBQUQsR0FBZTtJQUNmLElBQUMsQ0FBQSxNQUFNLENBQUMsbUJBQVIsQ0FBNEIsU0FBNUIsRUFBdUMsSUFBSSxDQUFDLFVBQTVDO0VBSGE7O3NCQVFmLE9BQUEsR0FBUyxTQUFBO0FBQ1AsUUFB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\n",
    "'use strict';\n\n/* eslint-disable */\n\n/** This software is released under the MIT license:\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n  SOFTWARE.\n */\n\n/**\n * This is a modified copy of index.js from\n * https://github.com/substack/frame-rpc (see git log for the modifications),\n * upstream license above.\n */\n\nvar VERSION = '1.0.0';\n\nmodule.exports = RPC;\n\nfunction RPC (src, dst, origin, methods) {\n    if (!(this instanceof RPC)) return new RPC(src, dst, origin, methods);\n    var self = this;\n    this.src = src;\n    this.dst = dst;\n    \n    if (origin === '*') {\n        this.origin = '*';\n    }\n    else {\n        var uorigin = new URL(origin);\n        this.origin = uorigin.protocol + '//' + uorigin.host;\n    }\n    \n    this._sequence = 0;\n    this._callbacks = {};\n    \n    this._onmessage = function (ev) {\n        if (self._destroyed) return;\n        if (self.dst !== ev.source) return;\n        if (self.origin !== '*' && ev.origin !== self.origin) return;\n        if (!ev.data || typeof ev.data !== 'object') return;\n        if (ev.data.protocol !== 'frame-rpc') return;\n        if (!Array.isArray(ev.data.arguments)) return;\n        self._handle(ev.data);\n    };\n    this.src.addEventListener('message', this._onmessage);\n    this._methods = (typeof methods === 'function'\n        ? methods(this)\n        : methods\n    ) || {};\n}\n\nRPC.prototype.destroy = function () {\n    this._destroyed = true;\n    this.src.removeEventListener('message', this._onmessage);\n};\n\nRPC.prototype.call = function (method) {\n    var args = [].slice.call(arguments, 1);\n    return this.apply(method, args);\n};\n\nRPC.prototype.apply = function (method, args) {\n    if (this._destroyed) return;\n    var seq = this._sequence ++;\n    if (typeof args[args.length - 1] === 'function') {\n        this._callbacks[seq] = args[args.length - 1];\n        args = args.slice(0, -1);\n    }\n    this.dst.postMessage({\n        protocol: 'frame-rpc',\n        version: VERSION,\n        sequence: seq,\n        method: method, \n        arguments: args\n    }, this.origin);\n};\n\nRPC.prototype._handle = function (msg) {\n    var self = this;\n    if (self._destroyed) return;\n    if (msg.hasOwnProperty('method')) {\n        if (!this._methods.hasOwnProperty(msg.method)) return;\n        var args = msg.arguments.concat(function () {\n            self.dst.postMessage({\n                protocol: 'frame-rpc',\n                version: VERSION,\n                response: msg.sequence,\n                arguments: [].slice.call(arguments)\n            }, self.origin);\n        });\n        this._methods[msg.method].apply(this._methods, args);\n    }\n    else if (msg.hasOwnProperty('response')) {\n        var cb = this._callbacks[msg.response];\n        delete this._callbacks[msg.response];\n        if (cb) cb.apply(null, msg.arguments);\n    }\n};\n",
    "'use strict';\n\n// `Object.assign()`-like helper. Used because this script needs to work\n// in IE 10/11 without polyfills.\nfunction assign(dest, src) {\n  for (var k in src) {\n    if (src.hasOwnProperty(k)) {\n      dest[k] = src[k];\n    }\n  }\n  return dest;\n}\n\n/**\n * Return a parsed `js-hypothesis-config` object from the document, or `{}`.\n *\n * Find all `<script class=\"js-hypothesis-config\">` tags in the given document,\n * parse them as JSON, and return the parsed object.\n *\n * If there are no `js-hypothesis-config` tags in the document then return\n * `{}`.\n *\n * If there are multiple `js-hypothesis-config` tags in the document then merge\n * them into a single returned object (when multiple scripts contain the same\n * setting names, scripts further down in the document override those further\n * up).\n *\n * @param {Document|Element} document - The root element to search.\n */\nfunction jsonConfigsFrom(document) {\n  var config = {};\n  var settingsElements =\n    document.querySelectorAll('script.js-hypothesis-config');\n\n  for (var i=0; i < settingsElements.length; i++) {\n    var settings;\n    try {\n      settings = JSON.parse(settingsElements[i].textContent);\n      if(!settings.startTime) {\n\t\tsettings.startTime = new Date().getTime();\n\t  }\n    } catch (err) {\n      console.warn('Could not parse settings from js-hypothesis-config tags', err);\n      settings = {};\n    }\n    assign(config, settings);\n  }\n\n  return config;\n}\n\nmodule.exports = {\n  jsonConfigsFrom: jsonConfigsFrom,\n};\n"
  ]
}