{
  "version": 3,
  "sources": [
    "node_modules/browser-pack/_prelude.js",
    "node_modules/angulartics/src/angulartics.js",
    "node_modules/autofill-event/autofill-event.js",
    "node_modules/boolbase/index.js",
    "node_modules/cheerio-select-tmp/lib/helpers.js",
    "node_modules/cheerio-select-tmp/lib/index.js",
    "node_modules/cheerio-select-tmp/lib/positionals.js",
    "node_modules/cheerio/index.js",
    "node_modules/cheerio/lib/api/attributes.js",
    "node_modules/cheerio/lib/api/css.js",
    "node_modules/cheerio/lib/api/forms.js",
    "node_modules/cheerio/lib/api/manipulation.js",
    "node_modules/cheerio/lib/api/traversing.js",
    "node_modules/cheerio/lib/cheerio.js",
    "node_modules/cheerio/lib/options.js",
    "node_modules/cheerio/lib/parse.js",
    "node_modules/cheerio/lib/static.js",
    "node_modules/cheerio/lib/utils.js",
    "node_modules/cheerio/node_modules/htmlparser2/lib/FeedHandler.js",
    "node_modules/cheerio/node_modules/htmlparser2/lib/Parser.js",
    "node_modules/cheerio/node_modules/htmlparser2/lib/Tokenizer.js",
    "node_modules/cheerio/node_modules/htmlparser2/lib/index.js",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/decode_codepoint.js",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/maps/decode.json",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/maps/entities.json",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/maps/legacy.json",
    "node_modules/cheerio/node_modules/htmlparser2/node_modules/entities/lib/maps/xml.json",
    "node_modules/cheerio/package.json",
    "node_modules/css-select/lib/attributes.js",
    "node_modules/css-select/lib/compile.js",
    "node_modules/css-select/lib/general.js",
    "node_modules/css-select/lib/index.js",
    "node_modules/css-select/lib/procedure.js",
    "node_modules/css-select/lib/pseudo-selectors/filters.js",
    "node_modules/css-select/lib/pseudo-selectors/index.js",
    "node_modules/css-select/lib/pseudo-selectors/pseudos.js",
    "node_modules/css-select/lib/pseudo-selectors/subselects.js",
    "node_modules/css-select/lib/sort.js",
    "node_modules/css-what/lib/index.js",
    "node_modules/css-what/lib/parse.js",
    "node_modules/css-what/lib/stringify.js",
    "node_modules/dom-serializer/lib/foreignNames.js",
    "node_modules/dom-serializer/lib/index.js",
    "node_modules/domelementtype/lib/index.js",
    "node_modules/domhandler/lib/index.js",
    "node_modules/domhandler/lib/node.js",
    "node_modules/domutils/lib/helpers.js",
    "node_modules/domutils/lib/index.js",
    "node_modules/domutils/lib/legacy.js",
    "node_modules/domutils/lib/manipulation.js",
    "node_modules/domutils/lib/querying.js",
    "node_modules/domutils/lib/stringify.js",
    "node_modules/domutils/lib/tagtypes.js",
    "node_modules/domutils/lib/traversal.js",
    "node_modules/entities/lib/decode.js",
    "node_modules/entities/lib/encode.js",
    "node_modules/entities/lib/index.js",
    "node_modules/escape-html/index.js",
    "node_modules/extend/index.js",
    "node_modules/jsrender/jsrender.js",
    "node_modules/juice/client.js",
    "node_modules/juice/lib/cheerio.js",
    "node_modules/juice/lib/inline.js",
    "node_modules/juice/lib/property.js",
    "node_modules/juice/lib/selector.js",
    "node_modules/juice/lib/utils.js",
    "node_modules/lodash._stringtopath/index.js",
    "node_modules/lodash._stringtopath/node_modules/lodash._basetostring/index.js",
    "node_modules/lodash.debounce/index.js",
    "node_modules/lodash.get/index.js",
    "node_modules/lodash/_Symbol.js",
    "node_modules/lodash/_baseGetTag.js",
    "node_modules/lodash/_freeGlobal.js",
    "node_modules/lodash/_getPrototype.js",
    "node_modules/lodash/_getRawTag.js",
    "node_modules/lodash/_objectToString.js",
    "node_modules/lodash/_overArg.js",
    "node_modules/lodash/_root.js",
    "node_modules/lodash/isObjectLike.js",
    "node_modules/lodash/isPlainObject.js",
    "node_modules/mensch/index.js",
    "node_modules/mensch/lib/debug.js",
    "node_modules/mensch/lib/lexer.js",
    "node_modules/mensch/lib/parser.js",
    "node_modules/mensch/lib/stringify.js",
    "node_modules/node-uuid/uuid.js",
    "node_modules/nth-check/lib/compile.js",
    "node_modules/nth-check/lib/index.js",
    "node_modules/nth-check/lib/parse.js",
    "node_modules/parse5-htmlparser2-tree-adapter/lib/index.js",
    "node_modules/parse5/lib/common/doctype.js",
    "node_modules/parse5/lib/common/error-codes.js",
    "node_modules/parse5/lib/common/foreign-content.js",
    "node_modules/parse5/lib/common/html.js",
    "node_modules/parse5/lib/common/unicode.js",
    "node_modules/parse5/lib/extensions/error-reporting/mixin-base.js",
    "node_modules/parse5/lib/extensions/error-reporting/parser-mixin.js",
    "node_modules/parse5/lib/extensions/error-reporting/preprocessor-mixin.js",
    "node_modules/parse5/lib/extensions/error-reporting/tokenizer-mixin.js",
    "node_modules/parse5/lib/extensions/location-info/open-element-stack-mixin.js",
    "node_modules/parse5/lib/extensions/location-info/parser-mixin.js",
    "node_modules/parse5/lib/extensions/location-info/tokenizer-mixin.js",
    "node_modules/parse5/lib/extensions/position-tracking/preprocessor-mixin.js",
    "node_modules/parse5/lib/index.js",
    "node_modules/parse5/lib/parser/formatting-element-list.js",
    "node_modules/parse5/lib/parser/index.js",
    "node_modules/parse5/lib/parser/open-element-stack.js",
    "node_modules/parse5/lib/serializer/index.js",
    "node_modules/parse5/lib/tokenizer/index.js",
    "node_modules/parse5/lib/tokenizer/named-entity-data.js",
    "node_modules/parse5/lib/tokenizer/preprocessor.js",
    "node_modules/parse5/lib/tree-adapters/default.js",
    "node_modules/parse5/lib/utils/merge-options.js",
    "node_modules/parse5/lib/utils/mixin.js",
    "node_modules/performance-now/lib/performance-now.js",
    "node_modules/process/browser.js",
    "node_modules/query-string/index.js",
    "node_modules/raven-js/plugins/angular.js",
    "node_modules/redux-thunk/lib/index.js",
    "node_modules/redux/lib/applyMiddleware.js",
    "node_modules/redux/lib/bindActionCreators.js",
    "node_modules/redux/lib/combineReducers.js",
    "node_modules/redux/lib/compose.js",
    "node_modules/redux/lib/createStore.js",
    "node_modules/redux/lib/index.js",
    "node_modules/redux/lib/utils/warning.js",
    "node_modules/retry/index.js",
    "node_modules/retry/lib/retry.js",
    "node_modules/retry/lib/retry_operation.js",
    "node_modules/scroll-into-view/node_modules/raf/index.js",
    "node_modules/scroll-into-view/scrollIntoView.js",
    "node_modules/seamless-immutable/src/seamless-immutable.js",
    "node_modules/slick/parser.js",
    "node_modules/strict-uri-encode/index.js",
    "node_modules/symbol-observable/index.js",
    "node_modules/symbol-observable/ponyfill.js",
    "node_modules/tiny-emitter/index.js",
    "src/images/icons/Numici-ts-info.svg",
    "src/images/icons/cursor.svg",
    "src/images/icons/refresh.svg",
    "src/shared/bridge-events.js",
    "src/shared/bridge.js",
    "src/shared/discovery.coffee",
    "src/shared/frame-rpc.js",
    "src/shared/settings.js",
    "src/sidebar/annotation-metadata.js",
    "src/sidebar/build-thread.js",
    "src/sidebar/components/about-panel.js",
    "src/sidebar/components/add-section-btn.js",
    "src/sidebar/components/add-section-modal.js",
    "src/sidebar/components/add-to-taskspace-modal.js",
    "src/sidebar/components/annotation-action-button.js",
    "src/sidebar/components/annotation-header.js",
    "src/sidebar/components/annotation-share-dialog.js",
    "src/sidebar/components/annotation-thread.js",
    "src/sidebar/components/annotation-viewer-content.js",
    "src/sidebar/components/annotation.js",
    "src/sidebar/components/clipper-controles.js",
    "src/sidebar/components/confirm-link-publish-modal.js",
    "src/sidebar/components/cookie-error-controller.js",
    "src/sidebar/components/create-group-dialog.js",
    "src/sidebar/components/create-taskspace-modal.js",
    "src/sidebar/components/doc-remove-confirm-modal.js",
    "src/sidebar/components/doc-tag-editor.js",
    "src/sidebar/components/dropdown-menu-btn.js",
    "src/sidebar/components/excerpt.js",
    "src/sidebar/components/group-info-dialog.js",
    "src/sidebar/components/group-list.js",
    "src/sidebar/components/help-link.js",
    "src/sidebar/components/help-panel.js",
    "src/sidebar/components/hypothesis-app.js",
    "src/sidebar/components/loggedout-message.js",
    "src/sidebar/components/login-control.js",
    "src/sidebar/components/markdown.js",
    "src/sidebar/components/moderation-banner.js",
    "src/sidebar/components/move-confirm-modal.js",
    "src/sidebar/components/move-to-taskspace-modal.js",
    "src/sidebar/components/new-note-btn.js",
    "src/sidebar/components/page-info.js",
    "src/sidebar/components/post-to-social-media-modal.js",
    "src/sidebar/components/publish-annotation-btn.js",
    "src/sidebar/components/search-input.js",
    "src/sidebar/components/search-status-bar.js",
    "src/sidebar/components/section-list.js",
    "src/sidebar/components/select-section.js",
    "src/sidebar/components/select-taskspace.js",
    "src/sidebar/components/selection-tabs.js",
    "src/sidebar/components/share-dialog.js",
    "src/sidebar/components/share-link-modal.js",
    "src/sidebar/components/shedule-notification.js",
    "src/sidebar/components/sidebar-content.js",
    "src/sidebar/components/sidebar-tutorial.js",
    "src/sidebar/components/sort-dropdown.js",
    "src/sidebar/components/stream-content.js",
    "src/sidebar/components/svg-icon.js",
    "src/sidebar/components/tag-editor.js",
    "src/sidebar/components/tags-info-dialog.js",
    "src/sidebar/components/thread-list.js",
    "src/sidebar/components/time-log.js",
    "src/sidebar/components/timestamp.js",
    "src/sidebar/components/top-bar.js",
    "src/sidebar/cross-origin-rpc.js",
    "src/sidebar/directive/annotaion-digest-group-template.js",
    "src/sidebar/directive/annotaion-digest-template.js",
    "src/sidebar/directive/annotaion-digest-title.js",
    "src/sidebar/directive/auto-focus.js",
    "src/sidebar/directive/click-outside.js",
    "src/sidebar/directive/comment-to-html.js",
    "src/sidebar/directive/compile.js",
    "src/sidebar/directive/custom-autogrow.js",
    "src/sidebar/directive/h-autofocus.js",
    "src/sidebar/directive/h-branding.js",
    "src/sidebar/directive/h-on-touch.js",
    "src/sidebar/directive/h-tooltip.js",
    "src/sidebar/directive/scheduleTimer.js",
    "src/sidebar/directive/spinner.js",
    "src/sidebar/directive/tags-input-autofocus.js",
    "src/sidebar/directive/window-scroll.js",
    "src/sidebar/events.js",
    "src/sidebar/filter/to_trusted.js",
    "src/sidebar/filter/truncate.js",
    "src/sidebar/filter/url.js",
    "src/sidebar/ga.js",
    "src/sidebar/get-api-url.js",
    "src/sidebar/host-config.js",
    "src/sidebar/index.js",
    "src/sidebar/keys.js",
    "src/sidebar/live-reload-client.js",
    "src/sidebar/markdown-commands.js",
    "src/sidebar/media-embedder.js",
    "src/sidebar/raven.js",
    "src/sidebar/render-markdown.js",
    "src/sidebar/search-client.js",
    "src/sidebar/service-config.js",
    "src/sidebar/services/add-section.js",
    "src/sidebar/services/add-to-taskspace.js",
    "src/sidebar/services/analytics.js",
    "src/sidebar/services/annotation-mapper.js",
    "src/sidebar/services/api-routes.js",
    "src/sidebar/services/api.js",
    "src/sidebar/services/confirm-annotation-action.js",
    "src/sidebar/services/confirm-docremove-action.js",
    "src/sidebar/services/confirm.js",
    "src/sidebar/services/drafts.js",
    "src/sidebar/services/ext-communicator.js",
    "src/sidebar/services/features.js",
    "src/sidebar/services/flash.js",
    "src/sidebar/services/frame-sync.js",
    "src/sidebar/services/global-error-handler.js",
    "src/sidebar/services/groups.js",
    "src/sidebar/services/juicify.js",
    "src/sidebar/services/local-storage.js",
    "src/sidebar/services/maintenance-scheduler.js",
    "src/sidebar/services/move-confirmation.js",
    "src/sidebar/services/move-web-resource.js",
    "src/sidebar/services/oauth-auth.js",
    "src/sidebar/services/permissions.js",
    "src/sidebar/services/query-parser.coffee",
    "src/sidebar/services/root-thread.js",
    "src/sidebar/services/search-filter.js",
    "src/sidebar/services/service-url.js",
    "src/sidebar/services/session.js",
    "src/sidebar/services/share-as-link.js",
    "src/sidebar/services/stream-filter.coffee",
    "src/sidebar/services/streamer.js",
    "src/sidebar/services/tags.js",
    "src/sidebar/services/time-log.js",
    "src/sidebar/services/unicode.js",
    "src/sidebar/services/userPreference.js",
    "src/sidebar/services/userstate.js",
    "src/sidebar/services/view-filter.js",
    "src/sidebar/store/create-store.js",
    "src/sidebar/store/debug-middleware.js",
    "src/sidebar/store/index.js",
    "src/sidebar/store/modules/annotations.js",
    "src/sidebar/store/modules/frames.js",
    "src/sidebar/store/modules/groups.js",
    "src/sidebar/store/modules/links.js",
    "src/sidebar/store/modules/selection.js",
    "src/sidebar/store/modules/session.js",
    "src/sidebar/store/modules/viewer.js",
    "src/sidebar/store/util.js",
    "src/sidebar/tabs.js",
    "src/sidebar/templates/about-panel.html",
    "src/sidebar/templates/add-new-section.html",
    "src/sidebar/templates/add-section-btn.html",
    "src/sidebar/templates/add-to-taskspace.html",
    "src/sidebar/templates/annotaion-digest-template.html",
    "src/sidebar/templates/annotation-action-button.html",
    "src/sidebar/templates/annotation-header.html",
    "src/sidebar/templates/annotation-share-dialog.html",
    "src/sidebar/templates/annotation-thread.html",
    "src/sidebar/templates/annotation-viewer-content.html",
    "src/sidebar/templates/annotation.html",
    "src/sidebar/templates/clipper-controles.html",
    "src/sidebar/templates/clipper-template.html",
    "src/sidebar/templates/confirm-annotation-action.html",
    "src/sidebar/templates/confirm-docremove-action.html",
    "src/sidebar/templates/confirm.html",
    "src/sidebar/templates/cookie-error-dialog.html",
    "src/sidebar/templates/create-group-dialog.html",
    "src/sidebar/templates/create-taskspace.html",
    "src/sidebar/templates/digest-group-template.html",
    "src/sidebar/templates/digest-title-tmpl.html",
    "src/sidebar/templates/doc-tag-editor.html",
    "src/sidebar/templates/dropdown-menu-btn.html",
    "src/sidebar/templates/excerpt.html",
    "src/sidebar/templates/group-info-dialog.html",
    "src/sidebar/templates/group-list.html",
    "src/sidebar/templates/help-link.html",
    "src/sidebar/templates/help-panel.html",
    "src/sidebar/templates/hypothesis-app.html",
    "src/sidebar/templates/loggedout-message.html",
    "src/sidebar/templates/login-control.html",
    "src/sidebar/templates/markdown.html",
    "src/sidebar/templates/moderation-banner.html",
    "src/sidebar/templates/move-confirmation.html",
    "src/sidebar/templates/move-to-taskspace.html",
    "src/sidebar/templates/new-note-btn.html",
    "src/sidebar/templates/page-info.html",
    "src/sidebar/templates/post-to-social-media.html",
    "src/sidebar/templates/publish-annotation-btn.html",
    "src/sidebar/templates/schedule-notification.tpl.html",
    "src/sidebar/templates/search-input.html",
    "src/sidebar/templates/search-status-bar.html",
    "src/sidebar/templates/section-list.html",
    "src/sidebar/templates/select-section.html",
    "src/sidebar/templates/select-taskspace.html",
    "src/sidebar/templates/selection-tabs.html",
    "src/sidebar/templates/share-dialog.html",
    "src/sidebar/templates/sidebar-content.html",
    "src/sidebar/templates/sidebar-tutorial.html",
    "src/sidebar/templates/sort-dropdown.html",
    "src/sidebar/templates/stream-content.html",
    "src/sidebar/templates/tag-editor.html",
    "src/sidebar/templates/tags-info-dialog.html",
    "src/sidebar/templates/thread-list.html",
    "src/sidebar/templates/time-log.html",
    "src/sidebar/templates/timestamp.html",
    "src/sidebar/templates/top-bar.html",
    "src/sidebar/ui-constants.js",
    "src/sidebar/util/account-id.js",
    "src/sidebar/util/array-util.js",
    "src/sidebar/util/date.js",
    "src/sidebar/util/disable-opener-for-external-links.js",
    "src/sidebar/util/excerpt-overflow-monitor.js",
    "src/sidebar/util/group-organizations.js",
    "src/sidebar/util/is-third-party-service.js",
    "src/sidebar/util/memoize.js",
    "src/sidebar/util/oauth-client.js",
    "src/sidebar/util/random.js",
    "src/sidebar/util/retry.js",
    "src/sidebar/util/scope-timeout.js",
    "src/sidebar/util/session-util.js",
    "src/sidebar/util/state-util.js",
    "src/sidebar/util/time.js",
    "src/sidebar/util/url-util.js",
    "/home/ubuntu/pdftronExtension/client/src/sidebar/vendor/rzslider.js",
    "/home/ubuntu/pdftronExtension/client/src/sidebar/vendor/select.js",
    "/home/ubuntu/pdftronExtension/client/src/sidebar/vendor/ui-bootstrap-custom-tpls-0.13.4.js",
    "src/sidebar/virtual-thread-list.js",
    "src/sidebar/websocket.js"
  ],
  "names": [],
  "mappings": "AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1QA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjqBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzwBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACh6BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5SA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3OA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7XA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACn4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9BA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/MA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACrDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC58FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACtuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACzJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChUA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9MA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC5BA;AACA;AACA;AACA;AACA;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACTA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9DA;AACA;AACA;AACA;AACA;AACA;;;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACprBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC5VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC3CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACpDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACrLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC54FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACleA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AChLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACppEA;AACA;AACA;AACA;AACA;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC/JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC7NA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACzDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AClDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC9HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACvCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACrQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC7CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACxBA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC9FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACxHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AC9LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AC1PA;AACA;AACA;AACA;AACA;AACA;AACA;;;ACNA;AACA;AACA;AACA;AACA;;;;ACJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AClEA;AACA;;ACDA;AACA;;ACDA;AACA;;ACDA;;;;;;;AAMA,OAAO,UAAU;;;;;;;EAOf,uBAAuB;;;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b,KAAK,UAAA,SAAA;UAAA,OAAW,GAAG,MAAM;WACzB,MAAM,UAAA,OAAA;UAAA,OAAS,GAAG;;;;MAGvB,OAAO;;;;;;;;;;;KAuDN;IACD,KAAK;IACL,OAAO,SAAS,GA/Cf,QAAQ,UAAU;MACnB,IAAI,KAAK,iBAAiB,SAAS;QACjC,MAAM,IAAI,MAAJ,gBAAuB,SAAvB;;MAER,KAAK,iBAAiB,UAAU;MAChC,OAAO;;;;;;;;;KAwDN;IACD,KAAK;IACL,OAAO,SAAS,IAlDd,QAAQ;MACV,OAAO,KAAK,iBAAiB;MAC7B,OAAO;;;;;;;;;KA2DN;IACD,KAAK;IACL,OAAO,SAAS,UArDR,UAAU;MAClB,KAAK,mBAAmB,KAAK;MAC7B,OAAO;;;;EAyDT,OAAO;;;AArDT,OAAO,UAAU;owUAyDmvU;;AC3NpwU;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxHA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA,IAAI,UAAU,OAAO,WAAW,cAAc,OAAO,OAAO,aAAa,WAAW,UAAU,KAAK,EAAE,OAAO,OAAO,SAAS,UAAU,KAAK,EAAE,OAAO,OAAO,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AAqB;EACrB,kBAAmB;EACnB,mBAAoB;EACpB,eAAgB;EAChB,mBAAoB;;;;AAIvB,OAAO,UAAU;gu0DAnC+s0D;;AC1kBhu0D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzIA;;;AAEA,IAAI,cAAc,QAAQ;AAC1B,IAAI,OAAO,QAAQ;;AAEnB,IAAI,SAAS,QAAQ;AACrB,IAAI,SAAS,QAAQ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CrB,SAAS,SAAS,YAAY,kBAAkB,OAAO,MACtD,QAAQ,SAAS,UAAU,OAAO,iBAAiB,SAAQ,GAAG;;CAE9D,IAAI,WAAW,KAAK;;;CAGpB,IAAI;;;;CAIJ,IAAI,iBAAiB;;;;;;;;;;;;;;CAcrB,IAAI,iBAAiB;CACrB,IAAI,qBAAqB;;;CAGzB,IAAI,mBAAmB;;CAEvB,SAAS,0BAA0B,SAAS;EAC3C,IAAI,OAAO;EACX,IAAI,MAAM,QAAQ;EAClB,IAAI,OAAO,cAAc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",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t, n, r) {\r\n\tfunction s(o, u) {\r\n\t\tif (!n[o]) {\r\n\t\t\tif (!t[o]) {\r\n\t\t\t\tvar a = typeof __require__ == \"function\" && __require__;\r\n\t\t\t\tif (!u && a)\r\n\t\t\t\t\treturn a(o, !0);\r\n\t\t\t\tif (i)\r\n\t\t\t\t\treturn i(o, !0);\r\n\t\t\t\tthrow new Error(\"Cannot find module '\" + o + \"'\")\r\n\t\t\t}\r\n\t\t\tvar f = n[o] = {\r\n\t\t\t\texports : {}\r\n\t\t\t};\r\n\t\t\tt[o][0].call(f.exports, function(e) {\r\n\t\t\t\tvar n = t[o][1][e];\r\n\t\t\t\treturn s(n ? n : e)\r\n\t\t\t}, f, f.exports, e, t, n, r)\r\n\t\t}\r\n\t\treturn n[o].exports\r\n\t}\r\n\tvar i = typeof __require__ == \"function\" && __require__;\r\n\tfor (var o = 0; o < r.length; o++)\r\n\t\ts(r[o]);\r\n\treturn s\r\n})",
    "/**\n * @license Angulartics v0.17.2\n * (c) 2013 Luis Farzati http://luisfarzati.github.io/angulartics\n * License: MIT\n */\n(function(angular, analytics) {\n'use strict';\n\nvar angulartics = window.angulartics || (window.angulartics = {});\nangulartics.waitForVendorCount = 0;\nangulartics.waitForVendorApi = function (objectName, delay, containsField, registerFn, onTimeout) {\n  if (!onTimeout) { angulartics.waitForVendorCount++; }\n  if (!registerFn) { registerFn = containsField; containsField = undefined; }\n  if (!Object.prototype.hasOwnProperty.call(window, objectName) || (containsField !== undefined && window[objectName][containsField] === undefined)) {\n    setTimeout(function () { angulartics.waitForVendorApi(objectName, delay, containsField, registerFn, true); }, delay);\n  }\n  else {\n    angulartics.waitForVendorCount--;\n    registerFn(window[objectName]);\n  }\n};\n\n/**\n * @ngdoc overview\n * @name angulartics\n */\nangular.module('angulartics', [])\n.provider('$analytics', function () {\n  var settings = {\n    pageTracking: {\n      autoTrackFirstPage: true,\n      autoTrackVirtualPages: true,\n      trackRelativePath: false,\n      autoBasePath: false,\n      basePath: ''\n    },\n    eventTracking: {},\n    bufferFlushDelay: 1000, // Support only one configuration for buffer flush delay to simplify buffering\n    developerMode: false // Prevent sending data in local/development environment\n  };\n\n  // List of known handlers that plugins can register themselves for\n  var knownHandlers = [\n    'pageTrack',\n    'eventTrack',\n    'setAlias',\n    'setUsername',\n    'setAlias',\n    'setUserProperties',\n    'setUserPropertiesOnce',\n    'setSuperProperties',\n    'setSuperPropertiesOnce'\n  ];\n  // Cache and handler properties will match values in 'knownHandlers' as the buffering functons are installed.\n  var cache = {};\n  var handlers = {};\n\n  // General buffering handler\n  var bufferedHandler = function(handlerName){\n    return function(){\n      if(angulartics.waitForVendorCount){\n        if(!cache[handlerName]){ cache[handlerName] = []; }\n        cache[handlerName].push(arguments);\n      }\n    };\n  };\n\n  // As handlers are installed by plugins, they get pushed into a list and invoked in order.\n  var updateHandlers = function(handlerName, fn){\n    if(!handlers[handlerName]){\n      handlers[handlerName] = [];\n    }\n    handlers[handlerName].push(fn);\n    return function(){\n      var handlerArgs = arguments;\n      angular.forEach(handlers[handlerName], function(handler){\n        handler.apply(this, handlerArgs);\n      }, this);\n    };\n  };\n\n  // The api (returned by this provider) gets populated with handlers below.\n  var api = {\n    settings: settings\n  };\n\n  // Will run setTimeout if delay is > 0\n  // Runs immediately if no delay to make sure cache/buffer is flushed before anything else.\n  // Plugins should take care to register handlers by order of precedence.\n  var onTimeout = function(fn, delay){\n    if(delay){\n      setTimeout(fn, delay);\n    } else {\n      fn();\n    }\n  };\n\n  var provider = {\n    $get: function() { return api; },\n    api: api,\n    settings: settings,\n    virtualPageviews: function (value) { this.settings.pageTracking.autoTrackVirtualPages = value; },\n    firstPageview: function (value) { this.settings.pageTracking.autoTrackFirstPage = value; },\n    withBase: function (value) { this.settings.pageTracking.basePath = (value) ? angular.element('base').attr('href').slice(0, -1) : ''; },\n    withAutoBase: function (value) { this.settings.pageTracking.autoBasePath = value; },\n    developerMode: function(value) { this.settings.developerMode = value; }\n  };\n\n  // General function to register plugin handlers. Flushes buffers immediately upon registration according to the specified delay.\n  var register = function(handlerName, fn){\n    api[handlerName] = updateHandlers(handlerName, fn);\n    var handlerSettings = settings[handlerName];\n    var handlerDelay = (handlerSettings) ? handlerSettings.bufferFlushDelay : null;\n    var delay = (handlerDelay !== null) ? handlerDelay : settings.bufferFlushDelay;\n    angular.forEach(cache[handlerName], function (args, index) {\n      onTimeout(function () { fn.apply(this, args); }, index * delay);\n    });\n  };\n\n  var capitalize = function (input) {\n      return input.replace(/^./, function (match) {\n          return match.toUpperCase();\n      });\n  };\n\n  // Adds to the provider a 'register#{handlerName}' function that manages multiple plugins and buffer flushing.\n  var installHandlerRegisterFunction = function(handlerName){\n    var registerName = 'register'+capitalize(handlerName);\n    provider[registerName] = function(fn){\n      register(handlerName, fn);\n    };\n    api[handlerName] = updateHandlers(handlerName, bufferedHandler(handlerName));\n  };\n\n  // Set up register functions for each known handler\n  angular.forEach(knownHandlers, installHandlerRegisterFunction);\n  return provider;\n})\n\n.run(['$rootScope', '$window', '$analytics', '$injector', function ($rootScope, $window, $analytics, $injector) {\n  if ($analytics.settings.pageTracking.autoTrackFirstPage) {\n    $injector.invoke(['$location', function ($location) {\n      /* Only track the 'first page' if there are no routes or states on the page */\n      var noRoutesOrStates = true;\n      if ($injector.has('$route')) {\n         var $route = $injector.get('$route');\n         for (var route in $route.routes) {\n           noRoutesOrStates = false;\n           break;\n         }\n      } else if ($injector.has('$state')) {\n        var $state = $injector.get('$state');\n        for (var state in $state.get()) {\n          noRoutesOrStates = false;\n          break;\n        }\n      }\n      if (noRoutesOrStates) {\n        if ($analytics.settings.pageTracking.autoBasePath) {\n          $analytics.settings.pageTracking.basePath = $window.location.pathname;\n        }\n        if ($analytics.settings.trackRelativePath) {\n          var url = $analytics.settings.pageTracking.basePath + $location.url();\n          $analytics.pageTrack(url, $location);\n        } else {\n          $analytics.pageTrack($location.absUrl(), $location);\n        }\n      }\n    }]);\n  }\n\n  if ($analytics.settings.pageTracking.autoTrackVirtualPages) {\n    $injector.invoke(['$location', function ($location) {\n      if ($analytics.settings.pageTracking.autoBasePath) {\n        /* Add the full route to the base. */\n        $analytics.settings.pageTracking.basePath = $window.location.pathname + \"#\";\n      }\n      if ($injector.has('$route')) {\n        $rootScope.$on('$routeChangeSuccess', function (event, current) {\n          if (current && (current.$$route||current).redirectTo) return;\n          var url = $analytics.settings.pageTracking.basePath + $location.url();\n          $analytics.pageTrack(url, $location);\n        });\n      }\n      if ($injector.has('$state')) {\n        $rootScope.$on('$stateChangeSuccess', function (event, current) {\n          var url = $analytics.settings.pageTracking.basePath + $location.url();\n          $analytics.pageTrack(url, $location);\n        });\n      }\n    }]);\n  }\n  if ($analytics.settings.developerMode) {\n    angular.forEach($analytics, function(attr, name) {\n      if (typeof attr === 'function') {\n        $analytics[name] = function(){};\n      }\n    });\n  }\n}])\n\n.directive('analyticsOn', ['$analytics', function ($analytics) {\n  function isCommand(element) {\n    return ['a:','button:','button:button','button:submit','input:button','input:submit'].indexOf(\n      element.tagName.toLowerCase()+':'+(element.type||'')) >= 0;\n  }\n\n  function inferEventType(element) {\n    if (isCommand(element)) return 'click';\n    return 'click';\n  }\n\n  function inferEventName(element) {\n    if (isCommand(element)) return element.innerText || element.value;\n    return element.id || element.name || element.tagName;\n  }\n\n  function isProperty(name) {\n    return name.substr(0, 9) === 'analytics' && ['On', 'Event', 'If', 'Properties', 'EventType'].indexOf(name.substr(9)) === -1;\n  }\n\n  function propertyName(name) {\n    var s = name.slice(9); // slice off the 'analytics' prefix\n    if (typeof s !== 'undefined' && s!==null && s.length > 0) {\n      return s.substring(0, 1).toLowerCase() + s.substring(1);\n    }\n    else {\n      return s;\n    }\n  }\n\n  return {\n    restrict: 'A',\n    link: function ($scope, $element, $attrs) {\n      var eventType = $attrs.analyticsOn || inferEventType($element[0]);\n      var trackingData = {};\n\n      angular.forEach($attrs.$attr, function(attr, name) {\n        if (isProperty(name)) {\n          trackingData[propertyName(name)] = $attrs[name];\n          $attrs.$observe(name, function(value){\n            trackingData[propertyName(name)] = value;\n          });\n        }\n      });\n\n      angular.element($element[0]).bind(eventType, function ($event) {\n        var eventName = $attrs.analyticsEvent || inferEventName($element[0]);\n        trackingData.eventType = $event.type;\n\n        if($attrs.analyticsIf){\n          if(! $scope.$eval($attrs.analyticsIf)){\n            return; // Cancel this event if we don't pass the analytics-if condition\n          }\n        }\n        // Allow components to pass through an expression that gets merged on to the event properties\n        // eg. analytics-properites='myComponentScope.someConfigExpression.$analyticsProperties'\n        if($attrs.analyticsProperties){\n          angular.extend(trackingData, $scope.$eval($attrs.analyticsProperties));\n        }\n        $analytics.eventTrack(eventName, trackingData);\n      });\n    }\n  };\n}]);\n})(angular);\n",
    "/**\n * Autofill event polyfill ##version:1.0.0##\n * (c) 2014 Google, Inc.\n * License: MIT\n */\n(function(window) {\n  var $ = window.jQuery || window.angular.element;\n  var rootElement = window.document.documentElement,\n    $rootElement = $(rootElement);\n\n  addGlobalEventListener('change', markValue);\n  addValueChangeByJsListener(markValue);\n\n  $.prototype.checkAndTriggerAutoFillEvent = jqCheckAndTriggerAutoFillEvent;\n\n  // Need to use blur and not change event\n  // as Chrome does not fire change events in all cases an input is changed\n  // (e.g. when starting to type and then finish the input by auto filling a username)\n  addGlobalEventListener('blur', function(target) {\n    // setTimeout needed for Chrome as it fills other\n    // form fields a little later...\n    window.setTimeout(function() {\n      findParentForm(target).find('input').checkAndTriggerAutoFillEvent();\n    }, 20);\n  });\n\n  window.document.addEventListener('DOMContentLoaded', function() {\n    // mark all values that are present when the DOM is ready.\n    // We don't need to trigger a change event here,\n    // as js libs start with those values already being set!\n    forEach(document.getElementsByTagName('input'), markValue);\n\n    // The timeout is needed for Chrome as it auto fills\n    // login forms some time after DOMContentLoaded!\n    window.setTimeout(function() {\n      $rootElement.find('input').checkAndTriggerAutoFillEvent();\n    }, 200);\n  }, false);\n\n  return;\n\n  // ----------\n\n  function jqCheckAndTriggerAutoFillEvent() {\n    var i, el;\n    for (i=0; i<this.length; i++) {\n      el = this[i];\n      if (!valueMarked(el)) {\n        markValue(el);\n        triggerChangeEvent(el);\n      }\n    }\n  }\n\n  function valueMarked(el) {\n    if (! (\"$$currentValue\" in el) ) {\n      // First time we see an element we take it's value attribute\n      // as real value. This might have been filled in the backend,\n      // ...\n      // Note: it's important to not use the value property here!\n      el.$$currentValue = el.getAttribute('value');\n    }\n\n    var val = el.value,\n         $$currentValue = el.$$currentValue;\n    if (!val && !$$currentValue) {\n      return true;\n    }\n    return val === $$currentValue;\n  }\n\n  function markValue(el) {\n    el.$$currentValue = el.value;\n  }\n\n  function addValueChangeByJsListener(listener) {\n    var jq = window.jQuery || window.angular.element,\n        jqProto = jq.prototype;\n    var _val = jqProto.val;\n    jqProto.val = function(newValue) {\n      var res = _val.apply(this, arguments);\n      if (arguments.length > 0) {\n        forEach(this, function(el) {\n          listener(el, newValue);\n        });\n      }\n      return res;\n    };\n  }\n\n  function addGlobalEventListener(eventName, listener) {\n    // Use a capturing event listener so that\n    // we also get the event when it's stopped!\n    // Also, the blur event does not bubble.\n    rootElement.addEventListener(eventName, onEvent, true);\n\n    function onEvent(event) {\n      var target = event.target;\n      listener(target);\n    }\n  }\n\n  function findParentForm(el) {\n    while (el) {\n      if (el.nodeName === 'FORM') {\n        return $(el);\n      }\n      el = el.parentNode;\n    }\n    return $();\n  }\n\n  function forEach(arr, listener) {\n    if (arr.forEach) {\n      return arr.forEach(listener);\n    }\n    var i;\n    for (i=0; i<arr.length; i++) {\n      listener(arr[i]);\n    }\n  }\n\n  function triggerChangeEvent(element) {\n    var doc = window.document;\n    var event = doc.createEvent(\"HTMLEvents\");\n    event.initEvent(\"change\", true, true);\n    element.dispatchEvent(event);\n  }\n\n\n\n})(window);\n",
    "module.exports = {\n\ttrueFunc: function trueFunc(){\n\t\treturn true;\n\t},\n\tfalseFunc: function falseFunc(){\n\t\treturn false;\n\t}\n};",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.groupSelectors = exports.getDocumentRoot = void 0;\nvar positionals_1 = require(\"./positionals\");\nfunction getDocumentRoot(node) {\n    while (node.parent)\n        node = node.parent;\n    return node;\n}\nexports.getDocumentRoot = getDocumentRoot;\nfunction groupSelectors(selectors) {\n    var filteredSelectors = [];\n    var plainSelectors = [];\n    for (var _i = 0, selectors_1 = selectors; _i < selectors_1.length; _i++) {\n        var selector = selectors_1[_i];\n        if (selector.some(positionals_1.isFilter)) {\n            filteredSelectors.push(selector);\n        }\n        else {\n            plainSelectors.push(selector);\n        }\n    }\n    return [plainSelectors, filteredSelectors];\n}\nexports.groupSelectors = groupSelectors;\n",
    "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.select = exports.filter = void 0;\nvar css_what_1 = require(\"css-what\");\nvar css_select_1 = require(\"css-select\");\nvar DomUtils = __importStar(require(\"domutils\"));\nvar helpers_1 = require(\"./helpers\");\nvar positionals_1 = require(\"./positionals\");\n/** Used to indicate a scope should be filtered. Might be ignored when filtering. */\nvar SCOPE_PSEUDO = {\n    type: \"pseudo\",\n    name: \"scope\",\n    data: null,\n};\n/** Used for actually filtering for scope. */\nvar CUSTOM_SCOPE_PSEUDO = __assign({}, SCOPE_PSEUDO);\nvar UNIVERSAL_SELECTOR = { type: \"universal\", namespace: null };\nfunction filterByPosition(filter, elems, data, options) {\n    var num = typeof data === \"string\" ? parseInt(data, 10) : NaN;\n    switch (filter) {\n        case \"first\":\n        case \"lt\":\n            // Already done in `getLimit`\n            return elems;\n        case \"last\":\n            return elems.length > 0 ? [elems[elems.length - 1]] : elems;\n        case \"nth\":\n        case \"eq\":\n            return isFinite(num) && Math.abs(num) < elems.length\n                ? [num < 0 ? elems[elems.length + num] : elems[num]]\n                : [];\n        case \"gt\":\n            return isFinite(num) ? elems.slice(num + 1) : [];\n        case \"even\":\n            return elems.filter(function (_, i) { return i % 2 === 0; });\n        case \"odd\":\n            return elems.filter(function (_, i) { return i % 2 === 1; });\n        case \"not\": {\n            var filtered_1 = new Set(filterParsed(data, elems, options));\n            return elems.filter(function (e) { return !filtered_1.has(e); });\n        }\n    }\n}\nfunction filter(selector, elements, options) {\n    if (options === void 0) { options = {}; }\n    return DomUtils.uniqueSort(filterParsed(css_what_1.parse(selector, options), elements, options));\n}\nexports.filter = filter;\n/**\n * Filter a set of elements by a selector.\n *\n * If there are multiple selectors, this can\n * return elements multiple times; use `uniqueSort`\n * to eliminate duplicates afterwards.\n *\n * @param selector Selector to filter by.\n * @param elements Elements to filter.\n * @param options Options for selector.\n */\nfunction filterParsed(selector, elements, options) {\n    if (elements.length === 0)\n        return [];\n    var _a = helpers_1.groupSelectors(selector), plainSelectors = _a[0], filteredSelectors = _a[1];\n    var results = [];\n    if (plainSelectors.length) {\n        results.push(filterElements(elements, plainSelectors, options));\n    }\n    for (var _i = 0, filteredSelectors_1 = filteredSelectors; _i < filteredSelectors_1.length; _i++) {\n        var filteredSelector = filteredSelectors_1[_i];\n        if (filteredSelector.some(css_what_1.isTraversal)) {\n            /*\n             * Get one root node, run selector with the scope\n             * set to all of our nodes.\n             */\n            var root = helpers_1.getDocumentRoot(elements[0]);\n            var sel = __spreadArrays(filteredSelector, [CUSTOM_SCOPE_PSEUDO]);\n            results.push(findFilterElements(root, sel, options, true, elements));\n        }\n        else {\n            // Performance optimization: If we don't have to traverse, just filter set.\n            results.push(findFilterElements(elements, filteredSelector, options, false));\n        }\n    }\n    if (results.length === 1) {\n        return results[0];\n    }\n    return results.reduce(function (arr, rest) { return __spreadArrays(arr, rest); }, []);\n}\nfunction select(selector, root, options) {\n    if (options === void 0) { options = {}; }\n    var _a = helpers_1.groupSelectors(css_what_1.parse(selector, options)), plain = _a[0], filtered = _a[1];\n    var results = filtered.map(function (sel) {\n        return findFilterElements(root, sel, options, true);\n    });\n    // Plain selectors can be queried in a single go\n    if (plain.length) {\n        results.push(findElements(root, plain, options, Infinity));\n    }\n    // If there was only a single selector, just return the result\n    if (results.length === 1) {\n        return results[0];\n    }\n    // Sort results, filtering for duplicates\n    return DomUtils.uniqueSort(results.reduce(function (a, b) { return __spreadArrays(a, b); }));\n}\nexports.select = select;\n// Traversals that are treated differently in css-select.\nvar specialTraversal = new Set([\"descendant\", \"adjacent\"]);\nfunction includesScopePseudo(t) {\n    return (t !== SCOPE_PSEUDO &&\n        t.type === \"pseudo\" &&\n        (t.name === \"scope\" ||\n            (Array.isArray(t.data) &&\n                t.data.some(function (data) { return data.some(includesScopePseudo); }))));\n}\nfunction addContextIfScope(selector, options, scopeContext) {\n    return scopeContext && selector.some(includesScopePseudo)\n        ? __assign(__assign({}, options), { context: scopeContext }) : options;\n}\n/**\n *\n * @param root Element(s) to search from.\n * @param selector Selector to look for.\n * @param options Options for querying.\n * @param queryForSelector Query multiple levels deep for the initial selector, even if it doesn't contain a traversal.\n * @param scopeContext Optional context for a :scope.\n */\nfunction findFilterElements(root, selector, options, queryForSelector, scopeContext) {\n    var filterIndex = selector.findIndex(positionals_1.isFilter);\n    var sub = selector.slice(0, filterIndex);\n    var filter = selector[filterIndex];\n    /*\n     * Set the number of elements to retrieve.\n     * Eg. for :first, we only have to get a single element.\n     */\n    var limit = positionals_1.getLimit(filter.name, filter.data);\n    if (limit === 0)\n        return [];\n    var subOpts = addContextIfScope(sub, options, scopeContext);\n    /*\n     * Skip `findElements` call if our selector starts with a positional\n     * pseudo.\n     */\n    var elemsNoLimit = sub.length === 0 && !Array.isArray(root)\n        ? DomUtils.getChildren(root).filter(DomUtils.isTag)\n        : sub.length === 0 || (sub.length === 1 && sub[0] === SCOPE_PSEUDO)\n            ? Array.isArray(root)\n                ? root\n                : [root]\n            : queryForSelector || sub.some(css_what_1.isTraversal)\n                ? findElements(root, [sub], subOpts, limit)\n                : // We know that this cannot be reached with root not being an array.\n                    filterElements(root, [sub], subOpts);\n    var elems = elemsNoLimit.slice(0, limit);\n    var result = filterByPosition(filter.name, elems, filter.data, options);\n    if (result.length === 0 || selector.length === filterIndex + 1) {\n        return result;\n    }\n    var remainingSelector = selector.slice(filterIndex + 1);\n    var remainingHasTraversal = remainingSelector.some(css_what_1.isTraversal);\n    var remainingOpts = addContextIfScope(remainingSelector, options, scopeContext);\n    if (remainingHasTraversal) {\n        /*\n         * Some types of traversals have special logic when they start a selector\n         * in css-select. If this is the case, add a universal selector in front of\n         * the selector to avoid this behavior.\n         */\n        if (specialTraversal.has(remainingSelector[0].type)) {\n            remainingSelector.unshift(UNIVERSAL_SELECTOR);\n        }\n        /*\n         * Add a scope token in front of the remaining selector,\n         * to make sure traversals don't match elements that aren't a\n         * part of the considered tree.\n         */\n        remainingSelector.unshift(SCOPE_PSEUDO);\n    }\n    /*\n     * If we have another filter, recursively call `findFilterElements`,\n     * with the `recursive` flag disabled. We only have to look for more\n     * elements when we see a traversal.\n     *\n     * Otherwise,\n     */\n    return remainingSelector.some(positionals_1.isFilter)\n        ? findFilterElements(result, remainingSelector, options, false, scopeContext)\n        : remainingHasTraversal\n            ? // Query existing elements to resolve traversal.\n                findElements(result, [remainingSelector], remainingOpts, Infinity)\n            : // If we don't have any more traversals, simply filter elements.\n                filterElements(result, [remainingSelector], remainingOpts);\n}\nfunction findElements(root, sel, options, limit) {\n    if (limit === 0)\n        return [];\n    // @ts-expect-error TS seems to mess up the type here \\_()_/\n    var query = css_select_1._compileToken(sel, options, root);\n    var elems = css_select_1.prepareContext(root, DomUtils, query.shouldTestNextSiblings);\n    return DomUtils.find(function (node) { return DomUtils.isTag(node) && query(node); }, elems, true, limit);\n}\nfunction filterElements(elements, sel, options) {\n    // @ts-expect-error TS seems to mess up the type here \\_()_/\n    var query = css_select_1._compileToken(sel, options);\n    return elements.filter(query);\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getLimit = exports.isFilter = exports.filterNames = void 0;\nexports.filterNames = new Set([\n    \"first\",\n    \"last\",\n    \"eq\",\n    \"gt\",\n    \"nth\",\n    \"lt\",\n    \"even\",\n    \"odd\",\n]);\nfunction isFilter(s) {\n    if (s.type !== \"pseudo\")\n        return false;\n    if (exports.filterNames.has(s.name))\n        return true;\n    if (s.name === \"not\" && Array.isArray(s.data)) {\n        // Only consider `:not` with embedded filters\n        return s.data.some(function (s) { return s.some(isFilter); });\n    }\n    return false;\n}\nexports.isFilter = isFilter;\nfunction getLimit(filter, data) {\n    var num = data != null ? parseInt(data, 10) : NaN;\n    switch (filter) {\n        case \"first\":\n            return 1;\n        case \"nth\":\n        case \"eq\":\n            return isFinite(num) ? (num >= 0 ? num + 1 : Infinity) : 0;\n        case \"lt\":\n            return isFinite(num) ? (num >= 0 ? num : Infinity) : 0;\n        case \"gt\":\n            return isFinite(num) ? Infinity : 0;\n        default:\n            return Infinity;\n    }\n}\nexports.getLimit = getLimit;\n",
    "/**\n * @module cheerio\n * @borrows static.load as load\n * @borrows static.html as html\n * @borrows static.text as text\n * @borrows static.xml as xml\n */\nvar staticMethods = require('./lib/static');\n\nexports = module.exports = require('./lib/cheerio');\n\n/**\n * An identifier describing the version of Cheerio which has been executed.\n *\n * @type {string}\n */\nexports.version = require('./package.json').version;\n\nexports.load = staticMethods.load;\nexports.html = staticMethods.html;\nexports.text = staticMethods.text;\nexports.xml = staticMethods.xml;\n\n/**\n * In order to promote consistency with the jQuery library, users are\n * encouraged to instead use the static method of the same name.\n *\n * @example\n *     var $ = cheerio.load('<div><p></p></div>');\n *     $.contains($('div').get(0), $('p').get(0)); // true\n *     $.contains($('p').get(0), $('div').get(0)); // false\n *\n * @function\n * @returns {boolean}\n * @deprecated\n */\nexports.contains = staticMethods.contains;\n\n/**\n * In order to promote consistency with the jQuery library, users are\n * encouraged to instead use the static method of the same name.\n *\n * @example\n *     var $ = cheerio.load('');\n *     $.merge([1, 2], [3, 4]) // [1, 2, 3, 4]\n *\n * @function\n * @deprecated\n */\nexports.merge = staticMethods.merge;\n\n/**\n * In order to promote consistency with the jQuery library, users are\n * encouraged to instead use the static method of the same name as it is\n * defined on the \"loaded\" Cheerio factory function.\n *\n * @example\n *     var $ = cheerio.load('');\n *     $.parseHTML('<b>markup</b>');\n *\n * @function\n * @deprecated See {@link static/parseHTML}.\n */\nexports.parseHTML = staticMethods.parseHTML;\n\n/**\n * Users seeking to access the top-level element of a parsed document should\n * instead use the `root` static method of a \"loaded\" Cheerio function.\n *\n * @example\n *     var $ = cheerio.load('');\n *     $.root();\n *\n * @function\n * @deprecated\n */\nexports.root = staticMethods.root;\n",
    "/**\n * Methods for getting and modifying attributes.\n *\n * @module cheerio/attributes\n */\n\nvar text = require('../static').text;\nvar utils = require('../utils');\nvar isTag = utils.isTag;\nvar domEach = utils.domEach;\nvar hasOwn = Object.prototype.hasOwnProperty;\nvar camelCase = utils.camelCase;\nvar cssCase = utils.cssCase;\nvar rspace = /\\s+/;\nvar dataAttrPrefix = 'data-';\n// Lookup table for coercing string data-* attributes to their corresponding\n// JavaScript primitives\nvar primitives = {\n  null: null,\n  true: true,\n  false: false,\n};\n// Attributes that are booleans\nvar rboolean = /^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i;\n// Matches strings that look like JSON objects or arrays\nvar rbrace = /^(?:\\{[\\w\\W]*\\}|\\[[\\w\\W]*\\])$/;\n\nvar getAttr = function (elem, name) {\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.attribs) {\n    elem.attribs = {};\n  }\n\n  // Return the entire attribs object if no attribute specified\n  if (!name) {\n    return elem.attribs;\n  }\n\n  if (hasOwn.call(elem.attribs, name)) {\n    // Get the (decoded) attribute\n    return rboolean.test(name) ? name : elem.attribs[name];\n  }\n\n  // Mimic the DOM and return text content as value for `option's`\n  if (elem.name === 'option' && name === 'value') {\n    return text(elem.children);\n  }\n\n  // Mimic DOM with default value for radios/checkboxes\n  if (\n    elem.name === 'input' &&\n    (elem.attribs.type === 'radio' || elem.attribs.type === 'checkbox') &&\n    name === 'value'\n  ) {\n    return 'on';\n  }\n};\n\nvar setAttr = function (el, name, value) {\n  if (value === null) {\n    removeAttribute(el, name);\n  } else {\n    el.attribs[name] = value + '';\n  }\n};\n\n/**\n * Method for getting and setting attributes. Gets the attribute value for only\n * the first element in the matched set. If you set an attribute's value to\n * `null`, you remove that attribute. You may also pass a `map` and `function`\n * like jQuery.\n *\n * @example\n *\n * $('ul').attr('id')\n * //=> fruits\n *\n * $('.apple').attr('id', 'favorite').html()\n * //=> <li class=\"apple\" id=\"favorite\">Apple</li>\n *\n * @param {string} name - Name of the attribute.\n * @param {string} [value] - If specified sets the value of the attribute.\n *\n * @see {@link http://api.jquery.com/attr/}\n */\nexports.attr = function (name, value) {\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      return domEach(this, function (i, el) {\n        setAttr(el, name, value.call(el, i, el.attribs[name]));\n      });\n    }\n    return domEach(this, function (i, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n        Object.keys(name).forEach(function (objName) {\n          var objValue = name[objName];\n          setAttr(el, objName, objValue);\n        });\n      } else {\n        setAttr(el, name, value);\n      }\n    });\n  }\n\n  return getAttr(this[0], name);\n};\n\nvar getProp = function (el, name) {\n  if (!el || !isTag(el)) return;\n\n  return name in el\n    ? el[name]\n    : rboolean.test(name)\n    ? getAttr(el, name) !== undefined\n    : getAttr(el, name);\n};\n\nvar setProp = function (el, name, value) {\n  el[name] = rboolean.test(name) ? !!value : value;\n};\n\n/**\n * Method for getting and setting properties. Gets the property value for only\n * the first element in the matched set.\n *\n * @example\n *\n * $('input[type=\"checkbox\"]').prop('checked')\n * //=> false\n *\n * $('input[type=\"checkbox\"]').prop('checked', true).val()\n * //=> ok\n *\n * @param {string} name - Name of the property.\n * @param {any} [value] - If specified set the property to this.\n *\n * @see {@link http://api.jquery.com/prop/}\n */\nexports.prop = function (name, value) {\n  var i = 0;\n  var property;\n\n  if (typeof name === 'string' && value === undefined) {\n    switch (name) {\n      case 'style':\n        property = this.css();\n\n        Object.keys(property).forEach(function (p) {\n          property[i++] = p;\n        });\n\n        property.length = i;\n\n        break;\n      case 'tagName':\n      case 'nodeName':\n        property = this[0].name.toUpperCase();\n        break;\n      case 'outerHTML':\n        property = this.clone().wrap('<container />').parent().html();\n        break;\n      default:\n        property = getProp(this[0], name);\n    }\n\n    return property;\n  }\n\n  if (typeof name === 'object' || value !== undefined) {\n    if (typeof value === 'function') {\n      return domEach(this, function (j, el) {\n        setProp(el, name, value.call(el, j, getProp(el, name)));\n      });\n    }\n\n    return domEach(this, function (__, el) {\n      if (!isTag(el)) return;\n\n      if (typeof name === 'object') {\n        Object.keys(name).forEach(function (key) {\n          var val = name[key];\n          setProp(el, key, val);\n        });\n      } else {\n        setProp(el, name, value);\n      }\n    });\n  }\n};\n\nvar setData = function (el, name, value) {\n  if (!el.data) {\n    el.data = {};\n  }\n\n  if (typeof name === 'object') return Object.assign(el.data, name);\n  if (typeof name === 'string' && value !== undefined) {\n    el.data[name] = value;\n  }\n};\n\n// Read the specified attribute from the equivalent HTML5 `data-*` attribute,\n// and (if present) cache the value in the node's internal data store. If no\n// attribute name is specified, read *all* HTML5 `data-*` attributes in this\n// manner.\nvar readData = function (el, name) {\n  var readAll = arguments.length === 1;\n  var domNames;\n  var domName;\n  var jsNames;\n  var jsName;\n  var value;\n  var idx;\n  var length;\n\n  if (readAll) {\n    domNames = Object.keys(el.attribs).filter(function (attrName) {\n      return attrName.slice(0, dataAttrPrefix.length) === dataAttrPrefix;\n    });\n    jsNames = domNames.map(function (_domName) {\n      return camelCase(_domName.slice(dataAttrPrefix.length));\n    });\n  } else {\n    domNames = [dataAttrPrefix + cssCase(name)];\n    jsNames = [name];\n  }\n\n  for (idx = 0, length = domNames.length; idx < length; ++idx) {\n    domName = domNames[idx];\n    jsName = jsNames[idx];\n    if (hasOwn.call(el.attribs, domName) && !hasOwn.call(el.data, jsName)) {\n      value = el.attribs[domName];\n\n      if (hasOwn.call(primitives, value)) {\n        value = primitives[value];\n      } else if (value === String(Number(value))) {\n        value = Number(value);\n      } else if (rbrace.test(value)) {\n        try {\n          value = JSON.parse(value);\n        } catch (e) {\n          /* ignore */\n        }\n      }\n\n      el.data[jsName] = value;\n    }\n  }\n\n  return readAll ? el.data : value;\n};\n\n/**\n * Method for getting and setting data attributes. Gets or sets the data\n * attribute value for only the first element in the matched set.\n *\n * @example\n *\n * $('<div data-apple-color=\"red\"></div>').data()\n * //=> { appleColor: 'red' }\n *\n * $('<div data-apple-color=\"red\"></div>').data('apple-color')\n * //=> 'red'\n *\n * const apple = $('.apple').data('kind', 'mac')\n * apple.data('kind')\n * //=> 'mac'\n *\n * @param {string} name - Name of the attribute.\n * @param {any} [value] - If specified new value.\n *\n * @see {@link http://api.jquery.com/data/}\n */\nexports.data = function (name, value) {\n  var elem = this[0];\n\n  if (!elem || !isTag(elem)) return;\n\n  if (!elem.data) {\n    elem.data = {};\n  }\n\n  // Return the entire data object if no data specified\n  if (!name) {\n    return readData(elem);\n  }\n\n  // Set the value (with attr map support)\n  if (typeof name === 'object' || value !== undefined) {\n    domEach(this, function (i, el) {\n      setData(el, name, value);\n    });\n    return this;\n  } else if (hasOwn.call(elem.data, name)) {\n    return elem.data[name];\n  }\n\n  return readData(elem, name);\n};\n\n/**\n * Method for getting and setting the value of input, select, and textarea.\n * Note: Support for `map`, and `function` has not been added yet.\n *\n * @example\n *\n * $('input[type=\"text\"]').val()\n * //=> input_text\n *\n * $('input[type=\"text\"]').val('test').html()\n * //=> <input type=\"text\" value=\"test\"/>\n *\n * @param {string} [value] - If specified new value.\n *\n * @see {@link http://api.jquery.com/val/}\n */\nexports.val = function (value) {\n  var querying = arguments.length === 0;\n  var element = this[0];\n\n  if (!element) return;\n\n  switch (element.name) {\n    case 'textarea':\n      return this.text(value);\n    case 'input':\n      if (this.attr('type') === 'radio') {\n        if (querying) {\n          return this.attr('value');\n        }\n\n        this.attr('value', value);\n        return this;\n      }\n\n      return this.attr('value', value);\n    case 'select':\n      var option = this.find('option:selected');\n      var returnValue;\n      if (option === undefined) return undefined;\n      if (!querying) {\n        if (!hasOwn.call(this.attr(), 'multiple') && typeof value == 'object') {\n          return this;\n        }\n        if (typeof value != 'object') {\n          value = [value];\n        }\n        this.find('option').removeAttr('selected');\n        for (var i = 0; i < value.length; i++) {\n          this.find('option[value=\"' + value[i] + '\"]').attr('selected', '');\n        }\n        return this;\n      }\n      returnValue = option.attr('value');\n      if (hasOwn.call(this.attr(), 'multiple')) {\n        returnValue = [];\n        domEach(option, function (__, el) {\n          returnValue.push(getAttr(el, 'value'));\n        });\n      }\n      return returnValue;\n    case 'option':\n      if (!querying) {\n        this.attr('value', value);\n        return this;\n      }\n      return this.attr('value');\n  }\n};\n\n/**\n * Remove an attribute.\n *\n * @private\n * @param {node} elem - Node to remove attribute from.\n * @param {string} name - Name of the attribute to remove.\n */\nvar removeAttribute = function (elem, name) {\n  if (!elem.attribs || !hasOwn.call(elem.attribs, name)) return;\n\n  delete elem.attribs[name];\n};\n\n/**\n * Splits a space-separated list of names to individual\n * names.\n *\n * @param {string} names -  Names to split.\n * @returns {string[]} - Split names.\n */\nvar splitNames = function (names) {\n  return names ? names.trim().split(rspace) : [];\n};\n\n/**\n * Method for removing attributes by `name`.\n *\n * @example\n *\n * $('.pear').removeAttr('class').html()\n * //=> <li>Pear</li>\n *\n * $('.apple').attr('id', 'favorite')\n * $('.apple').removeAttr('id class').html()\n * //=> <li>Apple</li>\n *\n * @param {string} name - Name of the attribute.\n *\n * @see {@link http://api.jquery.com/removeAttr/}\n */\nexports.removeAttr = function (name) {\n  var attrNames = splitNames(name);\n\n  for (var i = 0; i < attrNames.length; i++) {\n    domEach(this, function (j, elem) {\n      removeAttribute(elem, attrNames[i]);\n    });\n  }\n\n  return this;\n};\n\n/**\n * Check to see if *any* of the matched elements have the given `className`.\n *\n * @example\n *\n * $('.pear').hasClass('pear')\n * //=> true\n *\n * $('apple').hasClass('fruit')\n * //=> false\n *\n * $('li').hasClass('pear')\n * //=> true\n *\n * @param {string} className - Name of the class.\n *\n * @see {@link http://api.jquery.com/hasClass/}\n */\nexports.hasClass = function (className) {\n  return this.toArray().some(function (elem) {\n    var attrs = elem.attribs;\n    var clazz = attrs && attrs['class'];\n    var idx = -1;\n    var end;\n\n    if (clazz && className.length) {\n      while ((idx = clazz.indexOf(className, idx + 1)) > -1) {\n        end = idx + className.length;\n\n        if (\n          (idx === 0 || rspace.test(clazz[idx - 1])) &&\n          (end === clazz.length || rspace.test(clazz[end]))\n        ) {\n          return true;\n        }\n      }\n    }\n  });\n};\n\n/**\n * Adds class(es) to all of the matched elements. Also accepts a `function`\n * like jQuery.\n *\n * @example\n *\n * $('.pear').addClass('fruit').html()\n * //=> <li class=\"pear fruit\">Pear</li>\n *\n * $('.apple').addClass('fruit red').html()\n * //=> <li class=\"apple fruit red\">Apple</li>\n *\n * @param {string} value - Name of new class.\n *\n * @see {@link http://api.jquery.com/addClass/}\n */\nexports.addClass = function (value) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function (i, el) {\n      var className = el.attribs['class'] || '';\n      exports.addClass.call([el], value.call(el, i, className));\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace);\n  var numElements = this.length;\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    // If we don't already have classes\n    var className = getAttr(this[i], 'class');\n    var numClasses;\n    var setClass;\n\n    if (!className) {\n      setAttr(this[i], 'class', classNames.join(' ').trim());\n    } else {\n      setClass = ' ' + className + ' ';\n      numClasses = classNames.length;\n\n      // Check if class already exists\n      for (var j = 0; j < numClasses; j++) {\n        var appendClass = classNames[j] + ' ';\n        if (setClass.indexOf(' ' + appendClass) < 0) setClass += appendClass;\n      }\n\n      setAttr(this[i], 'class', setClass.trim());\n    }\n  }\n\n  return this;\n};\n\n/**\n * Removes one or more space-separated classes from the selected elements. If\n * no `className` is defined, all classes will be removed. Also accepts a\n * `function` like jQuery.\n *\n * @example\n *\n * $('.pear').removeClass('pear').html()\n * //=> <li class=\"\">Pear</li>\n *\n * $('.apple').addClass('red').removeClass().html()\n * //=> <li class=\"\">Apple</li>\n * @param {string} value - Name of the class.\n *\n * @see {@link http://api.jquery.com/removeClass/}\n */\nexports.removeClass = function (value) {\n  var classes;\n  var numClasses;\n  var removeAll;\n\n  // Handle if value is a function\n  if (typeof value === 'function') {\n    return domEach(this, function (i, el) {\n      exports.removeClass.call(\n        [el],\n        value.call(el, i, el.attribs['class'] || '')\n      );\n    });\n  }\n\n  classes = splitNames(value);\n  numClasses = classes.length;\n  removeAll = arguments.length === 0;\n\n  return domEach(this, function (i, el) {\n    if (!isTag(el)) return;\n\n    if (removeAll) {\n      // Short circuit the remove all case as this is the nice one\n      el.attribs.class = '';\n    } else {\n      var elClasses = splitNames(el.attribs.class);\n      var index;\n      var changed;\n\n      for (var j = 0; j < numClasses; j++) {\n        index = elClasses.indexOf(classes[j]);\n\n        if (index >= 0) {\n          elClasses.splice(index, 1);\n          changed = true;\n\n          // We have to do another pass to ensure that there are not duplicate\n          // classes listed\n          j--;\n        }\n      }\n      if (changed) {\n        el.attribs.class = elClasses.join(' ');\n      }\n    }\n  });\n};\n\n/**\n * Add or remove class(es) from the matched elements, depending on either the\n * class's presence or the value of the switch argument. Also accepts a\n * `function` like jQuery.\n *\n * @example\n *\n * $('.apple.green').toggleClass('fruit green red').html()\n * //=> <li class=\"apple fruit red\">Apple</li>\n *\n * $('.apple.green').toggleClass('fruit green red', true).html()\n * //=> <li class=\"apple green fruit red\">Apple</li>\n *\n * @param {(string|Function)} value - Name of the class. Can also be a function.\n * @param {boolean} [stateVal] - If specified the state of the class.\n *\n * @see {@link http://api.jquery.com/toggleClass/}\n */\nexports.toggleClass = function (value, stateVal) {\n  // Support functions\n  if (typeof value === 'function') {\n    return domEach(this, function (i, el) {\n      exports.toggleClass.call(\n        [el],\n        value.call(el, i, el.attribs['class'] || '', stateVal),\n        stateVal\n      );\n    });\n  }\n\n  // Return if no value or not a string or function\n  if (!value || typeof value !== 'string') return this;\n\n  var classNames = value.split(rspace);\n  var numClasses = classNames.length;\n  var state = typeof stateVal === 'boolean' ? (stateVal ? 1 : -1) : 0;\n  var numElements = this.length;\n  var elementClasses;\n  var index;\n\n  for (var i = 0; i < numElements; i++) {\n    // If selected element isn't a tag, move on\n    if (!isTag(this[i])) continue;\n\n    elementClasses = splitNames(this[i].attribs.class);\n\n    // Check if class already exists\n    for (var j = 0; j < numClasses; j++) {\n      // Check if the class name is currently defined\n      index = elementClasses.indexOf(classNames[j]);\n\n      // Add if stateValue === true or we are toggling and there is no value\n      if (state >= 0 && index < 0) {\n        elementClasses.push(classNames[j]);\n      } else if (state <= 0 && index >= 0) {\n        // Otherwise remove but only if the item exists\n        elementClasses.splice(index, 1);\n      }\n    }\n\n    this[i].attribs.class = elementClasses.join(' ');\n  }\n\n  return this;\n};\n\n/**\n * Checks the current list of elements and returns `true` if _any_ of the\n * elements match the selector. If using an element or Cheerio selection,\n * returns `true` if _any_ of the elements match. If using a predicate\n * function, the function is executed in the context of the selected element,\n * so `this` refers to the current element.\n *\n * @param {string|Function|cheerio|node} selector - Selector for the selection.\n *\n * @see {@link http://api.jquery.com/is/}\n */\nexports.is = function (selector) {\n  if (selector) {\n    return this.filter(selector).length > 0;\n  }\n  return false;\n};\n",
    "/**\n * @module cheerio/css\n */\n\nvar domEach = require('../utils').domEach;\n\nvar toString = Object.prototype.toString;\n\n/**\n * Get the value of a style property for the first element in the set of\n * matched elements or set one or more CSS properties for every matched\n * element.\n *\n * @param {string|object} prop - The name of the property.\n * @param {string} [val] - If specified the new value.\n * @returns {self}\n *\n * @see {@link http://api.jquery.com/css/}\n */\nexports.css = function (prop, val) {\n  if (\n    arguments.length === 2 ||\n    // When `prop` is a \"plain\" object\n    toString.call(prop) === '[object Object]'\n  ) {\n    return domEach(this, function (idx, el) {\n      setCss(el, prop, val, idx);\n    });\n  }\n  return getCss(this[0], prop);\n};\n\n/**\n * Set styles of all elements.\n *\n * @param {object} el - Element to set style of.\n * @param {string|object} prop - Name of property.\n * @param {string} val - Value to set property to.\n * @param {number} [idx] - Optional index within the selection.\n * @returns {self}\n * @private\n */\nfunction setCss(el, prop, val, idx) {\n  if ('string' == typeof prop) {\n    var styles = getCss(el);\n    if (typeof val === 'function') {\n      val = val.call(el, idx, styles[prop]);\n    }\n\n    if (val === '') {\n      delete styles[prop];\n    } else if (val != null) {\n      styles[prop] = val;\n    }\n\n    el.attribs.style = stringify(styles);\n  } else if ('object' == typeof prop) {\n    Object.keys(prop).forEach(function (k) {\n      setCss(el, k, prop[k]);\n    });\n  }\n}\n\n/**\n * Get parsed styles of the first element.\n *\n * @param {node} el - Element to get styles from.\n * @param {string} prop - Name of the prop.\n * @returns {object}\n * @private\n */\nfunction getCss(el, prop) {\n  if (!el || !el.attribs) {\n    return undefined;\n  }\n\n  var styles = parse(el.attribs.style);\n  if (typeof prop === 'string') {\n    return styles[prop];\n  } else if (Array.isArray(prop)) {\n    var newStyles = {};\n    prop.forEach(function (item) {\n      if (styles[item] != null) {\n        newStyles[item] = styles[item];\n      }\n    });\n    return newStyles;\n  }\n  return styles;\n}\n\n/**\n * Stringify `obj` to styles.\n *\n * @param {object} obj - Object to stringify.\n * @returns {object}\n * @private\n */\nfunction stringify(obj) {\n  return Object.keys(obj || {}).reduce(function (str, prop) {\n    return (str += '' + (str ? ' ' : '') + prop + ': ' + obj[prop] + ';');\n  }, '');\n}\n\n/**\n * Parse `styles`.\n *\n * @param {string} styles - Styles to be parsed.\n * @returns {object}\n * @private\n */\nfunction parse(styles) {\n  styles = (styles || '').trim();\n\n  if (!styles) return {};\n\n  return styles.split(';').reduce(function (obj, str) {\n    var n = str.indexOf(':');\n    // skip if there is no :, or if it is the first/last character\n    if (n < 1 || n === str.length - 1) return obj;\n    obj[str.slice(0, n).trim()] = str.slice(n + 1).trim();\n    return obj;\n  }, {});\n}\n",
    "/**\n * @module cheerio/forms\n */\n\n// https://github.com/jquery/jquery/blob/2.1.3/src/manipulation/var/rcheckableType.js\n// https://github.com/jquery/jquery/blob/2.1.3/src/serialize.js\nvar submittableSelector = 'input,select,textarea,keygen';\nvar r20 = /%20/g;\nvar rCRLF = /\\r?\\n/g;\n\n/**\n * Encode a set of form elements as a string for submission.\n *\n * @see {@link http://api.jquery.com/serialize/}\n */\nexports.serialize = function () {\n  // Convert form elements into name/value objects\n  var arr = this.serializeArray();\n\n  // Serialize each element into a key/value string\n  var retArr = arr.map(function (data) {\n    return encodeURIComponent(data.name) + '=' + encodeURIComponent(data.value);\n  });\n\n  // Return the resulting serialization\n  return retArr.join('&').replace(r20, '+');\n};\n\n/**\n * Encode a set of form elements as an array of names and values.\n *\n * @example\n * $('<form><input name=\"foo\" value=\"bar\" /></form>').serializeArray()\n * //=> [ { name: 'foo', value: 'bar' } ]\n *\n * @see {@link http://api.jquery.com/serializeArray/}\n */\nexports.serializeArray = function () {\n  // Resolve all form elements from either forms or collections of form elements\n  var Cheerio = this.constructor;\n  return this.map(function () {\n    var elem = this;\n    var $elem = Cheerio(elem);\n    if (elem.name === 'form') {\n      return $elem.find(submittableSelector).toArray();\n    }\n    return $elem.filter(submittableSelector).toArray();\n  })\n    .filter(\n      // Verify elements have a name (`attr.name`) and are not disabled (`:disabled`)\n      '[name!=\"\"]:not(:disabled)' +\n        // and cannot be clicked (`[type=submit]`) or are used in `x-www-form-urlencoded` (`[type=file]`)\n        ':not(:submit, :button, :image, :reset, :file)' +\n        // and are either checked/don't have a checkable state\n        ':matches([checked], :not(:checkbox, :radio))'\n      // Convert each of the elements to its value(s)\n    )\n    .map(function (i, elem) {\n      var $elem = Cheerio(elem);\n      var name = $elem.attr('name');\n      var value = $elem.val();\n\n      // If there is no value set (e.g. `undefined`, `null`), then default value to empty\n      if (value == null) {\n        value = '';\n      }\n\n      // If we have an array of values (e.g. `<select multiple>`), return an array of key/value pairs\n      if (Array.isArray(value)) {\n        return value.map(function (val) {\n          // We trim replace any line endings (e.g. `\\r` or `\\r\\n` with `\\r\\n`) to guarantee consistency across platforms\n          //   These can occur inside of `<textarea>'s`\n          return { name: name, value: val.replace(rCRLF, '\\r\\n') };\n        });\n        // Otherwise (e.g. `<input type=\"text\">`, return only one key/value pair\n      }\n      return { name: name, value: value.replace(rCRLF, '\\r\\n') };\n\n      // Convert our result to an array\n    })\n    .get();\n};\n",
    "/**\n * Methods for modifying the DOM structure.\n *\n * @module cheerio/manipulation\n */\n\nvar parse = require('../parse');\nvar html = require('../static').html;\nvar text = require('../static').text;\nvar updateDOM = parse.update;\nvar utils = require('../utils');\nvar domEach = utils.domEach;\nvar cloneDom = utils.cloneDom;\nvar isHtml = utils.isHtml;\nvar slice = Array.prototype.slice;\nvar domhandler = require('domhandler');\nvar DomUtils = require('htmlparser2').DomUtils;\n\n/**\n * Create an array of nodes, recursing into arrays and parsing strings if\n * necessary.\n *\n * @param {cheerio|string|cheerio[]|string[]} [elem] - Elements to make an array of.\n * @param {boolean} [clone] - Optionally clone nodes.\n * @private\n */\nexports._makeDomArray = function makeDomArray(elem, clone) {\n  if (elem == null) {\n    return [];\n  } else if (elem.cheerio) {\n    return clone ? cloneDom(elem.get(), elem.options) : elem.get();\n  } else if (Array.isArray(elem)) {\n    return elem.reduce(\n      function (newElems, el) {\n        return newElems.concat(this._makeDomArray(el, clone));\n      }.bind(this),\n      []\n    );\n  } else if (typeof elem === 'string') {\n    return parse(elem, this.options, false).children;\n  }\n  return clone ? cloneDom([elem]) : [elem];\n};\n\nvar _insert = function (concatenator) {\n  return function () {\n    var elems = slice.call(arguments);\n    var lastIdx = this.length - 1;\n\n    return domEach(this, function (i, el) {\n      var dom;\n      var domSrc;\n\n      if (typeof elems[0] === 'function') {\n        domSrc = elems[0].call(el, i, html(el.children));\n      } else {\n        domSrc = elems;\n      }\n\n      dom = this._makeDomArray(domSrc, i < lastIdx);\n      concatenator(dom, el.children, el);\n    });\n  };\n};\n\n/*\n * Modify an array in-place, removing some number of elements and adding new\n * elements directly following them.\n *\n * @param {Array} array Target array to splice.\n * @param {Number} spliceIdx Index at which to begin changing the array.\n * @param {Number} spliceCount Number of elements to remove from the array.\n * @param {Array} newElems Elements to insert into the array.\n *\n * @private\n */\nvar uniqueSplice = function (array, spliceIdx, spliceCount, newElems, parent) {\n  var spliceArgs = [spliceIdx, spliceCount].concat(newElems);\n  var prev = array[spliceIdx - 1] || null;\n  var next = array[spliceIdx + spliceCount] || null;\n  var idx;\n  var len;\n  var prevIdx;\n  var node;\n  var oldParent;\n\n  // Before splicing in new elements, ensure they do not already appear in the\n  // current array.\n  for (idx = 0, len = newElems.length; idx < len; ++idx) {\n    node = newElems[idx];\n    oldParent = node.parent;\n    prevIdx = oldParent && oldParent.children.indexOf(newElems[idx]);\n\n    if (oldParent && prevIdx > -1) {\n      oldParent.children.splice(prevIdx, 1);\n      if (parent === oldParent && spliceIdx > prevIdx) {\n        spliceArgs[0]--;\n      }\n    }\n\n    node.parent = parent;\n\n    if (node.prev) {\n      node.prev.next = node.next || null;\n    }\n\n    if (node.next) {\n      node.next.prev = node.prev || null;\n    }\n\n    node.prev = newElems[idx - 1] || prev;\n    node.next = newElems[idx + 1] || next;\n  }\n\n  if (prev) {\n    prev.next = newElems[0];\n  }\n  if (next) {\n    next.prev = newElems[newElems.length - 1];\n  }\n  return array.splice.apply(array, spliceArgs);\n};\n\n/**\n * Insert every element in the set of matched elements to the end of the\n * target.\n *\n * @param {string|cheerio} target - Element to append elements to.\n *\n * @example\n *\n * $('<li class=\"plum\">Plum</li>').appendTo('#fruits')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //      <li class=\"plum\">Plum</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/appendTo/}\n */\nexports.appendTo = function (target) {\n  if (!target.cheerio) {\n    target = this.constructor.call(\n      this.constructor,\n      target,\n      null,\n      this._originalRoot\n    );\n  }\n\n  target.append(this);\n\n  return this;\n};\n\n/**\n * Insert every element in the set of matched elements to the beginning of the\n * target.\n *\n * @param {string|cheerio} target - Element to prepend elements to.\n *\n * @example\n *\n * $('<li class=\"plum\">Plum</li>').prependTo('#fruits')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/prependTo/}\n */\nexports.prependTo = function (target) {\n  if (!target.cheerio) {\n    target = this.constructor.call(\n      this.constructor,\n      target,\n      null,\n      this._originalRoot\n    );\n  }\n\n  target.prepend(this);\n\n  return this;\n};\n\n/**\n * Inserts content as the *last* child of each of the selected elements.\n *\n * @function\n *\n * @example\n *\n * $('ul').append('<li class=\"plum\">Plum</li>')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //      <li class=\"plum\">Plum</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/append/}\n */\nexports.append = _insert(function (dom, children, parent) {\n  uniqueSplice(children, children.length, 0, dom, parent);\n});\n\n/**\n * Inserts content as the *first* child of each of the selected elements.\n *\n * @function\n *\n * @example\n *\n * $('ul').prepend('<li class=\"plum\">Plum</li>')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/prepend/}\n */\nexports.prepend = _insert(function (dom, children, parent) {\n  uniqueSplice(children, 0, 0, dom, parent);\n});\n\nfunction _wrap(insert) {\n  return function (wrapper) {\n    var wrapperFn = typeof wrapper === 'function' && wrapper;\n    var lastIdx = this.length - 1;\n    var lastParent = this.parents().last();\n\n    for (var i = 0; i < this.length; i++) {\n      var el = this[i];\n      var wrapperDom;\n      var elInsertLocation;\n      var j;\n\n      if (wrapperFn) {\n        wrapper = wrapperFn.call(el, i);\n      }\n\n      if (typeof wrapper === 'string' && !isHtml(wrapper)) {\n        wrapper = lastParent.find(wrapper).clone();\n      }\n\n      wrapperDom = this._makeDomArray(wrapper, i < lastIdx).slice(0, 1);\n      elInsertLocation = wrapperDom[0];\n      // Find the deepest child. Only consider the first tag child of each node\n      // (ignore text); stop if no children are found.\n      j = 0;\n\n      while (elInsertLocation && elInsertLocation.children) {\n        if (j >= elInsertLocation.children.length) {\n          break;\n        }\n\n        if (elInsertLocation.children[j].type === 'tag') {\n          elInsertLocation = elInsertLocation.children[j];\n          j = 0;\n        } else {\n          j++;\n        }\n      }\n\n      insert(el, elInsertLocation, wrapperDom);\n    }\n\n    return this;\n  };\n}\n\n/**\n * The .wrap() function can take any string or object that could be passed to\n * the $() factory function to specify a DOM structure. This structure may be\n * nested several levels deep, but should contain only one inmost element. A\n * copy of this structure will be wrapped around each of the elements in the\n * set of matched elements. This method returns the original set of elements\n * for chaining purposes.\n *\n * @param {cheerio} wrapper - The DOM structure to wrap around each element in the selection.\n *\n * @example\n *\n * const redFruit = $('<div class=\"red-fruit\"></div>')\n * $('.apple').wrap(redFruit)\n *\n * //=> <ul id=\"fruits\">\n * //     <div class=\"red-fruit\">\n * //      <li class=\"apple\">Apple</li>\n * //     </div>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"plum\">Plum</li>\n * //   </ul>\n *\n * const healthy = $('<div class=\"healthy\"></div>')\n * $('li').wrap(healthy)\n *\n * //=> <ul id=\"fruits\">\n * //     <div class=\"healthy\">\n * //       <li class=\"apple\">Apple</li>\n * //     </div>\n * //     <div class=\"healthy\">\n * //       <li class=\"orange\">Orange</li>\n * //     </div>\n * //     <div class=\"healthy\">\n * //        <li class=\"plum\">Plum</li>\n * //     </div>\n * //   </ul>\n *\n * @see {@link http://api.jquery.com/wrap/}\n */\nexports.wrap = _wrap(function (el, elInsertLocation, wrapperDom) {\n  var parent = el.parent;\n  var siblings = parent.children;\n  var index = siblings.indexOf(el);\n\n  updateDOM([el], elInsertLocation);\n  // The previous operation removed the current element from the `siblings`\n  // array, so the `dom` array can be inserted without removing any\n  // additional elements.\n  uniqueSplice(siblings, index, 0, wrapperDom, parent);\n});\n\n/**\n * The .wrapInner() function can take any string or object that could be passed to\n * the $() factory function to specify a DOM structure. This structure may be\n * nested several levels deep, but should contain only one inmost element. The\n * structure will be wrapped around the content of each of the elements in the set\n * of matched elements.\n *\n * @param {cheerio} wrapper - The DOM structure to wrap around the content of each element in the selection.\n *\n * @example\n *\n * const redFruit = $('<div class=\"red-fruit\"></div>')\n * $('.apple').wrapInner(redFruit)\n *\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">\n * //       <div class=\"red-fruit\">Apple</div>\n * //     </li>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"pear\">Pear</li>\n * //   </ul>\n *\n * const healthy = $('<div class=\"healthy\"></div>')\n * $('li').wrapInner(healthy)\n *\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">\n * //       <div class=\"healthy\">Apple</div>\n * //     </li>\n * //     <li class=\"orange\">\n * //       <div class=\"healthy\">Orange</div>\n * //     </li>\n * //     <li class=\"pear\">\n * //       <div class=\"healthy\">Pear</div>\n * //     </li>\n * //   </ul>\n *\n * @see {@link http://api.jquery.com/wrapInner/}\n */\nexports.wrapInner = _wrap(function (el, elInsertLocation, wrapperDom) {\n  updateDOM(el.children, elInsertLocation);\n  updateDOM(wrapperDom, el);\n});\n\n/**\n * Insert content next to each element in the set of matched elements.\n *\n * @example\n *\n * $('.apple').after('<li class=\"plum\">Plum</li>')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/after/}\n */\nexports.after = function () {\n  var elems = slice.call(arguments);\n  var lastIdx = this.length - 1;\n\n  domEach(this, function (i, el) {\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var index = siblings.indexOf(el);\n    var domSrc;\n    var dom;\n\n    // If not found, move on\n    if (index < 0) return;\n\n    if (typeof elems[0] === 'function') {\n      domSrc = elems[0].call(el, i, html(el.children));\n    } else {\n      domSrc = elems;\n    }\n    dom = this._makeDomArray(domSrc, i < lastIdx);\n\n    // Add element after `this` element\n    uniqueSplice(siblings, index + 1, 0, dom, parent);\n  });\n\n  return this;\n};\n\n/**\n * Insert every element in the set of matched elements after the target.\n *\n * @example\n *\n * $('<li class=\"plum\">Plum</li>').insertAfter('.apple')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @param {string|cheerio} target - Element to insert elements after.\n *\n * @see {@link http://api.jquery.com/insertAfter/}\n */\nexports.insertAfter = function (target) {\n  var clones = [];\n  var self = this;\n  if (typeof target === 'string') {\n    target = this.constructor.call(\n      this.constructor,\n      target,\n      null,\n      this._originalRoot\n    );\n  }\n  target = this._makeDomArray(target);\n  self.remove();\n  domEach(target, function (i, el) {\n    var clonedSelf = self._makeDomArray(self.clone());\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var index = siblings.indexOf(el);\n\n    // If not found, move on\n    if (index < 0) return;\n\n    // Add cloned `this` element(s) after target element\n    uniqueSplice(siblings, index + 1, 0, clonedSelf, parent);\n    clones.push(clonedSelf);\n  });\n  return this.constructor.call(this.constructor, this._makeDomArray(clones));\n};\n\n/**\n * Insert content previous to each element in the set of matched elements.\n *\n * @example\n *\n * $('.apple').before('<li class=\"plum\">Plum</li>')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @see {@link http://api.jquery.com/before/}\n */\nexports.before = function () {\n  var elems = slice.call(arguments);\n  var lastIdx = this.length - 1;\n\n  domEach(this, function (i, el) {\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var index = siblings.indexOf(el);\n    var domSrc;\n    var dom;\n\n    // If not found, move on\n    if (index < 0) return;\n\n    if (typeof elems[0] === 'function') {\n      domSrc = elems[0].call(el, i, html(el.children));\n    } else {\n      domSrc = elems;\n    }\n\n    dom = this._makeDomArray(domSrc, i < lastIdx);\n\n    // Add element before `el` element\n    uniqueSplice(siblings, index, 0, dom, parent);\n  });\n\n  return this;\n};\n\n/**\n * Insert every element in the set of matched elements before the target.\n *\n * @example\n *\n * $('<li class=\"plum\">Plum</li>').insertBefore('.apple')\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"plum\">Plum</li>\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //      <li class=\"pear\">Pear</li>\n * //    </ul>\n *\n * @param {string|cheerio} target - Element to insert elements before.\n *\n * @see {@link http://api.jquery.com/insertBefore/}\n */\nexports.insertBefore = function (target) {\n  var clones = [];\n  var self = this;\n  if (typeof target === 'string') {\n    target = this.constructor.call(\n      this.constructor,\n      target,\n      null,\n      this._originalRoot\n    );\n  }\n  target = this._makeDomArray(target);\n  self.remove();\n  domEach(target, function (i, el) {\n    var clonedSelf = self._makeDomArray(self.clone());\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var index = siblings.indexOf(el);\n\n    // If not found, move on\n    if (index < 0) return;\n\n    // Add cloned `this` element(s) after target element\n    uniqueSplice(siblings, index, 0, clonedSelf, parent);\n    clones.push(clonedSelf);\n  });\n  return this.constructor.call(this.constructor, this._makeDomArray(clones));\n};\n\n/**\n * Removes the set of matched elements from the DOM and all their children.\n * `selector` filters the set of matched elements to be removed.\n *\n * @example\n *\n * $('.pear').remove()\n * $.html()\n * //=>  <ul id=\"fruits\">\n * //      <li class=\"apple\">Apple</li>\n * //      <li class=\"orange\">Orange</li>\n * //    </ul>\n *\n * @param {string} [selector] - Optional selector for elements to remove.\n *\n * @see {@link http://api.jquery.com/remove/}\n */\nexports.remove = function (selector) {\n  var elems = this;\n\n  // Filter if we have selector\n  if (selector) elems = elems.filter(selector);\n\n  domEach(elems, function (i, el) {\n    DomUtils.removeElement(el);\n    el.prev = el.next = el.parent = null;\n  });\n\n  return this;\n};\n\n/**\n * Replaces matched elements with `content`.\n *\n * @example\n *\n * const plum = $('<li class=\"plum\">Plum</li>')\n * $('.pear').replaceWith(plum)\n * $.html()\n * //=> <ul id=\"fruits\">\n * //     <li class=\"apple\">Apple</li>\n * //     <li class=\"orange\">Orange</li>\n * //     <li class=\"plum\">Plum</li>\n * //   </ul>\n *\n * @param {cheerio|Function} content - Replacement for matched elements.\n *\n * @see {@link http://api.jquery.com/replaceWith/}\n */\nexports.replaceWith = function (content) {\n  var self = this;\n\n  domEach(this, function (i, el) {\n    var parent = el.parent;\n    if (!parent) {\n      return;\n    }\n\n    var siblings = parent.children;\n    var dom = self._makeDomArray(\n      typeof content === 'function' ? content.call(el, i, el) : content\n    );\n    var index;\n\n    // In the case that `dom` contains nodes that already exist in other\n    // structures, ensure those nodes are properly removed.\n    updateDOM(dom, null);\n\n    index = siblings.indexOf(el);\n\n    // Completely remove old element\n    uniqueSplice(siblings, index, 1, dom, parent);\n    el.parent = el.prev = el.next = null;\n  });\n\n  return this;\n};\n\n/**\n * Empties an element, removing all its children.\n *\n * @example\n *\n * $('ul').empty()\n * $.html()\n * //=>  <ul id=\"fruits\"></ul>\n *\n * @see {@link http://api.jquery.com/empty/}\n */\nexports.empty = function () {\n  domEach(this, function (i, el) {\n    el.children.forEach(function (child) {\n      child.next = child.prev = child.parent = null;\n    });\n\n    el.children.length = 0;\n  });\n  return this;\n};\n\n/**\n * Gets an HTML content string from the first selected element. If `htmlString`\n * is specified, each selected element's content is replaced by the new\n * content.\n *\n * @param {string} str - If specified used to replace selection's contents.\n *\n * @example\n *\n * $('.orange').html()\n * //=> Orange\n *\n * $('#fruits').html('<li class=\"mango\">Mango</li>').html()\n * //=> <li class=\"mango\">Mango</li>\n *\n * @see {@link http://api.jquery.com/html/}\n */\nexports.html = function (str) {\n  if (str === undefined) {\n    if (!this[0] || !this[0].children) return null;\n    return html(this[0].children, this.options);\n  }\n\n  var opts = this.options;\n\n  domEach(this, function (i, el) {\n    el.children.forEach(function (child) {\n      child.next = child.prev = child.parent = null;\n    });\n\n    var content = str.cheerio\n      ? str.clone().get()\n      : parse('' + str, opts, false).children;\n\n    updateDOM(content, el);\n  });\n\n  return this;\n};\n\nexports.toString = function () {\n  return html(this, this.options);\n};\n\n/**\n * Get the combined text contents of each element in the set of matched\n * elements, including their descendants. If `textString` is specified, each\n * selected element's content is replaced by the new text content.\n *\n * @param {string} [str] - If specified replacement for the selected element's contents.\n *\n * @example\n *\n * $('.orange').text()\n * //=> Orange\n *\n * $('ul').text()\n * //=>  Apple\n * //    Orange\n * //    Pear\n *\n * @see {@link http://api.jquery.com/text/}\n */\nexports.text = function (str) {\n  // If `str` is undefined, act as a \"getter\"\n  if (str === undefined) {\n    return text(this);\n  } else if (typeof str === 'function') {\n    // Function support\n    var self = this;\n    return domEach(this, function (i, el) {\n      return exports.text.call(self._make(el), str.call(el, i, text([el])));\n    });\n  }\n\n  // Append text node to each selected elements\n  domEach(this, function (i, el) {\n    el.children.forEach(function (child) {\n      child.next = child.prev = child.parent = null;\n    });\n\n    var textNode = new domhandler.Text(str);\n\n    updateDOM(textNode, el);\n  });\n\n  return this;\n};\n\n/**\n * Clone the cheerio object.\n *\n * @example\n *\n * const moreFruit = $('#fruits').clone()\n *\n * @see {@link http://api.jquery.com/clone/}\n */\nexports.clone = function () {\n  return this._make(cloneDom(this.get(), this.options));\n};\n",
    "/**\n * Methods for traversing the DOM structure.\n *\n * @module cheerio/traversing\n */\n\nvar select = require('cheerio-select-tmp');\nvar utils = require('../utils');\nvar domEach = utils.domEach;\nvar uniqueSort = require('htmlparser2').DomUtils.uniqueSort;\nvar isTag = utils.isTag;\n\n/**\n * Get the descendants of each element in the current set of matched elements,\n * filtered by a selector, jQuery object, or element.\n *\n * @example\n *\n * $('#fruits').find('li').length\n * //=> 3\n * $('#fruits').find($('.apple')).length\n * //=> 1\n *\n * @param {string|cheerio|node} selectorOrHaystack - Element to look for.\n *\n * @see {@link http://api.jquery.com/find/}\n */\nexports.find = function (selectorOrHaystack) {\n  var elems = this.toArray().reduce(function (newElems, elem) {\n    return newElems.concat(elem.children.filter(isTag));\n  }, []);\n  var contains = this.constructor.contains;\n  var haystack;\n\n  if (selectorOrHaystack && typeof selectorOrHaystack !== 'string') {\n    if (selectorOrHaystack.cheerio) {\n      haystack = selectorOrHaystack.get();\n    } else {\n      haystack = [selectorOrHaystack];\n    }\n\n    return this._make(\n      haystack.filter(function (elem) {\n        var idx;\n        var len;\n        for (idx = 0, len = this.length; idx < len; ++idx) {\n          if (contains(this[idx], elem)) {\n            return true;\n          }\n        }\n      }, this)\n    );\n  }\n\n  var options = { __proto__: this.options, context: this.toArray() };\n\n  return this._make(select.select(selectorOrHaystack || '', elems, options));\n};\n\n/**\n * Get the parent of each element in the current set of matched elements,\n * optionally filtered by a selector.\n *\n * @example\n *\n * $('.pear').parent().attr('id')\n * //=> fruits\n *\n * @param {string} [selector] - If specified filter for parent.\n *\n * @see {@link http://api.jquery.com/parent/}\n */\nexports.parent = function (selector) {\n  var set = [];\n\n  domEach(this, function (idx, elem) {\n    var parentElem = elem.parent;\n    if (\n      parentElem &&\n      parentElem.type !== 'root' &&\n      set.indexOf(parentElem) < 0\n    ) {\n      set.push(parentElem);\n    }\n  });\n\n  if (arguments.length) {\n    set = exports.filter.call(set, selector, this);\n  }\n\n  return this._make(set);\n};\n\n/**\n * Get a set of parents filtered by `selector` of each element in the current\n * set of match elements.\n *\n * @example\n *\n * $('.orange').parents().length\n * // => 2\n * $('.orange').parents('#fruits').length\n * // => 1\n *\n * @param {string} [selector] - If specified filter for parents.\n *\n * @see {@link http://api.jquery.com/parents/}\n */\nexports.parents = function (selector) {\n  var parentNodes = [];\n\n  // When multiple DOM elements are in the original set, the resulting set will\n  // be in *reverse* order of the original elements as well, with duplicates\n  // removed.\n  this.get()\n    .reverse()\n    .forEach(function (elem) {\n      traverseParents(this, elem.parent, selector, Infinity).forEach(function (\n        node\n      ) {\n        if (parentNodes.indexOf(node) === -1) {\n          parentNodes.push(node);\n        }\n      });\n    }, this);\n\n  return this._make(parentNodes);\n};\n\n/**\n * Get the ancestors of each element in the current set of matched elements, up\n * to but not including the element matched by the selector, DOM node, or\n * cheerio object.\n *\n * @example\n *\n * $('.orange').parentsUntil('#food').length\n * // => 1\n *\n * @param {string|node|cheerio} selector - Selector for element to stop at.\n * @param {string|Function} [filter] - Optional filter for parents.\n *\n * @see {@link http://api.jquery.com/parentsUntil/}\n */\nexports.parentsUntil = function (selector, filter) {\n  var parentNodes = [];\n  var untilNode;\n  var untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select.select(\n      selector,\n      this.parents().toArray(),\n      this.options\n    )[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.toArray();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  // When multiple DOM elements are in the original set, the resulting set will\n  // be in *reverse* order of the original elements as well, with duplicates\n  // removed.\n\n  this.toArray()\n    .reverse()\n    .forEach(function (elem) {\n      while ((elem = elem.parent)) {\n        if (\n          (untilNode && elem !== untilNode) ||\n          (untilNodes && untilNodes.indexOf(elem) === -1) ||\n          (!untilNode && !untilNodes)\n        ) {\n          if (isTag(elem) && parentNodes.indexOf(elem) === -1) {\n            parentNodes.push(elem);\n          }\n        } else {\n          break;\n        }\n      }\n    }, this);\n\n  return this._make(\n    filter ? select.select(filter, parentNodes, this.options) : parentNodes\n  );\n};\n\n/**\n * For each element in the set, get the first element that matches the selector\n * by testing the element itself and traversing up through its ancestors in\n * the DOM tree.\n *\n * @example\n *\n * $('.orange').closest()\n * // => []\n * $('.orange').closest('.apple')\n * // => []\n * $('.orange').closest('li')\n * // => [<li class=\"orange\">Orange</li>]\n * $('.orange').closest('#fruits')\n * // => [<ul id=\"fruits\"> ... </ul>]\n *\n * @param {string} [selector] - Selector for the element to find.\n *\n * @see {@link http://api.jquery.com/closest/}\n */\nexports.closest = function (selector) {\n  var set = [];\n\n  if (!selector) {\n    return this._make(set);\n  }\n\n  domEach(this, function (idx, elem) {\n    var closestElem = traverseParents(this, elem, selector, 1)[0];\n\n    // Do not add duplicate elements to the set\n    if (closestElem && set.indexOf(closestElem) < 0) {\n      set.push(closestElem);\n    }\n  });\n\n  return this._make(set);\n};\n\n/**\n * Gets the next sibling of the first selected element, optionally filtered by\n * a selector.\n *\n * @example\n *\n * $('.apple').next().hasClass('orange')\n * //=> true\n *\n * @param {string} [selector] - If specified filter for sibling.\n *\n * @see {@link http://api.jquery.com/next/}\n */\nexports.next = function (selector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.next)) {\n      if (isTag(elem)) {\n        elems.push(elem);\n        return;\n      }\n    }\n  });\n\n  return selector\n    ? exports.filter.call(elems, selector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets all the following siblings of the first selected element, optionally\n * filtered by a selector.\n *\n * @example\n *\n * $('.apple').nextAll()\n * //=> [<li class=\"orange\">Orange</li>, <li class=\"pear\">Pear</li>]\n * $('.apple').nextAll('.orange')\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * @param {string} [selector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/nextAll/}\n */\nexports.nextAll = function (selector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.next)) {\n      if (isTag(elem) && elems.indexOf(elem) === -1) {\n        elems.push(elem);\n      }\n    }\n  });\n\n  return selector\n    ? exports.filter.call(elems, selector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets all the following siblings up to but not including the element matched\n * by the selector, optionally filtered by another selector.\n *\n * @example\n *\n * $('.apple').nextUntil('.pear')\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * @param {string|cheerio|node} selector - Selector for element to stop at.\n * @param {string} [filterSelector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/nextUntil/}\n */\nexports.nextUntil = function (selector, filterSelector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n  var untilNode;\n  var untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select.select(selector, this.nextAll().get(), this.options)[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.get();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.next)) {\n      if (\n        (untilNode && elem !== untilNode) ||\n        (untilNodes && untilNodes.indexOf(elem) === -1) ||\n        (!untilNode && !untilNodes)\n      ) {\n        if (isTag(elem) && elems.indexOf(elem) === -1) {\n          elems.push(elem);\n        }\n      } else {\n        break;\n      }\n    }\n  });\n\n  return filterSelector\n    ? exports.filter.call(elems, filterSelector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets the previous sibling of the first selected element optionally filtered\n * by a selector.\n *\n * @example\n *\n * $('.orange').prev().hasClass('apple')\n * //=> true\n *\n * @param {string} [selector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/prev/}\n */\nexports.prev = function (selector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.prev)) {\n      if (isTag(elem)) {\n        elems.push(elem);\n        return;\n      }\n    }\n  });\n\n  return selector\n    ? exports.filter.call(elems, selector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets all the preceding siblings of the first selected element, optionally\n * filtered by a selector.\n *\n * @example\n *\n * $('.pear').prevAll()\n * //=> [<li class=\"orange\">Orange</li>, <li class=\"apple\">Apple</li>]\n * $('.pear').prevAll('.orange')\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * @param {string} [selector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/prevAll/}\n */\nexports.prevAll = function (selector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.prev)) {\n      if (isTag(elem) && elems.indexOf(elem) === -1) {\n        elems.push(elem);\n      }\n    }\n  });\n\n  return selector\n    ? exports.filter.call(elems, selector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets all the preceding siblings up to but not including the element matched\n * by the selector, optionally filtered by another selector.\n *\n * @example\n *\n * $('.pear').prevUntil('.apple')\n * //=> [<li class=\"orange\">Orange</li>]\n *\n * @param {string|cheerio|node} selector - Selector for element to stop at.\n * @param {string} [filterSelector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/prevUntil/}\n */\nexports.prevUntil = function (selector, filterSelector) {\n  if (!this[0]) {\n    return this;\n  }\n  var elems = [];\n  var untilNode;\n  var untilNodes;\n\n  if (typeof selector === 'string') {\n    untilNode = select.select(selector, this.prevAll().get(), this.options)[0];\n  } else if (selector && selector.cheerio) {\n    untilNodes = selector.get();\n  } else if (selector) {\n    untilNode = selector;\n  }\n\n  this.toArray().forEach(function (elem) {\n    while ((elem = elem.prev)) {\n      if (\n        (untilNode && elem !== untilNode) ||\n        (untilNodes && untilNodes.indexOf(elem) === -1) ||\n        (!untilNode && !untilNodes)\n      ) {\n        if (isTag(elem) && elems.indexOf(elem) === -1) {\n          elems.push(elem);\n        }\n      } else {\n        break;\n      }\n    }\n  });\n\n  return filterSelector\n    ? exports.filter.call(elems, filterSelector, this)\n    : this._make(elems);\n};\n\n/**\n * Gets the first selected element's siblings, excluding itself.\n *\n * @example\n *\n * $('.pear').siblings().length\n * //=> 2\n *\n * $('.pear').siblings('.orange').length\n * //=> 1\n *\n * @param {string} [selector] - If specified filter for siblings.\n *\n * @see {@link http://api.jquery.com/siblings/}\n */\nexports.siblings = function (selector) {\n  var parent = this.parent();\n\n  var elems = (parent ? parent.children() : this.siblingsAndMe())\n    .toArray()\n    .filter(function (elem) {\n      return isTag(elem) && !this.is(elem);\n    }, this);\n\n  if (selector !== undefined) {\n    return exports.filter.call(elems, selector, this);\n  }\n  return this._make(elems);\n};\n\n/**\n * Gets the children of the first selected element.\n *\n * @example\n *\n * $('#fruits').children().length\n * //=> 3\n *\n * $('#fruits').children('.pear').text()\n * //=> Pear\n *\n * @param {string} [selector] - If specified filter for children.\n *\n * @see {@link http://api.jquery.com/children/}\n */\nexports.children = function (selector) {\n  var elems = this.toArray().reduce(function (newElems, elem) {\n    return newElems.concat(elem.children.filter(isTag));\n  }, []);\n\n  if (selector === undefined) return this._make(elems);\n\n  return exports.filter.call(elems, selector, this);\n};\n\n/**\n * Gets the children of each element in the set of matched elements, including\n * text and comment nodes.\n *\n * @example\n *\n * $('#fruits').contents().length\n * //=> 3\n *\n * @see {@link http://api.jquery.com/contents/}\n */\nexports.contents = function () {\n  var elems = this.toArray().reduce(function (newElems, elem) {\n    return newElems.concat(elem.children);\n  }, []);\n  return this._make(elems);\n};\n\n/**\n * Iterates over a cheerio object, executing a function for each matched\n * element. When the callback is fired, the function is fired in the context of\n * the DOM element, so `this` refers to the current element, which is\n * equivalent to the function parameter `element`. To break out of the `each`\n * loop early, return with `false`.\n *\n * @example\n *\n * const fruits = [];\n *\n * $('li').each(function(i, elem) {\n *   fruits[i] = $(this).text();\n * });\n *\n * fruits.join(', ');\n * //=> Apple, Orange, Pear\n *\n * @param {Function} fn - Function to execute.\n *\n * @see {@link http://api.jquery.com/each/}\n */\nexports.each = function (fn) {\n  var i = 0;\n  var len = this.length;\n  while (i < len && fn.call(this[i], i, this[i]) !== false) ++i;\n  return this;\n};\n\n/**\n * Pass each element in the current matched set through a function, producing a\n * new Cheerio object containing the return values. The function can return an\n * individual data item or an array of data items to be inserted into the\n * resulting set. If an array is returned, the elements inside the array are\n * inserted into the set. If the function returns null or undefined, no element\n * will be inserted.\n *\n * @example\n *\n * $('li').map(function(i, el) {\n *   // this === el\n *   return $(this).text();\n * }).get().join(' ');\n * //=> \"apple orange pear\"\n *\n * @param {Function} fn - Function to execute.\n *\n * @see {@link http://api.jquery.com/map/}\n */\nexports.map = function (fn) {\n  var elems = [];\n  for (var i = 0; i < this.length; i++) {\n    var el = this[i];\n    var val = fn.call(el, i, el);\n    if (val != null) {\n      elems = elems.concat(val);\n    }\n  }\n  return this._make(elems);\n};\n\nfunction getFilterFn(match) {\n  if (typeof match === 'function') {\n    return function (el, i) {\n      return match.call(el, i, el);\n    };\n  } else if (match.cheerio) {\n    return match.is.bind(match);\n  }\n  return function (el) {\n    return match === el;\n  };\n}\n\n/**\n * Iterates over a cheerio object, reducing the set of selector elements to\n * those that match the selector or pass the function's test. When a Cheerio\n * selection is specified, return only the elements contained in that\n * selection. When an element is specified, return only that element (if it is\n * contained in the original selection). If using the function method, the\n * function is executed in the context of the selected element, so `this`\n * refers to the current element.\n *\n * @function\n * @param {string | Function} match - Value to look for, following the rules above.\n * @param {node[]} container - Optional node to filter instead.\n *\n * @example <caption>Selector</caption>\n *\n * $('li').filter('.orange').attr('class');\n * //=> orange\n *\n * @example <caption>Function</caption>\n *\n * $('li').filter(function(i, el) {\n *   // this === el\n *   return $(this).attr('class') === 'orange';\n * }).attr('class')\n * //=> orange\n *\n * @see {@link http://api.jquery.com/filter/}\n */\nexports.filter = function (match, container) {\n  container = container || this;\n  var elements = this.toArray ? this.toArray() : this;\n\n  if (typeof match === 'string') {\n    elements = select.filter(match, elements, container.options);\n  } else {\n    elements = elements.filter(getFilterFn(match));\n  }\n\n  return container._make(elements);\n};\n\n/**\n * Remove elements from the set of matched elements. Given a jQuery object that\n * represents a set of DOM elements, the `.not()` method constructs a new\n * jQuery object from a subset of the matching elements. The supplied selector\n * is tested against each element; the elements that don't match the selector\n * will be included in the result. The `.not()` method can take a function as\n * its argument in the same way that `.filter()` does. Elements for which the\n * function returns true are excluded from the filtered set; all other elements\n * are included.\n *\n * @function\n * @param {string | Function} match - Value to look for, following the rules above.\n * @param {node[]} container - Optional node to filter instead.\n *\n * @example <caption>Selector</caption>\n *\n * $('li').not('.apple').length;\n * //=> 2\n *\n * @example <caption>Function</caption>\n *\n * $('li').not(function(i, el) {\n *   // this === el\n *   return $(this).attr('class') === 'orange';\n * }).length;\n * //=> 2\n *\n * @see {@link http://api.jquery.com/not/}\n */\nexports.not = function (match, container) {\n  container = container || this;\n  var elements = container.toArray ? container.toArray() : container;\n  var matches;\n  var filterFn;\n\n  if (typeof match === 'string') {\n    matches = new Set(select.filter(match, elements, this.options));\n    elements = elements.filter(function (el) {\n      return !matches.has(el);\n    });\n  } else {\n    filterFn = getFilterFn(match);\n    elements = elements.filter(function (el, i) {\n      return !filterFn(el, i);\n    });\n  }\n\n  return container._make(elements);\n};\n\n/**\n * Filters the set of matched elements to only those which have the given DOM\n * element as a descendant or which have a descendant that matches the given\n * selector. Equivalent to `.filter(':has(selector)')`.\n *\n * @example <caption>Selector</caption>\n *\n * $('ul').has('.pear').attr('id');\n * //=> fruits\n *\n * @example <caption>Element</caption>\n *\n * $('ul').has($('.pear')[0]).attr('id');\n * //=> fruits\n *\n * @param {string|cheerio|node} selectorOrHaystack - Element to look for.\n *\n * @see {@link http://api.jquery.com/has/}\n */\nexports.has = function (selectorOrHaystack) {\n  var that = this;\n  return exports.filter.call(this, function () {\n    return that._make(this).find(selectorOrHaystack).length > 0;\n  });\n};\n\n/**\n * Will select the first element of a cheerio object.\n *\n * @example\n *\n * $('#fruits').children().first().text()\n * //=> Apple\n *\n * @see {@link http://api.jquery.com/first/}\n */\nexports.first = function () {\n  return this.length > 1 ? this._make(this[0]) : this;\n};\n\n/**\n * Will select the last element of a cheerio object.\n *\n * @example\n *\n * $('#fruits').children().last().text()\n * //=> Pear\n *\n * @see {@link http://api.jquery.com/last/}\n */\nexports.last = function () {\n  return this.length > 1 ? this._make(this[this.length - 1]) : this;\n};\n\n/**\n * Reduce the set of matched elements to the one at the specified index. Use\n * `.eq(-i)` to count backwards from the last selected element.\n *\n * @example\n *\n * $('li').eq(0).text()\n * //=> Apple\n *\n * $('li').eq(-1).text()\n * //=> Pear\n *\n * @param {number} i - Index of the element to select.\n *\n * @see {@link http://api.jquery.com/eq/}\n */\nexports.eq = function (i) {\n  i = +i;\n\n  // Use the first identity optimization if possible\n  if (i === 0 && this.length <= 1) return this;\n\n  if (i < 0) i = this.length + i;\n  return this[i] ? this._make(this[i]) : this._make([]);\n};\n\n/**\n * Retrieve the DOM elements matched by the Cheerio object. If an index is\n * specified, retrieve one of the elements matched by the Cheerio object.\n *\n * @example\n *\n * $('li').get(0).tagName\n * //=> li\n *\n * If no index is specified, retrieve all elements matched by the Cheerio object:\n *\n * @example\n *\n * $('li').get().length\n * //=> 3\n *\n * @param {number} [i] - Element to retrieve.\n *\n * @see {@link http://api.jquery.com/get/}\n */\nexports.get = function (i) {\n  if (i == null) {\n    return Array.prototype.slice.call(this);\n  }\n  return this[i < 0 ? this.length + i : i];\n};\n\n/**\n * Search for a given element from among the matched elements.\n *\n * @example\n *\n * $('.pear').index()\n * //=> 2\n * $('.orange').index('li')\n * //=> 1\n * $('.apple').index($('#fruit, li'))\n * //=> 1\n *\n * @param {string|cheerio|node} [selectorOrNeedle] - Element to look for.\n *\n * @see {@link http://api.jquery.com/index/}\n */\nexports.index = function (selectorOrNeedle) {\n  var $haystack;\n  var needle;\n\n  if (arguments.length === 0) {\n    $haystack = this.parent().children();\n    needle = this[0];\n  } else if (typeof selectorOrNeedle === 'string') {\n    $haystack = this._make(selectorOrNeedle);\n    needle = this[0];\n  } else {\n    $haystack = this;\n    needle = selectorOrNeedle.cheerio ? selectorOrNeedle[0] : selectorOrNeedle;\n  }\n\n  return $haystack.get().indexOf(needle);\n};\n\n/**\n * Gets the elements matching the specified range.\n *\n * @example\n *\n * $('li').slice(1).eq(0).text()\n * //=> 'Orange'\n *\n * $('li').slice(1, 2).length\n * //=> 1\n *\n * @see {@link http://api.jquery.com/slice/}\n */\nexports.slice = function () {\n  return this._make([].slice.apply(this, arguments));\n};\n\nfunction traverseParents(self, elem, selector, limit) {\n  var elems = [];\n  while (elem && elems.length < limit && elem.type !== 'root') {\n    if (!selector || exports.filter.call([elem], selector, self).length) {\n      elems.push(elem);\n    }\n    elem = elem.parent;\n  }\n  return elems;\n}\n\n/**\n * End the most recent filtering operation in the current chain and return the\n * set of matched elements to its previous state.\n *\n * @example\n *\n * $('li').eq(0).end().length\n * //=> 3\n *\n * @see {@link http://api.jquery.com/end/}\n */\nexports.end = function () {\n  return this.prevObject || this._make([]);\n};\n\n/**\n * Add elements to the set of matched elements.\n *\n * @example\n *\n * $('.apple').add('.orange').length\n * //=> 2\n *\n * @param {string|cheerio} other - Elements to add.\n * @param {cheerio} [context] - Optionally the context of the new selection.\n *\n * @see {@link http://api.jquery.com/add/}\n */\nexports.add = function (other, context) {\n  var selection = this._make(other, context);\n  var contents = uniqueSort(selection.get().concat(this.get()));\n\n  for (var i = 0; i < contents.length; ++i) {\n    selection[i] = contents[i];\n  }\n  selection.length = contents.length;\n\n  return selection;\n};\n\n/**\n * Add the previous set of elements on the stack to the current set, optionally\n * filtered by a selector.\n *\n * @example\n *\n * $('li').eq(0).addBack('.orange').length\n * //=> 2\n *\n * @param {string} selector - Selector for the elements to add.\n *\n * @see {@link http://api.jquery.com/addBack/}\n */\nexports.addBack = function (selector) {\n  return this.add(\n    arguments.length ? this.prevObject.filter(selector) : this.prevObject\n  );\n};\n",
    "/*\n  Module dependencies\n*/\n\nvar parse = require('./parse');\nvar defaultOptions = require('./options').default;\nvar flattenOptions = require('./options').flatten;\nvar isHtml = require('./utils').isHtml;\n\n/*\n * The API\n */\nvar api = [\n  require('./api/attributes'),\n  require('./api/traversing'),\n  require('./api/manipulation'),\n  require('./api/css'),\n  require('./api/forms'),\n];\n\n/**\n * Instance of cheerio. Methods are specified in the modules.\n * Usage of this constructor is not recommended. Please use $.load instead.\n *\n * @class\n * @hideconstructor\n * @param {string|cheerio|node|node[]} selector - The new selection.\n * @param {string|cheerio|node|node[]} [context] - Context of the selection.\n * @param {string|cheerio|node|node[]} [root] - Sets the root node.\n * @param {object} [options] - Options for the instance.\n *\n * @mixes module:cheerio/attributes\n * @mixes module:cheerio/css\n * @mixes module:cheerio/forms\n * @mixes module:cheerio/manipulation\n * @mixes module:cheerio/traversing\n */\nvar Cheerio = (module.exports = function (selector, context, root, options) {\n  if (!(this instanceof Cheerio)) {\n    return new Cheerio(selector, context, root, options);\n  }\n\n  this.options = Object.assign(\n    {},\n    defaultOptions,\n    this.options,\n    flattenOptions(options)\n  );\n\n  // $(), $(null), $(undefined), $(false)\n  if (!selector) return this;\n\n  if (root) {\n    if (typeof root === 'string') root = parse(root, this.options, false);\n    this._root = Cheerio.call(this, root);\n  }\n\n  // $($)\n  if (selector.cheerio) return selector;\n\n  // $(dom)\n  if (isNode(selector)) selector = [selector];\n\n  // $([dom])\n  if (Array.isArray(selector)) {\n    selector.forEach(function (elem, idx) {\n      this[idx] = elem;\n    }, this);\n    this.length = selector.length;\n    return this;\n  }\n\n  // $(<html>)\n  if (typeof selector === 'string' && isHtml(selector)) {\n    return Cheerio.call(this, parse(selector, this.options, false).children);\n  }\n\n  // If we don't have a context, maybe we have a root, from loading\n  if (!context) {\n    context = this._root;\n  } else if (typeof context === 'string') {\n    if (isHtml(context)) {\n      // $('li', '<ul>...</ul>')\n      context = parse(context, this.options, false);\n      context = Cheerio.call(this, context);\n    } else {\n      // $('li', 'ul')\n      selector = [context, selector].join(' ');\n      context = this._root;\n    }\n  } else if (!context.cheerio) {\n    // $('li', node), $('li', [nodes])\n    context = Cheerio.call(this, context);\n  }\n\n  // If we still don't have a context, return\n  if (!context) return this;\n\n  // #id, .class, tag\n  return context.find(selector);\n});\n\n/*\n * Set a signature of the object\n */\nCheerio.prototype.cheerio = '[cheerio object]';\n\n/*\n * Make cheerio an array-like object\n */\nCheerio.prototype.length = 0;\nCheerio.prototype.splice = Array.prototype.splice;\n\n/*\n * Make a cheerio object\n *\n * @private\n */\nCheerio.prototype._make = function (dom, context) {\n  var cheerio = new this.constructor(dom, context, this._root, this.options);\n  cheerio.prevObject = this;\n  return cheerio;\n};\n\n/**\n * Retrieve all the DOM elements contained in the jQuery set as an array.\n *\n * @example\n * $('li').toArray()\n * //=> [ {...}, {...}, {...} ]\n */\nCheerio.prototype.toArray = function () {\n  return this.get();\n};\n\n// Support for (const element of $(...)) iteration:\nif (typeof Symbol !== 'undefined') {\n  Cheerio.prototype[Symbol.iterator] = Array.prototype[Symbol.iterator];\n}\n\n// Plug in the API\napi.forEach(function (mod) {\n  Object.assign(Cheerio.prototype, mod);\n});\n\nvar isNode = function (obj) {\n  return (\n    obj.name ||\n    obj.type === 'root' ||\n    obj.type === 'text' ||\n    obj.type === 'comment'\n  );\n};\n",
    "/*\n * Cheerio default options\n */\n\nexports.default = {\n  xml: false,\n  decodeEntities: true,\n};\n\nvar xmlModeDefault = { _useHtmlParser2: true, xmlMode: true };\n\nexports.flatten = function (options) {\n  return options && options.xml\n    ? typeof options.xml === 'boolean'\n      ? xmlModeDefault\n      : Object.assign({}, xmlModeDefault, options.xml)\n    : options;\n};\n",
    "/*\n  Module Dependencies\n*/\nvar htmlparser = require('htmlparser2');\nvar parse5 = require('parse5');\nvar htmlparser2Adapter = require('parse5-htmlparser2-tree-adapter');\nvar domhandler = require('domhandler');\nvar DomUtils = htmlparser.DomUtils;\n\n/*\n  Parser\n*/\nexports = module.exports = function parse(content, options, isDocument) {\n  // options = options || $.fn.options;\n\n  var dom;\n\n  if (typeof Buffer !== 'undefined' && Buffer.isBuffer(content)) {\n    content = content.toString();\n  }\n\n  if (typeof content === 'string') {\n    var useHtmlParser2 = options.xmlMode || options._useHtmlParser2;\n\n    dom = useHtmlParser2\n      ? htmlparser.parseDocument(content, options)\n      : parseWithParse5(content, options, isDocument);\n  } else {\n    if (\n      typeof content === 'object' &&\n      content != null &&\n      content.type === 'root'\n    ) {\n      dom = content;\n    } else {\n      // Generic root element\n      var root = new domhandler.Document(content);\n      content.forEach(function (node) {\n        node.parent = root;\n      });\n\n      dom = root;\n    }\n  }\n\n  return dom;\n};\n\nfunction parseWithParse5(content, options, isDocument) {\n  var parse = isDocument ? parse5.parse : parse5.parseFragment;\n\n  return parse(content, {\n    treeAdapter: htmlparser2Adapter,\n    sourceCodeLocationInfo: options.sourceCodeLocationInfo,\n  });\n}\n\n/*\n  Update the dom structure, for one changed layer\n*/\nexports.update = function (arr, parent) {\n  // normalize\n  if (!Array.isArray(arr)) arr = [arr];\n\n  // Update parent\n  if (parent) {\n    parent.children = arr;\n  } else {\n    parent = null;\n  }\n\n  // Update neighbors\n  for (var i = 0; i < arr.length; i++) {\n    var node = arr[i];\n\n    // Cleanly remove existing nodes from their previous structures.\n    if (node.parent && node.parent.children !== arr) {\n      DomUtils.removeElement(node);\n    }\n\n    if (parent) {\n      node.prev = arr[i - 1] || null;\n      node.next = arr[i + 1] || null;\n    } else {\n      node.prev = node.next = null;\n    }\n\n    node.parent = parent;\n  }\n\n  return parent;\n};\n",
    "var htmlparser2Adapter = require('parse5-htmlparser2-tree-adapter');\n\n/**\n * @module cheerio/static\n * @ignore\n */\n\nvar serialize = require('dom-serializer').default;\nvar defaultOptions = require('./options').default;\nvar flattenOptions = require('./options').flatten;\nvar select = require('cheerio-select-tmp').select;\nvar parse5 = require('parse5');\nvar parse = require('./parse');\n\n/**\n * Create a querying function, bound to a document created from the provided\n * markup. Note that similar to web browser contexts, this operation may\n * introduce `<html>`, `<head>`, and `<body>` elements; set `isDocument` to `false`\n * to switch to fragment mode and disable this.\n *\n * See the README section titled \"Loading\" for additional usage information.\n *\n * @param {string} content - Markup to be loaded.\n * @param {object} [options] - Options for the created instance.\n * @param {boolean} [isDocument] - Allows parser to be switched to fragment mode.\n *\n */\nexports.load = function (content, options, isDocument) {\n  if (content === null || content === undefined) {\n    throw new Error('cheerio.load() expects a string');\n  }\n\n  var Cheerio = require('./cheerio');\n\n  options = Object.assign({}, defaultOptions, flattenOptions(options));\n\n  if (isDocument === void 0) isDocument = true;\n\n  var root = parse(content, options, isDocument);\n\n  var initialize = function (selector, context, r, opts) {\n    if (!(this instanceof initialize)) {\n      return new initialize(selector, context, r, opts);\n    }\n    opts = Object.assign({}, options, opts);\n    return Cheerio.call(this, selector, context, r || root, opts);\n  };\n\n  // Ensure that selections created by the \"loaded\" `initialize` function are\n  // true Cheerio instances.\n  initialize.prototype = Object.create(Cheerio.prototype);\n  initialize.prototype.constructor = initialize;\n\n  // Mimic jQuery's prototype alias for plugin authors.\n  initialize.fn = initialize.prototype;\n\n  // Keep a reference to the top-level scope so we can chain methods that implicitly\n  // resolve selectors; e.g. $(\"<span>\").(\".bar\"), which otherwise loses ._root\n  initialize.prototype._originalRoot = root;\n\n  // Add in the static methods\n  Object.assign(initialize, exports);\n\n  // Add in the root\n  initialize._root = root;\n  // store options\n  initialize._options = options;\n\n  return initialize;\n};\n\n/*\n * Helper function\n */\n\nfunction render(that, dom, options) {\n  if (!dom) {\n    if (that._root && that._root.children) {\n      dom = that._root.children;\n    } else {\n      return '';\n    }\n  } else if (typeof dom === 'string') {\n    dom = select(dom, that._root, options);\n  }\n\n  if (options.xmlMode || options._useHtmlParser2) {\n    return serialize(dom, options);\n  }\n\n  // `dom-serializer` passes over the special \"root\" node and renders the\n  // node's children in its place. To mimic this behavior with `parse5`, an\n  // equivalent operation must be applied to the input array.\n  var nodes = 'length' in dom ? dom : [dom];\n  for (var index = 0; index < nodes.length; index += 1) {\n    if (nodes[index].type === 'root') {\n      nodes.splice.apply(nodes, [index, 1].concat(nodes[index].children));\n    }\n  }\n\n  return parse5.serialize(\n    { children: nodes },\n    { treeAdapter: htmlparser2Adapter }\n  );\n}\n\n/**\n * Renders the document.\n *\n * @param {string|cheerio|node} [dom] - Element to render.\n * @param {object} [options] - Options for the renderer.\n */\nexports.html = function (dom, options) {\n  // be flexible about parameters, sometimes we call html(),\n  // with options as only parameter\n  // check dom argument for dom element specific properties\n  // assume there is no 'length' or 'type' properties in the options object\n  if (\n    Object.prototype.toString.call(dom) === '[object Object]' &&\n    !options &&\n    !('length' in dom) &&\n    !('type' in dom)\n  ) {\n    options = dom;\n    dom = undefined;\n  }\n\n  // sometimes $.html() used without preloading html\n  // so fallback non existing options to the default ones\n  options = Object.assign(\n    {},\n    defaultOptions,\n    this._options,\n    flattenOptions(options || {})\n  );\n\n  return render(this, dom, options);\n};\n\n/**\n * Render the document as XML.\n *\n * @param {string|cheerio|node} [dom] - Element to render.\n */\nexports.xml = function (dom) {\n  var options = Object.assign({}, this._options, { xmlMode: true });\n\n  return render(this, dom, options);\n};\n\n/**\n * Render the document as text.\n *\n * @param {string|cheerio|node} [elems] - Elements to render.\n */\nexports.text = function (elems) {\n  if (!elems) {\n    elems = this.root();\n  }\n\n  var ret = '';\n  var len = elems.length;\n  var elem;\n\n  for (var i = 0; i < len; i++) {\n    elem = elems[i];\n    if (elem.type === 'text') ret += elem.data;\n    else if (\n      elem.children &&\n      elem.type !== 'comment' &&\n      elem.tagName !== 'script' &&\n      elem.tagName !== 'style'\n    ) {\n      ret += exports.text(elem.children);\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Parses a string into an array of DOM nodes. The `context` argument has no\n * meaning for Cheerio, but it is maintained for API compatibility with jQuery.\n *\n * @param {string} data - Markup that will be parsed.\n * @param {any|boolean} [context] - Will be ignored. If it is a boolean it will be used as the value of `keepScripts`.\n * @param {boolean} [keepScripts] - If false all scripts will be removed.\n *\n * @alias Cheerio.parseHTML\n * @see {@link https://api.jquery.com/jQuery.parseHTML/}\n */\nexports.parseHTML = function (data, context, keepScripts) {\n  var parsed;\n\n  if (!data || typeof data !== 'string') {\n    return null;\n  }\n\n  if (typeof context === 'boolean') {\n    keepScripts = context;\n  }\n\n  parsed = this.load(data, defaultOptions, false);\n  if (!keepScripts) {\n    parsed('script').remove();\n  }\n\n  // The `children` array is used by Cheerio internally to group elements that\n  // share the same parents. When nodes created through `parseHTML` are\n  // inserted into previously-existing DOM structures, they will be removed\n  // from the `children` array. The results of `parseHTML` should remain\n  // constant across these operations, so a shallow copy should be returned.\n  return parsed.root()[0].children.slice();\n};\n\n/**\n * Sometimes you need to work with the top-level root element. To query it, you\n * can use `$.root()`.\n *\n * @alias Cheerio.root\n *\n * @example\n * $.root().append('<ul id=\"vegetables\"></ul>').html();\n * //=> <ul id=\"fruits\">...</ul><ul id=\"vegetables\"></ul>\n */\nexports.root = function () {\n  return this(this._root);\n};\n\n/**\n * Checks to see if the `contained` DOM element is a descendant of the\n * `container` DOM element.\n *\n * @param {node} container - Potential parent node.\n * @param {node} contained - Potential child node.\n * @returns {boolean}\n *\n * @alias Cheerio.contains\n * @see {@link https://api.jquery.com/jQuery.contains}\n */\nexports.contains = function (container, contained) {\n  // According to the jQuery API, an element does not \"contain\" itself\n  if (contained === container) {\n    return false;\n  }\n\n  // Step up the descendants, stopping when the root element is reached\n  // (signaled by `.parent` returning a reference to the same object)\n  while (contained && contained !== contained.parent) {\n    contained = contained.parent;\n    if (contained === container) {\n      return true;\n    }\n  }\n\n  return false;\n};\n\n/**\n * $.merge().\n *\n * @param {Array|cheerio} arr1 - First array.\n * @param {Array|cheerio} arr2 - Second array.\n *\n * @alias Cheerio.merge\n * @see {@link https://api.jquery.com/jQuery.merge}\n */\nexports.merge = function (arr1, arr2) {\n  if (!isArrayLike(arr1) || !isArrayLike(arr2)) {\n    return;\n  }\n  var newLength = arr1.length + arr2.length;\n  for (var i = 0; i < arr2.length; i++) {\n    arr1[i + arr1.length] = arr2[i];\n  }\n  arr1.length = newLength;\n  return arr1;\n};\n\nfunction isArrayLike(item) {\n  if (Array.isArray(item)) {\n    return true;\n  }\n\n  if (\n    typeof item !== 'object' ||\n    !Object.prototype.hasOwnProperty.call(item, 'length') ||\n    typeof item.length !== 'number' ||\n    item.length < 0\n  ) {\n    return false;\n  }\n\n  for (var i = 0; i < item.length; i++) {\n    if (!(i in item)) {\n      return false;\n    }\n  }\n  return true;\n}\n",
    "var htmlparser2 = require('htmlparser2');\nvar domhandler = require('domhandler');\n\n/**\n * Check if the DOM element is a tag.\n *\n * `isTag(type)` includes `<script>` and `<style>` tags.\n *\n * @param {node} type - DOM node to check.\n * @returns {boolean}\n *\n * @private\n */\nexports.isTag = htmlparser2.DomUtils.isTag;\n\n/**\n * Convert a string to camel case notation.\n *\n * @param  {string} str - String to be converted.\n * @returns {string}      String in camel case notation.\n *\n * @private\n */\nexports.camelCase = function (str) {\n  return str.replace(/[_.-](\\w|$)/g, function (_, x) {\n    return x.toUpperCase();\n  });\n};\n\n/**\n * Convert a string from camel case to \"CSS case\", where word boundaries are\n * described by hyphens (\"-\") and all characters are lower-case.\n *\n * @param  {string} str - String to be converted.\n * @returns {string}      String in \"CSS case\".\n *\n * @private\n */\nexports.cssCase = function (str) {\n  return str.replace(/[A-Z]/g, '-$&').toLowerCase();\n};\n\n/**\n * Iterate over each DOM element without creating intermediary Cheerio\n * instances.\n *\n * This is indented for use internally to avoid otherwise unnecessary memory\n * pressure introduced by _make.\n *\n * @param {cheerio} cheerio - Cheerio object.\n * @param {Function} fn - Function to call.\n */\nexports.domEach = function (cheerio, fn) {\n  var i = 0;\n  var len = cheerio.length;\n  while (i < len && fn.call(cheerio, i, cheerio[i]) !== false) ++i;\n  return cheerio;\n};\n\n/**\n * Create a deep copy of the given DOM structure.\n * Sets the parents of the copies of the passed nodes to `null`.\n *\n * @param {object} dom - The htmlparser2-compliant DOM structure.\n * @private\n */\nexports.cloneDom = function (dom) {\n  var clone =\n    'length' in dom\n      ? Array.prototype.map.call(dom, function (el) {\n          return domhandler.cloneNode(el, true);\n        })\n      : [domhandler.cloneNode(dom, true)];\n\n  // Add a root node around the cloned nodes\n  var root = new domhandler.Document(clone);\n  clone.forEach(function (node) {\n    node.parent = root;\n  });\n\n  return clone;\n};\n\n/*\n * A simple way to check for HTML strings or ID strings\n */\nvar quickExpr = /^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w-]*)$)/;\n\n/**\n * Check if string is HTML.\n *\n * @param {string} str - String to check.\n *\n * @private\n */\nexports.isHtml = function (str) {\n  // Faster than running regex, if str starts with `<` and ends with `>`, assume it's HTML\n  if (\n    str.charAt(0) === '<' &&\n    str.charAt(str.length - 1) === '>' &&\n    str.length >= 3\n  ) {\n    return true;\n  }\n\n  // Run the regex\n  var match = quickExpr.exec(str);\n  return !!(match && match[1]);\n};\n",
    "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseFeed = exports.FeedHandler = void 0;\nvar domhandler_1 = __importDefault(require(\"domhandler\"));\nvar DomUtils = __importStar(require(\"domutils\"));\nvar Parser_1 = require(\"./Parser\");\nvar FeedItemMediaMedium;\n(function (FeedItemMediaMedium) {\n    FeedItemMediaMedium[FeedItemMediaMedium[\"image\"] = 0] = \"image\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"audio\"] = 1] = \"audio\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"video\"] = 2] = \"video\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"document\"] = 3] = \"document\";\n    FeedItemMediaMedium[FeedItemMediaMedium[\"executable\"] = 4] = \"executable\";\n})(FeedItemMediaMedium || (FeedItemMediaMedium = {}));\nvar FeedItemMediaExpression;\n(function (FeedItemMediaExpression) {\n    FeedItemMediaExpression[FeedItemMediaExpression[\"sample\"] = 0] = \"sample\";\n    FeedItemMediaExpression[FeedItemMediaExpression[\"full\"] = 1] = \"full\";\n    FeedItemMediaExpression[FeedItemMediaExpression[\"nonstop\"] = 2] = \"nonstop\";\n})(FeedItemMediaExpression || (FeedItemMediaExpression = {}));\n// TODO: Consume data as it is coming in\nvar FeedHandler = /** @class */ (function (_super) {\n    __extends(FeedHandler, _super);\n    /**\n     *\n     * @param callback\n     * @param options\n     */\n    function FeedHandler(callback, options) {\n        var _this = this;\n        if (typeof callback === \"object\") {\n            callback = undefined;\n            options = callback;\n        }\n        _this = _super.call(this, callback, options) || this;\n        return _this;\n    }\n    FeedHandler.prototype.onend = function () {\n        var _a, _b;\n        var feedRoot = getOneElement(isValidFeed, this.dom);\n        if (!feedRoot) {\n            this.handleCallback(new Error(\"couldn't find root of feed\"));\n            return;\n        }\n        var feed = {};\n        if (feedRoot.name === \"feed\") {\n            var childs = feedRoot.children;\n            feed.type = \"atom\";\n            addConditionally(feed, \"id\", \"id\", childs);\n            addConditionally(feed, \"title\", \"title\", childs);\n            var href = getAttribute(\"href\", getOneElement(\"link\", childs));\n            if (href) {\n                feed.link = href;\n            }\n            addConditionally(feed, \"description\", \"subtitle\", childs);\n            var updated = fetch(\"updated\", childs);\n            if (updated) {\n                feed.updated = new Date(updated);\n            }\n            addConditionally(feed, \"author\", \"email\", childs, true);\n            feed.items = getElements(\"entry\", childs).map(function (item) {\n                var entry = {};\n                var children = item.children;\n                addConditionally(entry, \"id\", \"id\", children);\n                addConditionally(entry, \"title\", \"title\", children);\n                var href = getAttribute(\"href\", getOneElement(\"link\", children));\n                if (href) {\n                    entry.link = href;\n                }\n                var description = fetch(\"summary\", children) || fetch(\"content\", children);\n                if (description) {\n                    entry.description = description;\n                }\n                var pubDate = fetch(\"updated\", children);\n                if (pubDate) {\n                    entry.pubDate = new Date(pubDate);\n                }\n                entry.media = getMediaElements(children);\n                return entry;\n            });\n        }\n        else {\n            var childs = (_b = (_a = getOneElement(\"channel\", feedRoot.children)) === null || _a === void 0 ? void 0 : _a.children) !== null && _b !== void 0 ? _b : [];\n            feed.type = feedRoot.name.substr(0, 3);\n            feed.id = \"\";\n            addConditionally(feed, \"title\", \"title\", childs);\n            addConditionally(feed, \"link\", \"link\", childs);\n            addConditionally(feed, \"description\", \"description\", childs);\n            var updated = fetch(\"lastBuildDate\", childs);\n            if (updated) {\n                feed.updated = new Date(updated);\n            }\n            addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n            feed.items = getElements(\"item\", feedRoot.children).map(function (item) {\n                var entry = {};\n                var children = item.children;\n                addConditionally(entry, \"id\", \"guid\", children);\n                addConditionally(entry, \"title\", \"title\", children);\n                addConditionally(entry, \"link\", \"link\", children);\n                addConditionally(entry, \"description\", \"description\", children);\n                var pubDate = fetch(\"pubDate\", children);\n                if (pubDate)\n                    entry.pubDate = new Date(pubDate);\n                entry.media = getMediaElements(children);\n                return entry;\n            });\n        }\n        this.feed = feed;\n        this.handleCallback(null);\n    };\n    return FeedHandler;\n}(domhandler_1.default));\nexports.FeedHandler = FeedHandler;\nfunction getMediaElements(where) {\n    return getElements(\"media:content\", where).map(function (elem) {\n        var media = {\n            medium: elem.attribs.medium,\n            isDefault: !!elem.attribs.isDefault,\n        };\n        if (elem.attribs.url) {\n            media.url = elem.attribs.url;\n        }\n        if (elem.attribs.fileSize) {\n            media.fileSize = parseInt(elem.attribs.fileSize, 10);\n        }\n        if (elem.attribs.type) {\n            media.type = elem.attribs.type;\n        }\n        if (elem.attribs.expression) {\n            media.expression = elem.attribs\n                .expression;\n        }\n        if (elem.attribs.bitrate) {\n            media.bitrate = parseInt(elem.attribs.bitrate, 10);\n        }\n        if (elem.attribs.framerate) {\n            media.framerate = parseInt(elem.attribs.framerate, 10);\n        }\n        if (elem.attribs.samplingrate) {\n            media.samplingrate = parseInt(elem.attribs.samplingrate, 10);\n        }\n        if (elem.attribs.channels) {\n            media.channels = parseInt(elem.attribs.channels, 10);\n        }\n        if (elem.attribs.duration) {\n            media.duration = parseInt(elem.attribs.duration, 10);\n        }\n        if (elem.attribs.height) {\n            media.height = parseInt(elem.attribs.height, 10);\n        }\n        if (elem.attribs.width) {\n            media.width = parseInt(elem.attribs.width, 10);\n        }\n        if (elem.attribs.lang) {\n            media.lang = elem.attribs.lang;\n        }\n        return media;\n    });\n}\nfunction getElements(tagName, where) {\n    return DomUtils.getElementsByTagName(tagName, where, true);\n}\nfunction getOneElement(tagName, node) {\n    return DomUtils.getElementsByTagName(tagName, node, true, 1)[0];\n}\nfunction fetch(tagName, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    return DomUtils.getText(DomUtils.getElementsByTagName(tagName, where, recurse, 1)).trim();\n}\nfunction getAttribute(name, elem) {\n    if (!elem) {\n        return null;\n    }\n    var attribs = elem.attribs;\n    return attribs[name];\n}\nfunction addConditionally(obj, prop, what, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    var tmp = fetch(what, where, recurse);\n    if (tmp)\n        obj[prop] = tmp;\n}\nfunction isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n}\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this option, you should set `xmlMode` to `true`.\n */\nfunction parseFeed(feed, options) {\n    if (options === void 0) { options = { xmlMode: true }; }\n    var handler = new FeedHandler(options);\n    new Parser_1.Parser(handler, options).end(feed);\n    return handler.feed;\n}\nexports.parseFeed = parseFeed;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Parser = void 0;\nvar Tokenizer_1 = __importDefault(require(\"./Tokenizer\"));\nvar formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\",\n]);\nvar pTag = new Set([\"p\"]);\nvar openImpliesClose = {\n    tr: new Set([\"tr\", \"th\", \"td\"]),\n    th: new Set([\"th\"]),\n    td: new Set([\"thead\", \"th\", \"td\"]),\n    body: new Set([\"head\", \"link\", \"script\"]),\n    li: new Set([\"li\"]),\n    p: pTag,\n    h1: pTag,\n    h2: pTag,\n    h3: pTag,\n    h4: pTag,\n    h5: pTag,\n    h6: pTag,\n    select: formTags,\n    input: formTags,\n    output: formTags,\n    button: formTags,\n    datalist: formTags,\n    textarea: formTags,\n    option: new Set([\"option\"]),\n    optgroup: new Set([\"optgroup\", \"option\"]),\n    dd: new Set([\"dt\", \"dd\"]),\n    dt: new Set([\"dt\", \"dd\"]),\n    address: pTag,\n    article: pTag,\n    aside: pTag,\n    blockquote: pTag,\n    details: pTag,\n    div: pTag,\n    dl: pTag,\n    fieldset: pTag,\n    figcaption: pTag,\n    figure: pTag,\n    footer: pTag,\n    form: pTag,\n    header: pTag,\n    hr: pTag,\n    main: pTag,\n    nav: pTag,\n    ol: pTag,\n    pre: pTag,\n    section: pTag,\n    table: pTag,\n    ul: pTag,\n    rt: new Set([\"rt\", \"rp\"]),\n    rp: new Set([\"rt\", \"rp\"]),\n    tbody: new Set([\"thead\", \"tbody\"]),\n    tfoot: new Set([\"thead\", \"tbody\"]),\n};\nvar voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\nvar foreignContextElements = new Set([\"math\", \"svg\"]);\nvar htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nvar reNameEnd = /\\s|\\//;\nvar Parser = /** @class */ (function () {\n    function Parser(cbs, options) {\n        if (options === void 0) { options = {}; }\n        var _a, _b, _c, _d, _e;\n        /** The start index of the last event. */\n        this.startIndex = 0;\n        /** The end index of the last event. */\n        this.endIndex = null;\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n        this.attribs = null;\n        this.stack = [];\n        this.foreignContext = [];\n        this.options = options;\n        this.cbs = cbs !== null && cbs !== void 0 ? cbs : {};\n        this.lowerCaseTagNames = (_a = options.lowerCaseTags) !== null && _a !== void 0 ? _a : !options.xmlMode;\n        this.lowerCaseAttributeNames =\n            (_b = options.lowerCaseAttributeNames) !== null && _b !== void 0 ? _b : !options.xmlMode;\n        this.tokenizer = new ((_c = options.Tokenizer) !== null && _c !== void 0 ? _c : Tokenizer_1.default)(this.options, this);\n        (_e = (_d = this.cbs).onparserinit) === null || _e === void 0 ? void 0 : _e.call(_d, this);\n    }\n    Parser.prototype.updatePosition = function (initialOffset) {\n        if (this.endIndex === null) {\n            if (this.tokenizer.sectionStart <= initialOffset) {\n                this.startIndex = 0;\n            }\n            else {\n                this.startIndex = this.tokenizer.sectionStart - initialOffset;\n            }\n        }\n        else {\n            this.startIndex = this.endIndex + 1;\n        }\n        this.endIndex = this.tokenizer.getAbsoluteIndex();\n    };\n    // Tokenizer event handlers\n    Parser.prototype.ontext = function (data) {\n        var _a, _b;\n        this.updatePosition(1);\n        this.endIndex--;\n        (_b = (_a = this.cbs).ontext) === null || _b === void 0 ? void 0 : _b.call(_a, data);\n    };\n    Parser.prototype.onopentagname = function (name) {\n        var _a, _b;\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        this.tagname = name;\n        if (!this.options.xmlMode &&\n            Object.prototype.hasOwnProperty.call(openImpliesClose, name)) {\n            var el = void 0;\n            while (this.stack.length > 0 &&\n                openImpliesClose[name].has((el = this.stack[this.stack.length - 1]))) {\n                this.onclosetag(el);\n            }\n        }\n        if (this.options.xmlMode || !voidElements.has(name)) {\n            this.stack.push(name);\n            if (foreignContextElements.has(name)) {\n                this.foreignContext.push(true);\n            }\n            else if (htmlIntegrationElements.has(name)) {\n                this.foreignContext.push(false);\n            }\n        }\n        (_b = (_a = this.cbs).onopentagname) === null || _b === void 0 ? void 0 : _b.call(_a, name);\n        if (this.cbs.onopentag)\n            this.attribs = {};\n    };\n    Parser.prototype.onopentagend = function () {\n        var _a, _b;\n        this.updatePosition(1);\n        if (this.attribs) {\n            (_b = (_a = this.cbs).onopentag) === null || _b === void 0 ? void 0 : _b.call(_a, this.tagname, this.attribs);\n            this.attribs = null;\n        }\n        if (!this.options.xmlMode &&\n            this.cbs.onclosetag &&\n            voidElements.has(this.tagname)) {\n            this.cbs.onclosetag(this.tagname);\n        }\n        this.tagname = \"\";\n    };\n    Parser.prototype.onclosetag = function (name) {\n        this.updatePosition(1);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        if (foreignContextElements.has(name) ||\n            htmlIntegrationElements.has(name)) {\n            this.foreignContext.pop();\n        }\n        if (this.stack.length &&\n            (this.options.xmlMode || !voidElements.has(name))) {\n            var pos = this.stack.lastIndexOf(name);\n            if (pos !== -1) {\n                if (this.cbs.onclosetag) {\n                    pos = this.stack.length - pos;\n                    while (pos--) {\n                        // We know the stack has sufficient elements.\n                        this.cbs.onclosetag(this.stack.pop());\n                    }\n                }\n                else\n                    this.stack.length = pos;\n            }\n            else if (name === \"p\" && !this.options.xmlMode) {\n                this.onopentagname(name);\n                this.closeCurrentTag();\n            }\n        }\n        else if (!this.options.xmlMode && (name === \"br\" || name === \"p\")) {\n            this.onopentagname(name);\n            this.closeCurrentTag();\n        }\n    };\n    Parser.prototype.onselfclosingtag = function () {\n        if (this.options.xmlMode ||\n            this.options.recognizeSelfClosing ||\n            this.foreignContext[this.foreignContext.length - 1]) {\n            this.closeCurrentTag();\n        }\n        else {\n            this.onopentagend();\n        }\n    };\n    Parser.prototype.closeCurrentTag = function () {\n        var _a, _b;\n        var name = this.tagname;\n        this.onopentagend();\n        /*\n         * Self-closing tags will be on the top of the stack\n         * (cheaper check than in onclosetag)\n         */\n        if (this.stack[this.stack.length - 1] === name) {\n            (_b = (_a = this.cbs).onclosetag) === null || _b === void 0 ? void 0 : _b.call(_a, name);\n            this.stack.pop();\n        }\n    };\n    Parser.prototype.onattribname = function (name) {\n        if (this.lowerCaseAttributeNames) {\n            name = name.toLowerCase();\n        }\n        this.attribname = name;\n    };\n    Parser.prototype.onattribdata = function (value) {\n        this.attribvalue += value;\n    };\n    Parser.prototype.onattribend = function (quote) {\n        var _a, _b;\n        (_b = (_a = this.cbs).onattribute) === null || _b === void 0 ? void 0 : _b.call(_a, this.attribname, this.attribvalue, quote);\n        if (this.attribs &&\n            !Object.prototype.hasOwnProperty.call(this.attribs, this.attribname)) {\n            this.attribs[this.attribname] = this.attribvalue;\n        }\n        this.attribname = \"\";\n        this.attribvalue = \"\";\n    };\n    Parser.prototype.getInstructionName = function (value) {\n        var idx = value.search(reNameEnd);\n        var name = idx < 0 ? value : value.substr(0, idx);\n        if (this.lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        return name;\n    };\n    Parser.prototype.ondeclaration = function (value) {\n        if (this.cbs.onprocessinginstruction) {\n            var name_1 = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(\"!\" + name_1, \"!\" + value);\n        }\n    };\n    Parser.prototype.onprocessinginstruction = function (value) {\n        if (this.cbs.onprocessinginstruction) {\n            var name_2 = this.getInstructionName(value);\n            this.cbs.onprocessinginstruction(\"?\" + name_2, \"?\" + value);\n        }\n    };\n    Parser.prototype.oncomment = function (value) {\n        var _a, _b, _c, _d;\n        this.updatePosition(4);\n        (_b = (_a = this.cbs).oncomment) === null || _b === void 0 ? void 0 : _b.call(_a, value);\n        (_d = (_c = this.cbs).oncommentend) === null || _d === void 0 ? void 0 : _d.call(_c);\n    };\n    Parser.prototype.oncdata = function (value) {\n        var _a, _b, _c, _d, _e, _f;\n        this.updatePosition(1);\n        if (this.options.xmlMode || this.options.recognizeCDATA) {\n            (_b = (_a = this.cbs).oncdatastart) === null || _b === void 0 ? void 0 : _b.call(_a);\n            (_d = (_c = this.cbs).ontext) === null || _d === void 0 ? void 0 : _d.call(_c, value);\n            (_f = (_e = this.cbs).oncdataend) === null || _f === void 0 ? void 0 : _f.call(_e);\n        }\n        else {\n            this.oncomment(\"[CDATA[\" + value + \"]]\");\n        }\n    };\n    Parser.prototype.onerror = function (err) {\n        var _a, _b;\n        (_b = (_a = this.cbs).onerror) === null || _b === void 0 ? void 0 : _b.call(_a, err);\n    };\n    Parser.prototype.onend = function () {\n        var _a, _b;\n        if (this.cbs.onclosetag) {\n            for (var i = this.stack.length; i > 0; this.cbs.onclosetag(this.stack[--i]))\n                ;\n        }\n        (_b = (_a = this.cbs).onend) === null || _b === void 0 ? void 0 : _b.call(_a);\n    };\n    /**\n     * Resets the parser to a blank state, ready to parse a new HTML document\n     */\n    Parser.prototype.reset = function () {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.cbs).onreset) === null || _b === void 0 ? void 0 : _b.call(_a);\n        this.tokenizer.reset();\n        this.tagname = \"\";\n        this.attribname = \"\";\n        this.attribs = null;\n        this.stack = [];\n        (_d = (_c = this.cbs).onparserinit) === null || _d === void 0 ? void 0 : _d.call(_c, this);\n    };\n    /**\n     * Resets the parser, then parses a complete document and\n     * pushes it to the handler.\n     *\n     * @param data Document to parse.\n     */\n    Parser.prototype.parseComplete = function (data) {\n        this.reset();\n        this.end(data);\n    };\n    /**\n     * Parses a chunk of data and calls the corresponding callbacks.\n     *\n     * @param chunk Chunk to parse.\n     */\n    Parser.prototype.write = function (chunk) {\n        this.tokenizer.write(chunk);\n    };\n    /**\n     * Parses the end of the buffer and clears the stack, calls onend.\n     *\n     * @param chunk Optional final chunk to parse.\n     */\n    Parser.prototype.end = function (chunk) {\n        this.tokenizer.end(chunk);\n    };\n    /**\n     * Pauses parsing. The parser won't emit events until `resume` is called.\n     */\n    Parser.prototype.pause = function () {\n        this.tokenizer.pause();\n    };\n    /**\n     * Resumes parsing after `pause` was called.\n     */\n    Parser.prototype.resume = function () {\n        this.tokenizer.resume();\n    };\n    /**\n     * Alias of `write`, for backwards compatibility.\n     *\n     * @param chunk Chunk to parse.\n     * @deprecated\n     */\n    Parser.prototype.parseChunk = function (chunk) {\n        this.write(chunk);\n    };\n    /**\n     * Alias of `end`, for backwards compatibility.\n     *\n     * @param chunk Optional final chunk to parse.\n     * @deprecated\n     */\n    Parser.prototype.done = function (chunk) {\n        this.end(chunk);\n    };\n    return Parser;\n}());\nexports.Parser = Parser;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_codepoint_1 = __importDefault(require(\"entities/lib/decode_codepoint\"));\nvar entities_json_1 = __importDefault(require(\"entities/lib/maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"entities/lib/maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"entities/lib/maps/xml.json\"));\nfunction whitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\nfunction isASCIIAlpha(c) {\n    return (c >= \"a\" && c <= \"z\") || (c >= \"A\" && c <= \"Z\");\n}\nfunction ifElseState(upper, SUCCESS, FAILURE) {\n    var lower = upper.toLowerCase();\n    if (upper === lower) {\n        return function (t, c) {\n            if (c === lower) {\n                t._state = SUCCESS;\n            }\n            else {\n                t._state = FAILURE;\n                t._index--;\n            }\n        };\n    }\n    return function (t, c) {\n        if (c === lower || c === upper) {\n            t._state = SUCCESS;\n        }\n        else {\n            t._state = FAILURE;\n            t._index--;\n        }\n    };\n}\nfunction consumeSpecialNameChar(upper, NEXT_STATE) {\n    var lower = upper.toLowerCase();\n    return function (t, c) {\n        if (c === lower || c === upper) {\n            t._state = NEXT_STATE;\n        }\n        else {\n            t._state = 3 /* InTagName */;\n            t._index--; // Consume the token again\n        }\n    };\n}\nvar stateBeforeCdata1 = ifElseState(\"C\", 24 /* BeforeCdata2 */, 16 /* InDeclaration */);\nvar stateBeforeCdata2 = ifElseState(\"D\", 25 /* BeforeCdata3 */, 16 /* InDeclaration */);\nvar stateBeforeCdata3 = ifElseState(\"A\", 26 /* BeforeCdata4 */, 16 /* InDeclaration */);\nvar stateBeforeCdata4 = ifElseState(\"T\", 27 /* BeforeCdata5 */, 16 /* InDeclaration */);\nvar stateBeforeCdata5 = ifElseState(\"A\", 28 /* BeforeCdata6 */, 16 /* InDeclaration */);\nvar stateBeforeScript1 = consumeSpecialNameChar(\"R\", 35 /* BeforeScript2 */);\nvar stateBeforeScript2 = consumeSpecialNameChar(\"I\", 36 /* BeforeScript3 */);\nvar stateBeforeScript3 = consumeSpecialNameChar(\"P\", 37 /* BeforeScript4 */);\nvar stateBeforeScript4 = consumeSpecialNameChar(\"T\", 38 /* BeforeScript5 */);\nvar stateAfterScript1 = ifElseState(\"R\", 40 /* AfterScript2 */, 1 /* Text */);\nvar stateAfterScript2 = ifElseState(\"I\", 41 /* AfterScript3 */, 1 /* Text */);\nvar stateAfterScript3 = ifElseState(\"P\", 42 /* AfterScript4 */, 1 /* Text */);\nvar stateAfterScript4 = ifElseState(\"T\", 43 /* AfterScript5 */, 1 /* Text */);\nvar stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", 45 /* BeforeStyle2 */);\nvar stateBeforeStyle2 = consumeSpecialNameChar(\"L\", 46 /* BeforeStyle3 */);\nvar stateBeforeStyle3 = consumeSpecialNameChar(\"E\", 47 /* BeforeStyle4 */);\nvar stateAfterStyle1 = ifElseState(\"Y\", 49 /* AfterStyle2 */, 1 /* Text */);\nvar stateAfterStyle2 = ifElseState(\"L\", 50 /* AfterStyle3 */, 1 /* Text */);\nvar stateAfterStyle3 = ifElseState(\"E\", 51 /* AfterStyle4 */, 1 /* Text */);\nvar stateBeforeSpecialT = consumeSpecialNameChar(\"I\", 54 /* BeforeTitle1 */);\nvar stateBeforeTitle1 = consumeSpecialNameChar(\"T\", 55 /* BeforeTitle2 */);\nvar stateBeforeTitle2 = consumeSpecialNameChar(\"L\", 56 /* BeforeTitle3 */);\nvar stateBeforeTitle3 = consumeSpecialNameChar(\"E\", 57 /* BeforeTitle4 */);\nvar stateAfterSpecialTEnd = ifElseState(\"I\", 58 /* AfterTitle1 */, 1 /* Text */);\nvar stateAfterTitle1 = ifElseState(\"T\", 59 /* AfterTitle2 */, 1 /* Text */);\nvar stateAfterTitle2 = ifElseState(\"L\", 60 /* AfterTitle3 */, 1 /* Text */);\nvar stateAfterTitle3 = ifElseState(\"E\", 61 /* AfterTitle4 */, 1 /* Text */);\nvar stateBeforeEntity = ifElseState(\"#\", 63 /* BeforeNumericEntity */, 64 /* InNamedEntity */);\nvar stateBeforeNumericEntity = ifElseState(\"X\", 66 /* InHexEntity */, 65 /* InNumericEntity */);\nvar Tokenizer = /** @class */ (function () {\n    function Tokenizer(options, cbs) {\n        var _a;\n        /** The current state the tokenizer is in. */\n        this._state = 1 /* Text */;\n        /** The read buffer. */\n        this.buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this.sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this._index = 0;\n        /**\n         * Data that has already been processed will be removed from the buffer occasionally.\n         * `_bufferOffset` keeps track of how many characters have been removed, to make sure position information is accurate.\n         */\n        this.bufferOffset = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this.baseState = 1 /* Text */;\n        /** For special parsing behavior inside of script and style tags. */\n        this.special = 1 /* None */;\n        /** Indicates whether the tokenizer has been paused. */\n        this.running = true;\n        /** Indicates whether the tokenizer has finished running / `.end` has been called. */\n        this.ended = false;\n        this.cbs = cbs;\n        this.xmlMode = !!(options === null || options === void 0 ? void 0 : options.xmlMode);\n        this.decodeEntities = (_a = options === null || options === void 0 ? void 0 : options.decodeEntities) !== null && _a !== void 0 ? _a : true;\n    }\n    Tokenizer.prototype.reset = function () {\n        this._state = 1 /* Text */;\n        this.buffer = \"\";\n        this.sectionStart = 0;\n        this._index = 0;\n        this.bufferOffset = 0;\n        this.baseState = 1 /* Text */;\n        this.special = 1 /* None */;\n        this.running = true;\n        this.ended = false;\n    };\n    Tokenizer.prototype.write = function (chunk) {\n        if (this.ended)\n            this.cbs.onerror(Error(\".write() after done!\"));\n        this.buffer += chunk;\n        this.parse();\n    };\n    Tokenizer.prototype.end = function (chunk) {\n        if (this.ended)\n            this.cbs.onerror(Error(\".end() after done!\"));\n        if (chunk)\n            this.write(chunk);\n        this.ended = true;\n        if (this.running)\n            this.finish();\n    };\n    Tokenizer.prototype.pause = function () {\n        this.running = false;\n    };\n    Tokenizer.prototype.resume = function () {\n        this.running = true;\n        if (this._index < this.buffer.length) {\n            this.parse();\n        }\n        if (this.ended) {\n            this.finish();\n        }\n    };\n    /**\n     * The current index within all of the written data.\n     */\n    Tokenizer.prototype.getAbsoluteIndex = function () {\n        return this.bufferOffset + this._index;\n    };\n    Tokenizer.prototype.stateText = function (c) {\n        if (c === \"<\") {\n            if (this._index > this.sectionStart) {\n                this.cbs.ontext(this.getSection());\n            }\n            this._state = 2 /* BeforeTagName */;\n            this.sectionStart = this._index;\n        }\n        else if (this.decodeEntities &&\n            c === \"&\" &&\n            (this.special === 1 /* None */ || this.special === 4 /* Title */)) {\n            if (this._index > this.sectionStart) {\n                this.cbs.ontext(this.getSection());\n            }\n            this.baseState = 1 /* Text */;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeTagName = function (c) {\n        if (c === \"/\") {\n            this._state = 5 /* BeforeClosingTagName */;\n        }\n        else if (c === \"<\") {\n            this.cbs.ontext(this.getSection());\n            this.sectionStart = this._index;\n        }\n        else if (c === \">\" ||\n            this.special !== 1 /* None */ ||\n            whitespace(c)) {\n            this._state = 1 /* Text */;\n        }\n        else if (c === \"!\") {\n            this._state = 15 /* BeforeDeclaration */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"?\") {\n            this._state = 17 /* InProcessingInstruction */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (!isASCIIAlpha(c)) {\n            this._state = 1 /* Text */;\n        }\n        else {\n            this._state =\n                !this.xmlMode && (c === \"s\" || c === \"S\")\n                    ? 32 /* BeforeSpecialS */\n                    : !this.xmlMode && (c === \"t\" || c === \"T\")\n                        ? 52 /* BeforeSpecialT */\n                        : 3 /* InTagName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInTagName = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this.emitToken(\"onopentagname\");\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateBeforeClosingTagName = function (c) {\n        if (whitespace(c)) {\n            // Ignore\n        }\n        else if (c === \">\") {\n            this._state = 1 /* Text */;\n        }\n        else if (this.special !== 1 /* None */) {\n            if (this.special !== 4 /* Title */ && (c === \"s\" || c === \"S\")) {\n                this._state = 33 /* BeforeSpecialSEnd */;\n            }\n            else if (this.special === 4 /* Title */ &&\n                (c === \"t\" || c === \"T\")) {\n                this._state = 53 /* BeforeSpecialTEnd */;\n            }\n            else {\n                this._state = 1 /* Text */;\n                this._index--;\n            }\n        }\n        else if (!isASCIIAlpha(c)) {\n            this._state = 20 /* InSpecialComment */;\n            this.sectionStart = this._index;\n        }\n        else {\n            this._state = 6 /* InClosingTagName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInClosingTagName = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this.emitToken(\"onclosetag\");\n            this._state = 7 /* AfterClosingTagName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateAfterClosingTagName = function (c) {\n        // Skip everything until \">\"\n        if (c === \">\") {\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeAttributeName = function (c) {\n        if (c === \">\") {\n            this.cbs.onopentagend();\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"/\") {\n            this._state = 4 /* InSelfClosingTag */;\n        }\n        else if (!whitespace(c)) {\n            this._state = 9 /* InAttributeName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInSelfClosingTag = function (c) {\n        if (c === \">\") {\n            this.cbs.onselfclosingtag();\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n            this.special = 1 /* None */; // Reset special state, in case of self-closing special tags\n        }\n        else if (!whitespace(c)) {\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInAttributeName = function (c) {\n        if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n            this.cbs.onattribname(this.getSection());\n            this.sectionStart = -1;\n            this._state = 10 /* AfterAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateAfterAttributeName = function (c) {\n        if (c === \"=\") {\n            this._state = 11 /* BeforeAttributeValue */;\n        }\n        else if (c === \"/\" || c === \">\") {\n            this.cbs.onattribend(undefined);\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (!whitespace(c)) {\n            this.cbs.onattribend(undefined);\n            this._state = 9 /* InAttributeName */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeAttributeValue = function (c) {\n        if (c === '\"') {\n            this._state = 12 /* InAttributeValueDq */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c === \"'\") {\n            this._state = 13 /* InAttributeValueSq */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (!whitespace(c)) {\n            this._state = 14 /* InAttributeValueNq */;\n            this.sectionStart = this._index;\n            this._index--; // Reconsume token\n        }\n    };\n    Tokenizer.prototype.handleInAttributeValue = function (c, quote) {\n        if (c === quote) {\n            this.emitToken(\"onattribdata\");\n            this.cbs.onattribend(quote);\n            this._state = 8 /* BeforeAttributeName */;\n        }\n        else if (this.decodeEntities && c === \"&\") {\n            this.emitToken(\"onattribdata\");\n            this.baseState = this._state;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateInAttributeValueDoubleQuotes = function (c) {\n        this.handleInAttributeValue(c, '\"');\n    };\n    Tokenizer.prototype.stateInAttributeValueSingleQuotes = function (c) {\n        this.handleInAttributeValue(c, \"'\");\n    };\n    Tokenizer.prototype.stateInAttributeValueNoQuotes = function (c) {\n        if (whitespace(c) || c === \">\") {\n            this.emitToken(\"onattribdata\");\n            this.cbs.onattribend(null);\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (this.decodeEntities && c === \"&\") {\n            this.emitToken(\"onattribdata\");\n            this.baseState = this._state;\n            this._state = 62 /* BeforeEntity */;\n            this.sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype.stateBeforeDeclaration = function (c) {\n        this._state =\n            c === \"[\"\n                ? 23 /* BeforeCdata1 */\n                : c === \"-\"\n                    ? 18 /* BeforeComment */\n                    : 16 /* InDeclaration */;\n    };\n    Tokenizer.prototype.stateInDeclaration = function (c) {\n        if (c === \">\") {\n            this.cbs.ondeclaration(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateInProcessingInstruction = function (c) {\n        if (c === \">\") {\n            this.cbs.onprocessinginstruction(this.getSection());\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateBeforeComment = function (c) {\n        if (c === \"-\") {\n            this._state = 19 /* InComment */;\n            this.sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n        }\n    };\n    Tokenizer.prototype.stateInComment = function (c) {\n        if (c === \"-\")\n            this._state = 21 /* AfterComment1 */;\n    };\n    Tokenizer.prototype.stateInSpecialComment = function (c) {\n        if (c === \">\") {\n            this.cbs.oncomment(this.buffer.substring(this.sectionStart, this._index));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype.stateAfterComment1 = function (c) {\n        if (c === \"-\") {\n            this._state = 22 /* AfterComment2 */;\n        }\n        else {\n            this._state = 19 /* InComment */;\n        }\n    };\n    Tokenizer.prototype.stateAfterComment2 = function (c) {\n        if (c === \">\") {\n            // Remove 2 trailing chars\n            this.cbs.oncomment(this.buffer.substring(this.sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c !== \"-\") {\n            this._state = 19 /* InComment */;\n        }\n        // Else: stay in AFTER_COMMENT_2 (`--->`)\n    };\n    Tokenizer.prototype.stateBeforeCdata6 = function (c) {\n        if (c === \"[\") {\n            this._state = 29 /* InCdata */;\n            this.sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInCdata = function (c) {\n        if (c === \"]\")\n            this._state = 30 /* AfterCdata1 */;\n    };\n    Tokenizer.prototype.stateAfterCdata1 = function (c) {\n        if (c === \"]\")\n            this._state = 31 /* AfterCdata2 */;\n        else\n            this._state = 29 /* InCdata */;\n    };\n    Tokenizer.prototype.stateAfterCdata2 = function (c) {\n        if (c === \">\") {\n            // Remove 2 trailing chars\n            this.cbs.oncdata(this.buffer.substring(this.sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this.sectionStart = this._index + 1;\n        }\n        else if (c !== \"]\") {\n            this._state = 29 /* InCdata */;\n        }\n        // Else: stay in AFTER_CDATA_2 (`]]]>`)\n    };\n    Tokenizer.prototype.stateBeforeSpecialS = function (c) {\n        if (c === \"c\" || c === \"C\") {\n            this._state = 34 /* BeforeScript1 */;\n        }\n        else if (c === \"t\" || c === \"T\") {\n            this._state = 44 /* BeforeStyle1 */;\n        }\n        else {\n            this._state = 3 /* InTagName */;\n            this._index--; // Consume the token again\n        }\n    };\n    Tokenizer.prototype.stateBeforeSpecialSEnd = function (c) {\n        if (this.special === 2 /* Script */ && (c === \"c\" || c === \"C\")) {\n            this._state = 39 /* AfterScript1 */;\n        }\n        else if (this.special === 3 /* Style */ && (c === \"t\" || c === \"T\")) {\n            this._state = 48 /* AfterStyle1 */;\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    Tokenizer.prototype.stateBeforeSpecialLast = function (c, special) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this.special = special;\n        }\n        this._state = 3 /* InTagName */;\n        this._index--; // Consume the token again\n    };\n    Tokenizer.prototype.stateAfterSpecialLast = function (c, sectionStartOffset) {\n        if (c === \">\" || whitespace(c)) {\n            this.special = 1 /* None */;\n            this._state = 6 /* InClosingTagName */;\n            this.sectionStart = this._index - sectionStartOffset;\n            this._index--; // Reconsume the token\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    // For entities terminated with a semicolon\n    Tokenizer.prototype.parseFixedEntity = function (map) {\n        if (map === void 0) { map = this.xmlMode ? xml_json_1.default : entities_json_1.default; }\n        // Offset = 1\n        if (this.sectionStart + 1 < this._index) {\n            var entity = this.buffer.substring(this.sectionStart + 1, this._index);\n            if (Object.prototype.hasOwnProperty.call(map, entity)) {\n                this.emitPartial(map[entity]);\n                this.sectionStart = this._index + 1;\n            }\n        }\n    };\n    // Parses legacy entities (without trailing semicolon)\n    Tokenizer.prototype.parseLegacyEntity = function () {\n        var start = this.sectionStart + 1;\n        // The max length of legacy entities is 6\n        var limit = Math.min(this._index - start, 6);\n        while (limit >= 2) {\n            // The min length of legacy entities is 2\n            var entity = this.buffer.substr(start, limit);\n            if (Object.prototype.hasOwnProperty.call(legacy_json_1.default, entity)) {\n                this.emitPartial(legacy_json_1.default[entity]);\n                this.sectionStart += limit + 1;\n                return;\n            }\n            limit--;\n        }\n    };\n    Tokenizer.prototype.stateInNamedEntity = function (c) {\n        if (c === \";\") {\n            this.parseFixedEntity();\n            // Retry as legacy entity if entity wasn't parsed\n            if (this.baseState === 1 /* Text */ &&\n                this.sectionStart + 1 < this._index &&\n                !this.xmlMode) {\n                this.parseLegacyEntity();\n            }\n            this._state = this.baseState;\n        }\n        else if ((c < \"0\" || c > \"9\") && !isASCIIAlpha(c)) {\n            if (this.xmlMode || this.sectionStart + 1 === this._index) {\n                // Ignore\n            }\n            else if (this.baseState !== 1 /* Text */) {\n                if (c !== \"=\") {\n                    // Parse as legacy entity, without allowing additional characters.\n                    this.parseFixedEntity(legacy_json_1.default);\n                }\n            }\n            else {\n                this.parseLegacyEntity();\n            }\n            this._state = this.baseState;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.decodeNumericEntity = function (offset, base, strict) {\n        var sectionStart = this.sectionStart + offset;\n        if (sectionStart !== this._index) {\n            // Parse entity\n            var entity = this.buffer.substring(sectionStart, this._index);\n            var parsed = parseInt(entity, base);\n            this.emitPartial(decode_codepoint_1.default(parsed));\n            this.sectionStart = strict ? this._index + 1 : this._index;\n        }\n        this._state = this.baseState;\n    };\n    Tokenizer.prototype.stateInNumericEntity = function (c) {\n        if (c === \";\") {\n            this.decodeNumericEntity(2, 10, true);\n        }\n        else if (c < \"0\" || c > \"9\") {\n            if (!this.xmlMode) {\n                this.decodeNumericEntity(2, 10, false);\n            }\n            else {\n                this._state = this.baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.stateInHexEntity = function (c) {\n        if (c === \";\") {\n            this.decodeNumericEntity(3, 16, true);\n        }\n        else if ((c < \"a\" || c > \"f\") &&\n            (c < \"A\" || c > \"F\") &&\n            (c < \"0\" || c > \"9\")) {\n            if (!this.xmlMode) {\n                this.decodeNumericEntity(3, 16, false);\n            }\n            else {\n                this._state = this.baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype.cleanup = function () {\n        if (this.sectionStart < 0) {\n            this.buffer = \"\";\n            this.bufferOffset += this._index;\n            this._index = 0;\n        }\n        else if (this.running) {\n            if (this._state === 1 /* Text */) {\n                if (this.sectionStart !== this._index) {\n                    this.cbs.ontext(this.buffer.substr(this.sectionStart));\n                }\n                this.buffer = \"\";\n                this.bufferOffset += this._index;\n                this._index = 0;\n            }\n            else if (this.sectionStart === this._index) {\n                // The section just started\n                this.buffer = \"\";\n                this.bufferOffset += this._index;\n                this._index = 0;\n            }\n            else {\n                // Remove everything unnecessary\n                this.buffer = this.buffer.substr(this.sectionStart);\n                this._index -= this.sectionStart;\n                this.bufferOffset += this.sectionStart;\n            }\n            this.sectionStart = 0;\n        }\n    };\n    /**\n     * Iterates through the buffer, calling the function corresponding to the current state.\n     *\n     * States that are more likely to be hit are higher up, as a performance improvement.\n     */\n    Tokenizer.prototype.parse = function () {\n        while (this._index < this.buffer.length && this.running) {\n            var c = this.buffer.charAt(this._index);\n            if (this._state === 1 /* Text */) {\n                this.stateText(c);\n            }\n            else if (this._state === 12 /* InAttributeValueDq */) {\n                this.stateInAttributeValueDoubleQuotes(c);\n            }\n            else if (this._state === 9 /* InAttributeName */) {\n                this.stateInAttributeName(c);\n            }\n            else if (this._state === 19 /* InComment */) {\n                this.stateInComment(c);\n            }\n            else if (this._state === 20 /* InSpecialComment */) {\n                this.stateInSpecialComment(c);\n            }\n            else if (this._state === 8 /* BeforeAttributeName */) {\n                this.stateBeforeAttributeName(c);\n            }\n            else if (this._state === 3 /* InTagName */) {\n                this.stateInTagName(c);\n            }\n            else if (this._state === 6 /* InClosingTagName */) {\n                this.stateInClosingTagName(c);\n            }\n            else if (this._state === 2 /* BeforeTagName */) {\n                this.stateBeforeTagName(c);\n            }\n            else if (this._state === 10 /* AfterAttributeName */) {\n                this.stateAfterAttributeName(c);\n            }\n            else if (this._state === 13 /* InAttributeValueSq */) {\n                this.stateInAttributeValueSingleQuotes(c);\n            }\n            else if (this._state === 11 /* BeforeAttributeValue */) {\n                this.stateBeforeAttributeValue(c);\n            }\n            else if (this._state === 5 /* BeforeClosingTagName */) {\n                this.stateBeforeClosingTagName(c);\n            }\n            else if (this._state === 7 /* AfterClosingTagName */) {\n                this.stateAfterClosingTagName(c);\n            }\n            else if (this._state === 32 /* BeforeSpecialS */) {\n                this.stateBeforeSpecialS(c);\n            }\n            else if (this._state === 21 /* AfterComment1 */) {\n                this.stateAfterComment1(c);\n            }\n            else if (this._state === 14 /* InAttributeValueNq */) {\n                this.stateInAttributeValueNoQuotes(c);\n            }\n            else if (this._state === 4 /* InSelfClosingTag */) {\n                this.stateInSelfClosingTag(c);\n            }\n            else if (this._state === 16 /* InDeclaration */) {\n                this.stateInDeclaration(c);\n            }\n            else if (this._state === 15 /* BeforeDeclaration */) {\n                this.stateBeforeDeclaration(c);\n            }\n            else if (this._state === 22 /* AfterComment2 */) {\n                this.stateAfterComment2(c);\n            }\n            else if (this._state === 18 /* BeforeComment */) {\n                this.stateBeforeComment(c);\n            }\n            else if (this._state === 33 /* BeforeSpecialSEnd */) {\n                this.stateBeforeSpecialSEnd(c);\n            }\n            else if (this._state === 53 /* BeforeSpecialTEnd */) {\n                stateAfterSpecialTEnd(this, c);\n            }\n            else if (this._state === 39 /* AfterScript1 */) {\n                stateAfterScript1(this, c);\n            }\n            else if (this._state === 40 /* AfterScript2 */) {\n                stateAfterScript2(this, c);\n            }\n            else if (this._state === 41 /* AfterScript3 */) {\n                stateAfterScript3(this, c);\n            }\n            else if (this._state === 34 /* BeforeScript1 */) {\n                stateBeforeScript1(this, c);\n            }\n            else if (this._state === 35 /* BeforeScript2 */) {\n                stateBeforeScript2(this, c);\n            }\n            else if (this._state === 36 /* BeforeScript3 */) {\n                stateBeforeScript3(this, c);\n            }\n            else if (this._state === 37 /* BeforeScript4 */) {\n                stateBeforeScript4(this, c);\n            }\n            else if (this._state === 38 /* BeforeScript5 */) {\n                this.stateBeforeSpecialLast(c, 2 /* Script */);\n            }\n            else if (this._state === 42 /* AfterScript4 */) {\n                stateAfterScript4(this, c);\n            }\n            else if (this._state === 43 /* AfterScript5 */) {\n                this.stateAfterSpecialLast(c, 6);\n            }\n            else if (this._state === 44 /* BeforeStyle1 */) {\n                stateBeforeStyle1(this, c);\n            }\n            else if (this._state === 29 /* InCdata */) {\n                this.stateInCdata(c);\n            }\n            else if (this._state === 45 /* BeforeStyle2 */) {\n                stateBeforeStyle2(this, c);\n            }\n            else if (this._state === 46 /* BeforeStyle3 */) {\n                stateBeforeStyle3(this, c);\n            }\n            else if (this._state === 47 /* BeforeStyle4 */) {\n                this.stateBeforeSpecialLast(c, 3 /* Style */);\n            }\n            else if (this._state === 48 /* AfterStyle1 */) {\n                stateAfterStyle1(this, c);\n            }\n            else if (this._state === 49 /* AfterStyle2 */) {\n                stateAfterStyle2(this, c);\n            }\n            else if (this._state === 50 /* AfterStyle3 */) {\n                stateAfterStyle3(this, c);\n            }\n            else if (this._state === 51 /* AfterStyle4 */) {\n                this.stateAfterSpecialLast(c, 5);\n            }\n            else if (this._state === 52 /* BeforeSpecialT */) {\n                stateBeforeSpecialT(this, c);\n            }\n            else if (this._state === 54 /* BeforeTitle1 */) {\n                stateBeforeTitle1(this, c);\n            }\n            else if (this._state === 55 /* BeforeTitle2 */) {\n                stateBeforeTitle2(this, c);\n            }\n            else if (this._state === 56 /* BeforeTitle3 */) {\n                stateBeforeTitle3(this, c);\n            }\n            else if (this._state === 57 /* BeforeTitle4 */) {\n                this.stateBeforeSpecialLast(c, 4 /* Title */);\n            }\n            else if (this._state === 58 /* AfterTitle1 */) {\n                stateAfterTitle1(this, c);\n            }\n            else if (this._state === 59 /* AfterTitle2 */) {\n                stateAfterTitle2(this, c);\n            }\n            else if (this._state === 60 /* AfterTitle3 */) {\n                stateAfterTitle3(this, c);\n            }\n            else if (this._state === 61 /* AfterTitle4 */) {\n                this.stateAfterSpecialLast(c, 5);\n            }\n            else if (this._state === 17 /* InProcessingInstruction */) {\n                this.stateInProcessingInstruction(c);\n            }\n            else if (this._state === 64 /* InNamedEntity */) {\n                this.stateInNamedEntity(c);\n            }\n            else if (this._state === 23 /* BeforeCdata1 */) {\n                stateBeforeCdata1(this, c);\n            }\n            else if (this._state === 62 /* BeforeEntity */) {\n                stateBeforeEntity(this, c);\n            }\n            else if (this._state === 24 /* BeforeCdata2 */) {\n                stateBeforeCdata2(this, c);\n            }\n            else if (this._state === 25 /* BeforeCdata3 */) {\n                stateBeforeCdata3(this, c);\n            }\n            else if (this._state === 30 /* AfterCdata1 */) {\n                this.stateAfterCdata1(c);\n            }\n            else if (this._state === 31 /* AfterCdata2 */) {\n                this.stateAfterCdata2(c);\n            }\n            else if (this._state === 26 /* BeforeCdata4 */) {\n                stateBeforeCdata4(this, c);\n            }\n            else if (this._state === 27 /* BeforeCdata5 */) {\n                stateBeforeCdata5(this, c);\n            }\n            else if (this._state === 28 /* BeforeCdata6 */) {\n                this.stateBeforeCdata6(c);\n            }\n            else if (this._state === 66 /* InHexEntity */) {\n                this.stateInHexEntity(c);\n            }\n            else if (this._state === 65 /* InNumericEntity */) {\n                this.stateInNumericEntity(c);\n                // eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\n            }\n            else if (this._state === 63 /* BeforeNumericEntity */) {\n                stateBeforeNumericEntity(this, c);\n            }\n            else {\n                this.cbs.onerror(Error(\"unknown _state\"), this._state);\n            }\n            this._index++;\n        }\n        this.cleanup();\n    };\n    Tokenizer.prototype.finish = function () {\n        // If there is remaining data, emit it in a reasonable way\n        if (this.sectionStart < this._index) {\n            this.handleTrailingData();\n        }\n        this.cbs.onend();\n    };\n    Tokenizer.prototype.handleTrailingData = function () {\n        var data = this.buffer.substr(this.sectionStart);\n        if (this._state === 29 /* InCdata */ ||\n            this._state === 30 /* AfterCdata1 */ ||\n            this._state === 31 /* AfterCdata2 */) {\n            this.cbs.oncdata(data);\n        }\n        else if (this._state === 19 /* InComment */ ||\n            this._state === 21 /* AfterComment1 */ ||\n            this._state === 22 /* AfterComment2 */) {\n            this.cbs.oncomment(data);\n        }\n        else if (this._state === 64 /* InNamedEntity */ && !this.xmlMode) {\n            this.parseLegacyEntity();\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state === 65 /* InNumericEntity */ && !this.xmlMode) {\n            this.decodeNumericEntity(2, 10, false);\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state === 66 /* InHexEntity */ && !this.xmlMode) {\n            this.decodeNumericEntity(3, 16, false);\n            if (this.sectionStart < this._index) {\n                this._state = this.baseState;\n                this.handleTrailingData();\n            }\n        }\n        else if (this._state !== 3 /* InTagName */ &&\n            this._state !== 8 /* BeforeAttributeName */ &&\n            this._state !== 11 /* BeforeAttributeValue */ &&\n            this._state !== 10 /* AfterAttributeName */ &&\n            this._state !== 9 /* InAttributeName */ &&\n            this._state !== 13 /* InAttributeValueSq */ &&\n            this._state !== 12 /* InAttributeValueDq */ &&\n            this._state !== 14 /* InAttributeValueNq */ &&\n            this._state !== 6 /* InClosingTagName */) {\n            this.cbs.ontext(data);\n        }\n        /*\n         * Else, ignore remaining data\n         * TODO add a way to remove current tag\n         */\n    };\n    Tokenizer.prototype.getSection = function () {\n        return this.buffer.substring(this.sectionStart, this._index);\n    };\n    Tokenizer.prototype.emitToken = function (name) {\n        this.cbs[name](this.getSection());\n        this.sectionStart = -1;\n    };\n    Tokenizer.prototype.emitPartial = function (value) {\n        if (this.baseState !== 1 /* Text */) {\n            this.cbs.onattribdata(value); // TODO implement the new event\n        }\n        else {\n            this.cbs.ontext(value);\n        }\n    };\n    return Tokenizer;\n}());\nexports.default = Tokenizer;\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RssHandler = exports.DefaultHandler = exports.DomUtils = exports.ElementType = exports.Tokenizer = exports.createDomStream = exports.parseDOM = exports.parseDocument = exports.DomHandler = exports.Parser = void 0;\nvar Parser_1 = require(\"./Parser\");\nObject.defineProperty(exports, \"Parser\", { enumerable: true, get: function () { return Parser_1.Parser; } });\nvar domhandler_1 = require(\"domhandler\");\nObject.defineProperty(exports, \"DomHandler\", { enumerable: true, get: function () { return domhandler_1.DomHandler; } });\nObject.defineProperty(exports, \"DefaultHandler\", { enumerable: true, get: function () { return domhandler_1.DomHandler; } });\n// Helper methods\n/**\n * Parses the data, returns the resulting document.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n */\nfunction parseDocument(data, options) {\n    var handler = new domhandler_1.DomHandler(undefined, options);\n    new Parser_1.Parser(handler, options).end(data);\n    return handler.root;\n}\nexports.parseDocument = parseDocument;\n/**\n * Parses data, returns an array of the root nodes.\n *\n * Note that the root nodes still have a `Document` node as their parent.\n * Use `parseDocument` to get the `Document` node instead.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n * @deprecated Use `parseDocument` instead.\n */\nfunction parseDOM(data, options) {\n    return parseDocument(data, options).children;\n}\nexports.parseDOM = parseDOM;\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param cb A callback that will be called once parsing has been completed.\n * @param options Optional options for the parser and DOM builder.\n * @param elementCb An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nfunction createDomStream(cb, options, elementCb) {\n    var handler = new domhandler_1.DomHandler(cb, options, elementCb);\n    return new Parser_1.Parser(handler, options);\n}\nexports.createDomStream = createDomStream;\nvar Tokenizer_1 = require(\"./Tokenizer\");\nObject.defineProperty(exports, \"Tokenizer\", { enumerable: true, get: function () { return __importDefault(Tokenizer_1).default; } });\nvar ElementType = __importStar(require(\"domelementtype\"));\nexports.ElementType = ElementType;\n/*\n * All of the following exports exist for backwards-compatibility.\n * They should probably be removed eventually.\n */\n__exportStar(require(\"./FeedHandler\"), exports);\nexports.DomUtils = __importStar(require(\"domutils\"));\nvar FeedHandler_1 = require(\"./FeedHandler\");\nObject.defineProperty(exports, \"RssHandler\", { enumerable: true, get: function () { return FeedHandler_1.FeedHandler; } });\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// Adapted from https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nvar fromCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.fromCodePoint ||\n    function (codePoint) {\n        var output = \"\";\n        if (codePoint > 0xffff) {\n            codePoint -= 0x10000;\n            output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n            codePoint = 0xdc00 | (codePoint & 0x3ff);\n        }\n        output += String.fromCharCode(codePoint);\n        return output;\n    };\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    return fromCodePoint(codePoint);\n}\nexports.default = decodeCodePoint;\n",
    "module.exports={\"0\":65533,\"128\":8364,\"130\":8218,\"131\":402,\"132\":8222,\"133\":8230,\"134\":8224,\"135\":8225,\"136\":710,\"137\":8240,\"138\":352,\"139\":8249,\"140\":338,\"142\":381,\"145\":8216,\"146\":8217,\"147\":8220,\"148\":8221,\"149\":8226,\"150\":8211,\"151\":8212,\"152\":732,\"153\":8482,\"154\":353,\"155\":8250,\"156\":339,\"158\":382,\"159\":376}\n",
    "module.exports={\"Aacute\":\"\",\"aacute\":\"\",\"Abreve\":\"\",\"abreve\":\"\",\"ac\":\"\",\"acd\":\"\",\"acE\":\"\",\"Acirc\":\"\",\"acirc\":\"\",\"acute\":\"\",\"Acy\":\"\",\"acy\":\"\",\"AElig\":\"\",\"aelig\":\"\",\"af\":\"\",\"Afr\":\"\",\"afr\":\"\",\"Agrave\":\"\",\"agrave\":\"\",\"alefsym\":\"\",\"aleph\":\"\",\"Alpha\":\"\",\"alpha\":\"\",\"Amacr\":\"\",\"amacr\":\"\",\"amalg\":\"\",\"amp\":\"&\",\"AMP\":\"&\",\"andand\":\"\",\"And\":\"\",\"and\":\"\",\"andd\":\"\",\"andslope\":\"\",\"andv\":\"\",\"ang\":\"\",\"ange\":\"\",\"angle\":\"\",\"angmsdaa\":\"\",\"angmsdab\":\"\",\"angmsdac\":\"\",\"angmsdad\":\"\",\"angmsdae\":\"\",\"angmsdaf\":\"\",\"angmsdag\":\"\",\"angmsdah\":\"\",\"angmsd\":\"\",\"angrt\":\"\",\"angrtvb\":\"\",\"angrtvbd\":\"\",\"angsph\":\"\",\"angst\":\"\",\"angzarr\":\"\",\"Aogon\":\"\",\"aogon\":\"\",\"Aopf\":\"\",\"aopf\":\"\",\"apacir\":\"\",\"ap\":\"\",\"apE\":\"\",\"ape\":\"\",\"apid\":\"\",\"apos\":\"'\",\"ApplyFunction\":\"\",\"approx\":\"\",\"approxeq\":\"\",\"Aring\":\"\",\"aring\":\"\",\"Ascr\":\"\",\"ascr\":\"\",\"Assign\":\"\",\"ast\":\"*\",\"asymp\":\"\",\"asympeq\":\"\",\"Atilde\":\"\",\"atilde\":\"\",\"Auml\":\"\",\"auml\":\"\",\"awconint\":\"\",\"awint\":\"\",\"backcong\":\"\",\"backepsilon\":\"\",\"backprime\":\"\",\"backsim\":\"\",\"backsimeq\":\"\",\"Backslash\":\"\",\"Barv\":\"\",\"barvee\":\"\",\"barwed\":\"\",\"Barwed\":\"\",\"barwedge\":\"\",\"bbrk\":\"\",\"bbrktbrk\":\"\",\"bcong\":\"\",\"Bcy\":\"\",\"bcy\":\"\",\"bdquo\":\"\",\"becaus\":\"\",\"because\":\"\",\"Because\":\"\",\"bemptyv\":\"\",\"bepsi\":\"\",\"bernou\":\"\",\"Bernoullis\":\"\",\"Beta\":\"\",\"beta\":\"\",\"beth\":\"\",\"between\":\"\",\"Bfr\":\"\",\"bfr\":\"\",\"bigcap\":\"\",\"bigcirc\":\"\",\"bigcup\":\"\",\"bigodot\":\"\",\"bigoplus\":\"\",\"bigotimes\":\"\",\"bigsqcup\":\"\",\"bigstar\":\"\",\"bigtriangledown\":\"\",\"bigtriangleup\":\"\",\"biguplus\":\"\",\"bigvee\":\"\",\"bigwedge\":\"\",\"bkarow\":\"\",\"blacklozenge\":\"\",\"blacksquare\":\"\",\"blacktriangle\":\"\",\"blacktriangledown\":\"\",\"blacktriangleleft\":\"\",\"blacktriangleright\":\"\",\"blank\":\"\",\"blk12\":\"\",\"blk14\":\"\",\"blk34\":\"\",\"block\":\"\",\"bne\":\"=\",\"bnequiv\":\"\",\"bNot\":\"\",\"bnot\":\"\",\"Bopf\":\"\",\"bopf\":\"\",\"bot\":\"\",\"bottom\":\"\",\"bowtie\":\"\",\"boxbox\":\"\",\"boxdl\":\"\",\"boxdL\":\"\",\"boxDl\":\"\",\"boxDL\":\"\",\"boxdr\":\"\",\"boxdR\":\"\",\"boxDr\":\"\",\"boxDR\":\"\",\"boxh\":\"\",\"boxH\":\"\",\"boxhd\":\"\",\"boxHd\":\"\",\"boxhD\":\"\",\"boxHD\":\"\",\"boxhu\":\"\",\"boxHu\":\"\",\"boxhU\":\"\",\"boxHU\":\"\",\"boxminus\":\"\",\"boxplus\":\"\",\"boxtimes\":\"\",\"boxul\":\"\",\"boxuL\":\"\",\"boxUl\":\"\",\"boxUL\":\"\",\"boxur\":\"\",\"boxuR\":\"\",\"boxUr\":\"\",\"boxUR\":\"\",\"boxv\":\"\",\"boxV\":\"\",\"boxvh\":\"\",\"boxvH\":\"\",\"boxVh\":\"\",\"boxVH\":\"\",\"boxvl\":\"\",\"boxvL\":\"\",\"boxVl\":\"\",\"boxVL\":\"\",\"boxvr\":\"\",\"boxvR\":\"\",\"boxVr\":\"\",\"boxVR\":\"\",\"bprime\":\"\",\"breve\":\"\",\"Breve\":\"\",\"brvbar\":\"\",\"bscr\":\"\",\"Bscr\":\"\",\"bsemi\":\"\",\"bsim\":\"\",\"bsime\":\"\",\"bsolb\":\"\",\"bsol\":\"\\\\\",\"bsolhsub\":\"\",\"bull\":\"\",\"bullet\":\"\",\"bump\":\"\",\"bumpE\":\"\",\"bumpe\":\"\",\"Bumpeq\":\"\",\"bumpeq\":\"\",\"Cacute\":\"\",\"cacute\":\"\",\"capand\":\"\",\"capbrcup\":\"\",\"capcap\":\"\",\"cap\":\"\",\"Cap\":\"\",\"capcup\":\"\",\"capdot\":\"\",\"CapitalDifferentialD\":\"\",\"caps\":\"\",\"caret\":\"\",\"caron\":\"\",\"Cayleys\":\"\",\"ccaps\":\"\",\"Ccaron\":\"\",\"ccaron\":\"\",\"Ccedil\":\"\",\"ccedil\":\"\",\"Ccirc\":\"\",\"ccirc\":\"\",\"Cconint\":\"\",\"ccups\":\"\",\"ccupssm\":\"\",\"Cdot\":\"\",\"cdot\":\"\",\"cedil\":\"\",\"Cedilla\":\"\",\"cemptyv\":\"\",\"cent\":\"\",\"centerdot\":\"\",\"CenterDot\":\"\",\"cfr\":\"\",\"Cfr\":\"\",\"CHcy\":\"\",\"chcy\":\"\",\"check\":\"\",\"checkmark\":\"\",\"Chi\":\"\",\"chi\":\"\",\"circ\":\"\",\"circeq\":\"\",\"circlearrowleft\":\"\",\"circlearrowright\":\"\",\"circledast\":\"\",\"circledcirc\":\"\",\"circleddash\":\"\",\"CircleDot\":\"\",\"circledR\":\"\",\"circledS\":\"\",\"CircleMinus\":\"\",\"CirclePlus\":\"\",\"CircleTimes\":\"\",\"cir\":\"\",\"cirE\":\"\",\"cire\":\"\",\"cirfnint\":\"\",\"cirmid\":\"\",\"cirscir\":\"\",\"ClockwiseContourIntegral\":\"\",\"CloseCurlyDoubleQuote\":\"\",\"CloseCurlyQuote\":\"\",\"clubs\":\"\",\"clubsuit\":\"\",\"colon\":\":\",\"Colon\":\"\",\"Colone\":\"\",\"colone\":\"\",\"coloneq\":\"\",\"comma\":\",\",\"commat\":\"@\",\"comp\":\"\",\"compfn\":\"\",\"complement\":\"\",\"complexes\":\"\",\"cong\":\"\",\"congdot\":\"\",\"Congruent\":\"\",\"conint\":\"\",\"Conint\":\"\",\"ContourIntegral\":\"\",\"copf\":\"\",\"Copf\":\"\",\"coprod\":\"\",\"Coproduct\":\"\",\"copy\":\"\",\"COPY\":\"\",\"copysr\":\"\",\"CounterClockwiseContourIntegral\":\"\",\"crarr\":\"\",\"cross\":\"\",\"Cross\":\"\",\"Cscr\":\"\",\"cscr\":\"\",\"csub\":\"\",\"csube\":\"\",\"csup\":\"\",\"csupe\":\"\",\"ctdot\":\"\",\"cudarrl\":\"\",\"cudarrr\":\"\",\"cuepr\":\"\",\"cuesc\":\"\",\"cularr\":\"\",\"cularrp\":\"\",\"cupbrcap\":\"\",\"cupcap\":\"\",\"CupCap\":\"\",\"cup\":\"\",\"Cup\":\"\",\"cupcup\":\"\",\"cupdot\":\"\",\"cupor\":\"\",\"cups\":\"\",\"curarr\":\"\",\"curarrm\":\"\",\"curlyeqprec\":\"\",\"curlyeqsucc\":\"\",\"curlyvee\":\"\",\"curlywedge\":\"\",\"curren\":\"\",\"curvearrowleft\":\"\",\"curvearrowright\":\"\",\"cuvee\":\"\",\"cuwed\":\"\",\"cwconint\":\"\",\"cwint\":\"\",\"cylcty\":\"\",\"dagger\":\"\",\"Dagger\":\"\",\"daleth\":\"\",\"darr\":\"\",\"Darr\":\"\",\"dArr\":\"\",\"dash\":\"\",\"Dashv\":\"\",\"dashv\":\"\",\"dbkarow\":\"\",\"dblac\":\"\",\"Dcaron\":\"\",\"dcaron\":\"\",\"Dcy\":\"\",\"dcy\":\"\",\"ddagger\":\"\",\"ddarr\":\"\",\"DD\":\"\",\"dd\":\"\",\"DDotrahd\":\"\",\"ddotseq\":\"\",\"deg\":\"\",\"Del\":\"\",\"Delta\":\"\",\"delta\":\"\",\"demptyv\":\"\",\"dfisht\":\"\",\"Dfr\":\"\",\"dfr\":\"\",\"dHar\":\"\",\"dharl\":\"\",\"dharr\":\"\",\"DiacriticalAcute\":\"\",\"DiacriticalDot\":\"\",\"DiacriticalDoubleAcute\":\"\",\"DiacriticalGrave\":\"`\",\"DiacriticalTilde\":\"\",\"diam\":\"\",\"diamond\":\"\",\"Diamond\":\"\",\"diamondsuit\":\"\",\"diams\":\"\",\"die\":\"\",\"DifferentialD\":\"\",\"digamma\":\"\",\"disin\":\"\",\"div\":\"\",\"divide\":\"\",\"divideontimes\":\"\",\"divonx\":\"\",\"DJcy\":\"\",\"djcy\":\"\",\"dlcorn\":\"\",\"dlcrop\":\"\",\"dollar\":\"$\",\"Dopf\":\"\",\"dopf\":\"\",\"Dot\":\"\",\"dot\":\"\",\"DotDot\":\"\",\"doteq\":\"\",\"doteqdot\":\"\",\"DotEqual\":\"\",\"dotminus\":\"\",\"dotplus\":\"\",\"dotsquare\":\"\",\"doublebarwedge\":\"\",\"DoubleContourIntegral\":\"\",\"DoubleDot\":\"\",\"DoubleDownArrow\":\"\",\"DoubleLeftArrow\":\"\",\"DoubleLeftRightArrow\":\"\",\"DoubleLeftTee\":\"\",\"DoubleLongLeftArrow\":\"\",\"DoubleLongLeftRightArrow\":\"\",\"DoubleLongRightArrow\":\"\",\"DoubleRightArrow\":\"\",\"DoubleRightTee\":\"\",\"DoubleUpArrow\":\"\",\"DoubleUpDownArrow\":\"\",\"DoubleVerticalBar\":\"\",\"DownArrowBar\":\"\",\"downarrow\":\"\",\"DownArrow\":\"\",\"Downarrow\":\"\",\"DownArrowUpArrow\":\"\",\"DownBreve\":\"\",\"downdownarrows\":\"\",\"downharpoonleft\":\"\",\"downharpoonright\":\"\",\"DownLeftRightVector\":\"\",\"DownLeftTeeVector\":\"\",\"DownLeftVectorBar\":\"\",\"DownLeftVector\":\"\",\"DownRightTeeVector\":\"\",\"DownRightVectorBar\":\"\",\"DownRightVector\":\"\",\"DownTeeArrow\":\"\",\"DownTee\":\"\",\"drbkarow\":\"\",\"drcorn\":\"\",\"drcrop\":\"\",\"Dscr\":\"\",\"dscr\":\"\",\"DScy\":\"\",\"dscy\":\"\",\"dsol\":\"\",\"Dstrok\":\"\",\"dstrok\":\"\",\"dtdot\":\"\",\"dtri\":\"\",\"dtrif\":\"\",\"duarr\":\"\",\"duhar\":\"\",\"dwangle\":\"\",\"DZcy\":\"\",\"dzcy\":\"\",\"dzigrarr\":\"\",\"Eacute\":\"\",\"eacute\":\"\",\"easter\":\"\",\"Ecaron\":\"\",\"ecaron\":\"\",\"Ecirc\":\"\",\"ecirc\":\"\",\"ecir\":\"\",\"ecolon\":\"\",\"Ecy\":\"\",\"ecy\":\"\",\"eDDot\":\"\",\"Edot\":\"\",\"edot\":\"\",\"eDot\":\"\",\"ee\":\"\",\"efDot\":\"\",\"Efr\":\"\",\"efr\":\"\",\"eg\":\"\",\"Egrave\":\"\",\"egrave\":\"\",\"egs\":\"\",\"egsdot\":\"\",\"el\":\"\",\"Element\":\"\",\"elinters\":\"\",\"ell\":\"\",\"els\":\"\",\"elsdot\":\"\",\"Emacr\":\"\",\"emacr\":\"\",\"empty\":\"\",\"emptyset\":\"\",\"EmptySmallSquare\":\"\",\"emptyv\":\"\",\"EmptyVerySmallSquare\":\"\",\"emsp13\":\"\",\"emsp14\":\"\",\"emsp\":\"\",\"ENG\":\"\",\"eng\":\"\",\"ensp\":\"\",\"Eogon\":\"\",\"eogon\":\"\",\"Eopf\":\"\",\"eopf\":\"\",\"epar\":\"\",\"eparsl\":\"\",\"eplus\":\"\",\"epsi\":\"\",\"Epsilon\":\"\",\"epsilon\":\"\",\"epsiv\":\"\",\"eqcirc\":\"\",\"eqcolon\":\"\",\"eqsim\":\"\",\"eqslantgtr\":\"\",\"eqslantless\":\"\",\"Equal\":\"\",\"equals\":\"=\",\"EqualTilde\":\"\",\"equest\":\"\",\"Equilibrium\":\"\",\"equiv\":\"\",\"equivDD\":\"\",\"eqvparsl\":\"\",\"erarr\":\"\",\"erDot\":\"\",\"escr\":\"\",\"Escr\":\"\",\"esdot\":\"\",\"Esim\":\"\",\"esim\":\"\",\"Eta\":\"\",\"eta\":\"\",\"ETH\":\"\",\"eth\":\"\",\"Euml\":\"\",\"euml\":\"\",\"euro\":\"\",\"excl\":\"!\",\"exist\":\"\",\"Exists\":\"\",\"expectation\":\"\",\"exponentiale\":\"\",\"ExponentialE\":\"\",\"fallingdotseq\":\"\",\"Fcy\":\"\",\"fcy\":\"\",\"female\":\"\",\"ffilig\":\"\",\"fflig\":\"\",\"ffllig\":\"\",\"Ffr\":\"\",\"ffr\":\"\",\"filig\":\"\",\"FilledSmallSquare\":\"\",\"FilledVerySmallSquare\":\"\",\"fjlig\":\"fj\",\"flat\":\"\",\"fllig\":\"\",\"fltns\":\"\",\"fnof\":\"\",\"Fopf\":\"\",\"fopf\":\"\",\"forall\":\"\",\"ForAll\":\"\",\"fork\":\"\",\"forkv\":\"\",\"Fouriertrf\":\"\",\"fpartint\":\"\",\"frac12\":\"\",\"frac13\":\"\",\"frac14\":\"\",\"frac15\":\"\",\"frac16\":\"\",\"frac18\":\"\",\"frac23\":\"\",\"frac25\":\"\",\"frac34\":\"\",\"frac35\":\"\",\"frac38\":\"\",\"frac45\":\"\",\"frac56\":\"\",\"frac58\":\"\",\"frac78\":\"\",\"frasl\":\"\",\"frown\":\"\",\"fscr\":\"\",\"Fscr\":\"\",\"gacute\":\"\",\"Gamma\":\"\",\"gamma\":\"\",\"Gammad\":\"\",\"gammad\":\"\",\"gap\":\"\",\"Gbreve\":\"\",\"gbreve\":\"\",\"Gcedil\":\"\",\"Gcirc\":\"\",\"gcirc\":\"\",\"Gcy\":\"\",\"gcy\":\"\",\"Gdot\":\"\",\"gdot\":\"\",\"ge\":\"\",\"gE\":\"\",\"gEl\":\"\",\"gel\":\"\",\"geq\":\"\",\"geqq\":\"\",\"geqslant\":\"\",\"gescc\":\"\",\"ges\":\"\",\"gesdot\":\"\",\"gesdoto\":\"\",\"gesdotol\":\"\",\"gesl\":\"\",\"gesles\":\"\",\"Gfr\":\"\",\"gfr\":\"\",\"gg\":\"\",\"Gg\":\"\",\"ggg\":\"\",\"gimel\":\"\",\"GJcy\":\"\",\"gjcy\":\"\",\"gla\":\"\",\"gl\":\"\",\"glE\":\"\",\"glj\":\"\",\"gnap\":\"\",\"gnapprox\":\"\",\"gne\":\"\",\"gnE\":\"\",\"gneq\":\"\",\"gneqq\":\"\",\"gnsim\":\"\",\"Gopf\":\"\",\"gopf\":\"\",\"grave\":\"`\",\"GreaterEqual\":\"\",\"GreaterEqualLess\":\"\",\"GreaterFullEqual\":\"\",\"GreaterGreater\":\"\",\"GreaterLess\":\"\",\"GreaterSlantEqual\":\"\",\"GreaterTilde\":\"\",\"Gscr\":\"\",\"gscr\":\"\",\"gsim\":\"\",\"gsime\":\"\",\"gsiml\":\"\",\"gtcc\":\"\",\"gtcir\":\"\",\"gt\":\">\",\"GT\":\">\",\"Gt\":\"\",\"gtdot\":\"\",\"gtlPar\":\"\",\"gtquest\":\"\",\"gtrapprox\":\"\",\"gtrarr\":\"\",\"gtrdot\":\"\",\"gtreqless\":\"\",\"gtreqqless\":\"\",\"gtrless\":\"\",\"gtrsim\":\"\",\"gvertneqq\":\"\",\"gvnE\":\"\",\"Hacek\":\"\",\"hairsp\":\"\",\"half\":\"\",\"hamilt\":\"\",\"HARDcy\":\"\",\"hardcy\":\"\",\"harrcir\":\"\",\"harr\":\"\",\"hArr\":\"\",\"harrw\":\"\",\"Hat\":\"^\",\"hbar\":\"\",\"Hcirc\":\"\",\"hcirc\":\"\",\"hearts\":\"\",\"heartsuit\":\"\",\"hellip\":\"\",\"hercon\":\"\",\"hfr\":\"\",\"Hfr\":\"\",\"HilbertSpace\":\"\",\"hksearow\":\"\",\"hkswarow\":\"\",\"hoarr\":\"\",\"homtht\":\"\",\"hookleftarrow\":\"\",\"hookrightarrow\":\"\",\"hopf\":\"\",\"Hopf\":\"\",\"horbar\":\"\",\"HorizontalLine\":\"\",\"hscr\":\"\",\"Hscr\":\"\",\"hslash\":\"\",\"Hstrok\":\"\",\"hstrok\":\"\",\"HumpDownHump\":\"\",\"HumpEqual\":\"\",\"hybull\":\"\",\"hyphen\":\"\",\"Iacute\":\"\",\"iacute\":\"\",\"ic\":\"\",\"Icirc\":\"\",\"icirc\":\"\",\"Icy\":\"\",\"icy\":\"\",\"Idot\":\"\",\"IEcy\":\"\",\"iecy\":\"\",\"iexcl\":\"\",\"iff\":\"\",\"ifr\":\"\",\"Ifr\":\"\",\"Igrave\":\"\",\"igrave\":\"\",\"ii\":\"\",\"iiiint\":\"\",\"iiint\":\"\",\"iinfin\":\"\",\"iiota\":\"\",\"IJlig\":\"\",\"ijlig\":\"\",\"Imacr\":\"\",\"imacr\":\"\",\"image\":\"\",\"ImaginaryI\":\"\",\"imagline\":\"\",\"imagpart\":\"\",\"imath\":\"\",\"Im\":\"\",\"imof\":\"\",\"imped\":\"\",\"Implies\":\"\",\"incare\":\"\",\"in\":\"\",\"infin\":\"\",\"infintie\":\"\",\"inodot\":\"\",\"intcal\":\"\",\"int\":\"\",\"Int\":\"\",\"integers\":\"\",\"Integral\":\"\",\"intercal\":\"\",\"Intersection\":\"\",\"intlarhk\":\"\",\"intprod\":\"\",\"InvisibleComma\":\"\",\"InvisibleTimes\":\"\",\"IOcy\":\"\",\"iocy\":\"\",\"Iogon\":\"\",\"iogon\":\"\",\"Iopf\":\"\",\"iopf\":\"\",\"Iota\":\"\",\"iota\":\"\",\"iprod\":\"\",\"iquest\":\"\",\"iscr\":\"\",\"Iscr\":\"\",\"isin\":\"\",\"isindot\":\"\",\"isinE\":\"\",\"isins\":\"\",\"isinsv\":\"\",\"isinv\":\"\",\"it\":\"\",\"Itilde\":\"\",\"itilde\":\"\",\"Iukcy\":\"\",\"iukcy\":\"\",\"Iuml\":\"\",\"iuml\":\"\",\"Jcirc\":\"\",\"jcirc\":\"\",\"Jcy\":\"\",\"jcy\":\"\",\"Jfr\":\"\",\"jfr\":\"\",\"jmath\":\"\",\"Jopf\":\"\",\"jopf\":\"\",\"Jscr\":\"\",\"jscr\":\"\",\"Jsercy\":\"\",\"jsercy\":\"\",\"Jukcy\":\"\",\"jukcy\":\"\",\"Kappa\":\"\",\"kappa\":\"\",\"kappav\":\"\",\"Kcedil\":\"\",\"kcedil\":\"\",\"Kcy\":\"\",\"kcy\":\"\",\"Kfr\":\"\",\"kfr\":\"\",\"kgreen\":\"\",\"KHcy\":\"\",\"khcy\":\"\",\"KJcy\":\"\",\"kjcy\":\"\",\"Kopf\":\"\",\"kopf\":\"\",\"Kscr\":\"\",\"kscr\":\"\",\"lAarr\":\"\",\"Lacute\":\"\",\"lacute\":\"\",\"laemptyv\":\"\",\"lagran\":\"\",\"Lambda\":\"\",\"lambda\":\"\",\"lang\":\"\",\"Lang\":\"\",\"langd\":\"\",\"langle\":\"\",\"lap\":\"\",\"Laplacetrf\":\"\",\"laquo\":\"\",\"larrb\":\"\",\"larrbfs\":\"\",\"larr\":\"\",\"Larr\":\"\",\"lArr\":\"\",\"larrfs\":\"\",\"larrhk\":\"\",\"larrlp\":\"\",\"larrpl\":\"\",\"larrsim\":\"\",\"larrtl\":\"\",\"latail\":\"\",\"lAtail\":\"\",\"lat\":\"\",\"late\":\"\",\"lates\":\"\",\"lbarr\":\"\",\"lBarr\":\"\",\"lbbrk\":\"\",\"lbrace\":\"{\",\"lbrack\":\"[\",\"lbrke\":\"\",\"lbrksld\":\"\",\"lbrkslu\":\"\",\"Lcaron\":\"\",\"lcaron\":\"\",\"Lcedil\":\"\",\"lcedil\":\"\",\"lceil\":\"\",\"lcub\":\"{\",\"Lcy\":\"\",\"lcy\":\"\",\"ldca\":\"\",\"ldquo\":\"\",\"ldquor\":\"\",\"ldrdhar\":\"\",\"ldrushar\":\"\",\"ldsh\":\"\",\"le\":\"\",\"lE\":\"\",\"LeftAngleBracket\":\"\",\"LeftArrowBar\":\"\",\"leftarrow\":\"\",\"LeftArrow\":\"\",\"Leftarrow\":\"\",\"LeftArrowRightArrow\":\"\",\"leftarrowtail\":\"\",\"LeftCeiling\":\"\",\"LeftDoubleBracket\":\"\",\"LeftDownTeeVector\":\"\",\"LeftDownVectorBar\":\"\",\"LeftDownVector\":\"\",\"LeftFloor\":\"\",\"leftharpoondown\":\"\",\"leftharpoonup\":\"\",\"leftleftarrows\":\"\",\"leftrightarrow\":\"\",\"LeftRightArrow\":\"\",\"Leftrightarrow\":\"\",\"leftrightarrows\":\"\",\"leftrightharpoons\":\"\",\"leftrightsquigarrow\":\"\",\"LeftRightVector\":\"\",\"LeftTeeArrow\":\"\",\"LeftTee\":\"\",\"LeftTeeVector\":\"\",\"leftthreetimes\":\"\",\"LeftTriangleBar\":\"\",\"LeftTriangle\":\"\",\"LeftTriangleEqual\":\"\",\"LeftUpDownVector\":\"\",\"LeftUpTeeVector\":\"\",\"LeftUpVectorBar\":\"\",\"LeftUpVector\":\"\",\"LeftVectorBar\":\"\",\"LeftVector\":\"\",\"lEg\":\"\",\"leg\":\"\",\"leq\":\"\",\"leqq\":\"\",\"leqslant\":\"\",\"lescc\":\"\",\"les\":\"\",\"lesdot\":\"\",\"lesdoto\":\"\",\"lesdotor\":\"\",\"lesg\":\"\",\"lesges\":\"\",\"lessapprox\":\"\",\"lessdot\":\"\",\"lesseqgtr\":\"\",\"lesseqqgtr\":\"\",\"LessEqualGreater\":\"\",\"LessFullEqual\":\"\",\"LessGreater\":\"\",\"lessgtr\":\"\",\"LessLess\":\"\",\"lesssim\":\"\",\"LessSlantEqual\":\"\",\"LessTilde\":\"\",\"lfisht\":\"\",\"lfloor\":\"\",\"Lfr\":\"\",\"lfr\":\"\",\"lg\":\"\",\"lgE\":\"\",\"lHar\":\"\",\"lhard\":\"\",\"lharu\":\"\",\"lharul\":\"\",\"lhblk\":\"\",\"LJcy\":\"\",\"ljcy\":\"\",\"llarr\":\"\",\"ll\":\"\",\"Ll\":\"\",\"llcorner\":\"\",\"Lleftarrow\":\"\",\"llhard\":\"\",\"lltri\":\"\",\"Lmidot\":\"\",\"lmidot\":\"\",\"lmoustache\":\"\",\"lmoust\":\"\",\"lnap\":\"\",\"lnapprox\":\"\",\"lne\":\"\",\"lnE\":\"\",\"lneq\":\"\",\"lneqq\":\"\",\"lnsim\":\"\",\"loang\":\"\",\"loarr\":\"\",\"lobrk\":\"\",\"longleftarrow\":\"\",\"LongLeftArrow\":\"\",\"Longleftarrow\":\"\",\"longleftrightarrow\":\"\",\"LongLeftRightArrow\":\"\",\"Longleftrightarrow\":\"\",\"longmapsto\":\"\",\"longrightarrow\":\"\",\"LongRightArrow\":\"\",\"Longrightarrow\":\"\",\"looparrowleft\":\"\",\"looparrowright\":\"\",\"lopar\":\"\",\"Lopf\":\"\",\"lopf\":\"\",\"loplus\":\"\",\"lotimes\":\"\",\"lowast\":\"\",\"lowbar\":\"_\",\"LowerLeftArrow\":\"\",\"LowerRightArrow\":\"\",\"loz\":\"\",\"lozenge\":\"\",\"lozf\":\"\",\"lpar\":\"(\",\"lparlt\":\"\",\"lrarr\":\"\",\"lrcorner\":\"\",\"lrhar\":\"\",\"lrhard\":\"\",\"lrm\":\"\",\"lrtri\":\"\",\"lsaquo\":\"\",\"lscr\":\"\",\"Lscr\":\"\",\"lsh\":\"\",\"Lsh\":\"\",\"lsim\":\"\",\"lsime\":\"\",\"lsimg\":\"\",\"lsqb\":\"[\",\"lsquo\":\"\",\"lsquor\":\"\",\"Lstrok\":\"\",\"lstrok\":\"\",\"ltcc\":\"\",\"ltcir\":\"\",\"lt\":\"<\",\"LT\":\"<\",\"Lt\":\"\",\"ltdot\":\"\",\"lthree\":\"\",\"ltimes\":\"\",\"ltlarr\":\"\",\"ltquest\":\"\",\"ltri\":\"\",\"ltrie\":\"\",\"ltrif\":\"\",\"ltrPar\":\"\",\"lurdshar\":\"\",\"luruhar\":\"\",\"lvertneqq\":\"\",\"lvnE\":\"\",\"macr\":\"\",\"male\":\"\",\"malt\":\"\",\"maltese\":\"\",\"Map\":\"\",\"map\":\"\",\"mapsto\":\"\",\"mapstodown\":\"\",\"mapstoleft\":\"\",\"mapstoup\":\"\",\"marker\":\"\",\"mcomma\":\"\",\"Mcy\":\"\",\"mcy\":\"\",\"mdash\":\"\",\"mDDot\":\"\",\"measuredangle\":\"\",\"MediumSpace\":\"\",\"Mellintrf\":\"\",\"Mfr\":\"\",\"mfr\":\"\",\"mho\":\"\",\"micro\":\"\",\"midast\":\"*\",\"midcir\":\"\",\"mid\":\"\",\"middot\":\"\",\"minusb\":\"\",\"minus\":\"\",\"minusd\":\"\",\"minusdu\":\"\",\"MinusPlus\":\"\",\"mlcp\":\"\",\"mldr\":\"\",\"mnplus\":\"\",\"models\":\"\",\"Mopf\":\"\",\"mopf\":\"\",\"mp\":\"\",\"mscr\":\"\",\"Mscr\":\"\",\"mstpos\":\"\",\"Mu\":\"\",\"mu\":\"\",\"multimap\":\"\",\"mumap\":\"\",\"nabla\":\"\",\"Nacute\":\"\",\"nacute\":\"\",\"nang\":\"\",\"nap\":\"\",\"napE\":\"\",\"napid\":\"\",\"napos\":\"\",\"napprox\":\"\",\"natural\":\"\",\"naturals\":\"\",\"natur\":\"\",\"nbsp\":\"\",\"nbump\":\"\",\"nbumpe\":\"\",\"ncap\":\"\",\"Ncaron\":\"\",\"ncaron\":\"\",\"Ncedil\":\"\",\"ncedil\":\"\",\"ncong\":\"\",\"ncongdot\":\"\",\"ncup\":\"\",\"Ncy\":\"\",\"ncy\":\"\",\"ndash\":\"\",\"nearhk\":\"\",\"nearr\":\"\",\"neArr\":\"\",\"nearrow\":\"\",\"ne\":\"\",\"nedot\":\"\",\"NegativeMediumSpace\":\"\",\"NegativeThickSpace\":\"\",\"NegativeThinSpace\":\"\",\"NegativeVeryThinSpace\":\"\",\"nequiv\":\"\",\"nesear\":\"\",\"nesim\":\"\",\"NestedGreaterGreater\":\"\",\"NestedLessLess\":\"\",\"NewLine\":\"\\n\",\"nexist\":\"\",\"nexists\":\"\",\"Nfr\":\"\",\"nfr\":\"\",\"ngE\":\"\",\"nge\":\"\",\"ngeq\":\"\",\"ngeqq\":\"\",\"ngeqslant\":\"\",\"nges\":\"\",\"nGg\":\"\",\"ngsim\":\"\",\"nGt\":\"\",\"ngt\":\"\",\"ngtr\":\"\",\"nGtv\":\"\",\"nharr\":\"\",\"nhArr\":\"\",\"nhpar\":\"\",\"ni\":\"\",\"nis\":\"\",\"nisd\":\"\",\"niv\":\"\",\"NJcy\":\"\",\"njcy\":\"\",\"nlarr\":\"\",\"nlArr\":\"\",\"nldr\":\"\",\"nlE\":\"\",\"nle\":\"\",\"nleftarrow\":\"\",\"nLeftarrow\":\"\",\"nleftrightarrow\":\"\",\"nLeftrightarrow\":\"\",\"nleq\":\"\",\"nleqq\":\"\",\"nleqslant\":\"\",\"nles\":\"\",\"nless\":\"\",\"nLl\":\"\",\"nlsim\":\"\",\"nLt\":\"\",\"nlt\":\"\",\"nltri\":\"\",\"nltrie\":\"\",\"nLtv\":\"\",\"nmid\":\"\",\"NoBreak\":\"\",\"NonBreakingSpace\":\"\",\"nopf\":\"\",\"Nopf\":\"\",\"Not\":\"\",\"not\":\"\",\"NotCongruent\":\"\",\"NotCupCap\":\"\",\"NotDoubleVerticalBar\":\"\",\"NotElement\":\"\",\"NotEqual\":\"\",\"NotEqualTilde\":\"\",\"NotExists\":\"\",\"NotGreater\":\"\",\"NotGreaterEqual\":\"\",\"NotGreaterFullEqual\":\"\",\"NotGreaterGreater\":\"\",\"NotGreaterLess\":\"\",\"NotGreaterSlantEqual\":\"\",\"NotGreaterTilde\":\"\",\"NotHumpDownHump\":\"\",\"NotHumpEqual\":\"\",\"notin\":\"\",\"notindot\":\"\",\"notinE\":\"\",\"notinva\":\"\",\"notinvb\":\"\",\"notinvc\":\"\",\"NotLeftTriangleBar\":\"\",\"NotLeftTriangle\":\"\",\"NotLeftTriangleEqual\":\"\",\"NotLess\":\"\",\"NotLessEqual\":\"\",\"NotLessGreater\":\"\",\"NotLessLess\":\"\",\"NotLessSlantEqual\":\"\",\"NotLessTilde\":\"\",\"NotNestedGreaterGreater\":\"\",\"NotNestedLessLess\":\"\",\"notni\":\"\",\"notniva\":\"\",\"notnivb\":\"\",\"notnivc\":\"\",\"NotPrecedes\":\"\",\"NotPrecedesEqual\":\"\",\"NotPrecedesSlantEqual\":\"\",\"NotReverseElement\":\"\",\"NotRightTriangleBar\":\"\",\"NotRightTriangle\":\"\",\"NotRightTriangleEqual\":\"\",\"NotSquareSubset\":\"\",\"NotSquareSubsetEqual\":\"\",\"NotSquareSuperset\":\"\",\"NotSquareSupersetEqual\":\"\",\"NotSubset\":\"\",\"NotSubsetEqual\":\"\",\"NotSucceeds\":\"\",\"NotSucceedsEqual\":\"\",\"NotSucceedsSlantEqual\":\"\",\"NotSucceedsTilde\":\"\",\"NotSuperset\":\"\",\"NotSupersetEqual\":\"\",\"NotTilde\":\"\",\"NotTildeEqual\":\"\",\"NotTildeFullEqual\":\"\",\"NotTildeTilde\":\"\",\"NotVerticalBar\":\"\",\"nparallel\":\"\",\"npar\":\"\",\"nparsl\":\"\",\"npart\":\"\",\"npolint\":\"\",\"npr\":\"\",\"nprcue\":\"\",\"nprec\":\"\",\"npreceq\":\"\",\"npre\":\"\",\"nrarrc\":\"\",\"nrarr\":\"\",\"nrArr\":\"\",\"nrarrw\":\"\",\"nrightarrow\":\"\",\"nRightarrow\":\"\",\"nrtri\":\"\",\"nrtrie\":\"\",\"nsc\":\"\",\"nsccue\":\"\",\"nsce\":\"\",\"Nscr\":\"\",\"nscr\":\"\",\"nshortmid\":\"\",\"nshortparallel\":\"\",\"nsim\":\"\",\"nsime\":\"\",\"nsimeq\":\"\",\"nsmid\":\"\",\"nspar\":\"\",\"nsqsube\":\"\",\"nsqsupe\":\"\",\"nsub\":\"\",\"nsubE\":\"\",\"nsube\":\"\",\"nsubset\":\"\",\"nsubseteq\":\"\",\"nsubseteqq\":\"\",\"nsucc\":\"\",\"nsucceq\":\"\",\"nsup\":\"\",\"nsupE\":\"\",\"nsupe\":\"\",\"nsupset\":\"\",\"nsupseteq\":\"\",\"nsupseteqq\":\"\",\"ntgl\":\"\",\"Ntilde\":\"\",\"ntilde\":\"\",\"ntlg\":\"\",\"ntriangleleft\":\"\",\"ntrianglelefteq\":\"\",\"ntriangleright\":\"\",\"ntrianglerighteq\":\"\",\"Nu\":\"\",\"nu\":\"\",\"num\":\"#\",\"numero\":\"\",\"numsp\":\"\",\"nvap\":\"\",\"nvdash\":\"\",\"nvDash\":\"\",\"nVdash\":\"\",\"nVDash\":\"\",\"nvge\":\"\",\"nvgt\":\">\",\"nvHarr\":\"\",\"nvinfin\":\"\",\"nvlArr\":\"\",\"nvle\":\"\",\"nvlt\":\"<\",\"nvltrie\":\"\",\"nvrArr\":\"\",\"nvrtrie\":\"\",\"nvsim\":\"\",\"nwarhk\":\"\",\"nwarr\":\"\",\"nwArr\":\"\",\"nwarrow\":\"\",\"nwnear\":\"\",\"Oacute\":\"\",\"oacute\":\"\",\"oast\":\"\",\"Ocirc\":\"\",\"ocirc\":\"\",\"ocir\":\"\",\"Ocy\":\"\",\"ocy\":\"\",\"odash\":\"\",\"Odblac\":\"\",\"odblac\":\"\",\"odiv\":\"\",\"odot\":\"\",\"odsold\":\"\",\"OElig\":\"\",\"oelig\":\"\",\"ofcir\":\"\",\"Ofr\":\"\",\"ofr\":\"\",\"ogon\":\"\",\"Ograve\":\"\",\"ograve\":\"\",\"ogt\":\"\",\"ohbar\":\"\",\"ohm\":\"\",\"oint\":\"\",\"olarr\":\"\",\"olcir\":\"\",\"olcross\":\"\",\"oline\":\"\",\"olt\":\"\",\"Omacr\":\"\",\"omacr\":\"\",\"Omega\":\"\",\"omega\":\"\",\"Omicron\":\"\",\"omicron\":\"\",\"omid\":\"\",\"ominus\":\"\",\"Oopf\":\"\",\"oopf\":\"\",\"opar\":\"\",\"OpenCurlyDoubleQuote\":\"\",\"OpenCurlyQuote\":\"\",\"operp\":\"\",\"oplus\":\"\",\"orarr\":\"\",\"Or\":\"\",\"or\":\"\",\"ord\":\"\",\"order\":\"\",\"orderof\":\"\",\"ordf\":\"\",\"ordm\":\"\",\"origof\":\"\",\"oror\":\"\",\"orslope\":\"\",\"orv\":\"\",\"oS\":\"\",\"Oscr\":\"\",\"oscr\":\"\",\"Oslash\":\"\",\"oslash\":\"\",\"osol\":\"\",\"Otilde\":\"\",\"otilde\":\"\",\"otimesas\":\"\",\"Otimes\":\"\",\"otimes\":\"\",\"Ouml\":\"\",\"ouml\":\"\",\"ovbar\":\"\",\"OverBar\":\"\",\"OverBrace\":\"\",\"OverBracket\":\"\",\"OverParenthesis\":\"\",\"para\":\"\",\"parallel\":\"\",\"par\":\"\",\"parsim\":\"\",\"parsl\":\"\",\"part\":\"\",\"PartialD\":\"\",\"Pcy\":\"\",\"pcy\":\"\",\"percnt\":\"%\",\"period\":\".\",\"permil\":\"\",\"perp\":\"\",\"pertenk\":\"\",\"Pfr\":\"\",\"pfr\":\"\",\"Phi\":\"\",\"phi\":\"\",\"phiv\":\"\",\"phmmat\":\"\",\"phone\":\"\",\"Pi\":\"\",\"pi\":\"\",\"pitchfork\":\"\",\"piv\":\"\",\"planck\":\"\",\"planckh\":\"\",\"plankv\":\"\",\"plusacir\":\"\",\"plusb\":\"\",\"pluscir\":\"\",\"plus\":\"+\",\"plusdo\":\"\",\"plusdu\":\"\",\"pluse\":\"\",\"PlusMinus\":\"\",\"plusmn\":\"\",\"plussim\":\"\",\"plustwo\":\"\",\"pm\":\"\",\"Poincareplane\":\"\",\"pointint\":\"\",\"popf\":\"\",\"Popf\":\"\",\"pound\":\"\",\"prap\":\"\",\"Pr\":\"\",\"pr\":\"\",\"prcue\":\"\",\"precapprox\":\"\",\"prec\":\"\",\"preccurlyeq\":\"\",\"Precedes\":\"\",\"PrecedesEqual\":\"\",\"PrecedesSlantEqual\":\"\",\"PrecedesTilde\":\"\",\"preceq\":\"\",\"precnapprox\":\"\",\"precneqq\":\"\",\"precnsim\":\"\",\"pre\":\"\",\"prE\":\"\",\"precsim\":\"\",\"prime\":\"\",\"Prime\":\"\",\"primes\":\"\",\"prnap\":\"\",\"prnE\":\"\",\"prnsim\":\"\",\"prod\":\"\",\"Product\":\"\",\"profalar\":\"\",\"profline\":\"\",\"profsurf\":\"\",\"prop\":\"\",\"Proportional\":\"\",\"Proportion\":\"\",\"propto\":\"\",\"prsim\":\"\",\"prurel\":\"\",\"Pscr\":\"\",\"pscr\":\"\",\"Psi\":\"\",\"psi\":\"\",\"puncsp\":\"\",\"Qfr\":\"\",\"qfr\":\"\",\"qint\":\"\",\"qopf\":\"\",\"Qopf\":\"\",\"qprime\":\"\",\"Qscr\":\"\",\"qscr\":\"\",\"quaternions\":\"\",\"quatint\":\"\",\"quest\":\"?\",\"questeq\":\"\",\"quot\":\"\\\"\",\"QUOT\":\"\\\"\",\"rAarr\":\"\",\"race\":\"\",\"Racute\":\"\",\"racute\":\"\",\"radic\":\"\",\"raemptyv\":\"\",\"rang\":\"\",\"Rang\":\"\",\"rangd\":\"\",\"range\":\"\",\"rangle\":\"\",\"raquo\":\"\",\"rarrap\":\"\",\"rarrb\":\"\",\"rarrbfs\":\"\",\"rarrc\":\"\",\"rarr\":\"\",\"Rarr\":\"\",\"rArr\":\"\",\"rarrfs\":\"\",\"rarrhk\":\"\",\"rarrlp\":\"\",\"rarrpl\":\"\",\"rarrsim\":\"\",\"Rarrtl\":\"\",\"rarrtl\":\"\",\"rarrw\":\"\",\"ratail\":\"\",\"rAtail\":\"\",\"ratio\":\"\",\"rationals\":\"\",\"rbarr\":\"\",\"rBarr\":\"\",\"RBarr\":\"\",\"rbbrk\":\"\",\"rbrace\":\"}\",\"rbrack\":\"]\",\"rbrke\":\"\",\"rbrksld\":\"\",\"rbrkslu\":\"\",\"Rcaron\":\"\",\"rcaron\":\"\",\"Rcedil\":\"\",\"rcedil\":\"\",\"rceil\":\"\",\"rcub\":\"}\",\"Rcy\":\"\",\"rcy\":\"\",\"rdca\":\"\",\"rdldhar\":\"\",\"rdquo\":\"\",\"rdquor\":\"\",\"rdsh\":\"\",\"real\":\"\",\"realine\":\"\",\"realpart\":\"\",\"reals\":\"\",\"Re\":\"\",\"rect\":\"\",\"reg\":\"\",\"REG\":\"\",\"ReverseElement\":\"\",\"ReverseEquilibrium\":\"\",\"ReverseUpEquilibrium\":\"\",\"rfisht\":\"\",\"rfloor\":\"\",\"rfr\":\"\",\"Rfr\":\"\",\"rHar\":\"\",\"rhard\":\"\",\"rharu\":\"\",\"rharul\":\"\",\"Rho\":\"\",\"rho\":\"\",\"rhov\":\"\",\"RightAngleBracket\":\"\",\"RightArrowBar\":\"\",\"rightarrow\":\"\",\"RightArrow\":\"\",\"Rightarrow\":\"\",\"RightArrowLeftArrow\":\"\",\"rightarrowtail\":\"\",\"RightCeiling\":\"\",\"RightDoubleBracket\":\"\",\"RightDownTeeVector\":\"\",\"RightDownVectorBar\":\"\",\"RightDownVector\":\"\",\"RightFloor\":\"\",\"rightharpoondown\":\"\",\"rightharpoonup\":\"\",\"rightleftarrows\":\"\",\"rightleftharpoons\":\"\",\"rightrightarrows\":\"\",\"rightsquigarrow\":\"\",\"RightTeeArrow\":\"\",\"RightTee\":\"\",\"RightTeeVector\":\"\",\"rightthreetimes\":\"\",\"RightTriangleBar\":\"\",\"RightTriangle\":\"\",\"RightTriangleEqual\":\"\",\"RightUpDownVector\":\"\",\"RightUpTeeVector\":\"\",\"RightUpVectorBar\":\"\",\"RightUpVector\":\"\",\"RightVectorBar\":\"\",\"RightVector\":\"\",\"ring\":\"\",\"risingdotseq\":\"\",\"rlarr\":\"\",\"rlhar\":\"\",\"rlm\":\"\",\"rmoustache\":\"\",\"rmoust\":\"\",\"rnmid\":\"\",\"roang\":\"\",\"roarr\":\"\",\"robrk\":\"\",\"ropar\":\"\",\"ropf\":\"\",\"Ropf\":\"\",\"roplus\":\"\",\"rotimes\":\"\",\"RoundImplies\":\"\",\"rpar\":\")\",\"rpargt\":\"\",\"rppolint\":\"\",\"rrarr\":\"\",\"Rrightarrow\":\"\",\"rsaquo\":\"\",\"rscr\":\"\",\"Rscr\":\"\",\"rsh\":\"\",\"Rsh\":\"\",\"rsqb\":\"]\",\"rsquo\":\"\",\"rsquor\":\"\",\"rthree\":\"\",\"rtimes\":\"\",\"rtri\":\"\",\"rtrie\":\"\",\"rtrif\":\"\",\"rtriltri\":\"\",\"RuleDelayed\":\"\",\"ruluhar\":\"\",\"rx\":\"\",\"Sacute\":\"\",\"sacute\":\"\",\"sbquo\":\"\",\"scap\":\"\",\"Scaron\":\"\",\"scaron\":\"\",\"Sc\":\"\",\"sc\":\"\",\"sccue\":\"\",\"sce\":\"\",\"scE\":\"\",\"Scedil\":\"\",\"scedil\":\"\",\"Scirc\":\"\",\"scirc\":\"\",\"scnap\":\"\",\"scnE\":\"\",\"scnsim\":\"\",\"scpolint\":\"\",\"scsim\":\"\",\"Scy\":\"\",\"scy\":\"\",\"sdotb\":\"\",\"sdot\":\"\",\"sdote\":\"\",\"searhk\":\"\",\"searr\":\"\",\"seArr\":\"\",\"searrow\":\"\",\"sect\":\"\",\"semi\":\";\",\"seswar\":\"\",\"setminus\":\"\",\"setmn\":\"\",\"sext\":\"\",\"Sfr\":\"\",\"sfr\":\"\",\"sfrown\":\"\",\"sharp\":\"\",\"SHCHcy\":\"\",\"shchcy\":\"\",\"SHcy\":\"\",\"shcy\":\"\",\"ShortDownArrow\":\"\",\"ShortLeftArrow\":\"\",\"shortmid\":\"\",\"shortparallel\":\"\",\"ShortRightArrow\":\"\",\"ShortUpArrow\":\"\",\"shy\":\"\",\"Sigma\":\"\",\"sigma\":\"\",\"sigmaf\":\"\",\"sigmav\":\"\",\"sim\":\"\",\"simdot\":\"\",\"sime\":\"\",\"simeq\":\"\",\"simg\":\"\",\"simgE\":\"\",\"siml\":\"\",\"simlE\":\"\",\"simne\":\"\",\"simplus\":\"\",\"simrarr\":\"\",\"slarr\":\"\",\"SmallCircle\":\"\",\"smallsetminus\":\"\",\"smashp\":\"\",\"smeparsl\":\"\",\"smid\":\"\",\"smile\":\"\",\"smt\":\"\",\"smte\":\"\",\"smtes\":\"\",\"SOFTcy\":\"\",\"softcy\":\"\",\"solbar\":\"\",\"solb\":\"\",\"sol\":\"/\",\"Sopf\":\"\",\"sopf\":\"\",\"spades\":\"\",\"spadesuit\":\"\",\"spar\":\"\",\"sqcap\":\"\",\"sqcaps\":\"\",\"sqcup\":\"\",\"sqcups\":\"\",\"Sqrt\":\"\",\"sqsub\":\"\",\"sqsube\":\"\",\"sqsubset\":\"\",\"sqsubseteq\":\"\",\"sqsup\":\"\",\"sqsupe\":\"\",\"sqsupset\":\"\",\"sqsupseteq\":\"\",\"square\":\"\",\"Square\":\"\",\"SquareIntersection\":\"\",\"SquareSubset\":\"\",\"SquareSubsetEqual\":\"\",\"SquareSuperset\":\"\",\"SquareSupersetEqual\":\"\",\"SquareUnion\":\"\",\"squarf\":\"\",\"squ\":\"\",\"squf\":\"\",\"srarr\":\"\",\"Sscr\":\"\",\"sscr\":\"\",\"ssetmn\":\"\",\"ssmile\":\"\",\"sstarf\":\"\",\"Star\":\"\",\"star\":\"\",\"starf\":\"\",\"straightepsilon\":\"\",\"straightphi\":\"\",\"strns\":\"\",\"sub\":\"\",\"Sub\":\"\",\"subdot\":\"\",\"subE\":\"\",\"sube\":\"\",\"subedot\":\"\",\"submult\":\"\",\"subnE\":\"\",\"subne\":\"\",\"subplus\":\"\",\"subrarr\":\"\",\"subset\":\"\",\"Subset\":\"\",\"subseteq\":\"\",\"subseteqq\":\"\",\"SubsetEqual\":\"\",\"subsetneq\":\"\",\"subsetneqq\":\"\",\"subsim\":\"\",\"subsub\":\"\",\"subsup\":\"\",\"succapprox\":\"\",\"succ\":\"\",\"succcurlyeq\":\"\",\"Succeeds\":\"\",\"SucceedsEqual\":\"\",\"SucceedsSlantEqual\":\"\",\"SucceedsTilde\":\"\",\"succeq\":\"\",\"succnapprox\":\"\",\"succneqq\":\"\",\"succnsim\":\"\",\"succsim\":\"\",\"SuchThat\":\"\",\"sum\":\"\",\"Sum\":\"\",\"sung\":\"\",\"sup1\":\"\",\"sup2\":\"\",\"sup3\":\"\",\"sup\":\"\",\"Sup\":\"\",\"supdot\":\"\",\"supdsub\":\"\",\"supE\":\"\",\"supe\":\"\",\"supedot\":\"\",\"Superset\":\"\",\"SupersetEqual\":\"\",\"suphsol\":\"\",\"suphsub\":\"\",\"suplarr\":\"\",\"supmult\":\"\",\"supnE\":\"\",\"supne\":\"\",\"supplus\":\"\",\"supset\":\"\",\"Supset\":\"\",\"supseteq\":\"\",\"supseteqq\":\"\",\"supsetneq\":\"\",\"supsetneqq\":\"\",\"supsim\":\"\",\"supsub\":\"\",\"supsup\":\"\",\"swarhk\":\"\",\"swarr\":\"\",\"swArr\":\"\",\"swarrow\":\"\",\"swnwar\":\"\",\"szlig\":\"\",\"Tab\":\"\\t\",\"target\":\"\",\"Tau\":\"\",\"tau\":\"\",\"tbrk\":\"\",\"Tcaron\":\"\",\"tcaron\":\"\",\"Tcedil\":\"\",\"tcedil\":\"\",\"Tcy\":\"\",\"tcy\":\"\",\"tdot\":\"\",\"telrec\":\"\",\"Tfr\":\"\",\"tfr\":\"\",\"there4\":\"\",\"therefore\":\"\",\"Therefore\":\"\",\"Theta\":\"\",\"theta\":\"\",\"thetasym\":\"\",\"thetav\":\"\",\"thickapprox\":\"\",\"thicksim\":\"\",\"ThickSpace\":\"\",\"ThinSpace\":\"\",\"thinsp\":\"\",\"thkap\":\"\",\"thksim\":\"\",\"THORN\":\"\",\"thorn\":\"\",\"tilde\":\"\",\"Tilde\":\"\",\"TildeEqual\":\"\",\"TildeFullEqual\":\"\",\"TildeTilde\":\"\",\"timesbar\":\"\",\"timesb\":\"\",\"times\":\"\",\"timesd\":\"\",\"tint\":\"\",\"toea\":\"\",\"topbot\":\"\",\"topcir\":\"\",\"top\":\"\",\"Topf\":\"\",\"topf\":\"\",\"topfork\":\"\",\"tosa\":\"\",\"tprime\":\"\",\"trade\":\"\",\"TRADE\":\"\",\"triangle\":\"\",\"triangledown\":\"\",\"triangleleft\":\"\",\"trianglelefteq\":\"\",\"triangleq\":\"\",\"triangleright\":\"\",\"trianglerighteq\":\"\",\"tridot\":\"\",\"trie\":\"\",\"triminus\":\"\",\"TripleDot\":\"\",\"triplus\":\"\",\"trisb\":\"\",\"tritime\":\"\",\"trpezium\":\"\",\"Tscr\":\"\",\"tscr\":\"\",\"TScy\":\"\",\"tscy\":\"\",\"TSHcy\":\"\",\"tshcy\":\"\",\"Tstrok\":\"\",\"tstrok\":\"\",\"twixt\":\"\",\"twoheadleftarrow\":\"\",\"twoheadrightarrow\":\"\",\"Uacute\":\"\",\"uacute\":\"\",\"uarr\":\"\",\"Uarr\":\"\",\"uArr\":\"\",\"Uarrocir\":\"\",\"Ubrcy\":\"\",\"ubrcy\":\"\",\"Ubreve\":\"\",\"ubreve\":\"\",\"Ucirc\":\"\",\"ucirc\":\"\",\"Ucy\":\"\",\"ucy\":\"\",\"udarr\":\"\",\"Udblac\":\"\",\"udblac\":\"\",\"udhar\":\"\",\"ufisht\":\"\",\"Ufr\":\"\",\"ufr\":\"\",\"Ugrave\":\"\",\"ugrave\":\"\",\"uHar\":\"\",\"uharl\":\"\",\"uharr\":\"\",\"uhblk\":\"\",\"ulcorn\":\"\",\"ulcorner\":\"\",\"ulcrop\":\"\",\"ultri\":\"\",\"Umacr\":\"\",\"umacr\":\"\",\"uml\":\"\",\"UnderBar\":\"_\",\"UnderBrace\":\"\",\"UnderBracket\":\"\",\"UnderParenthesis\":\"\",\"Union\":\"\",\"UnionPlus\":\"\",\"Uogon\":\"\",\"uogon\":\"\",\"Uopf\":\"\",\"uopf\":\"\",\"UpArrowBar\":\"\",\"uparrow\":\"\",\"UpArrow\":\"\",\"Uparrow\":\"\",\"UpArrowDownArrow\":\"\",\"updownarrow\":\"\",\"UpDownArrow\":\"\",\"Updownarrow\":\"\",\"UpEquilibrium\":\"\",\"upharpoonleft\":\"\",\"upharpoonright\":\"\",\"uplus\":\"\",\"UpperLeftArrow\":\"\",\"UpperRightArrow\":\"\",\"upsi\":\"\",\"Upsi\":\"\",\"upsih\":\"\",\"Upsilon\":\"\",\"upsilon\":\"\",\"UpTeeArrow\":\"\",\"UpTee\":\"\",\"upuparrows\":\"\",\"urcorn\":\"\",\"urcorner\":\"\",\"urcrop\":\"\",\"Uring\":\"\",\"uring\":\"\",\"urtri\":\"\",\"Uscr\":\"\",\"uscr\":\"\",\"utdot\":\"\",\"Utilde\":\"\",\"utilde\":\"\",\"utri\":\"\",\"utrif\":\"\",\"uuarr\":\"\",\"Uuml\":\"\",\"uuml\":\"\",\"uwangle\":\"\",\"vangrt\":\"\",\"varepsilon\":\"\",\"varkappa\":\"\",\"varnothing\":\"\",\"varphi\":\"\",\"varpi\":\"\",\"varpropto\":\"\",\"varr\":\"\",\"vArr\":\"\",\"varrho\":\"\",\"varsigma\":\"\",\"varsubsetneq\":\"\",\"varsubsetneqq\":\"\",\"varsupsetneq\":\"\",\"varsupsetneqq\":\"\",\"vartheta\":\"\",\"vartriangleleft\":\"\",\"vartriangleright\":\"\",\"vBar\":\"\",\"Vbar\":\"\",\"vBarv\":\"\",\"Vcy\":\"\",\"vcy\":\"\",\"vdash\":\"\",\"vDash\":\"\",\"Vdash\":\"\",\"VDash\":\"\",\"Vdashl\":\"\",\"veebar\":\"\",\"vee\":\"\",\"Vee\":\"\",\"veeeq\":\"\",\"vellip\":\"\",\"verbar\":\"|\",\"Verbar\":\"\",\"vert\":\"|\",\"Vert\":\"\",\"VerticalBar\":\"\",\"VerticalLine\":\"|\",\"VerticalSeparator\":\"\",\"VerticalTilde\":\"\",\"VeryThinSpace\":\"\",\"Vfr\":\"\",\"vfr\":\"\",\"vltri\":\"\",\"vnsub\":\"\",\"vnsup\":\"\",\"Vopf\":\"\",\"vopf\":\"\",\"vprop\":\"\",\"vrtri\":\"\",\"Vscr\":\"\",\"vscr\":\"\",\"vsubnE\":\"\",\"vsubne\":\"\",\"vsupnE\":\"\",\"vsupne\":\"\",\"Vvdash\":\"\",\"vzigzag\":\"\",\"Wcirc\":\"\",\"wcirc\":\"\",\"wedbar\":\"\",\"wedge\":\"\",\"Wedge\":\"\",\"wedgeq\":\"\",\"weierp\":\"\",\"Wfr\":\"\",\"wfr\":\"\",\"Wopf\":\"\",\"wopf\":\"\",\"wp\":\"\",\"wr\":\"\",\"wreath\":\"\",\"Wscr\":\"\",\"wscr\":\"\",\"xcap\":\"\",\"xcirc\":\"\",\"xcup\":\"\",\"xdtri\":\"\",\"Xfr\":\"\",\"xfr\":\"\",\"xharr\":\"\",\"xhArr\":\"\",\"Xi\":\"\",\"xi\":\"\",\"xlarr\":\"\",\"xlArr\":\"\",\"xmap\":\"\",\"xnis\":\"\",\"xodot\":\"\",\"Xopf\":\"\",\"xopf\":\"\",\"xoplus\":\"\",\"xotime\":\"\",\"xrarr\":\"\",\"xrArr\":\"\",\"Xscr\":\"\",\"xscr\":\"\",\"xsqcup\":\"\",\"xuplus\":\"\",\"xutri\":\"\",\"xvee\":\"\",\"xwedge\":\"\",\"Yacute\":\"\",\"yacute\":\"\",\"YAcy\":\"\",\"yacy\":\"\",\"Ycirc\":\"\",\"ycirc\":\"\",\"Ycy\":\"\",\"ycy\":\"\",\"yen\":\"\",\"Yfr\":\"\",\"yfr\":\"\",\"YIcy\":\"\",\"yicy\":\"\",\"Yopf\":\"\",\"yopf\":\"\",\"Yscr\":\"\",\"yscr\":\"\",\"YUcy\":\"\",\"yucy\":\"\",\"yuml\":\"\",\"Yuml\":\"\",\"Zacute\":\"\",\"zacute\":\"\",\"Zcaron\":\"\",\"zcaron\":\"\",\"Zcy\":\"\",\"zcy\":\"\",\"Zdot\":\"\",\"zdot\":\"\",\"zeetrf\":\"\",\"ZeroWidthSpace\":\"\",\"Zeta\":\"\",\"zeta\":\"\",\"zfr\":\"\",\"Zfr\":\"\",\"ZHcy\":\"\",\"zhcy\":\"\",\"zigrarr\":\"\",\"zopf\":\"\",\"Zopf\":\"\",\"Zscr\":\"\",\"zscr\":\"\",\"zwj\":\"\",\"zwnj\":\"\"}\n",
    "module.exports={\"Aacute\":\"\",\"aacute\":\"\",\"Acirc\":\"\",\"acirc\":\"\",\"acute\":\"\",\"AElig\":\"\",\"aelig\":\"\",\"Agrave\":\"\",\"agrave\":\"\",\"amp\":\"&\",\"AMP\":\"&\",\"Aring\":\"\",\"aring\":\"\",\"Atilde\":\"\",\"atilde\":\"\",\"Auml\":\"\",\"auml\":\"\",\"brvbar\":\"\",\"Ccedil\":\"\",\"ccedil\":\"\",\"cedil\":\"\",\"cent\":\"\",\"copy\":\"\",\"COPY\":\"\",\"curren\":\"\",\"deg\":\"\",\"divide\":\"\",\"Eacute\":\"\",\"eacute\":\"\",\"Ecirc\":\"\",\"ecirc\":\"\",\"Egrave\":\"\",\"egrave\":\"\",\"ETH\":\"\",\"eth\":\"\",\"Euml\":\"\",\"euml\":\"\",\"frac12\":\"\",\"frac14\":\"\",\"frac34\":\"\",\"gt\":\">\",\"GT\":\">\",\"Iacute\":\"\",\"iacute\":\"\",\"Icirc\":\"\",\"icirc\":\"\",\"iexcl\":\"\",\"Igrave\":\"\",\"igrave\":\"\",\"iquest\":\"\",\"Iuml\":\"\",\"iuml\":\"\",\"laquo\":\"\",\"lt\":\"<\",\"LT\":\"<\",\"macr\":\"\",\"micro\":\"\",\"middot\":\"\",\"nbsp\":\"\",\"not\":\"\",\"Ntilde\":\"\",\"ntilde\":\"\",\"Oacute\":\"\",\"oacute\":\"\",\"Ocirc\":\"\",\"ocirc\":\"\",\"Ograve\":\"\",\"ograve\":\"\",\"ordf\":\"\",\"ordm\":\"\",\"Oslash\":\"\",\"oslash\":\"\",\"Otilde\":\"\",\"otilde\":\"\",\"Ouml\":\"\",\"ouml\":\"\",\"para\":\"\",\"plusmn\":\"\",\"pound\":\"\",\"quot\":\"\\\"\",\"QUOT\":\"\\\"\",\"raquo\":\"\",\"reg\":\"\",\"REG\":\"\",\"sect\":\"\",\"shy\":\"\",\"sup1\":\"\",\"sup2\":\"\",\"sup3\":\"\",\"szlig\":\"\",\"THORN\":\"\",\"thorn\":\"\",\"times\":\"\",\"Uacute\":\"\",\"uacute\":\"\",\"Ucirc\":\"\",\"ucirc\":\"\",\"Ugrave\":\"\",\"ugrave\":\"\",\"uml\":\"\",\"Uuml\":\"\",\"uuml\":\"\",\"Yacute\":\"\",\"yacute\":\"\",\"yen\":\"\",\"yuml\":\"\"}\n",
    "module.exports={\"amp\":\"&\",\"apos\":\"'\",\"gt\":\">\",\"lt\":\"<\",\"quot\":\"\\\"\"}\n",
    "module.exports={\n  \"name\": \"cheerio\",\n  \"version\": \"1.0.0-rc.5\",\n  \"description\": \"Tiny, fast, and elegant implementation of core jQuery designed specifically for the server\",\n  \"author\": \"Matt Mueller <mattmuelle@gmail.com> (mat.io)\",\n  \"license\": \"MIT\",\n  \"keywords\": [\n    \"htmlparser\",\n    \"jquery\",\n    \"selector\",\n    \"scraper\",\n    \"parser\",\n    \"html\"\n  ],\n  \"repository\": {\n    \"type\": \"git\",\n    \"url\": \"git://github.com/cheeriojs/cheerio.git\"\n  },\n  \"main\": \"./index.js\",\n  \"types\": \"types/index.d.ts\",\n  \"files\": [\n    \"index.js\",\n    \"types/index.d.ts\",\n    \"lib\"\n  ],\n  \"engines\": {\n    \"node\": \">= 0.12\"\n  },\n  \"dependencies\": {\n    \"cheerio-select-tmp\": \"^0.1.0\",\n    \"dom-serializer\": \"~1.2.0\",\n    \"domhandler\": \"^4.0.0\",\n    \"entities\": \"~2.1.0\",\n    \"htmlparser2\": \"^6.0.0\",\n    \"parse5\": \"^6.0.0\",\n    \"parse5-htmlparser2-tree-adapter\": \"^6.0.0\"\n  },\n  \"devDependencies\": {\n    \"@types/node\": \"^14.14.10\",\n    \"benchmark\": \"^2.1.4\",\n    \"coveralls\": \"^3.0.2\",\n    \"eslint\": \"^7.10.0\",\n    \"eslint-config-prettier\": \"^7.0.0\",\n    \"eslint-plugin-jsdoc\": \"^30.6.2\",\n    \"expect.js\": \"~0.3.1\",\n    \"husky\": \"^4.2.5\",\n    \"jquery\": \"^3.0.0\",\n    \"jsdoc\": \"^3.6.6\",\n    \"jsdom\": \"^16.2.2\",\n    \"lint-staged\": \"^10.2.2\",\n    \"mocha\": \"^8.1.1\",\n    \"nyc\": \"^15.0.1\",\n    \"prettier\": \"^2.1.1\",\n    \"tsd\": \"^0.14.0\",\n    \"xyz\": \"~4.0.0\"\n  },\n  \"scripts\": {\n    \"test\": \"npm run lint && npm run test:mocha && npm run test:types\",\n    \"test:mocha\": \"mocha --recursive --reporter dot --parallel\",\n    \"test:types\": \"tsd\",\n    \"lint\": \"npm run lint:es && npm run lint:prettier\",\n    \"lint:es\": \"eslint --ignore-path .prettierignore .\",\n    \"lint:prettier\": \"npm run format:prettier:raw -- --check\",\n    \"format\": \"npm run format:es && npm run format:prettier\",\n    \"format:es\": \"npm run lint:es -- --fix\",\n    \"format:prettier\": \"npm run format:prettier:raw -- --write\",\n    \"format:prettier:raw\": \"prettier '**/*.{js,ts,md,json,yml}' --ignore-path .prettierignore\",\n    \"build:docs\": \"jsdoc --configure jsdoc-config.json\",\n    \"pre-commit\": \"lint-staged\"\n  },\n  \"prettier\": {\n    \"singleQuote\": true,\n    \"tabWidth\": 2\n  },\n  \"lint-staged\": {\n    \"*.js\": [\n      \"prettier --write\",\n      \"npm run test:lint -- --fix\"\n    ],\n    \"*.{json,md,ts,yml}\": [\n      \"prettier --write\"\n    ]\n  }\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attributeRules = void 0;\nvar boolbase_1 = require(\"boolbase\");\n/**\n * All reserved characters in a regex, used for escaping.\n *\n * Taken from XRegExp, (c) 2007-2020 Steven Levithan under the MIT license\n * https://github.com/slevithan/xregexp/blob/95eeebeb8fac8754d54eafe2b4743661ac1cf028/src/xregexp.js#L794\n */\nvar reChars = /[-[\\]{}()*+?.,\\\\^$|#\\s]/g;\nfunction escapeRegex(value) {\n    return value.replace(reChars, \"\\\\$&\");\n}\n/**\n * Attribute selectors\n */\nexports.attributeRules = {\n    equals: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var _a;\n                return ((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.toLowerCase()) ===\n                    value && next(elem);\n            };\n        }\n        return function (elem) {\n            return adapter.getAttributeValue(elem, name) === value && next(elem);\n        };\n    },\n    hyphen: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = value.length;\n        if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function hyphenIC(elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    (attr.length === len || attr.charAt(len) === \"-\") &&\n                    attr.substr(0, len).toLowerCase() === value &&\n                    next(elem));\n            };\n        }\n        return function hyphen(elem) {\n            var attr = adapter.getAttributeValue(elem, name);\n            return (attr != null &&\n                attr.substr(0, len) === value &&\n                (attr.length === len || attr.charAt(len) === \"-\") &&\n                next(elem));\n        };\n    },\n    element: function (next, _a, _b) {\n        var name = _a.name, value = _a.value, ignoreCase = _a.ignoreCase;\n        var adapter = _b.adapter;\n        if (/\\s/.test(value)) {\n            return boolbase_1.falseFunc;\n        }\n        var regex = new RegExp(\"(?:^|\\\\s)\" + escapeRegex(value) + \"(?:$|\\\\s)\", ignoreCase ? \"i\" : \"\");\n        return function element(elem) {\n            var attr = adapter.getAttributeValue(elem, name);\n            return attr != null && regex.test(attr) && next(elem);\n        };\n    },\n    exists: function (next, _a, _b) {\n        var name = _a.name;\n        var adapter = _b.adapter;\n        return function (elem) { return adapter.hasAttrib(elem, name) && next(elem); };\n    },\n    start: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = value.length;\n        if (len === 0) {\n            return boolbase_1.falseFunc;\n        }\n        if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var _a;\n                return ((_a = adapter\n                    .getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.substr(0, len).toLowerCase()) === value && next(elem);\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.startsWith(value)) &&\n                next(elem);\n        };\n    },\n    end: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        var len = -value.length;\n        if (len === 0) {\n            return boolbase_1.falseFunc;\n        }\n        if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var _a;\n                return ((_a = adapter\n                    .getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.substr(len).toLowerCase()) === value && next(elem);\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.endsWith(value)) &&\n                next(elem);\n        };\n    },\n    any: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name, value = data.value;\n        if (value === \"\") {\n            return boolbase_1.falseFunc;\n        }\n        if (data.ignoreCase) {\n            var regex_1 = new RegExp(escapeRegex(value), \"i\");\n            return function anyIC(elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return attr != null && regex_1.test(attr) && next(elem);\n            };\n        }\n        return function (elem) {\n            var _a;\n            return !!((_a = adapter.getAttributeValue(elem, name)) === null || _a === void 0 ? void 0 : _a.includes(value)) &&\n                next(elem);\n        };\n    },\n    not: function (next, data, _a) {\n        var adapter = _a.adapter;\n        var name = data.name;\n        var value = data.value;\n        if (value === \"\") {\n            return function (elem) {\n                return !!adapter.getAttributeValue(elem, name) && next(elem);\n            };\n        }\n        else if (data.ignoreCase) {\n            value = value.toLowerCase();\n            return function (elem) {\n                var attr = adapter.getAttributeValue(elem, name);\n                return (attr != null &&\n                    attr.toLocaleLowerCase() !== value &&\n                    next(elem));\n            };\n        }\n        return function (elem) {\n            return adapter.getAttributeValue(elem, name) !== value && next(elem);\n        };\n    },\n};\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileToken = exports.compileUnsafe = exports.compile = void 0;\nvar css_what_1 = require(\"css-what\");\nvar boolbase_1 = require(\"boolbase\");\nvar sort_1 = __importDefault(require(\"./sort\"));\nvar procedure_1 = require(\"./procedure\");\nvar general_1 = require(\"./general\");\nvar subselects_1 = require(\"./pseudo-selectors/subselects\");\n/**\n * Compiles a selector to an executable function.\n *\n * @param selector Selector to compile.\n * @param options Compilation options.\n * @param context Optional context for the selector.\n */\nfunction compile(selector, options, context) {\n    var next = compileUnsafe(selector, options, context);\n    return subselects_1.ensureIsTag(next, options.adapter);\n}\nexports.compile = compile;\nfunction compileUnsafe(selector, options, context) {\n    var token = css_what_1.parse(selector, options);\n    return compileToken(token, options, context);\n}\nexports.compileUnsafe = compileUnsafe;\nfunction includesScopePseudo(t) {\n    return (t.type === \"pseudo\" &&\n        (t.name === \"scope\" ||\n            (Array.isArray(t.data) &&\n                t.data.some(function (data) { return data.some(includesScopePseudo); }))));\n}\nvar DESCENDANT_TOKEN = { type: \"descendant\" };\nvar FLEXIBLE_DESCENDANT_TOKEN = {\n    type: \"_flexibleDescendant\",\n};\nvar SCOPE_TOKEN = { type: \"pseudo\", name: \"scope\", data: null };\n/*\n * CSS 4 Spec (Draft): 3.3.1. Absolutizing a Scope-relative Selector\n * http://www.w3.org/TR/selectors4/#absolutizing\n */\nfunction absolutize(token, _a, context) {\n    var adapter = _a.adapter;\n    // TODO Use better check if the context is a document\n    var hasContext = !!(context === null || context === void 0 ? void 0 : context.every(function (e) {\n        var parent = adapter.getParent(e);\n        return e === subselects_1.PLACEHOLDER_ELEMENT || !!(parent && adapter.isTag(parent));\n    }));\n    for (var _i = 0, token_1 = token; _i < token_1.length; _i++) {\n        var t = token_1[_i];\n        if (t.length > 0 && procedure_1.isTraversal(t[0]) && t[0].type !== \"descendant\") {\n            // Don't continue in else branch\n        }\n        else if (hasContext && !t.some(includesScopePseudo)) {\n            t.unshift(DESCENDANT_TOKEN);\n        }\n        else {\n            continue;\n        }\n        t.unshift(SCOPE_TOKEN);\n    }\n}\nfunction compileToken(token, options, context) {\n    var _a;\n    token = token.filter(function (t) { return t.length > 0; });\n    token.forEach(sort_1.default);\n    context = (_a = options.context) !== null && _a !== void 0 ? _a : context;\n    var isArrayContext = Array.isArray(context);\n    var finalContext = context && (Array.isArray(context) ? context : [context]);\n    absolutize(token, options, finalContext);\n    var shouldTestNextSiblings = false;\n    var query = token\n        .map(function (rules) {\n        if (rules.length >= 2) {\n            var first = rules[0], second = rules[1];\n            if (first.type !== \"pseudo\" || first.name !== \"scope\") {\n                // Ignore\n            }\n            else if (isArrayContext && second.type === \"descendant\") {\n                rules[1] = FLEXIBLE_DESCENDANT_TOKEN;\n            }\n            else if (second.type === \"adjacent\" ||\n                second.type === \"sibling\") {\n                shouldTestNextSiblings = true;\n            }\n        }\n        return compileRules(rules, options, finalContext);\n    })\n        .reduce(reduceRules, boolbase_1.falseFunc);\n    query.shouldTestNextSiblings = shouldTestNextSiblings;\n    return query;\n}\nexports.compileToken = compileToken;\nfunction compileRules(rules, options, context) {\n    var _a;\n    return rules.reduce(function (previous, rule) {\n        return previous === boolbase_1.falseFunc\n            ? boolbase_1.falseFunc\n            : general_1.compileGeneralSelector(previous, rule, options, context, compileToken);\n    }, (_a = options.rootFunc) !== null && _a !== void 0 ? _a : boolbase_1.trueFunc);\n}\nfunction reduceRules(a, b) {\n    if (b === boolbase_1.falseFunc || a === boolbase_1.trueFunc) {\n        return a;\n    }\n    if (a === boolbase_1.falseFunc || b === boolbase_1.trueFunc) {\n        return b;\n    }\n    return function combine(elem) {\n        return a(elem) || b(elem);\n    };\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compileGeneralSelector = void 0;\nvar attributes_1 = require(\"./attributes\");\nvar pseudo_selectors_1 = require(\"./pseudo-selectors\");\n/*\n * All available rules\n */\nfunction compileGeneralSelector(next, selector, options, context, compileToken) {\n    var adapter = options.adapter, equals = options.equals;\n    switch (selector.type) {\n        case \"pseudo-element\":\n            throw new Error(\"Pseudo-elements are not supported by css-select\");\n        case \"attribute\":\n            if (options.strict &&\n                (selector.ignoreCase || selector.action === \"not\")) {\n                throw new Error(\"Unsupported attribute selector\");\n            }\n            return attributes_1.attributeRules[selector.action](next, selector, options);\n        case \"pseudo\":\n            return pseudo_selectors_1.compilePseudoSelector(next, selector, options, context, compileToken);\n        // Tags\n        case \"tag\":\n            return function tag(elem) {\n                return adapter.getName(elem) === selector.name && next(elem);\n            };\n        // Traversal\n        case \"descendant\":\n            if (options.cacheResults === false ||\n                typeof WeakSet === \"undefined\") {\n                return function descendant(elem) {\n                    var current = elem;\n                    while ((current = adapter.getParent(current))) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                    }\n                    return false;\n                };\n            }\n            // @ts-expect-error `ElementNode` is not extending object\n            // eslint-disable-next-line no-case-declarations\n            var isFalseCache_1 = new WeakSet();\n            return function cachedDescendant(elem) {\n                var current = elem;\n                while ((current = adapter.getParent(current))) {\n                    if (!isFalseCache_1.has(current)) {\n                        if (adapter.isTag(current) && next(current)) {\n                            return true;\n                        }\n                        isFalseCache_1.add(current);\n                    }\n                }\n                return false;\n            };\n        case \"_flexibleDescendant\":\n            // Include element itself, only used while querying an array\n            return function flexibleDescendant(elem) {\n                var current = elem;\n                do {\n                    if (adapter.isTag(current) && next(current))\n                        return true;\n                } while ((current = adapter.getParent(current)));\n                return false;\n            };\n        case \"parent\":\n            if (options.strict) {\n                throw new Error(\"Parent selector isn't part of CSS3\");\n            }\n            return function parent(elem) {\n                return adapter\n                    .getChildren(elem)\n                    .some(function (elem) { return adapter.isTag(elem) && next(elem); });\n            };\n        case \"child\":\n            return function child(elem) {\n                var parent = adapter.getParent(elem);\n                return !!parent && adapter.isTag(parent) && next(parent);\n            };\n        case \"sibling\":\n            return function sibling(elem) {\n                var siblings = adapter.getSiblings(elem);\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling) && next(currentSibling)) {\n                        return true;\n                    }\n                }\n                return false;\n            };\n        case \"adjacent\":\n            return function adjacent(elem) {\n                var siblings = adapter.getSiblings(elem);\n                var lastElement;\n                for (var i = 0; i < siblings.length; i++) {\n                    var currentSibling = siblings[i];\n                    if (equals(elem, currentSibling))\n                        break;\n                    if (adapter.isTag(currentSibling)) {\n                        lastElement = currentSibling;\n                    }\n                }\n                return !!lastElement && next(lastElement);\n            };\n        case \"universal\":\n            return next;\n    }\n}\nexports.compileGeneralSelector = compileGeneralSelector;\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pseudos = exports.filters = exports.is = exports.selectOne = exports.selectAll = exports.prepareContext = exports._compileToken = exports._compileUnsafe = exports.compile = void 0;\nvar DomUtils = __importStar(require(\"domutils\"));\nvar boolbase_1 = require(\"boolbase\");\nvar compile_1 = require(\"./compile\");\nvar subselects_1 = require(\"./pseudo-selectors/subselects\");\nvar defaultEquals = function (a, b) { return a === b; };\nvar defaultOptions = {\n    adapter: DomUtils,\n    equals: defaultEquals,\n};\nfunction convertOptionFormats(options) {\n    var _a, _b, _c, _d;\n    /*\n     * We force one format of options to the other one.\n     */\n    // @ts-expect-error Default options may have incompatible `Node` / `ElementNode`.\n    var opts = options !== null && options !== void 0 ? options : defaultOptions;\n    // @ts-expect-error Same as above.\n    (_a = opts.adapter) !== null && _a !== void 0 ? _a : (opts.adapter = DomUtils);\n    // @ts-expect-error `equals` does not exist on `Options`\n    (_b = opts.equals) !== null && _b !== void 0 ? _b : (opts.equals = (_d = (_c = opts.adapter) === null || _c === void 0 ? void 0 : _c.equals) !== null && _d !== void 0 ? _d : defaultEquals);\n    return opts;\n}\nfunction wrapCompile(func) {\n    return function addAdapter(selector, options, context) {\n        var opts = convertOptionFormats(options);\n        return func(selector, opts, context);\n    };\n}\n/**\n * Compiles the query, returns a function.\n */\nexports.compile = wrapCompile(compile_1.compile);\nexports._compileUnsafe = wrapCompile(compile_1.compileUnsafe);\nexports._compileToken = wrapCompile(compile_1.compileToken);\nfunction getSelectorFunc(searchFunc) {\n    return function select(query, elements, options) {\n        var opts = convertOptionFormats(options);\n        if (typeof query !== \"function\") {\n            query = compile_1.compileUnsafe(query, opts, elements);\n        }\n        var filteredElements = prepareContext(elements, opts.adapter, query.shouldTestNextSiblings);\n        return searchFunc(query, filteredElements, opts);\n    };\n}\nfunction prepareContext(elems, adapter, shouldTestNextSiblings) {\n    if (shouldTestNextSiblings === void 0) { shouldTestNextSiblings = false; }\n    /*\n     * Add siblings if the query requires them.\n     * See https://github.com/fb55/css-select/pull/43#issuecomment-225414692\n     */\n    if (shouldTestNextSiblings) {\n        elems = appendNextSiblings(elems, adapter);\n    }\n    return Array.isArray(elems)\n        ? adapter.removeSubsets(elems)\n        : adapter.getChildren(elems);\n}\nexports.prepareContext = prepareContext;\nfunction appendNextSiblings(elem, adapter) {\n    // Order matters because jQuery seems to check the children before the siblings\n    var elems = Array.isArray(elem) ? elem.slice(0) : [elem];\n    for (var i = 0; i < elems.length; i++) {\n        var nextSiblings = subselects_1.getNextSiblings(elems[i], adapter);\n        elems.push.apply(elems, nextSiblings);\n    }\n    return elems;\n}\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns All matching elements.\n *\n */\nexports.selectAll = getSelectorFunc(function (query, elems, options) {\n    return query === boolbase_1.falseFunc || !elems || elems.length === 0\n        ? []\n        : options.adapter.findAll(query, elems);\n});\n/**\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elems Elements to query. If it is an element, its children will be queried..\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns the first match, or null if there was no match.\n */\nexports.selectOne = getSelectorFunc(function (query, elems, options) {\n    return query === boolbase_1.falseFunc || !elems || elems.length === 0\n        ? null\n        : options.adapter.findOne(query, elems);\n});\n/**\n * Tests whether or not an element is matched by query.\n *\n * @template Node The generic Node type for the DOM adapter being used.\n * @template ElementNode The Node type for elements for the DOM adapter being used.\n * @param elem The element to test if it matches the query.\n * @param query can be either a CSS selector string or a compiled query function.\n * @param [options] options for querying the document.\n * @see compile for supported selector queries.\n * @returns\n */\nfunction is(elem, query, options) {\n    var opts = convertOptionFormats(options);\n    return (typeof query === \"function\" ? query : compile_1.compile(query, opts))(elem);\n}\nexports.is = is;\n/**\n * Alias for selectAll(query, elems, options).\n * @see [compile] for supported selector queries.\n */\nexports.default = exports.selectAll;\n// Export filters and pseudos to allow users to supply their own.\nvar pseudo_selectors_1 = require(\"./pseudo-selectors\");\nObject.defineProperty(exports, \"filters\", { enumerable: true, get: function () { return pseudo_selectors_1.filters; } });\nObject.defineProperty(exports, \"pseudos\", { enumerable: true, get: function () { return pseudo_selectors_1.pseudos; } });\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTraversal = exports.procedure = void 0;\nexports.procedure = {\n    universal: 50,\n    tag: 30,\n    attribute: 1,\n    pseudo: 0,\n    \"pseudo-element\": 0,\n    descendant: -1,\n    child: -1,\n    parent: -1,\n    sibling: -1,\n    adjacent: -1,\n    _flexibleDescendant: -1,\n};\nfunction isTraversal(t) {\n    return exports.procedure[t.type] < 0;\n}\nexports.isTraversal = isTraversal;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.filters = void 0;\nvar nth_check_1 = __importDefault(require(\"nth-check\"));\nvar boolbase_1 = require(\"boolbase\");\nvar attributes_1 = require(\"../attributes\");\nvar checkAttrib = attributes_1.attributeRules.equals;\nfunction getAttribFunc(name, value) {\n    var data = {\n        type: \"attribute\",\n        action: \"equals\",\n        ignoreCase: false,\n        namespace: null,\n        name: name,\n        value: value,\n    };\n    return function attribFunc(next, _rule, options) {\n        return checkAttrib(next, data, options);\n    };\n}\nfunction getChildFunc(next, adapter) {\n    return function (elem) {\n        var parent = adapter.getParent(elem);\n        return !!parent && adapter.isTag(parent) && next(elem);\n    };\n}\nexports.filters = {\n    contains: function (next, text, _a) {\n        var adapter = _a.adapter;\n        return function contains(elem) {\n            return next(elem) && adapter.getText(elem).includes(text);\n        };\n    },\n    icontains: function (next, text, _a) {\n        var adapter = _a.adapter;\n        var itext = text.toLowerCase();\n        return function icontains(elem) {\n            return (next(elem) &&\n                adapter.getText(elem).toLowerCase().includes(itext));\n        };\n    },\n    // Location specific methods\n    \"nth-child\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = nth_check_1.default(rule);\n        if (func === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (func === boolbase_1.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthChild(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = 0; i < siblings.length; i++) {\n                if (equals(elem, siblings[i]))\n                    break;\n                if (adapter.isTag(siblings[i])) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-last-child\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = nth_check_1.default(rule);\n        if (func === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (func === boolbase_1.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthLastChild(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = siblings.length - 1; i >= 0; i--) {\n                if (equals(elem, siblings[i]))\n                    break;\n                if (adapter.isTag(siblings[i])) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-of-type\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = nth_check_1.default(rule);\n        if (func === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (func === boolbase_1.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthOfType(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = 0; i < siblings.length; i++) {\n                var currentSibling = siblings[i];\n                if (equals(elem, currentSibling))\n                    break;\n                if (adapter.isTag(currentSibling) &&\n                    adapter.getName(currentSibling) === adapter.getName(elem)) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    \"nth-last-of-type\": function (next, rule, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var func = nth_check_1.default(rule);\n        if (func === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (func === boolbase_1.trueFunc)\n            return getChildFunc(next, adapter);\n        return function nthLastOfType(elem) {\n            var siblings = adapter.getSiblings(elem);\n            var pos = 0;\n            for (var i = siblings.length - 1; i >= 0; i--) {\n                var currentSibling = siblings[i];\n                if (equals(elem, currentSibling))\n                    break;\n                if (adapter.isTag(currentSibling) &&\n                    adapter.getName(currentSibling) === adapter.getName(elem)) {\n                    pos++;\n                }\n            }\n            return func(pos) && next(elem);\n        };\n    },\n    // TODO determine the actual root element\n    root: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        return function (elem) {\n            var parent = adapter.getParent(elem);\n            return (parent == null || !adapter.isTag(parent)) && next(elem);\n        };\n    },\n    scope: function (next, rule, options, context) {\n        var equals = options.equals;\n        if (!context || context.length === 0) {\n            // Equivalent to :root\n            return exports.filters.root(next, rule, options);\n        }\n        if (context.length === 1) {\n            // NOTE: can't be unpacked, as :has uses this for side-effects\n            return function (elem) { return equals(context[0], elem) && next(elem); };\n        }\n        return function (elem) { return context.includes(elem) && next(elem); };\n    },\n    // JQuery extensions (others follow as pseudos)\n    checkbox: getAttribFunc(\"type\", \"checkbox\"),\n    file: getAttribFunc(\"type\", \"file\"),\n    password: getAttribFunc(\"type\", \"password\"),\n    radio: getAttribFunc(\"type\", \"radio\"),\n    reset: getAttribFunc(\"type\", \"reset\"),\n    image: getAttribFunc(\"type\", \"image\"),\n    submit: getAttribFunc(\"type\", \"submit\"),\n    // Dynamic state pseudos. These depend on optional Adapter methods.\n    hover: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        var isHovered = adapter.isHovered;\n        if (typeof isHovered !== \"function\") {\n            return boolbase_1.falseFunc;\n        }\n        return function hover(elem) {\n            return isHovered(elem) && next(elem);\n        };\n    },\n    visited: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        var isVisited = adapter.isVisited;\n        if (typeof isVisited !== \"function\") {\n            return boolbase_1.falseFunc;\n        }\n        return function visited(elem) {\n            return isVisited(elem) && next(elem);\n        };\n    },\n    active: function (next, _rule, _a) {\n        var adapter = _a.adapter;\n        var isActive = adapter.isActive;\n        if (typeof isActive !== \"function\") {\n            return boolbase_1.falseFunc;\n        }\n        return function active(elem) {\n            return isActive(elem) && next(elem);\n        };\n    },\n};\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compilePseudoSelector = exports.pseudos = exports.filters = void 0;\n/*\n * Pseudo selectors\n *\n * Pseudo selectors are available in three forms:\n *\n * 1. Filters are called when the selector is compiled and return a function\n *  that has to return either false, or the results of `next()`.\n * 2. Pseudos are called on execution. They have to return a boolean.\n * 3. Subselects work like filters, but have an embedded selector that will be run separately.\n *\n * Filters are great if you want to do some pre-processing, or change the call order\n * of `next()` and your code.\n * Pseudos should be used to implement simple checks.\n */\nvar boolbase_1 = require(\"boolbase\");\nvar filters_1 = require(\"./filters\");\nObject.defineProperty(exports, \"filters\", { enumerable: true, get: function () { return filters_1.filters; } });\nvar pseudos_1 = require(\"./pseudos\");\nObject.defineProperty(exports, \"pseudos\", { enumerable: true, get: function () { return pseudos_1.pseudos; } });\nvar subselects_1 = require(\"./subselects\");\n// FIXME This is pretty hacky\nvar reCSS3 = /^(?:(?:nth|last|first|only)-(?:child|of-type)|root|empty|(?:en|dis)abled|checked|not)$/;\nfunction compilePseudoSelector(next, selector, options, context, compileToken) {\n    var name = selector.name, data = selector.data;\n    if (options.strict && !reCSS3.test(name)) {\n        throw new Error(\":\" + name + \" isn't part of CSS3\");\n    }\n    if (Array.isArray(data)) {\n        return subselects_1.subselects[name](next, data, options, context, compileToken);\n    }\n    if (name in filters_1.filters) {\n        return filters_1.filters[name](next, data, options, context);\n    }\n    if (name in pseudos_1.pseudos) {\n        var pseudo_1 = pseudos_1.pseudos[name];\n        pseudos_1.verifyPseudoArgs(pseudo_1, name, data);\n        return pseudo_1 === boolbase_1.falseFunc\n            ? boolbase_1.falseFunc\n            : next === boolbase_1.trueFunc\n                ? function (elem) { return pseudo_1(elem, options, data); }\n                : function (elem) { return pseudo_1(elem, options, data) && next(elem); };\n    }\n    throw new Error(\"unmatched pseudo-class :\" + name);\n}\nexports.compilePseudoSelector = compilePseudoSelector;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.verifyPseudoArgs = exports.pseudos = void 0;\nvar isLinkTag = namePseudo([\"a\", \"area\", \"link\"]);\n// While filters are precompiled, pseudos get called when they are needed\nexports.pseudos = {\n    empty: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.getChildren(elem).some(function (elem) {\n            // FIXME: `getText` call is potentially expensive.\n            return adapter.isTag(elem) || adapter.getText(elem) !== \"\";\n        });\n    },\n    \"first-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var firstChild = adapter\n            .getSiblings(elem)\n            .find(function (elem) { return adapter.isTag(elem); });\n        return firstChild != null && equals(elem, firstChild);\n    },\n    \"last-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        for (var i = siblings.length - 1; i >= 0; i--) {\n            if (equals(elem, siblings[i]))\n                return true;\n            if (adapter.isTag(siblings[i]))\n                break;\n        }\n        return false;\n    },\n    \"first-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        var elemName = adapter.getName(elem);\n        for (var i = 0; i < siblings.length; i++) {\n            var currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"last-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var siblings = adapter.getSiblings(elem);\n        var elemName = adapter.getName(elem);\n        for (var i = siblings.length - 1; i >= 0; i--) {\n            var currentSibling = siblings[i];\n            if (equals(elem, currentSibling))\n                return true;\n            if (adapter.isTag(currentSibling) &&\n                adapter.getName(currentSibling) === elemName) {\n                break;\n            }\n        }\n        return false;\n    },\n    \"only-of-type\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        var elemName = adapter.getName(elem);\n        return adapter\n            .getSiblings(elem)\n            .every(function (sibling) {\n            return equals(elem, sibling) ||\n                !adapter.isTag(sibling) ||\n                adapter.getName(sibling) !== elemName;\n        });\n    },\n    \"only-child\": function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        return adapter\n            .getSiblings(elem)\n            .every(function (sibling) { return equals(elem, sibling) || !adapter.isTag(sibling); });\n    },\n    // :matches(a, area, link)[href]\n    \"any-link\": function (elem, options) {\n        return (isLinkTag(elem, options) && options.adapter.hasAttrib(elem, \"href\"));\n    },\n    // :any-link:not(:visited)\n    link: function (elem, options) {\n        var _a, _b;\n        return (((_b = (_a = options.adapter).isVisited) === null || _b === void 0 ? void 0 : _b.call(_a, elem)) !== true &&\n            exports.pseudos[\"any-link\"](elem, options));\n    },\n    /*\n     * Forms\n     * to consider: :target\n     */\n    // :matches([selected], select:not([multiple]):not(> option[selected]) > option:first-of-type)\n    selected: function (elem, _a) {\n        var adapter = _a.adapter, equals = _a.equals;\n        if (adapter.hasAttrib(elem, \"selected\"))\n            return true;\n        else if (adapter.getName(elem) !== \"option\")\n            return false;\n        // The first <option> in a <select> is also selected\n        var parent = adapter.getParent(elem);\n        if (!parent ||\n            !adapter.isTag(parent) ||\n            adapter.getName(parent) !== \"select\" ||\n            adapter.hasAttrib(parent, \"multiple\")) {\n            return false;\n        }\n        var siblings = adapter.getChildren(parent);\n        var sawElem = false;\n        for (var i = 0; i < siblings.length; i++) {\n            var currentSibling = siblings[i];\n            if (adapter.isTag(currentSibling)) {\n                if (equals(elem, currentSibling)) {\n                    sawElem = true;\n                }\n                else if (!sawElem) {\n                    return false;\n                }\n                else if (adapter.hasAttrib(currentSibling, \"selected\")) {\n                    return false;\n                }\n            }\n        }\n        return sawElem;\n    },\n    /*\n     * https://html.spec.whatwg.org/multipage/scripting.html#disabled-elements\n     * :matches(\n     *   :matches(button, input, select, textarea, menuitem, optgroup, option)[disabled],\n     *   optgroup[disabled] > option),\n     *  fieldset[disabled] * //TODO not child of first <legend>\n     * )\n     */\n    disabled: function (elem, _a) {\n        var adapter = _a.adapter;\n        return adapter.hasAttrib(elem, \"disabled\");\n    },\n    enabled: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.hasAttrib(elem, \"disabled\");\n    },\n    // :matches(:matches(:radio, :checkbox)[checked], :selected) (TODO menuitem)\n    checked: function (elem, options) {\n        return (options.adapter.hasAttrib(elem, \"checked\") ||\n            exports.pseudos.selected(elem, options));\n    },\n    // :matches(input, select, textarea)[required]\n    required: function (elem, _a) {\n        var adapter = _a.adapter;\n        return adapter.hasAttrib(elem, \"required\");\n    },\n    // :matches(input, select, textarea):not([required])\n    optional: function (elem, _a) {\n        var adapter = _a.adapter;\n        return !adapter.hasAttrib(elem, \"required\");\n    },\n    // JQuery extensions\n    // :not(:empty)\n    parent: function (elem, options) {\n        return !exports.pseudos.empty(elem, options);\n    },\n    // :matches(h1, h2, h3, h4, h5, h6)\n    header: namePseudo([\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]),\n    // :matches(button, input[type=button])\n    button: function (elem, _a) {\n        var adapter = _a.adapter;\n        var name = adapter.getName(elem);\n        return (name === \"button\" ||\n            (name === \"input\" &&\n                adapter.getAttributeValue(elem, \"type\") === \"button\"));\n    },\n    // :matches(input, textarea, select, button)\n    input: namePseudo([\"input\", \"textarea\", \"select\", \"button\"]),\n    // `input:matches(:not([type!='']), [type='text' i])`\n    text: function (elem, _a) {\n        var adapter = _a.adapter;\n        var type = adapter.getAttributeValue(elem, \"type\");\n        return (adapter.getName(elem) === \"input\" &&\n            (!type || type.toLowerCase() === \"text\"));\n    },\n};\nfunction namePseudo(names) {\n    if (typeof Set !== \"undefined\") {\n        var nameSet_1 = new Set(names);\n        return function (elem, _a) {\n            var adapter = _a.adapter;\n            return nameSet_1.has(adapter.getName(elem));\n        };\n    }\n    return function (elem, _a) {\n        var adapter = _a.adapter;\n        return names.includes(adapter.getName(elem));\n    };\n}\nfunction verifyPseudoArgs(func, name, subselect) {\n    if (subselect === null) {\n        if (func.length > 2 && name !== \"scope\") {\n            throw new Error(\"pseudo-selector :\" + name + \" requires an argument\");\n        }\n    }\n    else {\n        if (func.length === 2) {\n            throw new Error(\"pseudo-selector :\" + name + \" doesn't have any arguments\");\n        }\n    }\n}\nexports.verifyPseudoArgs = verifyPseudoArgs;\n",
    "\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.subselects = exports.getNextSiblings = exports.ensureIsTag = exports.PLACEHOLDER_ELEMENT = void 0;\nvar boolbase_1 = require(\"boolbase\");\nvar procedure_1 = require(\"../procedure\");\n/** Used as a placeholder for :has. Will be replaced with the actual element. */\nexports.PLACEHOLDER_ELEMENT = {};\nfunction containsTraversal(t) {\n    return t.some(procedure_1.isTraversal);\n}\nfunction ensureIsTag(next, adapter) {\n    if (next === boolbase_1.falseFunc)\n        return next;\n    return function (elem) { return adapter.isTag(elem) && next(elem); };\n}\nexports.ensureIsTag = ensureIsTag;\nfunction getNextSiblings(elem, adapter) {\n    var siblings = adapter.getSiblings(elem);\n    if (siblings.length <= 1)\n        return [];\n    var elemIndex = siblings.indexOf(elem);\n    if (elemIndex < 0 || elemIndex === siblings.length - 1)\n        return [];\n    return siblings.slice(elemIndex + 1).filter(adapter.isTag);\n}\nexports.getNextSiblings = getNextSiblings;\n/*\n * :not, :has and :matches have to compile selectors\n * doing this in src/pseudos.ts would lead to circular dependencies,\n * so we add them here\n */\nexports.subselects = {\n    /**\n     * `:is` is an alias for `:matches`.\n     */\n    is: function (next, token, options, context, compileToken) {\n        return exports.subselects.matches(next, token, options, context, compileToken);\n    },\n    matches: function (next, token, options, context, compileToken) {\n        var opts = {\n            xmlMode: !!options.xmlMode,\n            strict: !!options.strict,\n            adapter: options.adapter,\n            equals: options.equals,\n            rootFunc: next,\n        };\n        return compileToken(token, opts, context);\n    },\n    not: function (next, token, options, context, compileToken) {\n        var opts = {\n            xmlMode: !!options.xmlMode,\n            strict: !!options.strict,\n            adapter: options.adapter,\n            equals: options.equals,\n        };\n        if (opts.strict) {\n            if (token.length > 1 || token.some(containsTraversal)) {\n                throw new Error(\"complex selectors in :not aren't allowed in strict mode\");\n            }\n        }\n        var func = compileToken(token, opts, context);\n        if (func === boolbase_1.falseFunc)\n            return next;\n        if (func === boolbase_1.trueFunc)\n            return boolbase_1.falseFunc;\n        return function not(elem) {\n            return !func(elem) && next(elem);\n        };\n    },\n    has: function (next, subselect, options, _context, compileToken) {\n        var adapter = options.adapter;\n        var opts = {\n            xmlMode: !!options.xmlMode,\n            strict: !!options.strict,\n            adapter: adapter,\n            equals: options.equals,\n        };\n        // @ts-expect-error Uses an array as a pointer to the current element (side effects)\n        var context = subselect.some(containsTraversal)\n            ? [exports.PLACEHOLDER_ELEMENT]\n            : undefined;\n        var compiled = compileToken(subselect, opts, context);\n        if (compiled === boolbase_1.falseFunc)\n            return boolbase_1.falseFunc;\n        if (compiled === boolbase_1.trueFunc) {\n            return function (elem) {\n                return adapter.getChildren(elem).some(adapter.isTag) && next(elem);\n            };\n        }\n        var hasElement = ensureIsTag(compiled, adapter);\n        var _a = compiled.shouldTestNextSiblings, shouldTestNextSiblings = _a === void 0 ? false : _a;\n        /*\n         * `shouldTestNextSiblings` will only be true if the query starts with\n         * a traversal (sibling or adjacent). That means we will always have a context.\n         */\n        if (context) {\n            return function (elem) {\n                context[0] = elem;\n                var childs = adapter.getChildren(elem);\n                var nextElements = shouldTestNextSiblings\n                    ? __spreadArrays(childs, getNextSiblings(elem, adapter)) : childs;\n                return (next(elem) && adapter.existsOne(hasElement, nextElements));\n            };\n        }\n        return function (elem) {\n            return next(elem) &&\n                adapter.existsOne(hasElement, adapter.getChildren(elem));\n        };\n    },\n};\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar procedure_1 = require(\"./procedure\");\nvar attributes = {\n    exists: 10,\n    equals: 8,\n    not: 7,\n    start: 6,\n    end: 6,\n    any: 5,\n    hyphen: 4,\n    element: 4,\n};\n/**\n * Sort the parts of the passed selector,\n * as there is potential for optimization\n * (some types of selectors are faster than others)\n *\n * @param arr Selector to sort\n */\nfunction sortByProcedure(arr) {\n    var procs = arr.map(getProcedure);\n    for (var i = 1; i < arr.length; i++) {\n        var procNew = procs[i];\n        if (procNew < 0)\n            continue;\n        for (var j = i - 1; j >= 0 && procNew < procs[j]; j--) {\n            var token = arr[j + 1];\n            arr[j + 1] = arr[j];\n            arr[j] = token;\n            procs[j + 1] = procs[j];\n            procs[j] = procNew;\n        }\n    }\n}\nexports.default = sortByProcedure;\nfunction getProcedure(token) {\n    var proc = procedure_1.procedure[token.type];\n    if (token.type === \"attribute\") {\n        proc = attributes[token.action];\n        if (proc === attributes.equals && token.name === \"id\") {\n            // Prefer ID selectors (eg. #ID)\n            proc = 9;\n        }\n        if (token.ignoreCase) {\n            /*\n             * IgnoreCase adds some overhead, prefer \"normal\" token\n             * this is a binary operation, to ensure it's still an int\n             */\n            proc >>= 1;\n        }\n    }\n    else if (token.type === \"pseudo\") {\n        if (!token.data) {\n            proc = 3;\n        }\n        else if (token.name === \"has\" || token.name === \"contains\") {\n            proc = 0; // Expensive in any case\n        }\n        else if (Array.isArray(token.data)) {\n            // \"matches\" and \"not\"\n            proc = 0;\n            for (var i = 0; i < token.data.length; i++) {\n                // TODO better handling of complex selectors\n                if (token.data[i].length !== 1)\n                    continue;\n                var cur = getProcedure(token.data[i][0]);\n                // Avoid executing :has or :contains\n                if (cur === 0) {\n                    proc = 0;\n                    break;\n                }\n                if (cur > proc)\n                    proc = cur;\n            }\n            if (token.data.length > 1 && proc > 0)\n                proc -= 1;\n        }\n        else {\n            proc = 1;\n        }\n    }\n    return proc;\n}\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringify = exports.parse = void 0;\n__exportStar(require(\"./parse\"), exports);\nvar parse_1 = require(\"./parse\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return __importDefault(parse_1).default; } });\nvar stringify_1 = require(\"./stringify\");\nObject.defineProperty(exports, \"stringify\", { enumerable: true, get: function () { return __importDefault(stringify_1).default; } });\n",
    "\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isTraversal = void 0;\nvar reName = /^[^\\\\#]?(?:\\\\(?:[\\da-f]{1,6}\\s?|.)|[\\w\\-\\u00b0-\\uFFFF])+/;\nvar reEscape = /\\\\([\\da-f]{1,6}\\s?|(\\s)|.)/gi;\n// Modified version of https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L87\nvar reAttr = /^\\s*(?:(\\*|[-\\w]*)\\|)?((?:\\\\.|[\\w\\u00b0-\\uFFFF-])+)\\s*(?:(\\S?)=\\s*(?:(['\"])((?:[^\\\\]|\\\\[^])*?)\\4|(#?(?:\\\\.|[\\w\\u00b0-\\uFFFF-])*)|)|)\\s*([iI])?\\]/;\nvar actionTypes = {\n    undefined: \"exists\",\n    \"\": \"equals\",\n    \"~\": \"element\",\n    \"^\": \"start\",\n    $: \"end\",\n    \"*\": \"any\",\n    \"!\": \"not\",\n    \"|\": \"hyphen\",\n};\nvar Traversals = {\n    \">\": \"child\",\n    \"<\": \"parent\",\n    \"~\": \"sibling\",\n    \"+\": \"adjacent\",\n};\nvar attribSelectors = {\n    \"#\": [\"id\", \"equals\"],\n    \".\": [\"class\", \"element\"],\n};\n// Pseudos, whose data property is parsed as well.\nvar unpackPseudos = new Set([\n    \"has\",\n    \"not\",\n    \"matches\",\n    \"is\",\n    \"host\",\n    \"host-context\",\n]);\nvar traversalNames = new Set(__spreadArrays([\n    \"descendant\"\n], Object.keys(Traversals).map(function (k) { return Traversals[k]; })));\n/**\n * Checks whether a specific selector is a traversal.\n * This is useful eg. in swapping the order of elements that\n * are not traversals.\n *\n * @param selector Selector to check.\n */\nfunction isTraversal(selector) {\n    return traversalNames.has(selector.type);\n}\nexports.isTraversal = isTraversal;\nvar stripQuotesFromPseudos = new Set([\"contains\", \"icontains\"]);\nvar quotes = new Set(['\"', \"'\"]);\n// Unescape function taken from https://github.com/jquery/sizzle/blob/master/src/sizzle.js#L152\nfunction funescape(_, escaped, escapedWhitespace) {\n    var high = parseInt(escaped, 16) - 0x10000;\n    // NaN means non-codepoint\n    return high !== high || escapedWhitespace\n        ? escaped\n        : high < 0\n            ? // BMP codepoint\n                String.fromCharCode(high + 0x10000)\n            : // Supplemental Plane codepoint (surrogate pair)\n                String.fromCharCode((high >> 10) | 0xd800, (high & 0x3ff) | 0xdc00);\n}\nfunction unescapeCSS(str) {\n    return str.replace(reEscape, funescape);\n}\nfunction isWhitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\n/**\n * Parses `selector`, optionally with the passed `options`.\n *\n * @param selector Selector to parse.\n * @param options Options for parsing.\n * @returns Returns a two-dimensional array.\n * The first dimension represents selectors separated by commas (eg. `sub1, sub2`),\n * the second contains the relevant tokens for that selector.\n */\nfunction parse(selector, options) {\n    var subselects = [];\n    var endIndex = parseSelector(subselects, \"\" + selector, options, 0);\n    if (endIndex < selector.length) {\n        throw new Error(\"Unmatched selector: \" + selector.slice(endIndex));\n    }\n    return subselects;\n}\nexports.default = parse;\nfunction parseSelector(subselects, selector, options, selectorIndex) {\n    var _a, _b;\n    if (options === void 0) { options = {}; }\n    var tokens = [];\n    var sawWS = false;\n    function getName(offset) {\n        var match = selector.slice(selectorIndex + offset).match(reName);\n        if (!match) {\n            throw new Error(\"Expected name, found \" + selector.slice(selectorIndex));\n        }\n        var name = match[0];\n        selectorIndex += offset + name.length;\n        return unescapeCSS(name);\n    }\n    function stripWhitespace(offset) {\n        while (isWhitespace(selector.charAt(selectorIndex + offset)))\n            offset++;\n        selectorIndex += offset;\n    }\n    function isEscaped(pos) {\n        var slashCount = 0;\n        while (selector.charAt(--pos) === \"\\\\\")\n            slashCount++;\n        return (slashCount & 1) === 1;\n    }\n    function ensureNotTraversal() {\n        if (tokens.length > 0 && isTraversal(tokens[tokens.length - 1])) {\n            throw new Error(\"Did not expect successive traversals.\");\n        }\n    }\n    stripWhitespace(0);\n    while (selector !== \"\") {\n        var firstChar = selector.charAt(selectorIndex);\n        if (isWhitespace(firstChar)) {\n            sawWS = true;\n            stripWhitespace(1);\n        }\n        else if (firstChar in Traversals) {\n            ensureNotTraversal();\n            tokens.push({ type: Traversals[firstChar] });\n            sawWS = false;\n            stripWhitespace(1);\n        }\n        else if (firstChar === \",\") {\n            if (tokens.length === 0) {\n                throw new Error(\"Empty sub-selector\");\n            }\n            subselects.push(tokens);\n            tokens = [];\n            sawWS = false;\n            stripWhitespace(1);\n        }\n        else {\n            if (sawWS) {\n                ensureNotTraversal();\n                tokens.push({ type: \"descendant\" });\n                sawWS = false;\n            }\n            if (firstChar in attribSelectors) {\n                var _c = attribSelectors[firstChar], name_1 = _c[0], action = _c[1];\n                tokens.push({\n                    type: \"attribute\",\n                    name: name_1,\n                    action: action,\n                    value: getName(1),\n                    ignoreCase: false,\n                    namespace: null,\n                });\n            }\n            else if (firstChar === \"[\") {\n                var attributeMatch = selector\n                    .slice(selectorIndex + 1)\n                    .match(reAttr);\n                if (!attributeMatch) {\n                    throw new Error(\"Malformed attribute selector: \" + selector.slice(selectorIndex));\n                }\n                var completeSelector = attributeMatch[0], _d = attributeMatch[1], namespace = _d === void 0 ? null : _d, baseName = attributeMatch[2], actionType = attributeMatch[3], _e = attributeMatch[5], quotedValue = _e === void 0 ? \"\" : _e, _f = attributeMatch[6], value = _f === void 0 ? quotedValue : _f, ignoreCase = attributeMatch[7];\n                selectorIndex += completeSelector.length + 1;\n                var name_2 = unescapeCSS(baseName);\n                if ((_a = options.lowerCaseAttributeNames) !== null && _a !== void 0 ? _a : !options.xmlMode) {\n                    name_2 = name_2.toLowerCase();\n                }\n                tokens.push({\n                    type: \"attribute\",\n                    name: name_2,\n                    action: actionTypes[actionType],\n                    value: unescapeCSS(value),\n                    namespace: namespace,\n                    ignoreCase: !!ignoreCase,\n                });\n            }\n            else if (firstChar === \":\") {\n                if (selector.charAt(selectorIndex + 1) === \":\") {\n                    tokens.push({\n                        type: \"pseudo-element\",\n                        name: getName(2).toLowerCase(),\n                    });\n                    continue;\n                }\n                var name_3 = getName(1).toLowerCase();\n                var data = null;\n                if (selector.charAt(selectorIndex) === \"(\") {\n                    if (unpackPseudos.has(name_3)) {\n                        if (quotes.has(selector.charAt(selectorIndex + 1))) {\n                            throw new Error(\"Pseudo-selector \" + name_3 + \" cannot be quoted\");\n                        }\n                        data = [];\n                        selectorIndex = parseSelector(data, selector, options, selectorIndex + 1);\n                        if (selector.charAt(selectorIndex) !== \")\") {\n                            throw new Error(\"Missing closing parenthesis in :\" + name_3 + \" (\" + selector + \")\");\n                        }\n                        selectorIndex += 1;\n                    }\n                    else {\n                        selectorIndex += 1;\n                        var start = selectorIndex;\n                        var counter = 1;\n                        for (; counter > 0 && selectorIndex < selector.length; selectorIndex++) {\n                            if (selector.charAt(selectorIndex) === \"(\" &&\n                                !isEscaped(selectorIndex)) {\n                                counter++;\n                            }\n                            else if (selector.charAt(selectorIndex) === \")\" &&\n                                !isEscaped(selectorIndex)) {\n                                counter--;\n                            }\n                        }\n                        if (counter) {\n                            throw new Error(\"Parenthesis not matched\");\n                        }\n                        data = selector.slice(start, selectorIndex - 1);\n                        if (stripQuotesFromPseudos.has(name_3)) {\n                            var quot = data.charAt(0);\n                            if (quot === data.slice(-1) && quotes.has(quot)) {\n                                data = data.slice(1, -1);\n                            }\n                            data = unescapeCSS(data);\n                        }\n                    }\n                }\n                tokens.push({ type: \"pseudo\", name: name_3, data: data });\n            }\n            else {\n                var namespace = null;\n                var name_4 = void 0;\n                if (firstChar === \"*\") {\n                    selectorIndex += 1;\n                    name_4 = \"*\";\n                }\n                else if (reName.test(selector.slice(selectorIndex))) {\n                    name_4 = getName(0);\n                }\n                else {\n                    /*\n                     * We have finished parsing the selector.\n                     * Remove descendant tokens at the end if they exist,\n                     * and return the last index, so that parsing can be\n                     * picked up from here.\n                     */\n                    if (tokens.length &&\n                        tokens[tokens.length - 1].type === \"descendant\") {\n                        tokens.pop();\n                    }\n                    addToken(subselects, tokens);\n                    return selectorIndex;\n                }\n                if (selector.charAt(selectorIndex) === \"|\") {\n                    namespace = name_4;\n                    if (selector.charAt(selectorIndex + 1) === \"*\") {\n                        name_4 = \"*\";\n                        selectorIndex += 2;\n                    }\n                    else {\n                        name_4 = getName(1);\n                    }\n                }\n                if (name_4 === \"*\") {\n                    tokens.push({ type: \"universal\", namespace: namespace });\n                }\n                else {\n                    if ((_b = options.lowerCaseTags) !== null && _b !== void 0 ? _b : !options.xmlMode) {\n                        name_4 = name_4.toLowerCase();\n                    }\n                    tokens.push({ type: \"tag\", name: name_4, namespace: namespace });\n                }\n            }\n        }\n    }\n    addToken(subselects, tokens);\n    return selectorIndex;\n}\nfunction addToken(subselects, tokens) {\n    if (subselects.length > 0 && tokens.length === 0) {\n        throw new Error(\"Empty sub-selector\");\n    }\n    subselects.push(tokens);\n}\n",
    "\"use strict\";\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar actionTypes = {\n    equals: \"\",\n    element: \"~\",\n    start: \"^\",\n    end: \"$\",\n    any: \"*\",\n    not: \"!\",\n    hyphen: \"|\",\n};\nvar charsToEscape = new Set(__spreadArrays(Object.keys(actionTypes)\n    .map(function (typeKey) { return actionTypes[typeKey]; })\n    .filter(Boolean), [\n    \":\",\n    \"[\",\n    \"]\",\n    \" \",\n    \"\\\\\",\n    \"(\",\n    \")\",\n]));\n/**\n * Turns `selector` back into a string.\n *\n * @param selector Selector to stringify.\n */\nfunction stringify(selector) {\n    return selector.map(stringifySubselector).join(\", \");\n}\nexports.default = stringify;\nfunction stringifySubselector(token) {\n    return token.map(stringifyToken).join(\"\");\n}\nfunction stringifyToken(token) {\n    switch (token.type) {\n        // Simple types\n        case \"child\":\n            return \" > \";\n        case \"parent\":\n            return \" < \";\n        case \"sibling\":\n            return \" ~ \";\n        case \"adjacent\":\n            return \" + \";\n        case \"descendant\":\n            return \" \";\n        case \"universal\":\n            return getNamespace(token.namespace) + \"*\";\n        case \"tag\":\n            return getNamespacedName(token);\n        case \"pseudo-element\":\n            return \"::\" + escapeName(token.name);\n        case \"pseudo\":\n            if (token.data === null)\n                return \":\" + escapeName(token.name);\n            if (typeof token.data === \"string\") {\n                return \":\" + escapeName(token.name) + \"(\" + escapeName(token.data) + \")\";\n            }\n            return \":\" + escapeName(token.name) + \"(\" + stringify(token.data) + \")\";\n        case \"attribute\": {\n            if (token.name === \"id\" &&\n                token.action === \"equals\" &&\n                !token.ignoreCase &&\n                !token.namespace) {\n                return \"#\" + escapeName(token.value);\n            }\n            if (token.name === \"class\" &&\n                token.action === \"element\" &&\n                !token.ignoreCase &&\n                !token.namespace) {\n                return \".\" + escapeName(token.value);\n            }\n            var name_1 = getNamespacedName(token);\n            if (token.action === \"exists\") {\n                return \"[\" + name_1 + \"]\";\n            }\n            return \"[\" + name_1 + actionTypes[token.action] + \"='\" + escapeName(token.value) + \"'\" + (token.ignoreCase ? \"i\" : \"\") + \"]\";\n        }\n    }\n}\nfunction getNamespacedName(token) {\n    return \"\" + getNamespace(token.namespace) + escapeName(token.name);\n}\nfunction getNamespace(namespace) {\n    return namespace\n        ? (namespace === \"*\" ? \"*\" : escapeName(namespace)) + \"|\"\n        : \"\";\n}\nfunction escapeName(str) {\n    return str\n        .split(\"\")\n        .map(function (c) { return (charsToEscape.has(c) ? \"\\\\\" + c : c); })\n        .join(\"\");\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.attributeNames = exports.elementNames = void 0;\nexports.elementNames = new Map([\n    [\"altglyph\", \"altGlyph\"],\n    [\"altglyphdef\", \"altGlyphDef\"],\n    [\"altglyphitem\", \"altGlyphItem\"],\n    [\"animatecolor\", \"animateColor\"],\n    [\"animatemotion\", \"animateMotion\"],\n    [\"animatetransform\", \"animateTransform\"],\n    [\"clippath\", \"clipPath\"],\n    [\"feblend\", \"feBlend\"],\n    [\"fecolormatrix\", \"feColorMatrix\"],\n    [\"fecomponenttransfer\", \"feComponentTransfer\"],\n    [\"fecomposite\", \"feComposite\"],\n    [\"feconvolvematrix\", \"feConvolveMatrix\"],\n    [\"fediffuselighting\", \"feDiffuseLighting\"],\n    [\"fedisplacementmap\", \"feDisplacementMap\"],\n    [\"fedistantlight\", \"feDistantLight\"],\n    [\"fedropshadow\", \"feDropShadow\"],\n    [\"feflood\", \"feFlood\"],\n    [\"fefunca\", \"feFuncA\"],\n    [\"fefuncb\", \"feFuncB\"],\n    [\"fefuncg\", \"feFuncG\"],\n    [\"fefuncr\", \"feFuncR\"],\n    [\"fegaussianblur\", \"feGaussianBlur\"],\n    [\"feimage\", \"feImage\"],\n    [\"femerge\", \"feMerge\"],\n    [\"femergenode\", \"feMergeNode\"],\n    [\"femorphology\", \"feMorphology\"],\n    [\"feoffset\", \"feOffset\"],\n    [\"fepointlight\", \"fePointLight\"],\n    [\"fespecularlighting\", \"feSpecularLighting\"],\n    [\"fespotlight\", \"feSpotLight\"],\n    [\"fetile\", \"feTile\"],\n    [\"feturbulence\", \"feTurbulence\"],\n    [\"foreignobject\", \"foreignObject\"],\n    [\"glyphref\", \"glyphRef\"],\n    [\"lineargradient\", \"linearGradient\"],\n    [\"radialgradient\", \"radialGradient\"],\n    [\"textpath\", \"textPath\"],\n]);\nexports.attributeNames = new Map([\n    [\"definitionurl\", \"definitionURL\"],\n    [\"attributename\", \"attributeName\"],\n    [\"attributetype\", \"attributeType\"],\n    [\"basefrequency\", \"baseFrequency\"],\n    [\"baseprofile\", \"baseProfile\"],\n    [\"calcmode\", \"calcMode\"],\n    [\"clippathunits\", \"clipPathUnits\"],\n    [\"diffuseconstant\", \"diffuseConstant\"],\n    [\"edgemode\", \"edgeMode\"],\n    [\"filterunits\", \"filterUnits\"],\n    [\"glyphref\", \"glyphRef\"],\n    [\"gradienttransform\", \"gradientTransform\"],\n    [\"gradientunits\", \"gradientUnits\"],\n    [\"kernelmatrix\", \"kernelMatrix\"],\n    [\"kernelunitlength\", \"kernelUnitLength\"],\n    [\"keypoints\", \"keyPoints\"],\n    [\"keysplines\", \"keySplines\"],\n    [\"keytimes\", \"keyTimes\"],\n    [\"lengthadjust\", \"lengthAdjust\"],\n    [\"limitingconeangle\", \"limitingConeAngle\"],\n    [\"markerheight\", \"markerHeight\"],\n    [\"markerunits\", \"markerUnits\"],\n    [\"markerwidth\", \"markerWidth\"],\n    [\"maskcontentunits\", \"maskContentUnits\"],\n    [\"maskunits\", \"maskUnits\"],\n    [\"numoctaves\", \"numOctaves\"],\n    [\"pathlength\", \"pathLength\"],\n    [\"patterncontentunits\", \"patternContentUnits\"],\n    [\"patterntransform\", \"patternTransform\"],\n    [\"patternunits\", \"patternUnits\"],\n    [\"pointsatx\", \"pointsAtX\"],\n    [\"pointsaty\", \"pointsAtY\"],\n    [\"pointsatz\", \"pointsAtZ\"],\n    [\"preservealpha\", \"preserveAlpha\"],\n    [\"preserveaspectratio\", \"preserveAspectRatio\"],\n    [\"primitiveunits\", \"primitiveUnits\"],\n    [\"refx\", \"refX\"],\n    [\"refy\", \"refY\"],\n    [\"repeatcount\", \"repeatCount\"],\n    [\"repeatdur\", \"repeatDur\"],\n    [\"requiredextensions\", \"requiredExtensions\"],\n    [\"requiredfeatures\", \"requiredFeatures\"],\n    [\"specularconstant\", \"specularConstant\"],\n    [\"specularexponent\", \"specularExponent\"],\n    [\"spreadmethod\", \"spreadMethod\"],\n    [\"startoffset\", \"startOffset\"],\n    [\"stddeviation\", \"stdDeviation\"],\n    [\"stitchtiles\", \"stitchTiles\"],\n    [\"surfacescale\", \"surfaceScale\"],\n    [\"systemlanguage\", \"systemLanguage\"],\n    [\"tablevalues\", \"tableValues\"],\n    [\"targetx\", \"targetX\"],\n    [\"targety\", \"targetY\"],\n    [\"textlength\", \"textLength\"],\n    [\"viewbox\", \"viewBox\"],\n    [\"viewtarget\", \"viewTarget\"],\n    [\"xchannelselector\", \"xChannelSelector\"],\n    [\"ychannelselector\", \"yChannelSelector\"],\n    [\"zoomandpan\", \"zoomAndPan\"],\n]);\n",
    "\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n * Module dependencies\n */\nvar ElementType = __importStar(require(\"domelementtype\"));\nvar entities_1 = require(\"entities\");\n/*\n * Mixed-case SVG and MathML tags & attributes\n * recognized by the HTML parser, see\n * https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n */\nvar foreignNames_1 = require(\"./foreignNames\");\nvar unencodedElements = new Set([\n    \"style\",\n    \"script\",\n    \"xmp\",\n    \"iframe\",\n    \"noembed\",\n    \"noframes\",\n    \"plaintext\",\n    \"noscript\",\n]);\n/**\n * Format attributes\n */\nfunction formatAttributes(attributes, opts) {\n    if (!attributes)\n        return;\n    return Object.keys(attributes)\n        .map(function (key) {\n        var _a, _b;\n        var value = (_a = attributes[key]) !== null && _a !== void 0 ? _a : \"\";\n        if (opts.xmlMode === \"foreign\") {\n            /* Fix up mixed-case attribute names */\n            key = (_b = foreignNames_1.attributeNames.get(key)) !== null && _b !== void 0 ? _b : key;\n        }\n        if (!opts.emptyAttrs && !opts.xmlMode && value === \"\") {\n            return key;\n        }\n        return key + \"=\\\"\" + (opts.decodeEntities ? entities_1.encodeXML(value) : value.replace(/\"/g, \"&quot;\")) + \"\\\"\";\n    })\n        .join(\" \");\n}\n/**\n * Self-enclosing tags\n */\nvar singleTag = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\n/**\n * Renders a DOM node or an array of DOM nodes to a string.\n *\n * Can be thought of as the equivalent of the `outerHTML` of the passed node(s).\n *\n * @param node Node to be rendered.\n * @param options Changes serialization behavior\n */\nfunction render(node, options) {\n    if (options === void 0) { options = {}; }\n    // TODO: This is a bit hacky.\n    var nodes = Array.isArray(node) || node.cheerio ? node : [node];\n    var output = \"\";\n    for (var i = 0; i < nodes.length; i++) {\n        output += renderNode(nodes[i], options);\n    }\n    return output;\n}\nexports.default = render;\nfunction renderNode(node, options) {\n    switch (node.type) {\n        case ElementType.Root:\n            return render(node.children, options);\n        case ElementType.Directive:\n        case ElementType.Doctype:\n            return renderDirective(node);\n        case ElementType.Comment:\n            return renderComment(node);\n        case ElementType.CDATA:\n            return renderCdata(node);\n        case ElementType.Script:\n        case ElementType.Style:\n        case ElementType.Tag:\n            return renderTag(node, options);\n        case ElementType.Text:\n            return renderText(node, options);\n    }\n}\nvar foreignModeIntegrationPoints = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nvar foreignElements = new Set([\"svg\", \"math\"]);\nfunction renderTag(elem, opts) {\n    var _a;\n    // Handle SVG / MathML in HTML\n    if (opts.xmlMode === \"foreign\") {\n        /* Fix up mixed-case element names */\n        elem.name = (_a = foreignNames_1.elementNames.get(elem.name)) !== null && _a !== void 0 ? _a : elem.name;\n        /* Exit foreign mode at integration points */\n        if (elem.parent &&\n            foreignModeIntegrationPoints.has(elem.parent.name)) {\n            opts = __assign(__assign({}, opts), { xmlMode: false });\n        }\n    }\n    if (!opts.xmlMode && foreignElements.has(elem.name)) {\n        opts = __assign(__assign({}, opts), { xmlMode: \"foreign\" });\n    }\n    var tag = \"<\" + elem.name;\n    var attribs = formatAttributes(elem.attribs, opts);\n    if (attribs) {\n        tag += \" \" + attribs;\n    }\n    if (elem.children.length === 0 &&\n        (opts.xmlMode\n            ? // In XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags\n                opts.selfClosingTags !== false\n            : // User explicitly asked for self-closing tags, even in HTML mode\n                opts.selfClosingTags && singleTag.has(elem.name))) {\n        if (!opts.xmlMode)\n            tag += \" \";\n        tag += \"/>\";\n    }\n    else {\n        tag += \">\";\n        if (elem.children.length > 0) {\n            tag += render(elem.children, opts);\n        }\n        if (opts.xmlMode || !singleTag.has(elem.name)) {\n            tag += \"</\" + elem.name + \">\";\n        }\n    }\n    return tag;\n}\nfunction renderDirective(elem) {\n    return \"<\" + elem.data + \">\";\n}\nfunction renderText(elem, opts) {\n    var data = elem.data || \"\";\n    // If entities weren't decoded, no need to encode them back\n    if (opts.decodeEntities &&\n        !(elem.parent && unencodedElements.has(elem.parent.name))) {\n        data = entities_1.encodeXML(data);\n    }\n    return data;\n}\nfunction renderCdata(elem) {\n    return \"<![CDATA[\" + elem.children[0].data + \"]]>\";\n}\nfunction renderComment(elem) {\n    return \"<!--\" + elem.data + \"-->\";\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Doctype = exports.CDATA = exports.Tag = exports.Style = exports.Script = exports.Comment = exports.Directive = exports.Text = exports.Root = exports.isTag = void 0;\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nfunction isTag(elem) {\n    return (elem.type === \"tag\" /* Tag */ ||\n        elem.type === \"script\" /* Script */ ||\n        elem.type === \"style\" /* Style */);\n}\nexports.isTag = isTag;\n// Exports for backwards compatibility\n/** Type for the root element of a document */\nexports.Root = \"root\" /* Root */;\n/** Type for Text */\nexports.Text = \"text\" /* Text */;\n/** Type for <? ... ?> */\nexports.Directive = \"directive\" /* Directive */;\n/** Type for <!-- ... --> */\nexports.Comment = \"comment\" /* Comment */;\n/** Type for <script> tags */\nexports.Script = \"script\" /* Script */;\n/** Type for <style> tags */\nexports.Style = \"style\" /* Style */;\n/** Type for Any tag */\nexports.Tag = \"tag\" /* Tag */;\n/** Type for <![CDATA[ ... ]]> */\nexports.CDATA = \"cdata\" /* CDATA */;\n/** Type for <!doctype ...> */\nexports.Doctype = \"doctype\" /* Doctype */;\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DomHandler = void 0;\nvar node_1 = require(\"./node\");\n__exportStar(require(\"./node\"), exports);\nvar reWhitespace = /\\s+/g;\n// Default options\nvar defaultOpts = {\n    normalizeWhitespace: false,\n    withStartIndices: false,\n    withEndIndices: false,\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The elements of the DOM */\n        this.dom = [];\n        /** The root element for the DOM */\n        this.root = new node_1.Document(this.dom);\n        /** Indicated whether parsing has been completed. */\n        this.done = false;\n        /** Stack of open tags. */\n        this.tagStack = [this.root];\n        /** A data node that is still being written to. */\n        this.lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this.parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this.callback = callback !== null && callback !== void 0 ? callback : null;\n        this.options = options !== null && options !== void 0 ? options : defaultOpts;\n        this.elementCB = elementCB !== null && elementCB !== void 0 ? elementCB : null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this.parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        var _a;\n        this.dom = [];\n        this.root = new node_1.Document(this.dom);\n        this.done = false;\n        this.tagStack = [this.root];\n        this.lastNode = null;\n        this.parser = (_a = this.parser) !== null && _a !== void 0 ? _a : null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this.done)\n            return;\n        this.done = true;\n        this.parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this.lastNode = null;\n        var elem = this.tagStack.pop();\n        if (this.options.withEndIndices) {\n            elem.endIndex = this.parser.endIndex;\n        }\n        if (this.elementCB)\n            this.elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var element = new node_1.Element(name, attribs);\n        this.addNode(element);\n        this.tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var normalizeWhitespace = this.options.normalizeWhitespace;\n        var lastNode = this.lastNode;\n        if (lastNode && lastNode.type === \"text\" /* Text */) {\n            if (normalizeWhitespace) {\n                lastNode.data = (lastNode.data + data).replace(reWhitespace, \" \");\n            }\n            else {\n                lastNode.data += data;\n            }\n        }\n        else {\n            if (normalizeWhitespace) {\n                data = data.replace(reWhitespace, \" \");\n            }\n            var node = new node_1.Text(data);\n            this.addNode(node);\n            this.lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this.lastNode && this.lastNode.type === \"comment\" /* Comment */) {\n            this.lastNode.data += data;\n            return;\n        }\n        var node = new node_1.Comment(data);\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_1.Text(\"\");\n        var node = new node_1.NodeWithChildren(\"cdata\" /* CDATA */, [text]);\n        this.addNode(node);\n        text.parent = node;\n        this.lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this.lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this.callback === \"function\") {\n            this.callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this.tagStack[this.tagStack.length - 1];\n        var previousSibling = parent.children[parent.children.length - 1];\n        if (this.options.withStartIndices) {\n            node.startIndex = this.parser.startIndex;\n        }\n        if (this.options.withEndIndices) {\n            node.endIndex = this.parser.endIndex;\n        }\n        parent.children.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        node.parent = parent;\n        this.lastNode = null;\n    };\n    DomHandler.prototype.addDataNode = function (node) {\n        this.addNode(node);\n        this.lastNode = node;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n",
    "\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cloneNode = exports.Element = exports.Document = exports.NodeWithChildren = exports.ProcessingInstruction = exports.Comment = exports.Text = exports.DataNode = exports.Node = void 0;\nvar nodeTypes = new Map([\n    [\"tag\" /* Tag */, 1],\n    [\"script\" /* Script */, 1],\n    [\"style\" /* Style */, 1],\n    [\"directive\" /* Directive */, 1],\n    [\"text\" /* Text */, 3],\n    [\"cdata\" /* CDATA */, 4],\n    [\"comment\" /* Comment */, 8],\n    [\"root\" /* Root */, 9],\n]);\n/**\n * This object will be used as the prototype for Nodes when creating a\n * DOM-Level-1-compliant structure.\n */\nvar Node = /** @class */ (function () {\n    /**\n     *\n     * @param type The type of the node.\n     */\n    function Node(type) {\n        this.type = type;\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"nodeType\", {\n        // Read-only aliases\n        get: function () {\n            var _a;\n            return (_a = nodeTypes.get(this.type)) !== null && _a !== void 0 ? _a : 1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        get: function () {\n            return this.parent;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        get: function () {\n            return this.prev;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            return this.next;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * Clone this node, and optionally its children.\n     *\n     * @param recursive Clone child nodes as well.\n     * @returns A clone of the node.\n     */\n    Node.prototype.cloneNode = function (recursive) {\n        if (recursive === void 0) { recursive = false; }\n        return cloneNode(this, recursive);\n    };\n    return Node;\n}());\nexports.Node = Node;\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     * @param type The type of the node\n     * @param data The content of the data node\n     */\n    function DataNode(type, data) {\n        var _this = _super.call(this, type) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\nvar Text = /** @class */ (function (_super) {\n    __extends(Text, _super);\n    function Text(data) {\n        return _super.call(this, \"text\" /* Text */, data) || this;\n    }\n    return Text;\n}(DataNode));\nexports.Text = Text;\nvar Comment = /** @class */ (function (_super) {\n    __extends(Comment, _super);\n    function Comment(data) {\n        return _super.call(this, \"comment\" /* Comment */, data) || this;\n    }\n    return Comment;\n}(DataNode));\nexports.Comment = Comment;\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, \"directive\" /* Directive */, data) || this;\n        _this.name = name;\n        return _this;\n    }\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\n/**\n * A `Node` that can have children.\n */\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     * @param type Type of the node.\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(type, children) {\n        var _this = _super.call(this, type) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        get: function () {\n            var _a;\n            return (_a = this.children[0]) !== null && _a !== void 0 ? _a : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        get: function () {\n            return this.children.length > 0\n                ? this.children[this.children.length - 1]\n                : null;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar Document = /** @class */ (function (_super) {\n    __extends(Document, _super);\n    function Document(children) {\n        return _super.call(this, \"root\" /* Root */, children) || this;\n    }\n    return Document;\n}(NodeWithChildren));\nexports.Document = Document;\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     * @param name Name of the tag, eg. `div`, `span`.\n     * @param attribs Object mapping attribute names to attribute values.\n     * @param children Children of the node.\n     */\n    function Element(name, attribs, children) {\n        if (children === void 0) { children = []; }\n        var _this = _super.call(this, name === \"script\"\n            ? \"script\" /* Script */\n            : name === \"style\"\n                ? \"style\" /* Style */\n                : \"tag\" /* Tag */, children) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.attribs = attribs;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Element.prototype, \"attributes\", {\n        get: function () {\n            var _this = this;\n            return Object.keys(this.attribs).map(function (name) {\n                var _a, _b;\n                return ({\n                    name: name,\n                    value: _this.attribs[name],\n                    namespace: (_a = _this[\"x-attribsNamespace\"]) === null || _a === void 0 ? void 0 : _a[name],\n                    prefix: (_b = _this[\"x-attribsPrefix\"]) === null || _b === void 0 ? void 0 : _b[name],\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n/**\n * Clone a node, and optionally its children.\n *\n * @param recursive Clone child nodes as well.\n * @returns A clone of the node.\n */\nfunction cloneNode(node, recursive) {\n    if (recursive === void 0) { recursive = false; }\n    var result;\n    switch (node.type) {\n        case \"text\" /* Text */:\n            result = new Text(node.data);\n            break;\n        case \"directive\" /* Directive */: {\n            var instr = node;\n            result = new ProcessingInstruction(instr.name, instr.data);\n            if (instr[\"x-name\"] != null) {\n                result[\"x-name\"] = instr[\"x-name\"];\n                result[\"x-publicId\"] = instr[\"x-publicId\"];\n                result[\"x-systemId\"] = instr[\"x-systemId\"];\n            }\n            break;\n        }\n        case \"comment\" /* Comment */:\n            result = new Comment(node.data);\n            break;\n        case \"tag\" /* Tag */:\n        case \"script\" /* Script */:\n        case \"style\" /* Style */: {\n            var elem = node;\n            var children = recursive ? cloneChildren(elem.children) : [];\n            var clone_1 = new Element(elem.name, __assign({}, elem.attribs), children);\n            children.forEach(function (child) { return (child.parent = clone_1); });\n            if (elem[\"x-attribsNamespace\"]) {\n                clone_1[\"x-attribsNamespace\"] = __assign({}, elem[\"x-attribsNamespace\"]);\n            }\n            if (elem[\"x-attribsPrefix\"]) {\n                clone_1[\"x-attribsPrefix\"] = __assign({}, elem[\"x-attribsPrefix\"]);\n            }\n            result = clone_1;\n            break;\n        }\n        case \"cdata\" /* CDATA */: {\n            var cdata = node;\n            var children = recursive ? cloneChildren(cdata.children) : [];\n            var clone_2 = new NodeWithChildren(node.type, children);\n            children.forEach(function (child) { return (child.parent = clone_2); });\n            result = clone_2;\n            break;\n        }\n        case \"root\" /* Root */: {\n            var doc = node;\n            var children = recursive ? cloneChildren(doc.children) : [];\n            var clone_3 = new Document(children);\n            children.forEach(function (child) { return (child.parent = clone_3); });\n            if (doc[\"x-mode\"]) {\n                clone_3[\"x-mode\"] = doc[\"x-mode\"];\n            }\n            result = clone_3;\n            break;\n        }\n        case \"doctype\" /* Doctype */: {\n            // This type isn't used yet.\n            throw new Error(\"Not implemented yet: ElementType.Doctype case\");\n        }\n    }\n    result.startIndex = node.startIndex;\n    result.endIndex = node.endIndex;\n    return result;\n}\nexports.cloneNode = cloneNode;\nfunction cloneChildren(childs) {\n    var children = childs.map(function (child) { return cloneNode(child, true); });\n    for (var i = 1; i < children.length; i++) {\n        children[i].prev = children[i - 1];\n        children[i - 1].next = children[i];\n    }\n    return children;\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uniqueSort = exports.compareDocumentPosition = exports.removeSubsets = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\n/**\n * Given an array of nodes, remove any member that is contained by another.\n *\n * @param nodes Nodes to filter.\n * @returns Remaining nodes that aren't subtrees of each other.\n */\nfunction removeSubsets(nodes) {\n    var idx = nodes.length;\n    /*\n     * Check if each node (or one of its ancestors) is already contained in the\n     * array.\n     */\n    while (--idx >= 0) {\n        var node = nodes[idx];\n        /*\n         * Remove the node if it is not unique.\n         * We are going through the array from the end, so we only\n         * have to check nodes that preceed the node under consideration in the array.\n         */\n        if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n            nodes.splice(idx, 1);\n            continue;\n        }\n        for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n            if (nodes.includes(ancestor)) {\n                nodes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n    return nodes;\n}\nexports.removeSubsets = removeSubsets;\n/**\n * Compare the position of one node against another node in any other document.\n * The return value is a bitmask with the following values:\n *\n * Document order:\n * > There is an ordering, document order, defined on all the nodes in the\n * > document corresponding to the order in which the first character of the\n * > XML representation of each node occurs in the XML representation of the\n * > document after expansion of general entities. Thus, the document element\n * > node will be the first node. Element nodes occur before their children.\n * > Thus, document order orders element nodes in order of the occurrence of\n * > their start-tag in the XML (after expansion of entities). The attribute\n * > nodes of an element occur after the element and before its children. The\n * > relative order of attribute nodes is implementation-dependent./\n *\n * Source:\n * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n *\n * @param nodeA The first node to use in the comparison\n * @param nodeB The second node to use in the comparison\n * @returns A bitmask describing the input nodes' relative position.\n *\n * See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n * a description of these values.\n */\nfunction compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n    if (nodeA === nodeB) {\n        return 0;\n    }\n    var current = tagtypes_1.hasChildren(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n        aParents.unshift(current);\n        current = current.parent;\n    }\n    current = tagtypes_1.hasChildren(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n        bParents.unshift(current);\n        current = current.parent;\n    }\n    var maxIdx = Math.min(aParents.length, bParents.length);\n    var idx = 0;\n    while (idx < maxIdx && aParents[idx] === bParents[idx]) {\n        idx++;\n    }\n    if (idx === 0) {\n        return 1 /* DISCONNECTED */;\n    }\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n        if (sharedParent === nodeB) {\n            return 4 /* FOLLOWING */ | 16 /* CONTAINED_BY */;\n        }\n        return 4 /* FOLLOWING */;\n    }\n    if (sharedParent === nodeA) {\n        return 2 /* PRECEDING */ | 8 /* CONTAINS */;\n    }\n    return 2 /* PRECEDING */;\n}\nexports.compareDocumentPosition = compareDocumentPosition;\n/**\n * Sort an array of nodes based on their relative position in the document and\n * remove any duplicate nodes. If the array contains nodes that do not belong\n * to the same document, sort order is unspecified.\n *\n * @param nodes Array of DOM nodes.\n * @returns Collection of unique nodes, sorted in document order.\n */\nfunction uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) { return !arr.includes(node, i + 1); });\n    nodes.sort(function (a, b) {\n        var relative = compareDocumentPosition(a, b);\n        if (relative & 2 /* PRECEDING */) {\n            return -1;\n        }\n        else if (relative & 4 /* FOLLOWING */) {\n            return 1;\n        }\n        return 0;\n    });\n    return nodes;\n}\nexports.uniqueSort = uniqueSort;\n",
    "\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./stringify\"), exports);\n__exportStar(require(\"./traversal\"), exports);\n__exportStar(require(\"./manipulation\"), exports);\n__exportStar(require(\"./querying\"), exports);\n__exportStar(require(\"./legacy\"), exports);\n__exportStar(require(\"./helpers\"), exports);\n__exportStar(require(\"./tagtypes\"), exports);\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getElementsByTagType = exports.getElementsByTagName = exports.getElementById = exports.getElements = exports.testElement = void 0;\nvar querying_1 = require(\"./querying\");\nvar tagtypes_1 = require(\"./tagtypes\");\nvar Checks = {\n    tag_name: function (name) {\n        if (typeof name === \"function\") {\n            return function (elem) { return tagtypes_1.isTag(elem) && name(elem.name); };\n        }\n        else if (name === \"*\") {\n            return tagtypes_1.isTag;\n        }\n        return function (elem) { return tagtypes_1.isTag(elem) && elem.name === name; };\n    },\n    tag_type: function (type) {\n        if (typeof type === \"function\") {\n            return function (elem) { return type(elem.type); };\n        }\n        return function (elem) { return elem.type === type; };\n    },\n    tag_contains: function (data) {\n        if (typeof data === \"function\") {\n            return function (elem) { return tagtypes_1.isText(elem) && data(elem.data); };\n        }\n        return function (elem) { return tagtypes_1.isText(elem) && elem.data === data; };\n    },\n};\n/**\n * @param attrib Attribute to check.\n * @param value Attribute value to look for.\n * @returns A function to check whether the a node has an attribute with a particular value.\n */\nfunction getAttribCheck(attrib, value) {\n    if (typeof value === \"function\") {\n        return function (elem) { return tagtypes_1.isTag(elem) && value(elem.attribs[attrib]); };\n    }\n    return function (elem) { return tagtypes_1.isTag(elem) && elem.attribs[attrib] === value; };\n}\n/**\n * @param a First function to combine.\n * @param b Second function to combine.\n * @returns A function taking a node and returning `true` if either\n * of the input functions returns `true` for the node.\n */\nfunction combineFuncs(a, b) {\n    return function (elem) { return a(elem) || b(elem); };\n}\n/**\n * @param options An object describing nodes to look for.\n * @returns A function executing all checks in `options` and returning `true`\n * if any of them match a node.\n */\nfunction compileTest(options) {\n    var funcs = Object.keys(options).map(function (key) {\n        var value = options[key];\n        return key in Checks\n            ? Checks[key](value)\n            : getAttribCheck(key, value);\n    });\n    return funcs.length === 0 ? null : funcs.reduce(combineFuncs);\n}\n/**\n * @param options An object describing nodes to look for.\n * @param node The element to test.\n * @returns Whether the element matches the description in `options`.\n */\nfunction testElement(options, node) {\n    var test = compileTest(options);\n    return test ? test(node) : true;\n}\nexports.testElement = testElement;\n/**\n * @param options An object describing nodes to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes that match `options`.\n */\nfunction getElements(options, nodes, recurse, limit) {\n    if (limit === void 0) { limit = Infinity; }\n    var test = compileTest(options);\n    return test ? querying_1.filter(test, nodes, recurse, limit) : [];\n}\nexports.getElements = getElements;\n/**\n * @param id The unique ID attribute value to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @returns The node with the supplied ID.\n */\nfunction getElementById(id, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    if (!Array.isArray(nodes))\n        nodes = [nodes];\n    return querying_1.findOne(getAttribCheck(\"id\", id), nodes, recurse);\n}\nexports.getElementById = getElementById;\n/**\n * @param tagName Tag name to search for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `tagName`.\n */\nfunction getElementsByTagName(tagName, nodes, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return querying_1.filter(Checks.tag_name(tagName), nodes, recurse, limit);\n}\nexports.getElementsByTagName = getElementsByTagName;\n/**\n * @param type Element type to look for.\n * @param nodes Nodes to search through.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes with the supplied `type`.\n */\nfunction getElementsByTagType(type, nodes, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return querying_1.filter(Checks.tag_type(type), nodes, recurse, limit);\n}\nexports.getElementsByTagType = getElementsByTagType;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepend = exports.prependChild = exports.append = exports.appendChild = exports.replaceElement = exports.removeElement = void 0;\n/**\n * Remove an element from the dom\n *\n * @param elem The element to be removed\n */\nfunction removeElement(elem) {\n    if (elem.prev)\n        elem.prev.next = elem.next;\n    if (elem.next)\n        elem.next.prev = elem.prev;\n    if (elem.parent) {\n        var childs = elem.parent.children;\n        childs.splice(childs.lastIndexOf(elem), 1);\n    }\n}\nexports.removeElement = removeElement;\n/**\n * Replace an element in the dom\n *\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\nfunction replaceElement(elem, replacement) {\n    var prev = (replacement.prev = elem.prev);\n    if (prev) {\n        prev.next = replacement;\n    }\n    var next = (replacement.next = elem.next);\n    if (next) {\n        next.prev = replacement;\n    }\n    var parent = (replacement.parent = elem.parent);\n    if (parent) {\n        var childs = parent.children;\n        childs[childs.lastIndexOf(elem)] = replacement;\n    }\n}\nexports.replaceElement = replaceElement;\n/**\n * Append a child to an element.\n *\n * @param elem The element to append to.\n * @param child The element to be added as a child.\n */\nfunction appendChild(elem, child) {\n    removeElement(child);\n    child.next = null;\n    child.parent = elem;\n    if (elem.children.push(child) > 1) {\n        var sibling = elem.children[elem.children.length - 2];\n        sibling.next = child;\n        child.prev = sibling;\n    }\n    else {\n        child.prev = null;\n    }\n}\nexports.appendChild = appendChild;\n/**\n * Append an element after another.\n *\n * @param elem The element to append after.\n * @param next The element be added.\n */\nfunction append(elem, next) {\n    removeElement(next);\n    var parent = elem.parent;\n    var currNext = elem.next;\n    next.next = currNext;\n    next.prev = elem;\n    elem.next = next;\n    next.parent = parent;\n    if (currNext) {\n        currNext.prev = next;\n        if (parent) {\n            var childs = parent.children;\n            childs.splice(childs.lastIndexOf(currNext), 0, next);\n        }\n    }\n    else if (parent) {\n        parent.children.push(next);\n    }\n}\nexports.append = append;\n/**\n * Prepend a child to an element.\n *\n * @param elem The element to prepend before.\n * @param child The element to be added as a child.\n */\nfunction prependChild(elem, child) {\n    removeElement(child);\n    child.parent = elem;\n    child.prev = null;\n    if (elem.children.unshift(child) !== 1) {\n        var sibling = elem.children[1];\n        sibling.prev = child;\n        child.next = sibling;\n    }\n    else {\n        child.next = null;\n    }\n}\nexports.prependChild = prependChild;\n/**\n * Prepend an element before another.\n *\n * @param elem The element to prepend before.\n * @param prev The element be added.\n */\nfunction prepend(elem, prev) {\n    removeElement(prev);\n    var parent = elem.parent;\n    if (parent) {\n        var childs = parent.children;\n        childs.splice(childs.indexOf(elem), 0, prev);\n    }\n    if (elem.prev) {\n        elem.prev.next = prev;\n    }\n    prev.parent = parent;\n    prev.prev = elem.prev;\n    prev.next = elem;\n    elem.prev = prev;\n}\nexports.prepend = prepend;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findAll = exports.existsOne = exports.findOne = exports.findOneChild = exports.find = exports.filter = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\n/**\n * Search a node and its children for nodes passing a test function.\n *\n * @param test Function to test nodes on.\n * @param node Node to search. Will be included in the result set if it matches.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nfunction filter(test, node, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    if (!Array.isArray(node))\n        node = [node];\n    return find(test, node, recurse, limit);\n}\nexports.filter = filter;\n/**\n * Search an array of node and its children for nodes passing a test function.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n * @returns All nodes passing `test`.\n */\nfunction find(test, nodes, recurse, limit) {\n    var result = [];\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var elem = nodes_1[_i];\n        if (test(elem)) {\n            result.push(elem);\n            if (--limit <= 0)\n                break;\n        }\n        if (recurse && tagtypes_1.hasChildren(elem) && elem.children.length > 0) {\n            var children = find(test, elem.children, recurse, limit);\n            result.push.apply(result, children);\n            limit -= children.length;\n            if (limit <= 0)\n                break;\n        }\n    }\n    return result;\n}\nexports.find = find;\n/**\n * Finds the first element inside of an array that matches a test function.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns The first node in the array that passes `test`.\n */\nfunction findOneChild(test, nodes) {\n    return nodes.find(test);\n}\nexports.findOneChild = findOneChild;\n/**\n * Finds one element in a tree that passes a test.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @returns The first child node that passes `test`.\n */\nfunction findOne(test, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    var elem = null;\n    for (var i = 0; i < nodes.length && !elem; i++) {\n        var checked = nodes[i];\n        if (!tagtypes_1.isTag(checked)) {\n            continue;\n        }\n        else if (test(checked)) {\n            elem = checked;\n        }\n        else if (recurse && checked.children.length > 0) {\n            elem = findOne(test, checked.children);\n        }\n    }\n    return elem;\n}\nexports.findOne = findOne;\n/**\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns Whether a tree of nodes contains at least one node passing a test.\n */\nfunction existsOne(test, nodes) {\n    return nodes.some(function (checked) {\n        return tagtypes_1.isTag(checked) &&\n            (test(checked) ||\n                (checked.children.length > 0 &&\n                    existsOne(test, checked.children)));\n    });\n}\nexports.existsOne = existsOne;\n/**\n * Search and array of nodes and its children for nodes passing a test function.\n *\n * Same as `find`, only with less options, leading to reduced complexity.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @returns All nodes passing `test`.\n */\nfunction findAll(test, nodes) {\n    var _a;\n    var result = [];\n    var stack = nodes.filter(tagtypes_1.isTag);\n    var elem;\n    while ((elem = stack.shift())) {\n        var children = (_a = elem.children) === null || _a === void 0 ? void 0 : _a.filter(tagtypes_1.isTag);\n        if (children && children.length > 0) {\n            stack.unshift.apply(stack, children);\n        }\n        if (test(elem))\n            result.push(elem);\n    }\n    return result;\n}\nexports.findAll = findAll;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getText = exports.getInnerHTML = exports.getOuterHTML = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\nvar dom_serializer_1 = __importDefault(require(\"dom-serializer\"));\n/**\n * @param node Node to get the outer HTML of.\n * @param options Options for serialization.\n * @deprecated Use the `dom-serializer` module directly.\n * @returns `node`'s outer HTML.\n */\nfunction getOuterHTML(node, options) {\n    return dom_serializer_1.default(node, options);\n}\nexports.getOuterHTML = getOuterHTML;\n/**\n * @param node Node to get the inner HTML of.\n * @param options Options for serialization.\n * @deprecated Use the `dom-serializer` module directly.\n * @returns `node`'s inner HTML.\n */\nfunction getInnerHTML(node, options) {\n    return tagtypes_1.hasChildren(node)\n        ? node.children.map(function (node) { return getOuterHTML(node, options); }).join(\"\")\n        : \"\";\n}\nexports.getInnerHTML = getInnerHTML;\n/**\n * Get a node's inner text.\n *\n * @param node Node to get the inner text of.\n * @returns `node`'s inner text.\n */\nfunction getText(node) {\n    if (Array.isArray(node))\n        return node.map(getText).join(\"\");\n    if (tagtypes_1.isTag(node))\n        return node.name === \"br\" ? \"\\n\" : getText(node.children);\n    if (tagtypes_1.isCDATA(node))\n        return getText(node.children);\n    if (tagtypes_1.isText(node))\n        return node.data;\n    return \"\";\n}\nexports.getText = getText;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasChildren = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `Element`, `false` otherwise.\n */\nfunction isTag(node) {\n    return domelementtype_1.isTag(node);\n}\nexports.isTag = isTag;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `NodeWithChildren`, `false` otherwise.\n */\nfunction isCDATA(node) {\n    return node.type === \"cdata\" /* CDATA */;\n}\nexports.isCDATA = isCDATA;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `DataNode`, `false` otherwise.\n */\nfunction isText(node) {\n    return node.type === \"text\" /* Text */;\n}\nexports.isText = isText;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `DataNode`, `false` otherwise.\n */\nfunction isComment(node) {\n    return node.type === \"comment\" /* Comment */;\n}\nexports.isComment = isComment;\n/**\n * @param node Node to check.\n * @returns `true` if the node is a `NodeWithChildren` (has children), `false` otherwise.\n */\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextElementSibling = exports.getName = exports.hasAttrib = exports.getAttributeValue = exports.getSiblings = exports.getParent = exports.getChildren = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\nvar emptyArray = [];\n/**\n * Get a node's children.\n *\n * @param elem Node to get the children of.\n * @returns `elem`'s children, or an empty array.\n */\nfunction getChildren(elem) {\n    var _a;\n    return (_a = elem.children) !== null && _a !== void 0 ? _a : emptyArray;\n}\nexports.getChildren = getChildren;\n/**\n * Get a node's parent.\n *\n * @param elem Node to get the parent of.\n * @returns `elem`'s parent node.\n */\nfunction getParent(elem) {\n    return elem.parent || null;\n}\nexports.getParent = getParent;\n/**\n * Gets an elements siblings, including the element itself.\n *\n * Attempts to get the children through the element's parent first.\n * If we don't have a parent (the element is a root node),\n * we walk the element's `prev` & `next` to get all remaining nodes.\n *\n * @param elem Element to get the siblings of.\n * @returns `elem`'s siblings.\n */\nfunction getSiblings(elem) {\n    var _a, _b;\n    var parent = getParent(elem);\n    if (parent != null)\n        return getChildren(parent);\n    var siblings = [elem];\n    var prev = elem.prev, next = elem.next;\n    while (prev != null) {\n        siblings.unshift(prev);\n        (_a = prev, prev = _a.prev);\n    }\n    while (next != null) {\n        siblings.push(next);\n        (_b = next, next = _b.next);\n    }\n    return siblings;\n}\nexports.getSiblings = getSiblings;\n/**\n * Gets an attribute from an element.\n *\n * @param elem Element to check.\n * @param name Attribute name to retrieve.\n * @returns The element's attribute value, or `undefined`.\n */\nfunction getAttributeValue(elem, name) {\n    var _a;\n    return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];\n}\nexports.getAttributeValue = getAttributeValue;\n/**\n * Checks whether an element has an attribute.\n *\n * @param elem Element to check.\n * @param name Attribute name to look for.\n * @returns Returns whether `elem` has the attribute `name`.\n */\nfunction hasAttrib(elem, name) {\n    return (elem.attribs != null &&\n        Object.prototype.hasOwnProperty.call(elem.attribs, name) &&\n        elem.attribs[name] != null);\n}\nexports.hasAttrib = hasAttrib;\n/**\n * Get the tag name of an element.\n *\n * @param elem The element to get the name for.\n * @returns The tag name of `elem`.\n */\nfunction getName(elem) {\n    return elem.name;\n}\nexports.getName = getName;\n/**\n * Returns the next element sibling of a node.\n *\n * @param elem The element to get the next sibling of.\n * @returns `elem`'s next sibling that is a tag.\n */\nfunction nextElementSibling(elem) {\n    var _a;\n    var next = elem.next;\n    while (next !== null && !tagtypes_1.isTag(next))\n        (_a = next, next = _a.next);\n    return next;\n}\nexports.nextElementSibling = nextElementSibling;\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nvar strictEntityRe = /&(?:[a-zA-Z0-9]+|#[xX][\\da-fA-F]+|#\\d+);/g;\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var replace = getReplacer(map);\n    return function (str) { return String(str).replace(strictEntityRe, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    // TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        return map[str.slice(1, -1)] || str;\n    };\n}\n",
    "\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using XML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeXML = getASCIIEncoder(inverseXML);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\n/**\n * Encodes all entities and non-ASCII characters in the input.\n *\n * This includes characters that are valid ASCII characters in HTML documents.\n * For example `#` will be encoded as `&num;`. To get a more compact output,\n * consider using the `encodeNonAsciiHTML` function.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in HTML\n * documents using HTML entities.\n *\n * If a character has no equivalent entity, a\n * numeric hexadecimal reference (eg. `&#xfc;`) will be used.\n */\nexports.encodeNonAsciiHTML = getASCIIEncoder(inverseHTML);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\n// /[^\\0-\\x7F]/gu\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nvar getCodePoint = \n// eslint-disable-next-line @typescript-eslint/no-unnecessary-condition\nString.prototype.codePointAt != null\n    ? // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        function (str) { return str.codePointAt(0); }\n    : // http://mathiasbynens.be/notes/javascript-encoding#surrogate-formulae\n        function (c) {\n            return (c.charCodeAt(0) - 0xd800) * 0x400 +\n                c.charCodeAt(1) -\n                0xdc00 +\n                0x10000;\n        };\nfunction singleCharReplacer(c) {\n    return \"&#x\" + (c.length > 1 ? getCodePoint(c) : c.charCodeAt(0))\n        .toString(16)\n        .toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reEscapeChars = new RegExp(xmlReplacer.source + \"|\" + reNonASCII.source, \"g\");\n/**\n * Encodes all non-ASCII characters, as well as characters not valid in XML\n * documents using numeric hexadecimal reference (eg. `&#xfc;`).\n *\n * Have a look at `escapeUTF8` if you want a more concise output at the expense\n * of reduced transportability.\n *\n * @param data String to escape.\n */\nfunction escape(data) {\n    return data.replace(reEscapeChars, singleCharReplacer);\n}\nexports.escape = escape;\n/**\n * Encodes all characters not valid in XML documents using numeric hexadecimal\n * reference (eg. `&#xfc;`).\n *\n * Note that the output will be character-set dependent.\n *\n * @param data String to escape.\n */\nfunction escapeUTF8(data) {\n    return data.replace(xmlReplacer, singleCharReplacer);\n}\nexports.escapeUTF8 = escapeUTF8;\nfunction getASCIIEncoder(obj) {\n    return function (data) {\n        return data.replace(reEscapeChars, function (c) { return obj[c] || singleCharReplacer(c); });\n    };\n}\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeXMLStrict = exports.decodeHTML5Strict = exports.decodeHTML4Strict = exports.decodeHTML5 = exports.decodeHTML4 = exports.decodeHTMLStrict = exports.decodeHTML = exports.decodeXML = exports.encodeHTML5 = exports.encodeHTML4 = exports.escapeUTF8 = exports.escape = exports.encodeNonAsciiHTML = exports.encodeHTML = exports.encodeXML = exports.encode = exports.decodeStrict = exports.decode = void 0;\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeXML` or `decodeHTML` directly.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `decodeHTMLStrict` or `decodeXML` directly.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n * @deprecated Use `encodeHTML`, `encodeXML` or `encodeNonAsciiHTML` directly.\n */\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeNonAsciiHTML\", { enumerable: true, get: function () { return encode_2.encodeNonAsciiHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\nObject.defineProperty(exports, \"escapeUTF8\", { enumerable: true, get: function () { return encode_2.escapeUTF8; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases (deprecated)\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n",
    "/*!\n * escape-html\n * Copyright(c) 2012-2013 TJ Holowaychuk\n * Copyright(c) 2015 Andreas Lubbe\n * Copyright(c) 2015 Tiancheng \"Timothy\" Gu\n * MIT Licensed\n */\n\n'use strict';\n\n/**\n * Module variables.\n * @private\n */\n\nvar matchHtmlRegExp = /[\"'&<>]/;\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = escapeHtml;\n\n/**\n * Escape special characters in the given string of html.\n *\n * @param  {string} string The string to escape for inserting into HTML\n * @return {string}\n * @public\n */\n\nfunction escapeHtml(string) {\n  var str = '' + string;\n  var match = matchHtmlRegExp.exec(str);\n\n  if (!match) {\n    return str;\n  }\n\n  var escape;\n  var html = '';\n  var index = 0;\n  var lastIndex = 0;\n\n  for (index = match.index; index < str.length; index++) {\n    switch (str.charCodeAt(index)) {\n      case 34: // \"\n        escape = '&quot;';\n        break;\n      case 38: // &\n        escape = '&amp;';\n        break;\n      case 39: // '\n        escape = '&#39;';\n        break;\n      case 60: // <\n        escape = '&lt;';\n        break;\n      case 62: // >\n        escape = '&gt;';\n        break;\n      default:\n        continue;\n    }\n\n    if (lastIndex !== index) {\n      html += str.substring(lastIndex, index);\n    }\n\n    lastIndex = index + 1;\n    html += escape;\n  }\n\n  return lastIndex !== index\n    ? html + str.substring(lastIndex, index)\n    : html;\n}\n",
    "var hasOwn = Object.prototype.hasOwnProperty;\nvar toString = Object.prototype.toString;\nvar undefined;\n\nvar isPlainObject = function isPlainObject(obj) {\n\t'use strict';\n\tif (!obj || toString.call(obj) !== '[object Object]') {\n\t\treturn false;\n\t}\n\n\tvar has_own_constructor = hasOwn.call(obj, 'constructor');\n\tvar has_is_property_of_method = obj.constructor && obj.constructor.prototype && hasOwn.call(obj.constructor.prototype, 'isPrototypeOf');\n\t// Not own constructor property must be Object\n\tif (obj.constructor && !has_own_constructor && !has_is_property_of_method) {\n\t\treturn false;\n\t}\n\n\t// Own properties are enumerated firstly, so to speed up,\n\t// if last one is own, then all properties are own.\n\tvar key;\n\tfor (key in obj) {}\n\n\treturn key === undefined || hasOwn.call(obj, key);\n};\n\nmodule.exports = function extend() {\n\t'use strict';\n\tvar options, name, src, copy, copyIsArray, clone,\n\t\ttarget = arguments[0],\n\t\ti = 1,\n\t\tlength = arguments.length,\n\t\tdeep = false;\n\n\t// Handle a deep copy situation\n\tif (typeof target === 'boolean') {\n\t\tdeep = target;\n\t\ttarget = arguments[1] || {};\n\t\t// skip the boolean and the target\n\t\ti = 2;\n\t} else if ((typeof target !== 'object' && typeof target !== 'function') || target == null) {\n\t\ttarget = {};\n\t}\n\n\tfor (; i < length; ++i) {\n\t\toptions = arguments[i];\n\t\t// Only deal with non-null/undefined values\n\t\tif (options != null) {\n\t\t\t// Extend the base object\n\t\t\tfor (name in options) {\n\t\t\t\tsrc = target[name];\n\t\t\t\tcopy = options[name];\n\n\t\t\t\t// Prevent never-ending loop\n\t\t\t\tif (target === copy) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\t// Recurse if we're merging plain objects or arrays\n\t\t\t\tif (deep && copy && (isPlainObject(copy) || (copyIsArray = Array.isArray(copy)))) {\n\t\t\t\t\tif (copyIsArray) {\n\t\t\t\t\t\tcopyIsArray = false;\n\t\t\t\t\t\tclone = src && Array.isArray(src) ? src : [];\n\t\t\t\t\t} else {\n\t\t\t\t\t\tclone = src && isPlainObject(src) ? src : {};\n\t\t\t\t\t}\n\n\t\t\t\t\t// Never move original objects, clone them\n\t\t\t\t\ttarget[name] = extend(deep, clone, copy);\n\n\t\t\t\t// Don't bring in undefined values\n\t\t\t\t} else if (copy !== undefined) {\n\t\t\t\t\ttarget[name] = copy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\t// Return the modified object\n\treturn target;\n};\n\n",
    "/*! JsRender v1.0.11: http://jsviews.com/#jsrender */\n/*! **VERSION FOR WEB** (For NODE.JS see http://jsviews.com/download/jsrender-node.js) */\n/*\n * Best-of-breed templating in browser or on Node.js.\n * Does not require jQuery, or HTML DOM\n * Integrates with JsViews (http://jsviews.com/#jsviews)\n *\n * Copyright 2021, Boris Moore\n * Released under the MIT License.\n */\n\n//jshint -W018, -W041, -W120\n\n(function(factory, global) {\n\t// global var is the this object, which is window when running in the usual browser environment\n\tvar $ = global.jQuery;\n\n\tif (typeof exports === \"object\") { // CommonJS e.g. Browserify\n\t\tmodule.exports = $\n\t\t\t? factory(global, $)\n\t\t\t: function($) { // If no global jQuery, take optional jQuery passed as parameter: require('jsrender')(jQuery)\n\t\t\t\tif ($ && !$.fn) {\n\t\t\t\t\tthrow \"Provide jQuery or null\";\n\t\t\t\t}\n\t\t\t\treturn factory(global, $);\n\t\t\t};\n\t} else if (typeof define === \"function\" && define.amd) { // AMD script loader, e.g. RequireJS\n\t\tdefine(function() {\n\t\t\treturn factory(global);\n\t\t});\n\t} else { // Browser using plain <script> tag\n\t\tfactory(global, false);\n\t}\n} (\n\n// factory (for jsrender.js)\nfunction(global, $) {\n\"use strict\";\n\n//========================== Top-level vars ==========================\n\n// global var is the this object, which is window when running in the usual browser environment\nvar setGlobals = $ === false; // Only set globals if script block in browser (not AMD and not CommonJS)\n\n$ = $ && $.fn ? $ : global.jQuery; // $ is jQuery passed in by CommonJS loader (Browserify), or global jQuery.\n\nvar versionNumber = \"v1.0.11\",\n\tjsvStoreName, rTag, rTmplString, topView, $views, $expando,\n\t_ocp = \"_ocp\",      // Observable contextual parameter\n\n\t$isFunction, $isArray, $templates, $converters, $helpers, $tags, $sub, $subSettings, $subSettingsAdvanced, $viewsSettings,\n\tdelimOpenChar0, delimOpenChar1, delimCloseChar0, delimCloseChar1, linkChar, setting, baseOnError,\n\n\tisRenderCall,\n\trNewLine = /[ \\t]*(\\r\\n|\\n|\\r)/g,\n\trUnescapeQuotes = /\\\\(['\"\\\\])/g, // Unescape quotes and trim\n\trEscapeQuotes = /['\"\\\\]/g, // Escape quotes and \\ character\n\trBuildHash = /(?:\\x08|^)(onerror:)?(?:(~?)(([\\w$.]+):)?([^\\x08]+))\\x08(,)?([^\\x08]+)/gi,\n\trTestElseIf = /^if\\s/,\n\trFirstElem = /<(\\w+)[>\\s]/,\n\trAttrEncode = /[\\x00`><\"'&=]/g, // Includes > encoding since rConvertMarkers in JsViews does not skip > characters in attribute strings\n\trIsHtml = /[\\x00`><\\\"'&=]/,\n\trHasHandlers = /^on[A-Z]|^convert(Back)?$/,\n\trWrappedInViewMarker = /^\\#\\d+_`[\\s\\S]*\\/\\d+_`$/,\n\trHtmlEncode = rAttrEncode,\n\trDataEncode = /[&<>]/g,\n\trDataUnencode = /&(amp|gt|lt);/g,\n\trBracketQuote = /\\[['\"]?|['\"]?\\]/g,\n\tviewId = 0,\n\tcharEntities = {\n\t\t\"&\": \"&amp;\",\n\t\t\"<\": \"&lt;\",\n\t\t\">\": \"&gt;\",\n\t\t\"\\x00\": \"&#0;\",\n\t\t\"'\": \"&#39;\",\n\t\t'\"': \"&#34;\",\n\t\t\"`\": \"&#96;\",\n\t\t\"=\": \"&#61;\"\n\t},\n\tcharsFromEntities = {\n\t\tamp: \"&\",\n\t\tgt: \">\",\n\t\tlt: \"<\"\n\t},\n\tHTML = \"html\",\n\tOBJECT = \"object\",\n\ttmplAttr = \"data-jsv-tmpl\",\n\tjsvTmpl = \"jsvTmpl\",\n\tindexStr = \"For #index in nested block use #getIndex().\",\n\tcpFnStore = {},     // Compiled furnctions for computed values in template expressions (properties, methods, helpers)\n\t$render = {},\n\n\tjsr = global.jsrender,\n\tjsrToJq = jsr && $ && !$.render, // JsRender already loaded, without jQuery. but we will re-load it now to attach to jQuery\n\n\tjsvStores = {\n\t\ttemplate: {\n\t\t\tcompile: compileTmpl\n\t\t},\n\t\ttag: {\n\t\t\tcompile: compileTag\n\t\t},\n\t\tviewModel: {\n\t\t\tcompile: compileViewModel\n\t\t},\n\t\thelper: {},\n\t\tconverter: {}\n\t};\n\n\t// views object ($.views if jQuery is loaded, jsrender.views if no jQuery, e.g. in Node.js)\n\t$views = {\n\t\tjsviews: versionNumber,\n\t\tsub: {\n\t\t\t// subscription, e.g. JsViews integration\n\t\t\trPath: /^(!*?)(?:null|true|false|\\d[\\d.]*|([\\w$]+|\\.|~([\\w$]+)|#(view|([\\w$]+))?)([\\w$.^]*?)(?:[.[^]([\\w$]+)\\]?)?)$/g,\n\t\t\t//        not                               object     helper    view  viewProperty pathTokens      leafToken\n\n\t\t\trPrm: /(\\()(?=\\s*\\()|(?:([([])\\s*)?(?:(\\^?)(~?[\\w$.^]+)?\\s*((\\+\\+|--)|\\+|-|~(?![\\w$])|&&|\\|\\||===|!==|==|!=|<=|>=|[<>%*:?\\/]|(=))\\s*|(!*?(@)?[#~]?[\\w$.^]+)([([])?)|(,\\s*)|(?:(\\()\\s*)?\\\\?(?:(')|(\"))|(?:\\s*(([)\\]])(?=[.^]|\\s*$|[^([])|[)\\]])([([]?))|(\\s+)/g,\n\t\t\t//   lftPrn0           lftPrn         bound     path               operator     err                                          eq      path2 late            prn      comma  lftPrn2          apos quot        rtPrn  rtPrnDot                  prn2     space\n\n\t\t\tView: View,\n\t\t\tErr: JsViewsError,\n\t\t\ttmplFn: tmplFn,\n\t\t\tparse: parseParams,\n\t\t\textend: $extend,\n\t\t\textendCtx: extendCtx,\n\t\t\tsyntaxErr: syntaxError,\n\t\t\tonStore: {\n\t\t\t\ttemplate: function(name, item) {\n\t\t\t\t\tif (item === null) {\n\t\t\t\t\t\tdelete $render[name];\n\t\t\t\t\t} else if (name) {\n\t\t\t\t\t\t$render[name] = item;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\taddSetting: addSetting,\n\t\t\tsettings: {\n\t\t\t\tallowCode: false\n\t\t\t},\n\t\t\tadvSet: noop, // Update advanced settings\n\t\t\t_thp: tagHandlersFromProps,\n\t\t\t_gm: getMethod,\n\t\t\t_tg: function() {}, // Constructor for tagDef\n\t\t\t_cnvt: convertVal,\n\t\t\t_tag: renderTag,\n\t\t\t_er: error,\n\t\t\t_err: onRenderError,\n\t\t\t_cp: retVal, // Get observable contextual parameters (or properties) ~foo=expr. In JsRender, simply returns val.\n\t\t\t_sq: function(token) {\n\t\t\t\tif (token === \"constructor\") {\n\t\t\t\t\tsyntaxError(\"\");\n\t\t\t\t}\n\t\t\t\treturn token;\n\t\t\t}\n\t\t},\n\t\tsettings: {\n\t\t\tdelimiters: $viewsDelimiters,\n\t\t\tadvanced: function(value) {\n\t\t\t\treturn value\n\t\t\t\t\t? (\n\t\t\t\t\t\t\t$extend($subSettingsAdvanced, value),\n\t\t\t\t\t\t\t$sub.advSet(),\n\t\t\t\t\t\t\t$viewsSettings\n\t\t\t\t\t\t)\n\t\t\t\t\t\t: $subSettingsAdvanced;\n\t\t\t\t}\n\t\t},\n\t\tmap: dataMap // If jsObservable loaded first, use that definition of dataMap\n\t};\n\nfunction getDerivedMethod(baseMethod, method) {\n\treturn function() {\n\t\tvar ret,\n\t\t\ttag = this,\n\t\t\tprevBase = tag.base;\n\n\t\ttag.base = baseMethod; // Within method call, calling this.base will call the base method\n\t\tret = method.apply(tag, arguments); // Call the method\n\t\ttag.base = prevBase; // Replace this.base to be the base method of the previous call, for chained calls\n\t\treturn ret;\n\t};\n}\n\nfunction getMethod(baseMethod, method) {\n\t// For derived methods (or handlers declared declaratively as in {{:foo onChange=~fooChanged}} replace by a derived method, to allow using this.base(...)\n\t// or this.baseApply(arguments) to call the base implementation. (Equivalent to this._super(...) and this._superApply(arguments) in jQuery UI)\n\tif ($isFunction(method)) {\n\t\tmethod = getDerivedMethod(\n\t\t\t\t!baseMethod\n\t\t\t\t\t? noop // no base method implementation, so use noop as base method\n\t\t\t\t\t: baseMethod._d\n\t\t\t\t\t\t? baseMethod // baseMethod is a derived method, so use it\n\t\t\t\t\t\t: getDerivedMethod(noop, baseMethod), // baseMethod is not derived so make its base method be the noop method\n\t\t\t\tmethod\n\t\t\t);\n\t\tmethod._d = (baseMethod && baseMethod._d || 0) + 1; // Add flag for derived method (incremented for derived of derived...)\n\t}\n\treturn method;\n}\n\nfunction tagHandlersFromProps(tag, tagCtx) {\n\tvar prop,\n\t\tprops = tagCtx.props;\n\tfor (prop in props) {\n\t\tif (rHasHandlers.test(prop) && !(tag[prop] && tag[prop].fix)) { // Don't override handlers with fix expando (used in datepicker and spinner)\n\t\t\ttag[prop] = prop !== \"convert\" ? getMethod(tag.constructor.prototype[prop], props[prop]) : props[prop];\n\t\t\t// Copy over the onFoo props, convert and convertBack from tagCtx.props to tag (overrides values in tagDef).\n\t\t\t// Note: unsupported scenario: if handlers are dynamically added ^onFoo=expression this will work, but dynamically removing will not work.\n\t\t}\n\t}\n}\n\nfunction retVal(val) {\n\treturn val;\n}\n\nfunction noop() {\n\treturn \"\";\n}\n\nfunction dbgBreak(val) {\n\t// Usage examples: {{dbg:...}}, {{:~dbg(...)}}, {{dbg .../}}, {^{for ... onAfterLink=~dbg}} etc.\n\ttry {\n\t\tconsole.log(\"JsRender dbg breakpoint: \" + val);\n\t\tthrow \"dbg breakpoint\"; // To break here, stop on caught exceptions.\n\t}\n\tcatch (e) {}\n\treturn this.base ? this.baseApply(arguments) : val;\n}\n\nfunction JsViewsError(message) {\n\t// Error exception type for JsViews/JsRender\n\t// Override of $.views.sub.Error is possible\n\tthis.name = ($.link ? \"JsViews\" : \"JsRender\") + \" Error\";\n\tthis.message = message || this.name;\n}\n\nfunction $extend(target, source) {\n\tif (target) {\n\t\tfor (var name in source) {\n\t\t\ttarget[name] = source[name];\n\t\t}\n\t\treturn target;\n\t}\n}\n\n(JsViewsError.prototype = new Error()).constructor = JsViewsError;\n\n//========================== Top-level functions ==========================\n\n//===================\n// views.delimiters\n//===================\n\n\t/**\n\t* Set the tag opening and closing delimiters and 'link' character. Default is \"{{\", \"}}\" and \"^\"\n\t* openChars, closeChars: opening and closing strings, each with two characters\n\t* $.views.settings.delimiters(...)\n\t*\n\t* @param {string}   openChars\n\t* @param {string}   [closeChars]\n\t* @param {string}   [link]\n\t* @returns {Settings}\n\t*\n\t* Get delimiters\n\t* delimsArray = $.views.settings.delimiters()\n\t*\n\t* @returns {string[]}\n\t*/\nfunction $viewsDelimiters(openChars, closeChars, link) {\n\tif (!openChars) {\n\t\treturn $subSettings.delimiters;\n\t}\n\tif ($isArray(openChars)) {\n\t\treturn $viewsDelimiters.apply($views, openChars);\n\t}\n\tlinkChar = link ? link[0] : linkChar;\n\tif (!/^(\\W|_){5}$/.test(openChars + closeChars + linkChar)) {\n\t\terror(\"Invalid delimiters\"); // Must be non-word characters, and openChars and closeChars must each be length 2\n\t}\n\tdelimOpenChar0 = openChars[0];\n\tdelimOpenChar1 = openChars[1];\n\tdelimCloseChar0 = closeChars[0];\n\tdelimCloseChar1 = closeChars[1];\n\n\t$subSettings.delimiters = [delimOpenChar0 + delimOpenChar1, delimCloseChar0 + delimCloseChar1, linkChar];\n\n\t// Escape the characters - since they could be regex special characters\n\topenChars = \"\\\\\" + delimOpenChar0 + \"(\\\\\" + linkChar + \")?\\\\\" + delimOpenChar1; // Default is \"{^{\"\n\tcloseChars = \"\\\\\" + delimCloseChar0 + \"\\\\\" + delimCloseChar1;                   // Default is \"}}\"\n\t// Build regex with new delimiters\n\t//          [tag    (followed by / space or })  or cvtr+colon or html or code] followed by space+params then convertBack?\n\trTag = \"(?:(\\\\w+(?=[\\\\/\\\\s\\\\\" + delimCloseChar0 + \"]))|(\\\\w+)?(:)|(>)|(\\\\*))\\\\s*((?:[^\\\\\"\n\t\t+ delimCloseChar0 + \"]|\\\\\" + delimCloseChar0 + \"(?!\\\\\" + delimCloseChar1 + \"))*?)\";\n\n\t// Make rTag available to JsViews (or other components) for parsing binding expressions\n\t$sub.rTag = \"(?:\" + rTag + \")\";\n\t//                        { ^? {   tag+params slash?  or closingTag                                                   or comment\n\trTag = new RegExp(\"(?:\" + openChars + rTag + \"(\\\\/)?|\\\\\" + delimOpenChar0 + \"(\\\\\" + linkChar + \")?\\\\\" + delimOpenChar1 + \"(?:(?:\\\\/(\\\\w+))\\\\s*|!--[\\\\s\\\\S]*?--))\" + closeChars, \"g\");\n\n\t// Default:  bind     tagName         cvt   cln html code    params            slash   bind2         closeBlk  comment\n\t//      /(?:{(\\^)?{(?:(\\w+(?=[\\/\\s}]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^}]|}(?!}))*?)(\\/)?|{(\\^)?{(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))}}\n\n\t$sub.rTmpl = new RegExp(\"^\\\\s|\\\\s$|<.*>|([^\\\\\\\\]|^)[{}]|\" + openChars + \".*\" + closeChars);\n\t// $sub.rTmpl looks for initial or final white space, html tags or { or } char not preceded by \\\\, or JsRender tags {{xxx}}.\n\t// Each of these strings are considered NOT to be jQuery selectors\n\treturn $viewsSettings;\n}\n\n//=========\n// View.get\n//=========\n\nfunction getView(inner, type) { //view.get(inner, type)\n\tif (!type && inner !== true) {\n\t\t// view.get(type)\n\t\ttype = inner;\n\t\tinner = undefined;\n\t}\n\n\tvar views, i, l, found,\n\t\tview = this,\n\t\troot = type === \"root\";\n\t\t// view.get(\"root\") returns view.root, view.get() returns view.parent, view.get(true) returns view.views[0].\n\n\tif (inner) {\n\t\t// Go through views - this one, and all nested ones, depth-first - and return first one with given type.\n\t\t// If type is undefined, i.e. view.get(true), return first child view.\n\t\tfound = type && view.type === type && view;\n\t\tif (!found) {\n\t\t\tviews = view.views;\n\t\t\tif (view._.useKey) {\n\t\t\t\tfor (i in views) {\n\t\t\t\t\tif (found = type ? views[i].get(inner, type) : views[i]) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tfor (i = 0, l = views.length; !found && i < l; i++) {\n\t\t\t\t\tfound = type ? views[i].get(inner, type) : views[i];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t} else if (root) {\n\t\t// Find root view. (view whose parent is top view)\n\t\tfound = view.root;\n\t} else if (type) {\n\t\twhile (view && !found) {\n\t\t\t// Go through views - this one, and all parent ones - and return first one with given type.\n\t\t\tfound = view.type === type ? view : undefined;\n\t\t\tview = view.parent;\n\t\t}\n\t} else {\n\t\tfound = view.parent;\n\t}\n\treturn found || undefined;\n}\n\nfunction getNestedIndex() {\n\tvar view = this.get(\"item\");\n\treturn view ? view.index : undefined;\n}\n\ngetNestedIndex.depends = function() {\n\treturn [this.get(\"item\"), \"index\"];\n};\n\nfunction getIndex() {\n\treturn this.index;\n}\n\ngetIndex.depends = \"index\";\n\n//==================\n// View.ctxPrm, etc.\n//==================\n\n/* Internal private: view._getOb() */\nfunction getPathObject(ob, path, ltOb, fn) {\n\t// Iterate through path to late paths: @a.b.c paths\n\t// Return \"\" (or noop if leaf is a function @a.b.c(...) ) if intermediate object not yet available\n\tvar prevOb, tokens, l,\n\t\ti = 0;\n\tif (ltOb === 1) {\n\t\tfn = 1;\n\t\tltOb = undefined;\n\t}\n\t// Paths like ^a^b^c or ~^a^b^c will not throw if an object in path is undefined.\n\tif (path) {\n\t\ttokens = path.split(\".\");\n\t\tl = tokens.length;\n\n\t\tfor (; ob && i < l; i++) {\n\t\t\tprevOb = ob;\n\t\t\tob = tokens[i] ? ob[tokens[i]] : ob;\n\t\t}\n\t}\n\tif (ltOb) {\n\t\tltOb.lt = ltOb.lt || i<l; // If i < l there was an object in the path not yet available\n\t}\n\treturn ob === undefined\n\t\t? fn ? noop : \"\"\n\t\t: fn ? function() {\n\t\t\treturn ob.apply(prevOb, arguments);\n\t\t} : ob;\n}\n\nfunction contextParameter(key, value, get) {\n\t// Helper method called as view.ctxPrm(key) for helpers or template parameters ~foo - from compiled template or from context callback\n\tvar wrapped, deps, res, obsCtxPrm, tagElse, callView, newRes,\n\t\tstoreView = this,\n\t\tisUpdate = !isRenderCall && arguments.length > 1,\n\t\tstore = storeView.ctx;\n\tif (key) {\n\t\tif (!storeView._) { // tagCtx.ctxPrm() call\n\t\t\ttagElse = storeView.index;\n\t\t\tstoreView = storeView.tag;\n\t\t}\n\t\tcallView = storeView;\n\t\tif (store && store.hasOwnProperty(key) || (store = $helpers).hasOwnProperty(key)) {\n\t\t\tres = store[key];\n\t\t\tif (key === \"tag\" || key === \"tagCtx\" || key === \"root\" || key === \"parentTags\") {\n\t\t\t\treturn res;\n\t\t\t}\n\t\t} else {\n\t\t\tstore = undefined;\n\t\t}\n\t\tif (!isRenderCall && storeView.tagCtx || storeView.linked) { // Data-linked view, or tag instance\n\t\t\tif (!res || !res._cxp) {\n\t\t\t\t// Not a contextual parameter\n\t\t\t\t// Set storeView to tag (if this is a tag.ctxPrm() call) or to root view (\"data\" view of linked template)\n\t\t\t\tstoreView = storeView.tagCtx || $isFunction(res)\n\t\t\t\t\t? storeView // Is a tag, not a view, or is a computed contextual parameter, so scope to the callView, no the 'scope view'\n\t\t\t\t\t: (storeView = storeView.scope || storeView,\n\t\t\t\t\t\t!storeView.isTop && storeView.ctx.tag // If this view is in a tag, set storeView to the tag\n\t\t\t\t\t\t\t|| storeView);\n\t\t\t\tif (res !== undefined && storeView.tagCtx) {\n\t\t\t\t\t// If storeView is a tag, but the contextual parameter has been set at at higher level (e.g. helpers)...\n\t\t\t\t\tstoreView = storeView.tagCtx.view.scope; // then move storeView to the outer level (scope of tag container view)\n\t\t\t\t}\n\t\t\t\tstore = storeView._ocps;\n\t\t\t\tres = store && store.hasOwnProperty(key) && store[key] || res;\n\t\t\t\tif (!(res && res._cxp) && (get || isUpdate)) {\n\t\t\t\t\t// Create observable contextual parameter\n\t\t\t\t\t(store || (storeView._ocps = storeView._ocps || {}))[key]\n\t\t\t\t\t\t= res\n\t\t\t\t\t\t= [{\n\t\t\t\t\t\t\t_ocp: res, // The observable contextual parameter value\n\t\t\t\t\t\t\t_vw: callView,\n\t\t\t\t\t\t\t_key: key\n\t\t\t\t\t\t}];\n\t\t\t\t\tres._cxp = {\n\t\t\t\t\t\tpath: _ocp,\n\t\t\t\t\t\tind: 0,\n\t\t\t\t\t\tupdateValue: function(val, path) {\n\t\t\t\t\t\t\t$.observable(res[0]).setProperty(_ocp, val); // Set the value (res[0]._ocp)\n\t\t\t\t\t\t\treturn this;\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (obsCtxPrm = res && res._cxp) {\n\t\t\t\t// If this helper resource is an observable contextual parameter\n\t\t\t\tif (arguments.length > 2) {\n\t\t\t\t\tdeps = res[1] ? $sub._ceo(res[1].deps) : [_ocp]; // fn deps (with any exprObs cloned using $sub._ceo)\n\t\t\t\t\tdeps.unshift(res[0]); // view\n\t\t\t\t\tdeps._cxp = obsCtxPrm;\n\t\t\t\t\t// In a context callback for a contextual param, we set get = true, to get ctxPrm [view, dependencies...] array - needed for observe call\n\t\t\t\t\treturn deps;\n\t\t\t\t}\n\t\t\t\ttagElse = obsCtxPrm.tagElse;\n\t\t\t\tnewRes = res[1] // linkFn for compiled expression\n\t\t\t\t\t? obsCtxPrm.tag && obsCtxPrm.tag.cvtArgs\n\t\t\t\t\t\t? obsCtxPrm.tag.cvtArgs(tagElse, 1)[obsCtxPrm.ind] // = tag.bndArgs() - for tag contextual parameter\n\t\t\t\t\t\t: res[1](res[0].data, res[0], $sub) // = fn(data, view, $sub) for compiled binding expression\n\t\t\t\t\t: res[0]._ocp; // Observable contextual parameter (uninitialized, or initialized as static expression, so no path dependencies)\n\t\t\t\tif (isUpdate) {\n\t\t\t\t\t$sub._ucp(key, value, storeView, obsCtxPrm); // Update observable contextual parameter\n\t\t\t\t\treturn storeView;\n\t\t\t\t}\n\t\t\t\tres = newRes;\n\t\t\t}\n\t\t}\n\t\tif (res && $isFunction(res)) {\n\t\t\t// If a helper is of type function we will wrap it, so if called with no this pointer it will be called with the\n\t\t\t// view as 'this' context. If the helper ~foo() was in a data-link expression, the view will have a 'temporary' linkCtx property too.\n\t\t\t// Note that helper functions on deeper paths will have specific this pointers, from the preceding path.\n\t\t\t// For example, ~util.foo() will have the ~util object as 'this' pointer\n\t\t\twrapped = function() {\n\t\t\t\treturn res.apply((!this || this === global) ? callView : this, arguments);\n\t\t\t};\n\t\t\t$extend(wrapped, res); // Attach same expandos (if any) to the wrapped function\n\t\t}\n\t\treturn wrapped || res;\n\t}\n}\n\n/* Internal private: view._getTmpl() */\nfunction getTemplate(tmpl) {\n\treturn tmpl && (tmpl.fn\n\t\t? tmpl\n\t\t: this.getRsc(\"templates\", tmpl) || $templates(tmpl)); // not yet compiled\n}\n\n//==============\n// views._cnvt\n//==============\n\nfunction convertVal(converter, view, tagCtx, onError) {\n\t// Called from compiled template code for {{:}}\n\t// self is template object or linkCtx object\n\tvar tag, linkCtx, value, argsLen, bindTo,\n\t\t// If tagCtx is an integer, then it is the key for the compiled function to return the boundTag tagCtx\n\t\tboundTag = typeof tagCtx === \"number\" && view.tmpl.bnds[tagCtx-1];\n\n\tif (onError === undefined && boundTag && boundTag._lr) { // lateRender\n\t\tonError = \"\";\n\t}\n\tif (onError !== undefined) {\n\t\ttagCtx = onError = {props: {}, args: [onError]};\n\t} else if (boundTag) {\n\t\ttagCtx = boundTag(view.data, view, $sub);\n\t}\n\tboundTag = boundTag._bd && boundTag;\n\tif (converter || boundTag) {\n\t\tlinkCtx = view._lc; // For data-link=\"{cvt:...}\"... See onDataLinkedTagChange\n\t\ttag = linkCtx && linkCtx.tag;\n\t\ttagCtx.view = view;\n\t\tif (!tag) {\n\t\t\ttag = $extend(new $sub._tg(), {\n\t\t\t\t_: {\n\t\t\t\t\tbnd: boundTag,\n\t\t\t\t\tunlinked: true,\n\t\t\t\t\tlt: tagCtx.lt // If a late path @some.path has not returned @some object, mark tag as late\n\t\t\t\t},\n\t\t\t\tinline: !linkCtx,\n\t\t\t\ttagName: \":\",\n\t\t\t\tconvert: converter,\n\t\t\t\tonArrayChange: true,\n\t\t\t\tflow: true,\n\t\t\t\ttagCtx: tagCtx,\n\t\t\t\ttagCtxs: [tagCtx],\n\t\t\t\t_is: \"tag\"\n\t\t\t});\n\t\t\targsLen = tagCtx.args.length;\n\t\t\tif (argsLen>1) {\n\t\t\t\tbindTo = tag.bindTo = [];\n\t\t\t\twhile (argsLen--) {\n\t\t\t\t\tbindTo.unshift(argsLen); // Bind to all the arguments - generate bindTo array: [0,1,2...]\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (linkCtx) {\n\t\t\t\tlinkCtx.tag = tag;\n\t\t\t\ttag.linkCtx = linkCtx;\n\t\t\t}\n\t\t\ttagCtx.ctx = extendCtx(tagCtx.ctx, (linkCtx ? linkCtx.view : view).ctx);\n\t\t\ttagHandlersFromProps(tag, tagCtx);\n\t\t}\n\t\ttag._er = onError && value;\n\t\ttag.ctx = tagCtx.ctx || tag.ctx || {};\n\t\ttagCtx.ctx = undefined;\n\t\tvalue = tag.cvtArgs()[0]; // If there is a convertBack but no convert, converter will be \"true\"\n\t\ttag._er = onError && value;\n\t} else {\n\t\tvalue = tagCtx.args[0];\n\t}\n\n\t// Call onRender (used by JsViews if present, to add binding annotations around rendered content)\n\tvalue = boundTag && view._.onRender\n\t\t? view._.onRender(value, view, tag)\n\t\t: value;\n\treturn value != undefined ? value : \"\";\n}\n\nfunction convertArgs(tagElse, bound) { // tag.cvtArgs() or tag.cvtArgs(tagElse?, true?)\n\tvar l, key, boundArgs, args, bindFrom, tag, converter,\n\t\ttagCtx = this;\n\n\tif (tagCtx.tagName) {\n\t\ttag = tagCtx;\n\t\ttagCtx = (tag.tagCtxs || [tagCtx])[tagElse||0];\n\t\tif (!tagCtx) {\n\t\t\treturn;\n\t\t}\n\t} else {\n\t\ttag = tagCtx.tag;\n\t}\n\n\tbindFrom = tag.bindFrom;\n\targs = tagCtx.args;\n\n\tif ((converter = tag.convert) && \"\" + converter === converter) {\n\t\tconverter = converter === \"true\"\n\t\t\t? undefined\n\t\t\t: (tagCtx.view.getRsc(\"converters\", converter) || error(\"Unknown converter: '\" + converter + \"'\"));\n\t}\n\n\tif (converter && !bound) { // If there is a converter, use a copy of the tagCtx.args array for rendering, and replace the args[0] in\n\t\targs = args.slice(); // the copied array with the converted value. But we do not modify the value of tag.tagCtx.args[0] (the original args array)\n\t}\n\tif (bindFrom) { // Get the values of the boundArgs\n\t\tboundArgs = [];\n\t\tl = bindFrom.length;\n\t\twhile (l--) {\n\t\t\tkey = bindFrom[l];\n\t\t\tboundArgs.unshift(argOrProp(tagCtx, key));\n\t\t}\n\t\tif (bound) {\n\t\t\targs = boundArgs; // Call to bndArgs() - returns the boundArgs\n\t\t}\n\t}\n\tif (converter) {\n\t\tconverter = converter.apply(tag, boundArgs || args);\n\t\tif (converter === undefined) {\n\t\t\treturn args; // Returning undefined from a converter is equivalent to not having a converter.\n\t\t}\n\t\tbindFrom = bindFrom || [0];\n\t\tl = bindFrom.length;\n\t\tif (!$isArray(converter) || (converter.arg0 !== false && (l === 1 || converter.length !== l || converter.arg0))) {\n\t\t\tconverter = [converter]; // Returning converter as first arg, even if converter value is an array\n\t\t\tbindFrom = [0];\n\t\t\tl = 1;\n\t\t}\n\t\tif (bound) {        // Call to bndArgs() - so apply converter to all boundArgs\n\t\t\targs = converter; // The array of values returned from the converter\n\t\t} else {            // Call to cvtArgs()\n\t\t\twhile (l--) {\n\t\t\t\tkey = bindFrom[l];\n\t\t\t\tif (+key === key) {\n\t\t\t\t\targs[key] = converter[l];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn args;\n}\n\nfunction argOrProp(context, key) {\n\tcontext = context[+key === key ? \"args\" : \"props\"];\n\treturn context && context[key];\n}\n\nfunction convertBoundArgs(tagElse) { // tag.bndArgs()\n\treturn this.cvtArgs(tagElse, 1);\n}\n\n//=============\n// views.tag\n//=============\n\n/* view.getRsc() */\nfunction getResource(resourceType, itemName) {\n\tvar res, store,\n\t\tview = this;\n\tif (\"\" + itemName === itemName) {\n\t\twhile ((res === undefined) && view) {\n\t\t\tstore = view.tmpl && view.tmpl[resourceType];\n\t\t\tres = store && store[itemName];\n\t\t\tview = view.parent;\n\t\t}\n\t\treturn res || $views[resourceType][itemName];\n\t}\n}\n\nfunction renderTag(tagName, parentView, tmpl, tagCtxs, isUpdate, onError) {\n\tfunction bindToOrBindFrom(type) {\n\t\tvar bindArray = tag[type];\n\n\t\tif (bindArray !== undefined) {\n\t\t\tbindArray = $isArray(bindArray) ? bindArray : [bindArray];\n\t\t\tm = bindArray.length;\n\t\t\twhile (m--) {\n\t\t\t\tkey = bindArray[m];\n\t\t\t\tif (!isNaN(parseInt(key))) {\n\t\t\t\t\tbindArray[m] = parseInt(key); // Convert \"0\" to 0, etc.\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn bindArray || [0];\n\t}\n\n\tparentView = parentView || topView;\n\tvar tag, tagDef, template, tags, attr, parentTag, l, m, n, itemRet, tagCtx, tagCtxCtx, ctxPrm, bindTo, bindFrom, initVal,\n\t\tcontent, callInit, mapDef, thisMap, args, bdArgs, props, tagDataMap, contentCtx, key, bindFromLength, bindToLength, linkedElement, defaultCtx,\n\t\ti = 0,\n\t\tret = \"\",\n\t\tlinkCtx = parentView._lc || false, // For data-link=\"{myTag...}\"... See onDataLinkedTagChange\n\t\tctx = parentView.ctx,\n\t\tparentTmpl = tmpl || parentView.tmpl,\n\t\t// If tagCtxs is an integer, then it is the key for the compiled function to return the boundTag tagCtxs\n\t\tboundTag = typeof tagCtxs === \"number\" && parentView.tmpl.bnds[tagCtxs-1];\n\n\tif (tagName._is === \"tag\") {\n\t\ttag = tagName;\n\t\ttagName = tag.tagName;\n\t\ttagCtxs = tag.tagCtxs;\n\t\ttemplate = tag.template;\n\t} else {\n\t\ttagDef = parentView.getRsc(\"tags\", tagName) || error(\"Unknown tag: {{\" + tagName + \"}} \");\n\t\ttemplate = tagDef.template;\n\t}\n\tif (onError === undefined && boundTag && (boundTag._lr = (tagDef.lateRender && boundTag._lr!== false || boundTag._lr))) {\n\t\tonError = \"\"; // If lateRender, set temporary onError, to skip initial rendering (and render just \"\")\n\t}\n\tif (onError !== undefined) {\n\t\tret += onError;\n\t\ttagCtxs = onError = [{props: {}, args: [], params: {props:{}}}];\n\t} else if (boundTag) {\n\t\ttagCtxs = boundTag(parentView.data, parentView, $sub);\n\t}\n\n\tl = tagCtxs.length;\n\tfor (; i < l; i++) {\n\t\ttagCtx = tagCtxs[i];\n\t\tcontent = tagCtx.tmpl;\n\t\tif (!linkCtx || !linkCtx.tag || i && !linkCtx.tag.inline || tag._er || content && +content===content) {\n\t\t\t// Initialize tagCtx\n\t\t\t// For block tags, tagCtx.tmpl is an integer > 0\n\t\t\tif (content && parentTmpl.tmpls) {\n\t\t\t\ttagCtx.tmpl = tagCtx.content = parentTmpl.tmpls[content - 1]; // Set the tmpl property to the content of the block tag\n\t\t\t}\n\t\t\ttagCtx.index = i;\n\t\t\ttagCtx.ctxPrm = contextParameter;\n\t\t\ttagCtx.render = renderContent;\n\t\t\ttagCtx.cvtArgs = convertArgs;\n\t\t\ttagCtx.bndArgs = convertBoundArgs;\n\t\t\ttagCtx.view = parentView;\n\t\t\ttagCtx.ctx = extendCtx(extendCtx(tagCtx.ctx, tagDef && tagDef.ctx), ctx); // Clone and extend parentView.ctx\n\t\t}\n\t\tif (tmpl = tagCtx.props.tmpl) {\n\t\t\t// If the tmpl property is overridden, set the value (when initializing, or, in case of binding: ^tmpl=..., when updating)\n\t\t\ttagCtx.tmpl = parentView._getTmpl(tmpl);\n\t\t\ttagCtx.content = tagCtx.content || tagCtx.tmpl;\n\t\t}\n\n\t\tif (!tag) {\n\t\t\t// This will only be hit for initial tagCtx (not for {{else}}) - if the tag instance does not exist yet\n\t\t\t// If the tag has not already been instantiated, we will create a new instance.\n\t\t\t// ~tag will access the tag, even within the rendering of the template content of this tag.\n\t\t\t// From child/descendant tags, can access using ~tag.parent, or ~parentTags.tagName\n\t\t\ttag = new tagDef._ctr();\n\t\t\tcallInit = !!tag.init;\n\n\t\t\ttag.parent = parentTag = ctx && ctx.tag;\n\t\t\ttag.tagCtxs = tagCtxs;\n\n\t\t\tif (linkCtx) {\n\t\t\t\ttag.inline = false;\n\t\t\t\tlinkCtx.tag = tag;\n\t\t\t}\n\t\t\ttag.linkCtx = linkCtx;\n\t\t\tif (tag._.bnd = boundTag || linkCtx.fn) {\n\t\t\t\t// Bound if {^{tag...}} or data-link=\"{tag...}\"\n\t\t\t\ttag._.ths = tagCtx.params.props[\"this\"]; // Tag has a this=expr binding, to get javascript reference to tag instance\n\t\t\t\ttag._.lt = tagCtxs.lt; // If a late path @some.path has not returned @some object, mark tag as late\n\t\t\t\ttag._.arrVws = {};\n\t\t\t} else if (tag.dataBoundOnly) {\n\t\t\t\terror(tagName + \" must be data-bound:\\n{^{\" + tagName + \"}}\");\n\t\t\t}\n\t\t\t//TODO better perf for childTags() - keep child tag.tags array, (and remove child, when disposed)\n\t\t\t// tag.tags = [];\n\t\t} else if (linkCtx && linkCtx.fn._lr) {\n\t\t\tcallInit = !!tag.init;\n\t\t}\n\t\ttagDataMap = tag.dataMap;\n\n\t\ttagCtx.tag = tag;\n\t\tif (tagDataMap && tagCtxs) {\n\t\t\ttagCtx.map = tagCtxs[i].map; // Copy over the compiled map instance from the previous tagCtxs to the refreshed ones\n\t\t}\n\t\tif (!tag.flow) {\n\t\t\ttagCtxCtx = tagCtx.ctx = tagCtx.ctx || {};\n\n\t\t\t// tags hash: tag.ctx.tags, merged with parentView.ctx.tags,\n\t\t\ttags = tag.parents = tagCtxCtx.parentTags = ctx && extendCtx(tagCtxCtx.parentTags, ctx.parentTags) || {};\n\t\t\tif (parentTag) {\n\t\t\t\ttags[parentTag.tagName] = parentTag;\n\t\t\t\t//TODO better perf for childTags: parentTag.tags.push(tag);\n\t\t\t}\n\t\t\ttags[tag.tagName] = tagCtxCtx.tag = tag;\n\t\t\ttagCtxCtx.tagCtx = tagCtx;\n\t\t}\n\t}\n\tif (!(tag._er = onError)) {\n\t\ttagHandlersFromProps(tag, tagCtxs[0]);\n\t\ttag.rendering = {rndr: tag.rendering}; // Provide object for state during render calls to tag and elses. (Used by {{if}} and {{for}}...)\n\t\tfor (i = 0; i < l; i++) { // Iterate tagCtx for each {{else}} block\n\t\t\ttagCtx = tag.tagCtx = tagCtxs[i];\n\t\t\tprops = tagCtx.props;\n\t\t\ttag.ctx = tagCtx.ctx;\n\n\t\t\tif (!i) {\n\t\t\t\tif (callInit) {\n\t\t\t\t\ttag.init(tagCtx, linkCtx, tag.ctx);\n\t\t\t\t\tcallInit = undefined;\n\t\t\t\t}\n\t\t\t\tif (!tagCtx.args.length && tagCtx.argDefault !== false && tag.argDefault !== false) {\n\t\t\t\t\ttagCtx.args = args = [tagCtx.view.data]; // Missing first arg defaults to the current data context\n\t\t\t\t\ttagCtx.params.args = [\"#data\"];\n\t\t\t\t}\n\n\t\t\t\tbindTo = bindToOrBindFrom(\"bindTo\");\n\n\t\t\t\tif (tag.bindTo !== undefined) {\n\t\t\t\t\ttag.bindTo = bindTo;\n\t\t\t\t}\n\n\t\t\t\tif (tag.bindFrom !== undefined) {\n\t\t\t\t\ttag.bindFrom = bindToOrBindFrom(\"bindFrom\");\n\t\t\t\t} else if (tag.bindTo) {\n\t\t\t\t\ttag.bindFrom = tag.bindTo = bindTo;\n\t\t\t\t}\n\t\t\t\tbindFrom = tag.bindFrom || bindTo;\n\n\t\t\t\tbindToLength = bindTo.length;\n\t\t\t\tbindFromLength = bindFrom.length;\n\n\t\t\t\tif (tag._.bnd && (linkedElement = tag.linkedElement)) {\n\t\t\t\t\ttag.linkedElement = linkedElement = $isArray(linkedElement) ? linkedElement: [linkedElement];\n\n\t\t\t\t\tif (bindToLength !== linkedElement.length) {\n\t\t\t\t\t\terror(\"linkedElement not same length as bindTo\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (linkedElement = tag.linkedCtxParam) {\n\t\t\t\t\ttag.linkedCtxParam = linkedElement = $isArray(linkedElement) ? linkedElement: [linkedElement];\n\n\t\t\t\t\tif (bindFromLength !== linkedElement.length) {\n\t\t\t\t\t\terror(\"linkedCtxParam not same length as bindFrom/bindTo\");\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (bindFrom) {\n\t\t\t\t\ttag._.fromIndex = {}; // Hash of bindFrom index which has same path value as bindTo index. fromIndex = tag._.fromIndex[toIndex]\n\t\t\t\t\ttag._.toIndex = {}; // Hash of bindFrom index which has same path value as bindTo index. fromIndex = tag._.fromIndex[toIndex]\n\t\t\t\t\tn = bindFromLength;\n\t\t\t\t\twhile (n--) {\n\t\t\t\t\t\tkey = bindFrom[n];\n\t\t\t\t\t\tm = bindToLength;\n\t\t\t\t\t\twhile (m--) {\n\t\t\t\t\t\t\tif (key === bindTo[m]) {\n\t\t\t\t\t\t\t\ttag._.fromIndex[m] = n;\n\t\t\t\t\t\t\t\ttag._.toIndex[n] = m;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (linkCtx) {\n\t\t\t\t\t// Set attr on linkCtx to ensure outputting to the correct target attribute.\n\t\t\t\t\t// Setting either linkCtx.attr or this.attr in the init() allows per-instance choice of target attrib.\n\t\t\t\t\tlinkCtx.attr = tag.attr = linkCtx.attr || tag.attr || linkCtx._dfAt;\n\t\t\t\t}\n\t\t\t\tattr = tag.attr;\n\t\t\t\ttag._.noVws = attr && attr !== HTML;\n\t\t\t}\n\t\t\targs = tag.cvtArgs(i);\n\t\t\tif (tag.linkedCtxParam) {\n\t\t\t\tbdArgs = tag.cvtArgs(i, 1);\n\t\t\t\tm = bindFromLength;\n\t\t\t\tdefaultCtx = tag.constructor.prototype.ctx;\n\t\t\t\twhile (m--) {\n\t\t\t\t\tif (ctxPrm = tag.linkedCtxParam[m]) {\n\t\t\t\t\t\tkey = bindFrom[m];\n\t\t\t\t\t\tinitVal = bdArgs[m];\n\t\t\t\t\t\t// Create tag contextual parameter\n\t\t\t\t\t\ttagCtx.ctx[ctxPrm] = $sub._cp(\n\t\t\t\t\t\t\tdefaultCtx && initVal === undefined ? defaultCtx[ctxPrm]: initVal,\n\t\t\t\t\t\t\tinitVal !== undefined && argOrProp(tagCtx.params, key),\n\t\t\t\t\t\t\ttagCtx.view,\n\t\t\t\t\t\t\ttag._.bnd && {tag: tag, cvt: tag.convert, ind: m, tagElse: i}\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ((mapDef = props.dataMap || tagDataMap) && (args.length || props.dataMap)) {\n\t\t\t\tthisMap = tagCtx.map;\n\t\t\t\tif (!thisMap || thisMap.src !== args[0] || isUpdate) {\n\t\t\t\t\tif (thisMap && thisMap.src) {\n\t\t\t\t\t\tthisMap.unmap(); // only called if observable map - not when only used in JsRender, e.g. by {{props}}\n\t\t\t\t\t}\n\t\t\t\t\tmapDef.map(args[0], tagCtx, thisMap, !tag._.bnd);\n\t\t\t\t\tthisMap = tagCtx.map;\n\t\t\t\t}\n\t\t\t\targs = [thisMap.tgt];\n\t\t\t}\n\n\t\t\titemRet = undefined;\n\t\t\tif (tag.render) {\n\t\t\t\titemRet = tag.render.apply(tag, args);\n\t\t\t\tif (parentView.linked && itemRet && !rWrappedInViewMarker.test(itemRet)) {\n\t\t\t\t\t// When a tag renders content from the render method, with data linking then we need to wrap with view markers, if absent,\n\t\t\t\t\t// to provide a contentView for the tag, which will correctly dispose bindings if deleted. The 'tmpl' for this view will\n\t\t\t\t\t// be a dumbed-down template which will always return the itemRet string (no matter what the data is). The itemRet string\n\t\t\t\t\t// is not compiled as template markup, so can include \"{{\" or \"}}\" without triggering syntax errors\n\t\t\t\t\ttmpl = { // 'Dumbed-down' template which always renders 'static' itemRet string\n\t\t\t\t\t\tlinks: []\n\t\t\t\t\t};\n\t\t\t\t\ttmpl.render = tmpl.fn = function() {\n\t\t\t\t\t\treturn itemRet;\n\t\t\t\t\t};\n\t\t\t\t\titemRet = renderWithViews(tmpl, parentView.data, undefined, true, parentView, undefined, undefined, tag);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!args.length) {\n\t\t\t\targs = [parentView]; // no arguments - (e.g. {{else}}) get data context from view.\n\t\t\t}\n\t\t\tif (itemRet === undefined) {\n\t\t\t\tcontentCtx = args[0]; // Default data context for wrapped block content is the first argument\n\t\t\t\tif (tag.contentCtx) { // Set tag.contentCtx to true, to inherit parent context, or to a function to provide alternate context.\n\t\t\t\t\tcontentCtx = tag.contentCtx === true ? parentView : tag.contentCtx(contentCtx);\n\t\t\t\t}\n\t\t\t\titemRet = tagCtx.render(contentCtx, true) || (isUpdate ? undefined : \"\");\n\t\t\t}\n\t\t\tret = ret\n\t\t\t\t? ret + (itemRet || \"\")\n\t\t\t\t: itemRet !== undefined\n\t\t\t\t\t? \"\" + itemRet\n\t\t\t\t\t: undefined; // If no return value from render, and no template/content tagCtx.render(...), return undefined\n\t\t}\n\t\ttag.rendering = tag.rendering.rndr; // Remove tag.rendering object (if this is outermost render call. (In case of nested calls)\n\t}\n\ttag.tagCtx = tagCtxs[0];\n\ttag.ctx = tag.tagCtx.ctx;\n\n\tif (tag._.noVws && tag.inline) {\n\t\t// inline tag with attr set to \"text\" will insert HTML-encoded content - as if it was element-based innerText\n\t\tret = attr === \"text\"\n\t\t\t? $converters.html(ret)\n\t\t\t: \"\";\n\t}\n\treturn boundTag && parentView._.onRender\n\t\t// Call onRender (used by JsViews if present, to add binding annotations around rendered content)\n\t\t? parentView._.onRender(ret, parentView, tag)\n\t\t: ret;\n}\n\n//=================\n// View constructor\n//=================\n\nfunction View(context, type, parentView, data, template, key, onRender, contentTmpl) {\n\t// Constructor for view object in view hierarchy. (Augmented by JsViews if JsViews is loaded)\n\tvar views, parentView_, tag, self_,\n\t\tself = this,\n\t\tisArray = type === \"array\";\n\t\t// If the data is an array, this is an 'array view' with a views array for each child 'item view'\n\t\t// If the data is not an array, this is an 'item view' with a views 'hash' object for any child nested views\n\n\tself.content = contentTmpl;\n\tself.views = isArray ? [] : {};\n\tself.data = data;\n\tself.tmpl = template;\n\tself_ = self._ = {\n\t\tkey: 0,\n\t\t// ._.useKey is non zero if is not an 'array view' (owning a data array). Use this as next key for adding to child views hash\n\t\tuseKey: isArray ? 0 : 1,\n\t\tid: \"\" + viewId++,\n\t\tonRender: onRender,\n\t\tbnds: {}\n\t};\n\tself.linked = !!onRender;\n\tself.type = type || \"top\";\n\tif (type) {\n\t\tself.cache = {_ct: $subSettings._cchCt}; // Used for caching results of computed properties and helpers (view.getCache)\n\t}\n\n\tif (!parentView || parentView.type === \"top\") {\n\t\t(self.ctx = context || {}).root = self.data;\n\t}\n\n\tif (self.parent = parentView) {\n\t\tself.root = parentView.root || self; // view whose parent is top view\n\t\tviews = parentView.views;\n\t\tparentView_ = parentView._;\n\t\tself.isTop = parentView_.scp; // Is top content view of a link(\"#container\", ...) call\n\t\tself.scope = (!context.tag || context.tag === parentView.ctx.tag) && !self.isTop && parentView.scope || self;\n\t\t// Scope for contextParams - closest non flow tag ancestor or root view\n\t\tif (parentView_.useKey) {\n\t\t\t// Parent is not an 'array view'. Add this view to its views object\n\t\t\t// self._key = is the key in the parent view hash\n\t\t\tviews[self_.key = \"_\" + parentView_.useKey++] = self;\n\t\t\tself.index = indexStr;\n\t\t\tself.getIndex = getNestedIndex;\n\t\t} else if (views.length === (self_.key = self.index = key)) { // Parent is an 'array view'. Add this view to its views array\n\t\t\tviews.push(self); // Adding to end of views array. (Using push when possible - better perf than splice)\n\t\t} else {\n\t\t\tviews.splice(key, 0, self); // Inserting in views array\n\t\t}\n\t\t// If no context was passed in, use parent context\n\t\t// If context was passed in, it should have been merged already with parent context\n\t\tself.ctx = context || parentView.ctx;\n\t} else if (type) {\n\t\tself.root = self; // view whose parent is top view\n\t}\n}\n\nView.prototype = {\n\tget: getView,\n\tgetIndex: getIndex,\n\tctxPrm: contextParameter,\n\tgetRsc: getResource,\n\t_getTmpl: getTemplate,\n\t_getOb: getPathObject,\n\tgetCache: function(key) { // Get cached value of computed value\n\t\tif ($subSettings._cchCt > this.cache._ct) {\n\t\t\tthis.cache = {_ct: $subSettings._cchCt};\n\t\t}\n\t\treturn this.cache[key] !== undefined ? this.cache[key] : (this.cache[key] = cpFnStore[key](this.data, this, $sub));\n\t},\n\t_is: \"view\"\n};\n\n//====================================================\n// Registration\n//====================================================\n\nfunction compileChildResources(parentTmpl) {\n\tvar storeName, storeNames, resources;\n\tfor (storeName in jsvStores) {\n\t\tstoreNames = storeName + \"s\";\n\t\tif (parentTmpl[storeNames]) {\n\t\t\tresources = parentTmpl[storeNames];        // Resources not yet compiled\n\t\t\tparentTmpl[storeNames] = {};               // Remove uncompiled resources\n\t\t\t$views[storeNames](resources, parentTmpl); // Add back in the compiled resources\n\t\t}\n\t}\n}\n\n//===============\n// compileTag\n//===============\n\nfunction compileTag(name, tagDef, parentTmpl) {\n\tvar tmpl, baseTag, prop,\n\t\tcompiledDef = new $sub._tg();\n\n\tfunction Tag() {\n\t\tvar tag = this;\n\t\ttag._ = {\n\t\t\tunlinked: true\n\t\t};\n\t\ttag.inline = true;\n\t\ttag.tagName = name;\n\t}\n\n\tif ($isFunction(tagDef)) {\n\t\t// Simple tag declared as function. No presenter instantation.\n\t\ttagDef = {\n\t\t\tdepends: tagDef.depends,\n\t\t\trender: tagDef\n\t\t};\n\t} else if (\"\" + tagDef === tagDef) {\n\t\ttagDef = {template: tagDef};\n\t}\n\n\tif (baseTag = tagDef.baseTag) {\n\t\ttagDef.flow = !!tagDef.flow; // Set flow property, so defaults to false even if baseTag has flow=true\n\t\tbaseTag = \"\" + baseTag === baseTag\n\t\t\t? (parentTmpl && parentTmpl.tags[baseTag] || $tags[baseTag])\n\t\t\t: baseTag;\n\t\tif (!baseTag) {\n\t\t\terror('baseTag: \"' + tagDef.baseTag + '\" not found');\n\t\t}\n\t\tcompiledDef = $extend(compiledDef, baseTag);\n\n\t\tfor (prop in tagDef) {\n\t\t\tcompiledDef[prop] = getMethod(baseTag[prop], tagDef[prop]);\n\t\t}\n\t} else {\n\t\tcompiledDef = $extend(compiledDef, tagDef);\n\t}\n\n\t// Tag declared as object, used as the prototype for tag instantiation (control/presenter)\n\tif ((tmpl = compiledDef.template) !== undefined) {\n\t\tcompiledDef.template = \"\" + tmpl === tmpl ? ($templates[tmpl] || $templates(tmpl)) : tmpl;\n\t}\n\t(Tag.prototype = compiledDef).constructor = compiledDef._ctr = Tag;\n\n\tif (parentTmpl) {\n\t\tcompiledDef._parentTmpl = parentTmpl;\n\t}\n\treturn compiledDef;\n}\n\nfunction baseApply(args) {\n\t// In derived method (or handler declared declaratively as in {{:foo onChange=~fooChanged}} can call base method,\n\t// using this.baseApply(arguments) (Equivalent to this._superApply(arguments) in jQuery UI)\n\treturn this.base.apply(this, args);\n}\n\n//===============\n// compileTmpl\n//===============\n\nfunction compileTmpl(name, tmpl, parentTmpl, options) {\n\t// tmpl is either a template object, a selector for a template script block, or the name of a compiled template\n\n\t//==== nested functions ====\n\tfunction lookupTemplate(value) {\n\t\t// If value is of type string - treat as selector, or name of compiled template\n\t\t// Return the template object, if already compiled, or the markup string\n\t\tvar currentName, tmpl;\n\t\tif ((\"\" + value === value) || value.nodeType > 0 && (elem = value)) {\n\t\t\tif (!elem) {\n\t\t\t\tif (/^\\.?\\/[^\\\\:*?\"<>]*$/.test(value)) {\n\t\t\t\t\t// value=\"./some/file.html\" (or \"/some/file.html\")\n\t\t\t\t\t// If the template is not named, use \"./some/file.html\" as name.\n\t\t\t\t\tif (tmpl = $templates[name = name || value]) {\n\t\t\t\t\t\tvalue = tmpl;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// BROWSER-SPECIFIC CODE (not on Node.js):\n\t\t\t\t\t\t// Look for server-generated script block with id \"./some/file.html\"\n\t\t\t\t\t\telem = document.getElementById(value);\n\t\t\t\t\t}\n\t\t\t\t} else if (value.charAt(0) === \"#\") {\n\t\t\t\t\telem = document.getElementById(value.slice(1));\n\t\t\t\t} else if ($.fn && !$sub.rTmpl.test(value)) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\telem = $(value, document)[0]; // if jQuery is loaded, test for selector returning elements, and get first element\n\t\t\t\t\t} catch (e) {}\n\t\t\t\t}// END BROWSER-SPECIFIC CODE\n\t\t\t} //BROWSER-SPECIFIC CODE\n\t\t\tif (elem) {\n\t\t\t\tif (elem.tagName !== \"SCRIPT\") {\n\t\t\t\t\terror(value + \": Use script block, not \" + elem.tagName);\n\t\t\t\t}\n\t\t\t\tif (options) {\n\t\t\t\t\t// We will compile a new template using the markup in the script element\n\t\t\t\t\tvalue = elem.innerHTML;\n\t\t\t\t} else {\n\t\t\t\t\t// We will cache a single copy of the compiled template, and associate it with the name\n\t\t\t\t\t// (renaming from a previous name if there was one).\n\t\t\t\t\tcurrentName = elem.getAttribute(tmplAttr);\n\t\t\t\t\tif (currentName) {\n\t\t\t\t\t\tif (currentName !== jsvTmpl) {\n\t\t\t\t\t\t\tvalue = $templates[currentName];\n\t\t\t\t\t\t\tdelete $templates[currentName];\n\t\t\t\t\t\t} else if ($.fn) {\n\t\t\t\t\t\t\tvalue = $.data(elem)[jsvTmpl]; // Get cached compiled template\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (!currentName || !value) { // Not yet compiled, or cached version lost\n\t\t\t\t\t\tname = name || ($.fn ? jsvTmpl : value);\n\t\t\t\t\t\tvalue = compileTmpl(name, elem.innerHTML, parentTmpl, options);\n\t\t\t\t\t}\n\t\t\t\t\tvalue.tmplName = name = name || currentName;\n\t\t\t\t\tif (name !== jsvTmpl) {\n\t\t\t\t\t\t$templates[name] = value;\n\t\t\t\t\t}\n\t\t\t\t\telem.setAttribute(tmplAttr, name);\n\t\t\t\t\tif ($.fn) {\n\t\t\t\t\t\t$.data(elem, jsvTmpl, value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} // END BROWSER-SPECIFIC CODE\n\t\t\telem = undefined;\n\t\t} else if (!value.fn) {\n\t\t\tvalue = undefined;\n\t\t\t// If value is not a string. HTML element, or compiled template, return undefined\n\t\t}\n\t\treturn value;\n\t}\n\n\tvar elem, compiledTmpl,\n\t\ttmplOrMarkup = tmpl = tmpl || \"\";\n\t$sub._html = $converters.html;\n\n\t//==== Compile the template ====\n\tif (options === 0) {\n\t\toptions = undefined;\n\t\ttmplOrMarkup = lookupTemplate(tmplOrMarkup); // Top-level compile so do a template lookup\n\t}\n\n\t// If options, then this was already compiled from a (script) element template declaration.\n\t// If not, then if tmpl is a template object, use it for options\n\toptions = options || (tmpl.markup\n\t\t? tmpl.bnds\n\t\t\t? $extend({}, tmpl)\n\t\t\t: tmpl\n\t\t: {}\n\t);\n\n\toptions.tmplName = options.tmplName || name || \"unnamed\";\n\tif (parentTmpl) {\n\t\toptions._parentTmpl = parentTmpl;\n\t}\n\t// If tmpl is not a markup string or a selector string, then it must be a template object\n\t// In that case, get it from the markup property of the object\n\tif (!tmplOrMarkup && tmpl.markup && (tmplOrMarkup = lookupTemplate(tmpl.markup)) && tmplOrMarkup.fn) {\n\t\t// If the string references a compiled template object, need to recompile to merge any modified options\n\t\ttmplOrMarkup = tmplOrMarkup.markup;\n\t}\n\tif (tmplOrMarkup !== undefined) {\n\t\tif (tmplOrMarkup.render || tmpl.render) {\n\t\t\t// tmpl is already compiled, so use it\n\t\t\tif (tmplOrMarkup.tmpls) {\n\t\t\t\tcompiledTmpl = tmplOrMarkup;\n\t\t\t}\n\t\t} else {\n\t\t\t// tmplOrMarkup is a markup string, not a compiled template\n\t\t\t// Create template object\n\t\t\ttmpl = tmplObject(tmplOrMarkup, options);\n\t\t\t// Compile to AST and then to compiled function\n\t\t\ttmplFn(tmplOrMarkup.replace(rEscapeQuotes, \"\\\\$&\"), tmpl);\n\t\t}\n\t\tif (!compiledTmpl) {\n\t\t\tcompiledTmpl = $extend(function() {\n\t\t\t\treturn compiledTmpl.render.apply(compiledTmpl, arguments);\n\t\t\t}, tmpl);\n\n\t\t\tcompileChildResources(compiledTmpl);\n\t\t}\n\t\treturn compiledTmpl;\n\t}\n}\n\n//==== /end of function compileTmpl ====\n\n//=================\n// compileViewModel\n//=================\n\nfunction getDefaultVal(defaultVal, data) {\n\treturn $isFunction(defaultVal)\n\t\t? defaultVal.call(data)\n\t\t: defaultVal;\n}\n\nfunction addParentRef(ob, ref, parent) {\n\tObject.defineProperty(ob, ref, {\n\t\tvalue: parent,\n\t\tconfigurable: true\n\t});\n}\n\nfunction compileViewModel(name, type) {\n\tvar i, constructor, parent,\n\t\tviewModels = this,\n\t\tgetters = type.getters,\n\t\textend = type.extend,\n\t\tid = type.id,\n\t\tproto = $.extend({\n\t\t\t_is: name || \"unnamed\",\n\t\t\tunmap: unmap,\n\t\t\tmerge: merge\n\t\t}, extend),\n\t\targs = \"\",\n\t\tcnstr = \"\",\n\t\tgetterCount = getters ? getters.length : 0,\n\t\t$observable = $.observable,\n\t\tgetterNames = {};\n\n\tfunction JsvVm(args) {\n\t\tconstructor.apply(this, args);\n\t}\n\n\tfunction vm() {\n\t\treturn new JsvVm(arguments);\n\t}\n\n\tfunction iterate(data, action) {\n\t\tvar getterType, defaultVal, prop, ob, parentRef,\n\t\t\tj = 0;\n\t\tfor (; j < getterCount; j++) {\n\t\t\tprop = getters[j];\n\t\t\tgetterType = undefined;\n\t\t\tif (prop + \"\" !== prop) {\n\t\t\t\tgetterType = prop;\n\t\t\t\tprop = getterType.getter;\n\t\t\t\tparentRef = getterType.parentRef;\n\t\t\t}\n\t\t\tif ((ob = data[prop]) === undefined && getterType && (defaultVal = getterType.defaultVal) !== undefined) {\n\t\t\t\tob = getDefaultVal(defaultVal, data);\n\t\t\t}\n\t\t\taction(ob, getterType && viewModels[getterType.type], prop, parentRef);\n\t\t}\n\t}\n\n\tfunction map(data) {\n\t\tdata = data + \"\" === data\n\t\t\t? JSON.parse(data) // Accept JSON string\n\t\t\t: data;            // or object/array\n\t\tvar l, prop, childOb, parentRef,\n\t\t\tj = 0,\n\t\t\tob = data,\n\t\t\tarr = [];\n\n\t\tif ($isArray(data)) {\n\t\t\tdata = data || [];\n\t\t\tl = data.length;\n\t\t\tfor (; j<l; j++) {\n\t\t\t\tarr.push(this.map(data[j]));\n\t\t\t}\n\t\t\tarr._is = name;\n\t\t\tarr.unmap = unmap;\n\t\t\tarr.merge = merge;\n\t\t\treturn arr;\n\t\t}\n\n\t\tif (data) {\n\t\t\titerate(data, function(ob, viewModel) {\n\t\t\t\tif (viewModel) { // Iterate to build getters arg array (value, or mapped value)\n\t\t\t\t\tob = viewModel.map(ob);\n\t\t\t\t}\n\t\t\t\tarr.push(ob);\n\t\t\t});\n\t\t\tob = this.apply(this, arr); // Instantiate this View Model, passing getters args array to constructor\n\t\t\tj = getterCount;\n\t\t\twhile (j--) {\n\t\t\t\tchildOb = arr[j];\n\t\t\t\tparentRef = getters[j].parentRef;\n\t\t\t\tif (parentRef && childOb && childOb.unmap) {\n\t\t\t\t\tif ($isArray(childOb)) {\n\t\t\t\t\t\tl = childOb.length;\n\t\t\t\t\t\twhile (l--) {\n\t\t\t\t\t\t\taddParentRef(childOb[l], parentRef, ob);\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\taddParentRef(childOb, parentRef, ob);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (prop in data) { // Copy over any other properties. that are not get/set properties\n\t\t\t\tif (prop !== $expando && !getterNames[prop]) {\n\t\t\t\t\tob[prop] = data[prop];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ob;\n\t}\n\n\tfunction merge(data, parent, parentRef) {\n\t\tdata = data + \"\" === data\n\t\t\t? JSON.parse(data) // Accept JSON string\n\t\t\t: data;            // or object/array\n\n\t\tvar j, l, m, prop, mod, found, assigned, ob, newModArr, childOb,\n\t\t\tk = 0,\n\t\t\tmodel = this;\n\n\t\tif ($isArray(model)) {\n\t\t\tassigned = {};\n\t\t\tnewModArr = [];\n\t\t\tl = data.length;\n\t\t\tm = model.length;\n\t\t\tfor (; k<l; k++) {\n\t\t\t\tob = data[k];\n\t\t\t\tfound = false;\n\t\t\t\tfor (j=0; j<m && !found; j++) {\n\t\t\t\t\tif (assigned[j]) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\t\t\t\t\tmod = model[j];\n\n\t\t\t\t\tif (id) {\n\t\t\t\t\t\tassigned[j] = found = id + \"\" === id\n\t\t\t\t\t\t? (ob[id] && (getterNames[id] ? mod[id]() : mod[id]) === ob[id])\n\t\t\t\t\t\t: id(mod, ob);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (found) {\n\t\t\t\t\tmod.merge(ob);\n\t\t\t\t\tnewModArr.push(mod);\n\t\t\t\t} else {\n\t\t\t\t\tnewModArr.push(childOb = vm.map(ob));\n\t\t\t\t\tif (parentRef) {\n\t\t\t\t\t\taddParentRef(childOb, parentRef, parent);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif ($observable) {\n\t\t\t\t$observable(model).refresh(newModArr, true);\n\t\t\t} else {\n\t\t\t\tmodel.splice.apply(model, [0, model.length].concat(newModArr));\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\t\titerate(data, function(ob, viewModel, getter, parentRef) {\n\t\t\tif (viewModel) {\n\t\t\t\tmodel[getter]().merge(ob, model, parentRef); // Update typed property\n\t\t\t} else if (model[getter]() !== ob) {\n\t\t\t\tmodel[getter](ob); // Update non-typed property\n\t\t\t}\n\t\t});\n\t\tfor (prop in data) {\n\t\t\tif (prop !== $expando && !getterNames[prop]) {\n\t\t\t\tmodel[prop] = data[prop];\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction unmap() {\n\t\tvar ob, prop, getterType, arr, value,\n\t\t\tk = 0,\n\t\t\tmodel = this;\n\n\t\tfunction unmapArray(modelArr) {\n\t\t\tvar arr = [],\n\t\t\t\ti = 0,\n\t\t\t\tl = modelArr.length;\n\t\t\tfor (; i<l; i++) {\n\t\t\t\tarr.push(modelArr[i].unmap());\n\t\t\t}\n\t\t\treturn arr;\n\t\t}\n\n\t\tif ($isArray(model)) {\n\t\t\treturn unmapArray(model);\n\t\t}\n\t\tob = {};\n\t\tfor (; k < getterCount; k++) {\n\t\t\tprop = getters[k];\n\t\t\tgetterType = undefined;\n\t\t\tif (prop + \"\" !== prop) {\n\t\t\t\tgetterType = prop;\n\t\t\t\tprop = getterType.getter;\n\t\t\t}\n\t\t\tvalue = model[prop]();\n\t\t\tob[prop] = getterType && value && viewModels[getterType.type]\n\t\t\t\t? $isArray(value)\n\t\t\t\t\t? unmapArray(value)\n\t\t\t\t\t: value.unmap()\n\t\t\t\t: value;\n\t\t}\n\t\tfor (prop in model) {\n\t\t\tif (model.hasOwnProperty(prop) && (prop.charAt(0) !== \"_\" || !getterNames[prop.slice(1)]) && prop !== $expando && !$isFunction(model[prop])) {\n\t\t\t\tob[prop] = model[prop];\n\t\t\t}\n\t\t}\n\t\treturn ob;\n\t}\n\n\tJsvVm.prototype = proto;\n\n\tfor (i=0; i < getterCount; i++) {\n\t\t(function(getter) {\n\t\t\tgetter = getter.getter || getter;\n\t\t\tgetterNames[getter] = i+1;\n\t\t\tvar privField = \"_\" + getter;\n\n\t\t\targs += (args ? \",\" : \"\") + getter;\n\t\t\tcnstr += \"this.\" + privField + \" = \" + getter + \";\\n\";\n\t\t\tproto[getter] = proto[getter] || function(val) {\n\t\t\t\tif (!arguments.length) {\n\t\t\t\t\treturn this[privField]; // If there is no argument, use as a getter\n\t\t\t\t}\n\t\t\t\tif ($observable) {\n\t\t\t\t\t$observable(this).setProperty(getter, val);\n\t\t\t\t} else {\n\t\t\t\t\tthis[privField] = val;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tif ($observable) {\n\t\t\t\tproto[getter].set = proto[getter].set || function(val) {\n\t\t\t\t\tthis[privField] = val; // Setter called by observable property change\n\t\t\t\t};\n\t\t\t}\n\t\t})(getters[i]);\n\t}\n\n\t// Constructor for new viewModel instance.\n\tcnstr = new Function(args, cnstr);\n\n\tconstructor = function() {\n\t\tcnstr.apply(this, arguments);\n\t\t// Pass additional parentRef str and parent obj to have a parentRef pointer on instance\n\t\tif (parent = arguments[getterCount + 1]) {\n\t\t\taddParentRef(this, arguments[getterCount], parent);\n\t\t}\n\t};\n\n\tconstructor.prototype = proto;\n\tproto.constructor = constructor;\n\n\tvm.map = map;\n\tvm.getters = getters;\n\tvm.extend = extend;\n\tvm.id = id;\n\treturn vm;\n}\n\nfunction tmplObject(markup, options) {\n\t// Template object constructor\n\tvar htmlTag,\n\t\twrapMap = $subSettingsAdvanced._wm || {}, // Only used in JsViews. Otherwise empty: {}\n\t\ttmpl = {\n\t\t\ttmpls: [],\n\t\t\tlinks: {}, // Compiled functions for link expressions\n\t\t\tbnds: [],\n\t\t\t_is: \"template\",\n\t\t\trender: renderContent\n\t\t};\n\n\tif (options) {\n\t\ttmpl = $extend(tmpl, options);\n\t}\n\n\ttmpl.markup = markup;\n\tif (!tmpl.htmlTag) {\n\t\t// Set tmpl.tag to the top-level HTML tag used in the template, if any...\n\t\thtmlTag = rFirstElem.exec(markup);\n\t\ttmpl.htmlTag = htmlTag ? htmlTag[1].toLowerCase() : \"\";\n\t}\n\thtmlTag = wrapMap[tmpl.htmlTag];\n\tif (htmlTag && htmlTag !== wrapMap.div) {\n\t\t// When using JsViews, we trim templates which are inserted into HTML contexts where text nodes are not rendered (i.e. not 'Phrasing Content').\n\t\t// Currently not trimmed for <li> tag. (Not worth adding perf cost)\n\t\ttmpl.markup = $.trim(tmpl.markup);\n\t}\n\n\treturn tmpl;\n}\n\n//==============\n// registerStore\n//==============\n\n/**\n* Internal. Register a store type (used for template, tags, helpers, converters)\n*/\nfunction registerStore(storeName, storeSettings) {\n\n/**\n* Generic store() function to register item, named item, or hash of items\n* Also used as hash to store the registered items\n* Used as implementation of $.templates(), $.views.templates(), $.views.tags(), $.views.helpers() and $.views.converters()\n*\n* @param {string|hash} name         name - or selector, in case of $.templates(). Or hash of items\n* @param {any}         [item]       (e.g. markup for named template)\n* @param {template}    [parentTmpl] For item being registered as private resource of template\n* @returns {any|$.views} item, e.g. compiled template - or $.views in case of registering hash of items\n*/\n\tfunction theStore(name, item, parentTmpl) {\n\t\t// The store is also the function used to add items to the store. e.g. $.templates, or $.views.tags\n\n\t\t// For store of name 'thing', Call as:\n\t\t//    $.views.things(items[, parentTmpl]),\n\t\t// or $.views.things(name[, item, parentTmpl])\n\n\t\tvar compile, itemName, thisStore, cnt,\n\t\t\tonStore = $sub.onStore[storeName];\n\n\t\tif (name && typeof name === OBJECT && !name.nodeType && !name.markup && !name.getTgt && !(storeName === \"viewModel\" && name.getters || name.extend)) {\n\t\t\t// Call to $.views.things(items[, parentTmpl]),\n\n\t\t\t// Adding items to the store\n\t\t\t// If name is a hash, then item is parentTmpl. Iterate over hash and call store for key.\n\t\t\tfor (itemName in name) {\n\t\t\t\ttheStore(itemName, name[itemName], item);\n\t\t\t}\n\t\t\treturn item || $views;\n\t\t}\n\t\t// Adding a single unnamed item to the store\n\t\tif (name && \"\" + name !== name) { // name must be a string\n\t\t\tparentTmpl = item;\n\t\t\titem = name;\n\t\t\tname = undefined;\n\t\t}\n\t\tthisStore = parentTmpl\n\t\t\t? storeName === \"viewModel\"\n\t\t\t\t? parentTmpl\n\t\t\t\t: (parentTmpl[storeNames] = parentTmpl[storeNames] || {})\n\t\t\t: theStore;\n\t\tcompile = storeSettings.compile;\n\n\t\tif (item === undefined) {\n\t\t\titem = compile ? name : thisStore[name];\n\t\t\tname = undefined;\n\t\t}\n\t\tif (item === null) {\n\t\t\t// If item is null, delete this entry\n\t\t\tif (name) {\n\t\t\t\tdelete thisStore[name];\n\t\t\t}\n\t\t} else {\n\t\t\tif (compile) {\n\t\t\t\titem = compile.call(thisStore, name, item, parentTmpl, 0) || {};\n\t\t\t\titem._is = storeName; // Only do this for compiled objects (tags, templates...)\n\t\t\t}\n\t\t\tif (name) {\n\t\t\t\tthisStore[name] = item;\n\t\t\t}\n\t\t}\n\t\tif (onStore) {\n\t\t\t// e.g. JsViews integration\n\t\t\tonStore(name, item, parentTmpl, compile);\n\t\t}\n\t\treturn item;\n\t}\n\n\tvar storeNames = storeName + \"s\";\n\t$views[storeNames] = theStore;\n}\n\n/**\n* Add settings such as:\n* $.views.settings.allowCode(true)\n* @param {boolean} value\n* @returns {Settings}\n*\n* allowCode = $.views.settings.allowCode()\n* @returns {boolean}\n*/\nfunction addSetting(st) {\n\t$viewsSettings[st] = $viewsSettings[st] || function(value) {\n\t\treturn arguments.length\n\t\t\t? ($subSettings[st] = value, $viewsSettings)\n\t\t\t: $subSettings[st];\n\t};\n}\n\n//========================\n// dataMap for render only\n//========================\n\nfunction dataMap(mapDef) {\n\tfunction Map(source, options) {\n\t\tthis.tgt = mapDef.getTgt(source, options);\n\t\toptions.map = this;\n\t}\n\n\tif ($isFunction(mapDef)) {\n\t\t// Simple map declared as function\n\t\tmapDef = {\n\t\t\tgetTgt: mapDef\n\t\t};\n\t}\n\n\tif (mapDef.baseMap) {\n\t\tmapDef = $extend($extend({}, mapDef.baseMap), mapDef);\n\t}\n\n\tmapDef.map = function(source, options) {\n\t\treturn new Map(source, options);\n\t};\n\treturn mapDef;\n}\n\n//==============\n// renderContent\n//==============\n\n/** Render the template as a string, using the specified data and helpers/context\n* $(\"#tmpl\").render(), tmpl.render(), tagCtx.render(), $.render.namedTmpl()\n*\n* @param {any}        data\n* @param {hash}       [context]           helpers or context\n* @param {boolean}    [noIteration]\n* @param {View}       [parentView]        internal\n* @param {string}     [key]               internal\n* @param {function}   [onRender]          internal\n* @returns {string}   rendered template   internal\n*/\nfunction renderContent(data, context, noIteration, parentView, key, onRender) {\n\tvar i, l, tag, tmpl, tagCtx, isTopRenderCall, prevData, prevIndex,\n\t\tview = parentView,\n\t\tresult = \"\";\n\n\tif (context === true) {\n\t\tnoIteration = context; // passing boolean as second param - noIteration\n\t\tcontext = undefined;\n\t} else if (typeof context !== OBJECT) {\n\t\tcontext = undefined; // context must be a boolean (noIteration) or a plain object\n\t}\n\n\tif (tag = this.tag) {\n\t\t// This is a call from renderTag or tagCtx.render(...)\n\t\ttagCtx = this;\n\t\tview = view || tagCtx.view;\n\t\ttmpl = view._getTmpl(tag.template || tagCtx.tmpl);\n\t\tif (!arguments.length) {\n\t\t\tdata = tag.contentCtx && $isFunction(tag.contentCtx)\n\t\t\t\t? data = tag.contentCtx(data)\n\t\t\t\t: view; // Default data context for wrapped block content is the first argument\n\t\t}\n\t} else {\n\t\t// This is a template.render(...) call\n\t\ttmpl = this;\n\t}\n\n\tif (tmpl) {\n\t\tif (!parentView && data && data._is === \"view\") {\n\t\t\tview = data; // When passing in a view to render or link (and not passing in a parent view) use the passed-in view as parentView\n\t\t}\n\n\t\tif (view && data === view) {\n\t\t\t// Inherit the data from the parent view.\n\t\t\tdata = view.data;\n\t\t}\n\n\t\tisTopRenderCall = !view;\n\t\tisRenderCall = isRenderCall || isTopRenderCall;\n\t\tif (isTopRenderCall) {\n\t\t\t(context = context || {}).root = data; // Provide ~root as shortcut to top-level data.\n\t\t}\n\t\tif (!isRenderCall || $subSettingsAdvanced.useViews || tmpl.useViews || view && view !== topView) {\n\t\t\tresult = renderWithViews(tmpl, data, context, noIteration, view, key, onRender, tag);\n\t\t} else {\n\t\t\tif (view) { // In a block\n\t\t\t\tprevData = view.data;\n\t\t\t\tprevIndex = view.index;\n\t\t\t\tview.index = indexStr;\n\t\t\t} else {\n\t\t\t\tview = topView;\n\t\t\t\tprevData = view.data;\n\t\t\t\tview.data = data;\n\t\t\t\tview.ctx = context;\n\t\t\t}\n\t\t\tif ($isArray(data) && !noIteration) {\n\t\t\t\t// Create a view for the array, whose child views correspond to each data item. (Note: if key and parentView are passed in\n\t\t\t\t// along with parent view, treat as insert -e.g. from view.addViews - so parentView is already the view item for array)\n\t\t\t\tfor (i = 0, l = data.length; i < l; i++) {\n\t\t\t\t\tview.index = i;\n\t\t\t\t\tview.data = data[i];\n\t\t\t\t\tresult += tmpl.fn(data[i], view, $sub);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tview.data = data;\n\t\t\t\tresult += tmpl.fn(data, view, $sub);\n\t\t\t}\n\t\t\tview.data = prevData;\n\t\t\tview.index = prevIndex;\n\t\t}\n\t\tif (isTopRenderCall) {\n\t\t\tisRenderCall = undefined;\n\t\t}\n\t}\n\treturn result;\n}\n\nfunction renderWithViews(tmpl, data, context, noIteration, view, key, onRender, tag) {\n\t// Render template against data as a tree of subviews (nested rendered template instances), or as a string (top-level template).\n\t// If the data is the parent view, treat as noIteration, re-render with the same data context.\n\t// tmpl can be a string (e.g. rendered by a tag.render() method), or a compiled template.\n\tvar i, l, newView, childView, itemResult, swapContent, contentTmpl, outerOnRender, tmplName, itemVar, newCtx, tagCtx, noLinking,\n\t\tresult = \"\";\n\n\tif (tag) {\n\t\t// This is a call from renderTag or tagCtx.render(...)\n\t\ttmplName = tag.tagName;\n\t\ttagCtx = tag.tagCtx;\n\t\tcontext = context ? extendCtx(context, tag.ctx) : tag.ctx;\n\n\t\tif (tmpl === view.content) { // {{xxx tmpl=#content}}\n\t\t\tcontentTmpl = tmpl !== view.ctx._wrp // We are rendering the #content\n\t\t\t\t? view.ctx._wrp // #content was the tagCtx.props.tmpl wrapper of the block content - so within this view, #content will now be the view.ctx._wrp block content\n\t\t\t\t: undefined; // #content was the view.ctx._wrp block content - so within this view, there is no longer any #content to wrap.\n\t\t} else if (tmpl !== tagCtx.content) {\n\t\t\tif (tmpl === tag.template) { // Rendering {{tag}} tag.template, replacing block content.\n\t\t\t\tcontentTmpl = tagCtx.tmpl; // Set #content to block content (or wrapped block content if tagCtx.props.tmpl is set)\n\t\t\t\tcontext._wrp = tagCtx.content; // Pass wrapped block content to nested views\n\t\t\t} else { // Rendering tagCtx.props.tmpl wrapper\n\t\t\t\tcontentTmpl = tagCtx.content || view.content; // Set #content to wrapped block content\n\t\t\t}\n\t\t} else {\n\t\t\tcontentTmpl = view.content; // Nested views inherit same wrapped #content property\n\t\t}\n\n\t\tif (tagCtx.props.link === false) {\n\t\t\t// link=false setting on block tag\n\t\t\t// We will override inherited value of link by the explicit setting link=false taken from props\n\t\t\t// The child views of an unlinked view are also unlinked. So setting child back to true will not have any effect.\n\t\t\tcontext = context || {};\n\t\t\tcontext.link = false;\n\t\t}\n\t}\n\n\tif (view) {\n\t\tonRender = onRender || view._.onRender;\n\t\tnoLinking = context && context.link === false;\n\n\t\tif (noLinking && view._.nl) {\n\t\t\tonRender = undefined;\n\t\t}\n\n\t\tcontext = extendCtx(context, view.ctx);\n\t\ttagCtx = !tag && view.tag\n\t\t\t? view.tag.tagCtxs[view.tagElse]\n\t\t\t: tagCtx;\n\t}\n\n\tif (itemVar = tagCtx && tagCtx.props.itemVar) {\n\t\tif (itemVar[0] !== \"~\") {\n\t\t\tsyntaxError(\"Use itemVar='~myItem'\");\n\t\t}\n\t\titemVar = itemVar.slice(1);\n\t}\n\n\tif (key === true) {\n\t\tswapContent = true;\n\t\tkey = 0;\n\t}\n\n\t// If link===false, do not call onRender, so no data-linking marker nodes\n\tif (onRender && tag && tag._.noVws) {\n\t\tonRender = undefined;\n\t}\n\touterOnRender = onRender;\n\tif (onRender === true) {\n\t\t// Used by view.refresh(). Don't create a new wrapper view.\n\t\touterOnRender = undefined;\n\t\tonRender = view._.onRender;\n\t}\n\t// Set additional context on views created here, (as modified context inherited from the parent, and to be inherited by child views)\n\tcontext = tmpl.helpers\n\t\t? extendCtx(tmpl.helpers, context)\n\t\t: context;\n\n\tnewCtx = context;\n\tif ($isArray(data) && !noIteration) {\n\t\t// Create a view for the array, whose child views correspond to each data item. (Note: if key and view are passed in\n\t\t// along with parent view, treat as insert -e.g. from view.addViews - so view is already the view item for array)\n\t\tnewView = swapContent\n\t\t\t? view\n\t\t\t: (key !== undefined && view)\n\t\t\t\t|| new View(context, \"array\", view, data, tmpl, key, onRender, contentTmpl);\n\t\tnewView._.nl= noLinking;\n\t\tif (view && view._.useKey) {\n\t\t\t// Parent is not an 'array view'\n\t\t\tnewView._.bnd = !tag || tag._.bnd && tag; // For array views that are data bound for collection change events, set the\n\t\t\t// view._.bnd property to true for top-level link() or data-link=\"{for}\", or to the tag instance for a data-bound tag, e.g. {^{for ...}}\n\t\t\tnewView.tag = tag;\n\t\t}\n\t\tfor (i = 0, l = data.length; i < l; i++) {\n\t\t\t// Create a view for each data item.\n\t\t\tchildView = new View(newCtx, \"item\", newView, data[i], tmpl, (key || 0) + i, onRender, newView.content);\n\t\t\tif (itemVar) {\n\t\t\t\t(childView.ctx = $extend({}, newCtx))[itemVar] = $sub._cp(data[i], \"#data\", childView);\n\t\t\t}\n\t\t\titemResult = tmpl.fn(data[i], childView, $sub);\n\t\t\tresult += newView._.onRender ? newView._.onRender(itemResult, childView) : itemResult;\n\t\t}\n\t} else {\n\t\t// Create a view for singleton data object. The type of the view will be the tag name, e.g. \"if\" or \"mytag\" except for\n\t\t// \"item\", \"array\" and \"data\" views. A \"data\" view is from programmatic render(object) against a 'singleton'.\n\t\tnewView = swapContent ? view : new View(newCtx, tmplName || \"data\", view, data, tmpl, key, onRender, contentTmpl);\n\n\t\tif (itemVar) {\n\t\t\t(newView.ctx = $extend({}, newCtx))[itemVar] = $sub._cp(data, \"#data\", newView);\n\t\t}\n\n\t\tnewView.tag = tag;\n\t\tnewView._.nl = noLinking;\n\t\tresult += tmpl.fn(data, newView, $sub);\n\t}\n\tif (tag) {\n\t\tnewView.tagElse = tagCtx.index;\n\t\ttagCtx.contentView = newView;\n\t}\n\treturn outerOnRender ? outerOnRender(result, newView) : result;\n}\n\n//===========================\n// Build and compile template\n//===========================\n\n// Generate a reusable function that will serve to render a template against data\n// (Compile AST then build template function)\n\nfunction onRenderError(e, view, fallback) {\n\tvar message = fallback !== undefined\n\t\t? $isFunction(fallback)\n\t\t\t? fallback.call(view.data, e, view)\n\t\t\t: fallback || \"\"\n\t\t: \"{Error: \" + (e.message||e) + \"}\";\n\n\tif ($subSettings.onError && (fallback = $subSettings.onError.call(view.data, e, fallback && message, view)) !== undefined) {\n\t\tmessage = fallback; // There is a settings.debugMode(handler) onError override. Call it, and use return value (if any) to replace message\n\t}\n\treturn view && !view._lc ? $converters.html(message) : message; // For data-link=\\\"{... onError=...}\"... See onDataLinkedTagChange\n}\n\nfunction error(message) {\n\tthrow new $sub.Err(message);\n}\n\nfunction syntaxError(message) {\n\terror(\"Syntax error\\n\" + message);\n}\n\nfunction tmplFn(markup, tmpl, isLinkExpr, convertBack, hasElse) {\n\t// Compile markup to AST (abtract syntax tree) then build the template function code from the AST nodes\n\t// Used for compiling templates, and also by JsViews to build functions for data link expressions\n\n\t//==== nested functions ====\n\tfunction pushprecedingContent(shift) {\n\t\tshift -= loc;\n\t\tif (shift) {\n\t\t\tcontent.push(markup.substr(loc, shift).replace(rNewLine, \"\\\\n\"));\n\t\t}\n\t}\n\n\tfunction blockTagCheck(tagName, block) {\n\t\tif (tagName) {\n\t\t\ttagName += '}}';\n\t\t\t//\t\t\t'{{include}} block has {{/for}} with no open {{for}}'\n\t\t\tsyntaxError((\n\t\t\t\tblock\n\t\t\t\t\t? '{{' + block + '}} block has {{/' + tagName + ' without {{' + tagName\n\t\t\t\t\t: 'Unmatched or missing {{/' + tagName) + ', in template:\\n' + markup);\n\t\t}\n\t}\n\n\tfunction parseTag(all, bind, tagName, converter, colon, html, codeTag, params, slash, bind2, closeBlock, index) {\n/*\n\n     bind     tagName         cvt   cln html code    params            slash   bind2         closeBlk  comment\n/(?:{(\\^)?{(?:(\\w+(?=[\\/\\s}]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^}]|}(?!}))*?)(\\/)?|{(\\^)?{(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))}}/g\n\n(?:\n  {(\\^)?{            bind\n  (?:\n    (\\w+             tagName\n      (?=[\\/\\s}])\n    )\n    |\n    (\\w+)?(:)        converter colon\n    |\n    (>)              html\n    |\n    (\\*)             codeTag\n  )\n  \\s*\n  (                  params\n    (?:[^}]|}(?!}))*?\n  )\n  (\\/)?              slash\n  |\n  {(\\^)?{            bind2\n  (?:\n    (?:\\/(\\w+))\\s*   closeBlock\n    |\n    !--[\\s\\S]*?--    comment\n  )\n)\n}}/g\n\n*/\n\t\tif (codeTag && bind || slash && !tagName || params && params.slice(-1) === \":\" || bind2) {\n\t\t\tsyntaxError(all);\n\t\t}\n\n\t\t// Build abstract syntax tree (AST): [tagName, converter, params, content, hash, bindings, contentMarkup]\n\t\tif (html) {\n\t\t\tcolon = \":\";\n\t\t\tconverter = HTML;\n\t\t}\n\t\tslash = slash || isLinkExpr && !hasElse;\n\n\t\tvar late, openTagName, isLateOb,\n\t\t\tpathBindings = (bind || isLinkExpr) && [[]], // pathBindings is an array of arrays for arg bindings and a hash of arrays for prop bindings\n\t\t\tprops = \"\",\n\t\t\targs = \"\",\n\t\t\tctxProps = \"\",\n\t\t\tparamsArgs = \"\",\n\t\t\tparamsProps = \"\",\n\t\t\tparamsCtxProps = \"\",\n\t\t\tonError = \"\",\n\t\t\tuseTrigger = \"\",\n\t\t\t// Block tag if not self-closing and not {{:}} or {{>}} (special case) and not a data-link expression\n\t\t\tblock = !slash && !colon;\n\n\t\t//==== nested helper function ====\n\t\ttagName = tagName || (params = params || \"#data\", colon); // {{:}} is equivalent to {{:#data}}\n\t\tpushprecedingContent(index);\n\t\tloc = index + all.length; // location marker - parsed up to here\n\t\tif (codeTag) {\n\t\t\tif (allowCode) {\n\t\t\t\tcontent.push([\"*\", \"\\n\" + params.replace(/^:/, \"ret+= \").replace(rUnescapeQuotes, \"$1\") + \";\\n\"]);\n\t\t\t}\n\t\t} else if (tagName) {\n\t\t\tif (tagName === \"else\") {\n\t\t\t\tif (rTestElseIf.test(params)) {\n\t\t\t\t\tsyntaxError('For \"{{else if expr}}\" use \"{{else expr}}\"');\n\t\t\t\t}\n\t\t\t\tpathBindings = current[9] && [[]];\n\t\t\t\tcurrent[10] = markup.substring(current[10], index); // contentMarkup for block tag\n\t\t\t\topenTagName = current[11] || current[0] || syntaxError(\"Mismatched: \" + all);\n\t\t\t\t// current[0] is tagName, but for {{else}} nodes, current[11] is tagName of preceding open tag\n\t\t\t\tcurrent = stack.pop();\n\t\t\t\tcontent = current[2];\n\t\t\t\tblock = true;\n\t\t\t}\n\t\t\tif (params) {\n\t\t\t\t// remove newlines from the params string, to avoid compiled code errors for unterminated strings\n\t\t\t\tparseParams(params.replace(rNewLine, \" \"), pathBindings, tmpl, isLinkExpr)\n\t\t\t\t\t.replace(rBuildHash, function(all, onerror, isCtxPrm, key, keyToken, keyValue, arg, param) {\n\t\t\t\t\t\tif (key === \"this:\") {\n\t\t\t\t\t\t\tkeyValue = \"undefined\"; // this=some.path is always a to parameter (one-way), so don't need to compile/evaluate some.path initialization\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (param) {\n\t\t\t\t\t\t\tisLateOb = isLateOb || param[0] === \"@\";\n\t\t\t\t\t\t}\n\t\t\t\t\t\tkey = \"'\" + keyToken + \"':\";\n\t\t\t\t\t\tif (arg) {\n\t\t\t\t\t\t\targs += isCtxPrm + keyValue + \",\";\n\t\t\t\t\t\t\tparamsArgs += \"'\" + param + \"',\";\n\t\t\t\t\t\t} else if (isCtxPrm) { // Contextual parameter, ~foo=expr\n\t\t\t\t\t\t\tctxProps += key + 'j._cp(' + keyValue + ',\"' + param + '\",view),';\n\t\t\t\t\t\t\t// Compiled code for evaluating tagCtx on a tag will have: ctx:{'foo':j._cp(compiledExpr, \"expr\", view)}\n\t\t\t\t\t\t\tparamsCtxProps += key + \"'\" + param + \"',\";\n\t\t\t\t\t\t} else if (onerror) {\n\t\t\t\t\t\t\tonError += keyValue;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tif (keyToken === \"trigger\") {\n\t\t\t\t\t\t\t\tuseTrigger += keyValue;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (keyToken === \"lateRender\") {\n\t\t\t\t\t\t\t\tlate = param !== \"false\"; // Render after first pass\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tprops += key + keyValue + \",\";\n\t\t\t\t\t\t\tparamsProps += key + \"'\" + param + \"',\";\n\t\t\t\t\t\t\thasHandlers = hasHandlers || rHasHandlers.test(keyToken);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn \"\";\n\t\t\t\t\t}).slice(0, -1);\n\t\t\t}\n\n\t\t\tif (pathBindings && pathBindings[0]) {\n\t\t\t\tpathBindings.pop(); // Remove the binding that was prepared for next arg. (There is always an extra one ready).\n\t\t\t}\n\n\t\t\tnewNode = [\n\t\t\t\t\ttagName,\n\t\t\t\t\tconverter || !!convertBack || hasHandlers || \"\",\n\t\t\t\t\tblock && [],\n\t\t\t\t\tparsedParam(paramsArgs || (tagName === \":\" ? \"'#data',\" : \"\"), paramsProps, paramsCtxProps), // {{:}} equivalent to {{:#data}}\n\t\t\t\t\tparsedParam(args || (tagName === \":\" ? \"data,\" : \"\"), props, ctxProps),\n\t\t\t\t\tonError,\n\t\t\t\t\tuseTrigger,\n\t\t\t\t\tlate,\n\t\t\t\t\tisLateOb,\n\t\t\t\t\tpathBindings || 0\n\t\t\t\t];\n\t\t\tcontent.push(newNode);\n\t\t\tif (block) {\n\t\t\t\tstack.push(current);\n\t\t\t\tcurrent = newNode;\n\t\t\t\tcurrent[10] = loc; // Store current location of open tag, to be able to add contentMarkup when we reach closing tag\n\t\t\t\tcurrent[11] = openTagName; // Used for checking syntax (matching close tag)\n\t\t\t}\n\t\t} else if (closeBlock) {\n\t\t\tblockTagCheck(closeBlock !== current[0] && closeBlock !== current[11] && closeBlock, current[0]); // Check matching close tag name\n\t\t\tcurrent[10] = markup.substring(current[10], index); // contentMarkup for block tag\n\t\t\tcurrent = stack.pop();\n\t\t}\n\t\tblockTagCheck(!current && closeBlock);\n\t\tcontent = current[2];\n\t}\n\t//==== /end of nested functions ====\n\n\tvar i, result, newNode, hasHandlers, bindings,\n\t\tallowCode = $subSettings.allowCode || tmpl && tmpl.allowCode\n\t\t\t|| $viewsSettings.allowCode === true, // include direct setting of settings.allowCode true for backward compat only\n\t\tastTop = [],\n\t\tloc = 0,\n\t\tstack = [],\n\t\tcontent = astTop,\n\t\tcurrent = [,,astTop];\n\n\tif (allowCode && tmpl._is) {\n\t\ttmpl.allowCode = allowCode;\n\t}\n\n//TODO\tresult = tmplFnsCache[markup]; // Only cache if template is not named and markup length < ...,\n//and there are no bindings or subtemplates?? Consider standard optimization for data-link=\"a.b.c\"\n//\t\tif (result) {\n//\t\t\ttmpl.fn = result;\n//\t\t} else {\n\n//\t\tresult = markup;\n\tif (isLinkExpr) {\n\t\tif (convertBack !== undefined) {\n\t\t\tmarkup = markup.slice(0, -convertBack.length - 2) + delimCloseChar0;\n\t\t}\n\t\tmarkup = delimOpenChar0 + markup + delimCloseChar1;\n\t}\n\n\tblockTagCheck(stack[0] && stack[0][2].pop()[0]);\n\t// Build the AST (abstract syntax tree) under astTop\n\tmarkup.replace(rTag, parseTag);\n\n\tpushprecedingContent(markup.length);\n\n\tif (loc = astTop[astTop.length - 1]) {\n\t\tblockTagCheck(\"\" + loc !== loc && (+loc[10] === loc[10]) && loc[0]);\n\t}\n//\t\t\tresult = tmplFnsCache[markup] = buildCode(astTop, tmpl);\n//\t\t}\n\n\tif (isLinkExpr) {\n\t\tresult = buildCode(astTop, markup, isLinkExpr);\n\t\tbindings = [];\n\t\ti = astTop.length;\n\t\twhile (i--) {\n\t\t\tbindings.unshift(astTop[i][9]); // With data-link expressions, pathBindings array for tagCtx[i] is astTop[i][9]\n\t\t}\n\t\tsetPaths(result, bindings);\n\t} else {\n\t\tresult = buildCode(astTop, tmpl);\n\t}\n\treturn result;\n}\n\nfunction setPaths(fn, pathsArr) {\n\tvar key, paths,\n\t\ti = 0,\n\t\tl = pathsArr.length;\n\tfn.deps = [];\n\tfn.paths = []; // The array of path binding (array/dictionary)s for each tag/else block's args and props\n\tfor (; i < l; i++) {\n\t\tfn.paths.push(paths = pathsArr[i]);\n\t\tfor (key in paths) {\n\t\t\tif (key !== \"_jsvto\" && paths.hasOwnProperty(key) && paths[key].length && !paths[key].skp) {\n\t\t\t\tfn.deps = fn.deps.concat(paths[key]); // deps is the concatenation of the paths arrays for the different bindings\n\t\t\t}\n\t\t}\n\t}\n}\n\nfunction parsedParam(args, props, ctx) {\n\treturn [args.slice(0, -1), props.slice(0, -1), ctx.slice(0, -1)];\n}\n\nfunction paramStructure(paramCode, paramVals) {\n\treturn '\\n\\tparams:{args:[' + paramCode[0] + '],\\n\\tprops:{' + paramCode[1] + '}'\n\t\t+ (paramCode[2] ? ',\\n\\tctx:{' + paramCode[2] + '}' : \"\")\n\t\t+ '},\\n\\targs:[' + paramVals[0] + '],\\n\\tprops:{' + paramVals[1] + '}'\n\t\t+ (paramVals[2] ? ',\\n\\tctx:{' + paramVals[2] + '}' : \"\");\n}\n\nfunction parseParams(params, pathBindings, tmpl, isLinkExpr) {\n\n\tfunction parseTokens(all, lftPrn0, lftPrn, bound, path, operator, err, eq, path2, late, prn,\n\t\t\t\t\t\t\t\t\t\t\t\tcomma, lftPrn2, apos, quot, rtPrn, rtPrnDot, prn2, space, index, full) {\n\t// /(\\()(?=\\s*\\()|(?:([([])\\s*)?(?:(\\^?)(~?[\\w$.^]+)?\\s*((\\+\\+|--)|\\+|-|~(?![\\w$])|&&|\\|\\||===|!==|==|!=|<=|>=|[<>%*:?\\/]|(=))\\s*|(!*?(@)?[#~]?[\\w$.^]+)([([])?)|(,\\s*)|(?:(\\()\\s*)?\\\\?(?:(')|(\"))|(?:\\s*(([)\\]])(?=[.^]|\\s*$|[^([])|[)\\]])([([]?))|(\\s+)/g,\n\t//lftPrn0           lftPrn         bound     path               operator     err                                          eq      path2 late            prn      comma  lftPrn2          apos quot        rtPrn  rtPrnDot                  prn2     space\n\t// (left paren? followed by (path? followed by operator) or (path followed by paren?)) or comma or apos or quot or right paren or space\n\n\t\tfunction parsePath(allPath, not, object, helper, view, viewProperty, pathTokens, leafToken) {\n\t\t\t// /^(!*?)(?:null|true|false|\\d[\\d.]*|([\\w$]+|\\.|~([\\w$]+)|#(view|([\\w$]+))?)([\\w$.^]*?)(?:[.[^]([\\w$]+)\\]?)?)$/g,\n\t\t\t//    not                               object     helper    view  viewProperty pathTokens      leafToken\n\t\t\tsubPath = object === \".\";\n\t\t\tif (object) {\n\t\t\t\tpath = path.slice(not.length);\n\t\t\t\tif (/^\\.?constructor$/.test(leafToken||path)) {\n\t\t\t\t\tsyntaxError(allPath);\n\t\t\t\t}\n\t\t\t\tif (!subPath) {\n\t\t\t\t\tallPath = (late // late path @a.b.c: not throw on 'property of undefined' if a undefined, and will use _getOb() after linking to resolve late.\n\t\t\t\t\t\t\t? (isLinkExpr ? '' : '(ltOb.lt=ltOb.lt||') + '(ob='\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t)\n\t\t\t\t\t\t+ (helper\n\t\t\t\t\t\t\t? 'view.ctxPrm(\"' + helper + '\")'\n\t\t\t\t\t\t\t: view\n\t\t\t\t\t\t\t\t? \"view\"\n\t\t\t\t\t\t\t\t: \"data\")\n\t\t\t\t\t\t+ (late\n\t\t\t\t\t\t\t? ')===undefined' + (isLinkExpr ? '' : ')') + '?\"\":view._getOb(ob,\"'\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t)\n\t\t\t\t\t\t+ (leafToken\n\t\t\t\t\t\t\t? (viewProperty\n\t\t\t\t\t\t\t\t? \".\" + viewProperty\n\t\t\t\t\t\t\t\t: helper\n\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t: (view ? \"\" : \".\" + object)\n\t\t\t\t\t\t\t\t) + (pathTokens || \"\")\n\t\t\t\t\t\t\t: (leafToken = helper ? \"\" : view ? viewProperty || \"\" : object, \"\"));\n\t\t\t\t\tallPath = allPath + (leafToken ? \".\" + leafToken : \"\");\n\n\t\t\t\t\tallPath = not + (allPath.slice(0, 9) === \"view.data\"\n\t\t\t\t\t\t? allPath.slice(5) // convert #view.data... to data...\n\t\t\t\t\t\t: allPath)\n\t\t\t\t\t+ (late\n\t\t\t\t\t\t\t? (isLinkExpr ? '\"': '\",ltOb') + (prn ? ',1)':')')\n\t\t\t\t\t\t\t: \"\"\n\t\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\tif (bindings) {\n\t\t\t\t\tbinds = named === \"_linkTo\" ? (bindto = pathBindings._jsvto = pathBindings._jsvto || []) : bndCtx.bd;\n\t\t\t\t\tif (theOb = subPath && binds[binds.length-1]) {\n\t\t\t\t\t\tif (theOb._cpfn) { // Computed property exprOb\n\t\t\t\t\t\t\twhile (theOb.sb) {\n\t\t\t\t\t\t\t\ttheOb = theOb.sb;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tif (theOb.prm) {\n\t\t\t\t\t\t\t\tif (theOb.bnd) {\n\t\t\t\t\t\t\t\t\tpath = \"^\" + path.slice(1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\ttheOb.sb = path;\n\t\t\t\t\t\t\t\ttheOb.bnd = theOb.bnd || path[0] === \"^\";\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbinds.push(path);\n\t\t\t\t\t}\n\t\t\t\t\tif (prn && !subPath) {\n\t\t\t\t\t\tpathStart[fnDp] = ind;\n\t\t\t\t\t\tcompiledPathStart[fnDp] = compiledPath[fnDp].length;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn allPath;\n\t\t}\n\n\t\t//bound = bindings && bound;\n\t\tif (bound && !eq) {\n\t\t\tpath = bound + path; // e.g. some.fn(...)^some.path - so here path is \"^some.path\"\n\t\t}\n\t\toperator = operator || \"\";\n\t\tlftPrn2 = lftPrn2 || \"\";\n\t\tlftPrn = lftPrn || lftPrn0 || lftPrn2;\n\t\tpath = path || path2;\n\n\t\tif (late && (late = !/\\)|]/.test(full[index-1]))) {\n\t\t\tpath = path.slice(1).split(\".\").join(\"^\"); // Late path @z.b.c. Use \"^\" rather than \".\" to ensure that deep binding will be used\n\t\t}\n\t\t// Could do this - but not worth perf cost?? :-\n\t\t// if (!path.lastIndexOf(\"#data.\", 0)) { path = path.slice(6); } // If path starts with \"#data.\", remove that.\n\t\tprn = prn || prn2 || \"\";\n\t\tvar expr, binds, theOb, newOb, subPath, lftPrnFCall, ret,\n\t\t\tind = index;\n\n\t\tif (!aposed && !quoted) {\n\t\t\tif (err) {\n\t\t\t\tsyntaxError(params);\n\t\t\t}\n\t\t\tif (rtPrnDot && bindings) {\n\t\t\t\t// This is a binding to a path in which an object is returned by a helper/data function/expression, e.g. foo()^x.y or (a?b:c)^x.y\n\t\t\t\t// We create a compiled function to get the object instance (which will be called when the dependent data of the subexpression changes,\n\t\t\t\t// to return the new object, and trigger re-binding of the subsequent path)\n\t\t\t\texpr = pathStart[fnDp-1];\n\t\t\t\tif (full.length - 1 > ind - (expr || 0)) { // We need to compile a subexpression\n\t\t\t\t\texpr = $.trim(full.slice(expr, ind + all.length));\n\t\t\t\t\tbinds = bindto || bndStack[fnDp-1].bd;\n\t\t\t\t\t// Insert exprOb object, to be used during binding to return the computed object\n\t\t\t\t\ttheOb = binds[binds.length-1];\n\t\t\t\t\tif (theOb && theOb.prm) {\n\t\t\t\t\t\twhile (theOb.sb && theOb.sb.prm) {\n\t\t\t\t\t\t\ttheOb = theOb.sb;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tnewOb = theOb.sb = {path: theOb.sb, bnd: theOb.bnd};\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbinds.push(newOb = {path: binds.pop()}); // Insert exprOb object, to be used during binding to return the computed object\n\t\t\t\t\t}\n\t\t\t\t\tif (theOb && theOb.sb === newOb) {\n\t\t\t\t\t\tcompiledPath[fnDp] = compiledPath[fnDp-1].slice(theOb._cpPthSt) + compiledPath[fnDp];\n\t\t\t\t\t\tcompiledPath[fnDp-1] = compiledPath[fnDp-1].slice(0, theOb._cpPthSt);\n\t\t\t\t\t}\n\t\t\t\t\tnewOb._cpPthSt = compiledPathStart[fnDp-1];\n\t\t\t\t\tnewOb._cpKey = expr;\n\n\t\t\t\t\tcompiledPath[fnDp] += full.slice(prevIndex, index);\n\t\t\t\t\tprevIndex = index;\n\n\t\t\t\t\tnewOb._cpfn = cpFnStore[expr] = cpFnStore[expr] || // Compiled function for computed value: get from store, or compile and store\n\t\t\t\t\t\tnew Function(\"data,view,j\", // Compiled function for computed value in template\n\t\t\t\t\t\"//\" + expr + \"\\nvar v;\\nreturn ((v=\" + compiledPath[fnDp] + (rtPrn === \"]\" ? \")]\" : rtPrn) + \")!=null?v:null);\");\n\n\t\t\t\t\tcompiledPath[fnDp-1] += (fnCall[prnDp] && $subSettingsAdvanced.cache ? \"view.getCache(\\\"\" + expr.replace(rEscapeQuotes, \"\\\\$&\") + \"\\\"\" : compiledPath[fnDp]);\n\n\t\t\t\t\tnewOb.prm = bndCtx.bd;\n\t\t\t\t\tnewOb.bnd = newOb.bnd || newOb.path && newOb.path.indexOf(\"^\") >= 0;\n\t\t\t\t}\n\t\t\t\tcompiledPath[fnDp] = \"\";\n\t\t\t}\n\t\t\tif (prn === \"[\") {\n\t\t\t\tprn = \"[j._sq(\";\n\t\t\t}\n\t\t\tif (lftPrn === \"[\") {\n\t\t\t\tlftPrn = \"[j._sq(\";\n\t\t\t}\n\t\t}\n\t\tret = (aposed\n\t\t\t// within single-quoted string\n\t\t\t? (aposed = !apos, (aposed ? all : lftPrn2 + '\"'))\n\t\t\t: quoted\n\t\t\t// within double-quoted string\n\t\t\t\t? (quoted = !quot, (quoted ? all : lftPrn2 + '\"'))\n\t\t\t\t:\n\t\t\t(\n\t\t\t\t(lftPrn\n\t\t\t\t\t? (\n\t\t\t\t\t\tprnStack[++prnDp] = true,\n\t\t\t\t\t\tprnInd[prnDp] = 0,\n\t\t\t\t\t\tbindings && (\n\t\t\t\t\t\t\tpathStart[fnDp++] = ind++,\n\t\t\t\t\t\t\tbndCtx = bndStack[fnDp] = {bd: []},\n\t\t\t\t\t\t\tcompiledPath[fnDp] = \"\",\n\t\t\t\t\t\t\tcompiledPathStart[fnDp] = 1\n\t\t\t\t\t\t),\n\t\t\t\t\t\tlftPrn) // Left paren, (not a function call paren)\n\t\t\t\t\t: \"\")\n\t\t\t\t+ (space\n\t\t\t\t\t? (prnDp\n\t\t\t\t\t\t? \"\" // A space within parens or within function call parens, so not a separator for tag args\n\t\t\t// New arg or prop - so insert backspace \\b (\\x08) as separator for named params, used subsequently by rBuildHash, and prepare new bindings array\n\t\t\t\t\t\t: (paramIndex = full.slice(paramIndex, ind), named\n\t\t\t\t\t\t\t? (named = boundName = bindto = false, \"\\b\")\n\t\t\t\t\t\t\t: \"\\b,\") + paramIndex + (paramIndex = ind + all.length, bindings && pathBindings.push(bndCtx.bd = []), \"\\b\")\n\t\t\t\t\t)\n\t\t\t\t\t: eq\n\t\t\t// named param. Remove bindings for arg and create instead bindings array for prop\n\t\t\t\t\t\t? (fnDp && syntaxError(params), bindings && pathBindings.pop(), named = \"_\" + path, boundName = bound, paramIndex = ind + all.length,\n\t\t\t\t\t\t\t\tbindings && ((bindings = bndCtx.bd = pathBindings[named] = []), bindings.skp = !bound), path + ':')\n\t\t\t\t\t\t: path\n\t\t\t// path\n\t\t\t\t\t\t\t? (path.split(\"^\").join(\".\").replace($sub.rPath, parsePath)\n\t\t\t\t\t\t\t\t+ (prn || operator)\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t: operator\n\t\t\t// operator\n\t\t\t\t\t\t\t\t? operator\n\t\t\t\t\t\t\t\t: rtPrn\n\t\t\t// function\n\t\t\t\t\t\t\t\t\t? rtPrn === \"]\" ? \")]\" : \")\"\n\t\t\t\t\t\t\t\t\t: comma\n\t\t\t\t\t\t\t\t\t\t? (fnCall[prnDp] || syntaxError(params), \",\") // We don't allow top-level literal arrays or objects\n\t\t\t\t\t\t\t\t\t\t: lftPrn0\n\t\t\t\t\t\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t\t\t\t\t\t: (aposed = apos, quoted = quot, '\"')\n\t\t\t))\n\t\t);\n\n\t\tif (!aposed && !quoted) {\n\t\t\tif (rtPrn) {\n\t\t\t\tfnCall[prnDp] = false;\n\t\t\t\tprnDp--;\n\t\t\t}\n\t\t}\n\n\t\tif (bindings) {\n\t\t\tif (!aposed && !quoted) {\n\t\t\t\tif (rtPrn) {\n\t\t\t\t\tif (prnStack[prnDp+1]) {\n\t\t\t\t\t\tbndCtx = bndStack[--fnDp];\n\t\t\t\t\t\tprnStack[prnDp+1] = false;\n\t\t\t\t\t}\n\t\t\t\t\tprnStart = prnInd[prnDp+1];\n\t\t\t\t}\n\t\t\t\tif (prn) {\n\t\t\t\t\tprnInd[prnDp+1] = compiledPath[fnDp].length + (lftPrn ? 1 : 0);\n\t\t\t\t\tif (path || rtPrn) {\n\t\t\t\t\t\tbndCtx = bndStack[++fnDp] = {bd: []};\n\t\t\t\t\t\tprnStack[prnDp+1] = true;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tcompiledPath[fnDp] = (compiledPath[fnDp]||\"\") + full.slice(prevIndex, index);\n\t\t\tprevIndex = index+all.length;\n\n\t\t\tif (!aposed && !quoted) {\n\t\t\t\tif (lftPrnFCall = lftPrn && prnStack[prnDp+1]) {\n\t\t\t\t\tcompiledPath[fnDp-1] += lftPrn;\n\t\t\t\t\tcompiledPathStart[fnDp-1]++;\n\t\t\t\t}\n\t\t\t\tif (prn === \"(\" && subPath && !newOb) {\n\t\t\t\t\tcompiledPath[fnDp] = compiledPath[fnDp-1].slice(prnStart) + compiledPath[fnDp];\n\t\t\t\t\tcompiledPath[fnDp-1] = compiledPath[fnDp-1].slice(0, prnStart);\n\t\t\t\t}\n\t\t\t}\n\t\t\tcompiledPath[fnDp] += lftPrnFCall ? ret.slice(1) : ret;\n\t\t}\n\n\t\tif (!aposed && !quoted && prn) {\n\t\t\tprnDp++;\n\t\t\tif (path && prn === \"(\") {\n\t\t\t\tfnCall[prnDp] = true;\n\t\t\t}\n\t\t}\n\n\t\tif (!aposed && !quoted && prn2) {\n\t\t\tif (bindings) {\n\t\t\t\tcompiledPath[fnDp] += prn;\n\t\t\t}\n\t\t\tret += prn;\n\t\t}\n\t\treturn ret;\n\t}\n\n\tvar named, bindto, boundName, result,\n\t\tquoted, // boolean for string content in double quotes\n\t\taposed, // or in single quotes\n\t\tbindings = pathBindings && pathBindings[0], // bindings array for the first arg\n\t\tbndCtx = {bd: bindings},\n\t\tbndStack = {0: bndCtx},\n\t\tparamIndex = 0, // list,\n\t\t// The following are used for tracking path parsing including nested paths, such as \"a.b(c^d + (e))^f\", and chained computed paths such as\n\t\t// \"a.b().c^d().e.f().g\" - which has four chained paths, \"a.b()\", \"^c.d()\", \".e.f()\" and \".g\"\n\t\tprnDp = 0,     // For tracking paren depth (not function call parens)\n\t\tfnDp = 0,      // For tracking depth of function call parens\n\t\tprnInd = {},   // We are in a function call\n\t\tprnStart = 0,  // tracks the start of the current path such as c^d() in the above example\n\t\tprnStack = {}, // tracks parens which are not function calls, and so are associated with new bndStack contexts\n\t\tfnCall = {},   // We are in a function call\n\t\tpathStart = {},// tracks the start of the current path such as c^d() in the above example\n\t\tcompiledPathStart = {0: 0},\n\t\tcompiledPath = {0:\"\"},\n\t\tprevIndex = 0;\n\n\tif (params[0] === \"@\") {\n\t\tparams = params.replace(rBracketQuote, \".\");\n\t}\n\tresult = (params + (tmpl ? \" \" : \"\")).replace($sub.rPrm, parseTokens);\n\n\tif (bindings) {\n\t\tresult = compiledPath[0];\n\t}\n\n\treturn !prnDp && result || syntaxError(params); // Syntax error if unbalanced parens in params expression\n}\n\nfunction buildCode(ast, tmpl, isLinkExpr) {\n\t// Build the template function code from the AST nodes, and set as property on the passed-in template object\n\t// Used for compiling templates, and also by JsViews to build functions for data link expressions\n\tvar i, node, tagName, converter, tagCtx, hasTag, hasEncoder, getsVal, hasCnvt, useCnvt, tmplBindings, pathBindings, params, boundOnErrStart,\n\t\tboundOnErrEnd, tagRender, nestedTmpls, tmplName, nestedTmpl, tagAndElses, content, markup, nextIsElse, oldCode, isElse, isGetVal, tagCtxFn,\n\t\tonError, tagStart, trigger, lateRender, retStrOpen, retStrClose,\n\t\ttmplBindingKey = 0,\n\t\tuseViews = $subSettingsAdvanced.useViews || tmpl.useViews || tmpl.tags || tmpl.templates || tmpl.helpers || tmpl.converters,\n\t\tcode = \"\",\n\t\ttmplOptions = {},\n\t\tl = ast.length;\n\n\tif (\"\" + tmpl === tmpl) {\n\t\ttmplName = isLinkExpr ? 'data-link=\"' + tmpl.replace(rNewLine, \" \").slice(1, -1) + '\"' : tmpl;\n\t\ttmpl = 0;\n\t} else {\n\t\ttmplName = tmpl.tmplName || \"unnamed\";\n\t\tif (tmpl.allowCode) {\n\t\t\ttmplOptions.allowCode = true;\n\t\t}\n\t\tif (tmpl.debug) {\n\t\t\ttmplOptions.debug = true;\n\t\t}\n\t\ttmplBindings = tmpl.bnds;\n\t\tnestedTmpls = tmpl.tmpls;\n\t}\n\tfor (i = 0; i < l; i++) {\n\t\t// AST nodes: [0: tagName, 1: converter, 2: content, 3: params, 4: code, 5: onError, 6: trigger, 7:pathBindings, 8: contentMarkup]\n\t\tnode = ast[i];\n\n\t\t// Add newline for each callout to t() c() etc. and each markup string\n\t\tif (\"\" + node === node) {\n\t\t\t// a markup string to be inserted\n\t\t\tcode += '+\"' + node + '\"';\n\t\t} else {\n\t\t\t// a compiled tag expression to be inserted\n\t\t\ttagName = node[0];\n\t\t\tif (tagName === \"*\") {\n\t\t\t\t// Code tag: {{* }}\n\t\t\t\tcode += \";\\n\" + node[1] + \"\\nret=ret\";\n\t\t\t} else {\n\t\t\t\tconverter = node[1];\n\t\t\t\tcontent = !isLinkExpr && node[2];\n\t\t\t\ttagCtx = paramStructure(node[3], params = node[4]);\n\t\t\t\ttrigger = node[6];\n\t\t\t\tlateRender = node[7];\n\t\t\t\tif (node[8]) { // latePath @a.b.c or @~a.b.c\n\t\t\t\t\tretStrOpen = \"\\nvar ob,ltOb={},ctxs=\";\n\t\t\t\t\tretStrClose = \";\\nctxs.lt=ltOb.lt;\\nreturn ctxs;\";\n\t\t\t\t} else {\n\t\t\t\t\tretStrOpen = \"\\nreturn \";\n\t\t\t\t\tretStrClose = \"\";\n\t\t\t\t}\n\t\t\t\tmarkup = node[10] && node[10].replace(rUnescapeQuotes, \"$1\");\n\t\t\t\tif (isElse = tagName === \"else\") {\n\t\t\t\t\tif (pathBindings) {\n\t\t\t\t\t\tpathBindings.push(node[9]);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tonError = node[5] || $subSettings.debugMode !== false && \"undefined\"; // If debugMode not false, set default onError handler on tag to \"undefined\" (see onRenderError)\n\t\t\t\t\tif (tmplBindings && (pathBindings = node[9])) { // Array of paths, or false if not data-bound\n\t\t\t\t\t\tpathBindings = [pathBindings];\n\t\t\t\t\t\ttmplBindingKey = tmplBindings.push(1); // Add placeholder in tmplBindings for compiled function\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tuseViews = useViews || params[1] || params[2] || pathBindings || /view.(?!index)/.test(params[0]);\n\t\t\t\t// useViews is for perf optimization. For render() we only use views if necessary - for the more advanced scenarios.\n\t\t\t\t// We use views if there are props, contextual properties or args with #... (other than #index) - but you can force\n\t\t\t\t// using the full view infrastructure, (and pay a perf price) by opting in: Set useViews: true on the template, manually...\n\t\t\t\tif (isGetVal = tagName === \":\") {\n\t\t\t\t\tif (converter) {\n\t\t\t\t\t\ttagName = converter === HTML ? \">\" : converter + tagName;\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (content) { // TODO optimize - if content.length === 0 or if there is a tmpl=\"...\" specified - set content to null / don't run this compilation code - since content won't get used!!\n\t\t\t\t\t\t// Create template object for nested template\n\t\t\t\t\t\tnestedTmpl = tmplObject(markup, tmplOptions);\n\t\t\t\t\t\tnestedTmpl.tmplName = tmplName + \"/\" + tagName;\n\t\t\t\t\t\t// Compile to AST and then to compiled function\n\t\t\t\t\t\tnestedTmpl.useViews = nestedTmpl.useViews || useViews;\n\t\t\t\t\t\tbuildCode(content, nestedTmpl);\n\t\t\t\t\t\tuseViews = nestedTmpl.useViews;\n\t\t\t\t\t\tnestedTmpls.push(nestedTmpl);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!isElse) {\n\t\t\t\t\t\t// This is not an else tag.\n\t\t\t\t\t\ttagAndElses = tagName;\n\t\t\t\t\t\tuseViews = useViews || tagName && (!$tags[tagName] || !$tags[tagName].flow);\n\t\t\t\t\t\t// Switch to a new code string for this bound tag (and its elses, if it has any) - for returning the tagCtxs array\n\t\t\t\t\t\toldCode = code;\n\t\t\t\t\t\tcode = \"\";\n\t\t\t\t\t}\n\t\t\t\t\tnextIsElse = ast[i + 1];\n\t\t\t\t\tnextIsElse = nextIsElse && nextIsElse[0] === \"else\";\n\t\t\t\t}\n\t\t\t\ttagStart = onError ? \";\\ntry{\\nret+=\" : \"\\n+\";\n\t\t\t\tboundOnErrStart = \"\";\n\t\t\t\tboundOnErrEnd = \"\";\n\n\t\t\t\tif (isGetVal && (pathBindings || trigger || converter && converter !== HTML || lateRender)) {\n\t\t\t\t\t// For convertVal we need a compiled function to return the new tagCtx(s)\n\t\t\t\t\ttagCtxFn = new Function(\"data,view,j\", \"// \" + tmplName + \" \" + (++tmplBindingKey) + \" \" + tagName\n\t\t\t\t\t\t+ retStrOpen + \"{\" + tagCtx + \"};\" + retStrClose);\n\t\t\t\t\ttagCtxFn._er = onError;\n\t\t\t\t\ttagCtxFn._tag = tagName;\n\t\t\t\t\ttagCtxFn._bd = !!pathBindings; // data-linked tag {^{.../}}\n\t\t\t\t\ttagCtxFn._lr = lateRender;\n\n\t\t\t\t\tif (isLinkExpr) {\n\t\t\t\t\t\treturn tagCtxFn;\n\t\t\t\t\t}\n\n\t\t\t\t\tsetPaths(tagCtxFn, pathBindings);\n\t\t\t\t\ttagRender = 'c(\"' + converter + '\",view,';\n\t\t\t\t\tuseCnvt = true;\n\t\t\t\t\tboundOnErrStart = tagRender + tmplBindingKey + \",\";\n\t\t\t\t\tboundOnErrEnd = \")\";\n\t\t\t\t}\n\t\t\t\tcode += (isGetVal\n\t\t\t\t\t? (isLinkExpr ? (onError ? \"try{\\n\" : \"\") + \"return \" : tagStart) + (useCnvt // Call _cnvt if there is a converter: {{cnvt: ... }} or {^{cnvt: ... }}\n\t\t\t\t\t\t? (useCnvt = undefined, useViews = hasCnvt = true, tagRender + (tagCtxFn\n\t\t\t\t\t\t\t? ((tmplBindings[tmplBindingKey - 1] = tagCtxFn), tmplBindingKey) // Store the compiled tagCtxFn in tmpl.bnds, and pass the key to convertVal()\n\t\t\t\t\t\t\t: \"{\" + tagCtx + \"}\") + \")\")\n\t\t\t\t\t\t: tagName === \">\"\n\t\t\t\t\t\t\t? (hasEncoder = true, \"h(\" + params[0] + \")\")\n\t\t\t\t\t\t\t: (getsVal = true, \"((v=\" + params[0] + ')!=null?v:' + (isLinkExpr ? 'null)' : '\"\")'))\n\t\t\t\t\t\t\t// Non strict equality so data-link=\"title{:expr}\" with expr=null/undefined removes title attribute\n\t\t\t\t\t)\n\t\t\t\t\t: (hasTag = true, \"\\n{view:view,content:false,tmpl:\" // Add this tagCtx to the compiled code for the tagCtxs to be passed to renderTag()\n\t\t\t\t\t\t+ (content ? nestedTmpls.length : \"false\") + \",\" // For block tags, pass in the key (nestedTmpls.length) to the nested content template\n\t\t\t\t\t\t+ tagCtx + \"},\"));\n\n\t\t\t\tif (tagAndElses && !nextIsElse) {\n\t\t\t\t\t// This is a data-link expression or an inline tag without any elses, or the last {{else}} of an inline tag\n\t\t\t\t\t// We complete the code for returning the tagCtxs array\n\t\t\t\t\tcode = \"[\" + code.slice(0, -1) + \"]\";\n\t\t\t\t\ttagRender = 't(\"' + tagAndElses + '\",view,this,';\n\t\t\t\t\tif (isLinkExpr || pathBindings) {\n\t\t\t\t\t\t// This is a bound tag (data-link expression or inline bound tag {^{tag ...}}) so we store a compiled tagCtxs function in tmp.bnds\n\t\t\t\t\t\tcode = new Function(\"data,view,j\", \" // \" + tmplName + \" \" + tmplBindingKey + \" \" + tagAndElses + retStrOpen + code\n\t\t\t\t\t\t\t+ retStrClose);\n\t\t\t\t\t\tcode._er = onError;\n\t\t\t\t\t\tcode._tag = tagAndElses;\n\t\t\t\t\t\tif (pathBindings) {\n\t\t\t\t\t\t\tsetPaths(tmplBindings[tmplBindingKey - 1] = code, pathBindings);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcode._lr = lateRender;\n\t\t\t\t\t\tif (isLinkExpr) {\n\t\t\t\t\t\t\treturn code; // For a data-link expression we return the compiled tagCtxs function\n\t\t\t\t\t\t}\n\t\t\t\t\t\tboundOnErrStart = tagRender + tmplBindingKey + \",undefined,\";\n\t\t\t\t\t\tboundOnErrEnd = \")\";\n\t\t\t\t\t}\n\n\t\t\t\t\t// This is the last {{else}} for an inline tag.\n\t\t\t\t\t// For a bound tag, pass the tagCtxs fn lookup key to renderTag.\n\t\t\t\t\t// For an unbound tag, include the code directly for evaluating tagCtxs array\n\t\t\t\t\tcode = oldCode + tagStart + tagRender + (pathBindings && tmplBindingKey || code) + \")\";\n\t\t\t\t\tpathBindings = 0;\n\t\t\t\t\ttagAndElses = 0;\n\t\t\t\t}\n\t\t\t\tif (onError && !nextIsElse) {\n\t\t\t\t\tuseViews = true;\n\t\t\t\t\tcode += ';\\n}catch(e){ret' + (isLinkExpr ? \"urn \" : \"+=\") + boundOnErrStart + 'j._err(e,view,' + onError + ')' + boundOnErrEnd + ';}' + (isLinkExpr ? \"\" : '\\nret=ret');\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Include only the var references that are needed in the code\n\tcode = \"// \" + tmplName\n\t\t+ (tmplOptions.debug ? \"\\ndebugger;\" : \"\")\n\t\t+ \"\\nvar v\"\n\t\t+ (hasTag ? \",t=j._tag\" : \"\")                // has tag\n\t\t+ (hasCnvt ? \",c=j._cnvt\" : \"\")              // converter\n\t\t+ (hasEncoder ? \",h=j._html\" : \"\")           // html converter\n\t\t+ (isLinkExpr\n\t\t\t\t? (node[8] // late @... path?\n\t\t\t\t\t\t? \", ob\"\n\t\t\t\t\t\t: \"\"\n\t\t\t\t\t) + \";\\n\"\n\t\t\t\t: ',ret=\"\"')\n\t\t+ code\n\t\t+ (isLinkExpr ? \"\\n\" : \";\\nreturn ret;\");\n\n\ttry {\n\t\tcode = new Function(\"data,view,j\", code);\n\t} catch (e) {\n\t\tsyntaxError(\"Compiled template code:\\n\\n\" + code + '\\n: \"' + (e.message||e) + '\"');\n\t}\n\tif (tmpl) {\n\t\ttmpl.fn = code;\n\t\ttmpl.useViews = !!useViews;\n\t}\n\treturn code;\n}\n\n//==========\n// Utilities\n//==========\n\n// Merge objects, in particular contexts which inherit from parent contexts\nfunction extendCtx(context, parentContext) {\n\t// Return copy of parentContext, unless context is defined and is different, in which case return a new merged context\n\t// If neither context nor parentContext are defined, return undefined\n\treturn context && context !== parentContext\n\t\t? (parentContext\n\t\t\t? $extend($extend({}, parentContext), context)\n\t\t\t: context)\n\t\t: parentContext && $extend({}, parentContext);\n}\n\nfunction getTargetProps(source, tagCtx) {\n\t// this pointer is theMap - which has tagCtx.props too\n\t// arguments: tagCtx.args.\n\tvar key, prop,\n\t\tmap = tagCtx.map,\n\t\tpropsArr = map && map.propsArr;\n\n\tif (!propsArr) { // map.propsArr is the full array of {key:..., prop:...} objects\n\t\tpropsArr = [];\n\t\tif (typeof source === OBJECT || $isFunction(source)) {\n\t\t\tfor (key in source) {\n\t\t\t\tprop = source[key];\n\t\t\t\tif (key !== $expando && source.hasOwnProperty(key) && (!tagCtx.props.noFunctions || !$.isFunction(prop))) {\n\t\t\t\t\tpropsArr.push({key: key, prop: prop});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (map) {\n\t\t\tmap.propsArr = map.options && propsArr; // If bound {^{props}} and not isRenderCall, store propsArr on map (map.options is defined only for bound, && !isRenderCall)\n\t\t}\n\t}\n\treturn getTargetSorted(propsArr, tagCtx); // Obtains map.tgt, by filtering, sorting and splicing the full propsArr\n}\n\nfunction getTargetSorted(value, tagCtx) {\n\t// getTgt\n\tvar mapped, start, end,\n\t\ttag = tagCtx.tag,\n\t\tprops = tagCtx.props,\n\t\tpropParams = tagCtx.params.props,\n\t\tfilter = props.filter,\n\t\tsort = props.sort,\n\t\tdirectSort = sort === true,\n\t\tstep = parseInt(props.step),\n\t\treverse = props.reverse ? -1 : 1;\n\n\tif (!$isArray(value)) {\n\t\treturn value;\n\t}\n\tif (directSort || sort && \"\" + sort === sort) {\n\t\t// Temporary mapped array holds objects with index and sort-value\n\t\tmapped = value.map(function(item, i) {\n\t\t\titem = directSort ? item : getPathObject(item, sort);\n\t\t\treturn {i: i, v: \"\" + item === item ? item.toLowerCase() : item};\n\t\t});\n\t\t// Sort mapped array\n\t\tmapped.sort(function(a, b) {\n\t\t\treturn a.v > b.v ? reverse : a.v < b.v ? -reverse : 0;\n\t\t});\n\t\t// Map to new array with resulting order\n\t\tvalue = mapped.map(function(item){\n\t\t\treturn value[item.i];\n\t\t});\n\t} else if ((sort || reverse < 0) && !tag.dataMap) {\n\t\tvalue = value.slice(); // Clone array first if not already a new array\n\t}\n\tif ($isFunction(sort)) {\n\t\tvalue = value.sort(function() { // Wrap the sort function to provide tagCtx as 'this' pointer\n\t\t\treturn sort.apply(tagCtx, arguments);\n\t\t});\n\t}\n\tif (reverse < 0 && (!sort || $isFunction(sort))) { // Reverse result if not already reversed in sort\n\t\tvalue = value.reverse();\n\t}\n\n\tif (value.filter && filter) { // IE8 does not support filter\n\t\tvalue = value.filter(filter, tagCtx);\n\t\tif (tagCtx.tag.onFilter) {\n\t\t\ttagCtx.tag.onFilter(tagCtx);\n\t\t}\n\t}\n\n\tif (propParams.sorted) {\n\t\tmapped = (sort || reverse < 0) ? value : value.slice();\n\t\tif (tag.sorted) {\n\t\t\t$.observable(tag.sorted).refresh(mapped); // Note that this might cause the start and end props to be modified - e.g. by pager tag control\n\t\t} else {\n\t\t\ttagCtx.map.sorted = mapped;\n\t\t}\n\t}\n\n\tstart = props.start; // Get current value - after possible changes triggered by tag.sorted refresh() above\n\tend = props.end;\n\tif (propParams.start && start === undefined || propParams.end && end === undefined) {\n\t\tstart = end = 0;\n\t}\n\tif (!isNaN(start) || !isNaN(end)) { // start or end specified, but not the auto-create Number array scenario of {{for start=xxx end=yyy}}\n\t\tstart = +start || 0;\n\t\tend = end === undefined || end > value.length ? value.length : +end;\n\t\tvalue = value.slice(start, end);\n\t}\n\tif (step > 1) {\n\t\tstart = 0;\n\t\tend = value.length;\n\t\tmapped = [];\n\t\tfor (; start<end; start+=step) {\n\t\t\tmapped.push(value[start]);\n\t\t}\n\t\tvalue = mapped;\n\t}\n\tif (propParams.paged && tag.paged) {\n\t\t$observable(tag.paged).refresh(value);\n\t}\n\n\treturn value;\n}\n\n/** Render the template as a string, using the specified data and helpers/context\n* $(\"#tmpl\").render()\n*\n* @param {any}        data\n* @param {hash}       [helpersOrContext]\n* @param {boolean}    [noIteration]\n* @returns {string}   rendered template\n*/\nfunction $fnRender(data, context, noIteration) {\n\tvar tmplElem = this.jquery && (this[0] || error('Unknown template')), // Targeted element not found for jQuery template selector such as \"#myTmpl\"\n\t\ttmpl = tmplElem.getAttribute(tmplAttr);\n\n\treturn renderContent.call(tmpl && $.data(tmplElem)[jsvTmpl] || $templates(tmplElem),\n\t\tdata, context, noIteration);\n}\n\n//========================== Register converters ==========================\n\nfunction getCharEntity(ch) {\n\t// Get character entity for HTML, Attribute and optional data encoding\n\treturn charEntities[ch] || (charEntities[ch] = \"&#\" + ch.charCodeAt(0) + \";\");\n}\n\nfunction getCharFromEntity(match, token) {\n\t// Get character from HTML entity, for optional data unencoding\n\treturn charsFromEntities[token] || \"\";\n}\n\nfunction htmlEncode(text) {\n\t// HTML encode: Replace < > & ' \" ` etc. by corresponding entities.\n\treturn text != undefined ? rIsHtml.test(text) && (\"\" + text).replace(rHtmlEncode, getCharEntity) || text : \"\";\n}\n\nfunction dataEncode(text) {\n\t// Encode just < > and & - intended for 'safe data' along with {{:}} rather than {{>}}\n  return \"\" + text === text ? text.replace(rDataEncode, getCharEntity) : text;\n}\n\nfunction dataUnencode(text) {\n  // Unencode just < > and & - intended for 'safe data' along with {{:}} rather than {{>}}\n  return \"\" + text === text ? text.replace(rDataUnencode, getCharFromEntity) : text;\n}\n\n//========================== Initialize ==========================\n\n$sub = $views.sub;\n$viewsSettings = $views.settings;\n\nif (!(jsr || $ && $.render)) {\n\t// JsRender/JsViews not already loaded (or loaded without jQuery, and we are now moving from jsrender namespace to jQuery namepace)\n\tfor (jsvStoreName in jsvStores) {\n\t\tregisterStore(jsvStoreName, jsvStores[jsvStoreName]);\n\t}\n\n\t$converters = $views.converters;\n\t$helpers = $views.helpers;\n\t$tags = $views.tags;\n\n\t$sub._tg.prototype = {\n\t\tbaseApply: baseApply,\n\t\tcvtArgs: convertArgs,\n\t\tbndArgs: convertBoundArgs,\n\t\tctxPrm: contextParameter\n\t};\n\n\ttopView = $sub.topView = new View();\n\n\t//BROWSER-SPECIFIC CODE\n\tif ($) {\n\n\t\t////////////////////////////////////////////////////////////////////////////////////////////////\n\t\t// jQuery (= $) is loaded\n\n\t\t$.fn.render = $fnRender;\n\t\t$expando = $.expando;\n\t\tif ($.observable) {\n\t\t\tif (versionNumber !== (versionNumber = $.views.jsviews)) {\n\t\t\t\t// Different version of jsRender was loaded\n\t\t\t\tthrow \"jquery.observable.js requires jsrender.js \" + versionNumber;\n\t\t\t}\n\t\t\t$extend($sub, $.views.sub); // jquery.observable.js was loaded before jsrender.js\n\t\t\t$views.map = $.views.map;\n\t\t}\n\n\t} else {\n\t\t////////////////////////////////////////////////////////////////////////////////////////////////\n\t\t// jQuery is not loaded.\n\n\t\t$ = {};\n\n\t\tif (setGlobals) {\n\t\t\tglobal.jsrender = $; // We are loading jsrender.js from a script element, not AMD or CommonJS, so set global\n\t\t}\n\n\t\t// Error warning if jsrender.js is used as template engine on Node.js (e.g. Express or Hapi...)\n\t\t// Use jsrender-node.js instead...\n\t\t$.renderFile = $.__express = $.compile = function() { throw \"Node.js: use npm jsrender, or jsrender-node.js\"; };\n\n\t\t//END BROWSER-SPECIFIC CODE\n\t\t$.isFunction = function(ob) {\n\t\t\treturn typeof ob === \"function\";\n\t\t};\n\n\t\t$.isArray = Array.isArray || function(obj) {\n\t\t\treturn ({}.toString).call(obj) === \"[object Array]\";\n\t\t};\n\n\t\t$sub._jq = function(jq) { // private method to move from JsRender APIs from jsrender namespace to jQuery namespace\n\t\t\tif (jq !== $) {\n\t\t\t\t$extend(jq, $); // map over from jsrender namespace to jQuery namespace\n\t\t\t\t$ = jq;\n\t\t\t\t$.fn.render = $fnRender;\n\t\t\t\tdelete $.jsrender;\n\t\t\t\t$expando = $.expando;\n\t\t\t}\n\t\t};\n\n\t\t$.jsrender = versionNumber;\n\t}\n\t$subSettings = $sub.settings;\n\t$subSettings.allowCode = false;\n\t$isFunction = $.isFunction;\n\t$.render = $render;\n\t$.views = $views;\n\t$.templates = $templates = $views.templates;\n\n\tfor (setting in $subSettings) {\n\t\taddSetting(setting);\n\t}\n\n\t/**\n\t* $.views.settings.debugMode(true)\n\t* @param {boolean} debugMode\n\t* @returns {Settings}\n\t*\n\t* debugMode = $.views.settings.debugMode()\n\t* @returns {boolean}\n\t*/\n\t($viewsSettings.debugMode = function(debugMode) {\n\t\treturn debugMode === undefined\n\t\t\t? $subSettings.debugMode\n\t\t\t: (\n\t\t\t\t$subSettings._clFns && $subSettings._clFns(), // Clear linkExprStore (cached compiled expressions), since debugMode setting affects compilation for expressions\n\t\t\t\t$subSettings.debugMode = debugMode,\n\t\t\t\t$subSettings.onError = debugMode + \"\" === debugMode\n\t\t\t\t\t? function() { return debugMode; }\n\t\t\t\t\t: $isFunction(debugMode)\n\t\t\t\t\t\t? debugMode\n\t\t\t\t\t\t: undefined,\n\t\t\t\t$viewsSettings);\n\t})(false); // jshint ignore:line\n\n\t$subSettingsAdvanced = $subSettings.advanced = {\n\t\tcache: true, // By default use cached values of computed values (Otherwise, set advanced cache setting to false)\n\t\tuseViews: false,\n\t\t_jsv: false // For global access to JsViews store\n\t};\n\n\t//========================== Register tags ==========================\n\n\t$tags({\n\t\t\"if\": {\n\t\t\trender: function(val) {\n\t\t\t\t// This function is called once for {{if}} and once for each {{else}}.\n\t\t\t\t// We will use the tag.rendering object for carrying rendering state across the calls.\n\t\t\t\t// If not done (a previous block has not been rendered), look at expression for this block and render the block if expression is truthy\n\t\t\t\t// Otherwise return \"\"\n\t\t\t\tvar self = this,\n\t\t\t\t\ttagCtx = self.tagCtx,\n\t\t\t\t\tret = (self.rendering.done || !val && (tagCtx.args.length || !tagCtx.index))\n\t\t\t\t\t\t? \"\"\n\t\t\t\t\t\t: (self.rendering.done = true,\n\t\t\t\t\t\t\tself.selected = tagCtx.index,\n\t\t\t\t\t\t\tundefined); // Test is satisfied, so render content on current context\n\t\t\t\treturn ret;\n\t\t\t},\n\t\t\tcontentCtx: true, // Inherit parent view data context\n\t\t\tflow: true\n\t\t},\n\t\t\"for\": {\n\t\t\tsortDataMap: dataMap(getTargetSorted),\n\t\t\tinit: function(val, cloned) {\n\t\t\t\tthis.setDataMap(this.tagCtxs);\n\t\t\t},\n\t\t\trender: function(val) {\n\t\t\t\t// This function is called once for {{for}} and once for each {{else}}.\n\t\t\t\t// We will use the tag.rendering object for carrying rendering state across the calls.\n\t\t\t\tvar value, filter, srtField, isArray, i, sorted, end, step,\n\t\t\t\t\tself = this,\n\t\t\t\t\ttagCtx = self.tagCtx,\n\t\t\t\t\trange = tagCtx.argDefault === false,\n\t\t\t\t\tprops = tagCtx.props,\n\t\t\t\t\titerate = range || tagCtx.args.length, // Not final else and not auto-create range\n\t\t\t\t\tresult = \"\",\n\t\t\t\t\tdone = 0;\n\n\t\t\t\tif (!self.rendering.done) {\n\t\t\t\t\tvalue = iterate ? val : tagCtx.view.data; // For the final else, defaults to current data without iteration.\n\n\t\t\t\t\tif (range) {\n\t\t\t\t\t\trange = props.reverse ? \"unshift\" : \"push\";\n\t\t\t\t\t\tend = +props.end;\n\t\t\t\t\t\tstep = +props.step || 1;\n\t\t\t\t\t\tvalue = []; // auto-create integer array scenario of {{for start=xxx end=yyy}}\n\t\t\t\t\t\tfor (i = +props.start || 0; (end - i) * step > 0; i += step) {\n\t\t\t\t\t\t\tvalue[range](i);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif (value !== undefined) {\n\t\t\t\t\t\tisArray = $isArray(value);\n\t\t\t\t\t\tresult += tagCtx.render(value, !iterate || props.noIteration);\n\t\t\t\t\t\t// Iterates if data is an array, except on final else - or if noIteration property\n\t\t\t\t\t\t// set to true. (Use {{include}} to compose templates without array iteration)\n\t\t\t\t\t\tdone += isArray ? value.length : 1;\n\t\t\t\t\t}\n\t\t\t\t\tif (self.rendering.done = done) {\n\t\t\t\t\t\tself.selected = tagCtx.index;\n\t\t\t\t\t}\n\t\t\t\t\t// If nothing was rendered we will look at the next {{else}}. Otherwise, we are done.\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t},\n\t\t\tsetDataMap: function(tagCtxs) {\n\t\t\t\tvar tagCtx, props, paramsProps,\n\t\t\t\t\tself = this,\n\t\t\t\t\tl = tagCtxs.length;\n\t\t\t\twhile (l--) {\n\t\t\t\t\ttagCtx = tagCtxs[l];\n\t\t\t\t\tprops = tagCtx.props;\n\t\t\t\t\tparamsProps = tagCtx.params.props;\n\t\t\t\t\ttagCtx.argDefault = props.end === undefined || tagCtx.args.length > 0; // Default to #data except for auto-create range scenario {{for start=xxx end=yyy step=zzz}}\n\t\t\t\t\tprops.dataMap = (tagCtx.argDefault !== false && $isArray(tagCtx.args[0]) &&\n\t\t\t\t\t\t(paramsProps.sort || paramsProps.start || paramsProps.end || paramsProps.step || paramsProps.filter || paramsProps.reverse\n\t\t\t\t\t\t|| props.sort || props.start || props.end || props.step || props.filter || props.reverse))\n\t\t\t\t\t\t&& self.sortDataMap;\n\t\t\t\t}\n\t\t\t},\n\t\t\tflow: true\n\t\t},\n\t\tprops: {\n\t\t\tbaseTag: \"for\",\n\t\t\tdataMap: dataMap(getTargetProps),\n\t\t\tinit: noop, // Don't execute the base init() of the \"for\" tag\n\t\t\tflow: true\n\t\t},\n\t\tinclude: {\n\t\t\tflow: true\n\t\t},\n\t\t\"*\": {\n\t\t\t// {{* code... }} - Ignored if template.allowCode and $.views.settings.allowCode are false. Otherwise include code in compiled template\n\t\t\trender: retVal,\n\t\t\tflow: true\n\t\t},\n\t\t\":*\": {\n\t\t\t// {{:* returnedExpression }} - Ignored if template.allowCode and $.views.settings.allowCode are false. Otherwise include code in compiled template\n\t\t\trender: retVal,\n\t\t\tflow: true\n\t\t},\n\t\tdbg: $helpers.dbg = $converters.dbg = dbgBreak // Register {{dbg/}}, {{dbg:...}} and ~dbg() to throw and catch, as breakpoints for debugging.\n\t});\n\n\t$converters({\n\t\thtml: htmlEncode,\n\t\tattr: htmlEncode, // Includes > encoding since rConvertMarkers in JsViews does not skip > characters in attribute strings\n\t\tencode: dataEncode,\n\t\tunencode: dataUnencode, // Includes > encoding since rConvertMarkers in JsViews does not skip > characters in attribute strings\n\t\turl: function(text) {\n\t\t\t// URL encoding helper.\n\t\t\treturn text != undefined ? encodeURI(\"\" + text) : text === null ? text : \"\"; // null returns null, e.g. to remove attribute. undefined returns \"\"\n\t\t}\n\t});\n}\n//========================== Define default delimiters ==========================\n$subSettings = $sub.settings;\n$isArray = ($||jsr).isArray;\n$viewsSettings.delimiters(\"{{\", \"}}\", \"^\");\n\nif (jsrToJq) { // Moving from jsrender namespace to jQuery namepace - copy over the stored items (templates, converters, helpers...)\n\tjsr.views.sub._jq($);\n}\nreturn $ || jsr;\n}, window));\n",
    "'use strict';\n\nvar cheerio = require('./lib/cheerio');\nvar makeJuiceClient = require('./lib/inline');\n\n/**\n * Note that makeJuiceClient will take a base object (in this case a function) and enhance it\n * with a lot of useful properties and functions.\n *\n * This client adopts cheerio as a DOM parser and adds an \"inlineContent\" function that let\n * users to specify the CSS to be inlined instead of extracting it from the html.\n * \n * The weird \"makeJuiceClient\" behaviour is there in order to keep backward API compatibility.\n */\nvar juiceClient = makeJuiceClient(function(html,options) {\n  return cheerio(html, { xmlMode: options && options.xmlMode}, juiceDocument, [options]);\n});\n\nvar juiceDocument = function(html, options) {\n  return juiceClient.juiceDocument(html, options);\n}\n\njuiceClient.inlineContent = function(html, css, options) {\n  return cheerio(html, { xmlMode: options && options.xmlMode}, juiceClient.inlineDocument, [css, options]);\n};\n\nmodule.exports = juiceClient;\n",
    "'use strict';\n\n/**\n * Module dependencies.\n */\nvar cheerio = require('cheerio');\nvar utils = require('./utils');\n\nvar cheerioLoad = function(html, options, encodeEntities) {\n  options = Object.assign({decodeEntities: false, _useHtmlParser2:true}, options);\n  html = encodeEntities(html);\n  return cheerio.load(html, options);\n};\n\nvar createEntityConverters = function () {\n  var codeBlockLookup = [];\n\n  var encodeCodeBlocks = function(html) {\n    var blocks = module.exports.codeBlocks;\n    Object.keys(blocks).forEach(function(key) {\n      var re = new RegExp(blocks[key].start + '([\\\\S\\\\s]*?)' + blocks[key].end, 'g');\n      html = html.replace(re, function(match, subMatch) {\n        codeBlockLookup.push(match);\n        return 'JUICE_CODE_BLOCK_' + (codeBlockLookup.length - 1) + '_';\n      });\n    });\n    return html;\n  };\n\n  var decodeCodeBlocks = function(html) {\n    for(var index = 0; index < codeBlockLookup.length; index++) {\n      var re = new RegExp('JUICE_CODE_BLOCK_' + index + '_(=\"\")?', 'gi');\n      html = html.replace(re, function() {\n        return codeBlockLookup[index];\n      });\n    }\n    return html;\n  };\n\n  return {\n    encodeEntities: encodeCodeBlocks,\n    decodeEntities: decodeCodeBlocks,\n  };\n};\n\n/**\n * Parses the input, calls the callback on the parsed DOM, and generates the output\n *\n * @param {String} html input html to be processed\n * @param {Object} options for the parser\n * @param {Function} callback to be invoked on the DOM\n * @param {Array} callbackExtraArguments to be passed to the callback\n * @return {String} resulting html\n */\nmodule.exports = function(html, options, callback, callbackExtraArguments) {\n  var entityConverters = createEntityConverters();\n\n  var $ = cheerioLoad(html, options, entityConverters.encodeEntities);\n  var args = [ $ ];\n  args.push.apply(args, callbackExtraArguments);\n  var doc = callback.apply(undefined, args) || $;\n\n  if (options && options.xmlMode) {\n    return entityConverters.decodeEntities(doc.xml());\n  }\n  return entityConverters.decodeEntities(doc.html());\n};\n\nmodule.exports.codeBlocks = {\n  EJS: { start: '<%', end: '%>' },\n  HBS: { start: '{{', end: '}}' }\n};\n",
    "'use strict';\n\nvar utils = require('./utils');\n\nmodule.exports = function makeJuiceClient(juiceClient) {\n\njuiceClient.ignoredPseudos = ['hover', 'active', 'focus', 'visited', 'link'];\njuiceClient.widthElements = ['TABLE', 'TD', 'TH', 'IMG'];\njuiceClient.heightElements = ['TABLE', 'TD', 'TH', 'IMG'];\njuiceClient.tableElements = ['TABLE', 'TH', 'TR', 'TD', 'CAPTION', 'COLGROUP', 'COL', 'THEAD', 'TBODY', 'TFOOT'];\njuiceClient.nonVisualElements = [ 'HEAD', 'TITLE', 'BASE', 'LINK', 'STYLE', 'META', 'SCRIPT', 'NOSCRIPT' ];\njuiceClient.styleToAttribute = {\n  'background-color': 'bgcolor',\n  'background-image': 'background',\n  'text-align': 'align',\n  'vertical-align': 'valign'\n};\njuiceClient.excludedProperties = [];\n\njuiceClient.juiceDocument = juiceDocument;\njuiceClient.inlineDocument = inlineDocument;\n\nfunction inlineDocument($, css, options) {\n\n  options = options || {};\n  var rules = utils.parseCSS(css);\n  var editedElements = [];\n  var styleAttributeName = 'style';\n\n  if (options.styleAttributeName) {\n    styleAttributeName = options.styleAttributeName;\n  }\n\n  rules.forEach(handleRule);\n  editedElements.forEach(setStyleAttrs);\n\n  if (options.inlinePseudoElements) {\n    editedElements.forEach(inlinePseudoElements);\n  }\n\n  if (options.applyWidthAttributes) {\n    editedElements.forEach(function(el) {\n      setDimensionAttrs(el, 'width');\n    });\n  }\n\n  if (options.applyHeightAttributes) {\n    editedElements.forEach(function(el) {\n      setDimensionAttrs(el, 'height');\n    });\n  }\n\n  if (options.applyAttributesTableElements) {\n    editedElements.forEach(setAttributesOnTableElements);\n  }\n\n  if (options.insertPreservedExtraCss && options.extraCss) {\n    var preservedText = utils.getPreservedText(options.extraCss, {\n      mediaQueries: options.preserveMediaQueries,\n      fontFaces: options.preserveFontFaces,\n      keyFrames: options.preserveKeyFrames\n    });\n    if (preservedText) {\n      var $appendTo = null;\n      if (options.insertPreservedExtraCss !== true) {\n        $appendTo = $(options.insertPreservedExtraCss);\n      } else {\n        $appendTo = $('head');\n        if (!$appendTo.length) { $appendTo = $('body'); }\n        if (!$appendTo.length) { $appendTo = $.root(); }\n      }\n\n      $appendTo.first().append('<style>' + preservedText + '</style>');\n    }\n  }\n\n  function handleRule(rule) {\n    var sel = rule[0];\n    var style = rule[1];\n    var selector = new utils.Selector(sel);\n    var parsedSelector = selector.parsed();\n\n    if (!parsedSelector) {\n      return;\n    }\n\n    var pseudoElementType = getPseudoElementType(parsedSelector);\n\n    // skip rule if the selector has any pseudos which are ignored\n    for (var i = 0; i < parsedSelector.length; ++i) {\n      var subSel = parsedSelector[i];\n      if (subSel.pseudos) {\n        for (var j = 0; j < subSel.pseudos.length; ++j) {\n          var subSelPseudo = subSel.pseudos[j];\n          if (juiceClient.ignoredPseudos.indexOf(subSelPseudo.name) >= 0) {\n            return;\n          }\n        }\n      }\n    }\n\n    if (pseudoElementType) {\n      var last = parsedSelector[parsedSelector.length - 1];\n      var pseudos = last.pseudos;\n      last.pseudos = filterElementPseudos(last.pseudos);\n      sel = parsedSelector.toString();\n      last.pseudos = pseudos;\n    }\n\n    var els;\n    try {\n      els = $(sel);\n    } catch (err) {\n      // skip invalid selector\n      return;\n    }\n\n    els.each(function() {\n      var el = this;\n\n      if (el.name && juiceClient.nonVisualElements.indexOf(el.name.toUpperCase()) >= 0) {\n        return;\n      }\n\n      if (pseudoElementType) {\n        var pseudoElPropName = 'pseudo' + pseudoElementType;\n        var pseudoEl = el[pseudoElPropName];\n        if (!pseudoEl) {\n          pseudoEl = el[pseudoElPropName] = $('<span />').get(0);\n          pseudoEl.pseudoElementType = pseudoElementType;\n          pseudoEl.pseudoElementParent = el;\n          el[pseudoElPropName] = pseudoEl;\n        }\n        el = pseudoEl;\n      }\n\n      if (!el.styleProps) {\n        el.styleProps = {};\n\n        // if the element has inline styles, fake selector with topmost specificity\n        if ($(el).attr(styleAttributeName)) {\n          var cssText = '* { ' + $(el).attr(styleAttributeName) + ' } ';\n          addProps(utils.parseCSS(cssText)[0][1], new utils.Selector('<style>', true));\n        }\n\n        // store reference to an element we need to compile style=\"\" attr for\n        editedElements.push(el);\n      }\n\n      // go through the properties\n      function addProps(style, selector) {\n        for (var i = 0, l = style.length; i < l; i++) {\n          if (style[i].type == 'property') {\n            var name = style[i].name;\n            var value = style[i].value;\n            var important = style[i].value.match(/!important$/) !== null;\n            if (important && !options.preserveImportant) value = value.replace(/\\s*!important$/, '');\n            // adds line number and column number for the properties as \"additionalPriority\" to the\n            // properties because in CSS the position directly affect the priority.\n            var additionalPriority = [style[i].position.start.line, style[i].position.start.col];\n            var prop = new utils.Property(name, value, selector, important ? 2 : 0, additionalPriority);\n            var existing = el.styleProps[name];\n\n            // if property name is not in the excluded properties array\n            if (juiceClient.excludedProperties.indexOf(name) < 0) {\n              if (existing && existing.compare(prop) === prop || !existing) {\n                // deleting a property let us change the order (move it to the end in the setStyleAttrs loop)\n                if (existing && existing.selector !== selector) {\n                  delete el.styleProps[name];\n                } else if (existing) {\n                  // make \"prop\" a special composed property.\n                  prop.nextProp = existing;\n                }\n\n                el.styleProps[name] = prop;\n              }\n            }\n          }\n        }\n      }\n\n      addProps(style, selector);\n    });\n  }\n\n  function setStyleAttrs(el) {\n    var l = Object.keys(el.styleProps).length;\n    var props = [];\n    // Here we loop each property and make sure to \"expand\"\n    // linked \"nextProp\" properties happening when the same property\n    // is declared multiple times in the same selector.\n    Object.keys(el.styleProps).forEach(function(key) {\n      var np = el.styleProps[key];\n      while (typeof np !== 'undefined') {\n        props.push(np);\n        np = np.nextProp;\n      }\n    });\n    // sort properties by their originating selector's specificity so that\n    // props like \"padding\" and \"padding-bottom\" are resolved as expected.\n    props.sort(function(a, b) {\n      return a.compareFunc(b);\n    });\n    var string = props\n      .filter(function(prop) {\n        // Content becomes the innerHTML of pseudo elements, not used as a\n        // style property\n        return prop.prop !== 'content';\n      })\n      .map(function(prop) {\n        return prop.prop + ': ' + prop.value.replace(/[\"]/g, '\\'') + ';';\n      })\n      .join(' ');\n    if (string) {\n      $(el).attr(styleAttributeName, string);\n    }\n  }\n\n  function inlinePseudoElements(el) {\n    if (el.pseudoElementType && el.styleProps.content) {\n      var parsed = parseContent(el.styleProps.content.value);\n      if (parsed.img) {\n        el.name = 'img';\n        $(el).attr('src', parsed.img);\n      } else {\n        $(el).text(parsed);\n      }\n      var parent = el.pseudoElementParent;\n      if (el.pseudoElementType === 'before') {\n        $(parent).prepend(el);\n      } else {\n        $(parent).append(el);\n      }\n    }\n  }\n\n  function setDimensionAttrs(el, dimension) {\n    if (!el.name) { return; }\n    var elName = el.name.toUpperCase();\n    if (juiceClient[dimension + 'Elements'].indexOf(elName) > -1) {\n      for (var i in el.styleProps) {\n        if (el.styleProps[i].prop === dimension) {\n          if (el.styleProps[i].value.match(/px/)) {\n            var pxSize = el.styleProps[i].value.replace('px', '');\n            $(el).attr(dimension, pxSize);\n            return;\n          }\n          if (juiceClient.tableElements.indexOf(elName) > -1 && el.styleProps[i].value.match(/\\%/)) {\n            $(el).attr(dimension, el.styleProps[i].value);\n            return;\n          }\n        }\n      }\n    }\n  }\n\n  function extractBackgroundUrl(value) {\n    return value.indexOf('url(') !== 0\n      ? value\n      : value.replace(/^url\\(([\"'])?([^\"']+)\\1\\)$/, '$2');\n  }\n\n  function setAttributesOnTableElements(el) {\n    if (!el.name) { return; }\n    var elName = el.name.toUpperCase();\n    var styleProps = Object.keys(juiceClient.styleToAttribute);\n\n    if (juiceClient.tableElements.indexOf(elName) > -1) {\n      for (var i in el.styleProps) {\n        if (styleProps.indexOf(el.styleProps[i].prop) > -1) {\n          var prop = juiceClient.styleToAttribute[el.styleProps[i].prop];\n          var value = el.styleProps[i].value;\n          if (prop === 'background') {\n            value = extractBackgroundUrl(value);\n          }\n          if (/(linear|radial)-gradient\\(/i.test(value)) {\n            continue;\n          }\n          $(el).attr(prop, value);\n        }\n      }\n    }\n  }\n}\n\nfunction parseContent(content) {\n  if (content === 'none' || content === 'normal') {\n    return '';\n  }\n\n  var imageUrlMatch = content.match(/^\\s*url\\s*\\(\\s*(.*?)\\s*\\)\\s*$/i);\n  if (imageUrlMatch) {\n    var url = imageUrlMatch[1].replace(/^['\"]|['\"]$/g, '');\n    return { img: url };\n  }\n\n  // Naive parsing, assume well-formed value\n  content = content.slice(1, content.length - 1);\n  // Naive unescape, assume no unicode char codes\n  content = content.replace(/\\\\/g, '');\n  return content;\n}\n\n// Return \"before\" or \"after\" if the given selector is a pseudo element (e.g.,\n// a::after).\nfunction getPseudoElementType(selector) {\n  if (selector.length === 0) {\n    return;\n  }\n\n  var pseudos = selector[selector.length - 1].pseudos;\n  if (!pseudos) {\n    return;\n  }\n\n  for (var i = 0; i < pseudos.length; i++) {\n    if (isPseudoElementName(pseudos[i])) {\n      return pseudos[i].name;\n    }\n  }\n}\n\nfunction isPseudoElementName(pseudo) {\n  return pseudo.name === 'before' || pseudo.name === 'after';\n}\n\nfunction filterElementPseudos(pseudos) {\n  return pseudos.filter(function(pseudo) {\n    return !isPseudoElementName(pseudo);\n  });\n}\n\nfunction juiceDocument($, options) {\n  options = utils.getDefaultOptions(options);\n  var css = extractCssFromDocument($, options);\n  css += '\\n' + options.extraCss;\n  inlineDocument($, css, options);\n  return $;\n}\n\nfunction getStylesData($, options) {\n  var results = [];\n  var stylesList = $('style');\n  var styleDataList, styleData, styleElement;\n  stylesList.each(function() {\n    styleElement = this;\n    // the API for Cheerio using parse5 (default) and htmlparser2 are slightly different\n    // detect this by checking if .childNodes exist (as opposed to .children)\n    var usingParse5 = !!styleElement.childNodes;\n    styleDataList = usingParse5 ? styleElement.childNodes : styleElement.children;\n    if (styleDataList.length !== 1) {\n      if (options.removeStyleTags) {\n        $(styleElement).remove();\n      }\n      return;\n    }\n    styleData = styleDataList[0].data;\n    if (options.applyStyleTags && $(styleElement).attr('data-embed') === undefined) {\n      results.push(styleData);\n    }\n    if (options.removeStyleTags && $(styleElement).attr('data-embed') === undefined) {\n      var text = usingParse5 ? styleElement.childNodes[0].nodeValue : styleElement.children[0].data;\n      var preservedText = utils.getPreservedText(text, {\n        mediaQueries: options.preserveMediaQueries,\n        fontFaces: options.preserveFontFaces,\n        keyFrames: options.preserveKeyFrames,\n        pseudos: options.preservePseudos\n      }, juiceClient.ignoredPseudos);\n      if (preservedText) {\n        if (usingParse5) {\n          styleElement.childNodes[0].nodeValue = preservedText;\n        } else {\n          styleElement.children[0].data = preservedText;\n        }\n      } else {\n        $(styleElement).remove();\n      }\n    }\n    $(styleElement).removeAttr('data-embed');\n  });\n  return results;\n}\n\nfunction extractCssFromDocument($, options) {\n  var results = getStylesData($, options);\n  var css = results.join('\\n');\n  return css;\n}\n\nreturn juiceClient;\n\n};\n",
    "'use strict';\n\nmodule.exports = exports = Property;\n\n/**\n * Module dependencies.\n */\n\nvar utils = require('./utils');\n\n/**\n * CSS property constructor.\n *\n * @param {String} property\n * @param {String} value\n * @param {Selector} selector the property originates from\n * @param {Integer} priority 0 for normal properties, 2 for !important properties.\n * @param {Array} additional array of integers representing more detailed priorities (sorting)\n * @api public\n */\n\nfunction Property(prop, value, selector, priority, additionalPriority) {\n  this.prop = prop;\n  this.value = value;\n  this.selector = selector;\n  this.priority = priority || 0;\n  this.additionalPriority = additionalPriority || [];\n}\n\n/**\n * Compares with another Property based on Selector#specificity.\n *\n * @api public\n */\n\nProperty.prototype.compareFunc = function(property) {\n  var a = [];\n  a.push.apply(a, this.selector.specificity());\n  a.push.apply(a, this.additionalPriority);\n  a[0] += this.priority;\n  var b = [];\n  b.push.apply(b, property.selector.specificity());\n  b.push.apply(b, property.additionalPriority);\n  b[0] += property.priority;\n  return utils.compareFunc(a, b);\n};\n\nProperty.prototype.compare = function(property) {\n  var winner = this.compareFunc(property);\n  if (winner === 1) {\n    return this;\n  }\n  return property;\n};\n\n\n/**\n * Returns CSS property\n *\n * @api public\n */\n\nProperty.prototype.toString = function() {\n  return this.prop + ': ' + this.value.replace(/['\"]+/g, '') + ';';\n};\n",
    "'use strict';\n\nvar parser = require('slick/parser');\n\nmodule.exports = exports = Selector;\n\n/**\n * CSS selector constructor.\n *\n * @param {String} selector text\n * @param {Array} optionally, precalculated specificity\n * @api public\n */\n\nfunction Selector(text, styleAttribute) {\n  this.text = text;\n  this.spec = undefined;\n  this.styleAttribute = styleAttribute || false;\n}\n\n/**\n * Get parsed selector.\n *\n * @api public\n */\n\nSelector.prototype.parsed = function() {\n  if (!this.tokens) { this.tokens = parse(this.text); }\n  return this.tokens;\n};\n\n/**\n * Lazy specificity getter\n *\n * @api public\n */\n\nSelector.prototype.specificity = function() {\n  var styleAttribute = this.styleAttribute;\n  if (!this.spec) { this.spec = specificity(this.text, this.parsed()); }\n  return this.spec;\n\n  function specificity(text, parsed) {\n    var expressions = parsed || parse(text);\n    var spec = [styleAttribute ? 1 : 0, 0, 0, 0];\n    var nots = [];\n\n    for (var i = 0; i < expressions.length; i++) {\n      var expression = expressions[i];\n      var pseudos = expression.pseudos;\n\n      // id awards a point in the second column\n      if (expression.id) { spec[1]++; }\n\n      // classes and attributes award a point each in the third column\n      if (expression.attributes) { spec[2] += expression.attributes.length; }\n      if (expression.classList) { spec[2] += expression.classList.length; }\n\n      // tag awards a point in the fourth column\n      if (expression.tag && expression.tag !== '*') { spec[3]++; }\n\n      // pseudos award a point each in the fourth column\n      if (pseudos) {\n        spec[3] += pseudos.length;\n\n        for (var p = 0; p < pseudos.length; p++) {\n          if (pseudos[p].name === 'not') {\n            nots.push(pseudos[p].value);\n            spec[3]--;\n          }\n        }\n      }\n    }\n\n    for (var ii = nots.length; ii--;) {\n      var not = specificity(nots[ii]);\n      for (var jj = 4; jj--;) { spec[jj] += not[jj]; }\n    }\n\n    return spec;\n  }\n};\n\n/**\n * Parses a selector and returns the tokens.\n *\n * @param {String} selector\n * @api private.\n */\n\nfunction parse(text) {\n  try {\n    return parser(text)[0];\n  } catch (e) {\n    return [];\n  }\n}\n",
    "'use strict';\n\n/**\n * Module dependencies.\n */\n\nvar mensch = require('mensch');\nvar Selector = require('./selector');\nvar Property = require('./property');\n\nexports.Selector = Selector;\nexports.Property = Property;\n\n/**\n * Returns an array of the selectors.\n *\n * @license Sizzle CSS Selector Engine - MIT\n * @param {String} selectorText from mensch\n * @api public\n */\n\nexports.extract = function extract(selectorText) {\n  var attr = 0;\n  var sels = [];\n  var sel = '';\n\n  for (var i = 0, l = selectorText.length; i < l; i++) {\n    var c = selectorText.charAt(i);\n\n    if (attr) {\n      if (']' === c || ')' === c) { attr--; }\n      sel += c;\n    } else {\n      if (',' === c) {\n        sels.push(sel);\n        sel = '';\n      } else {\n        if ('[' === c || '(' === c) { attr++; }\n        if (sel.length || (c !== ',' && c !== '\\n' && c !== ' ')) { sel += c; }\n      }\n    }\n  }\n\n  if (sel.length) {\n    sels.push(sel);\n  }\n\n  return sels;\n};\n\n/**\n * Returns a parse tree for a CSS source.\n * If it encounters multiple selectors separated by a comma, it splits the\n * tree.\n *\n * @param {String} css source\n * @api public\n */\n\nexports.parseCSS = function(css) {\n  var parsed = mensch.parse(css, {position: true, comments: true});\n  var rules = typeof parsed.stylesheet != 'undefined' && parsed.stylesheet.rules ? parsed.stylesheet.rules : [];\n  var ret = [];\n\n  for (var i = 0, l = rules.length; i < l; i++) {\n    if (rules[i].type == 'rule') {\n      var rule = rules[i];\n      var selectors = rule.selectors;\n\n      for (var ii = 0, ll = selectors.length; ii < ll; ii++) {\n        ret.push([selectors[ii], rule.declarations]);\n      }\n    }\n  }\n\n  return ret;\n};\n\n/**\n * Returns preserved text for a CSS source.\n *\n * @param {String} css source\n * @param {Object} options\n * @api public\n */\n\nexports.getPreservedText = function(css, options, ignoredPseudos) {\n  var parsed = mensch.parse(css, {position: true, comments: true});\n  var rules = typeof parsed.stylesheet != 'undefined' && parsed.stylesheet.rules ? parsed.stylesheet.rules : [];\n  var preserved = [];\n  var lastStart = null;\n\n  for (var i = rules.length - 1; i >= 0; i--) {\n    if ((options.fontFaces && rules[i].type === 'font-face') ||\n        (options.mediaQueries && rules[i].type === 'media') ||\n        (options.keyFrames && rules[i].type === 'keyframes') ||\n        (options.pseudos && rules[i].selectors && this.matchesPseudo(rules[i].selectors[0], ignoredPseudos))) {\n      preserved.unshift(\n        mensch.stringify(\n          { stylesheet: { rules: [ rules[i] ] }},\n          { comments: false, indentation: '  ' }\n        )\n      );\n    }\n    lastStart = rules[i].position.start;\n  }\n\n  if (preserved.length === 0) {\n    return false;\n  }\n  return '\\n' + preserved.join('\\n') + '\\n';\n};\n\nexports.normalizeLineEndings = function(text) {\n  return text.replace(/\\r\\n/g, '\\n').replace(/\\n/g, '\\r\\n');\n};\n\nexports.matchesPseudo = function(needle, haystack) {\n  return haystack.find(function (element) {\n    return needle.indexOf(element) > -1;\n  })\n}\n\n/**\n * Compares two specificity vectors, returning the winning one.\n *\n * @param {Array} vector a\n * @param {Array} vector b\n * @return {Array}\n * @api public\n */\n\nexports.compareFunc = function(a, b) {\n  var min = Math.min(a.length, b.length);\n  for (var i = 0; i < min; i++) {\n    if (a[i] === b[i]) { continue; }\n    if (a[i] > b[i]) { return 1; }\n    return -1;\n  }\n\n  return a.length - b.length;\n};\n\nexports.compare = function(a, b) {\n  return exports.compareFunc(a, b) == 1 ? a : b;\n};\n\nexports.getDefaultOptions = function(options) {\n  var result = Object.assign({\n    extraCss: '',\n    insertPreservedExtraCss: true,\n    applyStyleTags: true,\n    removeStyleTags: true,\n    preserveMediaQueries: true,\n    preserveFontFaces: true,\n    preserveKeyFrames: true,\n    preservePseudos: true,\n    applyWidthAttributes: true,\n    applyHeightAttributes: true,\n    applyAttributesTableElements: true,\n    url: ''\n  }, options);\n\n  result.webResources = result.webResources || {};\n\n  return result;\n};\n",
    "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\nvar baseToString = require('lodash._basetostring');\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]/g;\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used to determine if values are of the language type `Object`. */\nvar objectTypes = {\n  'function': true,\n  'object': true\n};\n\n/** Detect free variable `exports`. */\nvar freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType)\n  ? exports\n  : undefined;\n\n/** Detect free variable `module`. */\nvar freeModule = (objectTypes[typeof module] && module && !module.nodeType)\n  ? module\n  : undefined;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = checkGlobal(freeExports && freeModule && typeof global == 'object' && global);\n\n/** Detect free variable `self`. */\nvar freeSelf = checkGlobal(objectTypes[typeof self] && self);\n\n/** Detect free variable `window`. */\nvar freeWindow = checkGlobal(objectTypes[typeof window] && window);\n\n/** Detect `this` as the global object. */\nvar thisGlobal = checkGlobal(objectTypes[typeof this] && this);\n\n/**\n * Used as a reference to the global object.\n *\n * The `this` value is used if it's the global object to avoid Greasemonkey's\n * restricted `window` object, otherwise the `window` object is used.\n */\nvar root = freeGlobal ||\n  ((freeWindow !== (thisGlobal && thisGlobal.window)) && freeWindow) ||\n    freeSelf || thisGlobal || Function('return this')();\n\n/**\n * Checks if `value` is a global object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {null|Object} Returns `value` if it's a global object, else `null`.\n */\nfunction checkGlobal(value) {\n  return (value && value.Object === Object) ? value : null;\n}\n\n/**\n * Checks if `value` is a host object in IE < 9.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a host object, else `false`.\n */\nfunction isHostObject(value) {\n  // Many host objects are `Object` objects that can coerce to strings\n  // despite having improperly defined `toString` methods.\n  var result = false;\n  if (value != null && typeof value.toString != 'function') {\n    try {\n      result = !!(value + '');\n    } catch (e) {}\n  }\n  return result;\n}\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = Function.prototype.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map'),\n    nativeCreate = getNative(Object, 'create');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n}\n\n/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  return this.has(key) && delete this.__data__[key];\n}\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? data[key] !== undefined : hasOwnProperty.call(data, key);\n}\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n}\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  return true;\n}\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries ? entries.length : 0;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  return getMapData(this, key)['delete'](key);\n}\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  getMapData(this, key).set(key, value);\n  return this;\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to search.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = object[key];\n  return isNative(value) ? value : undefined;\n}\n\n/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoize(function(string) {\n  var result = [];\n  toString(string).replace(rePropName, function(match, number, quote, string) {\n    result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to process.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result);\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Assign cache to `_.memoize`.\nmemoize.Cache = MapCache;\n\n/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'user': 'fred' };\n * var other = { 'user': 'fred' };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array and weak map constructors,\n  // and PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/6.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Checks if `value` is a native function.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n * @example\n *\n * _.isNative(Array.prototype.push);\n * // => true\n *\n * _.isNative(_);\n * // => false\n */\nfunction isNative(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  var pattern = (isFunction(value) || isHostObject(value)) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = stringToPath;\n",
    "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to determine if values are of the language type `Object`. */\nvar objectTypes = {\n  'function': true,\n  'object': true\n};\n\n/** Detect free variable `exports`. */\nvar freeExports = (objectTypes[typeof exports] && exports && !exports.nodeType)\n  ? exports\n  : undefined;\n\n/** Detect free variable `module`. */\nvar freeModule = (objectTypes[typeof module] && module && !module.nodeType)\n  ? module\n  : undefined;\n\n/** Detect free variable `global` from Node.js. */\nvar freeGlobal = checkGlobal(freeExports && freeModule && typeof global == 'object' && global);\n\n/** Detect free variable `self`. */\nvar freeSelf = checkGlobal(objectTypes[typeof self] && self);\n\n/** Detect free variable `window`. */\nvar freeWindow = checkGlobal(objectTypes[typeof window] && window);\n\n/** Detect `this` as the global object. */\nvar thisGlobal = checkGlobal(objectTypes[typeof this] && this);\n\n/**\n * Used as a reference to the global object.\n *\n * The `this` value is used if it's the global object to avoid Greasemonkey's\n * restricted `window` object, otherwise the `window` object is used.\n */\nvar root = freeGlobal ||\n  ((freeWindow !== (thisGlobal && thisGlobal.window)) && freeWindow) ||\n    freeSelf || thisGlobal || Function('return this')();\n\n/**\n * Checks if `value` is a global object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {null|Object} Returns `value` if it's a global object, else `null`.\n */\nfunction checkGlobal(value) {\n  return (value && value.Object === Object) ? value : null;\n}\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\nmodule.exports = baseToString;\n",
    "/**\n * lodash 4.0.3 (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright 2012-2016 The Dojo Foundation <http://dojofoundation.org/>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n * Available under MIT license <https://lodash.com/license>\n */\n\n/** Used as the `TypeError` message for \"Functions\" methods. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/** Used as references for various `Number` constants. */\nvar NAN = 0 / 0;\n\n/** `Object#toString` result references. */\nvar funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]';\n\n/** Used to match leading and trailing whitespace. */\nvar reTrim = /^\\s+|\\s+$/g;\n\n/** Used to detect bad signed hexadecimal string values. */\nvar reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n/** Used to detect binary string values. */\nvar reIsBinary = /^0b[01]+$/i;\n\n/** Used to detect octal string values. */\nvar reIsOctal = /^0o[0-7]+$/i;\n\n/** Built-in method references without a dependency on `root`. */\nvar freeParseInt = parseInt;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * Gets the timestamp of the number of milliseconds that have elapsed since\n * the Unix epoch (1 January 1970 00:00:00 UTC).\n *\n * @static\n * @memberOf _\n * @type {Function}\n * @category Date\n * @returns {number} Returns the timestamp.\n * @example\n *\n * _.defer(function(stamp) {\n *   console.log(_.now() - stamp);\n * }, _.now());\n * // => logs the number of milliseconds it took for the deferred function to be invoked\n */\nvar now = Date.now;\n\n/**\n * Creates a debounced function that delays invoking `func` until after `wait`\n * milliseconds have elapsed since the last time the debounced function was\n * invoked. The debounced function comes with a `cancel` method to cancel\n * delayed `func` invocations and a `flush` method to immediately invoke them.\n * Provide an options object to indicate whether `func` should be invoked on\n * the leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n * with the last arguments provided to the debounced function. Subsequent calls\n * to the debounced function return the result of the last `func` invocation.\n *\n * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\n * on the trailing edge of the timeout only if the debounced function is\n * invoked more than once during the `wait` timeout.\n *\n * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\n * for details over the differences between `_.debounce` and `_.throttle`.\n *\n * @static\n * @memberOf _\n * @category Function\n * @param {Function} func The function to debounce.\n * @param {number} [wait=0] The number of milliseconds to delay.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.leading=false] Specify invoking on the leading\n *  edge of the timeout.\n * @param {number} [options.maxWait] The maximum time `func` is allowed to be\n *  delayed before it's invoked.\n * @param {boolean} [options.trailing=true] Specify invoking on the trailing\n *  edge of the timeout.\n * @returns {Function} Returns the new debounced function.\n * @example\n *\n * // Avoid costly calculations while the window size is in flux.\n * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n *\n * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n * jQuery(element).on('click', _.debounce(sendMail, 300, {\n *   'leading': true,\n *   'trailing': false\n * }));\n *\n * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n * var source = new EventSource('/stream');\n * jQuery(source).on('message', debounced);\n *\n * // Cancel the trailing debounced invocation.\n * jQuery(window).on('popstate', debounced.cancel);\n */\nfunction debounce(func, wait, options) {\n  var args,\n      maxTimeoutId,\n      result,\n      stamp,\n      thisArg,\n      timeoutId,\n      trailingCall,\n      lastCalled = 0,\n      leading = false,\n      maxWait = false,\n      trailing = true;\n\n  if (typeof func != 'function') {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  wait = toNumber(wait) || 0;\n  if (isObject(options)) {\n    leading = !!options.leading;\n    maxWait = 'maxWait' in options && nativeMax(toNumber(options.maxWait) || 0, wait);\n    trailing = 'trailing' in options ? !!options.trailing : trailing;\n  }\n\n  function cancel() {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n    }\n    if (maxTimeoutId) {\n      clearTimeout(maxTimeoutId);\n    }\n    lastCalled = 0;\n    args = maxTimeoutId = thisArg = timeoutId = trailingCall = undefined;\n  }\n\n  function complete(isCalled, id) {\n    if (id) {\n      clearTimeout(id);\n    }\n    maxTimeoutId = timeoutId = trailingCall = undefined;\n    if (isCalled) {\n      lastCalled = now();\n      result = func.apply(thisArg, args);\n      if (!timeoutId && !maxTimeoutId) {\n        args = thisArg = undefined;\n      }\n    }\n  }\n\n  function delayed() {\n    var remaining = wait - (now() - stamp);\n    if (remaining <= 0 || remaining > wait) {\n      complete(trailingCall, maxTimeoutId);\n    } else {\n      timeoutId = setTimeout(delayed, remaining);\n    }\n  }\n\n  function flush() {\n    if ((timeoutId && trailingCall) || (maxTimeoutId && trailing)) {\n      result = func.apply(thisArg, args);\n    }\n    cancel();\n    return result;\n  }\n\n  function maxDelayed() {\n    complete(trailing, timeoutId);\n  }\n\n  function debounced() {\n    args = arguments;\n    stamp = now();\n    thisArg = this;\n    trailingCall = trailing && (timeoutId || !leading);\n\n    if (maxWait === false) {\n      var leadingCall = leading && !timeoutId;\n    } else {\n      if (!lastCalled && !maxTimeoutId && !leading) {\n        lastCalled = stamp;\n      }\n      var remaining = maxWait - (stamp - lastCalled);\n\n      var isCalled = (remaining <= 0 || remaining > maxWait) &&\n        (leading || maxTimeoutId);\n\n      if (isCalled) {\n        if (maxTimeoutId) {\n          maxTimeoutId = clearTimeout(maxTimeoutId);\n        }\n        lastCalled = stamp;\n        result = func.apply(thisArg, args);\n      }\n      else if (!maxTimeoutId) {\n        maxTimeoutId = setTimeout(maxDelayed, remaining);\n      }\n    }\n    if (isCalled && timeoutId) {\n      timeoutId = clearTimeout(timeoutId);\n    }\n    else if (!timeoutId && wait !== maxWait) {\n      timeoutId = setTimeout(delayed, wait);\n    }\n    if (leadingCall) {\n      isCalled = true;\n      result = func.apply(thisArg, args);\n    }\n    if (isCalled && !timeoutId && !maxTimeoutId) {\n      args = thisArg = undefined;\n    }\n    return result;\n  }\n  debounced.cancel = cancel;\n  debounced.flush = flush;\n  return debounced;\n}\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 8 which returns 'object' for typed array constructors, and\n  // PhantomJS 1.9 which returns 'function' for `NodeList` instances.\n  var tag = isObject(value) ? objectToString.call(value) : '';\n  return tag == funcTag || tag == genTag;\n}\n\n/**\n * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return !!value && (type == 'object' || type == 'function');\n}\n\n/**\n * Converts `value` to a number.\n *\n * @static\n * @memberOf _\n * @category Lang\n * @param {*} value The value to process.\n * @returns {number} Returns the number.\n * @example\n *\n * _.toNumber(3);\n * // => 3\n *\n * _.toNumber(Number.MIN_VALUE);\n * // => 5e-324\n *\n * _.toNumber(Infinity);\n * // => Infinity\n *\n * _.toNumber('3');\n * // => 3\n */\nfunction toNumber(value) {\n  if (isObject(value)) {\n    var other = isFunction(value.valueOf) ? value.valueOf() : value;\n    value = isObject(other) ? (other + '') : other;\n  }\n  if (typeof value != 'string') {\n    return value === 0 ? value : +value;\n  }\n  value = value.replace(reTrim, '');\n  var isBinary = reIsBinary.test(value);\n  return (isBinary || reIsOctal.test(value))\n    ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n    : (reIsBadHex.test(value) ? NAN : +value);\n}\n\nmodule.exports = debounce;\n",
    "/**\n * lodash (Custom Build) <https://lodash.com/>\n * Build: `lodash modularize exports=\"npm\" -o ./`\n * Copyright jQuery Foundation and other contributors <https://jquery.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\nvar stringToPath = require('lodash._stringtopath');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar objectToString = objectProto.toString;\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = isKey(path, object) ? [path] : castPath(path);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value) {\n  return isArray(value) ? value : stringToPath(value);\n}\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\n/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @type {Function}\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\n/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return !!value && typeof value == 'object';\n}\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is correctly classified,\n *  else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && objectToString.call(value) == symbolTag);\n}\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is used in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n",
    "var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n",
    "var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n",
    "/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n",
    "var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n",
    "var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n",
    "/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n",
    "/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n",
    "var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n",
    "/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n",
    "var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n",
    "module.exports = {\n    lex  : require('./lib/lexer'),\n    parse: require('./lib/parser'),\n    stringify: require('./lib/stringify')\n};\n",
    "exports = module.exports = debug;\n\nfunction debug(label) {\n  return _debug.bind(null, label);\n}\n\nfunction _debug(label) {\n  var args = [].slice.call(arguments, 1);\n  args.unshift('[' + label + ']');\n  process.stderr.write(args.join(' ') + '\\n');\n}",
    "var DEBUG = false; // `true` to print debugging info.\nvar TIMER = false; // `true` to time calls to `lex()` and print the results.\n\nvar debug = require('./debug')('lex');\n\nexports = module.exports = lex;\n\n/**\n * Convert a CSS string into an array of lexical tokens.\n *\n * @param {String} css CSS\n * @returns {Array} lexical tokens\n */\nfunction lex(css) {\n  var start; // Debug timer start.\n\n  var buffer = '';      // Character accumulator\n  var ch;               // Current character\n  var column = 0;       // Current source column number\n  var cursor = -1;      // Current source cursor position\n  var depth = 0;        // Current nesting depth\n  var line = 1;         // Current source line number\n  var state = 'before-selector'; // Current state\n  var stack = [state];  // State stack\n  var token = {};       // Current token\n  var tokens = [];      // Token accumulator\n\n  // Supported @-rules, in roughly descending order of usage probability.\n  var atRules = [\n    'media',\n    'keyframes',\n    { name: '-webkit-keyframes', type: 'keyframes', prefix: '-webkit-' },\n    { name: '-moz-keyframes', type: 'keyframes', prefix: '-moz-' },\n    { name: '-ms-keyframes', type: 'keyframes', prefix: '-ms-' },\n    { name: '-o-keyframes', type: 'keyframes', prefix: '-o-' },\n    'font-face',\n    { name: 'import', state: 'before-at-value' },\n    { name: 'charset', state: 'before-at-value' },\n    'supports',\n    'viewport',\n    { name: 'namespace', state: 'before-at-value' },\n    'document',\n    { name: '-moz-document', type: 'document', prefix: '-moz-' },\n    'page'\n  ];\n\n  // -- Functions ------------------------------------------------------------\n\n  /**\n   * Advance the character cursor and return the next character.\n   *\n   * @returns {String} The next character.\n   */\n  function getCh() {\n    skip();\n    return css[cursor];\n  }\n\n  /**\n   * Return the state at the given index in the stack.\n   * The stack is LIFO so indexing is from the right.\n   *\n   * @param {Number} [index=0] Index to return.\n   * @returns {String} state\n   */\n  function getState(index) {\n    return index ? stack[stack.length - 1 - index] : state;\n  }\n\n  /**\n   * Look ahead for a string beginning from the next position. The string\n   * being looked for must start at the next position.\n   *\n   * @param {String} str The string to look for.\n   * @returns {Boolean} Whether the string was found.\n   */\n  function isNextString(str) {\n    var start = cursor + 1;\n    return (str === css.slice(start, start + str.length));\n  }\n\n  /**\n   * Find the start position of a substring beginning from the next\n   * position. The string being looked for may begin anywhere.\n   *\n   * @param {String} str The substring to look for.\n   * @returns {Number|false} The position, or `false` if not found.\n   */\n  function find(str) {\n    var pos = css.slice(cursor).indexOf(str);\n\n    return pos > 0 ? pos : false;\n  }\n\n  /**\n   * Determine whether a character is next.\n   *\n   * @param {String} ch Character.\n   * @returns {Boolean} Whether the character is next.\n   */\n  function isNextChar(ch) {\n    return ch === peek(1);\n  }\n\n  /**\n   * Return the character at the given cursor offset. The offset is relative\n   * to the cursor, so negative values move backwards.\n   *\n   * @param {Number} [offset=1] Cursor offset.\n   * @returns {String} Character.\n   */\n  function peek(offset) {\n    return css[cursor + (offset || 1)];\n  }\n\n  /**\n   * Remove the current state from the stack and set the new current state.\n   *\n   * @returns {String} The removed state.\n   */\n  function popState() {\n    var removed = stack.pop();\n    state = stack[stack.length - 1];\n\n    return removed;\n  }\n\n  /**\n   * Set the current state and add it to the stack.\n   *\n   * @param {String} newState The new state.\n   * @returns {Number} The new stack length.\n   */\n  function pushState(newState) {\n    state = newState;\n    stack.push(state);\n\n    return stack.length;\n  }\n\n  /**\n   * Replace the current state with a new state.\n   *\n   * @param {String} newState The new state.\n   * @returns {String} The replaced state.\n   */\n  function replaceState(newState) {\n    var previousState = state;\n    stack[stack.length - 1] = state = newState;\n\n    return previousState;\n  }\n\n  /**\n   * Move the character cursor. Positive numbers move the cursor forward.\n   * Negative numbers are not supported!\n   *\n   * @param {Number} [n=1] Number of characters to skip.\n   */\n  function skip(n) {\n    if ((n || 1) == 1) {\n      if (css[cursor] == '\\n') {\n        line++;\n        column = 1;\n      } else {\n        column++;\n      }\n      cursor++;\n    } else {\n      var skipStr = css.slice(cursor, cursor + n).split('\\n');\n      if (skipStr.length > 1) {\n        line += skipStr.length - 1;\n        column = 1;\n      }\n      column += skipStr[skipStr.length - 1].length;\n      cursor = cursor + n;\n    }\n  }\n\n  /**\n   * Add the current token to the pile and reset the buffer.\n   */\n  function addToken() {\n    token.end = {\n      line: line,\n      col: column\n    };\n\n    DEBUG && debug('addToken:', JSON.stringify(token, null, 2));\n\n    tokens.push(token);\n\n    buffer = '';\n    token = {};\n  }\n\n  /**\n   * Set the current token.\n   *\n   * @param {String} type Token type.\n   */\n  function initializeToken(type) {\n    token = {\n      type: type,\n      start: {\n        line: line,\n        col : column\n      }\n    };\n  }\n\n  // -- Main Loop ------------------------------------------------------------\n\n  /*\n  The main loop is a state machine that reads in one character at a time,\n  and determines what to do based on the current state and character.\n  This is implemented as a series of nested `switch` statements and the\n  case orders have been mildly optimized based on rough probabilities\n  calculated by processing a small sample of real-world CSS.\n\n  Further optimization (such as a dispatch table) shouldn't be necessary\n  since the total number of cases is very low.\n  */\n\n  TIMER && (start = Date.now());\n\n  while (ch = getCh()) {\n    DEBUG && debug(ch, getState());\n\n    // column += 1;\n\n    switch (ch) {\n    // Space\n    case ' ':\n      switch (getState()) {\n      case 'selector':\n      case 'value':\n      case 'value-paren':\n      case 'at-group':\n      case 'at-value':\n      case 'comment':\n      case 'double-string':\n      case 'single-string':\n        buffer += ch;\n        break;\n      }\n      break;\n\n    // Newline or tab\n    case '\\n':\n    case '\\t':\n    case '\\r':\n    case '\\f':\n      switch (getState()) {\n      case 'value':\n      case 'value-paren':\n      case 'at-group':\n      case 'comment':\n      case 'single-string':\n      case 'double-string':\n      case 'selector':\n        buffer += ch;\n        break;\n\n      case 'at-value':\n        // Tokenize an @-rule if a semi-colon was omitted.\n        if ('\\n' === ch) {\n          token.value = buffer.trim();\n          addToken();\n          popState();\n        }\n        break;\n      }\n\n      // if ('\\n' === ch) {\n      //   column = 0;\n      //   line += 1;\n      // }\n      break;\n\n    case ':':\n      switch (getState()) {\n      case 'name':\n        token.name = buffer.trim();\n        buffer = '';\n\n        replaceState('before-value');\n        break;\n\n      case 'before-selector':\n        buffer += ch;\n\n        initializeToken('selector');\n        pushState('selector');\n        break;\n\n      case 'before-value':\n        replaceState('value');\n        buffer += ch;\n        break;\n\n      default:\n        buffer += ch;\n        break;\n      }\n      break;\n\n    case ';':\n      switch (getState()) {\n      case 'name':\n      case 'before-value':\n      case 'value':\n        // Tokenize a declaration\n        // if value is empty skip the declaration\n        if (buffer.trim().length > 0) {\n          token.value = buffer.trim(),\n          addToken();\n        }\n        replaceState('before-name');\n        break;\n\n      case 'value-paren':\n        // Insignificant semi-colon\n        buffer += ch;\n        break;\n\n      case 'at-value':\n        // Tokenize an @-rule\n        token.value = buffer.trim();\n        addToken();\n        popState();\n        break;\n\n      case 'before-name':\n        // Extraneous semi-colon\n        break;\n\n      default:\n        buffer += ch;\n        break;\n      }\n      break;\n\n    case '{':\n      switch (getState()) {\n      case 'selector':\n        // If the sequence is `\\{` then assume that the brace should be escaped.\n        if (peek(-1) === '\\\\') {\n            buffer += ch;\n            break;\n        }\n\n        // Tokenize a selector\n        token.text = buffer.trim();\n        addToken();\n        replaceState('before-name');\n        depth = depth + 1;\n        break;\n\n      case 'at-group':\n        // Tokenize an @-group\n        token.name = buffer.trim();\n\n        // XXX: @-rules are starting to get hairy\n        switch (token.type) {\n        case 'font-face':\n        case 'viewport' :\n        case 'page'     :\n          pushState('before-name');\n          break;\n\n        default:\n          pushState('before-selector');\n        }\n\n        addToken();\n        depth = depth + 1;\n        break;\n\n      case 'name':\n      case 'at-rule':\n        // Tokenize a declaration or an @-rule\n        token.name = buffer.trim();\n        addToken();\n        pushState('before-name');\n        depth = depth + 1;\n        break;\n\n      case 'comment':\n      case 'double-string':\n      case 'single-string':\n        // Ignore braces in comments and strings\n        buffer += ch;\n        break;\n      case 'before-value':\n        replaceState('value');\n        buffer += ch;\n        break;\n      }\n\n      break;\n\n    case '}':\n      switch (getState()) {\n      case 'before-name':\n      case 'name':\n      case 'before-value':\n      case 'value':\n        // If the buffer contains anything, it is a value\n        if (buffer) {\n          token.value = buffer.trim();\n        }\n\n        // If the current token has a name and a value it should be tokenized.\n        if (token.name && token.value) {\n          addToken();\n        }\n\n        // Leave the block\n        initializeToken('end');\n        addToken();\n        popState();\n\n        // We might need to leave again.\n        // XXX: What about 3 levels deep?\n        if ('at-group' === getState()) {\n          initializeToken('at-group-end');\n          addToken();\n          popState();\n        }\n        \n        if (depth > 0) {\n          depth = depth - 1;\n        }\n\n        break;\n\n      case 'at-group':\n      case 'before-selector':\n      case 'selector':\n        // If the sequence is `\\}` then assume that the brace should be escaped.\n        if (peek(-1) === '\\\\') {\n            buffer += ch;\n            break;\n        }\n\n        if (depth > 0) {\n          // Leave block if in an at-group\n          if ('at-group' === getState(1)) {\n            initializeToken('at-group-end');\n            addToken();\n          }\n        }\n\n        if (depth > 1) {\n          popState();\n        }\n\n        if (depth > 0) {\n          depth = depth - 1;\n        }\n        break;\n\n      case 'double-string':\n      case 'single-string':\n      case 'comment':\n        // Ignore braces in comments and strings.\n        buffer += ch;\n        break;\n      }\n\n      break;\n\n    // Strings\n    case '\"':\n    case \"'\":\n      switch (getState()) {\n      case 'double-string':\n        if ('\"' === ch && '\\\\' !== peek(-1)) {\n          popState();\n        }\n        break;\n\n      case 'single-string':\n        if (\"'\" === ch && '\\\\' !== peek(-1)) {\n          popState();\n        }\n        break;\n\n      case 'before-at-value':\n        replaceState('at-value');\n        pushState('\"' === ch ? 'double-string' : 'single-string');\n        break;\n\n      case 'before-value':\n        replaceState('value');\n        pushState('\"' === ch ? 'double-string' : 'single-string');\n        break;\n\n      case 'comment':\n        // Ignore strings within comments.\n        break;\n\n      default:\n        if ('\\\\' !== peek(-1)) {\n          pushState('\"' === ch ? 'double-string' : 'single-string');\n        }\n      }\n\n      buffer += ch;\n      break;\n\n    // Comments\n    case '/':\n      switch (getState()) {\n      case 'comment':\n      case 'double-string':\n      case 'single-string':\n        // Ignore\n        buffer += ch;\n        break;\n\n      case 'before-value':\n      case 'selector':\n      case 'name':\n      case 'value':\n        if (isNextChar('*')) {\n          // Ignore comments in selectors, properties and values. They are\n          // difficult to represent in the AST.\n          var pos = find('*/');\n\n          if (pos) {\n            skip(pos + 1);\n          }\n        } else {\n          if (getState() == 'before-value') replaceState('value');\n          buffer += ch;\n        }\n        break;\n\n      default:\n        if (isNextChar('*')) {\n          // Create a comment token\n          initializeToken('comment');\n          pushState('comment');\n          skip();\n        }\n        else {\n          buffer += ch;\n        }\n        break;\n      }\n      break;\n\n    // Comment end or universal selector\n    case '*':\n      switch (getState()) {\n      case 'comment':\n        if (isNextChar('/')) {\n          // Tokenize a comment\n          token.text = buffer; // Don't trim()!\n          skip();\n          addToken();\n          popState();\n        }\n        else {\n          buffer += ch;\n        }\n        break;\n\n      case 'before-selector':\n        buffer += ch;\n        initializeToken('selector');\n        pushState('selector');\n        break;\n\n      case 'before-value':\n        replaceState('value');\n        buffer += ch;\n        break;\n\n      default:\n        buffer += ch;\n      }\n      break;\n\n    // @-rules\n    case '@':\n      switch (getState()) {\n      case 'comment':\n      case 'double-string':\n      case 'single-string':\n        buffer += ch;\n        break;\n      case 'before-value':\n        replaceState('value');\n        buffer += ch;\n        break;\n\n      default:\n        // Iterate over the supported @-rules and attempt to tokenize one.\n        var tokenized = false;\n        var name;\n        var rule;\n\n        for (var j = 0, len = atRules.length; !tokenized && j < len; ++j) {\n          rule = atRules[j];\n          name = rule.name || rule;\n\n          if (!isNextString(name)) { continue; }\n\n          tokenized = true;\n\n          initializeToken(name);\n          pushState(rule.state || 'at-group');\n          skip(name.length);\n\n          if (rule.prefix) {\n            token.prefix = rule.prefix;\n          }\n\n          if (rule.type) {\n            token.type = rule.type;\n          }\n        }\n\n        if (!tokenized) {\n          // Keep on truckin' America!\n          buffer += ch;\n        }\n        break;\n      }\n      break;\n\n    // Parentheses are tracked to disambiguate semi-colons, such as within a\n    // data URI.\n    case '(':\n      switch (getState()) {\n      case 'value':\n        pushState('value-paren');\n        break;\n      case 'before-value':\n        replaceState('value');\n        break;\n      }\n\n      buffer += ch;\n      break;\n\n    case ')':\n      switch (getState()) {\n      case 'value-paren':\n        popState();\n        break;\n      case 'before-value':\n        replaceState('value');\n        break;\n      }\n\n      buffer += ch;\n      break;\n\n    default:\n      switch (getState()) {\n      case 'before-selector':\n        initializeToken('selector');\n        pushState('selector');\n        break;\n\n      case 'before-name':\n        initializeToken('property');\n        replaceState('name');\n        break;\n\n      case 'before-value':\n        replaceState('value');\n        break;\n\n      case 'before-at-value':\n        replaceState('at-value');\n        break;\n      }\n\n      buffer += ch;\n      break;\n    }\n  }\n\n  TIMER && debug('ran in', (Date.now() - start) + 'ms');\n\n  return tokens;\n}\n",
    "var DEBUG = false; // `true` to print debugging info.\nvar TIMER = false; // `true` to time calls to `parse()` and print the results.\n\nvar debug = require('./debug')('parse');\nvar lex = require('./lexer');\n\nexports = module.exports = parse;\n\nvar _comments;   // Whether comments are allowed.\nvar _depth;      // Current block nesting depth.\nvar _position;   // Whether to include line/column position.\nvar _tokens;     // Array of lexical tokens.\n\n/**\n * Convert a CSS string or array of lexical tokens into a `stringify`-able AST.\n *\n * @param {String} css CSS string or array of lexical token\n * @param {Object} [options]\n * @param {Boolean} [options.comments=false] allow comment nodes in the AST\n * @returns {Object} `stringify`-able AST\n */\nfunction parse(css, options) {\n  var start; // Debug timer start.\n\n  options || (options = {});\n  _comments = !!options.comments;\n  _position = !!options.position;\n\n  _depth = 0;\n\n  // Operate on a copy of the given tokens, or the lex()'d CSS string.\n  _tokens = Array.isArray(css) ? css.slice() : lex(css);\n\n  var rule;\n  var rules = [];\n  var token;\n\n  TIMER && (start = Date.now());\n\n  while ((token = next())) {\n    rule = parseToken(token);\n    rule && rules.push(rule);\n  }\n\n  TIMER && debug('ran in', (Date.now() - start) + 'ms');\n\n  return {\n    type: \"stylesheet\",\n    stylesheet: {\n      rules: rules\n    }\n  };\n}\n\n// -- Functions --------------------------------------------------------------\n\n/**\n * Build an AST node from a lexical token.\n *\n * @param {Object} token lexical token\n * @param {Object} [override] object hash of properties that override those\n *   already in the token, or that will be added to the token.\n * @returns {Object} AST node\n */\nfunction astNode(token, override) {\n  override || (override = {});\n\n  var key;\n  var keys = ['type', 'name', 'value'];\n  var node = {};\n\n  // Avoiding [].forEach for performance reasons.\n  for (var i = 0; i < keys.length; ++i) {\n    key = keys[i];\n\n    if (token[key]) {\n      node[key] = override[key] || token[key];\n    }\n  }\n\n  keys = Object.keys(override);\n\n  for (i = 0; i < keys.length; ++i) {\n    key = keys[i];\n\n    if (!node[key]) {\n      node[key] = override[key];\n    }\n  }\n\n  if (_position) {\n    node.position = {\n      start: token.start,\n      end: token.end\n    };\n  }\n\n  DEBUG && debug('astNode:', JSON.stringify(node, null, 2));\n\n  return node;\n}\n\n/**\n * Remove a lexical token from the stack and return the removed token.\n *\n * @returns {Object} lexical token\n */\nfunction next() {\n  var token = _tokens.shift();\n  DEBUG && debug('next:', JSON.stringify(token, null, 2));\n  return token;\n}\n\n// -- Parse* Functions ---------------------------------------------------------\n\n/**\n * Convert an @-group lexical token to an AST node.\n *\n * @param {Object} token @-group lexical token\n * @returns {Object} @-group AST node\n */\nfunction parseAtGroup(token) {\n  _depth = _depth + 1;\n\n  // As the @-group token is assembled, relevant token values are captured here\n  // temporarily. They will later be used as `tokenize()` overrides.\n  var overrides = {};\n\n  switch (token.type) {\n  case 'font-face':\n  case 'viewport' :\n    overrides.declarations = parseDeclarations();\n    break;\n\n  case 'page':\n    overrides.prefix = token.prefix;\n    overrides.declarations = parseDeclarations();\n    break;\n\n  default:\n    overrides.prefix = token.prefix;\n    overrides.rules = parseRules();\n  }\n\n  return astNode(token, overrides);\n}\n\n/**\n * Convert an @import lexical token to an AST node.\n *\n * @param {Object} token @import lexical token\n * @returns {Object} @import AST node\n */\nfunction parseAtImport(token) {\n  return astNode(token);\n}\n\n/**\n * Convert an @charset token to an AST node.\n *\n * @param {Object} token @charset lexical token\n * @returns {Object} @charset node\n */\nfunction parseCharset(token) {\n  return astNode(token);\n}\n\n/**\n * Convert a comment token to an AST Node.\n *\n * @param {Object} token comment lexical token\n * @returns {Object} comment node\n */\nfunction parseComment(token) {\n  return astNode(token, {text: token.text});\n}\n\nfunction parseNamespace(token) {\n  return astNode(token);\n}\n\n/**\n * Convert a property lexical token to a property AST node.\n *\n * @returns {Object} property node\n */\nfunction parseProperty(token) {\n  return astNode(token);\n}\n\n/**\n * Convert a selector lexical token to a selector AST node.\n *\n * @param {Object} token selector lexical token\n * @returns {Object} selector node\n */\nfunction parseSelector(token) {\n  function trim(str) {\n    return str.trim();\n  }\n\n  return astNode(token, {\n    type: 'rule',\n    selectors: token.text.split(',').map(trim),\n    declarations: parseDeclarations(token)\n  });\n}\n\n/**\n * Convert a lexical token to an AST node.\n *\n * @returns {Object|undefined} AST node\n */\nfunction parseToken(token) {\n  switch (token.type) {\n  // Cases are listed in roughly descending order of probability.\n  case 'property': return parseProperty(token);\n\n  case 'selector': return parseSelector(token);\n\n  case 'at-group-end': _depth = _depth - 1; return;\n\n  case 'media'     :\n  case 'keyframes' :return parseAtGroup(token);\n\n  case 'comment': if (_comments) { return parseComment(token); } break;\n\n  case 'charset': return parseCharset(token);\n  case 'import': return parseAtImport(token);\n\n  case 'namespace': return parseNamespace(token);\n\n  case 'font-face':\n  case 'supports' :\n  case 'viewport' :\n  case 'document' :\n  case 'page'     : return parseAtGroup(token);\n  }\n\n  DEBUG && debug('parseToken: unexpected token:', JSON.stringify(token));\n}\n\n// -- Parse Helper Functions ---------------------------------------------------\n\n/**\n * Iteratively parses lexical tokens from the stack into AST nodes until a\n * conditional function returns `false`, at which point iteration terminates\n * and any AST nodes collected are returned.\n *\n * @param {Function} conditionFn\n *   @param {Object} token the lexical token being parsed\n *   @returns {Boolean} `true` if the token should be parsed, `false` otherwise\n * @return {Array} AST nodes\n */\nfunction parseTokensWhile(conditionFn) {\n  var node;\n  var nodes = [];\n  var token;\n\n  while ((token = next()) && (conditionFn && conditionFn(token))) {\n    node = parseToken(token);\n    node && nodes.push(node);\n  }\n\n  // Place an unused non-`end` lexical token back onto the stack.\n  if (token && token.type !== 'end') {\n    _tokens.unshift(token);\n  }\n\n  return nodes;\n}\n\n/**\n * Convert a series of tokens into a sequence of declaration AST nodes.\n *\n * @returns {Array} declaration nodes\n */\nfunction parseDeclarations() {\n  return parseTokensWhile(function (token) {\n    return (token.type === 'property' || token.type === 'comment');\n  });\n}\n\n/**\n * Convert a series of tokens into a sequence of rule nodes.\n *\n * @returns {Array} rule nodes\n */\nfunction parseRules() {\n  return parseTokensWhile(function () { return _depth; });\n}\n",
    "var DEBUG = false; // `true` to print debugging info.\nvar TIMER = false; // `true` to time calls to `stringify()` and print the results.\n\nvar debug = require('./debug')('stringify');\n\nvar _comments;      // Whether comments are allowed in the stringified CSS.\nvar _compress;      // Whether the stringified CSS should be compressed.\nvar _indentation;   // Indentation option value.\nvar _level;         // Current indentation level.\nvar _n;             // Compression-aware newline character.\nvar _s;             // Compression-aware space character.\n\nexports = module.exports = stringify;\n\n/**\n * Convert a `stringify`-able AST into a CSS string.\n *\n * @param {Object} `stringify`-able AST\n * @param {Object} [options]\n * @param {Boolean} [options.comments=false] allow comments in the CSS\n * @param {Boolean} [options.compress=false] compress whitespace\n * @param {String} [options.indentation=''] indentation sequence\n * @returns {String} CSS\n */\nfunction stringify(ast, options) {\n  var start; // Debug timer start.\n\n  options || (options = {});\n  _indentation = options.indentation || '';\n  _compress = !!options.compress;\n  _comments = !!options.comments;\n  _level = 1;\n\n  if (_compress) {\n    _n = _s = '';\n  } else {\n    _n = '\\n';\n    _s = ' ';\n  }\n\n  TIMER && (start = Date.now());\n\n  var css = reduce(ast.stylesheet.rules, stringifyNode).join('\\n').trim();\n\n  TIMER && debug('ran in', (Date.now() - start) + 'ms');\n\n  return css;\n}\n\n// -- Functions --------------------------------------------------------------\n\n/**\n * Modify the indentation level, or return a compression-aware sequence of\n * spaces equal to the current indentation level.\n *\n * @param {Number} [level=undefined] indentation level modifier\n * @returns {String} sequence of spaces\n */\nfunction indent(level) {\n  if (level) {\n    _level += level;\n    return;\n  }\n\n  if (_compress) { return ''; }\n\n  return Array(_level).join(_indentation || '');\n}\n\n// -- Stringify Functions ------------------------------------------------------\n\n/**\n * Stringify an @-rule AST node.\n *\n * Use `stringifyAtGroup()` when dealing with @-groups that may contain blocks\n * such as @media.\n *\n * @param {String} type @-rule type. E.g., import, charset\n * @returns {String} Stringified @-rule\n */\nfunction stringifyAtRule(node) {\n  return '@' + node.type + ' ' + node.value + ';' + _n;\n}\n\n/**\n * Stringify an @-group AST node.\n *\n * Use `stringifyAtRule()` when dealing with @-rules that may not contain blocks\n * such as @import.\n *\n * @param {Object} node @-group AST node\n * @returns {String}\n */\nfunction stringifyAtGroup(node) {\n  var label = '';\n  var prefix = node.prefix || '';\n\n  if (node.name) {\n    label = ' ' + node.name;\n  }\n\n  // FIXME: @-rule conditional logic is leaking everywhere.\n  var chomp = node.type !== 'page';\n\n  return '@' + prefix + node.type + label + _s + stringifyBlock(node, chomp) + _n;\n}\n\n/**\n * Stringify a comment AST node.\n *\n * @param {Object} node comment AST node\n * @returns {String}\n */\nfunction stringifyComment(node) {\n  if (!_comments) { return ''; }\n\n  return '/*' + (node.text || '') + '*/' + _n;\n}\n\n/**\n * Stringify a rule AST node.\n *\n * @param {Object} node rule AST node\n * @returns {String}\n */\nfunction stringifyRule(node) {\n  var label;\n\n  if (node.selectors) {\n    label = node.selectors.join(',' + _n);\n  } else {\n    label = '@' + node.type;\n    label += node.name ? ' ' + node.name : '';\n  }\n\n  return indent() + label + _s + stringifyBlock(node) + _n;\n}\n\n\n// -- Stringify Helper Functions -----------------------------------------------\n\n/**\n * Reduce an array by applying a function to each item and retaining the truthy\n * results.\n *\n * When `item.type` is `'comment'` `stringifyComment` will be applied instead.\n *\n * @param {Array} items array to reduce\n * @param {Function} fn function to call for each item in the array\n *   @returns {Mixed} Truthy values will be retained, falsy values omitted\n * @returns {Array} retained results\n */\nfunction reduce(items, fn) {\n  return items.reduce(function (results, item) {\n    var result = (item.type === 'comment') ? stringifyComment(item) : fn(item);\n    result && results.push(result);\n    return results;\n  }, []);\n}\n\n/**\n * Stringify an AST node with the assumption that it represents a block of\n * declarations or other @-group contents.\n *\n * @param {Object} node AST node\n * @returns {String}\n */\n// FIXME: chomp should not be a magic boolean parameter\nfunction stringifyBlock(node, chomp) {\n  var children = node.declarations;\n  var fn = stringifyDeclaration;\n\n  if (node.rules) {\n    children = node.rules;\n    fn = stringifyRule;\n  }\n\n  children = stringifyChildren(children, fn);\n  children && (children = _n + children + (chomp ? '' : _n));\n\n  return '{' + children + indent() + '}';\n}\n\n/**\n * Stringify an array of child AST nodes by calling the given stringify function\n * once for each child, and concatenating the results.\n *\n * @param {Array} children `node.rules` or `node.declarations`\n * @param {Function} fn stringify function\n * @returns {String}\n */\nfunction stringifyChildren(children, fn) {\n  if (!children) { return ''; }\n\n  indent(1);\n  var results = reduce(children, fn);\n  indent(-1);\n\n  if (!results.length) { return ''; }\n\n  return results.join(_n);\n}\n\n/**\n * Stringify a declaration AST node.\n *\n * @param {Object} node declaration AST node\n * @returns {String}\n */\nfunction stringifyDeclaration(node) {\n  if (node.type === 'property') {\n    return stringifyProperty(node);\n  }\n\n  DEBUG && debug('stringifyDeclaration: unexpected node:', JSON.stringify(node));\n}\n\n/**\n * Stringify an AST node.\n *\n * @param {Object} node AST node\n * @returns {String}\n */\nfunction stringifyNode(node) {\n  switch (node.type) {\n  // Cases are listed in roughly descending order of probability.\n  case 'rule': return stringifyRule(node);\n\n  case 'media'    :\n  case 'keyframes': return stringifyAtGroup(node);\n\n  case 'comment': return stringifyComment(node);\n\n  case 'import'   :\n  case 'charset'  :\n  case 'namespace': return stringifyAtRule(node);\n\n  case 'font-face':\n  case 'supports' :\n  case 'viewport' :\n  case 'document' :\n  case 'page'     : return stringifyAtGroup(node);\n  }\n\n  DEBUG && debug('stringifyNode: unexpected node: ' + JSON.stringify(node));\n}\n\n/**\n * Stringify an AST property node.\n *\n * @param {Object} node AST property node\n * @returns {String}\n */\nfunction stringifyProperty(node) {\n  var name = node.name ? node.name + ':' + _s : '';\n\n  return indent() + name + node.value + ';';\n}\n",
    "//     uuid.js\n//\n//     Copyright (c) 2010-2012 Robert Kieffer\n//     MIT License - http://opensource.org/licenses/mit-license.php\n\n(function() {\n  var _global = this;\n\n  // Unique ID creation requires a high quality random # generator.  We feature\n  // detect to determine the best RNG source, normalizing to a function that\n  // returns 128-bits of randomness, since that's what's usually required\n  var _rng;\n\n  // Node.js crypto-based RNG - http://nodejs.org/docs/v0.6.2/api/crypto.html\n  //\n  // Moderately fast, high quality\n  if (typeof(_global.require) == 'function') {\n    try {\n      var _rb = _global.require('crypto').randomBytes;\n      _rng = _rb && function() {return _rb(16);};\n    } catch(e) {}\n  }\n\n  if (!_rng && _global.crypto && crypto.getRandomValues) {\n    // WHATWG crypto-based RNG - http://wiki.whatwg.org/wiki/Crypto\n    //\n    // Moderately fast, high quality\n    var _rnds8 = new Uint8Array(16);\n    _rng = function whatwgRNG() {\n      crypto.getRandomValues(_rnds8);\n      return _rnds8;\n    };\n  }\n\n  if (!_rng) {\n    // Math.random()-based (RNG)\n    //\n    // If all else fails, use Math.random().  It's fast, but is of unspecified\n    // quality.\n    var  _rnds = new Array(16);\n    _rng = function() {\n      for (var i = 0, r; i < 16; i++) {\n        if ((i & 0x03) === 0) r = Math.random() * 0x100000000;\n        _rnds[i] = r >>> ((i & 0x03) << 3) & 0xff;\n      }\n\n      return _rnds;\n    };\n  }\n\n  // Buffer class to use\n  var BufferClass = typeof(_global.Buffer) == 'function' ? _global.Buffer : Array;\n\n  // Maps for number <-> hex string conversion\n  var _byteToHex = [];\n  var _hexToByte = {};\n  for (var i = 0; i < 256; i++) {\n    _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n    _hexToByte[_byteToHex[i]] = i;\n  }\n\n  // **`parse()` - Parse a UUID into it's component bytes**\n  function parse(s, buf, offset) {\n    var i = (buf && offset) || 0, ii = 0;\n\n    buf = buf || [];\n    s.toLowerCase().replace(/[0-9a-f]{2}/g, function(oct) {\n      if (ii < 16) { // Don't overflow!\n        buf[i + ii++] = _hexToByte[oct];\n      }\n    });\n\n    // Zero out remaining bytes if string was short\n    while (ii < 16) {\n      buf[i + ii++] = 0;\n    }\n\n    return buf;\n  }\n\n  // **`unparse()` - Convert UUID byte array (ala parse()) into a string**\n  function unparse(buf, offset) {\n    var i = offset || 0, bth = _byteToHex;\n    return  bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] + '-' +\n            bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]] +\n            bth[buf[i++]] + bth[buf[i++]];\n  }\n\n  // **`v1()` - Generate time-based UUID**\n  //\n  // Inspired by https://github.com/LiosK/UUID.js\n  // and http://docs.python.org/library/uuid.html\n\n  // random #'s we need to init node and clockseq\n  var _seedBytes = _rng();\n\n  // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n  var _nodeId = [\n    _seedBytes[0] | 0x01,\n    _seedBytes[1], _seedBytes[2], _seedBytes[3], _seedBytes[4], _seedBytes[5]\n  ];\n\n  // Per 4.2.2, randomize (14 bit) clockseq\n  var _clockseq = (_seedBytes[6] << 8 | _seedBytes[7]) & 0x3fff;\n\n  // Previous uuid creation time\n  var _lastMSecs = 0, _lastNSecs = 0;\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v1(options, buf, offset) {\n    var i = buf && offset || 0;\n    var b = buf || [];\n\n    options = options || {};\n\n    var clockseq = options.clockseq != null ? options.clockseq : _clockseq;\n\n    // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n    // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n    // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n    // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n    var msecs = options.msecs != null ? options.msecs : new Date().getTime();\n\n    // Per 4.2.1.2, use count of uuid's generated during the current clock\n    // cycle to simulate higher resolution clock\n    var nsecs = options.nsecs != null ? options.nsecs : _lastNSecs + 1;\n\n    // Time since last uuid creation (in msecs)\n    var dt = (msecs - _lastMSecs) + (nsecs - _lastNSecs)/10000;\n\n    // Per 4.2.1.2, Bump clockseq on clock regression\n    if (dt < 0 && options.clockseq == null) {\n      clockseq = clockseq + 1 & 0x3fff;\n    }\n\n    // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n    // time interval\n    if ((dt < 0 || msecs > _lastMSecs) && options.nsecs == null) {\n      nsecs = 0;\n    }\n\n    // Per 4.2.1.2 Throw error if too many uuids are requested\n    if (nsecs >= 10000) {\n      throw new Error('uuid.v1(): Can\\'t create more than 10M uuids/sec');\n    }\n\n    _lastMSecs = msecs;\n    _lastNSecs = nsecs;\n    _clockseq = clockseq;\n\n    // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n    msecs += 12219292800000;\n\n    // `time_low`\n    var tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n    b[i++] = tl >>> 24 & 0xff;\n    b[i++] = tl >>> 16 & 0xff;\n    b[i++] = tl >>> 8 & 0xff;\n    b[i++] = tl & 0xff;\n\n    // `time_mid`\n    var tmh = (msecs / 0x100000000 * 10000) & 0xfffffff;\n    b[i++] = tmh >>> 8 & 0xff;\n    b[i++] = tmh & 0xff;\n\n    // `time_high_and_version`\n    b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n    b[i++] = tmh >>> 16 & 0xff;\n\n    // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n    b[i++] = clockseq >>> 8 | 0x80;\n\n    // `clock_seq_low`\n    b[i++] = clockseq & 0xff;\n\n    // `node`\n    var node = options.node || _nodeId;\n    for (var n = 0; n < 6; n++) {\n      b[i + n] = node[n];\n    }\n\n    return buf ? buf : unparse(b);\n  }\n\n  // **`v4()` - Generate random UUID**\n\n  // See https://github.com/broofa/node-uuid for API details\n  function v4(options, buf, offset) {\n    // Deprecated - 'format' argument, as supported in v1.2\n    var i = buf && offset || 0;\n\n    if (typeof(options) == 'string') {\n      buf = options == 'binary' ? new BufferClass(16) : null;\n      options = null;\n    }\n    options = options || {};\n\n    var rnds = options.random || (options.rng || _rng)();\n\n    // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n\n    // Copy bytes to buffer, if provided\n    if (buf) {\n      for (var ii = 0; ii < 16; ii++) {\n        buf[i + ii] = rnds[ii];\n      }\n    }\n\n    return buf || unparse(rnds);\n  }\n\n  // Export public API\n  var uuid = v4;\n  uuid.v1 = v1;\n  uuid.v4 = v4;\n  uuid.parse = parse;\n  uuid.unparse = unparse;\n  uuid.BufferClass = BufferClass;\n\n  if (typeof(module) != 'undefined' && module.exports) {\n    // Publish as node.js module\n    module.exports = uuid;\n  } else  if (typeof define === 'function' && define.amd) {\n    // Publish as AMD module\n    define(function() {return uuid;});\n \n\n  } else {\n    // Publish as global (in browsers)\n    var _previousRoot = _global.uuid;\n\n    // **`noConflict()` - (browser only) to reset global 'uuid' var**\n    uuid.noConflict = function() {\n      _global.uuid = _previousRoot;\n      return uuid;\n    };\n\n    _global.uuid = uuid;\n  }\n}).call(this);\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compile = void 0;\nvar boolbase_1 = require(\"boolbase\");\n/**\n * Returns a function that checks if an elements index matches the given rule\n * highly optimized to return the fastest solution.\n *\n * @param parsed A tuple [a, b], as returned by `parse`.\n * @returns A highly optimized function that returns whether an index matches the nth-check.\n * @example\n * const check = nthCheck.compile([2, 3]);\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n */\nfunction compile(parsed) {\n    var a = parsed[0];\n    // Subtract 1 from `b`, to convert from one- to zero-indexed.\n    var b = parsed[1] - 1;\n    /*\n     * When `b <= 0`, `a * n` won't be lead to any matches for `a < 0`.\n     * Besides, the specification states that no elements are\n     * matched when `a` and `b` are 0.\n     *\n     * `b < 0` here as we subtracted 1 from `b` above.\n     */\n    if (b < 0 && a <= 0)\n        return boolbase_1.falseFunc;\n    // When `a` is in the range -1..1, it matches any element (so only `b` is checked).\n    if (a === -1)\n        return function (index) { return index <= b; };\n    if (a === 0)\n        return function (index) { return index === b; };\n    // When `b <= 0` and `a === 1`, they match any element.\n    if (a === 1)\n        return b < 0 ? boolbase_1.trueFunc : function (index) { return index >= b; };\n    /*\n     * Otherwise, modulo can be used to check if there is a match.\n     *\n     * Modulo doesn't care about the sign, so let's use `a`s absolute value.\n     */\n    var absA = Math.abs(a);\n    // Get `b mod a`, + a if this is negative.\n    var bMod = ((b % absA) + absA) % absA;\n    return a > 1\n        ? function (index) { return index >= b && index % absA === bMod; }\n        : function (index) { return index <= b && index % absA === bMod; };\n}\nexports.compile = compile;\n",
    "\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.compile = exports.parse = void 0;\nvar parse_1 = require(\"./parse\");\nObject.defineProperty(exports, \"parse\", { enumerable: true, get: function () { return parse_1.parse; } });\nvar compile_1 = require(\"./compile\");\nObject.defineProperty(exports, \"compile\", { enumerable: true, get: function () { return compile_1.compile; } });\n/**\n * Parses and compiles a formula to a highly optimized function.\n * Combination of `parse` and `compile`.\n *\n * If the formula doesn't match any elements,\n * it returns [`boolbase`](https://github.com/fb55/boolbase)'s `falseFunc`.\n * Otherwise, a function accepting an _index_ is returned, which returns\n * whether or not the passed _index_ matches the formula.\n *\n * Note: The nth-rule starts counting at `1`, the returned function at `0`.\n *\n * @param formula The formula to compile.\n * @example\n * const check = nthCheck(\"2n+3\");\n *\n * check(0); // `false`\n * check(1); // `false`\n * check(2); // `true`\n * check(3); // `false`\n * check(4); // `true`\n * check(5); // `false`\n * check(6); // `true`\n */\nfunction nthCheck(formula) {\n    return compile_1.compile(parse_1.parse(formula));\n}\nexports.default = nthCheck;\n",
    "\"use strict\";\n// Following http://www.w3.org/TR/css3-selectors/#nth-child-pseudo\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parse = void 0;\n// [ ['-'|'+']? INTEGER? {N} [ S* ['-'|'+'] S* INTEGER ]?\nvar RE_NTH_ELEMENT = /^([+-]?\\d*n)?\\s*(?:([+-]?)\\s*(\\d+))?$/;\n/**\n * Parses an expression.\n *\n * @throws An `Error` if parsing fails.\n * @returns An array containing the integer step size and the integer offset of the nth rule.\n * @example nthCheck.parse(\"2n+3\"); // returns [2, 3]\n */\nfunction parse(formula) {\n    formula = formula.trim().toLowerCase();\n    if (formula === \"even\") {\n        return [2, 0];\n    }\n    else if (formula === \"odd\") {\n        return [2, 1];\n    }\n    var parsed = formula.match(RE_NTH_ELEMENT);\n    if (!parsed) {\n        throw new Error(\"n-th rule couldn't be parsed ('\" + formula + \"')\");\n    }\n    var a;\n    if (parsed[1]) {\n        a = parseInt(parsed[1], 10);\n        if (isNaN(a)) {\n            a = parsed[1].startsWith(\"-\") ? -1 : 1;\n        }\n    }\n    else\n        a = 0;\n    var b = (parsed[2] === \"-\" ? -1 : 1) *\n        (parsed[3] ? parseInt(parsed[3], 10) : 0);\n    return [a, b];\n}\nexports.parse = parse;\n",
    "'use strict';\n\nconst doctype = require('parse5/lib/common/doctype');\nconst { DOCUMENT_MODE } = require('parse5/lib/common/html');\n\n//Conversion tables for DOM Level1 structure emulation\nconst nodeTypes = {\n    element: 1,\n    text: 3,\n    cdata: 4,\n    comment: 8\n};\n\nconst nodePropertyShorthands = {\n    tagName: 'name',\n    childNodes: 'children',\n    parentNode: 'parent',\n    previousSibling: 'prev',\n    nextSibling: 'next',\n    nodeValue: 'data'\n};\n\n//Node\nclass Node {\n    constructor(props) {\n        for (const key of Object.keys(props)) {\n            this[key] = props[key];\n        }\n    }\n\n    get firstChild() {\n        const children = this.children;\n\n        return (children && children[0]) || null;\n    }\n\n    get lastChild() {\n        const children = this.children;\n\n        return (children && children[children.length - 1]) || null;\n    }\n\n    get nodeType() {\n        return nodeTypes[this.type] || nodeTypes.element;\n    }\n}\n\nObject.keys(nodePropertyShorthands).forEach(key => {\n    const shorthand = nodePropertyShorthands[key];\n\n    Object.defineProperty(Node.prototype, key, {\n        get: function() {\n            return this[shorthand] || null;\n        },\n        set: function(val) {\n            this[shorthand] = val;\n            return val;\n        }\n    });\n});\n\n//Node construction\nexports.createDocument = function() {\n    return new Node({\n        type: 'root',\n        name: 'root',\n        parent: null,\n        prev: null,\n        next: null,\n        children: [],\n        'x-mode': DOCUMENT_MODE.NO_QUIRKS\n    });\n};\n\nexports.createDocumentFragment = function() {\n    return new Node({\n        type: 'root',\n        name: 'root',\n        parent: null,\n        prev: null,\n        next: null,\n        children: []\n    });\n};\n\nexports.createElement = function(tagName, namespaceURI, attrs) {\n    const attribs = Object.create(null);\n    const attribsNamespace = Object.create(null);\n    const attribsPrefix = Object.create(null);\n\n    for (let i = 0; i < attrs.length; i++) {\n        const attrName = attrs[i].name;\n\n        attribs[attrName] = attrs[i].value;\n        attribsNamespace[attrName] = attrs[i].namespace;\n        attribsPrefix[attrName] = attrs[i].prefix;\n    }\n\n    return new Node({\n        type: tagName === 'script' || tagName === 'style' ? tagName : 'tag',\n        name: tagName,\n        namespace: namespaceURI,\n        attribs: attribs,\n        'x-attribsNamespace': attribsNamespace,\n        'x-attribsPrefix': attribsPrefix,\n        children: [],\n        parent: null,\n        prev: null,\n        next: null\n    });\n};\n\nexports.createCommentNode = function(data) {\n    return new Node({\n        type: 'comment',\n        data: data,\n        parent: null,\n        prev: null,\n        next: null\n    });\n};\n\nconst createTextNode = function(value) {\n    return new Node({\n        type: 'text',\n        data: value,\n        parent: null,\n        prev: null,\n        next: null\n    });\n};\n\n//Tree mutation\nconst appendChild = (exports.appendChild = function(parentNode, newNode) {\n    const prev = parentNode.children[parentNode.children.length - 1];\n\n    if (prev) {\n        prev.next = newNode;\n        newNode.prev = prev;\n    }\n\n    parentNode.children.push(newNode);\n    newNode.parent = parentNode;\n});\n\nconst insertBefore = (exports.insertBefore = function(parentNode, newNode, referenceNode) {\n    const insertionIdx = parentNode.children.indexOf(referenceNode);\n    const prev = referenceNode.prev;\n\n    if (prev) {\n        prev.next = newNode;\n        newNode.prev = prev;\n    }\n\n    referenceNode.prev = newNode;\n    newNode.next = referenceNode;\n\n    parentNode.children.splice(insertionIdx, 0, newNode);\n    newNode.parent = parentNode;\n});\n\nexports.setTemplateContent = function(templateElement, contentElement) {\n    appendChild(templateElement, contentElement);\n};\n\nexports.getTemplateContent = function(templateElement) {\n    return templateElement.children[0];\n};\n\nexports.setDocumentType = function(document, name, publicId, systemId) {\n    const data = doctype.serializeContent(name, publicId, systemId);\n    let doctypeNode = null;\n\n    for (let i = 0; i < document.children.length; i++) {\n        if (document.children[i].type === 'directive' && document.children[i].name === '!doctype') {\n            doctypeNode = document.children[i];\n            break;\n        }\n    }\n\n    if (doctypeNode) {\n        doctypeNode.data = data;\n        doctypeNode['x-name'] = name;\n        doctypeNode['x-publicId'] = publicId;\n        doctypeNode['x-systemId'] = systemId;\n    } else {\n        appendChild(\n            document,\n            new Node({\n                type: 'directive',\n                name: '!doctype',\n                data: data,\n                'x-name': name,\n                'x-publicId': publicId,\n                'x-systemId': systemId\n            })\n        );\n    }\n};\n\nexports.setDocumentMode = function(document, mode) {\n    document['x-mode'] = mode;\n};\n\nexports.getDocumentMode = function(document) {\n    return document['x-mode'];\n};\n\nexports.detachNode = function(node) {\n    if (node.parent) {\n        const idx = node.parent.children.indexOf(node);\n        const prev = node.prev;\n        const next = node.next;\n\n        node.prev = null;\n        node.next = null;\n\n        if (prev) {\n            prev.next = next;\n        }\n\n        if (next) {\n            next.prev = prev;\n        }\n\n        node.parent.children.splice(idx, 1);\n        node.parent = null;\n    }\n};\n\nexports.insertText = function(parentNode, text) {\n    const lastChild = parentNode.children[parentNode.children.length - 1];\n\n    if (lastChild && lastChild.type === 'text') {\n        lastChild.data += text;\n    } else {\n        appendChild(parentNode, createTextNode(text));\n    }\n};\n\nexports.insertTextBefore = function(parentNode, text, referenceNode) {\n    const prevNode = parentNode.children[parentNode.children.indexOf(referenceNode) - 1];\n\n    if (prevNode && prevNode.type === 'text') {\n        prevNode.data += text;\n    } else {\n        insertBefore(parentNode, createTextNode(text), referenceNode);\n    }\n};\n\nexports.adoptAttributes = function(recipient, attrs) {\n    for (let i = 0; i < attrs.length; i++) {\n        const attrName = attrs[i].name;\n\n        if (typeof recipient.attribs[attrName] === 'undefined') {\n            recipient.attribs[attrName] = attrs[i].value;\n            recipient['x-attribsNamespace'][attrName] = attrs[i].namespace;\n            recipient['x-attribsPrefix'][attrName] = attrs[i].prefix;\n        }\n    }\n};\n\n//Tree traversing\nexports.getFirstChild = function(node) {\n    return node.children[0];\n};\n\nexports.getChildNodes = function(node) {\n    return node.children;\n};\n\nexports.getParentNode = function(node) {\n    return node.parent;\n};\n\nexports.getAttrList = function(element) {\n    const attrList = [];\n\n    for (const name in element.attribs) {\n        attrList.push({\n            name: name,\n            value: element.attribs[name],\n            namespace: element['x-attribsNamespace'][name],\n            prefix: element['x-attribsPrefix'][name]\n        });\n    }\n\n    return attrList;\n};\n\n//Node data\nexports.getTagName = function(element) {\n    return element.name;\n};\n\nexports.getNamespaceURI = function(element) {\n    return element.namespace;\n};\n\nexports.getTextNodeContent = function(textNode) {\n    return textNode.data;\n};\n\nexports.getCommentNodeContent = function(commentNode) {\n    return commentNode.data;\n};\n\nexports.getDocumentTypeNodeName = function(doctypeNode) {\n    return doctypeNode['x-name'];\n};\n\nexports.getDocumentTypeNodePublicId = function(doctypeNode) {\n    return doctypeNode['x-publicId'];\n};\n\nexports.getDocumentTypeNodeSystemId = function(doctypeNode) {\n    return doctypeNode['x-systemId'];\n};\n\n//Node types\nexports.isTextNode = function(node) {\n    return node.type === 'text';\n};\n\nexports.isCommentNode = function(node) {\n    return node.type === 'comment';\n};\n\nexports.isDocumentTypeNode = function(node) {\n    return node.type === 'directive' && node.name === '!doctype';\n};\n\nexports.isElementNode = function(node) {\n    return !!node.attribs;\n};\n\n// Source code location\nexports.setNodeSourceCodeLocation = function(node, location) {\n    node.sourceCodeLocation = location;\n};\n\nexports.getNodeSourceCodeLocation = function(node) {\n    return node.sourceCodeLocation;\n};\n\nexports.updateNodeSourceCodeLocation = function(node, endLocation) {\n    node.sourceCodeLocation = Object.assign(node.sourceCodeLocation, endLocation);\n};\n",
    "'use strict';\n\nconst { DOCUMENT_MODE } = require('./html');\n\n//Const\nconst VALID_DOCTYPE_NAME = 'html';\nconst VALID_SYSTEM_ID = 'about:legacy-compat';\nconst QUIRKS_MODE_SYSTEM_ID = 'http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd';\n\nconst QUIRKS_MODE_PUBLIC_ID_PREFIXES = [\n    '+//silmaril//dtd html pro v0r11 19970101//',\n    '-//as//dtd html 3.0 aswedit + extensions//',\n    '-//advasoft ltd//dtd html 3.0 aswedit + extensions//',\n    '-//ietf//dtd html 2.0 level 1//',\n    '-//ietf//dtd html 2.0 level 2//',\n    '-//ietf//dtd html 2.0 strict level 1//',\n    '-//ietf//dtd html 2.0 strict level 2//',\n    '-//ietf//dtd html 2.0 strict//',\n    '-//ietf//dtd html 2.0//',\n    '-//ietf//dtd html 2.1e//',\n    '-//ietf//dtd html 3.0//',\n    '-//ietf//dtd html 3.2 final//',\n    '-//ietf//dtd html 3.2//',\n    '-//ietf//dtd html 3//',\n    '-//ietf//dtd html level 0//',\n    '-//ietf//dtd html level 1//',\n    '-//ietf//dtd html level 2//',\n    '-//ietf//dtd html level 3//',\n    '-//ietf//dtd html strict level 0//',\n    '-//ietf//dtd html strict level 1//',\n    '-//ietf//dtd html strict level 2//',\n    '-//ietf//dtd html strict level 3//',\n    '-//ietf//dtd html strict//',\n    '-//ietf//dtd html//',\n    '-//metrius//dtd metrius presentational//',\n    '-//microsoft//dtd internet explorer 2.0 html strict//',\n    '-//microsoft//dtd internet explorer 2.0 html//',\n    '-//microsoft//dtd internet explorer 2.0 tables//',\n    '-//microsoft//dtd internet explorer 3.0 html strict//',\n    '-//microsoft//dtd internet explorer 3.0 html//',\n    '-//microsoft//dtd internet explorer 3.0 tables//',\n    '-//netscape comm. corp.//dtd html//',\n    '-//netscape comm. corp.//dtd strict html//',\n    \"-//o'reilly and associates//dtd html 2.0//\",\n    \"-//o'reilly and associates//dtd html extended 1.0//\",\n    \"-//o'reilly and associates//dtd html extended relaxed 1.0//\",\n    '-//sq//dtd html 2.0 hotmetal + extensions//',\n    '-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//',\n    '-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//',\n    '-//spyglass//dtd html 2.0 extended//',\n    '-//sun microsystems corp.//dtd hotjava html//',\n    '-//sun microsystems corp.//dtd hotjava strict html//',\n    '-//w3c//dtd html 3 1995-03-24//',\n    '-//w3c//dtd html 3.2 draft//',\n    '-//w3c//dtd html 3.2 final//',\n    '-//w3c//dtd html 3.2//',\n    '-//w3c//dtd html 3.2s draft//',\n    '-//w3c//dtd html 4.0 frameset//',\n    '-//w3c//dtd html 4.0 transitional//',\n    '-//w3c//dtd html experimental 19960712//',\n    '-//w3c//dtd html experimental 970421//',\n    '-//w3c//dtd w3 html//',\n    '-//w3o//dtd w3 html 3.0//',\n    '-//webtechs//dtd mozilla html 2.0//',\n    '-//webtechs//dtd mozilla html//'\n];\n\nconst QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES = QUIRKS_MODE_PUBLIC_ID_PREFIXES.concat([\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//'\n]);\n\nconst QUIRKS_MODE_PUBLIC_IDS = ['-//w3o//dtd w3 html strict 3.0//en//', '-/w3c/dtd html 4.0 transitional/en', 'html'];\nconst LIMITED_QUIRKS_PUBLIC_ID_PREFIXES = ['-//w3c//dtd xhtml 1.0 frameset//', '-//w3c//dtd xhtml 1.0 transitional//'];\n\nconst LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES = LIMITED_QUIRKS_PUBLIC_ID_PREFIXES.concat([\n    '-//w3c//dtd html 4.01 frameset//',\n    '-//w3c//dtd html 4.01 transitional//'\n]);\n\n//Utils\nfunction enquoteDoctypeId(id) {\n    const quote = id.indexOf('\"') !== -1 ? \"'\" : '\"';\n\n    return quote + id + quote;\n}\n\nfunction hasPrefix(publicId, prefixes) {\n    for (let i = 0; i < prefixes.length; i++) {\n        if (publicId.indexOf(prefixes[i]) === 0) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n//API\nexports.isConforming = function(token) {\n    return (\n        token.name === VALID_DOCTYPE_NAME &&\n        token.publicId === null &&\n        (token.systemId === null || token.systemId === VALID_SYSTEM_ID)\n    );\n};\n\nexports.getDocumentMode = function(token) {\n    if (token.name !== VALID_DOCTYPE_NAME) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n\n    const systemId = token.systemId;\n\n    if (systemId && systemId.toLowerCase() === QUIRKS_MODE_SYSTEM_ID) {\n        return DOCUMENT_MODE.QUIRKS;\n    }\n\n    let publicId = token.publicId;\n\n    if (publicId !== null) {\n        publicId = publicId.toLowerCase();\n\n        if (QUIRKS_MODE_PUBLIC_IDS.indexOf(publicId) > -1) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n\n        let prefixes = systemId === null ? QUIRKS_MODE_NO_SYSTEM_ID_PUBLIC_ID_PREFIXES : QUIRKS_MODE_PUBLIC_ID_PREFIXES;\n\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.QUIRKS;\n        }\n\n        prefixes =\n            systemId === null ? LIMITED_QUIRKS_PUBLIC_ID_PREFIXES : LIMITED_QUIRKS_WITH_SYSTEM_ID_PUBLIC_ID_PREFIXES;\n\n        if (hasPrefix(publicId, prefixes)) {\n            return DOCUMENT_MODE.LIMITED_QUIRKS;\n        }\n    }\n\n    return DOCUMENT_MODE.NO_QUIRKS;\n};\n\nexports.serializeContent = function(name, publicId, systemId) {\n    let str = '!DOCTYPE ';\n\n    if (name) {\n        str += name;\n    }\n\n    if (publicId) {\n        str += ' PUBLIC ' + enquoteDoctypeId(publicId);\n    } else if (systemId) {\n        str += ' SYSTEM';\n    }\n\n    if (systemId !== null) {\n        str += ' ' + enquoteDoctypeId(systemId);\n    }\n\n    return str;\n};\n",
    "'use strict';\n\nmodule.exports = {\n    controlCharacterInInputStream: 'control-character-in-input-stream',\n    noncharacterInInputStream: 'noncharacter-in-input-stream',\n    surrogateInInputStream: 'surrogate-in-input-stream',\n    nonVoidHtmlElementStartTagWithTrailingSolidus: 'non-void-html-element-start-tag-with-trailing-solidus',\n    endTagWithAttributes: 'end-tag-with-attributes',\n    endTagWithTrailingSolidus: 'end-tag-with-trailing-solidus',\n    unexpectedSolidusInTag: 'unexpected-solidus-in-tag',\n    unexpectedNullCharacter: 'unexpected-null-character',\n    unexpectedQuestionMarkInsteadOfTagName: 'unexpected-question-mark-instead-of-tag-name',\n    invalidFirstCharacterOfTagName: 'invalid-first-character-of-tag-name',\n    unexpectedEqualsSignBeforeAttributeName: 'unexpected-equals-sign-before-attribute-name',\n    missingEndTagName: 'missing-end-tag-name',\n    unexpectedCharacterInAttributeName: 'unexpected-character-in-attribute-name',\n    unknownNamedCharacterReference: 'unknown-named-character-reference',\n    missingSemicolonAfterCharacterReference: 'missing-semicolon-after-character-reference',\n    unexpectedCharacterAfterDoctypeSystemIdentifier: 'unexpected-character-after-doctype-system-identifier',\n    unexpectedCharacterInUnquotedAttributeValue: 'unexpected-character-in-unquoted-attribute-value',\n    eofBeforeTagName: 'eof-before-tag-name',\n    eofInTag: 'eof-in-tag',\n    missingAttributeValue: 'missing-attribute-value',\n    missingWhitespaceBetweenAttributes: 'missing-whitespace-between-attributes',\n    missingWhitespaceAfterDoctypePublicKeyword: 'missing-whitespace-after-doctype-public-keyword',\n    missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:\n        'missing-whitespace-between-doctype-public-and-system-identifiers',\n    missingWhitespaceAfterDoctypeSystemKeyword: 'missing-whitespace-after-doctype-system-keyword',\n    missingQuoteBeforeDoctypePublicIdentifier: 'missing-quote-before-doctype-public-identifier',\n    missingQuoteBeforeDoctypeSystemIdentifier: 'missing-quote-before-doctype-system-identifier',\n    missingDoctypePublicIdentifier: 'missing-doctype-public-identifier',\n    missingDoctypeSystemIdentifier: 'missing-doctype-system-identifier',\n    abruptDoctypePublicIdentifier: 'abrupt-doctype-public-identifier',\n    abruptDoctypeSystemIdentifier: 'abrupt-doctype-system-identifier',\n    cdataInHtmlContent: 'cdata-in-html-content',\n    incorrectlyOpenedComment: 'incorrectly-opened-comment',\n    eofInScriptHtmlCommentLikeText: 'eof-in-script-html-comment-like-text',\n    eofInDoctype: 'eof-in-doctype',\n    nestedComment: 'nested-comment',\n    abruptClosingOfEmptyComment: 'abrupt-closing-of-empty-comment',\n    eofInComment: 'eof-in-comment',\n    incorrectlyClosedComment: 'incorrectly-closed-comment',\n    eofInCdata: 'eof-in-cdata',\n    absenceOfDigitsInNumericCharacterReference: 'absence-of-digits-in-numeric-character-reference',\n    nullCharacterReference: 'null-character-reference',\n    surrogateCharacterReference: 'surrogate-character-reference',\n    characterReferenceOutsideUnicodeRange: 'character-reference-outside-unicode-range',\n    controlCharacterReference: 'control-character-reference',\n    noncharacterCharacterReference: 'noncharacter-character-reference',\n    missingWhitespaceBeforeDoctypeName: 'missing-whitespace-before-doctype-name',\n    missingDoctypeName: 'missing-doctype-name',\n    invalidCharacterSequenceAfterDoctypeName: 'invalid-character-sequence-after-doctype-name',\n    duplicateAttribute: 'duplicate-attribute',\n    nonConformingDoctype: 'non-conforming-doctype',\n    missingDoctype: 'missing-doctype',\n    misplacedDoctype: 'misplaced-doctype',\n    endTagWithoutMatchingOpenElement: 'end-tag-without-matching-open-element',\n    closingOfElementWithOpenChildElements: 'closing-of-element-with-open-child-elements',\n    disallowedContentInNoscriptInHead: 'disallowed-content-in-noscript-in-head',\n    openElementsLeftAfterEof: 'open-elements-left-after-eof',\n    abandonedHeadElementChild: 'abandoned-head-element-child',\n    misplacedStartTagForHeadElement: 'misplaced-start-tag-for-head-element',\n    nestedNoscriptInHead: 'nested-noscript-in-head',\n    eofInElementThatCanContainOnlyText: 'eof-in-element-that-can-contain-only-text'\n};\n",
    "'use strict';\n\nconst Tokenizer = require('../tokenizer');\nconst HTML = require('./html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\nconst ATTRS = HTML.ATTRS;\n\n//MIME types\nconst MIME_TYPES = {\n    TEXT_HTML: 'text/html',\n    APPLICATION_XML: 'application/xhtml+xml'\n};\n\n//Attributes\nconst DEFINITION_URL_ATTR = 'definitionurl';\nconst ADJUSTED_DEFINITION_URL_ATTR = 'definitionURL';\nconst SVG_ATTRS_ADJUSTMENT_MAP = {\n    attributename: 'attributeName',\n    attributetype: 'attributeType',\n    basefrequency: 'baseFrequency',\n    baseprofile: 'baseProfile',\n    calcmode: 'calcMode',\n    clippathunits: 'clipPathUnits',\n    diffuseconstant: 'diffuseConstant',\n    edgemode: 'edgeMode',\n    filterunits: 'filterUnits',\n    glyphref: 'glyphRef',\n    gradienttransform: 'gradientTransform',\n    gradientunits: 'gradientUnits',\n    kernelmatrix: 'kernelMatrix',\n    kernelunitlength: 'kernelUnitLength',\n    keypoints: 'keyPoints',\n    keysplines: 'keySplines',\n    keytimes: 'keyTimes',\n    lengthadjust: 'lengthAdjust',\n    limitingconeangle: 'limitingConeAngle',\n    markerheight: 'markerHeight',\n    markerunits: 'markerUnits',\n    markerwidth: 'markerWidth',\n    maskcontentunits: 'maskContentUnits',\n    maskunits: 'maskUnits',\n    numoctaves: 'numOctaves',\n    pathlength: 'pathLength',\n    patterncontentunits: 'patternContentUnits',\n    patterntransform: 'patternTransform',\n    patternunits: 'patternUnits',\n    pointsatx: 'pointsAtX',\n    pointsaty: 'pointsAtY',\n    pointsatz: 'pointsAtZ',\n    preservealpha: 'preserveAlpha',\n    preserveaspectratio: 'preserveAspectRatio',\n    primitiveunits: 'primitiveUnits',\n    refx: 'refX',\n    refy: 'refY',\n    repeatcount: 'repeatCount',\n    repeatdur: 'repeatDur',\n    requiredextensions: 'requiredExtensions',\n    requiredfeatures: 'requiredFeatures',\n    specularconstant: 'specularConstant',\n    specularexponent: 'specularExponent',\n    spreadmethod: 'spreadMethod',\n    startoffset: 'startOffset',\n    stddeviation: 'stdDeviation',\n    stitchtiles: 'stitchTiles',\n    surfacescale: 'surfaceScale',\n    systemlanguage: 'systemLanguage',\n    tablevalues: 'tableValues',\n    targetx: 'targetX',\n    targety: 'targetY',\n    textlength: 'textLength',\n    viewbox: 'viewBox',\n    viewtarget: 'viewTarget',\n    xchannelselector: 'xChannelSelector',\n    ychannelselector: 'yChannelSelector',\n    zoomandpan: 'zoomAndPan'\n};\n\nconst XML_ATTRS_ADJUSTMENT_MAP = {\n    'xlink:actuate': { prefix: 'xlink', name: 'actuate', namespace: NS.XLINK },\n    'xlink:arcrole': { prefix: 'xlink', name: 'arcrole', namespace: NS.XLINK },\n    'xlink:href': { prefix: 'xlink', name: 'href', namespace: NS.XLINK },\n    'xlink:role': { prefix: 'xlink', name: 'role', namespace: NS.XLINK },\n    'xlink:show': { prefix: 'xlink', name: 'show', namespace: NS.XLINK },\n    'xlink:title': { prefix: 'xlink', name: 'title', namespace: NS.XLINK },\n    'xlink:type': { prefix: 'xlink', name: 'type', namespace: NS.XLINK },\n    'xml:base': { prefix: 'xml', name: 'base', namespace: NS.XML },\n    'xml:lang': { prefix: 'xml', name: 'lang', namespace: NS.XML },\n    'xml:space': { prefix: 'xml', name: 'space', namespace: NS.XML },\n    xmlns: { prefix: '', name: 'xmlns', namespace: NS.XMLNS },\n    'xmlns:xlink': { prefix: 'xmlns', name: 'xlink', namespace: NS.XMLNS }\n};\n\n//SVG tag names adjustment map\nconst SVG_TAG_NAMES_ADJUSTMENT_MAP = (exports.SVG_TAG_NAMES_ADJUSTMENT_MAP = {\n    altglyph: 'altGlyph',\n    altglyphdef: 'altGlyphDef',\n    altglyphitem: 'altGlyphItem',\n    animatecolor: 'animateColor',\n    animatemotion: 'animateMotion',\n    animatetransform: 'animateTransform',\n    clippath: 'clipPath',\n    feblend: 'feBlend',\n    fecolormatrix: 'feColorMatrix',\n    fecomponenttransfer: 'feComponentTransfer',\n    fecomposite: 'feComposite',\n    feconvolvematrix: 'feConvolveMatrix',\n    fediffuselighting: 'feDiffuseLighting',\n    fedisplacementmap: 'feDisplacementMap',\n    fedistantlight: 'feDistantLight',\n    feflood: 'feFlood',\n    fefunca: 'feFuncA',\n    fefuncb: 'feFuncB',\n    fefuncg: 'feFuncG',\n    fefuncr: 'feFuncR',\n    fegaussianblur: 'feGaussianBlur',\n    feimage: 'feImage',\n    femerge: 'feMerge',\n    femergenode: 'feMergeNode',\n    femorphology: 'feMorphology',\n    feoffset: 'feOffset',\n    fepointlight: 'fePointLight',\n    fespecularlighting: 'feSpecularLighting',\n    fespotlight: 'feSpotLight',\n    fetile: 'feTile',\n    feturbulence: 'feTurbulence',\n    foreignobject: 'foreignObject',\n    glyphref: 'glyphRef',\n    lineargradient: 'linearGradient',\n    radialgradient: 'radialGradient',\n    textpath: 'textPath'\n});\n\n//Tags that causes exit from foreign content\nconst EXITS_FOREIGN_CONTENT = {\n    [$.B]: true,\n    [$.BIG]: true,\n    [$.BLOCKQUOTE]: true,\n    [$.BODY]: true,\n    [$.BR]: true,\n    [$.CENTER]: true,\n    [$.CODE]: true,\n    [$.DD]: true,\n    [$.DIV]: true,\n    [$.DL]: true,\n    [$.DT]: true,\n    [$.EM]: true,\n    [$.EMBED]: true,\n    [$.H1]: true,\n    [$.H2]: true,\n    [$.H3]: true,\n    [$.H4]: true,\n    [$.H5]: true,\n    [$.H6]: true,\n    [$.HEAD]: true,\n    [$.HR]: true,\n    [$.I]: true,\n    [$.IMG]: true,\n    [$.LI]: true,\n    [$.LISTING]: true,\n    [$.MENU]: true,\n    [$.META]: true,\n    [$.NOBR]: true,\n    [$.OL]: true,\n    [$.P]: true,\n    [$.PRE]: true,\n    [$.RUBY]: true,\n    [$.S]: true,\n    [$.SMALL]: true,\n    [$.SPAN]: true,\n    [$.STRONG]: true,\n    [$.STRIKE]: true,\n    [$.SUB]: true,\n    [$.SUP]: true,\n    [$.TABLE]: true,\n    [$.TT]: true,\n    [$.U]: true,\n    [$.UL]: true,\n    [$.VAR]: true\n};\n\n//Check exit from foreign content\nexports.causesExit = function(startTagToken) {\n    const tn = startTagToken.tagName;\n    const isFontWithAttrs =\n        tn === $.FONT &&\n        (Tokenizer.getTokenAttr(startTagToken, ATTRS.COLOR) !== null ||\n            Tokenizer.getTokenAttr(startTagToken, ATTRS.SIZE) !== null ||\n            Tokenizer.getTokenAttr(startTagToken, ATTRS.FACE) !== null);\n\n    return isFontWithAttrs ? true : EXITS_FOREIGN_CONTENT[tn];\n};\n\n//Token adjustments\nexports.adjustTokenMathMLAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        if (token.attrs[i].name === DEFINITION_URL_ATTR) {\n            token.attrs[i].name = ADJUSTED_DEFINITION_URL_ATTR;\n            break;\n        }\n    }\n};\n\nexports.adjustTokenSVGAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrName = SVG_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];\n\n        if (adjustedAttrName) {\n            token.attrs[i].name = adjustedAttrName;\n        }\n    }\n};\n\nexports.adjustTokenXMLAttrs = function(token) {\n    for (let i = 0; i < token.attrs.length; i++) {\n        const adjustedAttrEntry = XML_ATTRS_ADJUSTMENT_MAP[token.attrs[i].name];\n\n        if (adjustedAttrEntry) {\n            token.attrs[i].prefix = adjustedAttrEntry.prefix;\n            token.attrs[i].name = adjustedAttrEntry.name;\n            token.attrs[i].namespace = adjustedAttrEntry.namespace;\n        }\n    }\n};\n\nexports.adjustTokenSVGTagName = function(token) {\n    const adjustedTagName = SVG_TAG_NAMES_ADJUSTMENT_MAP[token.tagName];\n\n    if (adjustedTagName) {\n        token.tagName = adjustedTagName;\n    }\n};\n\n//Integration points\nfunction isMathMLTextIntegrationPoint(tn, ns) {\n    return ns === NS.MATHML && (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS || tn === $.MTEXT);\n}\n\nfunction isHtmlIntegrationPoint(tn, ns, attrs) {\n    if (ns === NS.MATHML && tn === $.ANNOTATION_XML) {\n        for (let i = 0; i < attrs.length; i++) {\n            if (attrs[i].name === ATTRS.ENCODING) {\n                const value = attrs[i].value.toLowerCase();\n\n                return value === MIME_TYPES.TEXT_HTML || value === MIME_TYPES.APPLICATION_XML;\n            }\n        }\n    }\n\n    return ns === NS.SVG && (tn === $.FOREIGN_OBJECT || tn === $.DESC || tn === $.TITLE);\n}\n\nexports.isIntegrationPoint = function(tn, ns, attrs, foreignNS) {\n    if ((!foreignNS || foreignNS === NS.HTML) && isHtmlIntegrationPoint(tn, ns, attrs)) {\n        return true;\n    }\n\n    if ((!foreignNS || foreignNS === NS.MATHML) && isMathMLTextIntegrationPoint(tn, ns)) {\n        return true;\n    }\n\n    return false;\n};\n",
    "'use strict';\n\nconst NS = (exports.NAMESPACES = {\n    HTML: 'http://www.w3.org/1999/xhtml',\n    MATHML: 'http://www.w3.org/1998/Math/MathML',\n    SVG: 'http://www.w3.org/2000/svg',\n    XLINK: 'http://www.w3.org/1999/xlink',\n    XML: 'http://www.w3.org/XML/1998/namespace',\n    XMLNS: 'http://www.w3.org/2000/xmlns/'\n});\n\nexports.ATTRS = {\n    TYPE: 'type',\n    ACTION: 'action',\n    ENCODING: 'encoding',\n    PROMPT: 'prompt',\n    NAME: 'name',\n    COLOR: 'color',\n    FACE: 'face',\n    SIZE: 'size'\n};\n\nexports.DOCUMENT_MODE = {\n    NO_QUIRKS: 'no-quirks',\n    QUIRKS: 'quirks',\n    LIMITED_QUIRKS: 'limited-quirks'\n};\n\nconst $ = (exports.TAG_NAMES = {\n    A: 'a',\n    ADDRESS: 'address',\n    ANNOTATION_XML: 'annotation-xml',\n    APPLET: 'applet',\n    AREA: 'area',\n    ARTICLE: 'article',\n    ASIDE: 'aside',\n\n    B: 'b',\n    BASE: 'base',\n    BASEFONT: 'basefont',\n    BGSOUND: 'bgsound',\n    BIG: 'big',\n    BLOCKQUOTE: 'blockquote',\n    BODY: 'body',\n    BR: 'br',\n    BUTTON: 'button',\n\n    CAPTION: 'caption',\n    CENTER: 'center',\n    CODE: 'code',\n    COL: 'col',\n    COLGROUP: 'colgroup',\n\n    DD: 'dd',\n    DESC: 'desc',\n    DETAILS: 'details',\n    DIALOG: 'dialog',\n    DIR: 'dir',\n    DIV: 'div',\n    DL: 'dl',\n    DT: 'dt',\n\n    EM: 'em',\n    EMBED: 'embed',\n\n    FIELDSET: 'fieldset',\n    FIGCAPTION: 'figcaption',\n    FIGURE: 'figure',\n    FONT: 'font',\n    FOOTER: 'footer',\n    FOREIGN_OBJECT: 'foreignObject',\n    FORM: 'form',\n    FRAME: 'frame',\n    FRAMESET: 'frameset',\n\n    H1: 'h1',\n    H2: 'h2',\n    H3: 'h3',\n    H4: 'h4',\n    H5: 'h5',\n    H6: 'h6',\n    HEAD: 'head',\n    HEADER: 'header',\n    HGROUP: 'hgroup',\n    HR: 'hr',\n    HTML: 'html',\n\n    I: 'i',\n    IMG: 'img',\n    IMAGE: 'image',\n    INPUT: 'input',\n    IFRAME: 'iframe',\n\n    KEYGEN: 'keygen',\n\n    LABEL: 'label',\n    LI: 'li',\n    LINK: 'link',\n    LISTING: 'listing',\n\n    MAIN: 'main',\n    MALIGNMARK: 'malignmark',\n    MARQUEE: 'marquee',\n    MATH: 'math',\n    MENU: 'menu',\n    META: 'meta',\n    MGLYPH: 'mglyph',\n    MI: 'mi',\n    MO: 'mo',\n    MN: 'mn',\n    MS: 'ms',\n    MTEXT: 'mtext',\n\n    NAV: 'nav',\n    NOBR: 'nobr',\n    NOFRAMES: 'noframes',\n    NOEMBED: 'noembed',\n    NOSCRIPT: 'noscript',\n\n    OBJECT: 'object',\n    OL: 'ol',\n    OPTGROUP: 'optgroup',\n    OPTION: 'option',\n\n    P: 'p',\n    PARAM: 'param',\n    PLAINTEXT: 'plaintext',\n    PRE: 'pre',\n\n    RB: 'rb',\n    RP: 'rp',\n    RT: 'rt',\n    RTC: 'rtc',\n    RUBY: 'ruby',\n\n    S: 's',\n    SCRIPT: 'script',\n    SECTION: 'section',\n    SELECT: 'select',\n    SOURCE: 'source',\n    SMALL: 'small',\n    SPAN: 'span',\n    STRIKE: 'strike',\n    STRONG: 'strong',\n    STYLE: 'style',\n    SUB: 'sub',\n    SUMMARY: 'summary',\n    SUP: 'sup',\n\n    TABLE: 'table',\n    TBODY: 'tbody',\n    TEMPLATE: 'template',\n    TEXTAREA: 'textarea',\n    TFOOT: 'tfoot',\n    TD: 'td',\n    TH: 'th',\n    THEAD: 'thead',\n    TITLE: 'title',\n    TR: 'tr',\n    TRACK: 'track',\n    TT: 'tt',\n\n    U: 'u',\n    UL: 'ul',\n\n    SVG: 'svg',\n\n    VAR: 'var',\n\n    WBR: 'wbr',\n\n    XMP: 'xmp'\n});\n\nexports.SPECIAL_ELEMENTS = {\n    [NS.HTML]: {\n        [$.ADDRESS]: true,\n        [$.APPLET]: true,\n        [$.AREA]: true,\n        [$.ARTICLE]: true,\n        [$.ASIDE]: true,\n        [$.BASE]: true,\n        [$.BASEFONT]: true,\n        [$.BGSOUND]: true,\n        [$.BLOCKQUOTE]: true,\n        [$.BODY]: true,\n        [$.BR]: true,\n        [$.BUTTON]: true,\n        [$.CAPTION]: true,\n        [$.CENTER]: true,\n        [$.COL]: true,\n        [$.COLGROUP]: true,\n        [$.DD]: true,\n        [$.DETAILS]: true,\n        [$.DIR]: true,\n        [$.DIV]: true,\n        [$.DL]: true,\n        [$.DT]: true,\n        [$.EMBED]: true,\n        [$.FIELDSET]: true,\n        [$.FIGCAPTION]: true,\n        [$.FIGURE]: true,\n        [$.FOOTER]: true,\n        [$.FORM]: true,\n        [$.FRAME]: true,\n        [$.FRAMESET]: true,\n        [$.H1]: true,\n        [$.H2]: true,\n        [$.H3]: true,\n        [$.H4]: true,\n        [$.H5]: true,\n        [$.H6]: true,\n        [$.HEAD]: true,\n        [$.HEADER]: true,\n        [$.HGROUP]: true,\n        [$.HR]: true,\n        [$.HTML]: true,\n        [$.IFRAME]: true,\n        [$.IMG]: true,\n        [$.INPUT]: true,\n        [$.LI]: true,\n        [$.LINK]: true,\n        [$.LISTING]: true,\n        [$.MAIN]: true,\n        [$.MARQUEE]: true,\n        [$.MENU]: true,\n        [$.META]: true,\n        [$.NAV]: true,\n        [$.NOEMBED]: true,\n        [$.NOFRAMES]: true,\n        [$.NOSCRIPT]: true,\n        [$.OBJECT]: true,\n        [$.OL]: true,\n        [$.P]: true,\n        [$.PARAM]: true,\n        [$.PLAINTEXT]: true,\n        [$.PRE]: true,\n        [$.SCRIPT]: true,\n        [$.SECTION]: true,\n        [$.SELECT]: true,\n        [$.SOURCE]: true,\n        [$.STYLE]: true,\n        [$.SUMMARY]: true,\n        [$.TABLE]: true,\n        [$.TBODY]: true,\n        [$.TD]: true,\n        [$.TEMPLATE]: true,\n        [$.TEXTAREA]: true,\n        [$.TFOOT]: true,\n        [$.TH]: true,\n        [$.THEAD]: true,\n        [$.TITLE]: true,\n        [$.TR]: true,\n        [$.TRACK]: true,\n        [$.UL]: true,\n        [$.WBR]: true,\n        [$.XMP]: true\n    },\n    [NS.MATHML]: {\n        [$.MI]: true,\n        [$.MO]: true,\n        [$.MN]: true,\n        [$.MS]: true,\n        [$.MTEXT]: true,\n        [$.ANNOTATION_XML]: true\n    },\n    [NS.SVG]: {\n        [$.TITLE]: true,\n        [$.FOREIGN_OBJECT]: true,\n        [$.DESC]: true\n    }\n};\n",
    "'use strict';\n\nconst UNDEFINED_CODE_POINTS = [\n    0xfffe,\n    0xffff,\n    0x1fffe,\n    0x1ffff,\n    0x2fffe,\n    0x2ffff,\n    0x3fffe,\n    0x3ffff,\n    0x4fffe,\n    0x4ffff,\n    0x5fffe,\n    0x5ffff,\n    0x6fffe,\n    0x6ffff,\n    0x7fffe,\n    0x7ffff,\n    0x8fffe,\n    0x8ffff,\n    0x9fffe,\n    0x9ffff,\n    0xafffe,\n    0xaffff,\n    0xbfffe,\n    0xbffff,\n    0xcfffe,\n    0xcffff,\n    0xdfffe,\n    0xdffff,\n    0xefffe,\n    0xeffff,\n    0xffffe,\n    0xfffff,\n    0x10fffe,\n    0x10ffff\n];\n\nexports.REPLACEMENT_CHARACTER = '\\uFFFD';\n\nexports.CODE_POINTS = {\n    EOF: -1,\n    NULL: 0x00,\n    TABULATION: 0x09,\n    CARRIAGE_RETURN: 0x0d,\n    LINE_FEED: 0x0a,\n    FORM_FEED: 0x0c,\n    SPACE: 0x20,\n    EXCLAMATION_MARK: 0x21,\n    QUOTATION_MARK: 0x22,\n    NUMBER_SIGN: 0x23,\n    AMPERSAND: 0x26,\n    APOSTROPHE: 0x27,\n    HYPHEN_MINUS: 0x2d,\n    SOLIDUS: 0x2f,\n    DIGIT_0: 0x30,\n    DIGIT_9: 0x39,\n    SEMICOLON: 0x3b,\n    LESS_THAN_SIGN: 0x3c,\n    EQUALS_SIGN: 0x3d,\n    GREATER_THAN_SIGN: 0x3e,\n    QUESTION_MARK: 0x3f,\n    LATIN_CAPITAL_A: 0x41,\n    LATIN_CAPITAL_F: 0x46,\n    LATIN_CAPITAL_X: 0x58,\n    LATIN_CAPITAL_Z: 0x5a,\n    RIGHT_SQUARE_BRACKET: 0x5d,\n    GRAVE_ACCENT: 0x60,\n    LATIN_SMALL_A: 0x61,\n    LATIN_SMALL_F: 0x66,\n    LATIN_SMALL_X: 0x78,\n    LATIN_SMALL_Z: 0x7a,\n    REPLACEMENT_CHARACTER: 0xfffd\n};\n\nexports.CODE_POINT_SEQUENCES = {\n    DASH_DASH_STRING: [0x2d, 0x2d], //--\n    DOCTYPE_STRING: [0x44, 0x4f, 0x43, 0x54, 0x59, 0x50, 0x45], //DOCTYPE\n    CDATA_START_STRING: [0x5b, 0x43, 0x44, 0x41, 0x54, 0x41, 0x5b], //[CDATA[\n    SCRIPT_STRING: [0x73, 0x63, 0x72, 0x69, 0x70, 0x74], //script\n    PUBLIC_STRING: [0x50, 0x55, 0x42, 0x4c, 0x49, 0x43], //PUBLIC\n    SYSTEM_STRING: [0x53, 0x59, 0x53, 0x54, 0x45, 0x4d] //SYSTEM\n};\n\n//Surrogates\nexports.isSurrogate = function(cp) {\n    return cp >= 0xd800 && cp <= 0xdfff;\n};\n\nexports.isSurrogatePair = function(cp) {\n    return cp >= 0xdc00 && cp <= 0xdfff;\n};\n\nexports.getSurrogatePairCodePoint = function(cp1, cp2) {\n    return (cp1 - 0xd800) * 0x400 + 0x2400 + cp2;\n};\n\n//NOTE: excluding NULL and ASCII whitespace\nexports.isControlCodePoint = function(cp) {\n    return (\n        (cp !== 0x20 && cp !== 0x0a && cp !== 0x0d && cp !== 0x09 && cp !== 0x0c && cp >= 0x01 && cp <= 0x1f) ||\n        (cp >= 0x7f && cp <= 0x9f)\n    );\n};\n\nexports.isUndefinedCodePoint = function(cp) {\n    return (cp >= 0xfdd0 && cp <= 0xfdef) || UNDEFINED_CODE_POINTS.indexOf(cp) > -1;\n};\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\n\nclass ErrorReportingMixinBase extends Mixin {\n    constructor(host, opts) {\n        super(host);\n\n        this.posTracker = null;\n        this.onParseError = opts.onParseError;\n    }\n\n    _setErrorLocation(err) {\n        err.startLine = err.endLine = this.posTracker.line;\n        err.startCol = err.endCol = this.posTracker.col;\n        err.startOffset = err.endOffset = this.posTracker.offset;\n    }\n\n    _reportError(code) {\n        const err = {\n            code: code,\n            startLine: -1,\n            startCol: -1,\n            startOffset: -1,\n            endLine: -1,\n            endCol: -1,\n            endOffset: -1\n        };\n\n        this._setErrorLocation(err);\n        this.onParseError(err);\n    }\n\n    _getOverriddenMethods(mxn) {\n        return {\n            _err(code) {\n                mxn._reportError(code);\n            }\n        };\n    }\n}\n\nmodule.exports = ErrorReportingMixinBase;\n",
    "'use strict';\n\nconst ErrorReportingMixinBase = require('./mixin-base');\nconst ErrorReportingTokenizerMixin = require('./tokenizer-mixin');\nconst LocationInfoTokenizerMixin = require('../location-info/tokenizer-mixin');\nconst Mixin = require('../../utils/mixin');\n\nclass ErrorReportingParserMixin extends ErrorReportingMixinBase {\n    constructor(parser, opts) {\n        super(parser, opts);\n\n        this.opts = opts;\n        this.ctLoc = null;\n        this.locBeforeToken = false;\n    }\n\n    _setErrorLocation(err) {\n        if (this.ctLoc) {\n            err.startLine = this.ctLoc.startLine;\n            err.startCol = this.ctLoc.startCol;\n            err.startOffset = this.ctLoc.startOffset;\n\n            err.endLine = this.locBeforeToken ? this.ctLoc.startLine : this.ctLoc.endLine;\n            err.endCol = this.locBeforeToken ? this.ctLoc.startCol : this.ctLoc.endCol;\n            err.endOffset = this.locBeforeToken ? this.ctLoc.startOffset : this.ctLoc.endOffset;\n        }\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        return {\n            _bootstrap(document, fragmentContext) {\n                orig._bootstrap.call(this, document, fragmentContext);\n\n                Mixin.install(this.tokenizer, ErrorReportingTokenizerMixin, mxn.opts);\n                Mixin.install(this.tokenizer, LocationInfoTokenizerMixin);\n            },\n\n            _processInputToken(token) {\n                mxn.ctLoc = token.location;\n\n                orig._processInputToken.call(this, token);\n            },\n\n            _err(code, options) {\n                mxn.locBeforeToken = options && options.beforeToken;\n                mxn._reportError(code);\n            }\n        };\n    }\n}\n\nmodule.exports = ErrorReportingParserMixin;\n",
    "'use strict';\n\nconst ErrorReportingMixinBase = require('./mixin-base');\nconst PositionTrackingPreprocessorMixin = require('../position-tracking/preprocessor-mixin');\nconst Mixin = require('../../utils/mixin');\n\nclass ErrorReportingPreprocessorMixin extends ErrorReportingMixinBase {\n    constructor(preprocessor, opts) {\n        super(preprocessor, opts);\n\n        this.posTracker = Mixin.install(preprocessor, PositionTrackingPreprocessorMixin);\n        this.lastErrOffset = -1;\n    }\n\n    _reportError(code) {\n        //NOTE: avoid reporting error twice on advance/retreat\n        if (this.lastErrOffset !== this.posTracker.offset) {\n            this.lastErrOffset = this.posTracker.offset;\n            super._reportError(code);\n        }\n    }\n}\n\nmodule.exports = ErrorReportingPreprocessorMixin;\n",
    "'use strict';\n\nconst ErrorReportingMixinBase = require('./mixin-base');\nconst ErrorReportingPreprocessorMixin = require('./preprocessor-mixin');\nconst Mixin = require('../../utils/mixin');\n\nclass ErrorReportingTokenizerMixin extends ErrorReportingMixinBase {\n    constructor(tokenizer, opts) {\n        super(tokenizer, opts);\n\n        const preprocessorMixin = Mixin.install(tokenizer.preprocessor, ErrorReportingPreprocessorMixin, opts);\n\n        this.posTracker = preprocessorMixin.posTracker;\n    }\n}\n\nmodule.exports = ErrorReportingTokenizerMixin;\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\n\nclass LocationInfoOpenElementStackMixin extends Mixin {\n    constructor(stack, opts) {\n        super(stack);\n\n        this.onItemPop = opts.onItemPop;\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        return {\n            pop() {\n                mxn.onItemPop(this.current);\n                orig.pop.call(this);\n            },\n\n            popAllUpToHtmlElement() {\n                for (let i = this.stackTop; i > 0; i--) {\n                    mxn.onItemPop(this.items[i]);\n                }\n\n                orig.popAllUpToHtmlElement.call(this);\n            },\n\n            remove(element) {\n                mxn.onItemPop(this.current);\n                orig.remove.call(this, element);\n            }\n        };\n    }\n}\n\nmodule.exports = LocationInfoOpenElementStackMixin;\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\nconst Tokenizer = require('../../tokenizer');\nconst LocationInfoTokenizerMixin = require('./tokenizer-mixin');\nconst LocationInfoOpenElementStackMixin = require('./open-element-stack-mixin');\nconst HTML = require('../../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\n\nclass LocationInfoParserMixin extends Mixin {\n    constructor(parser) {\n        super(parser);\n\n        this.parser = parser;\n        this.treeAdapter = this.parser.treeAdapter;\n        this.posTracker = null;\n        this.lastStartTagToken = null;\n        this.lastFosterParentingLocation = null;\n        this.currentToken = null;\n    }\n\n    _setStartLocation(element) {\n        let loc = null;\n\n        if (this.lastStartTagToken) {\n            loc = Object.assign({}, this.lastStartTagToken.location);\n            loc.startTag = this.lastStartTagToken.location;\n        }\n\n        this.treeAdapter.setNodeSourceCodeLocation(element, loc);\n    }\n\n    _setEndLocation(element, closingToken) {\n        const loc = this.treeAdapter.getNodeSourceCodeLocation(element);\n\n        if (loc) {\n            if (closingToken.location) {\n                const ctLoc = closingToken.location;\n                const tn = this.treeAdapter.getTagName(element);\n\n                // NOTE: For cases like <p> <p> </p> - First 'p' closes without a closing\n                // tag and for cases like <td> <p> </td> - 'p' closes without a closing tag.\n                const isClosingEndTag = closingToken.type === Tokenizer.END_TAG_TOKEN && tn === closingToken.tagName;\n                const endLoc = {};\n                if (isClosingEndTag) {\n                    endLoc.endTag = Object.assign({}, ctLoc);\n                    endLoc.endLine = ctLoc.endLine;\n                    endLoc.endCol = ctLoc.endCol;\n                    endLoc.endOffset = ctLoc.endOffset;\n                } else {\n                    endLoc.endLine = ctLoc.startLine;\n                    endLoc.endCol = ctLoc.startCol;\n                    endLoc.endOffset = ctLoc.startOffset;\n                }\n\n                this.treeAdapter.updateNodeSourceCodeLocation(element, endLoc);\n            }\n        }\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        return {\n            _bootstrap(document, fragmentContext) {\n                orig._bootstrap.call(this, document, fragmentContext);\n\n                mxn.lastStartTagToken = null;\n                mxn.lastFosterParentingLocation = null;\n                mxn.currentToken = null;\n\n                const tokenizerMixin = Mixin.install(this.tokenizer, LocationInfoTokenizerMixin);\n\n                mxn.posTracker = tokenizerMixin.posTracker;\n\n                Mixin.install(this.openElements, LocationInfoOpenElementStackMixin, {\n                    onItemPop: function(element) {\n                        mxn._setEndLocation(element, mxn.currentToken);\n                    }\n                });\n            },\n\n            _runParsingLoop(scriptHandler) {\n                orig._runParsingLoop.call(this, scriptHandler);\n\n                // NOTE: generate location info for elements\n                // that remains on open element stack\n                for (let i = this.openElements.stackTop; i >= 0; i--) {\n                    mxn._setEndLocation(this.openElements.items[i], mxn.currentToken);\n                }\n            },\n\n            //Token processing\n            _processTokenInForeignContent(token) {\n                mxn.currentToken = token;\n                orig._processTokenInForeignContent.call(this, token);\n            },\n\n            _processToken(token) {\n                mxn.currentToken = token;\n                orig._processToken.call(this, token);\n\n                //NOTE: <body> and <html> are never popped from the stack, so we need to updated\n                //their end location explicitly.\n                const requireExplicitUpdate =\n                    token.type === Tokenizer.END_TAG_TOKEN &&\n                    (token.tagName === $.HTML || (token.tagName === $.BODY && this.openElements.hasInScope($.BODY)));\n\n                if (requireExplicitUpdate) {\n                    for (let i = this.openElements.stackTop; i >= 0; i--) {\n                        const element = this.openElements.items[i];\n\n                        if (this.treeAdapter.getTagName(element) === token.tagName) {\n                            mxn._setEndLocation(element, token);\n                            break;\n                        }\n                    }\n                }\n            },\n\n            //Doctype\n            _setDocumentType(token) {\n                orig._setDocumentType.call(this, token);\n\n                const documentChildren = this.treeAdapter.getChildNodes(this.document);\n                const cnLength = documentChildren.length;\n\n                for (let i = 0; i < cnLength; i++) {\n                    const node = documentChildren[i];\n\n                    if (this.treeAdapter.isDocumentTypeNode(node)) {\n                        this.treeAdapter.setNodeSourceCodeLocation(node, token.location);\n                        break;\n                    }\n                }\n            },\n\n            //Elements\n            _attachElementToTree(element) {\n                //NOTE: _attachElementToTree is called from _appendElement, _insertElement and _insertTemplate methods.\n                //So we will use token location stored in this methods for the element.\n                mxn._setStartLocation(element);\n                mxn.lastStartTagToken = null;\n                orig._attachElementToTree.call(this, element);\n            },\n\n            _appendElement(token, namespaceURI) {\n                mxn.lastStartTagToken = token;\n                orig._appendElement.call(this, token, namespaceURI);\n            },\n\n            _insertElement(token, namespaceURI) {\n                mxn.lastStartTagToken = token;\n                orig._insertElement.call(this, token, namespaceURI);\n            },\n\n            _insertTemplate(token) {\n                mxn.lastStartTagToken = token;\n                orig._insertTemplate.call(this, token);\n\n                const tmplContent = this.treeAdapter.getTemplateContent(this.openElements.current);\n\n                this.treeAdapter.setNodeSourceCodeLocation(tmplContent, null);\n            },\n\n            _insertFakeRootElement() {\n                orig._insertFakeRootElement.call(this);\n                this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current, null);\n            },\n\n            //Comments\n            _appendCommentNode(token, parent) {\n                orig._appendCommentNode.call(this, token, parent);\n\n                const children = this.treeAdapter.getChildNodes(parent);\n                const commentNode = children[children.length - 1];\n\n                this.treeAdapter.setNodeSourceCodeLocation(commentNode, token.location);\n            },\n\n            //Text\n            _findFosterParentingLocation() {\n                //NOTE: store last foster parenting location, so we will be able to find inserted text\n                //in case of foster parenting\n                mxn.lastFosterParentingLocation = orig._findFosterParentingLocation.call(this);\n\n                return mxn.lastFosterParentingLocation;\n            },\n\n            _insertCharacters(token) {\n                orig._insertCharacters.call(this, token);\n\n                const hasFosterParent = this._shouldFosterParentOnInsertion();\n\n                const parent =\n                    (hasFosterParent && mxn.lastFosterParentingLocation.parent) ||\n                    this.openElements.currentTmplContent ||\n                    this.openElements.current;\n\n                const siblings = this.treeAdapter.getChildNodes(parent);\n\n                const textNodeIdx =\n                    hasFosterParent && mxn.lastFosterParentingLocation.beforeElement\n                        ? siblings.indexOf(mxn.lastFosterParentingLocation.beforeElement) - 1\n                        : siblings.length - 1;\n\n                const textNode = siblings[textNodeIdx];\n\n                //NOTE: if we have location assigned by another token, then just update end position\n                const tnLoc = this.treeAdapter.getNodeSourceCodeLocation(textNode);\n\n                if (tnLoc) {\n                    const { endLine, endCol, endOffset } = token.location;\n                    this.treeAdapter.updateNodeSourceCodeLocation(textNode, { endLine, endCol, endOffset });\n                } else {\n                    this.treeAdapter.setNodeSourceCodeLocation(textNode, token.location);\n                }\n            }\n        };\n    }\n}\n\nmodule.exports = LocationInfoParserMixin;\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\nconst Tokenizer = require('../../tokenizer');\nconst PositionTrackingPreprocessorMixin = require('../position-tracking/preprocessor-mixin');\n\nclass LocationInfoTokenizerMixin extends Mixin {\n    constructor(tokenizer) {\n        super(tokenizer);\n\n        this.tokenizer = tokenizer;\n        this.posTracker = Mixin.install(tokenizer.preprocessor, PositionTrackingPreprocessorMixin);\n        this.currentAttrLocation = null;\n        this.ctLoc = null;\n    }\n\n    _getCurrentLocation() {\n        return {\n            startLine: this.posTracker.line,\n            startCol: this.posTracker.col,\n            startOffset: this.posTracker.offset,\n            endLine: -1,\n            endCol: -1,\n            endOffset: -1\n        };\n    }\n\n    _attachCurrentAttrLocationInfo() {\n        this.currentAttrLocation.endLine = this.posTracker.line;\n        this.currentAttrLocation.endCol = this.posTracker.col;\n        this.currentAttrLocation.endOffset = this.posTracker.offset;\n\n        const currentToken = this.tokenizer.currentToken;\n        const currentAttr = this.tokenizer.currentAttr;\n\n        if (!currentToken.location.attrs) {\n            currentToken.location.attrs = Object.create(null);\n        }\n\n        currentToken.location.attrs[currentAttr.name] = this.currentAttrLocation;\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        const methods = {\n            _createStartTagToken() {\n                orig._createStartTagToken.call(this);\n                this.currentToken.location = mxn.ctLoc;\n            },\n\n            _createEndTagToken() {\n                orig._createEndTagToken.call(this);\n                this.currentToken.location = mxn.ctLoc;\n            },\n\n            _createCommentToken() {\n                orig._createCommentToken.call(this);\n                this.currentToken.location = mxn.ctLoc;\n            },\n\n            _createDoctypeToken(initialName) {\n                orig._createDoctypeToken.call(this, initialName);\n                this.currentToken.location = mxn.ctLoc;\n            },\n\n            _createCharacterToken(type, ch) {\n                orig._createCharacterToken.call(this, type, ch);\n                this.currentCharacterToken.location = mxn.ctLoc;\n            },\n\n            _createEOFToken() {\n                orig._createEOFToken.call(this);\n                this.currentToken.location = mxn._getCurrentLocation();\n            },\n\n            _createAttr(attrNameFirstCh) {\n                orig._createAttr.call(this, attrNameFirstCh);\n                mxn.currentAttrLocation = mxn._getCurrentLocation();\n            },\n\n            _leaveAttrName(toState) {\n                orig._leaveAttrName.call(this, toState);\n                mxn._attachCurrentAttrLocationInfo();\n            },\n\n            _leaveAttrValue(toState) {\n                orig._leaveAttrValue.call(this, toState);\n                mxn._attachCurrentAttrLocationInfo();\n            },\n\n            _emitCurrentToken() {\n                const ctLoc = this.currentToken.location;\n\n                //NOTE: if we have pending character token make it's end location equal to the\n                //current token's start location.\n                if (this.currentCharacterToken) {\n                    this.currentCharacterToken.location.endLine = ctLoc.startLine;\n                    this.currentCharacterToken.location.endCol = ctLoc.startCol;\n                    this.currentCharacterToken.location.endOffset = ctLoc.startOffset;\n                }\n\n                if (this.currentToken.type === Tokenizer.EOF_TOKEN) {\n                    ctLoc.endLine = ctLoc.startLine;\n                    ctLoc.endCol = ctLoc.startCol;\n                    ctLoc.endOffset = ctLoc.startOffset;\n                } else {\n                    ctLoc.endLine = mxn.posTracker.line;\n                    ctLoc.endCol = mxn.posTracker.col + 1;\n                    ctLoc.endOffset = mxn.posTracker.offset + 1;\n                }\n\n                orig._emitCurrentToken.call(this);\n            },\n\n            _emitCurrentCharacterToken() {\n                const ctLoc = this.currentCharacterToken && this.currentCharacterToken.location;\n\n                //NOTE: if we have character token and it's location wasn't set in the _emitCurrentToken(),\n                //then set it's location at the current preprocessor position.\n                //We don't need to increment preprocessor position, since character token\n                //emission is always forced by the start of the next character token here.\n                //So, we already have advanced position.\n                if (ctLoc && ctLoc.endOffset === -1) {\n                    ctLoc.endLine = mxn.posTracker.line;\n                    ctLoc.endCol = mxn.posTracker.col;\n                    ctLoc.endOffset = mxn.posTracker.offset;\n                }\n\n                orig._emitCurrentCharacterToken.call(this);\n            }\n        };\n\n        //NOTE: patch initial states for each mode to obtain token start position\n        Object.keys(Tokenizer.MODE).forEach(modeName => {\n            const state = Tokenizer.MODE[modeName];\n\n            methods[state] = function(cp) {\n                mxn.ctLoc = mxn._getCurrentLocation();\n                orig[state].call(this, cp);\n            };\n        });\n\n        return methods;\n    }\n}\n\nmodule.exports = LocationInfoTokenizerMixin;\n",
    "'use strict';\n\nconst Mixin = require('../../utils/mixin');\n\nclass PositionTrackingPreprocessorMixin extends Mixin {\n    constructor(preprocessor) {\n        super(preprocessor);\n\n        this.preprocessor = preprocessor;\n        this.isEol = false;\n        this.lineStartPos = 0;\n        this.droppedBufferSize = 0;\n\n        this.offset = 0;\n        this.col = 0;\n        this.line = 1;\n    }\n\n    _getOverriddenMethods(mxn, orig) {\n        return {\n            advance() {\n                const pos = this.pos + 1;\n                const ch = this.html[pos];\n\n                //NOTE: LF should be in the last column of the line\n                if (mxn.isEol) {\n                    mxn.isEol = false;\n                    mxn.line++;\n                    mxn.lineStartPos = pos;\n                }\n\n                if (ch === '\\n' || (ch === '\\r' && this.html[pos + 1] !== '\\n')) {\n                    mxn.isEol = true;\n                }\n\n                mxn.col = pos - mxn.lineStartPos + 1;\n                mxn.offset = mxn.droppedBufferSize + pos;\n\n                return orig.advance.call(this);\n            },\n\n            retreat() {\n                orig.retreat.call(this);\n\n                mxn.isEol = false;\n                mxn.col = this.pos - mxn.lineStartPos + 1;\n            },\n\n            dropParsedChunk() {\n                const prevPos = this.pos;\n\n                orig.dropParsedChunk.call(this);\n\n                const reduction = prevPos - this.pos;\n\n                mxn.lineStartPos -= reduction;\n                mxn.droppedBufferSize += reduction;\n                mxn.offset = mxn.droppedBufferSize + this.pos;\n            }\n        };\n    }\n}\n\nmodule.exports = PositionTrackingPreprocessorMixin;\n",
    "'use strict';\n\nconst Parser = require('./parser');\nconst Serializer = require('./serializer');\n\n// Shorthands\nexports.parse = function parse(html, options) {\n    const parser = new Parser(options);\n\n    return parser.parse(html);\n};\n\nexports.parseFragment = function parseFragment(fragmentContext, html, options) {\n    if (typeof fragmentContext === 'string') {\n        options = html;\n        html = fragmentContext;\n        fragmentContext = null;\n    }\n\n    const parser = new Parser(options);\n\n    return parser.parseFragment(html, fragmentContext);\n};\n\nexports.serialize = function(node, options) {\n    const serializer = new Serializer(node, options);\n\n    return serializer.serialize();\n};\n",
    "'use strict';\n\n//Const\nconst NOAH_ARK_CAPACITY = 3;\n\n//List of formatting elements\nclass FormattingElementList {\n    constructor(treeAdapter) {\n        this.length = 0;\n        this.entries = [];\n        this.treeAdapter = treeAdapter;\n        this.bookmark = null;\n    }\n\n    //Noah Ark's condition\n    //OPTIMIZATION: at first we try to find possible candidates for exclusion using\n    //lightweight heuristics without thorough attributes check.\n    _getNoahArkConditionCandidates(newElement) {\n        const candidates = [];\n\n        if (this.length >= NOAH_ARK_CAPACITY) {\n            const neAttrsLength = this.treeAdapter.getAttrList(newElement).length;\n            const neTagName = this.treeAdapter.getTagName(newElement);\n            const neNamespaceURI = this.treeAdapter.getNamespaceURI(newElement);\n\n            for (let i = this.length - 1; i >= 0; i--) {\n                const entry = this.entries[i];\n\n                if (entry.type === FormattingElementList.MARKER_ENTRY) {\n                    break;\n                }\n\n                const element = entry.element;\n                const elementAttrs = this.treeAdapter.getAttrList(element);\n\n                const isCandidate =\n                    this.treeAdapter.getTagName(element) === neTagName &&\n                    this.treeAdapter.getNamespaceURI(element) === neNamespaceURI &&\n                    elementAttrs.length === neAttrsLength;\n\n                if (isCandidate) {\n                    candidates.push({ idx: i, attrs: elementAttrs });\n                }\n            }\n        }\n\n        return candidates.length < NOAH_ARK_CAPACITY ? [] : candidates;\n    }\n\n    _ensureNoahArkCondition(newElement) {\n        const candidates = this._getNoahArkConditionCandidates(newElement);\n        let cLength = candidates.length;\n\n        if (cLength) {\n            const neAttrs = this.treeAdapter.getAttrList(newElement);\n            const neAttrsLength = neAttrs.length;\n            const neAttrsMap = Object.create(null);\n\n            //NOTE: build attrs map for the new element so we can perform fast lookups\n            for (let i = 0; i < neAttrsLength; i++) {\n                const neAttr = neAttrs[i];\n\n                neAttrsMap[neAttr.name] = neAttr.value;\n            }\n\n            for (let i = 0; i < neAttrsLength; i++) {\n                for (let j = 0; j < cLength; j++) {\n                    const cAttr = candidates[j].attrs[i];\n\n                    if (neAttrsMap[cAttr.name] !== cAttr.value) {\n                        candidates.splice(j, 1);\n                        cLength--;\n                    }\n\n                    if (candidates.length < NOAH_ARK_CAPACITY) {\n                        return;\n                    }\n                }\n            }\n\n            //NOTE: remove bottommost candidates until Noah's Ark condition will not be met\n            for (let i = cLength - 1; i >= NOAH_ARK_CAPACITY - 1; i--) {\n                this.entries.splice(candidates[i].idx, 1);\n                this.length--;\n            }\n        }\n    }\n\n    //Mutations\n    insertMarker() {\n        this.entries.push({ type: FormattingElementList.MARKER_ENTRY });\n        this.length++;\n    }\n\n    pushElement(element, token) {\n        this._ensureNoahArkCondition(element);\n\n        this.entries.push({\n            type: FormattingElementList.ELEMENT_ENTRY,\n            element: element,\n            token: token\n        });\n\n        this.length++;\n    }\n\n    insertElementAfterBookmark(element, token) {\n        let bookmarkIdx = this.length - 1;\n\n        for (; bookmarkIdx >= 0; bookmarkIdx--) {\n            if (this.entries[bookmarkIdx] === this.bookmark) {\n                break;\n            }\n        }\n\n        this.entries.splice(bookmarkIdx + 1, 0, {\n            type: FormattingElementList.ELEMENT_ENTRY,\n            element: element,\n            token: token\n        });\n\n        this.length++;\n    }\n\n    removeEntry(entry) {\n        for (let i = this.length - 1; i >= 0; i--) {\n            if (this.entries[i] === entry) {\n                this.entries.splice(i, 1);\n                this.length--;\n                break;\n            }\n        }\n    }\n\n    clearToLastMarker() {\n        while (this.length) {\n            const entry = this.entries.pop();\n\n            this.length--;\n\n            if (entry.type === FormattingElementList.MARKER_ENTRY) {\n                break;\n            }\n        }\n    }\n\n    //Search\n    getElementEntryInScopeWithTagName(tagName) {\n        for (let i = this.length - 1; i >= 0; i--) {\n            const entry = this.entries[i];\n\n            if (entry.type === FormattingElementList.MARKER_ENTRY) {\n                return null;\n            }\n\n            if (this.treeAdapter.getTagName(entry.element) === tagName) {\n                return entry;\n            }\n        }\n\n        return null;\n    }\n\n    getElementEntry(element) {\n        for (let i = this.length - 1; i >= 0; i--) {\n            const entry = this.entries[i];\n\n            if (entry.type === FormattingElementList.ELEMENT_ENTRY && entry.element === element) {\n                return entry;\n            }\n        }\n\n        return null;\n    }\n}\n\n//Entry types\nFormattingElementList.MARKER_ENTRY = 'MARKER_ENTRY';\nFormattingElementList.ELEMENT_ENTRY = 'ELEMENT_ENTRY';\n\nmodule.exports = FormattingElementList;\n",
    "'use strict';\n\nconst Tokenizer = require('../tokenizer');\nconst OpenElementStack = require('./open-element-stack');\nconst FormattingElementList = require('./formatting-element-list');\nconst LocationInfoParserMixin = require('../extensions/location-info/parser-mixin');\nconst ErrorReportingParserMixin = require('../extensions/error-reporting/parser-mixin');\nconst Mixin = require('../utils/mixin');\nconst defaultTreeAdapter = require('../tree-adapters/default');\nconst mergeOptions = require('../utils/merge-options');\nconst doctype = require('../common/doctype');\nconst foreignContent = require('../common/foreign-content');\nconst ERR = require('../common/error-codes');\nconst unicode = require('../common/unicode');\nconst HTML = require('../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\nconst ATTRS = HTML.ATTRS;\n\nconst DEFAULT_OPTIONS = {\n    scriptingEnabled: true,\n    sourceCodeLocationInfo: false,\n    onParseError: null,\n    treeAdapter: defaultTreeAdapter\n};\n\n//Misc constants\nconst HIDDEN_INPUT_TYPE = 'hidden';\n\n//Adoption agency loops iteration count\nconst AA_OUTER_LOOP_ITER = 8;\nconst AA_INNER_LOOP_ITER = 3;\n\n//Insertion modes\nconst INITIAL_MODE = 'INITIAL_MODE';\nconst BEFORE_HTML_MODE = 'BEFORE_HTML_MODE';\nconst BEFORE_HEAD_MODE = 'BEFORE_HEAD_MODE';\nconst IN_HEAD_MODE = 'IN_HEAD_MODE';\nconst IN_HEAD_NO_SCRIPT_MODE = 'IN_HEAD_NO_SCRIPT_MODE';\nconst AFTER_HEAD_MODE = 'AFTER_HEAD_MODE';\nconst IN_BODY_MODE = 'IN_BODY_MODE';\nconst TEXT_MODE = 'TEXT_MODE';\nconst IN_TABLE_MODE = 'IN_TABLE_MODE';\nconst IN_TABLE_TEXT_MODE = 'IN_TABLE_TEXT_MODE';\nconst IN_CAPTION_MODE = 'IN_CAPTION_MODE';\nconst IN_COLUMN_GROUP_MODE = 'IN_COLUMN_GROUP_MODE';\nconst IN_TABLE_BODY_MODE = 'IN_TABLE_BODY_MODE';\nconst IN_ROW_MODE = 'IN_ROW_MODE';\nconst IN_CELL_MODE = 'IN_CELL_MODE';\nconst IN_SELECT_MODE = 'IN_SELECT_MODE';\nconst IN_SELECT_IN_TABLE_MODE = 'IN_SELECT_IN_TABLE_MODE';\nconst IN_TEMPLATE_MODE = 'IN_TEMPLATE_MODE';\nconst AFTER_BODY_MODE = 'AFTER_BODY_MODE';\nconst IN_FRAMESET_MODE = 'IN_FRAMESET_MODE';\nconst AFTER_FRAMESET_MODE = 'AFTER_FRAMESET_MODE';\nconst AFTER_AFTER_BODY_MODE = 'AFTER_AFTER_BODY_MODE';\nconst AFTER_AFTER_FRAMESET_MODE = 'AFTER_AFTER_FRAMESET_MODE';\n\n//Insertion mode reset map\nconst INSERTION_MODE_RESET_MAP = {\n    [$.TR]: IN_ROW_MODE,\n    [$.TBODY]: IN_TABLE_BODY_MODE,\n    [$.THEAD]: IN_TABLE_BODY_MODE,\n    [$.TFOOT]: IN_TABLE_BODY_MODE,\n    [$.CAPTION]: IN_CAPTION_MODE,\n    [$.COLGROUP]: IN_COLUMN_GROUP_MODE,\n    [$.TABLE]: IN_TABLE_MODE,\n    [$.BODY]: IN_BODY_MODE,\n    [$.FRAMESET]: IN_FRAMESET_MODE\n};\n\n//Template insertion mode switch map\nconst TEMPLATE_INSERTION_MODE_SWITCH_MAP = {\n    [$.CAPTION]: IN_TABLE_MODE,\n    [$.COLGROUP]: IN_TABLE_MODE,\n    [$.TBODY]: IN_TABLE_MODE,\n    [$.TFOOT]: IN_TABLE_MODE,\n    [$.THEAD]: IN_TABLE_MODE,\n    [$.COL]: IN_COLUMN_GROUP_MODE,\n    [$.TR]: IN_TABLE_BODY_MODE,\n    [$.TD]: IN_ROW_MODE,\n    [$.TH]: IN_ROW_MODE\n};\n\n//Token handlers map for insertion modes\nconst TOKEN_HANDLERS = {\n    [INITIAL_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInInitialMode,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInInitialMode,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: doctypeInInitialMode,\n        [Tokenizer.START_TAG_TOKEN]: tokenInInitialMode,\n        [Tokenizer.END_TAG_TOKEN]: tokenInInitialMode,\n        [Tokenizer.EOF_TOKEN]: tokenInInitialMode\n    },\n    [BEFORE_HTML_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHtml,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHtml,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagBeforeHtml,\n        [Tokenizer.END_TAG_TOKEN]: endTagBeforeHtml,\n        [Tokenizer.EOF_TOKEN]: tokenBeforeHtml\n    },\n    [BEFORE_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenBeforeHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenBeforeHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagBeforeHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagBeforeHead,\n        [Tokenizer.EOF_TOKEN]: tokenBeforeHead\n    },\n    [IN_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagInHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagInHead,\n        [Tokenizer.EOF_TOKEN]: tokenInHead\n    },\n    [IN_HEAD_NO_SCRIPT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInHeadNoScript,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInHeadNoScript,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagInHeadNoScript,\n        [Tokenizer.END_TAG_TOKEN]: endTagInHeadNoScript,\n        [Tokenizer.EOF_TOKEN]: tokenInHeadNoScript\n    },\n    [AFTER_HEAD_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterHead,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterHead,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: misplacedDoctype,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterHead,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterHead,\n        [Tokenizer.EOF_TOKEN]: tokenAfterHead\n    },\n    [IN_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagInBody,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [TEXT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: ignoreToken,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: ignoreToken,\n        [Tokenizer.END_TAG_TOKEN]: endTagInText,\n        [Tokenizer.EOF_TOKEN]: eofInText\n    },\n    [IN_TABLE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTable,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTable,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TABLE_TEXT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTableText,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInTableText,\n        [Tokenizer.COMMENT_TOKEN]: tokenInTableText,\n        [Tokenizer.DOCTYPE_TOKEN]: tokenInTableText,\n        [Tokenizer.START_TAG_TOKEN]: tokenInTableText,\n        [Tokenizer.END_TAG_TOKEN]: tokenInTableText,\n        [Tokenizer.EOF_TOKEN]: tokenInTableText\n    },\n    [IN_CAPTION_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInCaption,\n        [Tokenizer.END_TAG_TOKEN]: endTagInCaption,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_COLUMN_GROUP_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenInColumnGroup,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenInColumnGroup,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInColumnGroup,\n        [Tokenizer.END_TAG_TOKEN]: endTagInColumnGroup,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TABLE_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTableBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTableBody,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_ROW_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: characterInTable,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInRow,\n        [Tokenizer.END_TAG_TOKEN]: endTagInRow,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_CELL_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInCell,\n        [Tokenizer.END_TAG_TOKEN]: endTagInCell,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_SELECT_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInSelect,\n        [Tokenizer.END_TAG_TOKEN]: endTagInSelect,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_SELECT_IN_TABLE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInSelectInTable,\n        [Tokenizer.END_TAG_TOKEN]: endTagInSelectInTable,\n        [Tokenizer.EOF_TOKEN]: eofInBody\n    },\n    [IN_TEMPLATE_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: characterInBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInTemplate,\n        [Tokenizer.END_TAG_TOKEN]: endTagInTemplate,\n        [Tokenizer.EOF_TOKEN]: eofInTemplate\n    },\n    [AFTER_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterBody,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToRootHtmlElement,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterBody,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterBody,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [IN_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagInFrameset,\n        [Tokenizer.END_TAG_TOKEN]: endTagInFrameset,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: insertCharacters,\n        [Tokenizer.COMMENT_TOKEN]: appendComment,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterFrameset,\n        [Tokenizer.END_TAG_TOKEN]: endTagAfterFrameset,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_AFTER_BODY_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterBody,\n        [Tokenizer.END_TAG_TOKEN]: tokenAfterAfterBody,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    },\n    [AFTER_AFTER_FRAMESET_MODE]: {\n        [Tokenizer.CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.NULL_CHARACTER_TOKEN]: ignoreToken,\n        [Tokenizer.WHITESPACE_CHARACTER_TOKEN]: whitespaceCharacterInBody,\n        [Tokenizer.COMMENT_TOKEN]: appendCommentToDocument,\n        [Tokenizer.DOCTYPE_TOKEN]: ignoreToken,\n        [Tokenizer.START_TAG_TOKEN]: startTagAfterAfterFrameset,\n        [Tokenizer.END_TAG_TOKEN]: ignoreToken,\n        [Tokenizer.EOF_TOKEN]: stopParsing\n    }\n};\n\n//Parser\nclass Parser {\n    constructor(options) {\n        this.options = mergeOptions(DEFAULT_OPTIONS, options);\n\n        this.treeAdapter = this.options.treeAdapter;\n        this.pendingScript = null;\n\n        if (this.options.sourceCodeLocationInfo) {\n            Mixin.install(this, LocationInfoParserMixin);\n        }\n\n        if (this.options.onParseError) {\n            Mixin.install(this, ErrorReportingParserMixin, { onParseError: this.options.onParseError });\n        }\n    }\n\n    // API\n    parse(html) {\n        const document = this.treeAdapter.createDocument();\n\n        this._bootstrap(document, null);\n        this.tokenizer.write(html, true);\n        this._runParsingLoop(null);\n\n        return document;\n    }\n\n    parseFragment(html, fragmentContext) {\n        //NOTE: use <template> element as a fragment context if context element was not provided,\n        //so we will parse in \"forgiving\" manner\n        if (!fragmentContext) {\n            fragmentContext = this.treeAdapter.createElement($.TEMPLATE, NS.HTML, []);\n        }\n\n        //NOTE: create fake element which will be used as 'document' for fragment parsing.\n        //This is important for jsdom there 'document' can't be recreated, therefore\n        //fragment parsing causes messing of the main `document`.\n        const documentMock = this.treeAdapter.createElement('documentmock', NS.HTML, []);\n\n        this._bootstrap(documentMock, fragmentContext);\n\n        if (this.treeAdapter.getTagName(fragmentContext) === $.TEMPLATE) {\n            this._pushTmplInsertionMode(IN_TEMPLATE_MODE);\n        }\n\n        this._initTokenizerForFragmentParsing();\n        this._insertFakeRootElement();\n        this._resetInsertionMode();\n        this._findFormInFragmentContext();\n        this.tokenizer.write(html, true);\n        this._runParsingLoop(null);\n\n        const rootElement = this.treeAdapter.getFirstChild(documentMock);\n        const fragment = this.treeAdapter.createDocumentFragment();\n\n        this._adoptNodes(rootElement, fragment);\n\n        return fragment;\n    }\n\n    //Bootstrap parser\n    _bootstrap(document, fragmentContext) {\n        this.tokenizer = new Tokenizer(this.options);\n\n        this.stopped = false;\n\n        this.insertionMode = INITIAL_MODE;\n        this.originalInsertionMode = '';\n\n        this.document = document;\n        this.fragmentContext = fragmentContext;\n\n        this.headElement = null;\n        this.formElement = null;\n\n        this.openElements = new OpenElementStack(this.document, this.treeAdapter);\n        this.activeFormattingElements = new FormattingElementList(this.treeAdapter);\n\n        this.tmplInsertionModeStack = [];\n        this.tmplInsertionModeStackTop = -1;\n        this.currentTmplInsertionMode = null;\n\n        this.pendingCharacterTokens = [];\n        this.hasNonWhitespacePendingCharacterToken = false;\n\n        this.framesetOk = true;\n        this.skipNextNewLine = false;\n        this.fosterParentingEnabled = false;\n    }\n\n    //Errors\n    _err() {\n        // NOTE: err reporting is noop by default. Enabled by mixin.\n    }\n\n    //Parsing loop\n    _runParsingLoop(scriptHandler) {\n        while (!this.stopped) {\n            this._setupTokenizerCDATAMode();\n\n            const token = this.tokenizer.getNextToken();\n\n            if (token.type === Tokenizer.HIBERNATION_TOKEN) {\n                break;\n            }\n\n            if (this.skipNextNewLine) {\n                this.skipNextNewLine = false;\n\n                if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN && token.chars[0] === '\\n') {\n                    if (token.chars.length === 1) {\n                        continue;\n                    }\n\n                    token.chars = token.chars.substr(1);\n                }\n            }\n\n            this._processInputToken(token);\n\n            if (scriptHandler && this.pendingScript) {\n                break;\n            }\n        }\n    }\n\n    runParsingLoopForCurrentChunk(writeCallback, scriptHandler) {\n        this._runParsingLoop(scriptHandler);\n\n        if (scriptHandler && this.pendingScript) {\n            const script = this.pendingScript;\n\n            this.pendingScript = null;\n\n            scriptHandler(script);\n\n            return;\n        }\n\n        if (writeCallback) {\n            writeCallback();\n        }\n    }\n\n    //Text parsing\n    _setupTokenizerCDATAMode() {\n        const current = this._getAdjustedCurrentElement();\n\n        this.tokenizer.allowCDATA =\n            current &&\n            current !== this.document &&\n            this.treeAdapter.getNamespaceURI(current) !== NS.HTML &&\n            !this._isIntegrationPoint(current);\n    }\n\n    _switchToTextParsing(currentToken, nextTokenizerState) {\n        this._insertElement(currentToken, NS.HTML);\n        this.tokenizer.state = nextTokenizerState;\n        this.originalInsertionMode = this.insertionMode;\n        this.insertionMode = TEXT_MODE;\n    }\n\n    switchToPlaintextParsing() {\n        this.insertionMode = TEXT_MODE;\n        this.originalInsertionMode = IN_BODY_MODE;\n        this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n    }\n\n    //Fragment parsing\n    _getAdjustedCurrentElement() {\n        return this.openElements.stackTop === 0 && this.fragmentContext\n            ? this.fragmentContext\n            : this.openElements.current;\n    }\n\n    _findFormInFragmentContext() {\n        let node = this.fragmentContext;\n\n        do {\n            if (this.treeAdapter.getTagName(node) === $.FORM) {\n                this.formElement = node;\n                break;\n            }\n\n            node = this.treeAdapter.getParentNode(node);\n        } while (node);\n    }\n\n    _initTokenizerForFragmentParsing() {\n        if (this.treeAdapter.getNamespaceURI(this.fragmentContext) === NS.HTML) {\n            const tn = this.treeAdapter.getTagName(this.fragmentContext);\n\n            if (tn === $.TITLE || tn === $.TEXTAREA) {\n                this.tokenizer.state = Tokenizer.MODE.RCDATA;\n            } else if (\n                tn === $.STYLE ||\n                tn === $.XMP ||\n                tn === $.IFRAME ||\n                tn === $.NOEMBED ||\n                tn === $.NOFRAMES ||\n                tn === $.NOSCRIPT\n            ) {\n                this.tokenizer.state = Tokenizer.MODE.RAWTEXT;\n            } else if (tn === $.SCRIPT) {\n                this.tokenizer.state = Tokenizer.MODE.SCRIPT_DATA;\n            } else if (tn === $.PLAINTEXT) {\n                this.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n            }\n        }\n    }\n\n    //Tree mutation\n    _setDocumentType(token) {\n        const name = token.name || '';\n        const publicId = token.publicId || '';\n        const systemId = token.systemId || '';\n\n        this.treeAdapter.setDocumentType(this.document, name, publicId, systemId);\n    }\n\n    _attachElementToTree(element) {\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentElement(element);\n        } else {\n            const parent = this.openElements.currentTmplContent || this.openElements.current;\n\n            this.treeAdapter.appendChild(parent, element);\n        }\n    }\n\n    _appendElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n\n        this._attachElementToTree(element);\n    }\n\n    _insertElement(token, namespaceURI) {\n        const element = this.treeAdapter.createElement(token.tagName, namespaceURI, token.attrs);\n\n        this._attachElementToTree(element);\n        this.openElements.push(element);\n    }\n\n    _insertFakeElement(tagName) {\n        const element = this.treeAdapter.createElement(tagName, NS.HTML, []);\n\n        this._attachElementToTree(element);\n        this.openElements.push(element);\n    }\n\n    _insertTemplate(token) {\n        const tmpl = this.treeAdapter.createElement(token.tagName, NS.HTML, token.attrs);\n        const content = this.treeAdapter.createDocumentFragment();\n\n        this.treeAdapter.setTemplateContent(tmpl, content);\n        this._attachElementToTree(tmpl);\n        this.openElements.push(tmpl);\n    }\n\n    _insertFakeRootElement() {\n        const element = this.treeAdapter.createElement($.HTML, NS.HTML, []);\n\n        this.treeAdapter.appendChild(this.openElements.current, element);\n        this.openElements.push(element);\n    }\n\n    _appendCommentNode(token, parent) {\n        const commentNode = this.treeAdapter.createCommentNode(token.data);\n\n        this.treeAdapter.appendChild(parent, commentNode);\n    }\n\n    _insertCharacters(token) {\n        if (this._shouldFosterParentOnInsertion()) {\n            this._fosterParentText(token.chars);\n        } else {\n            const parent = this.openElements.currentTmplContent || this.openElements.current;\n\n            this.treeAdapter.insertText(parent, token.chars);\n        }\n    }\n\n    _adoptNodes(donor, recipient) {\n        for (let child = this.treeAdapter.getFirstChild(donor); child; child = this.treeAdapter.getFirstChild(donor)) {\n            this.treeAdapter.detachNode(child);\n            this.treeAdapter.appendChild(recipient, child);\n        }\n    }\n\n    //Token processing\n    _shouldProcessTokenInForeignContent(token) {\n        const current = this._getAdjustedCurrentElement();\n\n        if (!current || current === this.document) {\n            return false;\n        }\n\n        const ns = this.treeAdapter.getNamespaceURI(current);\n\n        if (ns === NS.HTML) {\n            return false;\n        }\n\n        if (\n            this.treeAdapter.getTagName(current) === $.ANNOTATION_XML &&\n            ns === NS.MATHML &&\n            token.type === Tokenizer.START_TAG_TOKEN &&\n            token.tagName === $.SVG\n        ) {\n            return false;\n        }\n\n        const isCharacterToken =\n            token.type === Tokenizer.CHARACTER_TOKEN ||\n            token.type === Tokenizer.NULL_CHARACTER_TOKEN ||\n            token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN;\n\n        const isMathMLTextStartTag =\n            token.type === Tokenizer.START_TAG_TOKEN && token.tagName !== $.MGLYPH && token.tagName !== $.MALIGNMARK;\n\n        if ((isMathMLTextStartTag || isCharacterToken) && this._isIntegrationPoint(current, NS.MATHML)) {\n            return false;\n        }\n\n        if (\n            (token.type === Tokenizer.START_TAG_TOKEN || isCharacterToken) &&\n            this._isIntegrationPoint(current, NS.HTML)\n        ) {\n            return false;\n        }\n\n        return token.type !== Tokenizer.EOF_TOKEN;\n    }\n\n    _processToken(token) {\n        TOKEN_HANDLERS[this.insertionMode][token.type](this, token);\n    }\n\n    _processTokenInBodyMode(token) {\n        TOKEN_HANDLERS[IN_BODY_MODE][token.type](this, token);\n    }\n\n    _processTokenInForeignContent(token) {\n        if (token.type === Tokenizer.CHARACTER_TOKEN) {\n            characterInForeignContent(this, token);\n        } else if (token.type === Tokenizer.NULL_CHARACTER_TOKEN) {\n            nullCharacterInForeignContent(this, token);\n        } else if (token.type === Tokenizer.WHITESPACE_CHARACTER_TOKEN) {\n            insertCharacters(this, token);\n        } else if (token.type === Tokenizer.COMMENT_TOKEN) {\n            appendComment(this, token);\n        } else if (token.type === Tokenizer.START_TAG_TOKEN) {\n            startTagInForeignContent(this, token);\n        } else if (token.type === Tokenizer.END_TAG_TOKEN) {\n            endTagInForeignContent(this, token);\n        }\n    }\n\n    _processInputToken(token) {\n        if (this._shouldProcessTokenInForeignContent(token)) {\n            this._processTokenInForeignContent(token);\n        } else {\n            this._processToken(token);\n        }\n\n        if (token.type === Tokenizer.START_TAG_TOKEN && token.selfClosing && !token.ackSelfClosing) {\n            this._err(ERR.nonVoidHtmlElementStartTagWithTrailingSolidus);\n        }\n    }\n\n    //Integration points\n    _isIntegrationPoint(element, foreignNS) {\n        const tn = this.treeAdapter.getTagName(element);\n        const ns = this.treeAdapter.getNamespaceURI(element);\n        const attrs = this.treeAdapter.getAttrList(element);\n\n        return foreignContent.isIntegrationPoint(tn, ns, attrs, foreignNS);\n    }\n\n    //Active formatting elements reconstruction\n    _reconstructActiveFormattingElements() {\n        const listLength = this.activeFormattingElements.length;\n\n        if (listLength) {\n            let unopenIdx = listLength;\n            let entry = null;\n\n            do {\n                unopenIdx--;\n                entry = this.activeFormattingElements.entries[unopenIdx];\n\n                if (entry.type === FormattingElementList.MARKER_ENTRY || this.openElements.contains(entry.element)) {\n                    unopenIdx++;\n                    break;\n                }\n            } while (unopenIdx > 0);\n\n            for (let i = unopenIdx; i < listLength; i++) {\n                entry = this.activeFormattingElements.entries[i];\n                this._insertElement(entry.token, this.treeAdapter.getNamespaceURI(entry.element));\n                entry.element = this.openElements.current;\n            }\n        }\n    }\n\n    //Close elements\n    _closeTableCell() {\n        this.openElements.generateImpliedEndTags();\n        this.openElements.popUntilTableCellPopped();\n        this.activeFormattingElements.clearToLastMarker();\n        this.insertionMode = IN_ROW_MODE;\n    }\n\n    _closePElement() {\n        this.openElements.generateImpliedEndTagsWithExclusion($.P);\n        this.openElements.popUntilTagNamePopped($.P);\n    }\n\n    //Insertion modes\n    _resetInsertionMode() {\n        for (let i = this.openElements.stackTop, last = false; i >= 0; i--) {\n            let element = this.openElements.items[i];\n\n            if (i === 0) {\n                last = true;\n\n                if (this.fragmentContext) {\n                    element = this.fragmentContext;\n                }\n            }\n\n            const tn = this.treeAdapter.getTagName(element);\n            const newInsertionMode = INSERTION_MODE_RESET_MAP[tn];\n\n            if (newInsertionMode) {\n                this.insertionMode = newInsertionMode;\n                break;\n            } else if (!last && (tn === $.TD || tn === $.TH)) {\n                this.insertionMode = IN_CELL_MODE;\n                break;\n            } else if (!last && tn === $.HEAD) {\n                this.insertionMode = IN_HEAD_MODE;\n                break;\n            } else if (tn === $.SELECT) {\n                this._resetInsertionModeForSelect(i);\n                break;\n            } else if (tn === $.TEMPLATE) {\n                this.insertionMode = this.currentTmplInsertionMode;\n                break;\n            } else if (tn === $.HTML) {\n                this.insertionMode = this.headElement ? AFTER_HEAD_MODE : BEFORE_HEAD_MODE;\n                break;\n            } else if (last) {\n                this.insertionMode = IN_BODY_MODE;\n                break;\n            }\n        }\n    }\n\n    _resetInsertionModeForSelect(selectIdx) {\n        if (selectIdx > 0) {\n            for (let i = selectIdx - 1; i > 0; i--) {\n                const ancestor = this.openElements.items[i];\n                const tn = this.treeAdapter.getTagName(ancestor);\n\n                if (tn === $.TEMPLATE) {\n                    break;\n                } else if (tn === $.TABLE) {\n                    this.insertionMode = IN_SELECT_IN_TABLE_MODE;\n                    return;\n                }\n            }\n        }\n\n        this.insertionMode = IN_SELECT_MODE;\n    }\n\n    _pushTmplInsertionMode(mode) {\n        this.tmplInsertionModeStack.push(mode);\n        this.tmplInsertionModeStackTop++;\n        this.currentTmplInsertionMode = mode;\n    }\n\n    _popTmplInsertionMode() {\n        this.tmplInsertionModeStack.pop();\n        this.tmplInsertionModeStackTop--;\n        this.currentTmplInsertionMode = this.tmplInsertionModeStack[this.tmplInsertionModeStackTop];\n    }\n\n    //Foster parenting\n    _isElementCausesFosterParenting(element) {\n        const tn = this.treeAdapter.getTagName(element);\n\n        return tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR;\n    }\n\n    _shouldFosterParentOnInsertion() {\n        return this.fosterParentingEnabled && this._isElementCausesFosterParenting(this.openElements.current);\n    }\n\n    _findFosterParentingLocation() {\n        const location = {\n            parent: null,\n            beforeElement: null\n        };\n\n        for (let i = this.openElements.stackTop; i >= 0; i--) {\n            const openElement = this.openElements.items[i];\n            const tn = this.treeAdapter.getTagName(openElement);\n            const ns = this.treeAdapter.getNamespaceURI(openElement);\n\n            if (tn === $.TEMPLATE && ns === NS.HTML) {\n                location.parent = this.treeAdapter.getTemplateContent(openElement);\n                break;\n            } else if (tn === $.TABLE) {\n                location.parent = this.treeAdapter.getParentNode(openElement);\n\n                if (location.parent) {\n                    location.beforeElement = openElement;\n                } else {\n                    location.parent = this.openElements.items[i - 1];\n                }\n\n                break;\n            }\n        }\n\n        if (!location.parent) {\n            location.parent = this.openElements.items[0];\n        }\n\n        return location;\n    }\n\n    _fosterParentElement(element) {\n        const location = this._findFosterParentingLocation();\n\n        if (location.beforeElement) {\n            this.treeAdapter.insertBefore(location.parent, element, location.beforeElement);\n        } else {\n            this.treeAdapter.appendChild(location.parent, element);\n        }\n    }\n\n    _fosterParentText(chars) {\n        const location = this._findFosterParentingLocation();\n\n        if (location.beforeElement) {\n            this.treeAdapter.insertTextBefore(location.parent, chars, location.beforeElement);\n        } else {\n            this.treeAdapter.insertText(location.parent, chars);\n        }\n    }\n\n    //Special elements\n    _isSpecialElement(element) {\n        const tn = this.treeAdapter.getTagName(element);\n        const ns = this.treeAdapter.getNamespaceURI(element);\n\n        return HTML.SPECIAL_ELEMENTS[ns][tn];\n    }\n}\n\nmodule.exports = Parser;\n\n//Adoption agency algorithm\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency)\n//------------------------------------------------------------------\n\n//Steps 5-8 of the algorithm\nfunction aaObtainFormattingElementEntry(p, token) {\n    let formattingElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName(token.tagName);\n\n    if (formattingElementEntry) {\n        if (!p.openElements.contains(formattingElementEntry.element)) {\n            p.activeFormattingElements.removeEntry(formattingElementEntry);\n            formattingElementEntry = null;\n        } else if (!p.openElements.hasInScope(token.tagName)) {\n            formattingElementEntry = null;\n        }\n    } else {\n        genericEndTagInBody(p, token);\n    }\n\n    return formattingElementEntry;\n}\n\n//Steps 9 and 10 of the algorithm\nfunction aaObtainFurthestBlock(p, formattingElementEntry) {\n    let furthestBlock = null;\n\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (element === formattingElementEntry.element) {\n            break;\n        }\n\n        if (p._isSpecialElement(element)) {\n            furthestBlock = element;\n        }\n    }\n\n    if (!furthestBlock) {\n        p.openElements.popUntilElementPopped(formattingElementEntry.element);\n        p.activeFormattingElements.removeEntry(formattingElementEntry);\n    }\n\n    return furthestBlock;\n}\n\n//Step 13 of the algorithm\nfunction aaInnerLoop(p, furthestBlock, formattingElement) {\n    let lastElement = furthestBlock;\n    let nextElement = p.openElements.getCommonAncestor(furthestBlock);\n\n    for (let i = 0, element = nextElement; element !== formattingElement; i++, element = nextElement) {\n        //NOTE: store next element for the next loop iteration (it may be deleted from the stack by step 9.5)\n        nextElement = p.openElements.getCommonAncestor(element);\n\n        const elementEntry = p.activeFormattingElements.getElementEntry(element);\n        const counterOverflow = elementEntry && i >= AA_INNER_LOOP_ITER;\n        const shouldRemoveFromOpenElements = !elementEntry || counterOverflow;\n\n        if (shouldRemoveFromOpenElements) {\n            if (counterOverflow) {\n                p.activeFormattingElements.removeEntry(elementEntry);\n            }\n\n            p.openElements.remove(element);\n        } else {\n            element = aaRecreateElementFromEntry(p, elementEntry);\n\n            if (lastElement === furthestBlock) {\n                p.activeFormattingElements.bookmark = elementEntry;\n            }\n\n            p.treeAdapter.detachNode(lastElement);\n            p.treeAdapter.appendChild(element, lastElement);\n            lastElement = element;\n        }\n    }\n\n    return lastElement;\n}\n\n//Step 13.7 of the algorithm\nfunction aaRecreateElementFromEntry(p, elementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(elementEntry.element);\n    const newElement = p.treeAdapter.createElement(elementEntry.token.tagName, ns, elementEntry.token.attrs);\n\n    p.openElements.replace(elementEntry.element, newElement);\n    elementEntry.element = newElement;\n\n    return newElement;\n}\n\n//Step 14 of the algorithm\nfunction aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement) {\n    if (p._isElementCausesFosterParenting(commonAncestor)) {\n        p._fosterParentElement(lastElement);\n    } else {\n        const tn = p.treeAdapter.getTagName(commonAncestor);\n        const ns = p.treeAdapter.getNamespaceURI(commonAncestor);\n\n        if (tn === $.TEMPLATE && ns === NS.HTML) {\n            commonAncestor = p.treeAdapter.getTemplateContent(commonAncestor);\n        }\n\n        p.treeAdapter.appendChild(commonAncestor, lastElement);\n    }\n}\n\n//Steps 15-19 of the algorithm\nfunction aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry) {\n    const ns = p.treeAdapter.getNamespaceURI(formattingElementEntry.element);\n    const token = formattingElementEntry.token;\n    const newElement = p.treeAdapter.createElement(token.tagName, ns, token.attrs);\n\n    p._adoptNodes(furthestBlock, newElement);\n    p.treeAdapter.appendChild(furthestBlock, newElement);\n\n    p.activeFormattingElements.insertElementAfterBookmark(newElement, formattingElementEntry.token);\n    p.activeFormattingElements.removeEntry(formattingElementEntry);\n\n    p.openElements.remove(formattingElementEntry.element);\n    p.openElements.insertAfter(furthestBlock, newElement);\n}\n\n//Algorithm entry point\nfunction callAdoptionAgency(p, token) {\n    let formattingElementEntry;\n\n    for (let i = 0; i < AA_OUTER_LOOP_ITER; i++) {\n        formattingElementEntry = aaObtainFormattingElementEntry(p, token, formattingElementEntry);\n\n        if (!formattingElementEntry) {\n            break;\n        }\n\n        const furthestBlock = aaObtainFurthestBlock(p, formattingElementEntry);\n\n        if (!furthestBlock) {\n            break;\n        }\n\n        p.activeFormattingElements.bookmark = formattingElementEntry;\n\n        const lastElement = aaInnerLoop(p, furthestBlock, formattingElementEntry.element);\n        const commonAncestor = p.openElements.getCommonAncestor(formattingElementEntry.element);\n\n        p.treeAdapter.detachNode(lastElement);\n        aaInsertLastNodeInCommonAncestor(p, commonAncestor, lastElement);\n        aaReplaceFormattingElement(p, furthestBlock, formattingElementEntry);\n    }\n}\n\n//Generic token handlers\n//------------------------------------------------------------------\nfunction ignoreToken() {\n    //NOTE: do nothing =)\n}\n\nfunction misplacedDoctype(p) {\n    p._err(ERR.misplacedDoctype);\n}\n\nfunction appendComment(p, token) {\n    p._appendCommentNode(token, p.openElements.currentTmplContent || p.openElements.current);\n}\n\nfunction appendCommentToRootHtmlElement(p, token) {\n    p._appendCommentNode(token, p.openElements.items[0]);\n}\n\nfunction appendCommentToDocument(p, token) {\n    p._appendCommentNode(token, p.document);\n}\n\nfunction insertCharacters(p, token) {\n    p._insertCharacters(token);\n}\n\nfunction stopParsing(p) {\n    p.stopped = true;\n}\n\n// The \"initial\" insertion mode\n//------------------------------------------------------------------\nfunction doctypeInInitialMode(p, token) {\n    p._setDocumentType(token);\n\n    const mode = token.forceQuirks ? HTML.DOCUMENT_MODE.QUIRKS : doctype.getDocumentMode(token);\n\n    if (!doctype.isConforming(token)) {\n        p._err(ERR.nonConformingDoctype);\n    }\n\n    p.treeAdapter.setDocumentMode(p.document, mode);\n\n    p.insertionMode = BEFORE_HTML_MODE;\n}\n\nfunction tokenInInitialMode(p, token) {\n    p._err(ERR.missingDoctype, { beforeToken: true });\n    p.treeAdapter.setDocumentMode(p.document, HTML.DOCUMENT_MODE.QUIRKS);\n    p.insertionMode = BEFORE_HTML_MODE;\n    p._processToken(token);\n}\n\n// The \"before html\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHtml(p, token) {\n    if (token.tagName === $.HTML) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = BEFORE_HEAD_MODE;\n    } else {\n        tokenBeforeHtml(p, token);\n    }\n}\n\nfunction endTagBeforeHtml(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML || tn === $.HEAD || tn === $.BODY || tn === $.BR) {\n        tokenBeforeHtml(p, token);\n    }\n}\n\nfunction tokenBeforeHtml(p, token) {\n    p._insertFakeRootElement();\n    p.insertionMode = BEFORE_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"before head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagBeforeHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.HEAD) {\n        p._insertElement(token, NS.HTML);\n        p.headElement = p.openElements.current;\n        p.insertionMode = IN_HEAD_MODE;\n    } else {\n        tokenBeforeHead(p, token);\n    }\n}\n\nfunction endTagBeforeHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HEAD || tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenBeforeHead(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenBeforeHead(p, token) {\n    p._insertFakeElement($.HEAD);\n    p.headElement = p.openElements.current;\n    p.insertionMode = IN_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"in head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.BASE || tn === $.BASEFONT || tn === $.BGSOUND || tn === $.LINK || tn === $.META) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.TITLE) {\n        p._switchToTextParsing(token, Tokenizer.MODE.RCDATA);\n    } else if (tn === $.NOSCRIPT) {\n        if (p.options.scriptingEnabled) {\n            p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n        } else {\n            p._insertElement(token, NS.HTML);\n            p.insertionMode = IN_HEAD_NO_SCRIPT_MODE;\n        }\n    } else if (tn === $.NOFRAMES || tn === $.STYLE) {\n        p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n    } else if (tn === $.SCRIPT) {\n        p._switchToTextParsing(token, Tokenizer.MODE.SCRIPT_DATA);\n    } else if (tn === $.TEMPLATE) {\n        p._insertTemplate(token, NS.HTML);\n        p.activeFormattingElements.insertMarker();\n        p.framesetOk = false;\n        p.insertionMode = IN_TEMPLATE_MODE;\n        p._pushTmplInsertionMode(IN_TEMPLATE_MODE);\n    } else if (tn === $.HEAD) {\n        p._err(ERR.misplacedStartTagForHeadElement);\n    } else {\n        tokenInHead(p, token);\n    }\n}\n\nfunction endTagInHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HEAD) {\n        p.openElements.pop();\n        p.insertionMode = AFTER_HEAD_MODE;\n    } else if (tn === $.BODY || tn === $.BR || tn === $.HTML) {\n        tokenInHead(p, token);\n    } else if (tn === $.TEMPLATE) {\n        if (p.openElements.tmplCount > 0) {\n            p.openElements.generateImpliedEndTagsThoroughly();\n\n            if (p.openElements.currentTagName !== $.TEMPLATE) {\n                p._err(ERR.closingOfElementWithOpenChildElements);\n            }\n\n            p.openElements.popUntilTagNamePopped($.TEMPLATE);\n            p.activeFormattingElements.clearToLastMarker();\n            p._popTmplInsertionMode();\n            p._resetInsertionMode();\n        } else {\n            p._err(ERR.endTagWithoutMatchingOpenElement);\n        }\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenInHead(p, token) {\n    p.openElements.pop();\n    p.insertionMode = AFTER_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"in head no script\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInHeadNoScript(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.HEAD ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.STYLE\n    ) {\n        startTagInHead(p, token);\n    } else if (tn === $.NOSCRIPT) {\n        p._err(ERR.nestedNoscriptInHead);\n    } else {\n        tokenInHeadNoScript(p, token);\n    }\n}\n\nfunction endTagInHeadNoScript(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.NOSCRIPT) {\n        p.openElements.pop();\n        p.insertionMode = IN_HEAD_MODE;\n    } else if (tn === $.BR) {\n        tokenInHeadNoScript(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenInHeadNoScript(p, token) {\n    const errCode =\n        token.type === Tokenizer.EOF_TOKEN ? ERR.openElementsLeftAfterEof : ERR.disallowedContentInNoscriptInHead;\n\n    p._err(errCode);\n    p.openElements.pop();\n    p.insertionMode = IN_HEAD_MODE;\n    p._processToken(token);\n}\n\n// The \"after head\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.BODY) {\n        p._insertElement(token, NS.HTML);\n        p.framesetOk = false;\n        p.insertionMode = IN_BODY_MODE;\n    } else if (tn === $.FRAMESET) {\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_FRAMESET_MODE;\n    } else if (\n        tn === $.BASE ||\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.SCRIPT ||\n        tn === $.STYLE ||\n        tn === $.TEMPLATE ||\n        tn === $.TITLE\n    ) {\n        p._err(ERR.abandonedHeadElementChild);\n        p.openElements.push(p.headElement);\n        startTagInHead(p, token);\n        p.openElements.remove(p.headElement);\n    } else if (tn === $.HEAD) {\n        p._err(ERR.misplacedStartTagForHeadElement);\n    } else {\n        tokenAfterHead(p, token);\n    }\n}\n\nfunction endTagAfterHead(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.BODY || tn === $.HTML || tn === $.BR) {\n        tokenAfterHead(p, token);\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else {\n        p._err(ERR.endTagWithoutMatchingOpenElement);\n    }\n}\n\nfunction tokenAfterHead(p, token) {\n    p._insertFakeElement($.BODY);\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"in body\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n}\n\nfunction characterInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\n\nfunction htmlStartTagInBody(p, token) {\n    if (p.openElements.tmplCount === 0) {\n        p.treeAdapter.adoptAttributes(p.openElements.items[0], token.attrs);\n    }\n}\n\nfunction bodyStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n\n    if (bodyElement && p.openElements.tmplCount === 0) {\n        p.framesetOk = false;\n        p.treeAdapter.adoptAttributes(bodyElement, token.attrs);\n    }\n}\n\nfunction framesetStartTagInBody(p, token) {\n    const bodyElement = p.openElements.tryPeekProperlyNestedBodyElement();\n\n    if (p.framesetOk && bodyElement) {\n        p.treeAdapter.detachNode(bodyElement);\n        p.openElements.popAllUpToHtmlElement();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_FRAMESET_MODE;\n    }\n}\n\nfunction addressStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction numberedHeaderStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    const tn = p.openElements.currentTagName;\n\n    if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n        p.openElements.pop();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction preStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of pre blocks are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.framesetOk = false;\n}\n\nfunction formStartTagInBody(p, token) {\n    const inTemplate = p.openElements.tmplCount > 0;\n\n    if (!p.formElement || inTemplate) {\n        if (p.openElements.hasInButtonScope($.P)) {\n            p._closePElement();\n        }\n\n        p._insertElement(token, NS.HTML);\n\n        if (!inTemplate) {\n            p.formElement = p.openElements.current;\n        }\n    }\n}\n\nfunction listItemStartTagInBody(p, token) {\n    p.framesetOk = false;\n\n    const tn = token.tagName;\n\n    for (let i = p.openElements.stackTop; i >= 0; i--) {\n        const element = p.openElements.items[i];\n        const elementTn = p.treeAdapter.getTagName(element);\n        let closeTn = null;\n\n        if (tn === $.LI && elementTn === $.LI) {\n            closeTn = $.LI;\n        } else if ((tn === $.DD || tn === $.DT) && (elementTn === $.DD || elementTn === $.DT)) {\n            closeTn = elementTn;\n        }\n\n        if (closeTn) {\n            p.openElements.generateImpliedEndTagsWithExclusion(closeTn);\n            p.openElements.popUntilTagNamePopped(closeTn);\n            break;\n        }\n\n        if (elementTn !== $.ADDRESS && elementTn !== $.DIV && elementTn !== $.P && p._isSpecialElement(element)) {\n            break;\n        }\n    }\n\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction plaintextStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.tokenizer.state = Tokenizer.MODE.PLAINTEXT;\n}\n\nfunction buttonStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BUTTON)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped($.BUTTON);\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n}\n\nfunction aStartTagInBody(p, token) {\n    const activeElementEntry = p.activeFormattingElements.getElementEntryInScopeWithTagName($.A);\n\n    if (activeElementEntry) {\n        callAdoptionAgency(p, token);\n        p.openElements.remove(activeElementEntry.element);\n        p.activeFormattingElements.removeEntry(activeElementEntry);\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction bStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction nobrStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    if (p.openElements.hasInScope($.NOBR)) {\n        callAdoptionAgency(p, token);\n        p._reconstructActiveFormattingElements();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.pushElement(p.openElements.current, token);\n}\n\nfunction appletStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.activeFormattingElements.insertMarker();\n    p.framesetOk = false;\n}\n\nfunction tableStartTagInBody(p, token) {\n    if (\n        p.treeAdapter.getDocumentMode(p.document) !== HTML.DOCUMENT_MODE.QUIRKS &&\n        p.openElements.hasInButtonScope($.P)\n    ) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n    p.insertionMode = IN_TABLE_MODE;\n}\n\nfunction areaStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\n\nfunction inputStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._appendElement(token, NS.HTML);\n\n    const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);\n\n    if (!inputType || inputType.toLowerCase() !== HIDDEN_INPUT_TYPE) {\n        p.framesetOk = false;\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction paramStartTagInBody(p, token) {\n    p._appendElement(token, NS.HTML);\n    token.ackSelfClosing = true;\n}\n\nfunction hrStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._appendElement(token, NS.HTML);\n    p.framesetOk = false;\n    token.ackSelfClosing = true;\n}\n\nfunction imageStartTagInBody(p, token) {\n    token.tagName = $.IMG;\n    areaStartTagInBody(p, token);\n}\n\nfunction textareaStartTagInBody(p, token) {\n    p._insertElement(token, NS.HTML);\n    //NOTE: If the next token is a U+000A LINE FEED (LF) character token, then ignore that token and move\n    //on to the next one. (Newlines at the start of textarea elements are ignored as an authoring convenience.)\n    p.skipNextNewLine = true;\n    p.tokenizer.state = Tokenizer.MODE.RCDATA;\n    p.originalInsertionMode = p.insertionMode;\n    p.framesetOk = false;\n    p.insertionMode = TEXT_MODE;\n}\n\nfunction xmpStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._reconstructActiveFormattingElements();\n    p.framesetOk = false;\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\nfunction iframeStartTagInBody(p, token) {\n    p.framesetOk = false;\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\n//NOTE: here we assume that we always act as an user agent with enabled plugins, so we parse\n//<noembed> as a rawtext.\nfunction noembedStartTagInBody(p, token) {\n    p._switchToTextParsing(token, Tokenizer.MODE.RAWTEXT);\n}\n\nfunction selectStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n    p.framesetOk = false;\n\n    if (\n        p.insertionMode === IN_TABLE_MODE ||\n        p.insertionMode === IN_CAPTION_MODE ||\n        p.insertionMode === IN_TABLE_BODY_MODE ||\n        p.insertionMode === IN_ROW_MODE ||\n        p.insertionMode === IN_CELL_MODE\n    ) {\n        p.insertionMode = IN_SELECT_IN_TABLE_MODE;\n    } else {\n        p.insertionMode = IN_SELECT_MODE;\n    }\n}\n\nfunction optgroupStartTagInBody(p, token) {\n    if (p.openElements.currentTagName === $.OPTION) {\n        p.openElements.pop();\n    }\n\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\n\nfunction rbStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTags();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction rtStartTagInBody(p, token) {\n    if (p.openElements.hasInScope($.RUBY)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.RTC);\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction menuStartTagInBody(p, token) {\n    if (p.openElements.hasInButtonScope($.P)) {\n        p._closePElement();\n    }\n\n    p._insertElement(token, NS.HTML);\n}\n\nfunction mathStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    foreignContent.adjustTokenMathMLAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n\n    if (token.selfClosing) {\n        p._appendElement(token, NS.MATHML);\n    } else {\n        p._insertElement(token, NS.MATHML);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction svgStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n\n    foreignContent.adjustTokenSVGAttrs(token);\n    foreignContent.adjustTokenXMLAttrs(token);\n\n    if (token.selfClosing) {\n        p._appendElement(token, NS.SVG);\n    } else {\n        p._insertElement(token, NS.SVG);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction genericStartTagInBody(p, token) {\n    p._reconstructActiveFormattingElements();\n    p._insertElement(token, NS.HTML);\n}\n\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\n//It's faster than using dictionary.\nfunction startTagInBody(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 1:\n            if (tn === $.I || tn === $.S || tn === $.B || tn === $.U) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.P) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.A) {\n                aStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 2:\n            if (tn === $.DL || tn === $.OL || tn === $.UL) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n                numberedHeaderStartTagInBody(p, token);\n            } else if (tn === $.LI || tn === $.DD || tn === $.DT) {\n                listItemStartTagInBody(p, token);\n            } else if (tn === $.EM || tn === $.TT) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.BR) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.HR) {\n                hrStartTagInBody(p, token);\n            } else if (tn === $.RB) {\n                rbStartTagInBody(p, token);\n            } else if (tn === $.RT || tn === $.RP) {\n                rtStartTagInBody(p, token);\n            } else if (tn !== $.TH && tn !== $.TD && tn !== $.TR) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.DIV || tn === $.DIR || tn === $.NAV) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.PRE) {\n                preStartTagInBody(p, token);\n            } else if (tn === $.BIG) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.IMG || tn === $.WBR) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.XMP) {\n                xmpStartTagInBody(p, token);\n            } else if (tn === $.SVG) {\n                svgStartTagInBody(p, token);\n            } else if (tn === $.RTC) {\n                rbStartTagInBody(p, token);\n            } else if (tn !== $.COL) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.HTML) {\n                htmlStartTagInBody(p, token);\n            } else if (tn === $.BASE || tn === $.LINK || tn === $.META) {\n                startTagInHead(p, token);\n            } else if (tn === $.BODY) {\n                bodyStartTagInBody(p, token);\n            } else if (tn === $.MAIN || tn === $.MENU) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.FORM) {\n                formStartTagInBody(p, token);\n            } else if (tn === $.CODE || tn === $.FONT) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.NOBR) {\n                nobrStartTagInBody(p, token);\n            } else if (tn === $.AREA) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.MATH) {\n                mathStartTagInBody(p, token);\n            } else if (tn === $.MENU) {\n                menuStartTagInBody(p, token);\n            } else if (tn !== $.HEAD) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.STYLE || tn === $.TITLE) {\n                startTagInHead(p, token);\n            } else if (tn === $.ASIDE) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.SMALL) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.TABLE) {\n                tableStartTagInBody(p, token);\n            } else if (tn === $.EMBED) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.INPUT) {\n                inputStartTagInBody(p, token);\n            } else if (tn === $.PARAM || tn === $.TRACK) {\n                paramStartTagInBody(p, token);\n            } else if (tn === $.IMAGE) {\n                imageStartTagInBody(p, token);\n            } else if (tn !== $.FRAME && tn !== $.TBODY && tn !== $.TFOOT && tn !== $.THEAD) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (tn === $.SCRIPT) {\n                startTagInHead(p, token);\n            } else if (\n                tn === $.CENTER ||\n                tn === $.FIGURE ||\n                tn === $.FOOTER ||\n                tn === $.HEADER ||\n                tn === $.HGROUP ||\n                tn === $.DIALOG\n            ) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.BUTTON) {\n                buttonStartTagInBody(p, token);\n            } else if (tn === $.STRIKE || tn === $.STRONG) {\n                bStartTagInBody(p, token);\n            } else if (tn === $.APPLET || tn === $.OBJECT) {\n                appletStartTagInBody(p, token);\n            } else if (tn === $.KEYGEN) {\n                areaStartTagInBody(p, token);\n            } else if (tn === $.SOURCE) {\n                paramStartTagInBody(p, token);\n            } else if (tn === $.IFRAME) {\n                iframeStartTagInBody(p, token);\n            } else if (tn === $.SELECT) {\n                selectStartTagInBody(p, token);\n            } else if (tn === $.OPTION) {\n                optgroupStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (tn === $.BGSOUND) {\n                startTagInHead(p, token);\n            } else if (\n                tn === $.DETAILS ||\n                tn === $.ADDRESS ||\n                tn === $.ARTICLE ||\n                tn === $.SECTION ||\n                tn === $.SUMMARY\n            ) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.LISTING) {\n                preStartTagInBody(p, token);\n            } else if (tn === $.MARQUEE) {\n                appletStartTagInBody(p, token);\n            } else if (tn === $.NOEMBED) {\n                noembedStartTagInBody(p, token);\n            } else if (tn !== $.CAPTION) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.BASEFONT) {\n                startTagInHead(p, token);\n            } else if (tn === $.FRAMESET) {\n                framesetStartTagInBody(p, token);\n            } else if (tn === $.FIELDSET) {\n                addressStartTagInBody(p, token);\n            } else if (tn === $.TEXTAREA) {\n                textareaStartTagInBody(p, token);\n            } else if (tn === $.TEMPLATE) {\n                startTagInHead(p, token);\n            } else if (tn === $.NOSCRIPT) {\n                if (p.options.scriptingEnabled) {\n                    noembedStartTagInBody(p, token);\n                } else {\n                    genericStartTagInBody(p, token);\n                }\n            } else if (tn === $.OPTGROUP) {\n                optgroupStartTagInBody(p, token);\n            } else if (tn !== $.COLGROUP) {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 9:\n            if (tn === $.PLAINTEXT) {\n                plaintextStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        case 10:\n            if (tn === $.BLOCKQUOTE || tn === $.FIGCAPTION) {\n                addressStartTagInBody(p, token);\n            } else {\n                genericStartTagInBody(p, token);\n            }\n\n            break;\n\n        default:\n            genericStartTagInBody(p, token);\n    }\n}\n\nfunction bodyEndTagInBody(p) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = AFTER_BODY_MODE;\n    }\n}\n\nfunction htmlEndTagInBody(p, token) {\n    if (p.openElements.hasInScope($.BODY)) {\n        p.insertionMode = AFTER_BODY_MODE;\n        p._processToken(token);\n    }\n}\n\nfunction addressEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\n\nfunction formEndTagInBody(p) {\n    const inTemplate = p.openElements.tmplCount > 0;\n    const formElement = p.formElement;\n\n    if (!inTemplate) {\n        p.formElement = null;\n    }\n\n    if ((formElement || inTemplate) && p.openElements.hasInScope($.FORM)) {\n        p.openElements.generateImpliedEndTags();\n\n        if (inTemplate) {\n            p.openElements.popUntilTagNamePopped($.FORM);\n        } else {\n            p.openElements.remove(formElement);\n        }\n    }\n}\n\nfunction pEndTagInBody(p) {\n    if (!p.openElements.hasInButtonScope($.P)) {\n        p._insertFakeElement($.P);\n    }\n\n    p._closePElement();\n}\n\nfunction liEndTagInBody(p) {\n    if (p.openElements.hasInListItemScope($.LI)) {\n        p.openElements.generateImpliedEndTagsWithExclusion($.LI);\n        p.openElements.popUntilTagNamePopped($.LI);\n    }\n}\n\nfunction ddEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTagsWithExclusion(tn);\n        p.openElements.popUntilTagNamePopped(tn);\n    }\n}\n\nfunction numberedHeaderEndTagInBody(p) {\n    if (p.openElements.hasNumberedHeaderInScope()) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilNumberedHeaderPopped();\n    }\n}\n\nfunction appletEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    if (p.openElements.hasInScope(tn)) {\n        p.openElements.generateImpliedEndTags();\n        p.openElements.popUntilTagNamePopped(tn);\n        p.activeFormattingElements.clearToLastMarker();\n    }\n}\n\nfunction brEndTagInBody(p) {\n    p._reconstructActiveFormattingElements();\n    p._insertFakeElement($.BR);\n    p.openElements.pop();\n    p.framesetOk = false;\n}\n\nfunction genericEndTagInBody(p, token) {\n    const tn = token.tagName;\n\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (p.treeAdapter.getTagName(element) === tn) {\n            p.openElements.generateImpliedEndTagsWithExclusion(tn);\n            p.openElements.popUntilElementPopped(element);\n            break;\n        }\n\n        if (p._isSpecialElement(element)) {\n            break;\n        }\n    }\n}\n\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\n//It's faster than using dictionary.\nfunction endTagInBody(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 1:\n            if (tn === $.A || tn === $.B || tn === $.I || tn === $.S || tn === $.U) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.P) {\n                pEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 2:\n            if (tn === $.DL || tn === $.UL || tn === $.OL) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.LI) {\n                liEndTagInBody(p, token);\n            } else if (tn === $.DD || tn === $.DT) {\n                ddEndTagInBody(p, token);\n            } else if (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) {\n                numberedHeaderEndTagInBody(p, token);\n            } else if (tn === $.BR) {\n                brEndTagInBody(p, token);\n            } else if (tn === $.EM || tn === $.TT) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.BIG) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.DIR || tn === $.DIV || tn === $.NAV || tn === $.PRE) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.BODY) {\n                bodyEndTagInBody(p, token);\n            } else if (tn === $.HTML) {\n                htmlEndTagInBody(p, token);\n            } else if (tn === $.FORM) {\n                formEndTagInBody(p, token);\n            } else if (tn === $.CODE || tn === $.FONT || tn === $.NOBR) {\n                callAdoptionAgency(p, token);\n            } else if (tn === $.MAIN || tn === $.MENU) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.ASIDE) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.SMALL) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (\n                tn === $.CENTER ||\n                tn === $.FIGURE ||\n                tn === $.FOOTER ||\n                tn === $.HEADER ||\n                tn === $.HGROUP ||\n                tn === $.DIALOG\n            ) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.APPLET || tn === $.OBJECT) {\n                appletEndTagInBody(p, token);\n            } else if (tn === $.STRIKE || tn === $.STRONG) {\n                callAdoptionAgency(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (\n                tn === $.ADDRESS ||\n                tn === $.ARTICLE ||\n                tn === $.DETAILS ||\n                tn === $.SECTION ||\n                tn === $.SUMMARY ||\n                tn === $.LISTING\n            ) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.MARQUEE) {\n                appletEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.FIELDSET) {\n                addressEndTagInBody(p, token);\n            } else if (tn === $.TEMPLATE) {\n                endTagInHead(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        case 10:\n            if (tn === $.BLOCKQUOTE || tn === $.FIGCAPTION) {\n                addressEndTagInBody(p, token);\n            } else {\n                genericEndTagInBody(p, token);\n            }\n\n            break;\n\n        default:\n            genericEndTagInBody(p, token);\n    }\n}\n\nfunction eofInBody(p, token) {\n    if (p.tmplInsertionModeStackTop > -1) {\n        eofInTemplate(p, token);\n    } else {\n        p.stopped = true;\n    }\n}\n\n// The \"text\" insertion mode\n//------------------------------------------------------------------\nfunction endTagInText(p, token) {\n    if (token.tagName === $.SCRIPT) {\n        p.pendingScript = p.openElements.current;\n    }\n\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n}\n\nfunction eofInText(p, token) {\n    p._err(ERR.eofInElementThatCanContainOnlyText);\n    p.openElements.pop();\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n\n// The \"in table\" insertion mode\n//------------------------------------------------------------------\nfunction characterInTable(p, token) {\n    const curTn = p.openElements.currentTagName;\n\n    if (curTn === $.TABLE || curTn === $.TBODY || curTn === $.TFOOT || curTn === $.THEAD || curTn === $.TR) {\n        p.pendingCharacterTokens = [];\n        p.hasNonWhitespacePendingCharacterToken = false;\n        p.originalInsertionMode = p.insertionMode;\n        p.insertionMode = IN_TABLE_TEXT_MODE;\n        p._processToken(token);\n    } else {\n        tokenInTable(p, token);\n    }\n}\n\nfunction captionStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p.activeFormattingElements.insertMarker();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_CAPTION_MODE;\n}\n\nfunction colgroupStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_COLUMN_GROUP_MODE;\n}\n\nfunction colStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement($.COLGROUP);\n    p.insertionMode = IN_COLUMN_GROUP_MODE;\n    p._processToken(token);\n}\n\nfunction tbodyStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertElement(token, NS.HTML);\n    p.insertionMode = IN_TABLE_BODY_MODE;\n}\n\nfunction tdStartTagInTable(p, token) {\n    p.openElements.clearBackToTableContext();\n    p._insertFakeElement($.TBODY);\n    p.insertionMode = IN_TABLE_BODY_MODE;\n    p._processToken(token);\n}\n\nfunction tableStartTagInTable(p, token) {\n    if (p.openElements.hasInTableScope($.TABLE)) {\n        p.openElements.popUntilTagNamePopped($.TABLE);\n        p._resetInsertionMode();\n        p._processToken(token);\n    }\n}\n\nfunction inputStartTagInTable(p, token) {\n    const inputType = Tokenizer.getTokenAttr(token, ATTRS.TYPE);\n\n    if (inputType && inputType.toLowerCase() === HIDDEN_INPUT_TYPE) {\n        p._appendElement(token, NS.HTML);\n    } else {\n        tokenInTable(p, token);\n    }\n\n    token.ackSelfClosing = true;\n}\n\nfunction formStartTagInTable(p, token) {\n    if (!p.formElement && p.openElements.tmplCount === 0) {\n        p._insertElement(token, NS.HTML);\n        p.formElement = p.openElements.current;\n        p.openElements.pop();\n    }\n}\n\nfunction startTagInTable(p, token) {\n    const tn = token.tagName;\n\n    switch (tn.length) {\n        case 2:\n            if (tn === $.TD || tn === $.TH || tn === $.TR) {\n                tdStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 3:\n            if (tn === $.COL) {\n                colStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.FORM) {\n                formStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.TABLE) {\n                tableStartTagInTable(p, token);\n            } else if (tn === $.STYLE) {\n                startTagInHead(p, token);\n            } else if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n                tbodyStartTagInTable(p, token);\n            } else if (tn === $.INPUT) {\n                inputStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 6:\n            if (tn === $.SCRIPT) {\n                startTagInHead(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 7:\n            if (tn === $.CAPTION) {\n                captionStartTagInTable(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        case 8:\n            if (tn === $.COLGROUP) {\n                colgroupStartTagInTable(p, token);\n            } else if (tn === $.TEMPLATE) {\n                startTagInHead(p, token);\n            } else {\n                tokenInTable(p, token);\n            }\n\n            break;\n\n        default:\n            tokenInTable(p, token);\n    }\n}\n\nfunction endTagInTable(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.TABLE)) {\n            p.openElements.popUntilTagNamePopped($.TABLE);\n            p._resetInsertionMode();\n        }\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else if (\n        tn !== $.BODY &&\n        tn !== $.CAPTION &&\n        tn !== $.COL &&\n        tn !== $.COLGROUP &&\n        tn !== $.HTML &&\n        tn !== $.TBODY &&\n        tn !== $.TD &&\n        tn !== $.TFOOT &&\n        tn !== $.TH &&\n        tn !== $.THEAD &&\n        tn !== $.TR\n    ) {\n        tokenInTable(p, token);\n    }\n}\n\nfunction tokenInTable(p, token) {\n    const savedFosterParentingState = p.fosterParentingEnabled;\n\n    p.fosterParentingEnabled = true;\n    p._processTokenInBodyMode(token);\n    p.fosterParentingEnabled = savedFosterParentingState;\n}\n\n// The \"in table text\" insertion mode\n//------------------------------------------------------------------\nfunction whitespaceCharacterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n}\n\nfunction characterInTableText(p, token) {\n    p.pendingCharacterTokens.push(token);\n    p.hasNonWhitespacePendingCharacterToken = true;\n}\n\nfunction tokenInTableText(p, token) {\n    let i = 0;\n\n    if (p.hasNonWhitespacePendingCharacterToken) {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            tokenInTable(p, p.pendingCharacterTokens[i]);\n        }\n    } else {\n        for (; i < p.pendingCharacterTokens.length; i++) {\n            p._insertCharacters(p.pendingCharacterTokens[i]);\n        }\n    }\n\n    p.insertionMode = p.originalInsertionMode;\n    p._processToken(token);\n}\n\n// The \"in caption\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCaption(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TD ||\n        tn === $.TFOOT ||\n        tn === $.TH ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInBody(p, token);\n    }\n}\n\nfunction endTagInCaption(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.CAPTION || tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.CAPTION)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped($.CAPTION);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_TABLE_MODE;\n\n            if (tn === $.TABLE) {\n                p._processToken(token);\n            }\n        }\n    } else if (\n        tn !== $.BODY &&\n        tn !== $.COL &&\n        tn !== $.COLGROUP &&\n        tn !== $.HTML &&\n        tn !== $.TBODY &&\n        tn !== $.TD &&\n        tn !== $.TFOOT &&\n        tn !== $.TH &&\n        tn !== $.THEAD &&\n        tn !== $.TR\n    ) {\n        endTagInBody(p, token);\n    }\n}\n\n// The \"in column group\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInColumnGroup(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.COL) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.TEMPLATE) {\n        startTagInHead(p, token);\n    } else {\n        tokenInColumnGroup(p, token);\n    }\n}\n\nfunction endTagInColumnGroup(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.COLGROUP) {\n        if (p.openElements.currentTagName === $.COLGROUP) {\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n        }\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    } else if (tn !== $.COL) {\n        tokenInColumnGroup(p, token);\n    }\n}\n\nfunction tokenInColumnGroup(p, token) {\n    if (p.openElements.currentTagName === $.COLGROUP) {\n        p.openElements.pop();\n        p.insertionMode = IN_TABLE_MODE;\n        p._processToken(token);\n    }\n}\n\n// The \"in table body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTableBody(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TR) {\n        p.openElements.clearBackToTableBodyContext();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_ROW_MODE;\n    } else if (tn === $.TH || tn === $.TD) {\n        p.openElements.clearBackToTableBodyContext();\n        p._insertFakeElement($.TR);\n        p.insertionMode = IN_ROW_MODE;\n        p._processToken(token);\n    } else if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD\n    ) {\n        if (p.openElements.hasTableBodyContextInTableScope()) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInTable(p, token);\n    }\n}\n\nfunction endTagInTableBody(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n        }\n    } else if (tn === $.TABLE) {\n        if (p.openElements.hasTableBodyContextInTableScope()) {\n            p.openElements.clearBackToTableBodyContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_MODE;\n            p._processToken(token);\n        }\n    } else if (\n        (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP) ||\n        (tn !== $.HTML && tn !== $.TD && tn !== $.TH && tn !== $.TR)\n    ) {\n        endTagInTable(p, token);\n    }\n}\n\n// The \"in row\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInRow(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TH || tn === $.TD) {\n        p.openElements.clearBackToTableRowContext();\n        p._insertElement(token, NS.HTML);\n        p.insertionMode = IN_CELL_MODE;\n        p.activeFormattingElements.insertMarker();\n    } else if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else {\n        startTagInTable(p, token);\n    }\n}\n\nfunction endTagInRow(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TR) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n        }\n    } else if (tn === $.TABLE) {\n        if (p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else if (tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD) {\n        if (p.openElements.hasInTableScope(tn) || p.openElements.hasInTableScope($.TR)) {\n            p.openElements.clearBackToTableRowContext();\n            p.openElements.pop();\n            p.insertionMode = IN_TABLE_BODY_MODE;\n            p._processToken(token);\n        }\n    } else if (\n        (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP) ||\n        (tn !== $.HTML && tn !== $.TD && tn !== $.TH)\n    ) {\n        endTagInTable(p, token);\n    }\n}\n\n// The \"in cell\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInCell(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.COL ||\n        tn === $.COLGROUP ||\n        tn === $.TBODY ||\n        tn === $.TD ||\n        tn === $.TFOOT ||\n        tn === $.TH ||\n        tn === $.THEAD ||\n        tn === $.TR\n    ) {\n        if (p.openElements.hasInTableScope($.TD) || p.openElements.hasInTableScope($.TH)) {\n            p._closeTableCell();\n            p._processToken(token);\n        }\n    } else {\n        startTagInBody(p, token);\n    }\n}\n\nfunction endTagInCell(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.TD || tn === $.TH) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.generateImpliedEndTags();\n            p.openElements.popUntilTagNamePopped(tn);\n            p.activeFormattingElements.clearToLastMarker();\n            p.insertionMode = IN_ROW_MODE;\n        }\n    } else if (tn === $.TABLE || tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD || tn === $.TR) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p._closeTableCell();\n            p._processToken(token);\n        }\n    } else if (tn !== $.BODY && tn !== $.CAPTION && tn !== $.COL && tn !== $.COLGROUP && tn !== $.HTML) {\n        endTagInBody(p, token);\n    }\n}\n\n// The \"in select\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelect(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.OPTION) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.OPTGROUP) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n\n        if (p.openElements.currentTagName === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.INPUT || tn === $.KEYGEN || tn === $.TEXTAREA || tn === $.SELECT) {\n        if (p.openElements.hasInSelectScope($.SELECT)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n\n            if (tn !== $.SELECT) {\n                p._processToken(token);\n            }\n        }\n    } else if (tn === $.SCRIPT || tn === $.TEMPLATE) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagInSelect(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.OPTGROUP) {\n        const prevOpenElement = p.openElements.items[p.openElements.stackTop - 1];\n        const prevOpenElementTn = prevOpenElement && p.treeAdapter.getTagName(prevOpenElement);\n\n        if (p.openElements.currentTagName === $.OPTION && prevOpenElementTn === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n\n        if (p.openElements.currentTagName === $.OPTGROUP) {\n            p.openElements.pop();\n        }\n    } else if (tn === $.OPTION) {\n        if (p.openElements.currentTagName === $.OPTION) {\n            p.openElements.pop();\n        }\n    } else if (tn === $.SELECT && p.openElements.hasInSelectScope($.SELECT)) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n    } else if (tn === $.TEMPLATE) {\n        endTagInHead(p, token);\n    }\n}\n\n//12.2.5.4.17 The \"in select in table\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInSelectInTable(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH\n    ) {\n        p.openElements.popUntilTagNamePopped($.SELECT);\n        p._resetInsertionMode();\n        p._processToken(token);\n    } else {\n        startTagInSelect(p, token);\n    }\n}\n\nfunction endTagInSelectInTable(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.CAPTION ||\n        tn === $.TABLE ||\n        tn === $.TBODY ||\n        tn === $.TFOOT ||\n        tn === $.THEAD ||\n        tn === $.TR ||\n        tn === $.TD ||\n        tn === $.TH\n    ) {\n        if (p.openElements.hasInTableScope(tn)) {\n            p.openElements.popUntilTagNamePopped($.SELECT);\n            p._resetInsertionMode();\n            p._processToken(token);\n        }\n    } else {\n        endTagInSelect(p, token);\n    }\n}\n\n// The \"in template\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInTemplate(p, token) {\n    const tn = token.tagName;\n\n    if (\n        tn === $.BASE ||\n        tn === $.BASEFONT ||\n        tn === $.BGSOUND ||\n        tn === $.LINK ||\n        tn === $.META ||\n        tn === $.NOFRAMES ||\n        tn === $.SCRIPT ||\n        tn === $.STYLE ||\n        tn === $.TEMPLATE ||\n        tn === $.TITLE\n    ) {\n        startTagInHead(p, token);\n    } else {\n        const newInsertionMode = TEMPLATE_INSERTION_MODE_SWITCH_MAP[tn] || IN_BODY_MODE;\n\n        p._popTmplInsertionMode();\n        p._pushTmplInsertionMode(newInsertionMode);\n        p.insertionMode = newInsertionMode;\n        p._processToken(token);\n    }\n}\n\nfunction endTagInTemplate(p, token) {\n    if (token.tagName === $.TEMPLATE) {\n        endTagInHead(p, token);\n    }\n}\n\nfunction eofInTemplate(p, token) {\n    if (p.openElements.tmplCount > 0) {\n        p.openElements.popUntilTagNamePopped($.TEMPLATE);\n        p.activeFormattingElements.clearToLastMarker();\n        p._popTmplInsertionMode();\n        p._resetInsertionMode();\n        p._processToken(token);\n    } else {\n        p.stopped = true;\n    }\n}\n\n// The \"after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        startTagInBody(p, token);\n    } else {\n        tokenAfterBody(p, token);\n    }\n}\n\nfunction endTagAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        if (!p.fragmentContext) {\n            p.insertionMode = AFTER_AFTER_BODY_MODE;\n        }\n    } else {\n        tokenAfterBody(p, token);\n    }\n}\n\nfunction tokenAfterBody(p, token) {\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"in frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagInFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.FRAMESET) {\n        p._insertElement(token, NS.HTML);\n    } else if (tn === $.FRAME) {\n        p._appendElement(token, NS.HTML);\n        token.ackSelfClosing = true;\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagInFrameset(p, token) {\n    if (token.tagName === $.FRAMESET && !p.openElements.isRootHtmlElementCurrent()) {\n        p.openElements.pop();\n\n        if (!p.fragmentContext && p.openElements.currentTagName !== $.FRAMESET) {\n            p.insertionMode = AFTER_FRAMESET_MODE;\n        }\n    }\n}\n\n// The \"after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\nfunction endTagAfterFrameset(p, token) {\n    if (token.tagName === $.HTML) {\n        p.insertionMode = AFTER_AFTER_FRAMESET_MODE;\n    }\n}\n\n// The \"after after body\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterBody(p, token) {\n    if (token.tagName === $.HTML) {\n        startTagInBody(p, token);\n    } else {\n        tokenAfterAfterBody(p, token);\n    }\n}\n\nfunction tokenAfterAfterBody(p, token) {\n    p.insertionMode = IN_BODY_MODE;\n    p._processToken(token);\n}\n\n// The \"after after frameset\" insertion mode\n//------------------------------------------------------------------\nfunction startTagAfterAfterFrameset(p, token) {\n    const tn = token.tagName;\n\n    if (tn === $.HTML) {\n        startTagInBody(p, token);\n    } else if (tn === $.NOFRAMES) {\n        startTagInHead(p, token);\n    }\n}\n\n// The rules for parsing tokens in foreign content\n//------------------------------------------------------------------\nfunction nullCharacterInForeignContent(p, token) {\n    token.chars = unicode.REPLACEMENT_CHARACTER;\n    p._insertCharacters(token);\n}\n\nfunction characterInForeignContent(p, token) {\n    p._insertCharacters(token);\n    p.framesetOk = false;\n}\n\nfunction startTagInForeignContent(p, token) {\n    if (foreignContent.causesExit(token) && !p.fragmentContext) {\n        while (\n            p.treeAdapter.getNamespaceURI(p.openElements.current) !== NS.HTML &&\n            !p._isIntegrationPoint(p.openElements.current)\n        ) {\n            p.openElements.pop();\n        }\n\n        p._processToken(token);\n    } else {\n        const current = p._getAdjustedCurrentElement();\n        const currentNs = p.treeAdapter.getNamespaceURI(current);\n\n        if (currentNs === NS.MATHML) {\n            foreignContent.adjustTokenMathMLAttrs(token);\n        } else if (currentNs === NS.SVG) {\n            foreignContent.adjustTokenSVGTagName(token);\n            foreignContent.adjustTokenSVGAttrs(token);\n        }\n\n        foreignContent.adjustTokenXMLAttrs(token);\n\n        if (token.selfClosing) {\n            p._appendElement(token, currentNs);\n        } else {\n            p._insertElement(token, currentNs);\n        }\n\n        token.ackSelfClosing = true;\n    }\n}\n\nfunction endTagInForeignContent(p, token) {\n    for (let i = p.openElements.stackTop; i > 0; i--) {\n        const element = p.openElements.items[i];\n\n        if (p.treeAdapter.getNamespaceURI(element) === NS.HTML) {\n            p._processToken(token);\n            break;\n        }\n\n        if (p.treeAdapter.getTagName(element).toLowerCase() === token.tagName) {\n            p.openElements.popUntilElementPopped(element);\n            break;\n        }\n    }\n}\n",
    "'use strict';\n\nconst HTML = require('../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\n\n//Element utils\n\n//OPTIMIZATION: Integer comparisons are low-cost, so we can use very fast tag name length filters here.\n//It's faster than using dictionary.\nfunction isImpliedEndTagRequired(tn) {\n    switch (tn.length) {\n        case 1:\n            return tn === $.P;\n\n        case 2:\n            return tn === $.RB || tn === $.RP || tn === $.RT || tn === $.DD || tn === $.DT || tn === $.LI;\n\n        case 3:\n            return tn === $.RTC;\n\n        case 6:\n            return tn === $.OPTION;\n\n        case 8:\n            return tn === $.OPTGROUP;\n    }\n\n    return false;\n}\n\nfunction isImpliedEndTagRequiredThoroughly(tn) {\n    switch (tn.length) {\n        case 1:\n            return tn === $.P;\n\n        case 2:\n            return (\n                tn === $.RB ||\n                tn === $.RP ||\n                tn === $.RT ||\n                tn === $.DD ||\n                tn === $.DT ||\n                tn === $.LI ||\n                tn === $.TD ||\n                tn === $.TH ||\n                tn === $.TR\n            );\n\n        case 3:\n            return tn === $.RTC;\n\n        case 5:\n            return tn === $.TBODY || tn === $.TFOOT || tn === $.THEAD;\n\n        case 6:\n            return tn === $.OPTION;\n\n        case 7:\n            return tn === $.CAPTION;\n\n        case 8:\n            return tn === $.OPTGROUP || tn === $.COLGROUP;\n    }\n\n    return false;\n}\n\nfunction isScopingElement(tn, ns) {\n    switch (tn.length) {\n        case 2:\n            if (tn === $.TD || tn === $.TH) {\n                return ns === NS.HTML;\n            } else if (tn === $.MI || tn === $.MO || tn === $.MN || tn === $.MS) {\n                return ns === NS.MATHML;\n            }\n\n            break;\n\n        case 4:\n            if (tn === $.HTML) {\n                return ns === NS.HTML;\n            } else if (tn === $.DESC) {\n                return ns === NS.SVG;\n            }\n\n            break;\n\n        case 5:\n            if (tn === $.TABLE) {\n                return ns === NS.HTML;\n            } else if (tn === $.MTEXT) {\n                return ns === NS.MATHML;\n            } else if (tn === $.TITLE) {\n                return ns === NS.SVG;\n            }\n\n            break;\n\n        case 6:\n            return (tn === $.APPLET || tn === $.OBJECT) && ns === NS.HTML;\n\n        case 7:\n            return (tn === $.CAPTION || tn === $.MARQUEE) && ns === NS.HTML;\n\n        case 8:\n            return tn === $.TEMPLATE && ns === NS.HTML;\n\n        case 13:\n            return tn === $.FOREIGN_OBJECT && ns === NS.SVG;\n\n        case 14:\n            return tn === $.ANNOTATION_XML && ns === NS.MATHML;\n    }\n\n    return false;\n}\n\n//Stack of open elements\nclass OpenElementStack {\n    constructor(document, treeAdapter) {\n        this.stackTop = -1;\n        this.items = [];\n        this.current = document;\n        this.currentTagName = null;\n        this.currentTmplContent = null;\n        this.tmplCount = 0;\n        this.treeAdapter = treeAdapter;\n    }\n\n    //Index of element\n    _indexOf(element) {\n        let idx = -1;\n\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.items[i] === element) {\n                idx = i;\n                break;\n            }\n        }\n        return idx;\n    }\n\n    //Update current element\n    _isInTemplate() {\n        return this.currentTagName === $.TEMPLATE && this.treeAdapter.getNamespaceURI(this.current) === NS.HTML;\n    }\n\n    _updateCurrentElement() {\n        this.current = this.items[this.stackTop];\n        this.currentTagName = this.current && this.treeAdapter.getTagName(this.current);\n\n        this.currentTmplContent = this._isInTemplate() ? this.treeAdapter.getTemplateContent(this.current) : null;\n    }\n\n    //Mutations\n    push(element) {\n        this.items[++this.stackTop] = element;\n        this._updateCurrentElement();\n\n        if (this._isInTemplate()) {\n            this.tmplCount++;\n        }\n    }\n\n    pop() {\n        this.stackTop--;\n\n        if (this.tmplCount > 0 && this._isInTemplate()) {\n            this.tmplCount--;\n        }\n\n        this._updateCurrentElement();\n    }\n\n    replace(oldElement, newElement) {\n        const idx = this._indexOf(oldElement);\n\n        this.items[idx] = newElement;\n\n        if (idx === this.stackTop) {\n            this._updateCurrentElement();\n        }\n    }\n\n    insertAfter(referenceElement, newElement) {\n        const insertionIdx = this._indexOf(referenceElement) + 1;\n\n        this.items.splice(insertionIdx, 0, newElement);\n\n        if (insertionIdx === ++this.stackTop) {\n            this._updateCurrentElement();\n        }\n    }\n\n    popUntilTagNamePopped(tagName) {\n        while (this.stackTop > -1) {\n            const tn = this.currentTagName;\n            const ns = this.treeAdapter.getNamespaceURI(this.current);\n\n            this.pop();\n\n            if (tn === tagName && ns === NS.HTML) {\n                break;\n            }\n        }\n    }\n\n    popUntilElementPopped(element) {\n        while (this.stackTop > -1) {\n            const poppedElement = this.current;\n\n            this.pop();\n\n            if (poppedElement === element) {\n                break;\n            }\n        }\n    }\n\n    popUntilNumberedHeaderPopped() {\n        while (this.stackTop > -1) {\n            const tn = this.currentTagName;\n            const ns = this.treeAdapter.getNamespaceURI(this.current);\n\n            this.pop();\n\n            if (\n                tn === $.H1 ||\n                tn === $.H2 ||\n                tn === $.H3 ||\n                tn === $.H4 ||\n                tn === $.H5 ||\n                (tn === $.H6 && ns === NS.HTML)\n            ) {\n                break;\n            }\n        }\n    }\n\n    popUntilTableCellPopped() {\n        while (this.stackTop > -1) {\n            const tn = this.currentTagName;\n            const ns = this.treeAdapter.getNamespaceURI(this.current);\n\n            this.pop();\n\n            if (tn === $.TD || (tn === $.TH && ns === NS.HTML)) {\n                break;\n            }\n        }\n    }\n\n    popAllUpToHtmlElement() {\n        //NOTE: here we assume that root <html> element is always first in the open element stack, so\n        //we perform this fast stack clean up.\n        this.stackTop = 0;\n        this._updateCurrentElement();\n    }\n\n    clearBackToTableContext() {\n        while (\n            (this.currentTagName !== $.TABLE && this.currentTagName !== $.TEMPLATE && this.currentTagName !== $.HTML) ||\n            this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML\n        ) {\n            this.pop();\n        }\n    }\n\n    clearBackToTableBodyContext() {\n        while (\n            (this.currentTagName !== $.TBODY &&\n                this.currentTagName !== $.TFOOT &&\n                this.currentTagName !== $.THEAD &&\n                this.currentTagName !== $.TEMPLATE &&\n                this.currentTagName !== $.HTML) ||\n            this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML\n        ) {\n            this.pop();\n        }\n    }\n\n    clearBackToTableRowContext() {\n        while (\n            (this.currentTagName !== $.TR && this.currentTagName !== $.TEMPLATE && this.currentTagName !== $.HTML) ||\n            this.treeAdapter.getNamespaceURI(this.current) !== NS.HTML\n        ) {\n            this.pop();\n        }\n    }\n\n    remove(element) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            if (this.items[i] === element) {\n                this.items.splice(i, 1);\n                this.stackTop--;\n                this._updateCurrentElement();\n                break;\n            }\n        }\n    }\n\n    //Search\n    tryPeekProperlyNestedBodyElement() {\n        //Properly nested <body> element (should be second element in stack).\n        const element = this.items[1];\n\n        return element && this.treeAdapter.getTagName(element) === $.BODY ? element : null;\n    }\n\n    contains(element) {\n        return this._indexOf(element) > -1;\n    }\n\n    getCommonAncestor(element) {\n        let elementIdx = this._indexOf(element);\n\n        return --elementIdx >= 0 ? this.items[elementIdx] : null;\n    }\n\n    isRootHtmlElementCurrent() {\n        return this.stackTop === 0 && this.currentTagName === $.HTML;\n    }\n\n    //Element in scope\n    hasInScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n\n            if (isScopingElement(tn, ns)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasNumberedHeaderInScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (\n                (tn === $.H1 || tn === $.H2 || tn === $.H3 || tn === $.H4 || tn === $.H5 || tn === $.H6) &&\n                ns === NS.HTML\n            ) {\n                return true;\n            }\n\n            if (isScopingElement(tn, ns)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasInListItemScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n\n            if (((tn === $.UL || tn === $.OL) && ns === NS.HTML) || isScopingElement(tn, ns)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasInButtonScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (tn === tagName && ns === NS.HTML) {\n                return true;\n            }\n\n            if ((tn === $.BUTTON && ns === NS.HTML) || isScopingElement(tn, ns)) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasInTableScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (ns !== NS.HTML) {\n                continue;\n            }\n\n            if (tn === tagName) {\n                return true;\n            }\n\n            if (tn === $.TABLE || tn === $.TEMPLATE || tn === $.HTML) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasTableBodyContextInTableScope() {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (ns !== NS.HTML) {\n                continue;\n            }\n\n            if (tn === $.TBODY || tn === $.THEAD || tn === $.TFOOT) {\n                return true;\n            }\n\n            if (tn === $.TABLE || tn === $.HTML) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    hasInSelectScope(tagName) {\n        for (let i = this.stackTop; i >= 0; i--) {\n            const tn = this.treeAdapter.getTagName(this.items[i]);\n            const ns = this.treeAdapter.getNamespaceURI(this.items[i]);\n\n            if (ns !== NS.HTML) {\n                continue;\n            }\n\n            if (tn === tagName) {\n                return true;\n            }\n\n            if (tn !== $.OPTION && tn !== $.OPTGROUP) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    //Implied end tags\n    generateImpliedEndTags() {\n        while (isImpliedEndTagRequired(this.currentTagName)) {\n            this.pop();\n        }\n    }\n\n    generateImpliedEndTagsThoroughly() {\n        while (isImpliedEndTagRequiredThoroughly(this.currentTagName)) {\n            this.pop();\n        }\n    }\n\n    generateImpliedEndTagsWithExclusion(exclusionTagName) {\n        while (isImpliedEndTagRequired(this.currentTagName) && this.currentTagName !== exclusionTagName) {\n            this.pop();\n        }\n    }\n}\n\nmodule.exports = OpenElementStack;\n",
    "'use strict';\n\nconst defaultTreeAdapter = require('../tree-adapters/default');\nconst mergeOptions = require('../utils/merge-options');\nconst doctype = require('../common/doctype');\nconst HTML = require('../common/html');\n\n//Aliases\nconst $ = HTML.TAG_NAMES;\nconst NS = HTML.NAMESPACES;\n\n//Default serializer options\nconst DEFAULT_OPTIONS = {\n    treeAdapter: defaultTreeAdapter\n};\n\n//Escaping regexes\nconst AMP_REGEX = /&/g;\nconst NBSP_REGEX = /\\u00a0/g;\nconst DOUBLE_QUOTE_REGEX = /\"/g;\nconst LT_REGEX = /</g;\nconst GT_REGEX = />/g;\n\n//Serializer\nclass Serializer {\n    constructor(node, options) {\n        this.options = mergeOptions(DEFAULT_OPTIONS, options);\n        this.treeAdapter = this.options.treeAdapter;\n\n        this.html = '';\n        this.startNode = node;\n    }\n\n    //API\n    serialize() {\n        this._serializeChildNodes(this.startNode);\n\n        return this.html;\n    }\n\n    //Internals\n    _serializeChildNodes(parentNode) {\n        const childNodes = this.treeAdapter.getChildNodes(parentNode);\n\n        if (childNodes) {\n            for (let i = 0, cnLength = childNodes.length; i < cnLength; i++) {\n                const currentNode = childNodes[i];\n\n                if (this.treeAdapter.isElementNode(currentNode)) {\n                    this._serializeElement(currentNode);\n                } else if (this.treeAdapter.isTextNode(currentNode)) {\n                    this._serializeTextNode(currentNode);\n                } else if (this.treeAdapter.isCommentNode(currentNode)) {\n                    this._serializeCommentNode(currentNode);\n                } else if (this.treeAdapter.isDocumentTypeNode(currentNode)) {\n                    this._serializeDocumentTypeNode(currentNode);\n                }\n            }\n        }\n    }\n\n    _serializeElement(node) {\n        const tn = this.treeAdapter.getTagName(node);\n        const ns = this.treeAdapter.getNamespaceURI(node);\n\n        this.html += '<' + tn;\n        this._serializeAttributes(node);\n        this.html += '>';\n\n        if (\n            tn !== $.AREA &&\n            tn !== $.BASE &&\n            tn !== $.BASEFONT &&\n            tn !== $.BGSOUND &&\n            tn !== $.BR &&\n            tn !== $.COL &&\n            tn !== $.EMBED &&\n            tn !== $.FRAME &&\n            tn !== $.HR &&\n            tn !== $.IMG &&\n            tn !== $.INPUT &&\n            tn !== $.KEYGEN &&\n            tn !== $.LINK &&\n            tn !== $.META &&\n            tn !== $.PARAM &&\n            tn !== $.SOURCE &&\n            tn !== $.TRACK &&\n            tn !== $.WBR\n        ) {\n            const childNodesHolder =\n                tn === $.TEMPLATE && ns === NS.HTML ? this.treeAdapter.getTemplateContent(node) : node;\n\n            this._serializeChildNodes(childNodesHolder);\n            this.html += '</' + tn + '>';\n        }\n    }\n\n    _serializeAttributes(node) {\n        const attrs = this.treeAdapter.getAttrList(node);\n\n        for (let i = 0, attrsLength = attrs.length; i < attrsLength; i++) {\n            const attr = attrs[i];\n            const value = Serializer.escapeString(attr.value, true);\n\n            this.html += ' ';\n\n            if (!attr.namespace) {\n                this.html += attr.name;\n            } else if (attr.namespace === NS.XML) {\n                this.html += 'xml:' + attr.name;\n            } else if (attr.namespace === NS.XMLNS) {\n                if (attr.name !== 'xmlns') {\n                    this.html += 'xmlns:';\n                }\n\n                this.html += attr.name;\n            } else if (attr.namespace === NS.XLINK) {\n                this.html += 'xlink:' + attr.name;\n            } else {\n                this.html += attr.prefix + ':' + attr.name;\n            }\n\n            this.html += '=\"' + value + '\"';\n        }\n    }\n\n    _serializeTextNode(node) {\n        const content = this.treeAdapter.getTextNodeContent(node);\n        const parent = this.treeAdapter.getParentNode(node);\n        let parentTn = void 0;\n\n        if (parent && this.treeAdapter.isElementNode(parent)) {\n            parentTn = this.treeAdapter.getTagName(parent);\n        }\n\n        if (\n            parentTn === $.STYLE ||\n            parentTn === $.SCRIPT ||\n            parentTn === $.XMP ||\n            parentTn === $.IFRAME ||\n            parentTn === $.NOEMBED ||\n            parentTn === $.NOFRAMES ||\n            parentTn === $.PLAINTEXT ||\n            parentTn === $.NOSCRIPT\n        ) {\n            this.html += content;\n        } else {\n            this.html += Serializer.escapeString(content, false);\n        }\n    }\n\n    _serializeCommentNode(node) {\n        this.html += '<!--' + this.treeAdapter.getCommentNodeContent(node) + '-->';\n    }\n\n    _serializeDocumentTypeNode(node) {\n        const name = this.treeAdapter.getDocumentTypeNodeName(node);\n\n        this.html += '<' + doctype.serializeContent(name, null, null) + '>';\n    }\n}\n\n// NOTE: used in tests and by rewriting stream\nSerializer.escapeString = function(str, attrMode) {\n    str = str.replace(AMP_REGEX, '&amp;').replace(NBSP_REGEX, '&nbsp;');\n\n    if (attrMode) {\n        str = str.replace(DOUBLE_QUOTE_REGEX, '&quot;');\n    } else {\n        str = str.replace(LT_REGEX, '&lt;').replace(GT_REGEX, '&gt;');\n    }\n\n    return str;\n};\n\nmodule.exports = Serializer;\n",
    "'use strict';\n\nconst Preprocessor = require('./preprocessor');\nconst unicode = require('../common/unicode');\nconst neTree = require('./named-entity-data');\nconst ERR = require('../common/error-codes');\n\n//Aliases\nconst $ = unicode.CODE_POINTS;\nconst $$ = unicode.CODE_POINT_SEQUENCES;\n\n//C1 Unicode control character reference replacements\nconst C1_CONTROLS_REFERENCE_REPLACEMENTS = {\n    0x80: 0x20ac,\n    0x82: 0x201a,\n    0x83: 0x0192,\n    0x84: 0x201e,\n    0x85: 0x2026,\n    0x86: 0x2020,\n    0x87: 0x2021,\n    0x88: 0x02c6,\n    0x89: 0x2030,\n    0x8a: 0x0160,\n    0x8b: 0x2039,\n    0x8c: 0x0152,\n    0x8e: 0x017d,\n    0x91: 0x2018,\n    0x92: 0x2019,\n    0x93: 0x201c,\n    0x94: 0x201d,\n    0x95: 0x2022,\n    0x96: 0x2013,\n    0x97: 0x2014,\n    0x98: 0x02dc,\n    0x99: 0x2122,\n    0x9a: 0x0161,\n    0x9b: 0x203a,\n    0x9c: 0x0153,\n    0x9e: 0x017e,\n    0x9f: 0x0178\n};\n\n// Named entity tree flags\nconst HAS_DATA_FLAG = 1 << 0;\nconst DATA_DUPLET_FLAG = 1 << 1;\nconst HAS_BRANCHES_FLAG = 1 << 2;\nconst MAX_BRANCH_MARKER_VALUE = HAS_DATA_FLAG | DATA_DUPLET_FLAG | HAS_BRANCHES_FLAG;\n\n//States\nconst DATA_STATE = 'DATA_STATE';\nconst RCDATA_STATE = 'RCDATA_STATE';\nconst RAWTEXT_STATE = 'RAWTEXT_STATE';\nconst SCRIPT_DATA_STATE = 'SCRIPT_DATA_STATE';\nconst PLAINTEXT_STATE = 'PLAINTEXT_STATE';\nconst TAG_OPEN_STATE = 'TAG_OPEN_STATE';\nconst END_TAG_OPEN_STATE = 'END_TAG_OPEN_STATE';\nconst TAG_NAME_STATE = 'TAG_NAME_STATE';\nconst RCDATA_LESS_THAN_SIGN_STATE = 'RCDATA_LESS_THAN_SIGN_STATE';\nconst RCDATA_END_TAG_OPEN_STATE = 'RCDATA_END_TAG_OPEN_STATE';\nconst RCDATA_END_TAG_NAME_STATE = 'RCDATA_END_TAG_NAME_STATE';\nconst RAWTEXT_LESS_THAN_SIGN_STATE = 'RAWTEXT_LESS_THAN_SIGN_STATE';\nconst RAWTEXT_END_TAG_OPEN_STATE = 'RAWTEXT_END_TAG_OPEN_STATE';\nconst RAWTEXT_END_TAG_NAME_STATE = 'RAWTEXT_END_TAG_NAME_STATE';\nconst SCRIPT_DATA_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_LESS_THAN_SIGN_STATE';\nconst SCRIPT_DATA_END_TAG_OPEN_STATE = 'SCRIPT_DATA_END_TAG_OPEN_STATE';\nconst SCRIPT_DATA_END_TAG_NAME_STATE = 'SCRIPT_DATA_END_TAG_NAME_STATE';\nconst SCRIPT_DATA_ESCAPE_START_STATE = 'SCRIPT_DATA_ESCAPE_START_STATE';\nconst SCRIPT_DATA_ESCAPE_START_DASH_STATE = 'SCRIPT_DATA_ESCAPE_START_DASH_STATE';\nconst SCRIPT_DATA_ESCAPED_STATE = 'SCRIPT_DATA_ESCAPED_STATE';\nconst SCRIPT_DATA_ESCAPED_DASH_STATE = 'SCRIPT_DATA_ESCAPED_DASH_STATE';\nconst SCRIPT_DATA_ESCAPED_DASH_DASH_STATE = 'SCRIPT_DATA_ESCAPED_DASH_DASH_STATE';\nconst SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE';\nconst SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE = 'SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE';\nconst SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE = 'SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPED_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE';\nconst SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE = 'SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE';\nconst BEFORE_ATTRIBUTE_NAME_STATE = 'BEFORE_ATTRIBUTE_NAME_STATE';\nconst ATTRIBUTE_NAME_STATE = 'ATTRIBUTE_NAME_STATE';\nconst AFTER_ATTRIBUTE_NAME_STATE = 'AFTER_ATTRIBUTE_NAME_STATE';\nconst BEFORE_ATTRIBUTE_VALUE_STATE = 'BEFORE_ATTRIBUTE_VALUE_STATE';\nconst ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE = 'ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE';\nconst ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE = 'ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE';\nconst ATTRIBUTE_VALUE_UNQUOTED_STATE = 'ATTRIBUTE_VALUE_UNQUOTED_STATE';\nconst AFTER_ATTRIBUTE_VALUE_QUOTED_STATE = 'AFTER_ATTRIBUTE_VALUE_QUOTED_STATE';\nconst SELF_CLOSING_START_TAG_STATE = 'SELF_CLOSING_START_TAG_STATE';\nconst BOGUS_COMMENT_STATE = 'BOGUS_COMMENT_STATE';\nconst MARKUP_DECLARATION_OPEN_STATE = 'MARKUP_DECLARATION_OPEN_STATE';\nconst COMMENT_START_STATE = 'COMMENT_START_STATE';\nconst COMMENT_START_DASH_STATE = 'COMMENT_START_DASH_STATE';\nconst COMMENT_STATE = 'COMMENT_STATE';\nconst COMMENT_LESS_THAN_SIGN_STATE = 'COMMENT_LESS_THAN_SIGN_STATE';\nconst COMMENT_LESS_THAN_SIGN_BANG_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_STATE';\nconst COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE';\nconst COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE = 'COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE';\nconst COMMENT_END_DASH_STATE = 'COMMENT_END_DASH_STATE';\nconst COMMENT_END_STATE = 'COMMENT_END_STATE';\nconst COMMENT_END_BANG_STATE = 'COMMENT_END_BANG_STATE';\nconst DOCTYPE_STATE = 'DOCTYPE_STATE';\nconst BEFORE_DOCTYPE_NAME_STATE = 'BEFORE_DOCTYPE_NAME_STATE';\nconst DOCTYPE_NAME_STATE = 'DOCTYPE_NAME_STATE';\nconst AFTER_DOCTYPE_NAME_STATE = 'AFTER_DOCTYPE_NAME_STATE';\nconst AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE = 'AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE';\nconst BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE = 'BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE';\nconst DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE = 'DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE';\nconst DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE = 'DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE';\nconst AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE = 'AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE';\nconst BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE = 'BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE';\nconst AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE = 'AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE';\nconst BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE = 'BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE';\nconst DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE = 'DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE';\nconst DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE = 'DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE';\nconst AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE = 'AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE';\nconst BOGUS_DOCTYPE_STATE = 'BOGUS_DOCTYPE_STATE';\nconst CDATA_SECTION_STATE = 'CDATA_SECTION_STATE';\nconst CDATA_SECTION_BRACKET_STATE = 'CDATA_SECTION_BRACKET_STATE';\nconst CDATA_SECTION_END_STATE = 'CDATA_SECTION_END_STATE';\nconst CHARACTER_REFERENCE_STATE = 'CHARACTER_REFERENCE_STATE';\nconst NAMED_CHARACTER_REFERENCE_STATE = 'NAMED_CHARACTER_REFERENCE_STATE';\nconst AMBIGUOUS_AMPERSAND_STATE = 'AMBIGUOS_AMPERSAND_STATE';\nconst NUMERIC_CHARACTER_REFERENCE_STATE = 'NUMERIC_CHARACTER_REFERENCE_STATE';\nconst HEXADEMICAL_CHARACTER_REFERENCE_START_STATE = 'HEXADEMICAL_CHARACTER_REFERENCE_START_STATE';\nconst DECIMAL_CHARACTER_REFERENCE_START_STATE = 'DECIMAL_CHARACTER_REFERENCE_START_STATE';\nconst HEXADEMICAL_CHARACTER_REFERENCE_STATE = 'HEXADEMICAL_CHARACTER_REFERENCE_STATE';\nconst DECIMAL_CHARACTER_REFERENCE_STATE = 'DECIMAL_CHARACTER_REFERENCE_STATE';\nconst NUMERIC_CHARACTER_REFERENCE_END_STATE = 'NUMERIC_CHARACTER_REFERENCE_END_STATE';\n\n//Utils\n\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isWhitespace(cp) {\n    return cp === $.SPACE || cp === $.LINE_FEED || cp === $.TABULATION || cp === $.FORM_FEED;\n}\n\nfunction isAsciiDigit(cp) {\n    return cp >= $.DIGIT_0 && cp <= $.DIGIT_9;\n}\n\nfunction isAsciiUpper(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_Z;\n}\n\nfunction isAsciiLower(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_Z;\n}\n\nfunction isAsciiLetter(cp) {\n    return isAsciiLower(cp) || isAsciiUpper(cp);\n}\n\nfunction isAsciiAlphaNumeric(cp) {\n    return isAsciiLetter(cp) || isAsciiDigit(cp);\n}\n\nfunction isAsciiUpperHexDigit(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_F;\n}\n\nfunction isAsciiLowerHexDigit(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_F;\n}\n\nfunction isAsciiHexDigit(cp) {\n    return isAsciiDigit(cp) || isAsciiUpperHexDigit(cp) || isAsciiLowerHexDigit(cp);\n}\n\nfunction toAsciiLowerCodePoint(cp) {\n    return cp + 0x0020;\n}\n\n//NOTE: String.fromCharCode() function can handle only characters from BMP subset.\n//So, we need to workaround this manually.\n//(see: https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/String/fromCharCode#Getting_it_to_work_with_higher_values)\nfunction toChar(cp) {\n    if (cp <= 0xffff) {\n        return String.fromCharCode(cp);\n    }\n\n    cp -= 0x10000;\n    return String.fromCharCode(((cp >>> 10) & 0x3ff) | 0xd800) + String.fromCharCode(0xdc00 | (cp & 0x3ff));\n}\n\nfunction toAsciiLowerChar(cp) {\n    return String.fromCharCode(toAsciiLowerCodePoint(cp));\n}\n\nfunction findNamedEntityTreeBranch(nodeIx, cp) {\n    const branchCount = neTree[++nodeIx];\n    let lo = ++nodeIx;\n    let hi = lo + branchCount - 1;\n\n    while (lo <= hi) {\n        const mid = (lo + hi) >>> 1;\n        const midCp = neTree[mid];\n\n        if (midCp < cp) {\n            lo = mid + 1;\n        } else if (midCp > cp) {\n            hi = mid - 1;\n        } else {\n            return neTree[mid + branchCount];\n        }\n    }\n\n    return -1;\n}\n\n//Tokenizer\nclass Tokenizer {\n    constructor() {\n        this.preprocessor = new Preprocessor();\n\n        this.tokenQueue = [];\n\n        this.allowCDATA = false;\n\n        this.state = DATA_STATE;\n        this.returnState = '';\n\n        this.charRefCode = -1;\n        this.tempBuff = [];\n        this.lastStartTagName = '';\n\n        this.consumedAfterSnapshot = -1;\n        this.active = false;\n\n        this.currentCharacterToken = null;\n        this.currentToken = null;\n        this.currentAttr = null;\n    }\n\n    //Errors\n    _err() {\n        // NOTE: err reporting is noop by default. Enabled by mixin.\n    }\n\n    _errOnNextCodePoint(err) {\n        this._consume();\n        this._err(err);\n        this._unconsume();\n    }\n\n    //API\n    getNextToken() {\n        while (!this.tokenQueue.length && this.active) {\n            this.consumedAfterSnapshot = 0;\n\n            const cp = this._consume();\n\n            if (!this._ensureHibernation()) {\n                this[this.state](cp);\n            }\n        }\n\n        return this.tokenQueue.shift();\n    }\n\n    write(chunk, isLastChunk) {\n        this.active = true;\n        this.preprocessor.write(chunk, isLastChunk);\n    }\n\n    insertHtmlAtCurrentPos(chunk) {\n        this.active = true;\n        this.preprocessor.insertHtmlAtCurrentPos(chunk);\n    }\n\n    //Hibernation\n    _ensureHibernation() {\n        if (this.preprocessor.endOfChunkHit) {\n            for (; this.consumedAfterSnapshot > 0; this.consumedAfterSnapshot--) {\n                this.preprocessor.retreat();\n            }\n\n            this.active = false;\n            this.tokenQueue.push({ type: Tokenizer.HIBERNATION_TOKEN });\n\n            return true;\n        }\n\n        return false;\n    }\n\n    //Consumption\n    _consume() {\n        this.consumedAfterSnapshot++;\n        return this.preprocessor.advance();\n    }\n\n    _unconsume() {\n        this.consumedAfterSnapshot--;\n        this.preprocessor.retreat();\n    }\n\n    _reconsumeInState(state) {\n        this.state = state;\n        this._unconsume();\n    }\n\n    _consumeSequenceIfMatch(pattern, startCp, caseSensitive) {\n        let consumedCount = 0;\n        let isMatch = true;\n        const patternLength = pattern.length;\n        let patternPos = 0;\n        let cp = startCp;\n        let patternCp = void 0;\n\n        for (; patternPos < patternLength; patternPos++) {\n            if (patternPos > 0) {\n                cp = this._consume();\n                consumedCount++;\n            }\n\n            if (cp === $.EOF) {\n                isMatch = false;\n                break;\n            }\n\n            patternCp = pattern[patternPos];\n\n            if (cp !== patternCp && (caseSensitive || cp !== toAsciiLowerCodePoint(patternCp))) {\n                isMatch = false;\n                break;\n            }\n        }\n\n        if (!isMatch) {\n            while (consumedCount--) {\n                this._unconsume();\n            }\n        }\n\n        return isMatch;\n    }\n\n    //Temp buffer\n    _isTempBufferEqualToScriptString() {\n        if (this.tempBuff.length !== $$.SCRIPT_STRING.length) {\n            return false;\n        }\n\n        for (let i = 0; i < this.tempBuff.length; i++) {\n            if (this.tempBuff[i] !== $$.SCRIPT_STRING[i]) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    //Token creation\n    _createStartTagToken() {\n        this.currentToken = {\n            type: Tokenizer.START_TAG_TOKEN,\n            tagName: '',\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: []\n        };\n    }\n\n    _createEndTagToken() {\n        this.currentToken = {\n            type: Tokenizer.END_TAG_TOKEN,\n            tagName: '',\n            selfClosing: false,\n            attrs: []\n        };\n    }\n\n    _createCommentToken() {\n        this.currentToken = {\n            type: Tokenizer.COMMENT_TOKEN,\n            data: ''\n        };\n    }\n\n    _createDoctypeToken(initialName) {\n        this.currentToken = {\n            type: Tokenizer.DOCTYPE_TOKEN,\n            name: initialName,\n            forceQuirks: false,\n            publicId: null,\n            systemId: null\n        };\n    }\n\n    _createCharacterToken(type, ch) {\n        this.currentCharacterToken = {\n            type: type,\n            chars: ch\n        };\n    }\n\n    _createEOFToken() {\n        this.currentToken = { type: Tokenizer.EOF_TOKEN };\n    }\n\n    //Tag attributes\n    _createAttr(attrNameFirstCh) {\n        this.currentAttr = {\n            name: attrNameFirstCh,\n            value: ''\n        };\n    }\n\n    _leaveAttrName(toState) {\n        if (Tokenizer.getTokenAttr(this.currentToken, this.currentAttr.name) === null) {\n            this.currentToken.attrs.push(this.currentAttr);\n        } else {\n            this._err(ERR.duplicateAttribute);\n        }\n\n        this.state = toState;\n    }\n\n    _leaveAttrValue(toState) {\n        this.state = toState;\n    }\n\n    //Token emission\n    _emitCurrentToken() {\n        this._emitCurrentCharacterToken();\n\n        const ct = this.currentToken;\n\n        this.currentToken = null;\n\n        //NOTE: store emited start tag's tagName to determine is the following end tag token is appropriate.\n        if (ct.type === Tokenizer.START_TAG_TOKEN) {\n            this.lastStartTagName = ct.tagName;\n        } else if (ct.type === Tokenizer.END_TAG_TOKEN) {\n            if (ct.attrs.length > 0) {\n                this._err(ERR.endTagWithAttributes);\n            }\n\n            if (ct.selfClosing) {\n                this._err(ERR.endTagWithTrailingSolidus);\n            }\n        }\n\n        this.tokenQueue.push(ct);\n    }\n\n    _emitCurrentCharacterToken() {\n        if (this.currentCharacterToken) {\n            this.tokenQueue.push(this.currentCharacterToken);\n            this.currentCharacterToken = null;\n        }\n    }\n\n    _emitEOFToken() {\n        this._createEOFToken();\n        this._emitCurrentToken();\n    }\n\n    //Characters emission\n\n    //OPTIMIZATION: specification uses only one type of character tokens (one token per character).\n    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.\n    //If we have a sequence of characters that belong to the same group, parser can process it\n    //as a single solid character token.\n    //So, there are 3 types of character tokens in parse5:\n    //1)NULL_CHARACTER_TOKEN - \\u0000-character sequences (e.g. '\\u0000\\u0000\\u0000')\n    //2)WHITESPACE_CHARACTER_TOKEN - any whitespace/new-line character sequences (e.g. '\\n  \\r\\t   \\f')\n    //3)CHARACTER_TOKEN - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')\n    _appendCharToCurrentCharacterToken(type, ch) {\n        if (this.currentCharacterToken && this.currentCharacterToken.type !== type) {\n            this._emitCurrentCharacterToken();\n        }\n\n        if (this.currentCharacterToken) {\n            this.currentCharacterToken.chars += ch;\n        } else {\n            this._createCharacterToken(type, ch);\n        }\n    }\n\n    _emitCodePoint(cp) {\n        let type = Tokenizer.CHARACTER_TOKEN;\n\n        if (isWhitespace(cp)) {\n            type = Tokenizer.WHITESPACE_CHARACTER_TOKEN;\n        } else if (cp === $.NULL) {\n            type = Tokenizer.NULL_CHARACTER_TOKEN;\n        }\n\n        this._appendCharToCurrentCharacterToken(type, toChar(cp));\n    }\n\n    _emitSeveralCodePoints(codePoints) {\n        for (let i = 0; i < codePoints.length; i++) {\n            this._emitCodePoint(codePoints[i]);\n        }\n    }\n\n    //NOTE: used then we emit character explicitly. This is always a non-whitespace and a non-null character.\n    //So we can avoid additional checks here.\n    _emitChars(ch) {\n        this._appendCharToCurrentCharacterToken(Tokenizer.CHARACTER_TOKEN, ch);\n    }\n\n    // Character reference helpers\n    _matchNamedCharacterReference(startCp) {\n        let result = null;\n        let excess = 1;\n        let i = findNamedEntityTreeBranch(0, startCp);\n\n        this.tempBuff.push(startCp);\n\n        while (i > -1) {\n            const current = neTree[i];\n            const inNode = current < MAX_BRANCH_MARKER_VALUE;\n            const nodeWithData = inNode && current & HAS_DATA_FLAG;\n\n            if (nodeWithData) {\n                //NOTE: we use greedy search, so we continue lookup at this point\n                result = current & DATA_DUPLET_FLAG ? [neTree[++i], neTree[++i]] : [neTree[++i]];\n                excess = 0;\n            }\n\n            const cp = this._consume();\n\n            this.tempBuff.push(cp);\n            excess++;\n\n            if (cp === $.EOF) {\n                break;\n            }\n\n            if (inNode) {\n                i = current & HAS_BRANCHES_FLAG ? findNamedEntityTreeBranch(i, cp) : -1;\n            } else {\n                i = cp === current ? ++i : -1;\n            }\n        }\n\n        while (excess--) {\n            this.tempBuff.pop();\n            this._unconsume();\n        }\n\n        return result;\n    }\n\n    _isCharacterReferenceInAttribute() {\n        return (\n            this.returnState === ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE ||\n            this.returnState === ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE ||\n            this.returnState === ATTRIBUTE_VALUE_UNQUOTED_STATE\n        );\n    }\n\n    _isCharacterReferenceAttributeQuirk(withSemicolon) {\n        if (!withSemicolon && this._isCharacterReferenceInAttribute()) {\n            const nextCp = this._consume();\n\n            this._unconsume();\n\n            return nextCp === $.EQUALS_SIGN || isAsciiAlphaNumeric(nextCp);\n        }\n\n        return false;\n    }\n\n    _flushCodePointsConsumedAsCharacterReference() {\n        if (this._isCharacterReferenceInAttribute()) {\n            for (let i = 0; i < this.tempBuff.length; i++) {\n                this.currentAttr.value += toChar(this.tempBuff[i]);\n            }\n        } else {\n            this._emitSeveralCodePoints(this.tempBuff);\n        }\n\n        this.tempBuff = [];\n    }\n\n    // State machine\n\n    // Data state\n    //------------------------------------------------------------------\n    [DATA_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.LESS_THAN_SIGN) {\n            this.state = TAG_OPEN_STATE;\n        } else if (cp === $.AMPERSAND) {\n            this.returnState = DATA_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitCodePoint(cp);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    //  RCDATA state\n    //------------------------------------------------------------------\n    [RCDATA_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.AMPERSAND) {\n            this.returnState = RCDATA_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = RCDATA_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // RAWTEXT state\n    //------------------------------------------------------------------\n    [RAWTEXT_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.LESS_THAN_SIGN) {\n            this.state = RAWTEXT_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // PLAINTEXT state\n    //------------------------------------------------------------------\n    [PLAINTEXT_STATE](cp) {\n        this.preprocessor.dropParsedChunk();\n\n        if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Tag open state\n    //------------------------------------------------------------------\n    [TAG_OPEN_STATE](cp) {\n        if (cp === $.EXCLAMATION_MARK) {\n            this.state = MARKUP_DECLARATION_OPEN_STATE;\n        } else if (cp === $.SOLIDUS) {\n            this.state = END_TAG_OPEN_STATE;\n        } else if (isAsciiLetter(cp)) {\n            this._createStartTagToken();\n            this._reconsumeInState(TAG_NAME_STATE);\n        } else if (cp === $.QUESTION_MARK) {\n            this._err(ERR.unexpectedQuestionMarkInsteadOfTagName);\n            this._createCommentToken();\n            this._reconsumeInState(BOGUS_COMMENT_STATE);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofBeforeTagName);\n            this._emitChars('<');\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.invalidFirstCharacterOfTagName);\n            this._emitChars('<');\n            this._reconsumeInState(DATA_STATE);\n        }\n    }\n\n    // End tag open state\n    //------------------------------------------------------------------\n    [END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(TAG_NAME_STATE);\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingEndTagName);\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofBeforeTagName);\n            this._emitChars('</');\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.invalidFirstCharacterOfTagName);\n            this._createCommentToken();\n            this._reconsumeInState(BOGUS_COMMENT_STATE);\n        }\n    }\n\n    // Tag name state\n    //------------------------------------------------------------------\n    [TAG_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n        } else if (cp === $.SOLIDUS) {\n            this.state = SELF_CLOSING_START_TAG_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.tagName += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this.currentToken.tagName += toChar(cp);\n        }\n    }\n\n    // RCDATA less-than sign state\n    //------------------------------------------------------------------\n    [RCDATA_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = RCDATA_END_TAG_OPEN_STATE;\n        } else {\n            this._emitChars('<');\n            this._reconsumeInState(RCDATA_STATE);\n        }\n    }\n\n    // RCDATA end tag open state\n    //------------------------------------------------------------------\n    [RCDATA_END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(RCDATA_END_TAG_NAME_STATE);\n        } else {\n            this._emitChars('</');\n            this._reconsumeInState(RCDATA_STATE);\n        }\n    }\n\n    // RCDATA end tag name state\n    //------------------------------------------------------------------\n    [RCDATA_END_TAG_NAME_STATE](cp) {\n        if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n            this.tempBuff.push(cp);\n        } else if (isAsciiLower(cp)) {\n            this.currentToken.tagName += toChar(cp);\n            this.tempBuff.push(cp);\n        } else {\n            if (this.lastStartTagName === this.currentToken.tagName) {\n                if (isWhitespace(cp)) {\n                    this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n                    return;\n                }\n\n                if (cp === $.SOLIDUS) {\n                    this.state = SELF_CLOSING_START_TAG_STATE;\n                    return;\n                }\n\n                if (cp === $.GREATER_THAN_SIGN) {\n                    this.state = DATA_STATE;\n                    this._emitCurrentToken();\n                    return;\n                }\n            }\n\n            this._emitChars('</');\n            this._emitSeveralCodePoints(this.tempBuff);\n            this._reconsumeInState(RCDATA_STATE);\n        }\n    }\n\n    // RAWTEXT less-than sign state\n    //------------------------------------------------------------------\n    [RAWTEXT_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = RAWTEXT_END_TAG_OPEN_STATE;\n        } else {\n            this._emitChars('<');\n            this._reconsumeInState(RAWTEXT_STATE);\n        }\n    }\n\n    // RAWTEXT end tag open state\n    //------------------------------------------------------------------\n    [RAWTEXT_END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(RAWTEXT_END_TAG_NAME_STATE);\n        } else {\n            this._emitChars('</');\n            this._reconsumeInState(RAWTEXT_STATE);\n        }\n    }\n\n    // RAWTEXT end tag name state\n    //------------------------------------------------------------------\n    [RAWTEXT_END_TAG_NAME_STATE](cp) {\n        if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n            this.tempBuff.push(cp);\n        } else if (isAsciiLower(cp)) {\n            this.currentToken.tagName += toChar(cp);\n            this.tempBuff.push(cp);\n        } else {\n            if (this.lastStartTagName === this.currentToken.tagName) {\n                if (isWhitespace(cp)) {\n                    this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n                    return;\n                }\n\n                if (cp === $.SOLIDUS) {\n                    this.state = SELF_CLOSING_START_TAG_STATE;\n                    return;\n                }\n\n                if (cp === $.GREATER_THAN_SIGN) {\n                    this._emitCurrentToken();\n                    this.state = DATA_STATE;\n                    return;\n                }\n            }\n\n            this._emitChars('</');\n            this._emitSeveralCodePoints(this.tempBuff);\n            this._reconsumeInState(RAWTEXT_STATE);\n        }\n    }\n\n    // Script data less-than sign state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = SCRIPT_DATA_END_TAG_OPEN_STATE;\n        } else if (cp === $.EXCLAMATION_MARK) {\n            this.state = SCRIPT_DATA_ESCAPE_START_STATE;\n            this._emitChars('<!');\n        } else {\n            this._emitChars('<');\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data end tag open state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(SCRIPT_DATA_END_TAG_NAME_STATE);\n        } else {\n            this._emitChars('</');\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data end tag name state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_END_TAG_NAME_STATE](cp) {\n        if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n            this.tempBuff.push(cp);\n        } else if (isAsciiLower(cp)) {\n            this.currentToken.tagName += toChar(cp);\n            this.tempBuff.push(cp);\n        } else {\n            if (this.lastStartTagName === this.currentToken.tagName) {\n                if (isWhitespace(cp)) {\n                    this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n                    return;\n                } else if (cp === $.SOLIDUS) {\n                    this.state = SELF_CLOSING_START_TAG_STATE;\n                    return;\n                } else if (cp === $.GREATER_THAN_SIGN) {\n                    this._emitCurrentToken();\n                    this.state = DATA_STATE;\n                    return;\n                }\n            }\n\n            this._emitChars('</');\n            this._emitSeveralCodePoints(this.tempBuff);\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data escape start state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPE_START_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_ESCAPE_START_DASH_STATE;\n            this._emitChars('-');\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data escape start dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPE_START_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_ESCAPED_DASH_DASH_STATE;\n            this._emitChars('-');\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_STATE);\n        }\n    }\n\n    // Script data escaped state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_ESCAPED_DASH_STATE;\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data escaped dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_ESCAPED_DASH_DASH_STATE;\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = SCRIPT_DATA_ESCAPED_STATE;\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this.state = SCRIPT_DATA_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data escaped dash dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_DASH_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = SCRIPT_DATA_STATE;\n            this._emitChars('>');\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = SCRIPT_DATA_ESCAPED_STATE;\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this.state = SCRIPT_DATA_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data escaped less-than sign state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE;\n        } else if (isAsciiLetter(cp)) {\n            this.tempBuff = [];\n            this._emitChars('<');\n            this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE);\n        } else {\n            this._emitChars('<');\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);\n        }\n    }\n\n    // Script data escaped end tag open state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE](cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE);\n        } else {\n            this._emitChars('</');\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);\n        }\n    }\n\n    // Script data escaped end tag name state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE](cp) {\n        if (isAsciiUpper(cp)) {\n            this.currentToken.tagName += toAsciiLowerChar(cp);\n            this.tempBuff.push(cp);\n        } else if (isAsciiLower(cp)) {\n            this.currentToken.tagName += toChar(cp);\n            this.tempBuff.push(cp);\n        } else {\n            if (this.lastStartTagName === this.currentToken.tagName) {\n                if (isWhitespace(cp)) {\n                    this.state = BEFORE_ATTRIBUTE_NAME_STATE;\n                    return;\n                }\n\n                if (cp === $.SOLIDUS) {\n                    this.state = SELF_CLOSING_START_TAG_STATE;\n                    return;\n                }\n\n                if (cp === $.GREATER_THAN_SIGN) {\n                    this._emitCurrentToken();\n                    this.state = DATA_STATE;\n                    return;\n                }\n            }\n\n            this._emitChars('</');\n            this._emitSeveralCodePoints(this.tempBuff);\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);\n        }\n    }\n\n    // Script data double escape start state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE](cp) {\n        if (isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN) {\n            this.state = this._isTempBufferEqualToScriptString()\n                ? SCRIPT_DATA_DOUBLE_ESCAPED_STATE\n                : SCRIPT_DATA_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        } else if (isAsciiUpper(cp)) {\n            this.tempBuff.push(toAsciiLowerCodePoint(cp));\n            this._emitCodePoint(cp);\n        } else if (isAsciiLower(cp)) {\n            this.tempBuff.push(cp);\n            this._emitCodePoint(cp);\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_ESCAPED_STATE);\n        }\n    }\n\n    // Script data double escaped state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPED_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE;\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;\n            this._emitChars('<');\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data double escaped dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE;\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;\n            this._emitChars('<');\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data double escaped dash dash state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this._emitChars('-');\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE;\n            this._emitChars('<');\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = SCRIPT_DATA_STATE;\n            this._emitChars('>');\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n            this._emitChars(unicode.REPLACEMENT_CHARACTER);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n        } else {\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // Script data double escaped less-than sign state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.SOLIDUS) {\n            this.tempBuff = [];\n            this.state = SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE;\n            this._emitChars('/');\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPED_STATE);\n        }\n    }\n\n    // Script data double escape end state\n    //------------------------------------------------------------------\n    [SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE](cp) {\n        if (isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN) {\n            this.state = this._isTempBufferEqualToScriptString()\n                ? SCRIPT_DATA_ESCAPED_STATE\n                : SCRIPT_DATA_DOUBLE_ESCAPED_STATE;\n\n            this._emitCodePoint(cp);\n        } else if (isAsciiUpper(cp)) {\n            this.tempBuff.push(toAsciiLowerCodePoint(cp));\n            this._emitCodePoint(cp);\n        } else if (isAsciiLower(cp)) {\n            this.tempBuff.push(cp);\n            this._emitCodePoint(cp);\n        } else {\n            this._reconsumeInState(SCRIPT_DATA_DOUBLE_ESCAPED_STATE);\n        }\n    }\n\n    // Before attribute name state\n    //------------------------------------------------------------------\n    [BEFORE_ATTRIBUTE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN || cp === $.EOF) {\n            this._reconsumeInState(AFTER_ATTRIBUTE_NAME_STATE);\n        } else if (cp === $.EQUALS_SIGN) {\n            this._err(ERR.unexpectedEqualsSignBeforeAttributeName);\n            this._createAttr('=');\n            this.state = ATTRIBUTE_NAME_STATE;\n        } else {\n            this._createAttr('');\n            this._reconsumeInState(ATTRIBUTE_NAME_STATE);\n        }\n    }\n\n    // Attribute name state\n    //------------------------------------------------------------------\n    [ATTRIBUTE_NAME_STATE](cp) {\n        if (isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN || cp === $.EOF) {\n            this._leaveAttrName(AFTER_ATTRIBUTE_NAME_STATE);\n            this._unconsume();\n        } else if (cp === $.EQUALS_SIGN) {\n            this._leaveAttrName(BEFORE_ATTRIBUTE_VALUE_STATE);\n        } else if (isAsciiUpper(cp)) {\n            this.currentAttr.name += toAsciiLowerChar(cp);\n        } else if (cp === $.QUOTATION_MARK || cp === $.APOSTROPHE || cp === $.LESS_THAN_SIGN) {\n            this._err(ERR.unexpectedCharacterInAttributeName);\n            this.currentAttr.name += toChar(cp);\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.name += unicode.REPLACEMENT_CHARACTER;\n        } else {\n            this.currentAttr.name += toChar(cp);\n        }\n    }\n\n    // After attribute name state\n    //------------------------------------------------------------------\n    [AFTER_ATTRIBUTE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.SOLIDUS) {\n            this.state = SELF_CLOSING_START_TAG_STATE;\n        } else if (cp === $.EQUALS_SIGN) {\n            this.state = BEFORE_ATTRIBUTE_VALUE_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this._createAttr('');\n            this._reconsumeInState(ATTRIBUTE_NAME_STATE);\n        }\n    }\n\n    // Before attribute value state\n    //------------------------------------------------------------------\n    [BEFORE_ATTRIBUTE_VALUE_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.QUOTATION_MARK) {\n            this.state = ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this.state = ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingAttributeValue);\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else {\n            this._reconsumeInState(ATTRIBUTE_VALUE_UNQUOTED_STATE);\n        }\n    }\n\n    // Attribute value (double-quoted) state\n    //------------------------------------------------------------------\n    [ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE](cp) {\n        if (cp === $.QUOTATION_MARK) {\n            this.state = AFTER_ATTRIBUTE_VALUE_QUOTED_STATE;\n        } else if (cp === $.AMPERSAND) {\n            this.returnState = ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this.currentAttr.value += toChar(cp);\n        }\n    }\n\n    // Attribute value (single-quoted) state\n    //------------------------------------------------------------------\n    [ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE](cp) {\n        if (cp === $.APOSTROPHE) {\n            this.state = AFTER_ATTRIBUTE_VALUE_QUOTED_STATE;\n        } else if (cp === $.AMPERSAND) {\n            this.returnState = ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this.currentAttr.value += toChar(cp);\n        }\n    }\n\n    // Attribute value (unquoted) state\n    //------------------------------------------------------------------\n    [ATTRIBUTE_VALUE_UNQUOTED_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this._leaveAttrValue(BEFORE_ATTRIBUTE_NAME_STATE);\n        } else if (cp === $.AMPERSAND) {\n            this.returnState = ATTRIBUTE_VALUE_UNQUOTED_STATE;\n            this.state = CHARACTER_REFERENCE_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._leaveAttrValue(DATA_STATE);\n            this._emitCurrentToken();\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += unicode.REPLACEMENT_CHARACTER;\n        } else if (\n            cp === $.QUOTATION_MARK ||\n            cp === $.APOSTROPHE ||\n            cp === $.LESS_THAN_SIGN ||\n            cp === $.EQUALS_SIGN ||\n            cp === $.GRAVE_ACCENT\n        ) {\n            this._err(ERR.unexpectedCharacterInUnquotedAttributeValue);\n            this.currentAttr.value += toChar(cp);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this.currentAttr.value += toChar(cp);\n        }\n    }\n\n    // After attribute value (quoted) state\n    //------------------------------------------------------------------\n    [AFTER_ATTRIBUTE_VALUE_QUOTED_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this._leaveAttrValue(BEFORE_ATTRIBUTE_NAME_STATE);\n        } else if (cp === $.SOLIDUS) {\n            this._leaveAttrValue(SELF_CLOSING_START_TAG_STATE);\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._leaveAttrValue(DATA_STATE);\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingWhitespaceBetweenAttributes);\n            this._reconsumeInState(BEFORE_ATTRIBUTE_NAME_STATE);\n        }\n    }\n\n    // Self-closing start tag state\n    //------------------------------------------------------------------\n    [SELF_CLOSING_START_TAG_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.currentToken.selfClosing = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.unexpectedSolidusInTag);\n            this._reconsumeInState(BEFORE_ATTRIBUTE_NAME_STATE);\n        }\n    }\n\n    // Bogus comment state\n    //------------------------------------------------------------------\n    [BOGUS_COMMENT_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.data += unicode.REPLACEMENT_CHARACTER;\n        } else {\n            this.currentToken.data += toChar(cp);\n        }\n    }\n\n    // Markup declaration open state\n    //------------------------------------------------------------------\n    [MARKUP_DECLARATION_OPEN_STATE](cp) {\n        if (this._consumeSequenceIfMatch($$.DASH_DASH_STRING, cp, true)) {\n            this._createCommentToken();\n            this.state = COMMENT_START_STATE;\n        } else if (this._consumeSequenceIfMatch($$.DOCTYPE_STRING, cp, false)) {\n            this.state = DOCTYPE_STATE;\n        } else if (this._consumeSequenceIfMatch($$.CDATA_START_STRING, cp, true)) {\n            if (this.allowCDATA) {\n                this.state = CDATA_SECTION_STATE;\n            } else {\n                this._err(ERR.cdataInHtmlContent);\n                this._createCommentToken();\n                this.currentToken.data = '[CDATA[';\n                this.state = BOGUS_COMMENT_STATE;\n            }\n        }\n\n        //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n        //results are no longer valid and we will need to start over.\n        else if (!this._ensureHibernation()) {\n            this._err(ERR.incorrectlyOpenedComment);\n            this._createCommentToken();\n            this._reconsumeInState(BOGUS_COMMENT_STATE);\n        }\n    }\n\n    // Comment start state\n    //------------------------------------------------------------------\n    [COMMENT_START_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_START_DASH_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptClosingOfEmptyComment);\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else {\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment start dash state\n    //------------------------------------------------------------------\n    [COMMENT_START_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_END_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptClosingOfEmptyComment);\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += '-';\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment state\n    //------------------------------------------------------------------\n    [COMMENT_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_END_DASH_STATE;\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.currentToken.data += '<';\n            this.state = COMMENT_LESS_THAN_SIGN_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.data += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += toChar(cp);\n        }\n    }\n\n    // Comment less-than sign state\n    //------------------------------------------------------------------\n    [COMMENT_LESS_THAN_SIGN_STATE](cp) {\n        if (cp === $.EXCLAMATION_MARK) {\n            this.currentToken.data += '!';\n            this.state = COMMENT_LESS_THAN_SIGN_BANG_STATE;\n        } else if (cp === $.LESS_THAN_SIGN) {\n            this.currentToken.data += '!';\n        } else {\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment less-than sign bang state\n    //------------------------------------------------------------------\n    [COMMENT_LESS_THAN_SIGN_BANG_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE;\n        } else {\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment less-than sign bang dash state\n    //------------------------------------------------------------------\n    [COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE;\n        } else {\n            this._reconsumeInState(COMMENT_END_DASH_STATE);\n        }\n    }\n\n    // Comment less-than sign bang dash dash state\n    //------------------------------------------------------------------\n    [COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE](cp) {\n        if (cp !== $.GREATER_THAN_SIGN && cp !== $.EOF) {\n            this._err(ERR.nestedComment);\n        }\n\n        this._reconsumeInState(COMMENT_END_STATE);\n    }\n\n    // Comment end dash state\n    //------------------------------------------------------------------\n    [COMMENT_END_DASH_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = COMMENT_END_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += '-';\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment end state\n    //------------------------------------------------------------------\n    [COMMENT_END_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EXCLAMATION_MARK) {\n            this.state = COMMENT_END_BANG_STATE;\n        } else if (cp === $.HYPHEN_MINUS) {\n            this.currentToken.data += '-';\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += '--';\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // Comment end bang state\n    //------------------------------------------------------------------\n    [COMMENT_END_BANG_STATE](cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.currentToken.data += '--!';\n            this.state = COMMENT_END_DASH_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.incorrectlyClosedComment);\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInComment);\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.data += '--!';\n            this._reconsumeInState(COMMENT_STATE);\n        }\n    }\n\n    // DOCTYPE state\n    //------------------------------------------------------------------\n    [DOCTYPE_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BEFORE_DOCTYPE_NAME_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._reconsumeInState(BEFORE_DOCTYPE_NAME_STATE);\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this._createDoctypeToken(null);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingWhitespaceBeforeDoctypeName);\n            this._reconsumeInState(BEFORE_DOCTYPE_NAME_STATE);\n        }\n    }\n\n    // Before DOCTYPE name state\n    //------------------------------------------------------------------\n    [BEFORE_DOCTYPE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (isAsciiUpper(cp)) {\n            this._createDoctypeToken(toAsciiLowerChar(cp));\n            this.state = DOCTYPE_NAME_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this._createDoctypeToken(unicode.REPLACEMENT_CHARACTER);\n            this.state = DOCTYPE_NAME_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypeName);\n            this._createDoctypeToken(null);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this._createDoctypeToken(null);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._createDoctypeToken(toChar(cp));\n            this.state = DOCTYPE_NAME_STATE;\n        }\n    }\n\n    // DOCTYPE name state\n    //------------------------------------------------------------------\n    [DOCTYPE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = AFTER_DOCTYPE_NAME_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (isAsciiUpper(cp)) {\n            this.currentToken.name += toAsciiLowerChar(cp);\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.name += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.name += toChar(cp);\n        }\n    }\n\n    // After DOCTYPE name state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_NAME_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else if (this._consumeSequenceIfMatch($$.PUBLIC_STRING, cp, false)) {\n            this.state = AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE;\n        } else if (this._consumeSequenceIfMatch($$.SYSTEM_STRING, cp, false)) {\n            this.state = AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE;\n        }\n        //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n        //results are no longer valid and we will need to start over.\n        else if (!this._ensureHibernation()) {\n            this._err(ERR.invalidCharacterSequenceAfterDoctypeName);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // After DOCTYPE public keyword state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE;\n        } else if (cp === $.QUOTATION_MARK) {\n            this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n            this.currentToken.publicId = '';\n            this.state = DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n            this.currentToken.publicId = '';\n            this.state = DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // Before DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    [BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.QUOTATION_MARK) {\n            this.currentToken.publicId = '';\n            this.state = DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this.currentToken.publicId = '';\n            this.state = DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // DOCTYPE public identifier (double-quoted) state\n    //------------------------------------------------------------------\n    [DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE](cp) {\n        if (cp === $.QUOTATION_MARK) {\n            this.state = AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.publicId += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.publicId += toChar(cp);\n        }\n    }\n\n    // DOCTYPE public identifier (single-quoted) state\n    //------------------------------------------------------------------\n    [DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE](cp) {\n        if (cp === $.APOSTROPHE) {\n            this.state = AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.publicId += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptDoctypePublicIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.publicId += toChar(cp);\n        }\n    }\n\n    // After DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.QUOTATION_MARK) {\n            this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // Between DOCTYPE public and system identifiers state\n    //------------------------------------------------------------------\n    [BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.GREATER_THAN_SIGN) {\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.QUOTATION_MARK) {\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // After DOCTYPE system keyword state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE](cp) {\n        if (isWhitespace(cp)) {\n            this.state = BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE;\n        } else if (cp === $.QUOTATION_MARK) {\n            this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // Before DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    [BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.QUOTATION_MARK) {\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE;\n        } else if (cp === $.APOSTROPHE) {\n            this.currentToken.systemId = '';\n            this.state = DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.missingDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this.state = DATA_STATE;\n            this._emitCurrentToken();\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // DOCTYPE system identifier (double-quoted) state\n    //------------------------------------------------------------------\n    [DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE](cp) {\n        if (cp === $.QUOTATION_MARK) {\n            this.state = AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.systemId += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.systemId += toChar(cp);\n        }\n    }\n\n    // DOCTYPE system identifier (single-quoted) state\n    //------------------------------------------------------------------\n    [DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE](cp) {\n        if (cp === $.APOSTROPHE) {\n            this.state = AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentToken.systemId += unicode.REPLACEMENT_CHARACTER;\n        } else if (cp === $.GREATER_THAN_SIGN) {\n            this._err(ERR.abruptDoctypeSystemIdentifier);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this.currentToken.systemId += toChar(cp);\n        }\n    }\n\n    // After DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    [AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE](cp) {\n        if (isWhitespace(cp)) {\n            return;\n        }\n\n        if (cp === $.GREATER_THAN_SIGN) {\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInDoctype);\n            this.currentToken.forceQuirks = true;\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        } else {\n            this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier);\n            this._reconsumeInState(BOGUS_DOCTYPE_STATE);\n        }\n    }\n\n    // Bogus DOCTYPE state\n    //------------------------------------------------------------------\n    [BOGUS_DOCTYPE_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this._emitCurrentToken();\n            this.state = DATA_STATE;\n        } else if (cp === $.NULL) {\n            this._err(ERR.unexpectedNullCharacter);\n        } else if (cp === $.EOF) {\n            this._emitCurrentToken();\n            this._emitEOFToken();\n        }\n    }\n\n    // CDATA section state\n    //------------------------------------------------------------------\n    [CDATA_SECTION_STATE](cp) {\n        if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this.state = CDATA_SECTION_BRACKET_STATE;\n        } else if (cp === $.EOF) {\n            this._err(ERR.eofInCdata);\n            this._emitEOFToken();\n        } else {\n            this._emitCodePoint(cp);\n        }\n    }\n\n    // CDATA section bracket state\n    //------------------------------------------------------------------\n    [CDATA_SECTION_BRACKET_STATE](cp) {\n        if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this.state = CDATA_SECTION_END_STATE;\n        } else {\n            this._emitChars(']');\n            this._reconsumeInState(CDATA_SECTION_STATE);\n        }\n    }\n\n    // CDATA section end state\n    //------------------------------------------------------------------\n    [CDATA_SECTION_END_STATE](cp) {\n        if (cp === $.GREATER_THAN_SIGN) {\n            this.state = DATA_STATE;\n        } else if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this._emitChars(']');\n        } else {\n            this._emitChars(']]');\n            this._reconsumeInState(CDATA_SECTION_STATE);\n        }\n    }\n\n    // Character reference state\n    //------------------------------------------------------------------\n    [CHARACTER_REFERENCE_STATE](cp) {\n        this.tempBuff = [$.AMPERSAND];\n\n        if (cp === $.NUMBER_SIGN) {\n            this.tempBuff.push(cp);\n            this.state = NUMERIC_CHARACTER_REFERENCE_STATE;\n        } else if (isAsciiAlphaNumeric(cp)) {\n            this._reconsumeInState(NAMED_CHARACTER_REFERENCE_STATE);\n        } else {\n            this._flushCodePointsConsumedAsCharacterReference();\n            this._reconsumeInState(this.returnState);\n        }\n    }\n\n    // Named character reference state\n    //------------------------------------------------------------------\n    [NAMED_CHARACTER_REFERENCE_STATE](cp) {\n        const matchResult = this._matchNamedCharacterReference(cp);\n\n        //NOTE: matching can be abrupted by hibernation. In that case match\n        //results are no longer valid and we will need to start over.\n        if (this._ensureHibernation()) {\n            this.tempBuff = [$.AMPERSAND];\n        } else if (matchResult) {\n            const withSemicolon = this.tempBuff[this.tempBuff.length - 1] === $.SEMICOLON;\n\n            if (!this._isCharacterReferenceAttributeQuirk(withSemicolon)) {\n                if (!withSemicolon) {\n                    this._errOnNextCodePoint(ERR.missingSemicolonAfterCharacterReference);\n                }\n\n                this.tempBuff = matchResult;\n            }\n\n            this._flushCodePointsConsumedAsCharacterReference();\n            this.state = this.returnState;\n        } else {\n            this._flushCodePointsConsumedAsCharacterReference();\n            this.state = AMBIGUOUS_AMPERSAND_STATE;\n        }\n    }\n\n    // Ambiguos ampersand state\n    //------------------------------------------------------------------\n    [AMBIGUOUS_AMPERSAND_STATE](cp) {\n        if (isAsciiAlphaNumeric(cp)) {\n            if (this._isCharacterReferenceInAttribute()) {\n                this.currentAttr.value += toChar(cp);\n            } else {\n                this._emitCodePoint(cp);\n            }\n        } else {\n            if (cp === $.SEMICOLON) {\n                this._err(ERR.unknownNamedCharacterReference);\n            }\n\n            this._reconsumeInState(this.returnState);\n        }\n    }\n\n    // Numeric character reference state\n    //------------------------------------------------------------------\n    [NUMERIC_CHARACTER_REFERENCE_STATE](cp) {\n        this.charRefCode = 0;\n\n        if (cp === $.LATIN_SMALL_X || cp === $.LATIN_CAPITAL_X) {\n            this.tempBuff.push(cp);\n            this.state = HEXADEMICAL_CHARACTER_REFERENCE_START_STATE;\n        } else {\n            this._reconsumeInState(DECIMAL_CHARACTER_REFERENCE_START_STATE);\n        }\n    }\n\n    // Hexademical character reference start state\n    //------------------------------------------------------------------\n    [HEXADEMICAL_CHARACTER_REFERENCE_START_STATE](cp) {\n        if (isAsciiHexDigit(cp)) {\n            this._reconsumeInState(HEXADEMICAL_CHARACTER_REFERENCE_STATE);\n        } else {\n            this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n            this._flushCodePointsConsumedAsCharacterReference();\n            this._reconsumeInState(this.returnState);\n        }\n    }\n\n    // Decimal character reference start state\n    //------------------------------------------------------------------\n    [DECIMAL_CHARACTER_REFERENCE_START_STATE](cp) {\n        if (isAsciiDigit(cp)) {\n            this._reconsumeInState(DECIMAL_CHARACTER_REFERENCE_STATE);\n        } else {\n            this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n            this._flushCodePointsConsumedAsCharacterReference();\n            this._reconsumeInState(this.returnState);\n        }\n    }\n\n    // Hexademical character reference state\n    //------------------------------------------------------------------\n    [HEXADEMICAL_CHARACTER_REFERENCE_STATE](cp) {\n        if (isAsciiUpperHexDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x37;\n        } else if (isAsciiLowerHexDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x57;\n        } else if (isAsciiDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x30;\n        } else if (cp === $.SEMICOLON) {\n            this.state = NUMERIC_CHARACTER_REFERENCE_END_STATE;\n        } else {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n            this._reconsumeInState(NUMERIC_CHARACTER_REFERENCE_END_STATE);\n        }\n    }\n\n    // Decimal character reference state\n    //------------------------------------------------------------------\n    [DECIMAL_CHARACTER_REFERENCE_STATE](cp) {\n        if (isAsciiDigit(cp)) {\n            this.charRefCode = this.charRefCode * 10 + cp - 0x30;\n        } else if (cp === $.SEMICOLON) {\n            this.state = NUMERIC_CHARACTER_REFERENCE_END_STATE;\n        } else {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n            this._reconsumeInState(NUMERIC_CHARACTER_REFERENCE_END_STATE);\n        }\n    }\n\n    // Numeric character reference end state\n    //------------------------------------------------------------------\n    [NUMERIC_CHARACTER_REFERENCE_END_STATE]() {\n        if (this.charRefCode === $.NULL) {\n            this._err(ERR.nullCharacterReference);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        } else if (this.charRefCode > 0x10ffff) {\n            this._err(ERR.characterReferenceOutsideUnicodeRange);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        } else if (unicode.isSurrogate(this.charRefCode)) {\n            this._err(ERR.surrogateCharacterReference);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        } else if (unicode.isUndefinedCodePoint(this.charRefCode)) {\n            this._err(ERR.noncharacterCharacterReference);\n        } else if (unicode.isControlCodePoint(this.charRefCode) || this.charRefCode === $.CARRIAGE_RETURN) {\n            this._err(ERR.controlCharacterReference);\n\n            const replacement = C1_CONTROLS_REFERENCE_REPLACEMENTS[this.charRefCode];\n\n            if (replacement) {\n                this.charRefCode = replacement;\n            }\n        }\n\n        this.tempBuff = [this.charRefCode];\n\n        this._flushCodePointsConsumedAsCharacterReference();\n        this._reconsumeInState(this.returnState);\n    }\n}\n\n//Token types\nTokenizer.CHARACTER_TOKEN = 'CHARACTER_TOKEN';\nTokenizer.NULL_CHARACTER_TOKEN = 'NULL_CHARACTER_TOKEN';\nTokenizer.WHITESPACE_CHARACTER_TOKEN = 'WHITESPACE_CHARACTER_TOKEN';\nTokenizer.START_TAG_TOKEN = 'START_TAG_TOKEN';\nTokenizer.END_TAG_TOKEN = 'END_TAG_TOKEN';\nTokenizer.COMMENT_TOKEN = 'COMMENT_TOKEN';\nTokenizer.DOCTYPE_TOKEN = 'DOCTYPE_TOKEN';\nTokenizer.EOF_TOKEN = 'EOF_TOKEN';\nTokenizer.HIBERNATION_TOKEN = 'HIBERNATION_TOKEN';\n\n//Tokenizer initial states for different modes\nTokenizer.MODE = {\n    DATA: DATA_STATE,\n    RCDATA: RCDATA_STATE,\n    RAWTEXT: RAWTEXT_STATE,\n    SCRIPT_DATA: SCRIPT_DATA_STATE,\n    PLAINTEXT: PLAINTEXT_STATE\n};\n\n//Static\nTokenizer.getTokenAttr = function(token, attrName) {\n    for (let i = token.attrs.length - 1; i >= 0; i--) {\n        if (token.attrs[i].name === attrName) {\n            return token.attrs[i].value;\n        }\n    }\n\n    return null;\n};\n\nmodule.exports = Tokenizer;\n",
    "'use strict';\n\n//NOTE: this file contains auto-generated array mapped radix tree that is used for the named entity references consumption\n//(details: https://github.com/inikulin/parse5/tree/master/scripts/generate-named-entity-data/README.md)\nmodule.exports = new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4000,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,10000,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13000,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204]);",
    "'use strict';\n\nconst unicode = require('../common/unicode');\nconst ERR = require('../common/error-codes');\n\n//Aliases\nconst $ = unicode.CODE_POINTS;\n\n//Const\nconst DEFAULT_BUFFER_WATERLINE = 1 << 16;\n\n//Preprocessor\n//NOTE: HTML input preprocessing\n//(see: http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#preprocessing-the-input-stream)\nclass Preprocessor {\n    constructor() {\n        this.html = null;\n\n        this.pos = -1;\n        this.lastGapPos = -1;\n        this.lastCharPos = -1;\n\n        this.gapStack = [];\n\n        this.skipNextNewLine = false;\n\n        this.lastChunkWritten = false;\n        this.endOfChunkHit = false;\n        this.bufferWaterline = DEFAULT_BUFFER_WATERLINE;\n    }\n\n    _err() {\n        // NOTE: err reporting is noop by default. Enabled by mixin.\n    }\n\n    _addGap() {\n        this.gapStack.push(this.lastGapPos);\n        this.lastGapPos = this.pos;\n    }\n\n    _processSurrogate(cp) {\n        //NOTE: try to peek a surrogate pair\n        if (this.pos !== this.lastCharPos) {\n            const nextCp = this.html.charCodeAt(this.pos + 1);\n\n            if (unicode.isSurrogatePair(nextCp)) {\n                //NOTE: we have a surrogate pair. Peek pair character and recalculate code point.\n                this.pos++;\n\n                //NOTE: add gap that should be avoided during retreat\n                this._addGap();\n\n                return unicode.getSurrogatePairCodePoint(cp, nextCp);\n            }\n        }\n\n        //NOTE: we are at the end of a chunk, therefore we can't infer surrogate pair yet.\n        else if (!this.lastChunkWritten) {\n            this.endOfChunkHit = true;\n            return $.EOF;\n        }\n\n        //NOTE: isolated surrogate\n        this._err(ERR.surrogateInInputStream);\n\n        return cp;\n    }\n\n    dropParsedChunk() {\n        if (this.pos > this.bufferWaterline) {\n            this.lastCharPos -= this.pos;\n            this.html = this.html.substring(this.pos);\n            this.pos = 0;\n            this.lastGapPos = -1;\n            this.gapStack = [];\n        }\n    }\n\n    write(chunk, isLastChunk) {\n        if (this.html) {\n            this.html += chunk;\n        } else {\n            this.html = chunk;\n        }\n\n        this.lastCharPos = this.html.length - 1;\n        this.endOfChunkHit = false;\n        this.lastChunkWritten = isLastChunk;\n    }\n\n    insertHtmlAtCurrentPos(chunk) {\n        this.html = this.html.substring(0, this.pos + 1) + chunk + this.html.substring(this.pos + 1, this.html.length);\n\n        this.lastCharPos = this.html.length - 1;\n        this.endOfChunkHit = false;\n    }\n\n    advance() {\n        this.pos++;\n\n        if (this.pos > this.lastCharPos) {\n            this.endOfChunkHit = !this.lastChunkWritten;\n            return $.EOF;\n        }\n\n        let cp = this.html.charCodeAt(this.pos);\n\n        //NOTE: any U+000A LINE FEED (LF) characters that immediately follow a U+000D CARRIAGE RETURN (CR) character\n        //must be ignored.\n        if (this.skipNextNewLine && cp === $.LINE_FEED) {\n            this.skipNextNewLine = false;\n            this._addGap();\n            return this.advance();\n        }\n\n        //NOTE: all U+000D CARRIAGE RETURN (CR) characters must be converted to U+000A LINE FEED (LF) characters\n        if (cp === $.CARRIAGE_RETURN) {\n            this.skipNextNewLine = true;\n            return $.LINE_FEED;\n        }\n\n        this.skipNextNewLine = false;\n\n        if (unicode.isSurrogate(cp)) {\n            cp = this._processSurrogate(cp);\n        }\n\n        //OPTIMIZATION: first check if code point is in the common allowed\n        //range (ASCII alphanumeric, whitespaces, big chunk of BMP)\n        //before going into detailed performance cost validation.\n        const isCommonValidRange =\n            (cp > 0x1f && cp < 0x7f) || cp === $.LINE_FEED || cp === $.CARRIAGE_RETURN || (cp > 0x9f && cp < 0xfdd0);\n\n        if (!isCommonValidRange) {\n            this._checkForProblematicCharacters(cp);\n        }\n\n        return cp;\n    }\n\n    _checkForProblematicCharacters(cp) {\n        if (unicode.isControlCodePoint(cp)) {\n            this._err(ERR.controlCharacterInInputStream);\n        } else if (unicode.isUndefinedCodePoint(cp)) {\n            this._err(ERR.noncharacterInInputStream);\n        }\n    }\n\n    retreat() {\n        if (this.pos === this.lastGapPos) {\n            this.lastGapPos = this.gapStack.pop();\n            this.pos--;\n        }\n\n        this.pos--;\n    }\n}\n\nmodule.exports = Preprocessor;\n",
    "'use strict';\n\nconst { DOCUMENT_MODE } = require('../common/html');\n\n//Node construction\nexports.createDocument = function() {\n    return {\n        nodeName: '#document',\n        mode: DOCUMENT_MODE.NO_QUIRKS,\n        childNodes: []\n    };\n};\n\nexports.createDocumentFragment = function() {\n    return {\n        nodeName: '#document-fragment',\n        childNodes: []\n    };\n};\n\nexports.createElement = function(tagName, namespaceURI, attrs) {\n    return {\n        nodeName: tagName,\n        tagName: tagName,\n        attrs: attrs,\n        namespaceURI: namespaceURI,\n        childNodes: [],\n        parentNode: null\n    };\n};\n\nexports.createCommentNode = function(data) {\n    return {\n        nodeName: '#comment',\n        data: data,\n        parentNode: null\n    };\n};\n\nconst createTextNode = function(value) {\n    return {\n        nodeName: '#text',\n        value: value,\n        parentNode: null\n    };\n};\n\n//Tree mutation\nconst appendChild = (exports.appendChild = function(parentNode, newNode) {\n    parentNode.childNodes.push(newNode);\n    newNode.parentNode = parentNode;\n});\n\nconst insertBefore = (exports.insertBefore = function(parentNode, newNode, referenceNode) {\n    const insertionIdx = parentNode.childNodes.indexOf(referenceNode);\n\n    parentNode.childNodes.splice(insertionIdx, 0, newNode);\n    newNode.parentNode = parentNode;\n});\n\nexports.setTemplateContent = function(templateElement, contentElement) {\n    templateElement.content = contentElement;\n};\n\nexports.getTemplateContent = function(templateElement) {\n    return templateElement.content;\n};\n\nexports.setDocumentType = function(document, name, publicId, systemId) {\n    let doctypeNode = null;\n\n    for (let i = 0; i < document.childNodes.length; i++) {\n        if (document.childNodes[i].nodeName === '#documentType') {\n            doctypeNode = document.childNodes[i];\n            break;\n        }\n    }\n\n    if (doctypeNode) {\n        doctypeNode.name = name;\n        doctypeNode.publicId = publicId;\n        doctypeNode.systemId = systemId;\n    } else {\n        appendChild(document, {\n            nodeName: '#documentType',\n            name: name,\n            publicId: publicId,\n            systemId: systemId\n        });\n    }\n};\n\nexports.setDocumentMode = function(document, mode) {\n    document.mode = mode;\n};\n\nexports.getDocumentMode = function(document) {\n    return document.mode;\n};\n\nexports.detachNode = function(node) {\n    if (node.parentNode) {\n        const idx = node.parentNode.childNodes.indexOf(node);\n\n        node.parentNode.childNodes.splice(idx, 1);\n        node.parentNode = null;\n    }\n};\n\nexports.insertText = function(parentNode, text) {\n    if (parentNode.childNodes.length) {\n        const prevNode = parentNode.childNodes[parentNode.childNodes.length - 1];\n\n        if (prevNode.nodeName === '#text') {\n            prevNode.value += text;\n            return;\n        }\n    }\n\n    appendChild(parentNode, createTextNode(text));\n};\n\nexports.insertTextBefore = function(parentNode, text, referenceNode) {\n    const prevNode = parentNode.childNodes[parentNode.childNodes.indexOf(referenceNode) - 1];\n\n    if (prevNode && prevNode.nodeName === '#text') {\n        prevNode.value += text;\n    } else {\n        insertBefore(parentNode, createTextNode(text), referenceNode);\n    }\n};\n\nexports.adoptAttributes = function(recipient, attrs) {\n    const recipientAttrsMap = [];\n\n    for (let i = 0; i < recipient.attrs.length; i++) {\n        recipientAttrsMap.push(recipient.attrs[i].name);\n    }\n\n    for (let j = 0; j < attrs.length; j++) {\n        if (recipientAttrsMap.indexOf(attrs[j].name) === -1) {\n            recipient.attrs.push(attrs[j]);\n        }\n    }\n};\n\n//Tree traversing\nexports.getFirstChild = function(node) {\n    return node.childNodes[0];\n};\n\nexports.getChildNodes = function(node) {\n    return node.childNodes;\n};\n\nexports.getParentNode = function(node) {\n    return node.parentNode;\n};\n\nexports.getAttrList = function(element) {\n    return element.attrs;\n};\n\n//Node data\nexports.getTagName = function(element) {\n    return element.tagName;\n};\n\nexports.getNamespaceURI = function(element) {\n    return element.namespaceURI;\n};\n\nexports.getTextNodeContent = function(textNode) {\n    return textNode.value;\n};\n\nexports.getCommentNodeContent = function(commentNode) {\n    return commentNode.data;\n};\n\nexports.getDocumentTypeNodeName = function(doctypeNode) {\n    return doctypeNode.name;\n};\n\nexports.getDocumentTypeNodePublicId = function(doctypeNode) {\n    return doctypeNode.publicId;\n};\n\nexports.getDocumentTypeNodeSystemId = function(doctypeNode) {\n    return doctypeNode.systemId;\n};\n\n//Node types\nexports.isTextNode = function(node) {\n    return node.nodeName === '#text';\n};\n\nexports.isCommentNode = function(node) {\n    return node.nodeName === '#comment';\n};\n\nexports.isDocumentTypeNode = function(node) {\n    return node.nodeName === '#documentType';\n};\n\nexports.isElementNode = function(node) {\n    return !!node.tagName;\n};\n\n// Source code location\nexports.setNodeSourceCodeLocation = function(node, location) {\n    node.sourceCodeLocation = location;\n};\n\nexports.getNodeSourceCodeLocation = function(node) {\n    return node.sourceCodeLocation;\n};\n\nexports.updateNodeSourceCodeLocation = function(node, endLocation) {\n    node.sourceCodeLocation = Object.assign(node.sourceCodeLocation, endLocation);\n};\n",
    "'use strict';\n\nmodule.exports = function mergeOptions(defaults, options) {\n    options = options || Object.create(null);\n\n    return [defaults, options].reduce((merged, optObj) => {\n        Object.keys(optObj).forEach(key => {\n            merged[key] = optObj[key];\n        });\n\n        return merged;\n    }, Object.create(null));\n};\n",
    "'use strict';\n\nclass Mixin {\n    constructor(host) {\n        const originalMethods = {};\n        const overriddenMethods = this._getOverriddenMethods(this, originalMethods);\n\n        for (const key of Object.keys(overriddenMethods)) {\n            if (typeof overriddenMethods[key] === 'function') {\n                originalMethods[key] = host[key];\n                host[key] = overriddenMethods[key];\n            }\n        }\n    }\n\n    _getOverriddenMethods() {\n        throw new Error('Not implemented');\n    }\n}\n\nMixin.install = function(host, Ctor, opts) {\n    if (!host.__mixins) {\n        host.__mixins = [];\n    }\n\n    for (let i = 0; i < host.__mixins.length; i++) {\n        if (host.__mixins[i].constructor === Ctor) {\n            return host.__mixins[i];\n        }\n    }\n\n    const mixin = new Ctor(host, opts);\n\n    host.__mixins.push(mixin);\n\n    return mixin;\n};\n\nmodule.exports = Mixin;\n",
    "// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n",
    "// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n",
    "'use strict';\nvar strictUriEncode = require('strict-uri-encode');\n\nexports.extract = function (str) {\n\treturn str.split('?')[1] || '';\n};\n\nexports.parse = function (str) {\n\tif (typeof str !== 'string') {\n\t\treturn {};\n\t}\n\n\tstr = str.trim().replace(/^(\\?|#|&)/, '');\n\n\tif (!str) {\n\t\treturn {};\n\t}\n\n\treturn str.split('&').reduce(function (ret, param) {\n\t\tvar parts = param.replace(/\\+/g, ' ').split('=');\n\t\t// Firefox (pre 40) decodes `%3D` to `=`\n\t\t// https://github.com/sindresorhus/query-string/pull/37\n\t\tvar key = parts.shift();\n\t\tvar val = parts.length > 0 ? parts.join('=') : undefined;\n\n\t\tkey = decodeURIComponent(key);\n\n\t\t// missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tval = val === undefined ? null : decodeURIComponent(val);\n\n\t\tif (!ret.hasOwnProperty(key)) {\n\t\t\tret[key] = val;\n\t\t} else if (Array.isArray(ret[key])) {\n\t\t\tret[key].push(val);\n\t\t} else {\n\t\t\tret[key] = [ret[key], val];\n\t\t}\n\n\t\treturn ret;\n\t}, {});\n};\n\nexports.stringify = function (obj) {\n\treturn obj ? Object.keys(obj).sort().map(function (key) {\n\t\tvar val = obj[key];\n\n\t\tif (val === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (val === null) {\n\t\t\treturn key;\n\t\t}\n\n\t\tif (Array.isArray(val)) {\n\t\t\treturn val.slice().sort().map(function (val2) {\n\t\t\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val2);\n\t\t\t}).join('&');\n\t\t}\n\n\t\treturn strictUriEncode(key) + '=' + strictUriEncode(val);\n\t}).filter(function (x) {\n\t\treturn x.length > 0;\n\t}).join('&') : '';\n};\n",
    "/**\n * Angular.js plugin\n *\n * Provides an $exceptionHandler for Angular.js\n */\n'use strict';\n\n// See https://github.com/angular/angular.js/blob/v1.4.7/src/minErr.js\nvar angularPattern = /^\\[((?:[$a-zA-Z0-9]+:)?(?:[$a-zA-Z0-9]+))\\] (.*?)\\n?(\\S+)$/;\n\n\nfunction angularPlugin(Raven, angular) {\n    angular = angular || window.angular;\n\n    if (!angular) return;\n\n    function RavenProvider() {\n        this.$get = ['$window', function($window) {\n            return Raven;\n        }];\n    }\n\n    function ExceptionHandlerProvider($provide) {\n        $provide.decorator('$exceptionHandler',\n            ['Raven', '$delegate', exceptionHandler]);\n    }\n\n    function exceptionHandler(R, $delegate) {\n        return function (ex, cause) {\n            R.captureException(ex, {\n                extra: { cause: cause }\n            });\n            $delegate(ex, cause);\n        };\n    }\n\n    angular.module('ngRaven', [])\n        .provider('Raven',  RavenProvider)\n        .config(['$provide', ExceptionHandlerProvider]);\n\n    Raven.setDataCallback(function(data, original) {\n        angularPlugin._normalizeData(data);\n\n        original && original(data);\n    });\n}\n\nangularPlugin._normalizeData = function (data) {\n    // We only care about mutating an exception\n    var exception = data.exception;\n    if (exception) {\n        exception = exception.values[0];\n        var matches = angularPattern.exec(exception.value);\n\n        if (matches) {\n            // This type now becomes something like: $rootScope:inprog\n            exception.type = matches[1];\n            exception.value = matches[2];\n\n            data.message = exception.type + ': ' + exception.value;\n            // auto set a new tag specifically for the angular error url\n            data.extra.angularDocs = matches[3].substr(0, 250);\n        }\n    }\n};\n\nmodule.exports = angularPlugin;\n",
    "'use strict';\n\nexports.__esModule = true;\nfunction createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch;\n    var getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexports['default'] = thunk;",
    "'use strict';\n\nexports.__esModule = true;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports[\"default\"] = applyMiddleware;\n\nvar _compose = require('./compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function (reducer, initialState, enhancer) {\n      var store = createStore(reducer, initialState, enhancer);\n      var _dispatch = store.dispatch;\n      var chain = [];\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch(action) {\n          return _dispatch(action);\n        }\n      };\n      chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = _compose2[\"default\"].apply(undefined, chain)(store.dispatch);\n\n      return _extends({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}",
    "'use strict';\n\nexports.__esModule = true;\nexports[\"default\"] = bindActionCreators;\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(undefined, arguments));\n  };\n}\n\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass a single function as the first argument,\n * and get a function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error('bindActionCreators expected an object or a function, instead received ' + (actionCreators === null ? 'null' : typeof actionCreators) + '. ' + 'Did you write \"import ActionCreators from\" instead of \"import * as ActionCreators from\"?');\n  }\n\n  var keys = Object.keys(actionCreators);\n  var boundActionCreators = {};\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var actionCreator = actionCreators[key];\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n  return boundActionCreators;\n}",
    "'use strict';\n\nexports.__esModule = true;\nexports[\"default\"] = combineReducers;\n\nvar _createStore = require('./createStore');\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _warning = require('./utils/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionName = actionType && '\"' + actionType.toString() + '\"' || 'an action';\n\n  return 'Given action ' + actionName + ', reducer \"' + key + '\" returned undefined. ' + 'To ignore an action, you must explicitly return the previous state.';\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === _createStore.ActionTypes.INIT ? 'initialState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!(0, _isPlainObject2[\"default\"])(inputState)) {\n    return 'The ' + argumentName + ' has unexpected type of \"' + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + '\". Expected argument to be an object with the following ' + ('keys: \"' + reducerKeys.join('\", \"') + '\"');\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key);\n  });\n\n  if (unexpectedKeys.length > 0) {\n    return 'Unexpected ' + (unexpectedKeys.length > 1 ? 'keys' : 'key') + ' ' + ('\"' + unexpectedKeys.join('\", \"') + '\" found in ' + argumentName + '. ') + 'Expected to find one of the known reducer keys instead: ' + ('\"' + reducerKeys.join('\", \"') + '\". Unexpected keys will be ignored.');\n  }\n}\n\nfunction assertReducerSanity(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, { type: _createStore.ActionTypes.INIT });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined during initialization. ' + 'If the state passed to the reducer is undefined, you must ' + 'explicitly return the initial state. The initial state may ' + 'not be undefined.');\n    }\n\n    var type = '@@redux/PROBE_UNKNOWN_ACTION_' + Math.random().toString(36).substring(7).split('').join('.');\n    if (typeof reducer(undefined, { type: type }) === 'undefined') {\n      throw new Error('Reducer \"' + key + '\" returned undefined when probed with a random type. ' + ('Don\\'t try to handle ' + _createStore.ActionTypes.INIT + ' or other actions in \"redux/*\" ') + 'namespace. They are considered private. Instead, you must return the ' + 'current state for any unknown actions, unless it is undefined, ' + 'in which case you must return the initial state, regardless of the ' + 'action type. The initial state may not be undefined.');\n    }\n  });\n}\n\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n  var finalReducerKeys = Object.keys(finalReducers);\n\n  var sanityError;\n  try {\n    assertReducerSanity(finalReducers);\n  } catch (e) {\n    sanityError = e;\n  }\n\n  return function combination() {\n    var state = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n    var action = arguments[1];\n\n    if (sanityError) {\n      throw sanityError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action);\n      if (warningMessage) {\n        (0, _warning2[\"default\"])(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n    for (var i = 0; i < finalReducerKeys.length; i++) {\n      var key = finalReducerKeys[i];\n      var reducer = finalReducers[key];\n      var previousStateForKey = state[key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(key, action);\n        throw new Error(errorMessage);\n      }\n      nextState[key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n    return hasChanged ? nextState : state;\n  };\n}",
    "\"use strict\";\n\nexports.__esModule = true;\nexports[\"default\"] = compose;\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\n\nfunction compose() {\n  for (var _len = arguments.length, funcs = Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  } else {\n    var _ret = function () {\n      var last = funcs[funcs.length - 1];\n      var rest = funcs.slice(0, -1);\n      return {\n        v: function v() {\n          return rest.reduceRight(function (composed, f) {\n            return f(composed);\n          }, last.apply(undefined, arguments));\n        }\n      };\n    }();\n\n    if (typeof _ret === \"object\") return _ret.v;\n  }\n}",
    "'use strict';\n\nexports.__esModule = true;\nexports.ActionTypes = undefined;\nexports[\"default\"] = createStore;\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _symbolObservable = require('symbol-observable');\n\nvar _symbolObservable2 = _interopRequireDefault(_symbolObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = exports.ActionTypes = {\n  INIT: '@@redux/INIT'\n};\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [initialState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} enhancer The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\nfunction createStore(reducer, initialState, enhancer) {\n  var _ref2;\n\n  if (typeof initialState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = initialState;\n    initialState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, initialState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = initialState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing what changed. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!(0, _isPlainObject2[\"default\"])(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i]();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/zenparsing/es-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[_symbolObservable2[\"default\"]] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[_symbolObservable2[\"default\"]] = observable, _ref2;\n}",
    "'use strict';\n\nexports.__esModule = true;\nexports.compose = exports.applyMiddleware = exports.bindActionCreators = exports.combineReducers = exports.createStore = undefined;\n\nvar _createStore = require('./createStore');\n\nvar _createStore2 = _interopRequireDefault(_createStore);\n\nvar _combineReducers = require('./combineReducers');\n\nvar _combineReducers2 = _interopRequireDefault(_combineReducers);\n\nvar _bindActionCreators = require('./bindActionCreators');\n\nvar _bindActionCreators2 = _interopRequireDefault(_bindActionCreators);\n\nvar _applyMiddleware = require('./applyMiddleware');\n\nvar _applyMiddleware2 = _interopRequireDefault(_applyMiddleware);\n\nvar _compose = require('./compose');\n\nvar _compose2 = _interopRequireDefault(_compose);\n\nvar _warning = require('./utils/warning');\n\nvar _warning2 = _interopRequireDefault(_warning);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/*\n* This is a dummy function to check if the function name has been altered by minification.\n* If the function has been minified and NODE_ENV !== 'production', warn the user.\n*/\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  (0, _warning2[\"default\"])('You are currently using minified code outside of NODE_ENV === \\'production\\'. ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or DefinePlugin for webpack (http://stackoverflow.com/questions/30030031) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexports.createStore = _createStore2[\"default\"];\nexports.combineReducers = _combineReducers2[\"default\"];\nexports.bindActionCreators = _bindActionCreators2[\"default\"];\nexports.applyMiddleware = _applyMiddleware2[\"default\"];\nexports.compose = _compose2[\"default\"];",
    "'use strict';\n\nexports.__esModule = true;\nexports[\"default\"] = warning;\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n    /* eslint-disable no-empty */\n  } catch (e) {}\n  /* eslint-enable no-empty */\n}",
    "module.exports = require('./lib/retry');",
    "var RetryOperation = require('./retry_operation');\n\nexports.operation = function(options) {\n  var retryForever = false;\n  if (options && options.forever === true) retryForever = true;\n  var timeouts = exports.timeouts(options);\n  return new RetryOperation(timeouts, retryForever);\n};\n\nexports.timeouts = function(options) {\n  if (options instanceof Array) {\n    return [].concat(options);\n  }\n\n  var opts = {\n    retries: 10,\n    factor: 2,\n    minTimeout: 1 * 1000,\n    maxTimeout: Infinity,\n    randomize: false\n  };\n  for (var key in options) {\n    opts[key] = options[key];\n  }\n\n  if (opts.minTimeout > opts.maxTimeout) {\n    throw new Error('minTimeout is greater than maxTimeout');\n  }\n\n  var timeouts = [];\n  for (var i = 0; i < opts.retries; i++) {\n    timeouts.push(this.createTimeout(i, opts));\n  }\n\n  // sort the array numerically ascending\n  timeouts.sort(function(a,b) {\n    return a - b;\n  });\n\n  return timeouts;\n};\n\nexports.createTimeout = function(attempt, opts) {\n  var random = (opts.randomize)\n    ? (Math.random() + 1)\n    : 1;\n\n  var timeout = Math.round(random * opts.minTimeout * Math.pow(opts.factor, attempt));\n  timeout = Math.min(timeout, opts.maxTimeout);\n\n  return timeout;\n};\n\nexports.wrap = function(obj, options, methods) {\n  if (options instanceof Array) {\n    methods = options;\n    options = null;\n  }\n\n  if (!methods) {\n    methods = [];\n    for (var key in obj) {\n      if (typeof obj[key] === 'function') {\n        methods.push(key);\n      }\n    }\n  }\n\n  for (var i = 0; i < methods.length; i++) {\n    var method   = methods[i];\n    var original = obj[method];\n\n    obj[method] = function retryWrapper() {\n      var op       = exports.operation(options);\n      var args     = Array.prototype.slice.call(arguments);\n      var callback = args.pop();\n\n      args.push(function(err) {\n        if (op.retry(err)) {\n          return;\n        }\n        if (err) {\n          arguments[0] = op.mainError();\n        }\n        callback.apply(this, arguments);\n      });\n\n      op.attempt(function() {\n        original.apply(obj, args);\n      });\n    };\n    obj[method].options = options;\n  }\n};\n",
    "function RetryOperation(timeouts, retryForever) {\n  this._timeouts = timeouts;\n  this._fn = null;\n  this._errors = [];\n  this._attempts = 1;\n  this._operationTimeout = null;\n  this._operationTimeoutCb = null;\n  this._timeout = null;\n\n  if (!!retryForever) {\n    this._cachedTimeouts = this._timeouts.slice(0);\n  }\n}\nmodule.exports = RetryOperation;\n\nRetryOperation.prototype.retry = function(err) {\n  if (this._timeout) {\n    clearTimeout(this._timeout);\n  }\n\n  if (!err) {\n    return false;\n  }\n\n  this._errors.push(err);\n\n  var timeout = this._timeouts.shift();\n  if (timeout === undefined) {\n    if (this._cachedTimeouts) {\n      // retry forever, only keep last error\n      this._errors.splice(this._errors.length - 1, this._errors.length);\n      this._timeouts = this._cachedTimeouts.slice(0);\n      timeout = this._timeouts.shift();\n    } else {\n      return false;\n    }\n  }\n\n  var self = this;\n  setTimeout(function() {\n    self._attempts++;\n\n    if (self._operationTimeoutCb) {\n      self._timeout = setTimeout(function() {\n        self._operationTimeoutCb(self._attempts);\n      }, self._operationTimeout);\n    }\n\n    self._fn(self._attempts);\n  }, timeout);\n\n  return true;\n};\n\nRetryOperation.prototype.attempt = function(fn, timeoutOps) {\n  this._fn = fn;\n\n  if (timeoutOps) {\n    if (timeoutOps.timeout) {\n      this._operationTimeout = timeoutOps.timeout;\n    }\n    if (timeoutOps.cb) {\n      this._operationTimeoutCb = timeoutOps.cb;\n    }\n  }\n\n  var self = this;\n  if (this._operationTimeoutCb) {\n    this._timeout = setTimeout(function() {\n      self._operationTimeoutCb();\n    }, self._operationTimeout);\n  }\n\n  this._fn(this._attempts);\n};\n\nRetryOperation.prototype.try = function(fn) {\n  console.log('Using RetryOperation.try() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = function(fn) {\n  console.log('Using RetryOperation.start() is deprecated');\n  this.attempt(fn);\n};\n\nRetryOperation.prototype.start = RetryOperation.prototype.try;\n\nRetryOperation.prototype.errors = function() {\n  return this._errors;\n};\n\nRetryOperation.prototype.attempts = function() {\n  return this._attempts;\n};\n\nRetryOperation.prototype.mainError = function() {\n  if (this._errors.length === 0) {\n    return null;\n  }\n\n  var counts = {};\n  var mainError = null;\n  var mainErrorCount = 0;\n\n  for (var i = 0; i < this._errors.length; i++) {\n    var error = this._errors[i];\n    var message = error.message;\n    var count = (counts[message] || 0) + 1;\n\n    counts[message] = count;\n\n    if (count >= mainErrorCount) {\n      mainError = error;\n      mainErrorCount = count;\n    }\n  }\n\n  return mainError;\n};\n",
    "var now = require('performance-now')\n  , root = typeof window === 'undefined' ? global : window\n  , vendors = ['moz', 'webkit']\n  , suffix = 'AnimationFrame'\n  , raf = root['request' + suffix]\n  , caf = root['cancel' + suffix] || root['cancelRequest' + suffix]\n\nfor(var i = 0; !raf && i < vendors.length; i++) {\n  raf = root[vendors[i] + 'Request' + suffix]\n  caf = root[vendors[i] + 'Cancel' + suffix]\n      || root[vendors[i] + 'CancelRequest' + suffix]\n}\n\n// Some versions of FF have rAF but not cAF\nif(!raf || !caf) {\n  var last = 0\n    , id = 0\n    , queue = []\n    , frameDuration = 1000 / 60\n\n  raf = function(callback) {\n    if(queue.length === 0) {\n      var _now = now()\n        , next = Math.max(0, frameDuration - (_now - last))\n      last = next + _now\n      setTimeout(function() {\n        var cp = queue.slice(0)\n        // Clear queue here to prevent\n        // callbacks from appending listeners\n        // to the current frame's queue\n        queue.length = 0\n        for(var i = 0; i < cp.length; i++) {\n          if(!cp[i].cancelled) {\n            try{\n              cp[i].callback(last)\n            } catch(e) {\n              setTimeout(function() { throw e }, 0)\n            }\n          }\n        }\n      }, Math.round(next))\n    }\n    queue.push({\n      handle: ++id,\n      callback: callback,\n      cancelled: false\n    })\n    return id\n  }\n\n  caf = function(handle) {\n    for(var i = 0; i < queue.length; i++) {\n      if(queue[i].handle === handle) {\n        queue[i].cancelled = true\n      }\n    }\n  }\n}\n\nmodule.exports = function(fn) {\n  // Wrap in a new function to prevent\n  // `cancel` potentially being assigned\n  // to the native rAF function\n  return raf.call(root, fn)\n}\nmodule.exports.cancel = function() {\n  caf.apply(root, arguments)\n}\nmodule.exports.polyfill = function(object) {\n  if (!object) {\n    object = root;\n  }\n  object.requestAnimationFrame = raf\n  object.cancelAnimationFrame = caf\n}\n",
    "var raf = require('raf'),\n    COMPLETE = 'complete',\n    CANCELED = 'canceled';\n\nfunction setElementScroll(element, x, y){\n    if(element === window){\n        element.scrollTo(x, y);\n    }else{\n        element.scrollLeft = x;\n        element.scrollTop = y;\n    }\n}\n\nfunction getTargetScrollLocation(target, parent, align){\n    var targetPosition = target.getBoundingClientRect(),\n        parentPosition,\n        x,\n        y,\n        differenceX,\n        differenceY,\n        targetWidth,\n        targetHeight,\n        leftAlign = align && align.left != null ? align.left : 0.5,\n        topAlign = align && align.top != null ? align.top : 0.5,\n        leftOffset = align && align.leftOffset != null ? align.leftOffset : 0,\n        topOffset = align && align.topOffset != null ? align.topOffset : 0,\n        leftScalar = leftAlign,\n        topScalar = topAlign;\n\n    if(parent === window){\n        targetWidth = Math.min(targetPosition.width, window.innerWidth);\n        targetHeight = Math.min(targetPosition.height, window.innerHeight);\n        x = targetPosition.left + window.pageXOffset - window.innerWidth * leftScalar + targetWidth * leftScalar;\n        y = targetPosition.top + window.pageYOffset - window.innerHeight * topScalar + targetHeight * topScalar;\n        x = Math.max(Math.min(x, document.body.scrollWidth - window.innerWidth * leftScalar), 0);\n        y = Math.max(Math.min(y, document.body.scrollHeight- window.innerHeight * topScalar), 0);\n        x -= leftOffset;\n        y -= topOffset;\n        differenceX = x - window.pageXOffset;\n        differenceY = y - window.pageYOffset;\n    }else{\n        targetWidth = targetPosition.width;\n        targetHeight = targetPosition.height;\n        parentPosition = parent.getBoundingClientRect();\n        var offsetLeft = targetPosition.left - (parentPosition.left - parent.scrollLeft);\n        var offsetTop = targetPosition.top - (parentPosition.top - parent.scrollTop);\n        x = offsetLeft + (targetWidth * leftScalar) - parent.clientWidth * leftScalar;\n        y = offsetTop + (targetHeight * topScalar) - parent.clientHeight * topScalar;\n        x = Math.max(Math.min(x, parent.scrollWidth - parent.clientWidth), 0);\n        y = Math.max(Math.min(y, parent.scrollHeight - parent.clientHeight), 0);\n        x -= leftOffset;\n        y -= topOffset;\n        differenceX = x - parent.scrollLeft;\n        differenceY = y - parent.scrollTop;\n    }\n\n    return {\n        x: x,\n        y: y,\n        differenceX: differenceX,\n        differenceY: differenceY\n    };\n}\n\nfunction animate(parent){\n    raf(function(){\n        var scrollSettings = parent._scrollSettings;\n        if(!scrollSettings){\n            return;\n        }\n\n        var location = getTargetScrollLocation(scrollSettings.target, parent, scrollSettings.align),\n            time = Date.now() - scrollSettings.startTime,\n            timeValue = Math.min(1 / scrollSettings.time * time, 1);\n\n        if(\n            time > scrollSettings.time + 20\n        ){\n            setElementScroll(parent, location.x, location.y);\n            parent._scrollSettings = null;\n            return scrollSettings.end(COMPLETE);\n        }\n\n        var easeValue = 1 - scrollSettings.ease(timeValue);\n\n        setElementScroll(parent,\n            location.x - location.differenceX * easeValue,\n            location.y - location.differenceY * easeValue\n        );\n\n        animate(parent);\n    });\n}\nfunction transitionScrollTo(target, parent, settings, callback){\n    var idle = !parent._scrollSettings,\n        lastSettings = parent._scrollSettings,\n        now = Date.now(),\n        endHandler;\n\n    if(lastSettings){\n        lastSettings.end(CANCELED);\n    }\n\n    function end(endType){\n        parent._scrollSettings = null;\n        if(parent.parentElement && parent.parentElement._scrollSettings){\n            parent.parentElement._scrollSettings.end(endType);\n        }\n        callback(endType);\n        parent.removeEventListener('touchstart', endHandler);\n    }\n\n    parent._scrollSettings = {\n        startTime: lastSettings ? lastSettings.startTime : Date.now(),\n        target: target,\n        time: settings.time + (lastSettings ? now - lastSettings.startTime : 0),\n        ease: settings.ease,\n        align: settings.align,\n        end: end\n    };\n\n    endHandler = end.bind(null, CANCELED);\n    parent.addEventListener('touchstart', endHandler);\n\n    if(idle){\n        animate(parent);\n    }\n}\n\nfunction isScrollable(element){\n    return (\n        element === window ||\n        (\n            element.scrollHeight !== element.clientHeight ||\n            element.scrollWidth !== element.clientWidth\n        ) &&\n        getComputedStyle(element).overflow !== 'hidden'\n    );\n}\n\nfunction defaultValidTarget(){\n    return true;\n}\n\nmodule.exports = function(target, settings, callback){\n    if(!target){\n        return;\n    }\n\n    if(typeof settings === 'function'){\n        callback = settings;\n        settings = null;\n    }\n\n    if(!settings){\n        settings = {};\n    }\n\n    settings.time = isNaN(settings.time) ? 1000 : settings.time;\n    settings.ease = settings.ease || function(v){return 1 - Math.pow(1 - v, v / 2);};\n\n    var parent = target.parentElement,\n        parents = 0;\n\n    function done(endType){\n        parents--;\n        if(!parents){\n            callback && callback(endType);\n        }\n    }\n\n    var validTarget = settings.validTarget || defaultValidTarget;\n\n    while(parent){\n        if(validTarget(parent, parents) && isScrollable(parent)){\n            parents++;\n            transitionScrollTo(target, parent, settings, done);\n        }\n\n        parent = parent.parentElement;\n\n        if(!parent){\n            return;\n        }\n\n        if(parent.tagName === 'BODY'){\n            parent = window;\n        }\n    }\n};\n",
    "(function() {\n  \"use strict\";\n\n  // https://github.com/facebook/react/blob/v15.0.1/src/isomorphic/classic/element/ReactElement.js#L21\n  var REACT_ELEMENT_TYPE = typeof Symbol === 'function' && Symbol.for && Symbol.for('react.element');\n  var REACT_ELEMENT_TYPE_FALLBACK = 0xeac7;\n\n  function addPropertyTo(target, methodName, value) {\n    Object.defineProperty(target, methodName, {\n      enumerable: false,\n      configurable: false,\n      writable: false,\n      value: value\n    });\n  }\n\n  function banProperty(target, methodName) {\n    addPropertyTo(target, methodName, function() {\n      throw new ImmutableError(\"The \" + methodName +\n        \" method cannot be invoked on an Immutable data structure.\");\n    });\n  }\n\n  var immutabilityTag = \"__immutable_invariants_hold\";\n\n  function addImmutabilityTag(target) {\n    addPropertyTo(target, immutabilityTag, true);\n  }\n\n  function isImmutable(target) {\n    if (typeof target === \"object\") {\n      return target === null || Boolean(\n        Object.getOwnPropertyDescriptor(target, immutabilityTag)\n      );\n    } else {\n      // In JavaScript, only objects are even potentially mutable.\n      // strings, numbers, null, and undefined are all naturally immutable.\n      return true;\n    }\n  }\n\n  function isMergableObject(target) {\n    return target !== null && typeof target === \"object\" && !(target instanceof Array) && !(target instanceof Date);\n  }\n\n  var mutatingObjectMethods = [\n    \"setPrototypeOf\"\n  ];\n\n  var nonMutatingObjectMethods = [\n    \"keys\"\n  ];\n\n  var mutatingArrayMethods = mutatingObjectMethods.concat([\n    \"push\", \"pop\", \"sort\", \"splice\", \"shift\", \"unshift\", \"reverse\"\n  ]);\n\n  var nonMutatingArrayMethods = nonMutatingObjectMethods.concat([\n    \"map\", \"filter\", \"slice\", \"concat\", \"reduce\", \"reduceRight\"\n  ]);\n\n  var mutatingDateMethods = mutatingObjectMethods.concat([\n    \"setDate\", \"setFullYear\", \"setHours\", \"setMilliseconds\", \"setMinutes\", \"setMonth\", \"setSeconds\",\n    \"setTime\", \"setUTCDate\", \"setUTCFullYear\", \"setUTCHours\", \"setUTCMilliseconds\", \"setUTCMinutes\",\n    \"setUTCMonth\", \"setUTCSeconds\", \"setYear\"\n  ]);\n\n  function ImmutableError(message) {\n    var err       = new Error(message);\n    // TODO: Consider `Object.setPrototypeOf(err, ImmutableError);`\n    err.__proto__ = ImmutableError;\n\n    return err;\n  }\n  ImmutableError.prototype = Error.prototype;\n\n  function makeImmutable(obj, bannedMethods) {\n    // Tag it so we can quickly tell it's immutable later.\n    addImmutabilityTag(obj);\n\n    if (process.env.NODE_ENV !== \"production\") {\n      // Make all mutating methods throw exceptions.\n      for (var index in bannedMethods) {\n        if (bannedMethods.hasOwnProperty(index)) {\n          banProperty(obj, bannedMethods[index]);\n        }\n      }\n\n      // Freeze it and return it.\n      Object.freeze(obj);\n    }\n\n    return obj;\n  }\n\n  function makeMethodReturnImmutable(obj, methodName) {\n    var currentMethod = obj[methodName];\n\n    addPropertyTo(obj, methodName, function() {\n      return Immutable(currentMethod.apply(obj, arguments));\n    });\n  }\n\n  function arraySet(idx, value) {\n    if (idx in this && this[idx] === value) {\n      return this;\n    }\n\n    var mutable = asMutableArray.call(this);\n    mutable[idx] = Immutable(value);\n    return makeImmutableArray(mutable);\n  }\n\n  var immutableEmptyArray = Immutable([]);\n\n  function arraySetIn(pth, value) {\n    var head = pth[0];\n\n    if (pth.length === 1) {\n      return arraySet.call(this, head, value);\n    } else {\n      var tail = pth.slice(1);\n      var thisHead = this[head];\n      var newValue;\n\n      if (typeof(thisHead) === \"object\" && thisHead !== null && typeof(thisHead.setIn) === \"function\") {\n        // Might (validly) be object or array\n        newValue = thisHead.setIn(tail, value);\n      } else {\n        newValue = arraySetIn.call(immutableEmptyArray, tail, value);\n      }\n\n      if (head in this && thisHead === newValue) {\n        return this;\n      }\n\n      var mutable = asMutableArray.call(this);\n      mutable[head] = newValue;\n      return makeImmutableArray(mutable);\n    }\n  }\n\n  function makeImmutableArray(array) {\n    // Don't change their implementations, but wrap these functions to make sure\n    // they always return an immutable value.\n    for (var index in nonMutatingArrayMethods) {\n      if (nonMutatingArrayMethods.hasOwnProperty(index)) {\n        var methodName = nonMutatingArrayMethods[index];\n        makeMethodReturnImmutable(array, methodName);\n      }\n    }\n\n    addPropertyTo(array, \"flatMap\",  flatMap);\n    addPropertyTo(array, \"asObject\", asObject);\n    addPropertyTo(array, \"asMutable\", asMutableArray);\n    addPropertyTo(array, \"set\", arraySet);\n    addPropertyTo(array, \"setIn\", arraySetIn);\n    addPropertyTo(array, \"update\", update);\n    addPropertyTo(array, \"updateIn\", updateIn);\n\n    for(var i = 0, length = array.length; i < length; i++) {\n      array[i] = Immutable(array[i]);\n    }\n\n    return makeImmutable(array, mutatingArrayMethods);\n  }\n\n  function makeImmutableDate(date) {\n    addPropertyTo(date, \"asMutable\", asMutableDate);\n\n    return makeImmutable(date, mutatingDateMethods);\n  }\n\n  function asMutableDate() {\n    return new Date(this.getTime());\n  }\n\n  /**\n   * Effectively performs a map() over the elements in the array, using the\n   * provided iterator, except that whenever the iterator returns an array, that\n   * array's elements are added to the final result instead of the array itself.\n   *\n   * @param {function} iterator - The iterator function that will be invoked on each element in the array. It will receive three arguments: the current value, the current index, and the current object.\n   */\n  function flatMap(iterator) {\n    // Calling .flatMap() with no arguments is a no-op. Don't bother cloning.\n    if (arguments.length === 0) {\n      return this;\n    }\n\n    var result = [],\n        length = this.length,\n        index;\n\n    for (index = 0; index < length; index++) {\n      var iteratorResult = iterator(this[index], index, this);\n\n      if (iteratorResult instanceof Array) {\n        // Concatenate Array results into the return value we're building up.\n        result.push.apply(result, iteratorResult);\n      } else {\n        // Handle non-Array results the same way map() does.\n        result.push(iteratorResult);\n      }\n    }\n\n    return makeImmutableArray(result);\n  }\n\n  /**\n   * Returns an Immutable copy of the object without the given keys included.\n   *\n   * @param {array} keysToRemove - A list of strings representing the keys to exclude in the return value. Instead of providing a single array, this method can also be called by passing multiple strings as separate arguments.\n   */\n  function without(remove) {\n    // Calling .without() with no arguments is a no-op. Don't bother cloning.\n    if (typeof remove === \"undefined\" && arguments.length === 0) {\n      return this;\n    }\n\n    if (typeof remove !== \"function\") {\n      // If we weren't given an array, use the arguments list.\n      var keysToRemoveArray = (remove instanceof Array) ?\n         remove : Array.prototype.slice.call(arguments);\n\n      remove = function(val, key) {\n        return keysToRemoveArray.indexOf(key) !== -1;\n      };\n    }\n\n    var result = this.instantiateEmptyObject();\n\n    for (var key in this) {\n      if (this.hasOwnProperty(key) && remove(this[key], key) === false) {\n        result[key] = this[key];\n      }\n    }\n\n    return makeImmutableObject(result,\n      {instantiateEmptyObject: this.instantiateEmptyObject});\n  }\n\n  function asMutableArray(opts) {\n    var result = [], i, length;\n\n    if(opts && opts.deep) {\n      for(i = 0, length = this.length; i < length; i++) {\n        result.push(asDeepMutable(this[i]));\n      }\n    } else {\n      for(i = 0, length = this.length; i < length; i++) {\n        result.push(this[i]);\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Effectively performs a [map](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map) over the elements in the array, expecting that the iterator function\n   * will return an array of two elements - the first representing a key, the other\n   * a value. Then returns an Immutable Object constructed of those keys and values.\n   *\n   * @param {function} iterator - A function which should return an array of two elements - the first representing the desired key, the other the desired value.\n   */\n  function asObject(iterator) {\n    // If no iterator was provided, assume the identity function\n    // (suggesting this array is already a list of key/value pairs.)\n    if (typeof iterator !== \"function\") {\n      iterator = function(value) { return value; };\n    }\n\n    var result = {},\n        length = this.length,\n        index;\n\n    for (index = 0; index < length; index++) {\n      var pair  = iterator(this[index], index, this),\n          key   = pair[0],\n          value = pair[1];\n\n      result[key] = value;\n    }\n\n    return makeImmutableObject(result);\n  }\n\n  function asDeepMutable(obj) {\n    if (\n      (!obj) ||\n      (typeof obj !== 'object') ||\n      (!Object.getOwnPropertyDescriptor(obj, immutabilityTag)) ||\n      (obj instanceof Date)\n    ) { return obj; }\n    return obj.asMutable({deep: true});\n  }\n\n  function quickCopy(src, dest) {\n    for (var key in src) {\n      if (Object.getOwnPropertyDescriptor(src, key)) {\n        dest[key] = src[key];\n      }\n    }\n\n    return dest;\n  }\n\n  /**\n   * Returns an Immutable Object containing the properties and values of both\n   * this object and the provided object, prioritizing the provided object's\n   * values whenever the same key is present in both objects.\n   *\n   * @param {object} other - The other object to merge. Multiple objects can be passed as an array. In such a case, the later an object appears in that list, the higher its priority.\n   * @param {object} config - Optional config object that contains settings. Supported settings are: {deep: true} for deep merge and {merger: mergerFunc} where mergerFunc is a function\n   *                          that takes a property from both objects. If anything is returned it overrides the normal merge behaviour.\n   */\n  function merge(other, config) {\n    // Calling .merge() with no arguments is a no-op. Don't bother cloning.\n    if (arguments.length === 0) {\n      return this;\n    }\n\n    if (other === null || (typeof other !== \"object\")) {\n      throw new TypeError(\"Immutable#merge can only be invoked with objects or arrays, not \" + JSON.stringify(other));\n    }\n\n    var receivedArray = (other instanceof Array),\n        deep          = config && config.deep,\n        merger        = config && config.merger,\n        result;\n\n    // Use the given key to extract a value from the given object, then place\n    // that value in the result object under the same key. If that resulted\n    // in a change from this object's value at that key, set anyChanges = true.\n    function addToResult(currentObj, otherObj, key) {\n      var immutableValue = Immutable(otherObj[key]);\n      var mergerResult = merger && merger(currentObj[key], immutableValue, config);\n      var currentValue = currentObj[key];\n\n      if ((result !== undefined) ||\n        (mergerResult !== undefined) ||\n        (!currentObj.hasOwnProperty(key) ||\n        ((immutableValue !== currentValue) &&\n          // Avoid false positives due to (NaN !== NaN) evaluating to true\n          (immutableValue === immutableValue)))) {\n\n        var newValue;\n\n        if (mergerResult) {\n          newValue = mergerResult;\n        } else if (deep && isMergableObject(currentValue) && isMergableObject(immutableValue)) {\n          newValue = currentValue.merge(immutableValue, config);\n        } else {\n          newValue = immutableValue;\n        }\n\n        // We check (newValue === newValue) because (NaN !== NaN) in JS\n        if (((currentValue !== newValue) && (newValue === newValue)) ||\n            !currentObj.hasOwnProperty(key)) {\n          if (result === undefined) {\n            // Make a shallow clone of the current object.\n            result = quickCopy(currentObj, currentObj.instantiateEmptyObject());\n          }\n\n          result[key] = newValue;\n        }\n      }\n    }\n\n    var key;\n\n    // Achieve prioritization by overriding previous values that get in the way.\n    if (!receivedArray) {\n      // The most common use case: just merge one object into the existing one.\n      for (key in other) {\n        if (Object.getOwnPropertyDescriptor(other, key)) {\n          addToResult(this, other, key);\n        }\n      }\n    } else {\n      // We also accept an Array\n      for (var index=0; index < other.length; index++) {\n        var otherFromArray = other[index];\n\n        for (key in otherFromArray) {\n          if (otherFromArray.hasOwnProperty(key)) {\n            addToResult(this, otherFromArray, key);\n          }\n        }\n      }\n    }\n\n    if (result === undefined) {\n      return this;\n    } else {\n      return makeImmutableObject(result,\n        {instantiateEmptyObject: this.instantiateEmptyObject});\n    }\n  }\n\n  var immutableEmptyObject = Immutable({});\n\n  function objectSetIn(path, value) {\n    var head = path[0];\n    if (path.length === 1) {\n      return objectSet.call(this, head, value);\n    }\n\n    var tail = path.slice(1);\n    var newValue;\n    var thisHead = this[head];\n\n    if (this.hasOwnProperty(head) && typeof(thisHead) === \"object\" && thisHead !== null && typeof(thisHead.setIn) === \"function\") {\n      // Might (validly) be object or array\n      newValue = thisHead.setIn(tail, value);\n    } else {\n      newValue = objectSetIn.call(immutableEmptyObject, tail, value);\n    }\n\n    if (this.hasOwnProperty(head) && thisHead === newValue) {\n      return this;\n    }\n\n    var mutable = quickCopy(this, this.instantiateEmptyObject());\n    mutable[head] = newValue;\n    return makeImmutableObject(mutable, this);\n  }\n\n  function objectSet(property, value) {\n    if (this.hasOwnProperty(property) && this[property] === value) {\n      return this;\n    }\n\n    var mutable = quickCopy(this, this.instantiateEmptyObject());\n    mutable[property] = Immutable(value);\n    return makeImmutableObject(mutable, this);\n  }\n\n  function update(property, updater) {\n    var restArgs = Array.prototype.slice.call(arguments, 2);\n    var initialVal = this[property];\n    return this.set(property, updater.apply(initialVal, [initialVal].concat(restArgs)));\n  }\n\n  function getInPath(obj, path) {\n    /*jshint eqnull:true */\n    for (var i = 0, l = path.length; obj != null && i < l; i++) {\n      obj = obj[path[i]];\n    }\n\n    return (i && i == l) ? obj : undefined;\n  }\n\n  function updateIn(path, updater) {\n    var restArgs = Array.prototype.slice.call(arguments, 2);\n    var initialVal = getInPath(this, path);\n\n    return this.setIn(path, updater.apply(initialVal, [initialVal].concat(restArgs)));\n  }\n\n  function asMutableObject(opts) {\n    var result = this.instantiateEmptyObject(), key;\n\n    if(opts && opts.deep) {\n      for (key in this) {\n        if (this.hasOwnProperty(key)) {\n          result[key] = asDeepMutable(this[key]);\n        }\n      }\n    } else {\n      for (key in this) {\n        if (this.hasOwnProperty(key)) {\n          result[key] = this[key];\n        }\n      }\n    }\n\n    return result;\n  }\n\n  // Creates plain object to be used for cloning\n  function instantiatePlainObject() {\n    return {};\n  }\n\n  // Finalizes an object with immutable methods, freezes it, and returns it.\n  function makeImmutableObject(obj, options) {\n    var instantiateEmptyObject =\n      (options && options.instantiateEmptyObject) ?\n        options.instantiateEmptyObject : instantiatePlainObject;\n\n    addPropertyTo(obj, \"merge\", merge);\n    addPropertyTo(obj, \"without\", without);\n    addPropertyTo(obj, \"asMutable\", asMutableObject);\n    addPropertyTo(obj, \"instantiateEmptyObject\", instantiateEmptyObject);\n    addPropertyTo(obj, \"set\", objectSet);\n    addPropertyTo(obj, \"setIn\", objectSetIn);\n    addPropertyTo(obj, \"update\", update);\n    addPropertyTo(obj, \"updateIn\", updateIn);\n\n    return makeImmutable(obj, mutatingObjectMethods);\n  }\n\n  // Returns true if object is a valid react element\n  // https://github.com/facebook/react/blob/v15.0.1/src/isomorphic/classic/element/ReactElement.js#L326\n  function isReactElement(obj) {\n    return typeof obj === 'object' &&\n           obj !== null &&\n           (obj.$$typeof === REACT_ELEMENT_TYPE_FALLBACK || obj.$$typeof === REACT_ELEMENT_TYPE);\n  }\n\n  function Immutable(obj, options, stackRemaining) {\n    if (isImmutable(obj) || isReactElement(obj)) {\n      return obj;\n    } else if (obj instanceof Array) {\n      return makeImmutableArray(obj.slice());\n    } else if (obj instanceof Date) {\n      return makeImmutableDate(new Date(obj.getTime()));\n    } else {\n      // Don't freeze the object we were given; make a clone and use that.\n      var prototype = options && options.prototype;\n      var instantiateEmptyObject =\n        (!prototype || prototype === Object.prototype) ?\n          instantiatePlainObject : (function() { return Object.create(prototype); });\n      var clone = instantiateEmptyObject();\n\n      if (process.env.NODE_ENV !== \"production\") {\n        /*jshint eqnull:true */\n        if (stackRemaining == null) {\n          stackRemaining = 64;\n        }\n        if (stackRemaining <= 0) {\n          throw new ImmutableError(\"Attempt to construct Immutable from a deeply nested object was detected.\" +\n            \" Have you tried to wrap an object with circular references (e.g. React element)?\" +\n            \" See https://github.com/rtfeldman/seamless-immutable/wiki/Deeply-nested-object-was-detected for details.\");\n        }\n        stackRemaining -= 1;\n      }\n\n      for (var key in obj) {\n        if (Object.getOwnPropertyDescriptor(obj, key)) {\n          clone[key] = Immutable(obj[key], undefined, stackRemaining);\n        }\n      }\n\n      return makeImmutableObject(clone,\n        {instantiateEmptyObject: instantiateEmptyObject});\n    }\n  }\n\n  // Export the library\n  Immutable.isImmutable    = isImmutable;\n  Immutable.ImmutableError = ImmutableError;\n\n  Object.freeze(Immutable);\n\n  /* istanbul ignore if */\n  if (typeof module === \"object\") {\n    module.exports = Immutable;\n  } else if (typeof exports === \"object\") {\n    exports.Immutable = Immutable;\n  } else if (typeof window === \"object\") {\n    window.Immutable = Immutable;\n  } else if (typeof global === \"object\") {\n    global.Immutable = Immutable;\n  }\n})();\n",
    "/*\r\nSlick Parser\r\n - originally created by the almighty Thomas Aylott <@subtlegradient> (http://subtlegradient.com)\r\n*/\"use strict\"\r\n\r\n// Notable changes from Slick.Parser 1.0.x\r\n\r\n// The parser now uses 2 classes: Expressions and Expression\r\n// `new Expressions` produces an array-like object containing a list of Expression objects\r\n// - Expressions::toString() produces a cleaned up expressions string\r\n// `new Expression` produces an array-like object\r\n// - Expression::toString() produces a cleaned up expression string\r\n// The only exposed method is parse, which produces a (cached) `new Expressions` instance\r\n// parsed.raw is no longer present, use .toString()\r\n// parsed.expression is now useless, just use the indices\r\n// parsed.reverse() has been removed for now, due to its apparent uselessness\r\n// Other changes in the Expressions object:\r\n// - classNames are now unique, and save both escaped and unescaped values\r\n// - attributes now save both escaped and unescaped values\r\n// - pseudos now save both escaped and unescaped values\r\n\r\nvar escapeRe   = /([-.*+?^${}()|[\\]\\/\\\\])/g,\r\n    unescapeRe = /\\\\/g\r\n\r\nvar escape = function(string){\r\n    // XRegExp v2.0.0-beta-3\r\n    //  https://github.com/slevithan/XRegExp/blob/master/src/xregexp.js\r\n    return (string + \"\").replace(escapeRe, '\\\\$1')\r\n}\r\n\r\nvar unescape = function(string){\r\n    return (string + \"\").replace(unescapeRe, '')\r\n}\r\n\r\nvar slickRe = RegExp(\r\n/*\r\n#!/usr/bin/env ruby\r\nputs \"\\t\\t\" + DATA.read.gsub(/\\(\\?x\\)|\\s+#.*$|\\s+|\\\\$|\\\\n/,'')\r\n__END__\r\n    \"(?x)^(?:\\\r\n      \\\\s* ( , ) \\\\s*               # Separator          \\n\\\r\n    | \\\\s* ( <combinator>+ ) \\\\s*   # Combinator         \\n\\\r\n    |      ( \\\\s+ )                 # CombinatorChildren \\n\\\r\n    |      ( <unicode>+ | \\\\* )     # Tag                \\n\\\r\n    | \\\\#  ( <unicode>+       )     # ID                 \\n\\\r\n    | \\\\.  ( <unicode>+       )     # ClassName          \\n\\\r\n    |                               # Attribute          \\n\\\r\n    \\\\[  \\\r\n        \\\\s* (<unicode1>+)  (?:  \\\r\n            \\\\s* ([*^$!~|]?=)  (?:  \\\r\n                \\\\s* (?:\\\r\n                    ([\\\"']?)(.*?)\\\\9 \\\r\n                )\\\r\n            )  \\\r\n        )?  \\\\s*  \\\r\n    \\\\](?!\\\\]) \\n\\\r\n    |   :+ ( <unicode>+ )(?:\\\r\n    \\\\( (?:\\\r\n        (?:([\\\"'])([^\\\\12]*)\\\\12)|((?:\\\\([^)]+\\\\)|[^()]*)+)\\\r\n    ) \\\\)\\\r\n    )?\\\r\n    )\"\r\n*/\r\n\"^(?:\\\\s*(,)\\\\s*|\\\\s*(<combinator>+)\\\\s*|(\\\\s+)|(<unicode>+|\\\\*)|\\\\#(<unicode>+)|\\\\.(<unicode>+)|\\\\[\\\\s*(<unicode1>+)(?:\\\\s*([*^$!~|]?=)(?:\\\\s*(?:([\\\"']?)(.*?)\\\\9)))?\\\\s*\\\\](?!\\\\])|(:+)(<unicode>+)(?:\\\\((?:(?:([\\\"'])([^\\\\13]*)\\\\13)|((?:\\\\([^)]+\\\\)|[^()]*)+))\\\\))?)\"\r\n    .replace(/<combinator>/, '[' + escape(\">+~`!@$%^&={}\\\\;</\") + ']')\r\n    .replace(/<unicode>/g, '(?:[\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])')\r\n    .replace(/<unicode1>/g, '(?:[:\\\\w\\\\u00a1-\\\\uFFFF-]|\\\\\\\\[^\\\\s0-9a-f])')\r\n)\r\n\r\n// Part\r\n\r\nvar Part = function Part(combinator){\r\n    this.combinator = combinator || \" \"\r\n    this.tag = \"*\"\r\n}\r\n\r\nPart.prototype.toString = function(){\r\n\r\n    if (!this.raw){\r\n\r\n        var xpr = \"\", k, part\r\n\r\n        xpr += this.tag || \"*\"\r\n        if (this.id) xpr += \"#\" + this.id\r\n        if (this.classes) xpr += \".\" + this.classList.join(\".\")\r\n        if (this.attributes) for (k = 0; part = this.attributes[k++];){\r\n            xpr += \"[\" + part.name + (part.operator ? part.operator + '\"' + part.value + '\"' : '') + \"]\"\r\n        }\r\n        if (this.pseudos) for (k = 0; part = this.pseudos[k++];){\r\n            xpr += \":\" + part.name\r\n            if (part.value) xpr += \"(\" + part.value + \")\"\r\n        }\r\n\r\n        this.raw = xpr\r\n\r\n    }\r\n\r\n    return this.raw\r\n}\r\n\r\n// Expression\r\n\r\nvar Expression = function Expression(){\r\n    this.length = 0\r\n}\r\n\r\nExpression.prototype.toString = function(){\r\n\r\n    if (!this.raw){\r\n\r\n        var xpr = \"\"\r\n\r\n        for (var j = 0, bit; bit = this[j++];){\r\n            if (j !== 1) xpr += \" \"\r\n            if (bit.combinator !== \" \") xpr += bit.combinator + \" \"\r\n            xpr += bit\r\n        }\r\n\r\n        this.raw = xpr\r\n\r\n    }\r\n\r\n    return this.raw\r\n}\r\n\r\nvar replacer = function(\r\n    rawMatch,\r\n\r\n    separator,\r\n    combinator,\r\n    combinatorChildren,\r\n\r\n    tagName,\r\n    id,\r\n    className,\r\n\r\n    attributeKey,\r\n    attributeOperator,\r\n    attributeQuote,\r\n    attributeValue,\r\n\r\n    pseudoMarker,\r\n    pseudoClass,\r\n    pseudoQuote,\r\n    pseudoClassQuotedValue,\r\n    pseudoClassValue\r\n){\r\n\r\n    var expression, current\r\n\r\n    if (separator || !this.length){\r\n        expression = this[this.length++] = new Expression\r\n        if (separator) return ''\r\n    }\r\n\r\n    if (!expression) expression = this[this.length - 1]\r\n\r\n    if (combinator || combinatorChildren || !expression.length){\r\n        current = expression[expression.length++] = new Part(combinator)\r\n    }\r\n\r\n    if (!current) current = expression[expression.length - 1]\r\n\r\n    if (tagName){\r\n\r\n        current.tag = unescape(tagName)\r\n\r\n    } else if (id){\r\n\r\n        current.id = unescape(id)\r\n\r\n    } else if (className){\r\n\r\n        var unescaped = unescape(className)\r\n\r\n        var classes = current.classes || (current.classes = {})\r\n        if (!classes[unescaped]){\r\n            classes[unescaped] = escape(className)\r\n            var classList = current.classList || (current.classList = [])\r\n            classList.push(unescaped)\r\n            classList.sort()\r\n        }\r\n\r\n    } else if (pseudoClass){\r\n\r\n        pseudoClassValue = pseudoClassValue || pseudoClassQuotedValue\r\n\r\n        ;(current.pseudos || (current.pseudos = [])).push({\r\n            type         : pseudoMarker.length == 1 ? 'class' : 'element',\r\n            name         : unescape(pseudoClass),\r\n            escapedName  : escape(pseudoClass),\r\n            value        : pseudoClassValue ? unescape(pseudoClassValue) : null,\r\n            escapedValue : pseudoClassValue ? escape(pseudoClassValue) : null\r\n        })\r\n\r\n    } else if (attributeKey){\r\n\r\n        attributeValue = attributeValue ? escape(attributeValue) : null\r\n\r\n        ;(current.attributes || (current.attributes = [])).push({\r\n            operator     : attributeOperator,\r\n            name         : unescape(attributeKey),\r\n            escapedName  : escape(attributeKey),\r\n            value        : attributeValue ? unescape(attributeValue) : null,\r\n            escapedValue : attributeValue ? escape(attributeValue) : null\r\n        })\r\n\r\n    }\r\n\r\n    return ''\r\n\r\n}\r\n\r\n// Expressions\r\n\r\nvar Expressions = function Expressions(expression){\r\n    this.length = 0\r\n\r\n    var self = this\r\n\r\n    var original = expression, replaced\r\n\r\n    while (expression){\r\n        replaced = expression.replace(slickRe, function(){\r\n            return replacer.apply(self, arguments)\r\n        })\r\n        if (replaced === expression) throw new Error(original + ' is an invalid expression')\r\n        expression = replaced\r\n    }\r\n}\r\n\r\nExpressions.prototype.toString = function(){\r\n    if (!this.raw){\r\n        var expressions = []\r\n        for (var i = 0, expression; expression = this[i++];) expressions.push(expression)\r\n        this.raw = expressions.join(\", \")\r\n    }\r\n\r\n    return this.raw\r\n}\r\n\r\nvar cache = {}\r\n\r\nvar parse = function(expression){\r\n    if (expression == null) return null\r\n    expression = ('' + expression).replace(/^\\s+|\\s+$/g, '')\r\n    return cache[expression] || (cache[expression] = new Expressions(expression))\r\n}\r\n\r\nmodule.exports = parse\r\n",
    "'use strict';\nmodule.exports = function (str) {\n\treturn encodeURIComponent(str).replace(/[!'()*]/g, function (c) {\n\t\treturn '%' + c.charCodeAt(0).toString(16).toUpperCase();\n\t});\n};\n",
    "/* global window */\n'use strict';\n\nmodule.exports = require('./ponyfill')(global || window || this);\n",
    "'use strict';\n\nmodule.exports = function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n",
    "function E () {\n\t// Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n\ton: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n",
    "module.exports = \"<svg width=\\\"16px\\\" height=\\\"16px\\\" version=\\\"1.1\\\" viewBox=\\\"0.0 0.0 4096.0 4096.0\\\" fill=\\\"none\\\" stroke=\\\"none\\\" stroke-linecap=\\\"square\\\" stroke-miterlimit=\\\"10\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\"><clipPath id=\\\"p.0\\\"><path d=\\\"m0 0l4096.0 0l0 4096.0l-4096.0 0l0 -4096.0z\\\" clip-rule=\\\"nonzero\\\"/></clipPath><g clip-path=\\\"url(#p.0)\\\"><path fill=\\\"#000000\\\" fill-opacity=\\\"0.0\\\" d=\\\"m0 0l4096.0 0l0 4096.0l-4096.0 0z\\\" fill-rule=\\\"evenodd\\\"/><path fill=\\\"#006699\\\" d=\\\"m5.03937 678.0136l0 0c0 -376.09167 304.88257 -680.97424 680.97424 -680.97424l2723.9727 0l0 0c180.60571 0 353.8142 71.7453 481.52148 199.45274c127.70752 127.70744 199.45288 300.9159 199.45288 481.52148l0 2723.8152c0 376.0918 -304.88257 680.97437 -680.97437 680.97437l-2723.9727 0c-376.09167 0 -680.97424 -304.88257 -680.97424 -680.97437z\\\" fill-rule=\\\"evenodd\\\"/><path stroke=\\\"#ffffff\\\" stroke-width=\\\"1.0\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"butt\\\" d=\\\"m5.03937 678.0136l0 0c0 -376.09167 304.88257 -680.97424 680.97424 -680.97424l2723.9727 0l0 0c180.60571 0 353.8142 71.7453 481.52148 199.45274c127.70752 127.70744 199.45288 300.9159 199.45288 481.52148l0 2723.8152c0 376.0918 -304.88257 680.97437 -680.97437 680.97437l-2723.9727 0c-376.09167 0 -680.97424 -304.88257 -680.97424 -680.97437z\\\" fill-rule=\\\"evenodd\\\"/><path fill=\\\"#ffffff\\\" d=\\\"m1715.6285 1135.8429l0 0c0 -179.94757 148.80981 -325.82397 332.37585 -325.82397l0 0c88.15161 0 172.69287 34.32782 235.02539 95.43164c62.33252 61.10388 97.35083 143.97852 97.35083 230.39233l0 0c0 179.94763 -148.80981 325.8241 -332.37622 325.8241l0 0c-183.56604 0 -332.37585 -145.87646 -332.37585 -325.8241z\\\" fill-rule=\\\"evenodd\\\"/><path stroke=\\\"#000000\\\" stroke-width=\\\"1.0\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"butt\\\" d=\\\"m1715.6285 1135.8429l0 0c0 -179.94757 148.80981 -325.82397 332.37585 -325.82397l0 0c88.15161 0 172.69287 34.32782 235.02539 95.43164c62.33252 61.10388 97.35083 143.97852 97.35083 230.39233l0 0c0 179.94763 -148.80981 325.8241 -332.37622 325.8241l0 0c-183.56604 0 -332.37585 -145.87646 -332.37585 -325.8241z\\\" fill-rule=\\\"evenodd\\\"/><path fill=\\\"#ffffff\\\" d=\\\"m1715.6285 1722.0251l664.7521 0l0 1563.9553l-664.7521 0z\\\" fill-rule=\\\"evenodd\\\"/><path stroke=\\\"#000000\\\" stroke-width=\\\"1.0\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"butt\\\" d=\\\"m1715.6285 1722.0251l664.7521 0l0 1563.9553l-664.7521 0z\\\" fill-rule=\\\"evenodd\\\"/><path fill=\\\"#ffffff\\\" d=\\\"m1449.7277 3188.7751l0 0c0 -10.737061 8.704346 -19.441406 19.441528 -19.441406l1157.6707 0c5.15625 0 10.101074 2.0483398 13.74707 5.694336c3.645996 3.645996 5.694336 8.591064 5.694336 13.74707l0 77.76367c0 10.737305 -8.704102 19.44165 -19.441406 19.44165l-1157.6707 0l0 0c-10.737183 0 -19.441528 -8.704346 -19.441528 -19.44165z\\\" fill-rule=\\\"evenodd\\\"/><path stroke=\\\"#ffffff\\\" stroke-width=\\\"1.0\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"butt\\\" d=\\\"m1449.7277 3188.7751l0 0c0 -10.737061 8.704346 -19.441406 19.441528 -19.441406l1157.6707 0c5.15625 0 10.101074 2.0483398 13.74707 5.694336c3.645996 3.645996 5.694336 8.591064 5.694336 13.74707l0 77.76367c0 10.737305 -8.704102 19.44165 -19.441406 19.44165l-1157.6707 0l0 0c-10.737183 0 -19.441528 -8.704346 -19.441528 -19.44165z\\\" fill-rule=\\\"evenodd\\\"/><path fill=\\\"#ffffff\\\" d=\\\"m1449.7168 1740.1277l0 0c0 -9.997314 8.10437 -18.101685 18.101685 -18.101685l894.44934 0c4.8010254 0 9.405273 1.9071045 12.799805 5.301758c3.3947754 3.3947754 5.302002 7.9990234 5.302002 12.799927l0 72.40454c0 9.997314 -8.104492 18.101685 -18.101807 18.101685l-894.44934 0c-9.997314 0 -18.101685 -8.10437 -18.101685 -18.101685z\\\" fill-rule=\\\"evenodd\\\"/><path stroke=\\\"#ffffff\\\" stroke-width=\\\"1.0\\\" stroke-linejoin=\\\"round\\\" stroke-linecap=\\\"butt\\\" d=\\\"m1449.7168 1740.1277l0 0c0 -9.997314 8.10437 -18.101685 18.101685 -18.101685l894.44934 0c4.8010254 0 9.405273 1.9071045 12.799805 5.301758c3.3947754 3.3947754 5.302002 7.9990234 5.302002 12.799927l0 72.40454c0 9.997314 -8.104492 18.101685 -18.101807 18.101685l-894.44934 0c-9.997314 0 -18.101685 -8.10437 -18.101685 -18.101685z\\\" fill-rule=\\\"evenodd\\\"/></g></svg>\";\n",
    "module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"10px\\\" height=\\\"30px\\\" viewBox=\\\"0 0 10 30\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n    <!-- Generator: Sketch 46.2 (44496) - http://www.bohemiancoding.com/sketch -->\\n    <title>Shape</title>\\n    <desc>Created with Sketch.</desc>\\n    <defs></defs>\\n    <g id=\\\"Symbols\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <g id=\\\"Start-annotating---eLife\\\" transform=\\\"translate(-239.000000, -73.000000)\\\" fill-rule=\\\"nonzero\\\" fill=\\\"#000000\\\">\\n            <g id=\\\"Group-10\\\" transform=\\\"translate(1.000000, 1.000000)\\\">\\n                <path d=\\\"M243.3125,75.186875 C243.3125,73.535 243.3125,72.625 246.434687,72.625 L248,72.625 L248,72 L246.434687,72 C244.324375,72 243.402813,72.4684375 243,73.183125 C242.597187,72.4684375 241.675625,72 239.565313,72 L238,72 L238,72.625 L239.565313,72.625 C242.6875,72.6246875 242.6875,73.5346875 242.6875,75.186875 L242.6875,82 L242.6875,86.6875 L240.929375,86.6875 L240.929375,87.3125 L242.6875,87.3125 L242.6875,92 L242.6875,98.5434375 C242.6875,100.187188 242.6875,101.375 239.565313,101.375 L238,101.375 L238,102 L239.565313,102 C241.675625,102 242.5975,101.442813 243,100.6525 C243.402813,101.442813 244.324375,102 246.434687,102 L248,102 L248,101.375 L246.434687,101.375 C243.3125,101.374688 243.3125,100.187188 243.3125,98.5434375 L243.3125,91.9996875 L243.3125,87.3121875 L245.070312,87.3121875 L245.070312,86.6871875 L243.3125,86.6871875 L243.3125,81.9996875 L243.3125,75.186875 Z\\\" id=\\\"Shape\\\"></path>\\n            </g>\\n        </g>\\n    </g>\\n</svg>\";\n",
    "module.exports = \"<?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\" standalone=\\\"no\\\"?>\\n<svg width=\\\"16px\\\" height=\\\"16px\\\" viewBox=\\\"0 0 16 16\\\" version=\\\"1.1\\\" xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\">\\n    <!-- Generator: Sketch 39.1 (31720) - http://www.bohemiancoding.com/sketch -->\\n    <defs/>\\n    <g id=\\\"Page-1\\\" stroke=\\\"none\\\" stroke-width=\\\"1\\\" fill=\\\"none\\\" fill-rule=\\\"evenodd\\\">\\n        <g id=\\\"Artboard\\\" fill=\\\"#D00032\\\">\\n            <g id=\\\"Group\\\">\\n                <path d=\\\"M0,8 C0,12.418278 3.581722,16 8,16 C12.418278,16 16,12.418278 16,8 C16,4.89580324 14.2154684,2.11256098 11.4682644,0.789110134 L10.6002482,2.59092808 C12.661769,3.58405472 14,5.6712248 14,8 C14,11.3137085 11.3137085,14 8,14 C4.6862915,14 2,11.3137085 2,8 C2,5.65296151 3.35941993,3.55225774 5.44569583,2.56903563 L4.59307587,0.759881355 C1.81273067,2.07020511 0,4.87140735 0,8 Z\\\" id=\\\"Oval\\\"/>\\n                <polygon id=\\\"Combined-Shape\\\" points=\\\"7 8.58578644 7 0 9 0 9 8.58578644 10.2928932 7.29289322 11 6.58578644 12.4142136 8 11.7071068 8.70710678 8.70710678 11.7071068 8 12.4142136 7.64644661 12.0606602 7.29289322 11.7071068 4.29289322 8.70710678 3.58578644 8 5 6.58578644 5.70710678 7.29289322\\\"/>\\n            </g>\\n        </g>\\n    </g>\\n</svg>\\n\";\n",
    "'use strict';\n\n/**\n * This module defines the set of global events that are dispatched\n * across the bridge between the sidebar and annotator\n */\nmodule.exports = {\n  // Events that the sidebar sends to the annotator\n  // ----------------------------------------------\n\n  /**\n   * The updated feature flags for the user\n   */\n  FEATURE_FLAGS_UPDATED: 'featureFlagsUpdated',\n\n  /**\n   * The sidebar is asking the annotator to open the partner site about page.\n   */\n  ABOUT_REQUESTED: 'aboutRequested',\n  \n  /**\n   * The sidebar is asking the annotator to open the partner site help page.\n   */\n  HELP_REQUESTED: 'helpRequested',\n\n  /** The sidebar is asking the annotator to do a partner site log in\n   *  (for example, pop up a log in window). This is used when the client is\n   *  embedded in a partner site and a log in button in the client is clicked.\n   */\n  LOGIN_REQUESTED: 'loginRequested',\n\n  /** The sidebar is asking the annotator to do a partner site log out.\n   *  This is used when the client is embedded in a partner site and a log out\n   *  button in the client is clicked.\n   */\n  LOGOUT_REQUESTED: 'logoutRequested',\n\n  /**\n   * The sidebar is asking the annotator to open the partner site profile page.\n   */\n  PROFILE_REQUESTED: 'profileRequested',\n\n  /**\n   * The set of annotations was updated.\n   */\n  PUBLIC_ANNOTATION_COUNT_CHANGED: 'publicAnnotationCountChanged',\n\n  /**\n   * The sidebar is asking the annotator to do a partner site sign-up.\n   */\n  SIGNUP_REQUESTED: 'signupRequested',\n\n\n  // Events that the annotator sends to the sidebar\n  // ----------------------------------------------\n};\n",
    "'use strict';\n\nvar extend = require('extend');\n\nvar RPC = require('./frame-rpc');\n\n/**\n * The Bridge service sets up a channel between frames and provides an events\n * API on top of it.\n */\nclass Bridge {\n  constructor() {\n    this.links = [];\n    this.channelListeners = {};\n    this.onConnectListeners = [];\n  }\n\n  /**\n   * Destroy all channels created with `createChannel`.\n   *\n   * This removes the event listeners for messages arriving from other windows.\n   */\n  destroy() {\n    Array.from(this.links).map((link) =>\n      link.channel.destroy());\n  }\n\n  /**\n   * Create a communication channel between this window and `source`.\n   *\n   * The created channel is added to the list of channels which `call`\n   * and `on` send and receive messages over.\n   *\n   * @param {Window} source - The source window.\n   * @param {string} origin - The origin of the document in `source`.\n   * @param {string} token\n   * @return {RPC} - Channel for communicating with the window.\n   */\n  createChannel(source, origin, token) {\n    var channel = null;\n    var connected = false;\n\n    var ready = () => {\n      if (connected) { return; }\n      connected = true;\n      Array.from(this.onConnectListeners).forEach((cb) =>\n        cb.call(null, channel, source)\n      );\n    };\n\n    var connect = (_token, cb) => {\n      if (_token === token) {\n        cb();\n        ready();\n      }\n    };\n\n    var listeners = extend({connect}, this.channelListeners);\n\n    // Set up a channel\n    channel = new RPC(window, source, origin, listeners);\n\n    // Fire off a connection attempt\n    channel.call('connect', token, ready);\n\n    // Store the newly created channel in our collection\n    this.links.push({\n      channel,\n      window: source,\n    });\n\n    return channel;\n  }\n\n  /**\n   * Make a method call on all channels, collect the results and pass them to a\n   * callback when all results are collected.\n   *\n   * @param {string} method - Name of remote method to call.\n   * @param {any[]} args - Arguments to method.\n   * @param [Function] callback - Called with an array of results.\n   */\n  call(method, ...args) {\n    var cb;\n    if (typeof(args[args.length - 1]) === 'function') {\n      cb = args[args.length - 1];\n      args = args.slice(0, -1);\n    }\n\n    var _makeDestroyFn = c => {\n      return error => {\n        c.destroy();\n        this.links = (Array.from(this.links).filter((l) => l.channel !== c).map((l) => l));\n        throw error;\n      };\n    };\n\n    var promises = this.links.map(function(l) {\n      var p = new Promise(function(resolve, reject) {\n        var timeout = setTimeout((() => resolve(null)), 1000);\n        try {\n          return l.channel.call(method, ...Array.from(args), function(err, result) {\n            clearTimeout(timeout);\n            if (err) { return reject(err); } else { return resolve(result); }\n          });\n        } catch (error) {\n          var err = error;\n          return reject(err);\n        }\n      });\n\n      // Don't assign here. The disconnect is handled asynchronously.\n      return p.catch(_makeDestroyFn(l.channel));\n    });\n\n    var resultPromise = Promise.all(promises);\n\n    if (cb) {\n      resultPromise = resultPromise\n        .then(results => cb(null, results))\n        .catch(error => cb(error));\n    }\n\n    return resultPromise;\n  }\n\n  /**\n   * Register a callback to be invoked when any connected channel sends a\n   * message to this `Bridge`.\n   *\n   * @param {string} method\n   * @param {Function} callback\n   */\n  on(method, callback) {\n    if (this.channelListeners[method]) {\n      throw new Error(`Listener '${method}' already bound in Bridge`);\n    }\n    this.channelListeners[method] = callback;\n    return this;\n  }\n\n  /**\n   * Unregister any callbacks registered with `on`.\n   *\n   * @param {string} method\n   */\n  off(method) {\n    delete this.channelListeners[method];\n    return this;\n  }\n\n  /**\n   * Add a function to be called upon a new connection.\n   *\n   * @param {Function} callback\n   */\n  onConnect(callback) {\n    this.onConnectListeners.push(callback);\n    return this;\n  }\n}\n\nmodule.exports = Bridge;\n",
    "var Discovery,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nmodule.exports = Discovery = (function() {\n  Discovery.prototype.server = false;\n\n  Discovery.prototype.origin = '*';\n\n  Discovery.prototype.onDiscovery = null;\n\n  Discovery.prototype.requestInProgress = false;\n\n  function Discovery(target, options) {\n    this.target = target;\n    if (options == null) {\n      options = {};\n    }\n    this._onMessage = bind(this._onMessage, this);\n    this.stopDiscovery = bind(this.stopDiscovery, this);\n    if (options.server) {\n      this.server = options.server;\n    }\n    if (options.origin) {\n      this.origin = options.origin;\n    }\n  }\n\n  Discovery.prototype.startDiscovery = function(onDiscovery) {\n    if (this.onDiscovery) {\n      throw new Error('Discovery is already in progress, call .stopDiscovery() first');\n    }\n    this.onDiscovery = onDiscovery;\n    this.target.addEventListener('message', this._onMessage, false);\n    this._beacon();\n  };\n\n  Discovery.prototype.stopDiscovery = function() {\n    this.onDiscovery = null;\n    this.target.removeEventListener('message', this._onMessage);\n  };\n\n  Discovery.prototype._beacon = function() {\n    var beaconMessage, child, i, len, parent, queue, ref;\n    beaconMessage = this.server ? '__cross_frame_dhcp_offer' : '__cross_frame_dhcp_discovery';\n    queue = [this.target.top];\n    while (queue.length) {\n      parent = queue.shift();\n      if (parent !== this.target) {\n        parent.postMessage(beaconMessage, this.origin);\n      }\n      ref = parent.frames;\n      for (i = 0, len = ref.length; i < len; i++) {\n        child = ref[i];\n        queue.push(child);\n      }\n    }\n  };\n\n  Discovery.prototype._onMessage = function(event) {\n    var data, discovered, match, messageType, origin, ref, reply, source, token;\n    source = event.source, origin = event.origin, data = event.data;\n    if (origin === 'null' || origin.match('moz-extension:') || window.location.protocol === 'moz-extension:') {\n      origin = '*';\n    }\n    match = typeof data.match === \"function\" ? data.match(/^__cross_frame_dhcp_(discovery|offer|request|ack)(?::(\\d+))?$/) : void 0;\n    if (!match) {\n      return;\n    }\n    messageType = match[1];\n    token = match[2];\n    ref = this._processMessage(messageType, token, origin), reply = ref.reply, discovered = ref.discovered, token = ref.token;\n    if (reply) {\n      source.postMessage('__cross_frame_dhcp_' + reply, origin);\n    }\n    if (discovered) {\n      this.onDiscovery.call(null, source, origin, token);\n    }\n  };\n\n  Discovery.prototype._processMessage = function(messageType, token, origin) {\n    var discovered, reply;\n    reply = null;\n    discovered = false;\n    if (this.server) {\n      if (messageType === 'discovery') {\n        reply = 'offer';\n      } else if (messageType === 'request') {\n        token = this._generateToken();\n        reply = 'ack' + ':' + token;\n        discovered = true;\n      } else if (messageType === 'offer' || messageType === 'ack') {\n        throw new Error(\"A second Discovery server has been detected at \" + origin + \".\\nThis is unsupported and will cause unexpected behaviour.\");\n      }\n    } else {\n      if (messageType === 'offer') {\n        if (!this.requestInProgress) {\n          this.requestInProgress = true;\n          reply = 'request';\n        }\n      } else if (messageType === 'ack') {\n        this.requestInProgress = false;\n        discovered = true;\n      }\n    }\n    return {\n      reply: reply,\n      discovered: discovered,\n      token: token\n    };\n  };\n\n  Discovery.prototype._generateToken = function() {\n    return ('' + Math.random()).replace(/\\D/g, '');\n  };\n\n  return Discovery;\n\n})();\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9zaGFyZWQvZGlzY292ZXJ5LmNvZmZlZSIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi9ob21lL3VidW50dS9wZGZ0cm9uRXh0ZW5zaW9uL2NsaWVudC9zcmMvc2hhcmVkL2Rpc2NvdmVyeS5jb2ZmZWUiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBc0JBLElBQUEsU0FBQTtFQUFBOztBQUFBLE1BQU0sQ0FBQyxPQUFQLEdBQXVCO3NCQUVyQixNQUFBLEdBQVE7O3NCQUlSLE1BQUEsR0FBUTs7c0JBRVIsV0FBQSxHQUFhOztzQkFDYixpQkFBQSxHQUFtQjs7RUFJTixtQkFBQyxNQUFELEVBQVUsT0FBVjtJQUFDLElBQUMsQ0FBQSxTQUFEOztNQUFTLFVBQVE7Ozs7SUFDN0IsSUFBNEIsT0FBTyxDQUFDLE1BQXBDO01BQUEsSUFBQyxDQUFBLE1BQUQsR0FBVSxPQUFPLENBQUMsT0FBbEI7O0lBQ0EsSUFBNEIsT0FBTyxDQUFDLE1BQXBDO01BQUEsSUFBQyxDQUFBLE1BQUQsR0FBVSxPQUFPLENBQUMsT0FBbEI7O0VBRlc7O3NCQUliLGNBQUEsR0FBZ0IsU0FBQyxXQUFEO0lBQ2QsSUFBRyxJQUFDLENBQUEsV0FBSjtBQUNFLFlBQU0sSUFBSSxLQUFKLENBQVUsK0RBQVYsRUFEUjs7SUFVQSxJQUFDLENBQUEsV0FBRCxHQUFlO0lBR2YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxnQkFBUixDQUF5QixTQUF6QixFQUFvQyxJQUFJLENBQUMsVUFBekMsRUFBcUQsS0FBckQ7SUFHQSxJQUFJLENBQUMsT0FBTCxDQUFBO0VBakJjOztzQkFvQmhCLGFBQUEsR0FBZSxTQUFBO0lBRWIsSUFBQyxDQUFBLFdBQUQsR0FBZTtJQUNmLElBQUMsQ0FBQSxNQUFNLENBQUMsbUJBQVIsQ0FBNEIsU0FBNUIsRUFBdUMsSUFBSSxDQUFDLFVBQTVDO0VBSGE7O3NCQVFmLE9BQUEsR0FBUyxTQUFBO0FBQ1AsUUFB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\n",
    "'use strict';\n\n/* eslint-disable */\n\n/** This software is released under the MIT license:\n\n  Permission is hereby granted, free of charge, to any person obtaining a copy\n  of this software and associated documentation files (the \"Software\"), to deal\n  in the Software without restriction, including without limitation the rights\n  to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n  copies of the Software, and to permit persons to whom the Software is\n  furnished to do so, subject to the following conditions:\n\n  The above copyright notice and this permission notice shall be included in\n  all copies or substantial portions of the Software.\n\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n  FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n  OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n  SOFTWARE.\n */\n\n/**\n * This is a modified copy of index.js from\n * https://github.com/substack/frame-rpc (see git log for the modifications),\n * upstream license above.\n */\n\nvar VERSION = '1.0.0';\n\nmodule.exports = RPC;\n\nfunction RPC (src, dst, origin, methods) {\n    if (!(this instanceof RPC)) return new RPC(src, dst, origin, methods);\n    var self = this;\n    this.src = src;\n    this.dst = dst;\n    \n    if (origin === '*') {\n        this.origin = '*';\n    }\n    else {\n        var uorigin = new URL(origin);\n        this.origin = uorigin.protocol + '//' + uorigin.host;\n    }\n    \n    this._sequence = 0;\n    this._callbacks = {};\n    \n    this._onmessage = function (ev) {\n        if (self._destroyed) return;\n        if (self.dst !== ev.source) return;\n        if (self.origin !== '*' && ev.origin !== self.origin) return;\n        if (!ev.data || typeof ev.data !== 'object') return;\n        if (ev.data.protocol !== 'frame-rpc') return;\n        if (!Array.isArray(ev.data.arguments)) return;\n        self._handle(ev.data);\n    };\n    this.src.addEventListener('message', this._onmessage);\n    this._methods = (typeof methods === 'function'\n        ? methods(this)\n        : methods\n    ) || {};\n}\n\nRPC.prototype.destroy = function () {\n    this._destroyed = true;\n    this.src.removeEventListener('message', this._onmessage);\n};\n\nRPC.prototype.call = function (method) {\n    var args = [].slice.call(arguments, 1);\n    return this.apply(method, args);\n};\n\nRPC.prototype.apply = function (method, args) {\n    if (this._destroyed) return;\n    var seq = this._sequence ++;\n    if (typeof args[args.length - 1] === 'function') {\n        this._callbacks[seq] = args[args.length - 1];\n        args = args.slice(0, -1);\n    }\n    this.dst.postMessage({\n        protocol: 'frame-rpc',\n        version: VERSION,\n        sequence: seq,\n        method: method, \n        arguments: args\n    }, this.origin);\n};\n\nRPC.prototype._handle = function (msg) {\n    var self = this;\n    if (self._destroyed) return;\n    if (msg.hasOwnProperty('method')) {\n        if (!this._methods.hasOwnProperty(msg.method)) return;\n        var args = msg.arguments.concat(function () {\n            self.dst.postMessage({\n                protocol: 'frame-rpc',\n                version: VERSION,\n                response: msg.sequence,\n                arguments: [].slice.call(arguments)\n            }, self.origin);\n        });\n        this._methods[msg.method].apply(this._methods, args);\n    }\n    else if (msg.hasOwnProperty('response')) {\n        var cb = this._callbacks[msg.response];\n        delete this._callbacks[msg.response];\n        if (cb) cb.apply(null, msg.arguments);\n    }\n};\n",
    "'use strict';\n\n// `Object.assign()`-like helper. Used because this script needs to work\n// in IE 10/11 without polyfills.\nfunction assign(dest, src) {\n  for (var k in src) {\n    if (src.hasOwnProperty(k)) {\n      dest[k] = src[k];\n    }\n  }\n  return dest;\n}\n\n/**\n * Return a parsed `js-hypothesis-config` object from the document, or `{}`.\n *\n * Find all `<script class=\"js-hypothesis-config\">` tags in the given document,\n * parse them as JSON, and return the parsed object.\n *\n * If there are no `js-hypothesis-config` tags in the document then return\n * `{}`.\n *\n * If there are multiple `js-hypothesis-config` tags in the document then merge\n * them into a single returned object (when multiple scripts contain the same\n * setting names, scripts further down in the document override those further\n * up).\n *\n * @param {Document|Element} document - The root element to search.\n */\nfunction jsonConfigsFrom(document) {\n  var config = {};\n  var settingsElements =\n    document.querySelectorAll('script.js-hypothesis-config');\n\n  for (var i=0; i < settingsElements.length; i++) {\n    var settings;\n    try {\n      settings = JSON.parse(settingsElements[i].textContent);\n      if(!settings.startTime) {\n\t\tsettings.startTime = new Date().getTime();\n\t  }\n    } catch (err) {\n      console.warn('Could not parse settings from js-hypothesis-config tags', err);\n      settings = {};\n    }\n    assign(config, settings);\n  }\n\n  return config;\n}\n\nmodule.exports = {\n  jsonConfigsFrom: jsonConfigsFrom,\n};\n",
    "'use strict';\n\n/**\n * Utility functions for querying annotation metadata.\n */\n\n/** Extract a URI, domain and title from the given domain model object.\n *\n * @param {object} annotation An annotation domain model object as received\n *   from the server-side API.\n * @returns {object} An object with three properties extracted from the model:\n *   uri, domain and title.\n *\n */\nfunction documentMetadata(annotation) {\n  var uri = annotation.uri;\n  var domain = new URL(uri).hostname;\n  var title = domain;\n\n  if (annotation.document && annotation.document.title) {\n    title = annotation.document.title[0];\n  }\n\n  if (domain === 'localhost') {\n    domain = '';\n  }\n\n  return {\n    uri: uri,\n    domain: domain,\n    title: title,\n  };\n}\n\n/**\n * Return the domain and title of an annotation for display on an annotation\n * card.\n */\nfunction domainAndTitle(annotation) {\n  return {\n    domain: domainTextFromAnnotation(annotation),\n    titleText: titleTextFromAnnotation(annotation),\n    titleLink: titleLinkFromAnnotation(annotation),\n  };\n}\n\nfunction titleLinkFromAnnotation(annotation) {\n  var titleLink = annotation.uri;\n\n  if (titleLink && !(titleLink.indexOf('http://') === 0 || titleLink.indexOf('https://') === 0)) {\n    // We only link to http(s) URLs.\n    titleLink = null;\n  }\n\n  if (annotation.links && annotation.links.incontext) {\n    titleLink = annotation.links.incontext;\n  }\n\n  return titleLink;\n}\n\nfunction domainTextFromAnnotation(annotation) {\n  var document = documentMetadata(annotation);\n\n  var domainText = '';\n  if (document.uri && document.uri.indexOf('file://') === 0 && document.title) {\n    var parts = document.uri.split('/');\n    var filename = parts[parts.length - 1];\n    if (filename) {\n      domainText = filename;\n    }\n  } else if (document.domain && document.domain !== document.title) {\n    domainText = document.domain;\n  }\n\n  return domainText;\n}\n\nfunction titleTextFromAnnotation(annotation) {\n  var document = documentMetadata(annotation);\n\n  var titleText = document.title;\n  if (titleText.length > 30) {\n    titleText = titleText.slice(0, 30) + '';\n  }\n\n  return titleText;\n}\n\n/** Return `true` if the given annotation is a reply, `false` otherwise. */\nfunction isReply(annotation) {\n  return (annotation.references || []).length > 0;\n}\n\n/** Return `true` if the given annotation is new, `false` otherwise.\n *\n * \"New\" means this annotation has been newly created client-side and not\n * saved to the server yet.\n */\nfunction isNew(annotation) {\n  return !annotation.id;\n}\n\n/** Return `true` if the given annotation is public, `false` otherwise. */\nfunction isPublic(annotation) {\n  var isPublic = false;\n\n  if (!annotation.permissions) {\n    return isPublic;\n  }\n\n  annotation.permissions.read.forEach(function(perm) {\n    var readPermArr = perm.split(':');\n    if (readPermArr.length === 2 && readPermArr[0] === 'group') {\n      isPublic = true;\n    }\n  });\n\n  return isPublic;\n}\n\n/**\n * Return `true` if `annotation` has a selector.\n *\n * An annotation which has a selector refers to a specific part of a document,\n * as opposed to a Page Note which refers to the whole document or a reply,\n * which refers to another annotation.\n */\nfunction hasSelector(annotation) {\n  return !!(annotation.target &&\n            annotation.target.length > 0 &&\n            annotation.target[0].selector);\n}\n\n/**\n * Return `true` if the given annotation is not yet anchored.\n *\n * Returns false if anchoring is still in process but the flag indicating that\n * the initial timeout allowed for anchoring has expired.\n */\nfunction isWaitingToAnchor(annotation) {\n  return hasSelector(annotation) &&\n         (typeof annotation.$orphan === 'undefined') &&\n         !annotation.$anchorTimeout;\n}\n\n/** Return `true` if the given annotation is an orphan. */\nfunction isOrphan(annotation) {\n  return hasSelector(annotation) && annotation.$orphan;\n}\n\n/** Return `true` if the given annotation is a page note. */\nfunction isPageNote(annotation) {\n  return !hasSelector(annotation) && !isReply(annotation) && annotation.annotationType == \"Pagenote\";\n}\n\n/** Return `true` if the given annotation is a Screenshot. */\nfunction isScreenshot(annotation) {\n  return annotation.annotationType === \"Screenshot\" || annotation.$screenshot;\n}\n\n/** Return `true` if the given annotation is a top level annotation, `false` otherwise. */\nfunction isAnnotation(annotation) {\n  return !!(hasSelector(annotation) && !isOrphan(annotation) || isScreenshot(annotation));\n}\n\n/** Return a numeric key that can be used to sort annotations by location.\n *\n * @return {number} - A key representing the location of the annotation in\n *                    the document, where lower numbers mean closer to the\n *                    start.\n */\nfunction location(annotation) {\n  if (annotation) {\n    var targets = annotation.target || [];\n    for (var i = 0; i < targets.length; i++) {\n      var selectors = targets[i].selector || [];\n      for (var k = 0; k < selectors.length; k++) {\n        if (selectors[k].type === 'TextPositionSelector') {\n          return selectors[k].start;\n        }\n      }\n    }\n  }\n  return Number.POSITIVE_INFINITY;\n}\n\n/**\n * Return the number of times the annotation has been flagged\n * by other users. If moderation metadata is not present, returns `null`.\n *\n * @return {number|null}\n */\nfunction flagCount(ann) {\n  if (!ann.moderation) {\n    return null;\n  }\n  return ann.moderation.flagCount;\n}\n\nmodule.exports = {\n  documentMetadata: documentMetadata,\n  domainAndTitle: domainAndTitle,\n  flagCount: flagCount,\n  isAnnotation: isAnnotation,\n  isNew: isNew,\n  isOrphan: isOrphan,\n  isPageNote: isPageNote,\n  isPublic: isPublic,\n  isReply: isReply,\n  isScreenshot: isScreenshot,\n  isWaitingToAnchor: isWaitingToAnchor,\n  location: location,\n};\n",
    "'use strict';\n\n/** Default state for new threads, before applying filters etc. */\nvar DEFAULT_THREAD_STATE = {\n  /**\n   * The ID of this thread. This will be the same as the annotation ID for\n   * created annotations or the `$tag` property for new annotations.\n   */\n  id: undefined,\n  /**\n   * The Annotation which is displayed by this thread.\n   *\n   * This may be null if the existence of an annotation is implied by the\n   * `references` field in an annotation but the referenced parent annotation\n   * does not exist.\n   */\n  annotation: undefined,\n  /** The parent thread ID */\n  parent: undefined,\n  /** True if this thread is collapsed, hiding replies to this annotation. */\n  collapsed: false,\n  /** True if this annotation matches the current filters. */\n  visible: true,\n  /** Replies to this annotation. */\n  children: [],\n  /**\n    * The total number of children of this annotation,\n    * including any which have been hidden by filters.\n    */\n  totalChildren: 0,\n  /**\n   * The highlight state of this annotation:\n   *  undefined - Do not (de-)emphasize this annotation\n   *  'dim' - De-emphasize this annotation\n   *  'highlight' - Emphasize this annotation\n   */\n  highlightState: undefined,\n};\n\n/**\n * Returns a persistent identifier for an Annotation.\n * If the Annotation has been created on the server, it will have\n * an ID assigned, otherwise we fall back to the local-only '$tag'\n * property.\n */\nfunction id(annotation) {\n  return annotation.id || annotation.$tag;\n}\n\n/**\n * Link the annotation with ID `id` to its parent thread.\n *\n * @param {string} id\n * @param {Array<string>} parents - IDs of parent annotations, from the\n *        annotation's `references` field.\n */\nfunction setParentID(threads, id, parents) {\n  if (threads[id].parent || !parents.length) {\n    // Parent already assigned, do not try to change it.\n    return;\n  }\n  var parentID = parents[parents.length-1];\n  if (!threads[parentID]) {\n    // Parent does not exist. This may be a reply to an annotation which has\n    // been deleted. Create a placeholder Thread with no annotation to\n    // represent the missing annotation.\n    threads[parentID] = Object.assign({}, DEFAULT_THREAD_STATE, {\n      id: parentID,\n      children: [],\n    });\n    setParentID(threads, parentID, parents.slice(0,-1));\n  }\n\n  var grandParentID = threads[parentID].parent;\n  while (grandParentID) {\n    if (grandParentID === id) {\n      // There is a loop in the `references` field, abort.\n      return;\n    } else {\n      grandParentID = threads[grandParentID].parent;\n    }\n  }\n\n  threads[id].parent = parentID;\n  threads[parentID].children.push(threads[id]);\n}\n\n/**\n * Creates a thread of annotations from a list of annotations.\n *\n * Given a flat list of annotations and replies, this generates a hierarchical\n * thread, using the `references` field of an annotation to link together\n * annotations and their replies. The `references` field is a possibly\n * incomplete ordered list of the parents of an annotation, from furthest to\n * nearest ancestor.\n *\n * @param {Array<Annotation>} annotations - The input annotations to thread.\n * @return {Thread} - The input annotations threaded into a tree structure.\n */\nfunction threadAnnotations(annotations) {\n  // Map of annotation ID -> container\n  var threads = {};\n\n  // Build mapping of annotation ID -> thread\n  annotations.forEach(function (annotation) {\n    threads[id(annotation)] = Object.assign({}, DEFAULT_THREAD_STATE, {\n      id: id(annotation),\n      annotation: annotation,\n      children: [],\n    });\n  });\n\n  // Set each thread's parent based on the references field\n  annotations.forEach(function (annotation) {\n    if (!annotation.references) {\n      return;\n    }\n    setParentID(threads, id(annotation), annotation.references);\n  });\n\n  // Collect the set of threads which have no parent as\n  // children of the thread root\n  var roots = [];\n  Object.keys(threads).forEach(function (id) {\n    if (!threads[id].parent) {\n      // Top-level threads are collapsed by default\n      threads[id].collapsed = true;\n      roots.push(threads[id]);\n    }\n  });\n\n  var root = {\n    annotation: undefined,\n    children: roots,\n    visible: true,\n    collapsed: false,\n    totalChildren: roots.length,\n  };\n\n  return root;\n}\n\n/**\n * Returns a copy of `thread` with the thread\n * and each of its children transformed by mapFn(thread).\n *\n * @param {Thread} thread\n * @param {(Thread) => Thread} mapFn\n */\nfunction mapThread(thread, mapFn) {\n  return Object.assign({}, mapFn(thread), {\n    children: thread.children.map(function (child) {\n      return mapThread(child, mapFn);\n    }),\n  });\n}\n\n/**\n * Return a sorted copy of an array of threads.\n *\n * @param {Array<Thread>} threads - The list of threads to sort\n * @param {(Annotation,Annotation) => boolean} compareFn\n * @return {Array<Thread>} Sorted list of threads\n */\nfunction sort(threads, compareFn) {\n  return threads.slice().sort(function (a, b) {\n    // Threads with no annotation always sort to the top\n    if (!a.annotation || !b.annotation) {\n      if (!a.annotation && !b.annotation) {\n        return 0;\n      } else {\n        return !a.annotation ? -1 : 1;\n      }\n    }\n\n    if (compareFn(a.annotation, b.annotation)) {\n      return -1;\n    } else if (compareFn(b.annotation, a.annotation)) {\n      return 1;\n    } else {\n      return 0;\n    }\n  });\n}\n\n/**\n * Return a copy of `thread` with siblings of the top-level thread sorted according\n * to `compareFn` and replies sorted by `replyCompareFn`.\n */\nfunction sortThread(thread, compareFn, replyCompareFn) {\n  var children = thread.children.map(function (child) {\n    return sortThread(child, replyCompareFn, replyCompareFn);\n  });\n\n  return Object.assign({}, thread, {\n    children: sort(children, compareFn),\n  });\n}\n\n/**\n * Return a copy of @p thread with the `replyCount` and `depth` properties\n * updated.\n */\nfunction countRepliesAndDepth(thread, depth) {\n  var children = thread.children.map(function (c) {\n    return countRepliesAndDepth(c, depth + 1);\n  });\n  return Object.assign({}, thread, {\n    children: children,\n    depth: depth,\n    replyCount: children.reduce(function (total, child) {\n      return total + 1 + child.replyCount;\n    }, 0),\n  });\n}\n\n/** Return true if a thread has any visible children. */\nfunction hasVisibleChildren(thread) {\n  return thread.children.some(function (child) {\n    return child.visible || hasVisibleChildren(child);\n  });\n}\n\n/**\n * Default options for buildThread()\n */\nvar defaultOpts = {\n  /** List of currently selected annotation IDs */\n  selected: [],\n  /**\n   * List of IDs of annotations that should be shown even if they\n   * do not match the current filter.\n   */\n  forceVisible: undefined,\n  /**\n   * Predicate function that returns true if an annotation should be\n   * displayed.\n   */\n  filterFn: undefined,\n  /**\n   * A filter function which should return true if a given annotation and\n   * its replies should be displayed.\n   */\n  threadFilterFn: undefined,\n  /**\n   * Mapping of annotation IDs to expansion states.\n   */\n  expanded: {},\n  /** List of highlighted annotation IDs */\n  highlighted: [],\n  /**\n   * Less-than comparison function used to compare annotations in order to sort\n   * the top-level thread.\n   */\n  sortCompareFn: function (a, b) {\n    return a.id < b.id;\n  },\n  /**\n   * Less-than comparison function used to compare annotations in order to sort\n   * replies.\n   */\n  replySortCompareFn: function (a, b) {\n    return a.created < b.created;\n  },\n};\n\n/**\n * Project, filter and sort a list of annotations into a thread structure for\n * display by the <annotation-thread> directive.\n *\n * buildThread() takes as inputs a flat list of annotations,\n * the current visibility filters and sort function and returns\n * the thread structure that should be rendered.\n *\n * @param {Array<Annotation>} annotations - A list of annotations and replies\n * @param {Options} opts\n * @return {Thread} - The root thread, whose children are the top-level\n *                    annotations to display.\n */\nfunction buildThread(annotations, opts) {\n  opts = Object.assign({}, defaultOpts, opts);\n\n  var thread = threadAnnotations(annotations);\n\n  // Mark annotations as visible or hidden depending on whether\n  // they are being edited and whether they match the current filter\n  // criteria\n  var shouldShowThread = function (annotation) {\n    if (opts.forceVisible && opts.forceVisible.indexOf(id(annotation)) !== -1) {\n      return true;\n    }\n    if (opts.filterFn && !opts.filterFn(annotation)) {\n      return false;\n    }\n    return true;\n  };\n\n  // When there is a selection, only include top-level threads (annotations)\n  // that are selected\n  if (opts.selected.length > 0) {\n    thread = Object.assign({}, thread, {\n      children: thread.children.filter(function (child) {\n        return opts.selected.indexOf(child.id) !== -1;\n      }),\n    });\n  }\n\n  // Set the visibility and highlight states of threads\n  thread = mapThread(thread, function (thread) {\n    var highlightState;\n    if (opts.highlighted.length > 0) {\n      var isHighlighted = thread.annotation &&\n        opts.highlighted.indexOf(thread.id) !== -1;\n      highlightState = isHighlighted ? 'highlight' : 'dim';\n    }\n\n    return Object.assign({}, thread, {\n      highlightState: highlightState,\n      visible: thread.visible &&\n               thread.annotation &&\n               shouldShowThread(thread.annotation),\n    });\n  });\n\n  // Expand any threads which:\n  // 1) Have been explicitly expanded OR\n  // 2) Have children matching the filter\n  thread = mapThread(thread, function (thread) {\n    var id = thread.id;\n\n    // If the thread was explicitly expanded or collapsed, respect that option\n    if (opts.expanded.hasOwnProperty(id)) {\n      return Object.assign({}, thread, {collapsed: !opts.expanded[id]});\n    }\n\n    var hasUnfilteredChildren = opts.filterFn && hasVisibleChildren(thread);\n\n    return Object.assign({}, thread, {\n      collapsed: thread.collapsed &&\n                 !hasUnfilteredChildren,\n    });\n  });\n\n  // Remove top-level threads which contain no visible annotations\n  thread.children = thread.children.filter(function (child) {\n    return child.visible || hasVisibleChildren(child);\n  });\n\n  // Get annotations which are of type notes or annotations depending\n  // on the filter.\n  if (opts.threadFilterFn) {\n    thread.children = thread.children.filter(opts.threadFilterFn);\n  }\n\n  // Sort the root thread according to the current search criteria\n  thread = sortThread(thread, opts.sortCompareFn, opts.replySortCompareFn);\n\n  // Update `replyCount` and `depth` properties\n  thread = countRepliesAndDepth(thread, -1);\n\n  return thread;\n}\n\nmodule.exports = buildThread;\n",
    "'use strict';\n\n/**\n * @ngdoc directive\n * @name aboutPanel\n * @description Displays product version and environment info\n */\n// @ngInject\nmodule.exports = {\n  controllerAs: 'vm',\n  // @ngInject\n  controller: function ($scope, $window, store, serviceUrl) {\n    this.userAgent = $window.navigator.userAgent;\n    this.version = '__VERSION__';  // replaced by versionify\n    this.dateTime = new Date();\n    this.serviceUrl = serviceUrl;\n\n    $scope.$watch(\n      function () {\n        return store.frames();\n      },\n      function (frames) {\n        if (frames.length === 0) {\n          return;\n        }\n        this.url = frames[0].uri;\n        this.documentFingerprint = frames[0].metadata.documentFingerprint;\n      }.bind(this)\n    );\n  },\n  template: require('../templates/about-panel.html'),\n  bindings: {\n    auth: '<',\n    onClose: '&',\n  },\n};\n",
    "'use strict';\r\n\r\n/**\r\n * @description Displays a combined privacy/selection post button to post\r\n *              a new annotation\r\n */\r\n// @ngInject\r\nmodule.exports = {\r\n  controller: function (addSection) {\r\n    var self = this;\r\n    self.createSection = function() {\r\n\t\tif(self.group) {\r\n\t\t\taddSection.add(self.group).then(function(section) {\r\n\t\t\t\tif(self.onNewSection) {\r\n\t\t\t\t\tself.onNewSection({section:section,group: self.group});\r\n\t\t\t\t}\r\n\t\t\t},function(){\r\n\t\t\t\t\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n  },\r\n  controllerAs: 'vm',\r\n  bindings: {\r\n    group: '<',\r\n    auth:'<',\r\n    label:'@',\r\n    onNewSection:'&',\r\n  },\r\n  template: require('../templates/add-section-btn.html'),\r\n};\r\n",
    "'use strict';\r\nvar events = require('../events');\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction AddSectionModalController($scope,toGroup,modalOptions,$modalInstance,api,groups,flash) {\r\n\tvar self = this;\r\n\tself.modalOptions = modalOptions;\r\n\tself.group = toGroup;\r\n\tself.section = {};\r\n\t\r\n\tself.ok = function () {\r\n\t\tapi.group.addSection({},self.section).then(function(resp) {\r\n\t\t\tif(resp && resp.TsSection) {\r\n\t\t\t\tgroups.addSection(self.section.taskspaceId ,resp.TsSection);\r\n\t\t\t\tgroups.savefocusSection(self.group,resp.TsSection);\r\n\t\t\t\t$modalInstance.close(resp.TsSection);\r\n\t\t\t}\r\n\t\t}).catch(function (err) {\r\n\t      \tflash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t    });;\r\n  \t};\r\n\r\n    $scope.$on(events.USER_CHANGED, function () {\r\n\t\tself.cancel();\r\n\t});\r\n\t\r\n  \tself.cancel = function () {\r\n    \t$modalInstance.dismiss('cancel');\r\n  \t};\r\n\r\n    function init() {\r\n\t\tself.section.clientId = self.group.clientId;\r\n\t    self.section.taskspaceId = self.group.id;\r\n    }\r\n\t\r\n\tinit();\r\n}\r\nmodule.exports = AddSectionModalController;",
    "'use strict';\r\nvar events = require('../events');\r\n\r\n/* @ngInject */\r\nfunction AddToTaskspaceModalController($scope, groups, $modalInstance,auth,userPreference) {\r\n\t'ngInject';\r\n\tvar self = this;\r\n\tself.auth = auth;\r\n\tself.groups = groups;\r\n\t\r\n\tself.modalOptions = {\r\n\t    cancel: 'Cancel',\r\n\t    ok: 'Ok',\r\n        addSection: \"Add Section\",\r\n\t    headerText: 'Add Web Page to Taskspace'\r\n\t};\r\n\t\r\n\t\r\n\t$scope.$watch(angular.bind(self, function () {\r\n\t  return self.group;\r\n\t}), function (newGroup, oldGroup) {\r\n\t    self.group = newGroup;\r\n\t\tself.section = self.group ? self.groups.getfocusedSection(newGroup.id) : {};\r\n\t});\r\n\t\r\n\t\r\n\t$scope.$on(events.GROUP_UPDATED,function(event,groupId){\r\n\t\tif(self.group && self.group.id == groupId) {\r\n\t\t\tself.group = groups.get(groupId);\r\n\t\t}\r\n\t});\r\n\t\r\n\tself.cancel = function() {\r\n\t\t$modalInstance.dismiss('cancel');\r\n\t};\r\n\t \r\n    self.ok = function() {\r\n\t\tlet data = update();\r\n\t\t$modalInstance.close(data);\r\n\t};\r\n\t\r\n\tself.allowCreateSection = userPreference.canCreateSection;\r\n\t\r\n\tself.hasSections = function() {\r\n\t\tif(self.group) {\r\n\t\t\treturn self.group.sections && self.group.sections.length > 0;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tfunction update() {\r\n\t\treturn Object.assign({},{\r\n\t\t\tgroup: self.group,\r\n\t\t\tsection:self.section\r\n\t\t});\r\n\t}\r\n\t\r\n\tself.onNewSection = function(data) {\r\n\t\tself.section = data.section;\r\n\t\t//groups.addSection(self.group.id,data.section);\r\n\t}\r\n\t\r\n\tfunction init() {\r\n\t\tself.group = groups.focused();\r\n\t\tself.section = self.group ? self.groups.getfocusedSection(self.group.id) : null;\r\n\t}\r\n\t\r\n\tinit();\r\n}\r\n\r\nmodule.exports =AddToTaskspaceModalController;\r\n",
    "'use strict';\n\nmodule.exports = {\n  controllerAs: 'vm',\n  bindings: {\n    icon: '<',\n    isDisabled: '<',\n    label: '<',\n    onClick: '&',\n  },\n  template: require('../templates/annotation-action-button.html'),\n};\n",
    "'use strict';\n\nvar annotationMetadata = require('../annotation-metadata');\nvar memoize = require('../util/memoize');\nvar { isThirdPartyUser, username } = require('../util/account-id');\n\n// @ngInject\nfunction AnnotationHeaderController(features, groups, settings, serviceUrl) {\n  var self = this;\n\n  this.user = function () {\n    return self.annotation.user;\n  };\n\n  this.displayName = () => {\n    var userInfo = this.annotation.user_info;\n    var isThirdPartyUser_ = isThirdPartyUser(this.annotation.user, settings.authDomain);\n    if (features.flagEnabled('client_display_names') || isThirdPartyUser_) {\n      // userInfo is undefined if the api_render_user_info feature flag is off.\n      if (userInfo) {\n        // display_name is null if the user doesn't have a display name.\n        if (userInfo.display_name) {\n          return userInfo.display_name;\n        }\n      }\n    }\n    return username(this.annotation.user);\n  };\n\n  this.isThirdPartyUser = function () {\n    return isThirdPartyUser(self.annotation.user, settings.authDomain);\n  };\n\n  this.thirdPartyUsernameLink = function () {\n    return settings.usernameUrl ?\n      settings.usernameUrl + username(this.annotation.user):\n      null;\n  };\n\n  this.serviceUrl = serviceUrl;\n\n  this.group = function () {\n    return groups.get(self.annotation.group);\n  };\n\n  var documentMeta = memoize(annotationMetadata.domainAndTitle);\n  this.documentMeta = function () {\n    return documentMeta(self.annotation);\n  };\n\n  this.updated = function () {\n    return self.annotation.updated;\n  };\n\n  this.htmlLink = function () {\n    if (self.annotation.links && self.annotation.links.html) {\n      return self.annotation.links.html;\n    }\n    return '';\n  };\n}\n\n/**\n * Header component for an annotation card.\n *\n * Header which displays the username, last update timestamp and other key\n * metadata about an annotation.\n */\nmodule.exports = {\n  controller: AnnotationHeaderController,\n  controllerAs: 'vm',\n  bindings: {\n    /**\n     * The saved annotation\n     */\n    annotation: '<',\n\n    /**\n     * True if the annotation is private or will become private when the user\n     * saves their changes.\n     */\n    isPrivate: '<',\n\n    /** True if the user is currently editing the annotation. */\n    isEditing: '<',\n\n    /**\n     * True if the annotation is a highlight.\n     * FIXME: This should determined in AnnotationHeaderController\n     */\n    isHighlight: '<',\n    onReplyCountClick: '&',\n    replyCount: '<',\n\n    /** True if document metadata should be shown. */\n    showDocumentInfo: '<',\n  },\n  template: require('../templates/annotation-header.html'),\n};\n",
    "'use strict';\n\nvar angular = require('angular');\n\nvar scopeTimeout = require('../util/scope-timeout');\n\n// @ngInject\nfunction AnnotationShareDialogController($element, $scope, analytics) {\n  var self = this;\n  var shareLinkInput = $element.find('input')[0];\n\n  $scope.$watch('vm.isOpen', function (isOpen) {\n    if (isOpen) {\n      // Focus the input and select it once the dialog has become visible\n      scopeTimeout($scope, function () {\n        shareLinkInput.focus();\n        shareLinkInput.select();\n      });\n    }\n  });\n\n  this.copyToClipboard = function (event) {\n    var $container = angular.element(event.currentTarget).parent();\n    var shareLinkInput = $container.find('input')[0];\n\n    try {\n      shareLinkInput.select();\n\n      // In some browsers, execCommand() returns false if it fails,\n      // in others, it may throw an exception instead.\n      if (!document.execCommand('copy')) {\n        throw new Error('Copying link failed');\n      }\n\n      self.copyToClipboardMessage = 'Link copied to clipboard!';\n    } catch (ex) {\n      self.copyToClipboardMessage = 'Select and copy to share.';\n    } finally {\n      setTimeout(function () {\n        self.copyToClipboardMessage = null;\n        $scope.$digest();\n      }, 1000);\n    }\n  };\n\n  this.onShareClick = function(target){\n    if(target){\n      analytics.track(analytics.events.ANNOTATION_SHARED, target);\n    }\n  };\n}\n\nmodule.exports = {\n  controller: AnnotationShareDialogController,\n  controllerAs: 'vm',\n  bindings: {\n    group: '<',\n    uri: '=',\n    isPrivate: '<',\n    isOpen: '<',\n    onClose: '&',\n    showExtShare: '&'\n  },\n  template: require('../templates/annotation-share-dialog.html'),\n};\n",
    "'use strict';\n\nfunction hiddenCount(thread) {\n  var isHidden = thread.annotation && !thread.visible;\n  return thread.children.reduce(function (count, reply) {\n    return count + hiddenCount(reply);\n  }, isHidden ? 1 : 0);\n}\n\nfunction visibleCount(thread) {\n  var isVisible = thread.annotation && thread.visible;\n  return thread.children.reduce(function (count, reply) {\n    return count + visibleCount(reply);\n  }, isVisible ? 1 : 0);\n}\n\nfunction showAllChildren(thread, showFn) {\n  thread.children.forEach(function (child) {\n    showFn({thread: child});\n    showAllChildren(child, showFn);\n  });\n}\n\nfunction showAllParents(thread, showFn) {\n  while (thread.parent && thread.parent.annotation) {\n    showFn({thread: thread.parent});\n    thread = thread.parent;\n  }\n}\n\n// @ngInject\nfunction AnnotationThreadController() {\n  // Flag that tracks whether the content of the annotation is hovered,\n  // excluding any replies.\n  this.annotationHovered = false;\n\n  this.toggleCollapsed = function () {\n    this.onChangeCollapsed({\n      id: this.thread.id,\n      collapsed: !this.thread.collapsed,\n    });\n  };\n\n  this.threadClasses = function () {\n    return {\n      'annotation-thread': true,\n      'annotation-thread--reply': this.thread.depth > 0,\n      'annotation-thread--top-reply': this.thread.depth === 1,\n    };\n  };\n\n  this.threadToggleClasses = function () {\n    return {\n      'annotation-thread__collapse-toggle': true,\n      'is-open': !this.thread.collapsed,\n      'is-hovered': this.annotationHovered,\n    };\n  };\n\n  this.annotationClasses = function () {\n    return {\n      annotation: true,\n      'annotation--reply': this.thread.depth > 0,\n      'is-collapsed': this.thread.collapsed,\n      'is-highlighted': this.thread.highlightState === 'highlight',\n      'is-dimmed': this.thread.highlightState === 'dim',\n    };\n  };\n\n  /**\n   * Show this thread and any of its children\n   */\n  this.showThreadAndReplies = function () {\n    showAllParents(this.thread, this.onForceVisible);\n    this.onForceVisible({thread: this.thread});\n    showAllChildren(this.thread, this.onForceVisible);\n  };\n\n  this.isTopLevelThread = function () {\n    return !this.thread.parent;\n  };\n\n  /**\n   * Return the total number of annotations in the current\n   * thread which have been hidden because they do not match the current\n   * search filter.\n   */\n  this.hiddenCount = function () {\n    return hiddenCount(this.thread);\n  };\n\n  this.shouldShowReply = function (child) {\n    return visibleCount(child) > 0;\n  };\n}\n\n/**\n * Renders a thread of annotations.\n */\nmodule.exports = {\n  controllerAs: 'vm',\n  controller: AnnotationThreadController,\n  bindings: {\n    /** The annotation thread to render. */\n    thread: '<',\n    /**\n     * Specify whether document information should be shown\n     * on annotation cards.\n     */\n    showDocumentInfo: '<',\n    /** Called when the user clicks on the expand/collapse replies toggle. */\n    onChangeCollapsed: '&',\n    /**\n     * Called when the user clicks the button to show this thread or\n     * one of its replies.\n     */\n    onForceVisible: '&',\n  },\n  template: require('../templates/annotation-thread.html'),\n};\n",
    "'use strict';\n\n/**\n * Fetch all annotations in the same thread as `id`.\n *\n * @return Promise<Array<Annotation>>\n */\nfunction fetchThread(api, id,tsClientId) {\n  var annot;\n  return api.annotation.get({id: id,tsClientId: tsClientId}).then(function (annot) {\n    if (annot.references && annot.references.length) {\n      // This is a reply, fetch the top-level annotation\n      return api.annotation.get({id: annot.references[0]});\n    } else {\n      return annot;\n    }\n  }).then(function (annot_) {\n    annot = annot_;\n    return api.search({references: annot.id});\n  }).then(function (searchResult) {\n    return [annot].concat(searchResult.rows);\n  });\n}\n\n// @ngInject\nfunction AnnotationViewerContentController (\n  $location, $routeParams, store, api, rootThread, streamer,\n  streamFilter, annotationMapper\n) {\n  var self = this;\n\n  store.setAppIsSidebar(false);\n\n  var id = $routeParams.id;\n  var tsClientId = $routeParams.tsClientId;\n\n  this.search.update = function (query) {\n    $location.path('/stream').search('q', query);\n  };\n\n  store.subscribe(function () {\n    self.rootThread = rootThread.thread(store.getState());\n  });\n\n  this.setCollapsed = function (id, collapsed) {\n    store.setCollapsed(id, collapsed);\n  };\n\n  this.ready = fetchThread(api, id,tsClientId).then(function (annots) {\n    annotationMapper.loadAnnotations(annots);\n\n    var topLevelAnnot = annots.filter(function (annot) {\n      return (annot.references || []).length === 0;\n    })[0];\n\n    if (!topLevelAnnot) {\n      return;\n    }\n\n    streamFilter\n      .setMatchPolicyIncludeAny()\n      .addClause('/references', 'one_of', topLevelAnnot.id, true)\n      .addClause('/id', 'equals', topLevelAnnot.id, true);\n    streamer.setConfig('filter', { filter: streamFilter.getFilter() });\n    streamer.connect();\n\n    annots.forEach(function (annot) {\n      store.setCollapsed(annot.id, false);\n    });\n\n    if (topLevelAnnot.id !== id) {\n      store.highlightAnnotations([id]);\n    }\n  });\n}\n\nmodule.exports = {\n  controller: AnnotationViewerContentController,\n  controllerAs: 'vm',\n  bindings: {\n    search: '<',\n  },\n  template: require('../templates/annotation-viewer-content.html'),\n};\n",
    "'use strict';\n\nvar annotationMetadata = require('../annotation-metadata');\nvar events = require('../events');\nvar { isThirdPartyUser } = require('../util/account-id');\nvar renderMarkdown = require('../render-markdown');\n\nvar isNew = annotationMetadata.isNew;\nvar isReply = annotationMetadata.isReply;\nvar isPageNote = annotationMetadata.isPageNote;\nvar isScreenshot = annotationMetadata.isScreenshot;\n\n/**\n * Return a copy of `annotation` with changes made in the editor applied.\n */\nfunction updateModel(annotation, changes, permissions) {\n  var userid = annotation.user;\n\n  return Object.assign({}, annotation, {\n    // Apply changes from the draft\n    tags: changes.tags,\n    text: changes.text,\n    permissions: changes.isPrivate ?\n      permissions.private(userid) : permissions.shared(userid, changes.group),\n    group: changes.group,\n    tsClientId: changes.tsClientId,\n    objId: changes.objId,\n    coordinates: changes.coordinates,\n    objClientId: changes.objClientId,\n    webresource: changes.webresource,\n    objOwner: changes.objOwner,\n  });\n}\n\n// @ngInject\nfunction AnnotationController(\n  $document, $rootScope, $scope, $timeout, confirm, analytics, store,\n  annotationMapper, api, drafts, flash, groups, permissions, serviceUrl,\n  session, settings, streamer,$sce,$sanitize,_) {\n\n  var self = this;\n  var newlyCreatedByHighlightButton;\n  var newlyCreatedByScreenshotButton;\n\n  \n  \n /*$scope.$on(\"COORDINATES_UPDATED\", function (event, annotMap) {\n\t console.log(\"COORDINATES_UPDATED\");\n\t try {\n\t\t let annot = annotMap[self.annotation.$tag];\n\t\t if(annot.updateRect && annot.coordinates) {\n\t\t\t self.annotation.updateRect = annot.updateRect;\n\t\t     self.annotation.coordinates = annot.coordinates;\n\t\t     updateCoordinates();\n\t\t }\n\t } catch(e) {\n\t\t \n\t }\n });*/\n  \n $scope.$watch(() => ([groups.focusedId(),store.profile().userid]), ([currentGroupId], [prevGroupId]) => {\n  \tif((currentGroupId !== prevGroupId || store.profile().userid) && drafts.get(self.annotation)) {\n  \t\tvar group = groups.focused();\n        var section = group ? groups.getfocusedSection(group.id): null;\n  \t\tself.annotation.user = session.state.userid;\n\t    self.annotation.user_info =  session.state.user_info;\n\t    self.annotation.group = groups.focusedId();\n        self.annotation.sectionId = section ? section.id : null;\n\t    self.annotation.tsClientId = group ? group.clientId : null;\n\t    self.annotation.objId = group ? group.objId : null;\n\t    self.annotation.objClientId = group ? group.objClientId : null;\n \t\tself.annotation.objOwner = group ? group.objOwner : false;\n        self.annotation.webresource = group ? group.webresource : null;\n\t    self.annotation.permissions = permissions.default(self.annotation.user,self.annotation.group);\n\t    self.annotation.text = self.annotation.text || '';\n\t    if (!Array.isArray(self.annotation.tags)) {\n\t      self.annotation.tags = [];\n\t    }\n\t    \n\t    self.updateAnnotaion();\n\t    \n\t    // If this annotation is not a highlight and if it's new (has just been\n\t    // created by the annotate button) or it has edits not yet saved to the\n\t    // server - then open the editor on AnnotationController instantiation.\n\t    if (!newlyCreatedByHighlightButton /*&& !newlyCreatedByScreenshotButton*/) {\n\t      if (isNew(self.annotation) || drafts.get(self.annotation)) {\n\t        self.edit();\n\t      }\n\t    }\n  \t}\n  }, true);\n  \n  \n  /** Save an annotation to the server. */\n  function save(annot) {\n\treturn groups.getMetaDataFromUrl().then(metainfo => {\n\t\tvar saved;\n\t    var updating = !!annot.id;\n\t\n\t    if(self.isReply()) {\n\t    \tannot.annotationType = 'Reply';\n\t    } else if(self.isHighlight()) {\n\t    \tannot.annotationType = 'Highlight';\n\t    } else if(isScreenshot(self.annotation)){\n\t    \tannot.annotationType = 'Screenshot';\n\t        if(!self.extractTextInsideScreenshot) {\n\t\t\t\tannot.annotatedText = \"\";\n\t\t\t}\n\t    } else if(isPageNote(self.annotation)){\n\t    \tannot.annotationType = 'Pagenote';\n\t    } else {\n\t    \tannot.annotationType = 'Annoatate';\n\t    }\n\t    \n\t    annot.context = \"FromExtension\";\n\t    annot.release = settings.release;\n\t    if(!_.isEmpty(annot.document)) {\n\t\t  annot.document.metatags = metainfo && metainfo.metadata ? metainfo.metadata.metatags : null;\n\t    } \n\t\t\n\t    if (updating) {\n\t\t  if( self.editingTags ) {\n\t\t\t saved = api.annotation.updateTags({id: annot.id}, annot);\n\t\t  } else {\n\t\t\tsaved = api.annotation.update({id: annot.id}, annot);\n\t\t  } \n\t    } else {\n\t      saved = api.annotation.create({}, annot);\n\t    }\n\t    \n\t    return saved.then(function (savedAnnot) {\n\t\n\t      var event;\n\t\n\t      // Copy across internal properties which are not part of the annotation\n\t      // model saved on the server\n\t      savedAnnot.$tag = annot.$tag;\n\t      Object.keys(annot).forEach(function (k) {\n\t        if (k[0] === '$') {\n\t          savedAnnot[k] = annot[k];\n\t        }\n\t      });\n\t\n\t\n\t      if(self.isReply()){\n\t        event = updating ? analytics.events.REPLY_UPDATED : analytics.events.REPLY_CREATED;\n\t      }else if(self.isHighlight()){\n\t        event = updating ? analytics.events.HIGHLIGHT_UPDATED : analytics.events.HIGHLIGHT_CREATED;\n\t      }else if(isPageNote(self.annotation)) {\n\t        event = updating ? analytics.events.PAGE_NOTE_UPDATED : analytics.events.PAGE_NOTE_CREATED;\n\t      }else {\n\t        event = updating ? analytics.events.ANNOTATION_UPDATED : analytics.events.ANNOTATION_CREATED;\n\t      }\n\t\n\t      analytics.track(event);\n\t\n\t      return savedAnnot;\n\t    });\n    });\n  }\n\n  /**\n    * Initialize the controller instance.\n    *\n    * All initialization code except for assigning the controller instance's\n    * methods goes here.\n    */\n  function init() {\n    /** Determines whether controls to expand/collapse the annotation body\n     * are displayed adjacent to the tags field.\n     */\n    self.canCollapseBody = false;\n\n    /** Determines whether the annotation body should be collapsed. */\n    self.collapseBody = true;\n\n    /** True if the annotation is currently being saved. */\n    self.isSaving = false;\n\n    /** True if the 'Share' dialog for this annotation is currently open. */\n    self.showShareDialog = false;\n    \n    self.url = \"\";\n    \n    self.editingTags = false;\n\n    self.isHightlightsArePrivate = false;\n    self.shareLinks = false;\n\tself.extractTextInsideScreenshot = true; \n    var preferences = store.profile().preferences;\n    if(preferences) {\n        self.isHightlightsArePrivate = preferences[\"WebHighlightsDefaultToPrivate\"] === 'true'  ? true : false;\n        self.shareLinks = preferences[\"shareLinks\"] === 'true'  ? true : false;\n        if(angular.isDefined(preferences[\"extractScreenshotText\"]) ) {\n\t\t\tself.extractTextInsideScreenshot =  preferences[\"extractScreenshotText\"] === 'true'  ? true : false;\n\t\t}\n    }\n    \n\n    /**\n      * `true` if this AnnotationController instance was created as a result of\n      * the highlight button being clicked.\n      *\n      * `false` if the annotation button was clicked, or if this is a highlight\n      * or annotation that was fetched from the server (as opposed to created\n      * new client-side).\n      */\n    newlyCreatedByHighlightButton = self.annotation.$highlight || false;\n    newlyCreatedByScreenshotButton = self.annotation.$screenshot || false;\n\n    // New annotations (just created locally by the client, rather then\n    // received from the server) have some fields missing. Add them.\n    //\n    // FIXME: This logic should go in the `addAnnotations` Redux action once all\n    // required state is in the store.\n    var group = groups.focused();\n    var section = group ? groups.getfocusedSection(group.id): {};\n    self.annotation.user = self.annotation.user || session.state.userid;\n    self.annotation.user_info = self.annotation.user_info || session.state.user_info;\n    self.annotation.group = self.annotation.group || groups.focusedId();\n    self.annotation.sectionId = self.annotation.sectionId || section ? section.id : null;\n    self.annotation.tsClientId = self.annotation.tsClientId || (group ? group.clientId : null);\n    self.annotation.objId = group ? group.objId : null;\n    self.annotation.objClientId = group ? group.objClientId : null;\n    self.annotation.objOwner = group ? group.objOwner : false;\n    self.annotation.webresource = group ? group.webresource : null;\n    if (!self.annotation.permissions) {\n      self.annotation.permissions = permissions.default(self.annotation.user,\n                                                      self.annotation.group);\n    }\n    self.annotation.text = self.annotation.text || '';\n    if (!Array.isArray(self.annotation.tags)) {\n      self.annotation.tags = [];\n    }\n\n    // Automatically save new highlights to the server when they're created.\n    // Note that this line also gets called when the user logs in (since\n    // AnnotationController instances are re-created on login) so serves to\n    // automatically save highlights that were created while logged out when you\n    // log in.\n    saveNewHighlight();\n\n    // If this annotation is not a highlight and if it's new (has just been\n    // created by the annotate button) or it has edits not yet saved to the\n    // server - then open the editor on AnnotationController instantiation.\n    if (!newlyCreatedByHighlightButton /*&& !newlyCreatedByScreenshotButton*/) {\n      if (isNew(self.annotation) || drafts.get(self.annotation)) {\n        self.edit();\n      }\n    }\n  }\n\n  \n /* function updateCoordinates() {\n\t  if(!self.isOrphan() && self.authorize(\"update\")) {\n\t\t var updatedModel = updateModel(self.annotation, self.state(), permissions); \n\t\t var update = api.annotation.updatecoord({}, updatedModel);\n\t\t update.then(function (model) {\n\t\t\tif(model) {\n\t\t\t\tconsole.log(\"Coordinates updated\");\n\t\t\t\tObject.assign(updatedModel, model);\n\t\t\t\tdrafts.remove(self.annotation);\n\t\t\t    var event = events.ANNOTATION_UPDATED;\n\t\t\t    $rootScope.$broadcast(event, updatedModel);\n\t\t\t}\n\t\t  }).catch(function (err) {\n\t\t     \n\t\t  });  \n\t  }\n  }*/\n  \n  /** Save this annotation if it's a new highlight.\n   *\n   * The highlight will be saved to the server if the user is logged in,\n   * saved to drafts if they aren't.\n   *\n   * If the annotation is not new (it has already been saved to the server) or\n   * is not a highlight then nothing will happen.\n   *\n   */\n  function saveNewHighlight() {\n    if (!isNew(self.annotation)) {\n      // Already saved.\n      return;\n    }\n\n    if (!self.isHighlight()/* && !self.isScreenshot()*/) {\n      // Not a highlight,\n      return;\n    }\n\n    if (self.annotation.user) {\n      // User is logged in, save to server.\n      // Highlights are always private.\n     \n\t if(self.isHightlightsArePrivate) {\n   \t   self.annotation.permissions = permissions.private(self.annotation.user);\n     } else {\n       self.annotation.permissions = permissions.shared(self.annotation.user, self.annotation.group); \n     }\n     \n      save(self.annotation).then(function(model) {\n        model.$tag = self.annotation.$tag;\n        $rootScope.$broadcast(events.ANNOTATION_CREATED, model);\n      }).catch(function (err) {\n\t      var type = self.isScreenshot() ? \"Screenshot\" : \"Highlight\" ; \n      \t  flash.error(err.message, 'Saving '+type+' failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n    \t  $timeout(function() {\n    \t\t  store.removeAnnotations([self.annotation]);\n    \t  },true);\n      });\n    } else {\n      // User isn't logged in, save to drafts.\n      flash.error(\n        'You must be logged in to create annotations.',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,}\n      );\n      //drafts.update(self.annotation, self.state());\n\n      $timeout(function() {\n      \tstore.removeAnnotations([self.annotation]);\n      },true);\n     \n    }\n  }\n\n  this.authorize = function(action) {\n\tvar group = groups.focused();\n\tif (group &&  group.permissions) {\n\t\tif(group.permissions.readOnly) {\n\t\t\treturn false;\n\t\t} else if(action == \"read\")  {\n\t\t\treturn group.permissions.view;\n\t\t}     \n\t}\n    return permissions.permits(\n      self.annotation.permissions,\n      action,\n      session.state.userid\n    );\n  };\n  \n  this.isResourceOwner = function(action) {\n    return permissions.permits(\n      self.annotation.permissions,\n      \"resourceOwner\",\n      session.state.userid\n    );\n  };\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#flag\n    * @description Flag the annotation.\n    */\n  this.flag = function() {\n    if (!session.state.userid) {\n      flash.error(\n        'You must be logged in to report an annotation to the moderators.',\n        'Login to flag annotations',\n\t\t{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,}\n      );\n      return;\n    }\n\n    var onRejected = function(err) {\n      flash.error(err.message, 'Flagging annotation failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n    };\n    annotationMapper.flagAnnotation(self.annotation).then(function(){\n      analytics.track(analytics.events.ANNOTATION_FLAGGED);\n      store.updateFlagStatus(self.annotation.id, true);\n    }, onRejected);\n  };\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#delete\n    * @description Deletes the annotation.\n    */\n  this.delete = function() {\n    return $timeout(function() {  // Don't use confirm inside the digest cycle.\n      var msg = 'Are you sure you want to delete this annotation?';\n      var modalOptions = {\n          closeButtonText: 'Cancel',\n          actionButtonText: 'Ok',\n          headerText: 'Delete annotation?',\n          bodyText: msg\n      };\n\n      confirm.showModal({}, modalOptions).then(function (result) {\n    \t    var onRejected = function(err) {\n\t          flash.error(err.message, 'Deleting annotation failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n\t        };\n\t        \n\t        if(self.isReply()) {\n\t        \tself.annotation.annotationType = 'Reply';\n\t        } else if(self.isHighlight()) {\n\t        \tself.annotation.annotationType = 'Highlight';\n\t        } else if(isScreenshot(self.annotation)){\n\t\t    \tself.annotation.annotationType = 'Screenshot';\n\t\t    }else if(isPageNote(self.annotation)){\n\t        \tself.annotation.annotationType = 'Pagenote';\n            } else {\n            \tself.annotation.annotationType = 'Annoatate';\n\t        }\n\t        \n\t        annotationMapper.deleteAnnotation(self.annotation).then(function(){\n\t            var event;\n\t\n\t            if(self.isReply()){\n\t              event = analytics.events.REPLY_DELETED;\n\t            }else if(self.isHighlight()){\n\t              event = analytics.events.HIGHLIGHT_DELETED;\n\t            }else if(isPageNote(self.annotation)){\n\t              event = analytics.events.PAGE_NOTE_DELETED;\n\t            }else {\n\t              event = analytics.events.ANNOTATION_DELETED;\n\t            }\n\t\n\t            analytics.track(event);\n\n           }, onRejected);\n      },function() {\n    \t  \n      });\n      \n    }, true);\n  };\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#edit\n    * @description Switches the view to an editor.\n    */\n  this.edit = function() {\n\tvar group = groups.focused();\n    if (group &&  group.permissions && !group.permissions.readOnly && !drafts.get(self.annotation)) {\n      drafts.update(self.annotation, self.state());\n    }\n  };\n\n   /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#edit\n    * @description Switches the view to an editor.\n    */\n  this.edittags = function() {\n\tvar group = groups.focused();\n\tthis.editingTags = true;\n    if (group &&  group.permissions && !group.permissions.readOnly && !drafts.get(self.annotation)) {\n      drafts.update(self.annotation, self.state());\n    }\n  };\n\n  /**\n   * @ngdoc method\n   * @name annotation.AnnotationController#editing.\n   * @returns {boolean} `true` if this annotation is currently being edited\n   *   (i.e. the annotation editor form should be open), `false` otherwise.\n   */\n  this.editing = function() {\n    return drafts.get(self.annotation) && !self.isSaving ;\n  };\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#group.\n    * @returns {Object} The full group object associated with the annotation.\n    */\n  this.group = function() {\n    return groups.get(self.annotation.group);\n  };\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotaitonController#hasContent\n    * @returns {boolean} `true` if this annotation has content, `false`\n    *   otherwise.\n    */\n  this.hasContent = function() {\n    //return self.state().text.length > 0 || self.state().tags.length > 0;\n    //return self.state().text.length > 0;\n    if(self.annotation) {\n    \tif(self.annotation.references) {\n    \t\treturn self.state().text.length > 0;\n    \t} else if(self.annotation.id) {\n    \t\treturn self.state().text.length > 0 || self.state().tags.length > 0;\n    \t} else {\n\t\t\treturn self.state().text.length > 0 || self.state().tags.length > 0;\n\t\t}\n    }\n    return self.state().text.length > 0;\n  };\n\n\n this.canShowTags = function() {\n\tif(self.canCollapseBody || self.state().tags.length) {\n\t\tif(self.editingTags) {\n\t\t\treturn false;\n\t\t}\t\t\n\t\tif(self.editing()) {\n\t\t\treturn false;\n\t\t}\t\n\t\treturn true;\n\t}\t\n\treturn false;\n };\n\n this.quoteWithoutText = function() {\n\tif(self.trustedWithoutTxt) {\n\t\treturn self.trustedWithoutTxt;\n\t}\n\t\n\tif(self.isScreenshot()) {\n\t\tif(self.annotation.formatedText) {\n\t\t\tself.trustedWithoutTxt =  renderMarkdown(self.annotation.formatedText || '', $sanitize);\n\t\t\treturn self.trustedWithoutTxt;\n\t\t} \n\t\t\n\t\tif(self.annotation.screenshotUrl) {\n\t\t\tvar img = \"<img src='\"+self.annotation.screenshotUrl+\"'>\";\n\t\t\tself.trustedWithoutTxt =  $sce.trustAsHtml(img);\n\t\t\treturn self.trustedWithoutTxt;\n\t\t} \n\t}\n  }\n\n  /**\n    * Return the annotation's quote if it has one or `null` otherwise.\n    */\n  this.quote = function() {\n    /*if (self.annotation.target.length === 0) {\n      return null;\n    }\n    var target = self.annotation.target[0];\n    if (!target.selector) {\n      return null;\n    }\n    var quoteSel = target.selector.find(function (sel) {\n      return sel.type === 'TextQuoteSelector';\n    });\n    return quoteSel ? quoteSel.exact : null;*/\n\t\n\tif(self.trusted) {\n\t\treturn self.trusted;\n\t}\n\t\n\tif(self.isScreenshot()) {\n\t\tvar txt = self.annotation.annotatedText ? \"<p>\"+self.annotation.annotatedText+\"</p>\" : \"\";\n\t\tvar fmtTxt =  self.annotation.formatedText || \"\";\n\t\tif(fmtTxt) {\n\t\t\tself.trusted = renderMarkdown((fmtTxt+txt) || '', $sanitize);\n\t\t} else if(self.annotation.screenshotUrl) {\n\t\t\tvar img = \"<img src='\"+self.annotation.screenshotUrl+\"'>\"+txt;\n\t\t\tself.trusted = $sce.trustAsHtml(img);\n\t\t}\n\t\treturn self.trusted;\n\t}\n\t\n\tif(self.annotation.formatedText) {\n\t\tself.trusted = renderMarkdown(self.annotation.formatedText || '', $sanitize);\n\t\treturn self.trusted;\n\t}\n\t\n\tif(self.annotation.annotatedText) {\n\t\tself.trusted = $sce.trustAsHtml(self.annotation.annotatedText);\n\t\treturn self.trusted;\n\t}\n\t\n\t//return self.trusted || (self.trusted = $sce.trustAsHtml(self.annotation.annotatedText));\n  };\n\n  this.quoteAsHtml = function() {\n\tif(self.trustedHtml) {\n\t\treturn self.trustedHtml;\n\t} else {\n\t\tself.trustedHtml = \"\";\n\t}\n\t\n\tif(self.annotation.htmlText) {\n\t\tvar html = \"<div style='margin-top:20px;border-top:1px solid #069;'>\"+self.annotation.htmlText+\"</div>\";\n\t\tself.trustedHtml = $sce.trustAsHtml(html);\n\t} \n\treturn self.trustedHtml;\n  };\n\n  this.id = function() {\n    return self.annotation.id;\n  };\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#isHighlight.\n    * @returns {boolean} true if the annotation is a highlight, false otherwise\n    */\n  this.isHighlight = function() {\n    if (newlyCreatedByHighlightButton) {\n      return true;\n    } else if (isNew(self.annotation)) {\n      return false;\n    } else {\n      // Once an annotation has been saved to the server there's no longer a\n      // simple property that says whether it's a highlight or not. Instead an\n      // annotation is considered a highlight if it has a) content and b) is\n      // linked to a specific part of the document.\n      if (isPageNote(self.annotation) || isReply(self.annotation) /*|| isScreenshot(self.annotation)*/) {\n        return false;\n      }\n      if (self.annotation.hidden) {\n        // Annotation has been censored so we have to assume that it had\n        // content.\n        return false;\n      }\n      return !self.hasContent();\n    }\n  };\n\n  this.isScreenshot = function() {\n\t\n\tif (newlyCreatedByScreenshotButton || isScreenshot(self.annotation)) {\n      return true;\n    } \n\t\n\treturn false;\n};\n\n  this.isNew = function() {\n\treturn isNew(self.annotation);\n};\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#isShared\n    * @returns {boolean} True if the annotation is shared (either with the\n    * current group or with everyone).\n    */\n  this.isShared = function() {\n    return !self.state().isPrivate;\n  };\n\n  // Save on Meta + Enter or Ctrl + Enter.\n  this.onKeydown = function (event) {\n    if (event.keyCode === 13 && (event.metaKey || event.ctrlKey)) {\n      event.preventDefault();\n      self.save();\n    }\n  };\n\n  this.toggleCollapseBody = function(event) {\n    event.stopPropagation();\n    self.collapseBody = !self.collapseBody;\n  };\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#reply\n    * @description\n    * Creates a new message in reply to this annotation.\n    */\n  this.reply = function() {\n    var references = (self.annotation.references || []).concat(self.annotation.id);\n    var group = self.annotation.group;\n    var replyPermissions;\n    var userid = session.state.userid;\n    if (userid) {\n      replyPermissions = self.state().isPrivate ?\n        permissions.private(userid) : permissions.shared(userid, group);\n    }\n    annotationMapper.createAnnotation({\n      group: group,\n      references: references,\n      permissions: replyPermissions,\n      target: [{source: self.annotation.uri }],\n      uri: self.annotation.uri,\n    });\n  };\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#revert\n    * @description Reverts an edit in progress and returns to the viewer.\n    */\n  this.revert = function() {\n    drafts.remove(self.annotation);\n    this.editingTags = false;\n    if (isNew(self.annotation)) {\n      $rootScope.$broadcast(events.ANNOTATION_DELETED, self.annotation);\n    }\n  };\n\n  this.save = function() {\n    if (!self.annotation.user) {\n      flash.info('Please log in to save your annotations.');\n      return Promise.resolve();\n    }\n    if (!self.hasContent() && self.isShared()) {\n      flash.info('Please add text or a tag before publishing.');\n      return Promise.resolve();\n    }\n    \n    var updatedModel = updateModel(self.annotation, self.state(), permissions);\n\n    // Optimistically switch back to view mode and display the saving\n    // indicator\n    self.isSaving = true;\n\n    return save(updatedModel).then(function (model) {\n      Object.assign(updatedModel, model);\n\n      self.isSaving = false;\n      self.editingTags = false;\n\n      var event = isNew(self.annotation) ?\n        events.ANNOTATION_CREATED : events.ANNOTATION_UPDATED;\n      drafts.remove(self.annotation);\n\n      $rootScope.$broadcast(event, updatedModel);\n    }).catch(function (err) {\n      self.isSaving = false;\n      self.edit();\n      flash.error(err.message, 'Saving annotation failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n    });\n  };\n\n\n this.saveWithoutComment = function() {\n    if (!self.annotation.user) {\n      flash.info('Please log in to save your annotations.');\n      return Promise.resolve();\n    }\n   /* if (!self.hasContent() && self.isShared()) {\n      flash.info('Please add text or a tag before publishing.');\n      return Promise.resolve();\n    }*/\n    \n    var updatedModel = updateModel(self.annotation, self.state(), permissions);\n\n    // Optimistically switch back to view mode and display the saving\n    // indicator\n    self.isSaving = true;\n\n    return save(updatedModel).then(function (model) {\n      Object.assign(updatedModel, model);\n\n      self.isSaving = false;\n\n      var event = isNew(self.annotation) ?\n        events.ANNOTATION_CREATED : events.ANNOTATION_UPDATED;\n      drafts.remove(self.annotation);\n\n      $rootScope.$broadcast(event, updatedModel);\n    }).catch(function (err) {\n      self.isSaving = false;\n      self.edit();\n      flash.error(err.message, 'Saving annotation failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n    });\n  };\n\n\n  /**\n    * @ngdoc method\n    * @name annotation.AnnotationController#setPrivacy\n    *\n    * Set the privacy settings on the annotation to a predefined\n    * level. The supported levels are 'private' which makes the annotation\n    * visible only to its creator and 'shared' which makes the annotation\n    * visible to everyone in the group.\n    *\n    * The changes take effect when the annotation is saved\n    */\n  this.setPrivacy = function(privacy) {\n    // When the user changes the privacy level of an annotation they're\n    // creating or editing, we cache that and use the same privacy level the\n    // next time they create an annotation.\n    // But _don't_ cache it when they change the privacy level of a reply.\n    if (!isReply(self.annotation)) {\n      permissions.setDefault(privacy);\n    }\n    drafts.update(self.annotation, {\n      tags: self.state().tags,\n      text: self.state().text,\n      isPrivate: privacy === 'private',\n      group: self.state().group,\n      tsClientId: self.state().tsClientId,\n      objId: self.state().objId,\n      objClientId: self.state().objClientId,\n      webresource: self.state().webresource,\n      objOwner:  self.state().objOwner,\n      permissions: self.state().permissions,\n      coordinates: self.state().coordinates,\n    });\n  };\n\n  this.tagSearchURL = function(tag) {\n    if (this.isThirdPartyUser()) {\n      return null;\n    }\n    return serviceUrl('search.tag', {tag: tag});\n  };\n\n  this.isOrphan = function() {\n    if (typeof self.annotation.$orphan === 'undefined') {\n      return self.annotation.$anchorTimeout;\n    }\n    return self.annotation.$orphan;\n  };\n\n  this.user = function() {\n    return self.annotation.user;\n  };\n\n  this.isThirdPartyUser = function () {\n    return isThirdPartyUser(self.annotation.user, settings.authDomain);\n  };\n\n  this.isDeleted = function () {\n    return streamer.hasPendingDeletion(self.annotation.id);\n  };\n\n  this.isHiddenByModerator = function () {\n    return self.annotation.hidden;\n  };\n\n  this.canFlag = function () {\n    // Users can flag any annotations except their own.\n    return session.state.userid !== self.annotation.user;\n  };\n\n  this.isFlagged = function() {\n    return self.annotation.flagged;\n  };\n\n  this.isSharable = function() {\n\t  var shareLinks = false;\n\t  if(store.profile().preferences) {\n\t\t  shareLinks = store.profile().preferences[\"shareLinks\"] === 'true'  ? true : false;\n\t  };\n\t  return shareLinks\n  };\n  \n  this.isReply = function () {\n    return isReply(self.annotation);\n  };\n  \n  this.canReply = function () {\n\tvar group = groups.focused();\n    if (group &&  group.permissions && !group.permissions.readOnly) {\n\t  return true;\n    }\n    return false;\n  };\n  \n  this.canShare = function () {\n\tvar group = groups.focused();\n    if (group &&  group.permissions && group.permissions.share) {\n\t  return true;\n    }\n    return false;\n  };\n\n  this.incontextLink = function () {\n    if (self.annotation.links) {\n      return true;\n    }\n    return false;\n  };\n  \n  this.getIncontextLink = function () {\n\t/*  var postdata = {\n\t\t\t \"uri\" :  self.annotation.uri,\n\t\t\t \"group\" :  self.annotation.group,\n\t\t\t \"tsClientId\" :  self.annotation.tsClientId,\n\t\t\t \"objId\" :  self.annotation.objId,\n\t\t\t \"objClientId\" :  self.annotation.objClientId,\n\t\t\t \"annotationId\" :  self.annotation.id,\n\t\t\t \"text\" :  self.annotation.text\n\t  };\n\t  var link = api.annotation.link({}, postdata);\n\t  \n\t  return link.then(function (linkresp) {\n\t\t  self.showShareDialog = true;\n\t\t  self.url = linkresp.link;\n\t  }).catch(function (err) {\n      \t  flash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n      });*/\n\t  \n\t  $scope.$emit(\"linkshare\",{\"annotationId\": self.annotation.id});\n  };\n\n  /**\n   * Sets whether or not the controls for expanding/collapsing the body of\n   * lengthy annotations should be shown.\n   */\n  this.setBodyCollapsible = function (canCollapse) {\n    if (canCollapse === self.canCollapseBody) {\n      return;\n    }\n    self.canCollapseBody = canCollapse;\n\n    // This event handler is called from outside the digest cycle, so\n    // explicitly trigger a digest.\n    $scope.$digest();\n  };\n\n  this.setText = function (text) {\n    drafts.update(self.annotation, {\n      isPrivate: self.state().isPrivate,\n      tags: self.state().tags,\n      text: text,\n      group: self.state().group,\n      tsClientId: self.state().tsClientId,\n      objId: self.state().objId,\n      objClientId: self.state().objClientId,\n\t  webresource: self.state().webresource,\n      objOwner:  self.state().objOwner,\n      permissions: self.state().permissions,\n      coordinates: self.state().coordinates,\n    });\n  };\n\n  this.updateAnnotaion = function() {\n\t  \n\t  var group = groups.focused();\n      var section = group ? groups.getfocusedSection(group.id): null;\n\t  drafts.update(self.annotation, {\n\t      isPrivate: self.state().isPrivate,\n\t      tags: self.state().tags,\n\t      text: self.state().text,\n\t      group: groups.focusedId(),\n          sectionId: section ? section.id : null,\n\t      tsClientId: group ? group.clientId : null,\n\t      objId: group ? group.objId : null,\n\t      objClientId: group ? group.objClientId : null,\n\t\t  webresource: group ? group.webresource : null,\n          objOwner:   group ? group.objOwner : false,\n\t      permissions: permissions.default(self.annotation.user,groups.focusedId()),\n\t      coordinates: self.state().coordinates,\n\t  });\n  };\n  \n  this.setTags = function (tags) {\n    drafts.update(self.annotation, {\n      isPrivate: self.state().isPrivate,\n      tags: tags,\n      text: self.state().text,\n      group: self.state().group,\n      tsClientId: self.state().tsClientId,\n      objId: self.state().objId,\n      objClientId: self.state().objClientId,\n      webresource: self.state().webresource,\n      objOwner:   self.state().objOwner,\n      permissions: self.state().permissions,\n      coordinates: self.state().coordinates,\n    });\n  };\n\n  this.state = function () {\n    var draft = drafts.get(self.annotation);\n    if (draft) {\n      return draft;\n    }\n    return {\n      tags: self.annotation.tags,\n      text: self.annotation.text,\n      isPrivate: !permissions.isShared(self.annotation.permissions,self.annotation.user),\n      group: self.annotation.group,\n      tsClientId: self.annotation.tsClientId,\n      objId: self.annotation.objId,\n      objClientId: self.annotation.objClientId,\n      webresource: self.annotation.webresource,\n      objOwner:   self.annotation.objOwner,\n      permissions: self.annotation.permissions,\n      coordinates: self.annotation.coordinates,\n    };\n  };\n\n  /**\n   * Return true if the CC 0 license notice should be shown beneath the\n   * annotation body.\n   */\n  this.shouldShowLicense = function () {\n    /*if (!self.editing() || !self.isShared()) {\n      return false;\n    }\n    return self.group().type !== 'private';*/\n\treturn false;\n  };\n\n  init();\n}\n\nmodule.exports = {\n  controller: AnnotationController,\n  controllerAs: 'vm',\n  bindings: {\n    annotation: '<',\n    showDocumentInfo: '<',\n    onReplyCountClick: '&',\n    replyCount: '<',\n    isCollapsed: '<',\n    linkshare:'&',\n  },\n  template: require('../templates/annotation.html'),\n\n  // Private helper exposed for use in unit tests.\n  updateModel: updateModel,\n};\n",
    "'use strict';\r\nvar events = require('../events');\r\n// @ngInject\r\nfunction ClipperControlesController($rootScope,$scope, frameSync, $location, $timeout,\r\n\t\tjuice, $document,flash,api,groups,confirm) {\r\n\tvar self = this;\r\n\tthis.editClip = false;\r\n\tthis.webClip = null;\r\n\tthis.clipname = null;\r\n\t\r\n\t$scope.$on(\"webClipChanged\", function (event, article) {\r\n\t\tself.getClip();\r\n\t});\r\n\t\r\n\t$scope.$on('$destroy', function() {\r\n\t\tframeSync.closeClipper();\r\n\t});\r\n\t\r\n\t$scope.$on(events.GROUP_FOCUSED, function (event, focusedGroupId) {\r\n\t\tframeSync.closeClipper();\r\n\t    init();\r\n    });\r\n\t\r\n\tthis.slider = {\r\n\t\t\tvalue: 0.6,\r\n\t\t\toptions: {\r\n\t\t\t    floor: 0.1,\r\n\t\t\t    ceil: 0.75,\r\n\t\t\t    step:0.05,\r\n\t\t\t    precision: 2,\r\n\t\t\t    onEnd: function() {\r\n\t\t            self.getClip();\r\n\t\t        }\r\n\t\t\t}\r\n\t};\r\n\t\r\n\tthis.isSavedClip = function() {\r\n\t\tif(self.webClip && self.webClip.clipUrl) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\t\r\n\tfunction saveClip() {\r\n\t\ttry{\r\n\t\t\tvar doc = juice.inlineCss(self.article);\r\n\t\t\tvar group = groups.focused();\r\n\t\t\tvar webclip = {\r\n\t\t\t\t \"group\": group.id,\r\n\t\t\t\t \"tsClientId\": group.clientId,\r\n\t\t\t\t \"uri\" : self.article.url,\r\n\t\t\t\t \"content\": doc,\r\n\t\t\t\t \"title\" : self.clipname,\r\n\t\t\t\t \"type\" : \"WebClip\",\r\n\t\t\t\t \"objId\" : group ? group.objId : null,\r\n\t\t\t     \"objClientId\" : group ? group.objClientId : null,\r\n\t\t\t     \"score\" : self.slider.value,\r\n\t\t\t     \"log\" : self.article.log\r\n\t\t\t};\r\n\t\t\t\r\n\t\t\tif(self.webClip) {\r\n\t\t\t\twebclip.clipId = self.webClip.objectId;\r\n\t\t\t\twebclip.clipClientId = self.webClip.clientId;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tapi.webclip.create({}, webclip).then(function(resp){\r\n\t\t\t\tflash.success(' Clip Successful');\r\n\t\t\t\tself.close();\r\n\t\t\t\tself.webClip = resp.webClip;\r\n\t\t\t\tgroup.webClip = resp.webClip;\r\n\t    \t}).catch(function (err) {\r\n\t    \t\tflash.error(err+' Saving Web Clip Failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t        });\r\n\t\t} catch(e) {\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t\r\n\tthis.saveClip = function() {\r\n\t\tif (self.auth && self.auth.status === 'logged-in') {\r\n\t\t\tvar group = groups.focused();\r\n\t\t\tif(group) {\r\n\t\t\t\tif(self.webClip) {\r\n\t\t\t\t\tif(self.webClip.annotationCount) {\r\n\t\t\t\t\t  var msg = 'Previous Annotaions will be deleted ,Are you sure you want to save WebClip?';\r\n\t\t\t\t      var modalOptions = {\r\n\t\t\t\t          closeButtonText: 'Cancel',\r\n\t\t\t\t          actionButtonText: 'Ok',\r\n\t\t\t\t          headerText: 'Retake WebClip?',\r\n\t\t\t\t          bodyText: msg\r\n\t\t\t\t      };\r\n\t\t\t\t      confirm.showModal({}, modalOptions).then(function (result) {\r\n\t\t\t\t    \t  saveClip();\r\n\t\t\t\t      },\r\n\t\t\t\t      function() {\r\n\t\t\t\t    \t  \r\n\t\t\t\t      });\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tsaveClip();\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveClip();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tflash.error('Please Select Group',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t}\r\n\t\t}else {\r\n\t\t\tflash.error('Login to Save clip',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t}\r\n\t};\r\n\r\n\tthis.getClip = function() {\r\n\t\tframeSync.getClip({closeScore: self.slider.value});\r\n\t};\r\n\t\r\n\tthis.close = function() {\r\n\t\tframeSync.closeClipper();\r\n\t\tself.editClip = false;\r\n\t}\r\n\t\r\n\tthis.retakeClip = function() {\r\n\t\tframeSync.showClipper();\r\n\t\tself.editClip = true;\r\n\t};\r\n\t\r\n\t$scope.$watch(angular.bind(this, function () {\r\n\t\t  return this.article;\r\n\t}), function (article) {\r\n\t\tif(self.webClip) {\r\n\t\t\tself.clipname = angular.copy(self.webClip.name);\r\n\t\t} else if(article) {\r\n\t\t\tself.clipname = angular.copy(article.title); \r\n\t\t}\r\n\t}, true);\r\n\t  \r\n\t\r\n\t\r\n\tfunction init() {\r\n\t\tframeSync.showClipper();\r\n\t\t$timeout(function(){\r\n\t\t\tvar group = groups.focused();\r\n\t\t\tif(group) {\r\n\t\t\t\tself.webClip = group.webClip;\r\n\t\t\t\tif(self.webClip) {\r\n\t\t\t\t\tself.clipname = angular.copy(self.webClip.name);\r\n\t\t\t\t\tself.close();\r\n\t\t\t\t} else if(self.article) {\r\n\t\t\t\t\tself.clipname = angular.copy(self.article.title);\r\n\t\t\t\t\tself.retakeClip(); \r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},0);\r\n\t}\r\n\t\r\n\tinit();\r\n}\r\n\r\nmodule.exports = {\r\n\tcontroller : ClipperControlesController,\r\n\tcontrollerAs : 'vm',\r\n\tbindings : {\r\n\t\tauth : '<',\r\n\t\tarticle : '=',\r\n\t},\r\n\ttemplate : require('../templates/clipper-controles.html'),\r\n};\r\n",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction ConfirmLinkPublish($modalInstance) {\r\n\tvar self = this;\r\n\t\r\n\t// Methods\r\n\tself.confirmAction = confirmAction;\r\n\tself.cancel = cancel;\r\n\t\t\t\r\n\tfunction confirmAction(action) {\r\n\t\t$modalInstance.close({\"action\" : action});\r\n\t}\r\n\t\r\n\tfunction cancel() {\r\n\t\t$modalInstance.dismiss(\"cancel\");\r\n\t}\r\n}\r\n\r\nmodule.exports = ConfirmLinkPublish;",
    "'use strict';\r\n\r\n\r\n//@ngInject\r\nfunction CookieErrorController($scope, api, groups, settings,$window) {\r\n  var self = this;\r\n  \r\n \r\n  self.tab = 1;\r\n\r\n  self.setTab = function(newTab){\r\n\t  self.tab = newTab;\r\n  };\r\n\r\n  self.isSet = function(tabNum){\r\n    return self.tab === tabNum;\r\n  };\r\n  \r\n  self.getCookieErrorMessage = function() {\r\n\tlet domain =  settings.authDomain ? new URL(settings.authDomain).hostname : \"\";\r\n\treturn \"Your browser seems to have disabled third-party cookies. Make sure \\\"\"+domain+\"\\\" cookies are enabled.Refresh the page once enabled\";  \r\n  };\r\n}\r\n\r\nmodule.exports = {\r\n  controller: CookieErrorController,\r\n  controllerAs: 'vm',\r\n  bindings: {\r\n    onClose: '&',\r\n    auth: '=',\r\n  },\r\n  template: require('../templates/cookie-error-dialog.html'),\r\n};\r\n",
    "'use strict';\r\n\r\n\r\n/* @ngInject */\r\nfunction CreateGroupDialogController($scope, api, groups, flash, settings, $window,store) {\r\n\t'ngInject';\r\n\tvar self = this;\r\n\t\r\n\tvar sharedObjectsList = [];\r\n\t\r\n\tself.newTaskSpace;\r\n\tself.sharedUserList = [];\r\n\tself.NonNumiciUsers = [];\r\n\tself.NonNumiciUsersCanNotBeShared = [];\r\n\tself.targetOrg = {\"type\" : \"sharedorg\"};\r\n\t\r\n\tself.tab = 1;\r\n\tself.taskSpaceName;\r\n\tself.companiesList = [];\r\n\tself.selectedTicker = {\r\n\t\t'tickerObj' : null\r\n\t};\r\n\tself.user_ShareObjAcrossOrg = \"Yes\";\r\n\tself.items = null;\r\n\tself.permSet;\r\n\tself.loggedInUser = null;\r\n\tself.userPerms = {};\r\n\tself.userPerms.users = [];\r\n\tself.userPerms.grantedPerms = [\"Edit\"];\r\n\tself.sharePropagateLable = \"Sharable\";\r\n\tself.Users = [];\r\n\tself.propagateShare = false;\r\n\tself.disablePropagateShare = false;\r\n\tself.isInviteFormSubmiting = false;\r\n\t\r\n\t// Methods\r\n\tself.getSuggestedName = getSuggestedName;\r\n\tself.refreshTickers = refreshTickers;\r\n\tself.clear = clear;\r\n\r\n\tself.tagTransform = tagTransform;\r\n\tself.getSelectedUserName = getSelectedUserName;\r\n\tself.selectPerms = selectPerms;\r\n\t\r\n\tfunction isEmpty(str) {\r\n\t\t return (!str || /^\\s*$/.test(str));\r\n\t}\r\n\t\r\n\t\r\n\t self.setTab = function(newTab){\r\n\t\t self.tab = newTab;\r\n\t };\r\n\r\n\t self.isSet = function(tabNum){\r\n\t    return self.tab === tabNum;\r\n\t };\r\n\t  \r\n\t\r\n\tfunction getSuggestedName () {\r\n\t\tvar suggestedName = self.taskSpaceName;\r\n\t\t\r\n\t\tif(self.selectedTicker.tickerObj && self.selectedTicker.tickerObj.ticker && self.selectedTicker.tickerObj.ticker != null && self.selectedTicker.tickerObj.ticker != \"\") {\r\n\t\t\tsuggestedName = self.selectedTicker.tickerObj.ticker+\" - \";\r\n\t\t\t\r\n\t\t\tif(self.taskSpaceName) {\r\n\t\t\t\tsuggestedName += self.taskSpaceName;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn suggestedName;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction refreshTickers(searchKey) {\r\n\t\t if(!isEmpty(searchKey)) {\r\n\t\t\t api.group.tickers({},{\"searchTxt\":searchKey}).then(function(data){\r\n\t\t\t\t if(data) {\r\n\t\t\t\t\tself.companiesList = data.tickers;\r\n\t\t\t\t }\r\n\t\t\t });\r\n\t\t }\r\n\t}\r\n\t\r\n\tfunction clear($event) {\r\n\t\tif($event) {\r\n\t\t\t$event.stopPropagation(); \r\n\t\t}\r\n\t    self.selectedTicker.tickerObj = null;\r\n\t}\r\n\t\r\n\tfunction processSharedObjectsList() {\r\n\t\t/*for(var i=0; i<sharedObjectsList.length;i++) {\r\n\t\t\tif(sharedObjectsList[i].isInvited) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}*/\r\n\t\tself.close();\r\n\t}\r\n\t\r\n\tself.close = function() {\r\n\t\tif(self.newTaskSpace) {\r\n\t\t\tgroups.load(self.newTaskSpace.id);\r\n\t\t}\r\n\t\tself.onClose();\r\n\t};\r\n\t\r\n\tself.checkEventAndCreateNewTS = function(event) {\r\n\t\tvar keyCode = event.which || event.keyCode; \r\n\t    if (keyCode === 13) { \r\n\t    \tif(self.taskSpaceName) {\r\n    \t\t\tself.create();\r\n    \t\t}\t\r\n\t    }\r\n\t};\r\n\t\r\n\tself.inviteExternalUsers = function() {\r\n\t\tself.isInviteFormSubmiting = true;\r\n\t\tif(self.newTaskSpace) {\r\n\t\t\tvar sharePostdata = {};\r\n\t\t\tvar objectList = [];\r\n\t\t\tvar usersList = {};\r\n\t\t\tvar obj = {\r\n\t\t\t\t      \"objectType\": \"Taskspace\",\r\n\t\t\t\t      \"objectId\": self.newTaskSpace.id,\r\n\t\t\t\t      \"clientId\": self.newTaskSpace.clientId\r\n\t\t\t\t    };\r\n\t\t\tobjectList.push(obj); \r\n\t\t\tsharePostdata[\"objectList\"] = objectList;\r\n\t\t\tif (self.NonNumiciUsers.length > 0 && self.userPerms.grantedPerms.length > 0 ) { \r\n\t\t\t\t var usersList = {};\r\n\t\t\t\t for(var i=0;i<self.NonNumiciUsers.length;i++) {\r\n\t\t\t\t\t usersList[self.NonNumiciUsers[i].loginId] = {\r\n\t\t\t\t\t\t\t  \"permissions\" : self.userPerms.grantedPerms[0],\r\n\t\t\t\t\t\t\t  \"propagateShare\" : self.propagateShare\r\n\t\t\t\t\t  };\r\n\t\t\t\t }\r\n\t\t\t\t sharePostdata[\"userList\"] = usersList;\r\n\t\t\t\t sharePostdata[\"targetOrg\"] = self.targetOrg.type;\r\n\t\t\t\t api.group.inviteProvisionalUsers({},sharePostdata).then(function(resp){\r\n\t\t\t\t\t  if(resp) {\r\n\t\t\t\t\t\t  self.isInviteFormSubmiting = false;\r\n\t\t\t\t\t\t  handelSharedInfo(resp);\r\n\t\t\t\t\t  }\r\n\t\t\t\t }).catch(function (err) {\r\n\t\t\t      \t  flash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t     });\r\n\t\t\t }\r\n\t\t}\r\n\t};\r\n\t\r\n\tfunction handelSharedInfo(resp) {\r\n\t\t if(angular.isArray(resp.Results) && resp.Results.length > 0) {\r\n\t\t\t sharedObjectsList = sharedObjectsList.concat(resp.Results);\r\n\t\t }\r\n\t\t if(angular.isArray(resp.sharedUsers)) {\r\n\t\t\t self.sharedUserList = self.sharedUserList.concat(resp.sharedUsers);\r\n\t\t }\r\n\t\t if(angular.isArray(resp.NonNumiciUsers) && resp.NonNumiciUsers.length > 0) {\r\n\t\t\t for(var i=0;i<resp.NonNumiciUsers.length;i++) {\r\n\t\t\t\t resp.NonNumiciUsers[i] = {\r\n\t\t\t\t\t\t \"selected\": false,\r\n\t\t\t\t\t\t \"loginId\":  resp.NonNumiciUsers[i]\r\n\t\t\t\t };\r\n\t\t\t }\r\n\t\t\t self.NonNumiciUsers = resp.NonNumiciUsers;\r\n\t\t\t self.setTab(2);\r\n\t\t } else if(angular.isArray(resp.NonNumiciUsersCanNotBeShared) && resp.NonNumiciUsersCanNotBeShared.length > 0) {\r\n\t\t\t\t for(var i=0;i<resp.NonNumiciUsersCanNotBeShared.length;i++) {\r\n\t\t\t\t\t resp.NonNumiciUsersCanNotBeShared[i] = {\r\n\t\t\t\t\t\t\t \"loginId\":  resp.NonNumiciUsersCanNotBeShared[i]\r\n\t\t\t\t\t };\r\n\t\t\t\t }\r\n\t\t\t\t self.NonNumiciUsersCanNotBeShared = resp.NonNumiciUsersCanNotBeShared;\r\n\t\t\t\t self.setTab(3);\r\n\t\t } else if(angular.isArray(sharedObjectsList) && sharedObjectsList.length > 0) {\r\n\t\t\t processSharedObjectsList();\r\n\t\t }\r\n\t}\r\n\t\r\n\t\r\n\tfunction invite(postdata) {\r\n\t\tif(self.newTaskSpace) {\r\n\t\t\tvar sharePostdata = {};\r\n\t\t\tvar objectList = [];\r\n\t\t\tvar usersList = {};\r\n\t\t\tvar obj = {\r\n\t\t\t\t      \"objectType\": \"Taskspace\",\r\n\t\t\t\t      \"objectId\": self.newTaskSpace.id,\r\n\t\t\t\t      \"clientId\": self.newTaskSpace.clientId\r\n\t\t\t\t    };\r\n\t\t\tobjectList.push(obj); \r\n\t\t\tsharePostdata[\"objectList\"] = objectList;\r\n\t\t\tsharePostdata[\"userList\"] = getSharedWith();\r\n\t\t\t\r\n\t\t\tapi.group.invite({},sharePostdata).then(function(resp) {\r\n\t\t\t\tif(resp) {\r\n\t\t\t\t\thandelSharedInfo(resp);\r\n\t\t\t\t}\r\n\t\t\t}).catch(function (err) {\r\n\t\t      \tflash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t    });\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createNewTaskSpace(postdata) {\r\n\t\tapi.group.create({},postdata).then(function(resp) {\r\n\t\t\tif(resp && resp.group && resp.group.id) {\r\n\t\t\t\tself.newTaskSpace = resp.group;\r\n\t\t\t\tif(self.userPerms.users && !angular.equals([],self.userPerms.users)) {\r\n\t\t\t\t\tvar profile = store.profile();\r\n\t\t\t\t\tif(profile && profile.user_info && profile.user_info.is_shard_organization) {\r\n\t\t\t\t\t\tself.is_shard_organization = profile.user_info.is_shard_organization;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinvite();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).catch(function (err) {\r\n\t      \tflash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t    });\r\n\t}\r\n\t\r\n\tself.disableShare = function() {\r\n\t\tvar status = true;\r\n\t\tif(!self.isInviteFormSubmiting) {\r\n\t\t\tfor(var i=0;i< self.NonNumiciUsers.length; i++) {\r\n\t\t\t\tif(self.NonNumiciUsers[i].selected) {\r\n\t\t\t\t\tstatus = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn status;\r\n\t};\r\n\t\r\n\tfunction getSharedWith() {\r\n\t\tvar usersList = {};\r\n\t\tfor(var i=0;i<self.userPerms.users.length;i++) {\r\n\t\t\tusersList[self.userPerms.users[i]] = {\r\n\t\t\t\t\t \"permissions\" : self.userPerms.grantedPerms[0],\r\n\t\t\t\t\t \"propagateShare\" : false  // self.propagateShare\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\treturn usersList ;\r\n\t}\r\n\t\r\n\tself.create = function() {\r\n\t\tvar postdata = {};\r\n\t\tif(self.taskSpaceName) {\r\n\t\t\tpostdata[\"name\"] = self.taskSpaceName;\r\n\t\t}\r\n\t\t/*if(self.selectedTicker.tickerObj) {\r\n\t\t\tpostdata[\"tickers\"] = [self.selectedTicker.tickerObj.ticker];\r\n\t\t}*/\r\n\t\t\r\n\t\tif(self.taskSpaceName) {\r\n\t\t\tcreateNewTaskSpace(postdata);\r\n\t\t}\r\n  };\r\n\r\n  function init() {\r\n\t  getPermissionSet();\r\n\t  listUsers();\r\n  }\r\n  \r\n  \r\n  function tagTransform(tagname) {\r\n\t\t var item = {}; \t\r\n\t\t return item = {\r\n\t\t  \t\t\"loginId\":tagname,\r\n\t\t  \t\t\"firstName\" : tagname,\r\n\t\t  \t\t\"lastName\" : \"\",\r\n\t\t  \t\t\"isNew\" : true\r\n\t\t  \t};\r\n\t }\r\n\t \r\n\t function getSelectedUserName(user) {\r\n\t\t var userName = \"\";\t\r\n\t\t if(!isEmpty(user.firstName) && !isEmpty(user.lastName)) {\r\n\t\t\t userName = user.firstName+\" \"+user.lastName;\r\n\t\t } else if(isEmpty(user.firstName) && isEmpty(user.firstName)) {\r\n\t\t\t userName = user.loginId;\r\n\t\t } else if(!isEmpty(user.firstName)) {\r\n\t\t\t userName = user.firstName;\r\n\t\t } else if(!isEmpty(user.lastName)) {\r\n\t\t\t userName = user.lastName;\r\n\t\t }\r\n\t\t return userName;\r\n\t }\r\n\t \r\n\tfunction getPermissionSet() {\r\n\t\tapi.group.permSet().then(function(resp) {\r\n\t\t\t if(resp && resp.permSet && resp.permSet.length > 0) {\r\n\t\t\t\t self.permSet = resp.permSet;\r\n\t\t\t\t for(var i=0; i<self.permSet;i++) {\r\n\t\t\t\t\t if(angular.equals(\"edit\",self.permSet[i].toLowerCase())) {\r\n\t\t\t\t\t\t self.userPerms.grantedPerms = [self.permSet[i]]; \r\n\t\t\t\t\t\t break;\r\n\t\t\t\t\t }\r\n\t\t\t\t } \r\n\t\t\t }\r\n\t\t}).catch(function (err) {\r\n\t      \t flash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t    });\r\n\t }\r\n\t  \r\n\tfunction listUsers() {\r\n\t\t api.group.listUsers().then(function(resp) {\r\n\t\t\t if(resp) {\r\n\t\t\t\t self.Users = resp.users;\r\n\t\t\t\t for(var i=0;i<self.Users.length;i++) {\r\n\t\t\t\t\t self.Users[i].hasPermission = false;\r\n\t\t\t\t }\r\n\t\t\t }\r\n\t\t }).catch(function (err) {\r\n\t      \t flash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t     });\r\n\t\t \r\n\t}\r\n\t \r\n\t function selectPerms (selected){\r\n\t\t if(selected.toLowerCase() == \"edit\") {\r\n\t\t\t self.propagateShare = true;\r\n\t\t\t self.disablePropagateShare = true;\r\n\t\t } else if(selected.toLowerCase() == \"view\") {\r\n\t\t\t self.propagateShare = false;\r\n\t\t\t self.disablePropagateShare = false;\r\n\t\t }\r\n\t }\r\n  \r\n  init();\r\n}\r\n\r\nmodule.exports = {\r\n  controller: CreateGroupDialogController,\r\n  controllerAs: 'vm',\r\n  bindings: {\r\n    onClose: '&',\r\n  },\r\n  template: require('../templates/create-group-dialog.html'),\r\n};\r\n",
    "'use strict';\r\nvar events = require('../events');\r\n\r\n/* @ngInject */\r\nfunction CreateTaskspaceModalController($scope,api, groups, flash, $modalInstance,store,tsnamesuggestion) {\r\n\t'ngInject';\r\n\tvar self = this;\r\n\t\r\n\tvar sharedObjectsList = [];\r\n\t\r\n\tself.modalOptions = {\r\n\t\theaderText: \"Create a new Taskspace\",\r\n\t\tinvite: \"Invite\",\r\n\t\tcancel: \"Cancel\",\r\n\t\tcreate: \"Create\",\r\n\t\tok:\"Ok\"\r\n\t};\r\n\tself.newTaskSpace;\r\n\tself.sharedUserList = [];\r\n\tself.NonNumiciUsers = [];\r\n\tself.NonNumiciUsersCanNotBeShared = [];\r\n\tself.targetOrg = {\"type\" : \"sharedorg\"};\r\n\t\r\n\tself.tab = 1;\r\n\tself.taskSpaceName = tsnamesuggestion || \" \";\r\n\tself.companiesList = [];\r\n\tself.selectedTicker = {\r\n\t\t'tickerObj' : null\r\n\t};\r\n\tself.user_ShareObjAcrossOrg = \"Yes\";\r\n\tself.items = null;\r\n\tself.permSet;\r\n\tself.loggedInUser = null;\r\n\tself.userPerms = {};\r\n\tself.userPerms.users = [];\r\n\tself.userPerms.grantedPerms = [\"Edit\"];\r\n\tself.sharePropagateLable = \"Sharable\";\r\n\tself.Users = [];\r\n\tself.propagateShare = false;\r\n\tself.disablePropagateShare = false;\r\n\tself.isInviteFormSubmiting = false;\r\n\t\r\n\t// Methods\r\n\tself.getSuggestedName = getSuggestedName;\r\n\tself.refreshTickers = refreshTickers;\r\n\tself.clear = clear;\r\n\r\n\tself.tagTransform = tagTransform;\r\n\tself.getSelectedUserName = getSelectedUserName;\r\n\tself.selectPerms = selectPerms;\r\n\t\r\n\t\r\n\t$scope.$on(events.USER_CHANGED, function () {\r\n\t\tself.close();\r\n\t});\r\n\t\r\n\tfunction isEmpty(str) {\r\n\t\t return (!str || /^\\s*$/.test(str));\r\n\t}\r\n\t\r\n\t\r\n\t self.setTab = function(newTab){\r\n\t\t self.tab = newTab;\r\n\t };\r\n\r\n\t self.isSet = function(tabNum){\r\n\t    return self.tab === tabNum;\r\n\t };\r\n\t  \r\n\t\r\n\tfunction getSuggestedName () {\r\n\t\tvar suggestedName = self.taskSpaceName;\r\n\t\t\r\n\t\tif(self.selectedTicker.tickerObj && self.selectedTicker.tickerObj.ticker && self.selectedTicker.tickerObj.ticker != null && self.selectedTicker.tickerObj.ticker != \"\") {\r\n\t\t\tsuggestedName = self.selectedTicker.tickerObj.ticker+\" - \";\r\n\t\t\t\r\n\t\t\tif(self.taskSpaceName) {\r\n\t\t\t\tsuggestedName += self.taskSpaceName;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn suggestedName;\r\n\t\t\r\n\t}\r\n\t\r\n\tfunction refreshTickers(searchKey) {\r\n\t\t if(!isEmpty(searchKey)) {\r\n\t\t\t api.group.tickers({},{\"searchTxt\":searchKey}).then(function(data){\r\n\t\t\t\t if(data) {\r\n\t\t\t\t\tself.companiesList = data.tickers;\r\n\t\t\t\t }\r\n\t\t\t });\r\n\t\t }\r\n\t}\r\n\t\r\n\tfunction clear($event) {\r\n\t\tif($event) {\r\n\t\t\t$event.stopPropagation(); \r\n\t\t}\r\n\t    self.selectedTicker.tickerObj = null;\r\n\t}\r\n\t\r\n\tfunction processSharedObjectsList() {\r\n\t\t/*for(var i=0; i<sharedObjectsList.length;i++) {\r\n\t\t\tif(sharedObjectsList[i].isInvited) {\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}*/\r\n\t\tself.close();\r\n\t}\r\n\t\r\n\tself.close = function() {\r\n\t\tif(self.newTaskSpace) {\r\n\t\t\tgroups.load(self.newTaskSpace.id).then(function(){\r\n\t\t\t\t$modalInstance.close();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\t$modalInstance.close();\r\n\t\t}\r\n\t};\r\n\t\r\n\tself.checkEventAndCreateNewTS = function(event) {\r\n\t\tvar keyCode = event.which || event.keyCode; \r\n\t    if (keyCode === 13) { \r\n\t    \tif(self.taskSpaceName) {\r\n    \t\t\tself.create();\r\n    \t\t}\t\r\n\t    }\r\n\t};\r\n\t\r\n\tself.inviteExternalUsers = function() {\r\n\t\tself.isInviteFormSubmiting = true;\r\n\t\tif(self.newTaskSpace) {\r\n\t\t\tvar sharePostdata = {};\r\n\t\t\tvar objectList = [];\r\n\t\t\tvar usersList = {};\r\n\t\t\tvar obj = {\r\n\t\t\t\t      \"objectType\": \"Taskspace\",\r\n\t\t\t\t      \"objectId\": self.newTaskSpace.id,\r\n\t\t\t\t      \"clientId\": self.newTaskSpace.clientId\r\n\t\t\t\t    };\r\n\t\t\tobjectList.push(obj); \r\n\t\t\tsharePostdata[\"objectList\"] = objectList;\r\n\t\t\tif (self.NonNumiciUsers.length > 0 && self.userPerms.grantedPerms.length > 0 ) { \r\n\t\t\t\t var usersList = {};\r\n\t\t\t\t for(var i=0;i<self.NonNumiciUsers.length;i++) {\r\n\t\t\t\t\t usersList[self.NonNumiciUsers[i].loginId] = {\r\n\t\t\t\t\t\t\t  \"permissions\" : self.userPerms.grantedPerms[0],\r\n\t\t\t\t\t\t\t  \"propagateShare\" : self.propagateShare\r\n\t\t\t\t\t  };\r\n\t\t\t\t }\r\n\t\t\t\t sharePostdata[\"userList\"] = usersList;\r\n\t\t\t\t sharePostdata[\"targetOrg\"] = self.targetOrg.type;\r\n\t\t\t\t api.group.inviteProvisionalUsers({},sharePostdata).then(function(resp){\r\n\t\t\t\t\t  if(resp) {\r\n\t\t\t\t\t\t  self.isInviteFormSubmiting = false;\r\n\t\t\t\t\t\t  handelSharedInfo(resp);\r\n\t\t\t\t\t  }\r\n\t\t\t\t }).catch(function (err) {\r\n\t\t\t      \t  flash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t     });\r\n\t\t\t }\r\n\t\t}\r\n\t};\r\n\t\r\n\tfunction handelSharedInfo(resp) {\r\n\t\t if(angular.isArray(resp.Results) && resp.Results.length > 0) {\r\n\t\t\t sharedObjectsList = sharedObjectsList.concat(resp.Results);\r\n\t\t }\r\n\t\t if(angular.isArray(resp.sharedUsers)) {\r\n\t\t\t self.sharedUserList = self.sharedUserList.concat(resp.sharedUsers);\r\n\t\t }\r\n\t\t if(angular.isArray(resp.NonNumiciUsers) && resp.NonNumiciUsers.length > 0) {\r\n\t\t\t for(var i=0;i<resp.NonNumiciUsers.length;i++) {\r\n\t\t\t\t resp.NonNumiciUsers[i] = {\r\n\t\t\t\t\t\t \"selected\": false,\r\n\t\t\t\t\t\t \"loginId\":  resp.NonNumiciUsers[i]\r\n\t\t\t\t };\r\n\t\t\t }\r\n\t\t\t self.NonNumiciUsers = resp.NonNumiciUsers;\r\n\t\t\t self.setTab(2);\r\n\t\t } else if(angular.isArray(resp.NonNumiciUsersCanNotBeShared) && resp.NonNumiciUsersCanNotBeShared.length > 0) {\r\n\t\t\t\t for(var i=0;i<resp.NonNumiciUsersCanNotBeShared.length;i++) {\r\n\t\t\t\t\t resp.NonNumiciUsersCanNotBeShared[i] = {\r\n\t\t\t\t\t\t\t \"loginId\":  resp.NonNumiciUsersCanNotBeShared[i]\r\n\t\t\t\t\t };\r\n\t\t\t\t }\r\n\t\t\t\t self.NonNumiciUsersCanNotBeShared = resp.NonNumiciUsersCanNotBeShared;\r\n\t\t\t\t self.setTab(3);\r\n\t\t } else if(angular.isArray(sharedObjectsList) && sharedObjectsList.length > 0) {\r\n\t\t\t processSharedObjectsList();\r\n\t\t }\r\n\t}\r\n\t\r\n\t\r\n\tfunction invite(postdata) {\r\n\t\tif(self.newTaskSpace) {\r\n\t\t\tvar sharePostdata = {};\r\n\t\t\tvar objectList = [];\r\n\t\t\tvar usersList = {};\r\n\t\t\tvar obj = {\r\n\t\t\t\t      \"objectType\": \"Taskspace\",\r\n\t\t\t\t      \"objectId\": self.newTaskSpace.id,\r\n\t\t\t\t      \"clientId\": self.newTaskSpace.clientId\r\n\t\t\t\t    };\r\n\t\t\tobjectList.push(obj); \r\n\t\t\tsharePostdata[\"objectList\"] = objectList;\r\n\t\t\tsharePostdata[\"userList\"] = getSharedWith();\r\n\t\t\t\r\n\t\t\tapi.group.invite({},sharePostdata).then(function(resp) {\r\n\t\t\t\tif(resp) {\r\n\t\t\t\t\thandelSharedInfo(resp);\r\n\t\t\t\t}\r\n\t\t\t}).catch(function (err) {\r\n\t\t      \tflash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t    });\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction createNewTaskSpace(postdata) {\r\n\t\tapi.group.create({},postdata).then(function(resp) {\r\n\t\t\tif(resp && resp.group && resp.group.id) {\r\n\t\t\t\tself.newTaskSpace = resp.group;\r\n\t\t\t\tif(self.userPerms.users && !angular.equals([],self.userPerms.users)) {\r\n\t\t\t\t\tvar profile = store.profile();\r\n\t\t\t\t\tif(profile && profile.user_info && profile.user_info.is_shard_organization) {\r\n\t\t\t\t\t\tself.is_shard_organization = profile.user_info.is_shard_organization;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tinvite();\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.close();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}).catch(function (err) {\r\n\t      \tflash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t    });\r\n\t}\r\n\t\r\n\tself.disableShare = function() {\r\n\t\tvar status = true;\r\n\t\tif(!self.isInviteFormSubmiting) {\r\n\t\t\tfor(var i=0;i< self.NonNumiciUsers.length; i++) {\r\n\t\t\t\tif(self.NonNumiciUsers[i].selected) {\r\n\t\t\t\t\tstatus = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn status;\r\n\t};\r\n\t\r\n\tfunction getSharedWith() {\r\n\t\tvar usersList = {};\r\n\t\tfor(var i=0;i<self.userPerms.users.length;i++) {\r\n\t\t\tusersList[self.userPerms.users[i]] = {\r\n\t\t\t\t\t \"permissions\" : self.userPerms.grantedPerms[0],\r\n\t\t\t\t\t \"propagateShare\" : false  // self.propagateShare\r\n\t\t\t};\r\n\t\t}\r\n\t\t\r\n\t\treturn usersList ;\r\n\t}\r\n\t\r\n\tself.create = function() {\r\n\t\tvar postdata = {};\r\n\t\tif(self.taskSpaceName) {\r\n\t\t\tpostdata[\"name\"] = self.taskSpaceName;\r\n\t\t}\r\n\t\t/*if(self.selectedTicker.tickerObj) {\r\n\t\t\tpostdata[\"tickers\"] = [self.selectedTicker.tickerObj.ticker];\r\n\t\t}*/\r\n\t\t\r\n\t\tif(self.taskSpaceName) {\r\n\t\t\tcreateNewTaskSpace(postdata);\r\n\t\t}\r\n  };\r\n\r\n  function init() {\r\n\t  getPermissionSet();\r\n\t  listUsers();\r\n  }\r\n  \r\n  \r\n  function tagTransform(tagname) {\r\n\t\t var item = {}; \t\r\n\t\t return item = {\r\n\t\t  \t\t\"loginId\":tagname,\r\n\t\t  \t\t\"firstName\" : tagname,\r\n\t\t  \t\t\"lastName\" : \"\",\r\n\t\t  \t\t\"isNew\" : true\r\n\t\t  \t};\r\n\t }\r\n\t \r\n\t function getSelectedUserName(user) {\r\n\t\t var userName = \"\";\t\r\n\t\t if(!isEmpty(user.firstName) && !isEmpty(user.lastName)) {\r\n\t\t\t userName = user.firstName+\" \"+user.lastName;\r\n\t\t } else if(isEmpty(user.firstName) && isEmpty(user.firstName)) {\r\n\t\t\t userName = user.loginId;\r\n\t\t } else if(!isEmpty(user.firstName)) {\r\n\t\t\t userName = user.firstName;\r\n\t\t } else if(!isEmpty(user.lastName)) {\r\n\t\t\t userName = user.lastName;\r\n\t\t }\r\n\t\t return userName;\r\n\t }\r\n\t \r\n\tfunction getPermissionSet() {\r\n\t\tapi.group.permSet().then(function(resp) {\r\n\t\t\t if(resp && resp.permSet && resp.permSet.length > 0) {\r\n\t\t\t\t self.permSet = resp.permSet;\r\n\t\t\t\t for(var i=0; i<self.permSet;i++) {\r\n\t\t\t\t\t if(angular.equals(\"edit\",self.permSet[i].toLowerCase())) {\r\n\t\t\t\t\t\t self.userPerms.grantedPerms = [self.permSet[i]]; \r\n\t\t\t\t\t\t break;\r\n\t\t\t\t\t }\r\n\t\t\t\t } \r\n\t\t\t }\r\n\t\t}).catch(function (err) {\r\n\t      \t flash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t    });\r\n\t }\r\n\t  \r\n\tfunction listUsers() {\r\n\t\t api.group.listUsers().then(function(resp) {\r\n\t\t\t if(resp) {\r\n\t\t\t\t self.Users = resp.users;\r\n\t\t\t\t for(var i=0;i<self.Users.length;i++) {\r\n\t\t\t\t\t self.Users[i].hasPermission = false;\r\n\t\t\t\t }\r\n\t\t\t }\r\n\t\t }).catch(function (err) {\r\n\t      \t flash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t     });\r\n\t\t \r\n\t}\r\n\t \r\n\t function selectPerms (selected){\r\n\t\t if(selected.toLowerCase() == \"edit\") {\r\n\t\t\t self.propagateShare = true;\r\n\t\t\t self.disablePropagateShare = true;\r\n\t\t } else if(selected.toLowerCase() == \"view\") {\r\n\t\t\t self.propagateShare = false;\r\n\t\t\t self.disablePropagateShare = false;\r\n\t\t }\r\n\t }\r\n  \r\n  init();\r\n}\r\n\r\nmodule.exports =CreateTaskspaceModalController;\r\n",
    "'use strict';\r\nvar events = require('../events');\r\n\r\n/* @ngInject */\r\nfunction DocRemoveConfirmModal($scope, $modalInstance,confirmdata,modalOptions,taskspace) {\r\n\t'ngInject';\r\n\tvar self = this;\r\n\t\r\n\tself.modalOptions = modalOptions;\r\n\tself.deleteAnnotations = {option: null};\r\n\tself.deleteObject = false;\r\n\tself.remove = remove;\r\n\tself.cancel = cancel;\r\n\r\n\tfunction remove() {\r\n\t\t$modalInstance.close({ \"deleteObject\": self.deleteObject , \"deleteAnnot\" : self.deleteAnnotations.option ? self.deleteAnnotations.option : null});\r\n\t}\r\n\r\n\tfunction cancel() {\r\n\t\t$modalInstance.dismiss('cancel');\r\n\t}\r\n\t \r\n    self.disableConfirm = function() {\r\n\t    if(self.hasAnnotations) {\r\n\t\t\treturn self.deleteAnnotations.option ? false : true;\r\n\t    }\r\n        return false;\r\n\t};\r\n\t\r\n\tfunction init() {\r\n\t\tself.hasDocLink = confirmdata.link;\r\n\t\tself.hasAnnotations = confirmdata.count;\r\n\t}\r\n\t\r\n\tinit();\r\n}\r\n\r\nmodule.exports = DocRemoveConfirmModal;\r\n",
    "'use strict';\r\n\r\n// @ngInject\r\nfunction DocTagEditorController(tags, api, confirm) {\r\n\tvar self = this;\r\n\tthis.onTagAdding = function($tag) {\r\n\t\tvar status = true;\r\n\t\tvar txt = $tag.text;\r\n\t\tif (txt.indexOf(\":\") > -1) {\r\n\t\t\ttxt = txt.split(\":\")[0];\r\n\t\t}\r\n\r\n\t\tif (!txt) {\r\n\t\t\tstatus = false;\r\n\t\t\treturn status;\r\n\t\t}\r\n\r\n\t\tthis.tagList.forEach(function(item) {\r\n\t\t\tvar itemText = item.text;\r\n\t\t\tif (itemText.indexOf(\":\") > -1) {\r\n\t\t\t\titemText = itemText.split(\":\")[0];\r\n\t\t\t\tif (!itemText) {\r\n\t\t\t\t\tstatus = false;\r\n\t\t\t\t\treturn status;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (itemText && txt && itemText.trim().toLowerCase() === txt.trim().toLowerCase()) {\r\n\t\t\t\tstatus = false;\r\n\t\t\t\treturn status;\r\n\t\t\t}\r\n\t\t});\r\n        if(status) {\r\n\t\t\t$tag.isNew = true;\r\n\t\t}\r\n\t\treturn status;\r\n\t};\r\n\r\n\tthis.onTagRemoving = function($tag) {\r\n\t\tlet defer = api.createPromise();\r\n\t\t\tvar msg = 'Are you sure you want to remove the tag \"' + $tag.text + '\"?';\r\n\t\t\tvar modalOptions = {\r\n\t\t\t\tcloseButtonText: 'Cancel',\r\n\t\t\t\tactionButtonText: 'Ok',\r\n\t\t\t\theaderText: 'Delete tag?',\r\n\t\t\t\tbodyText: msg\r\n\t\t\t};\r\n\r\n\t\t\tconfirm.showModal({}, modalOptions).then(function() {\r\n\t\t\t\tif (!$tag.isNew && $tag.tagId) {\r\n\t\t\t\t\tself.onUntag({ tag: $tag });\r\n\t\t\t\t\tdefer.resolve(true);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdefer.resolve(true);\r\n\t\t\t\t}\r\n\t\t\t}, function() {\r\n\t\t\t\tdefer.reject(false);\r\n\t\t\t});\r\n\t\t\treturn defer.promise;\r\n\t\t\r\n\t};\r\n\r\n\tthis.onTagsChanged = function() {\r\n\t\ttags.store(this.tagList);\r\n\t\tvar newTags = this.tagList.map(function(item) {\r\n\t\t\tif (item.text.indexOf(\":\") > -1) {\r\n\t\t\t\tvar tagInfo = item.text.split(\":\");\r\n\t\t\t\tif (tagInfo[1]) {\r\n\t\t\t\t\treturn { \"TagName\": tagInfo[0].trim(), \"Value\": tagInfo[1].trim() ,\"tagId\": item.tagId, \"isNew\": item.isNew};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn { \"TagName\": item.text ,\"Value\": null, \"tagId\": item.tagId,\"isNew\": item.isNew};\r\n\t\t});\r\n\t\tthis.onTagsEdited({ tags: newTags });\r\n\t};\r\n\r\n\tthis.autocomplete = function(query) {\r\n\t\treturn api.tags.searchResourceTags({}, { \"searchKey\": query }).then(function(resp) {\r\n\t\t\tif (resp && resp.length > 0) {\r\n\t\t\t\treturn resp.map(function(tag) {\r\n\t\t\t\t\tif (tag.Value) {\r\n\t\t\t\t\t\treturn { text: tag.TagName + \":\" + tag.Value ,tagId: tag.TagId , isNew: tag.isNew};\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn { text: tag.TagName, tagId: tag.TagId , isNew: tag.isNew};\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\treturn [{ text: query, tagId: null , isNew: true}];\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\tthis.$onChanges = function(changes) {\r\n\t\tif (changes.tags && changes.tags.currentValue) {\r\n\t\t\tthis.tagList = changes.tags.currentValue.map(function(tag) {\r\n\t\t\t\tif (tag.Value) {\r\n\t\t\t\t\treturn { text: tag.TagName + \":\" + tag.Value ,tagId: tag.TagId , isNew: tag.isNew};\r\n\t\t\t\t}\r\n\t\t\t\treturn { text: tag.TagName, tagId: tag.TagId , isNew: tag.isNew};\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}\r\n\r\nmodule.exports = {\r\n\tcontroller: DocTagEditorController,\r\n\tcontrollerAs: 'vm',\r\n\tbindings: {\r\n\t\ttags: '<',\r\n\t\tonTagsEdited: '&',\r\n\t\tonUntag: '&',\r\n\t},\r\n\ttemplate: require('../templates/doc-tag-editor.html'),\r\n};\r\n",
    "'use strict';\n\n// @ngInject\nfunction DropdownMenuBtnController($timeout) {\n  var self = this;\n  this.toggleDropdown = function($event) {\n    $event.stopPropagation();\n    $timeout(function () {\n      self.onToggleDropdown();\n    }, 0);\n  };\n}\n\nmodule.exports = {\n  controller: DropdownMenuBtnController,\n  controllerAs: 'vm',\n  bindings: {\n    isDisabled: '<',\n    label: '<',\n    dropdownMenuLabel: '@',\n    onClick: '&',\n    onToggleDropdown: '&',\n  },\n  template: require('../templates/dropdown-menu-btn.html'),\n};\n",
    "'use strict';\n\n// @ngInject\nfunction ExcerptController($element, $scope, ExcerptOverflowMonitor) {\n  var self = this;\n\n  if (this.collapse === undefined) {\n    this.collapse = true;\n  }\n\n  if (this.animate === undefined) {\n    this.animate = true;\n  }\n\n  if (this.enabled === undefined) {\n    this.enabled = true;\n  }\n\n  this.isExpandable = function () {\n    return this.overflowing && this.collapse;\n  };\n\n  this.isCollapsible = function () {\n    return this.overflowing && !this.collapse;\n  };\n\n  this.toggle = function (event) {\n    // When the user clicks a link explicitly to toggle the collapsed state,\n    // the event is not propagated.\n    event.stopPropagation();\n    this.collapse = !this.collapse;\n  };\n\n  this.expand = function () {\n    // When the user expands the excerpt 'implicitly' by clicking at the bottom\n    // of the collapsed excerpt, the event is allowed to propagate. For\n    // annotation cards, this causes clicking on a quote to scroll the view to\n    // the selected annotation.\n    this.collapse = false;\n  };\n\n  this.showInlineControls = function () {\n    return this.overflowing && this.inlineControls;\n  };\n\n  this.bottomShadowStyles = function () {\n    return {\n      'excerpt__shadow': true,\n      'excerpt__shadow--transparent': this.inlineControls,\n      'is-hidden': !this.isExpandable(),\n    };\n  };\n\n  // Test if the element or any of its parents have been hidden by\n  // an 'ng-show' directive\n  function isElementHidden() {\n    var el = $element[0];\n    while (el) {\n      if (el.classList.contains('ng-hide')) {\n        return true;\n      }\n      el = el.parentElement;\n    }\n    return false;\n  }\n\n  var overflowMonitor = new ExcerptOverflowMonitor({\n    getState: function () {\n      return {\n        enabled: self.enabled,\n        animate: self.animate,\n        collapsedHeight: self.collapsedHeight,\n        collapse: self.collapse,\n        overflowHysteresis: self.overflowHysteresis,\n      };\n    },\n    contentHeight: function () {\n      var contentElem = $element[0].querySelector('.excerpt');\n      if (!contentElem) {\n        return null;\n      }\n      return contentElem.scrollHeight;\n    },\n    onOverflowChanged: function (overflowing) {\n      self.overflowing = overflowing;\n      if (self.onCollapsibleChanged) {\n        self.onCollapsibleChanged({collapsible: overflowing});\n      }\n      // Even though this change happens outside the framework, we use\n      // $digest() rather than $apply() here to avoid a large number of full\n      // digest cycles if many excerpts update their overflow state at the\n      // same time. The onCollapsibleChanged() handler, if any, is\n      // responsible for triggering any necessary digests in parent scopes.\n      $scope.$digest();\n    },\n  }, window.requestAnimationFrame);\n\n  this.contentStyle = overflowMonitor.contentStyle;\n\n  // Listen for document events which might affect whether the excerpt\n  // is overflowing, even if its content has not changed.\n  $element[0].addEventListener('load', overflowMonitor.check, false /* capture */);\n  window.addEventListener('resize', overflowMonitor.check);\n  $scope.$on('$destroy', function () {\n    window.removeEventListener('resize', overflowMonitor.check);\n  });\n\n  // Watch for changes to the visibility of the excerpt.\n  // Unfortunately there is no DOM API for this, so we rely on a digest\n  // being triggered after the visibility changes.\n  $scope.$watch(isElementHidden, function (hidden) {\n    if (!hidden) {\n      overflowMonitor.check();\n    }\n  });\n\n  // Watch input properties which may affect the overflow state\n  $scope.$watch('vm.contentData', overflowMonitor.check);\n  $scope.$watch('vm.enabled', overflowMonitor.check);\n\n  // Trigger an initial calculation of the overflow state.\n  //\n  // This is performed asynchronously so that the content of the <excerpt>\n  // has settled - ie. all Angular directives have been fully applied and\n  // the DOM has stopped changing. This may take several $digest cycles.\n  overflowMonitor.check();\n}\n\n/**\n * @description This component truncates the height of its contents to a\n *              specified number of lines and provides controls for expanding\n *              and collapsing the resulting truncated element.\n */\nmodule.exports = {\n  controller: ExcerptController,\n  controllerAs: 'vm',\n  bindings: {\n    /** Whether or not expansion should be animated. Defaults to true. */\n    animate: '<?',\n    /**\n     * The data which is used to generate the excerpt's content.\n     * When this changes, the excerpt will recompute whether the content\n     * is overflowing.\n     */\n    contentData: '<',\n    /** Whether or not truncation should be enabled */\n    enabled: '<?',\n    /**\n     * Specifies whether controls to expand and collapse\n     * the excerpt should be shown inside the <excerpt> component.\n     * If false, external controls can expand/collapse the excerpt by\n     * setting the 'collapse' property.\n     */\n    inlineControls: '<',\n    /** Sets whether or not the excerpt is collapsed. */\n    collapse: '=?',\n    /**\n     * Called when the collapsibility of the excerpt (that is, whether or\n     * not the content height exceeds the collapsed height), changes.\n     *\n     * Note: This function is *not* called from inside a digest cycle,\n     * the caller is responsible for triggering any necessary digests.\n     */\n    onCollapsibleChanged: '&?',\n    /** The height of this container in pixels when collapsed.\n     */\n    collapsedHeight: '<',\n    /**\n     * The number of pixels by which the height of the excerpt's content\n     * must extend beyond the collapsed height in order for truncation to\n     * be activated. This prevents the 'More' link from being shown to expand\n     * the excerpt if it has only been truncated by a very small amount, such\n     * that expanding the excerpt would reveal no extra lines of text.\n     */\n    overflowHysteresis: '<?',\n  },\n  transclude: true,\n  template: require('../templates/excerpt.html'),\n};\n",
    "'use strict';\r\nvar events = require('../events');\r\n\r\n/* @ngInject */\r\nfunction GroupInfoDialogController($scope, api, groups, settings,$window) {\r\n  'ngInject';\r\n  var self = this;\r\n  \r\n  self.group = null;\r\n  self.groups = groups;\r\n  self.tab = 1;\r\n\r\n  self.setTab = function(newTab){\r\n\t  self.tab = newTab;\r\n  };\r\n\r\n  self.isSet = function(tabNum){\r\n    return self.tab === tabNum;\r\n  };\r\n  \r\n  self.openDocument = function(object) {\r\n\t  var postdata = {\r\n\t\t\tgroupId: self.group.id,\r\n\t\t\tdocClientId: object.clientId, \r\n\t\t\tdocId: object.objectId\r\n\t  };\r\n\t  api.group.link({},postdata).then(function(link) {\r\n\t\t  if(link && link.url) {\r\n\t\t\t  $window.open(link.url);\r\n\t\t  }\r\n\t  });\r\n  };\r\n  \r\n  $scope.$watch(() => ([groups.focusedId()]), ([currentGroupId], [prevGroupId]) => {\r\n\r\n\t    if (currentGroupId !== prevGroupId) {\r\n\t      // The focused group may be changed during loading annotations as a result\r\n\t    \t self.group = null;\r\n\t    \t init();\r\n\t    }\r\n  }, true);\r\n\r\n\r\n  $scope.$on(events.GROUP_UPDATED,function(event,groupId){\r\n\t\tif( self.group &&  self.group.id == groupId) {\r\n\t\t\tself.group = null;\r\n\t    \tinit();\r\n\t\t}\r\n  });\r\n  \r\n  function getGroupInfo(currentGroupId,clientId) {\r\n\t api.group.read({\"groupId\": currentGroupId,\"clientId\" : clientId}).then(function(group) {\r\n\t\t if(group) {\r\n\t\t\t self.group = groups.transformGroupSections(group); \r\n\t\t }\r\n\t });\r\n  }\r\n  \r\n  function init() {\r\n\t  var group = groups.focused();\r\n\t  if(group) {\r\n\t\t  getGroupInfo(group.id,group.clientId);\r\n\t  }\r\n  }\r\n  \r\n  init();\r\n}\r\n\r\nmodule.exports = {\r\n  controller: GroupInfoDialogController,\r\n  controllerAs: 'vm',\r\n  bindings: {\r\n    onClose: '&',\r\n  },\r\n  template: require('../templates/group-info-dialog.html'),\r\n};\r\n",
    "'use strict';\r\n\r\nvar { isThirdPartyUser } = require('../util/account-id');\r\nvar isThirdPartyService = require('../util/is-third-party-service');\r\nvar serviceConfig = require('../service-config');\r\nconst memoize = require('../util/memoize');\r\nconst groupOrganizations = memoize(require('../util/group-organizations'));\r\n\r\n// @ngInject\r\nfunction GroupListController($scope,$window, analytics, groups, settings, serviceUrl, $rootScope, $timeout, frameSync,flash,userPreference) {\r\n\tvar self = this;\r\n\tthis.groups = groups;\r\n\tthis.isOpen = groups.openGroupdropDown;\r\n\tthis.tsSearchTxt = \"\";\r\n\r\n\t$scope.$on('requestGroupChange', function() {\r\n\t\topenGroupdropDown();\r\n\t});\r\n\t\r\n\t$scope.$on('windowFocus', function() {\r\n\t\tself.close();\r\n\t});\r\n\t\r\n\tfunction openGroupdropDown() {\r\n\t\t$timeout(function() {\r\n\t\t\tself.isOpen = true;\r\n\t\t\t$rootScope.$broadcast('FocusFindTaskSpace', true);\r\n\t\t}, 0);\r\n\t}\r\n\r\n\tfunction init() {\r\n\t\tif (groups.openGroupdropDown) {\r\n\t\t\tframeSync.showSidebar();\r\n\t\t\topenGroupdropDown();\r\n\t\t}\r\n\t}\r\n\r\n    this.close = function() {\r\n\t\tself.isOpen = false;\r\n\t};\r\n\t\r\n\tlet docSections = {};\r\n\tthis.getSection = function(group) {\r\n\t\tif (group) {\r\n\t\t\tif (docSections[group.id]) {\r\n\t\t\t\treturn docSections[group.id];\r\n\t\t\t} else if (group.webresource) {\r\n\t\t\t\treturn groups.getDocSection(group);\r\n\t\t\t} else {\r\n\t\t\t\treturn groups.getfocusedSection(group.id);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t};\r\n\r\n\tthis.disableSection = function(group) {\r\n\t\tif (group.webresource || groups.getDocSection(group)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n\tthis.showSections = function(group) {\r\n\t\tif(groups.isEditable(group)) {\r\n\t\t\tif (self.tsSearchTxt && (self.hasSections(group))) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\tif (groups.focused()) {\r\n\t\t\t\treturn groups.focused().id == group.id;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tthis.hasSections = function(group) {\r\n\t\treturn group.sections && group.sections.length;\r\n\t};\r\n\r\n\tthis.onNewSection = function(data) {\r\n\t\tif(data.group) {\r\n\t\t\tthis.focusSection({groupId: data.group.id,section:data.section});\r\n\t\t} else if (data.section && groups.focused()) {\r\n\t\t\tgroups.focusSection(groups.focused().id, data.section);\r\n\t\t}\r\n\t};\r\n\r\n\tthis.isSelectable = function(group) {\r\n\t\treturn groups.isSelectable(group);\r\n\t};\r\n\r\n\tthis.toggled = function(open) {\r\n\t\tthis.tsSearchTxt = \"\";\r\n\t\t$rootScope.$broadcast('FocusFindTaskSpace', true);\r\n\t};\r\n\r\n\tthis.createNewGroup = function() {\r\n\t\t$window.open(serviceUrl('groups.new'), '_blank');\r\n\t};\r\n\r\n\tthis.focusedIcon = function() {\r\n\t\tconst focusedGroup = this.groups.focused();\r\n\t\treturn focusedGroup && (\r\n\t\t\tfocusedGroup.organization.logo || this.thirdPartyGroupIcon\r\n\t\t);\r\n\t};\r\n\r\n\tthis.focusedIconClass = function() {\r\n\t\tconst focusedGroup = this.groups.focused();\r\n\t\treturn (focusedGroup && focusedGroup.type === 'private') ? 'group' : 'public';\r\n\t};\r\n\r\n\tthis.isThirdPartyUser = function() {\r\n\t\treturn isThirdPartyUser(this.auth.userid, settings.authDomain);\r\n\t};\r\n\r\n\tthis.leaveGroup = function(groupId) {\r\n\t\tvar groupName = groups.get(groupId).name;\r\n\t\tvar message = 'Are you sure you want to leave the group \"' +\r\n\t\t\tgroupName + '\"?';\r\n\t\tif ($window.confirm(message)) {\r\n\t\t\tanalytics.track(analytics.events.GROUP_LEAVE);\r\n\t\t\tgroups.leave(groupId);\r\n\t\t}\r\n\t};\r\n\r\n\tthis.orgName = function(groupId) {\r\n\t\tconst group = this.groups.get(groupId);\r\n\t\treturn group && group.organization && group.organization.name;\r\n\t};\r\n\r\n\tthis.groupOrganizations = function() {\r\n\t\treturn groupOrganizations(this.groups.all());\r\n\t};\r\n\r\n\tthis.viewGroupActivity = function() {\r\n\t\tanalytics.track(analytics.events.GROUP_VIEW_ACTIVITY);\r\n\t};\r\n\r\n\tthis.focusGroup = function(groupId) {\r\n\t\tself.close();\r\n\t\tanalytics.track(analytics.events.GROUP_SWITCH);\r\n\t\tgroups.focus(groupId);\r\n\t\t/*let group = groups.focused(groupId);\r\n\t\tlet section = this.getSection(group);\r\n\t\tgroups.focusSection(groupId, section);*/\r\n\t};\r\n\r\n\tthis.focusSection = function(data) {\r\n\t\tgroups.focusSection(data.groupId, data.section);\r\n\t\tthis.focusGroup(data.groupId);\r\n\t};\r\n\r\n\t/**\r\n\t * Show the share link for the group if it is not a third-party group\r\n\t * AND if the URL needed is present in the group object. We should be able\r\n\t * to simplify this once the API is adjusted only to return the link\r\n\t * when applicable.\r\n\t */\r\n\tthis.shouldShowActivityLink = function(groupId) {\r\n\t\tconst group = groups.get(groupId);\r\n\t\treturn group.links && group.links.html && !this.isThirdPartyService;\r\n\t};\r\n\r\n\tvar svc = serviceConfig(settings);\r\n\tif (svc && svc.icon) {\r\n\t\tthis.thirdPartyGroupIcon = svc.icon;\r\n\t}\r\n\r\n\tthis.isThirdPartyService = isThirdPartyService(settings);\r\n\tthis.allowCreateTaskSpace = userPreference.canCreateTaskspace;\r\n\tthis.allowCreateSection = userPreference.canCreateSection;\r\n\r\n\t/*this.allowCreateTaskSpace = function() {\r\n\t\treturn (this.auth.status === 'logged-in'\r\n\t\t\t&& !this.isThirdPartyUser()\r\n\t\t\t&& !this.auth.isPublic\r\n\t\t\t&& this.auth.preferences\r\n\t\t\t&& this.auth.preferences.createTaskspace);\r\n\t};*/\r\n\r\n\tthis.selectTaskspace = function() {\r\n\t\treturn (this.auth.status === 'logged-in' && !this.groups.focused());\r\n\t};\r\n\r\n\tthis.newTaskspace = function() {\r\n\t\tif (self.auth.status !== 'logged-out') {\r\n\t\t\tgroups.createTaskspace(self.tsSearchTxt);\r\n\t\t} else {\r\n\t\t\tflash.error(\"You must login to create the Taskspace\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t}\r\n\t};\r\n\r\n}\r\n\r\nmodule.exports = {\r\n\tcontroller: GroupListController,\r\n\tcontrollerAs: 'vm',\r\n\tbindings: {\r\n\t\tauth: '<',\r\n\t\tonNewGroup: '&',\r\n\t\tnewGroup: '@',\r\n\t},\r\n\ttemplate: require('../templates/group-list.html'),\r\n};\r\n\r\n\r\n",
    "'use strict';\n\nmodule.exports = {\n  controllerAs: 'vm',\n  template: require('../templates/help-link.html'),\n  controller: function () {},\n  scope: {\n    version: '<',\n    userAgent: '<',\n    url: '<',\n    documentFingerprint: '<',\n    auth: '<',\n    dateTime: '<',\n  },\n};\n",
    "'use strict';\n\n/**\n * @ngdoc directive\n * @name helpPanel\n * @description Displays product version and environment info\n */\n// @ngInject\nmodule.exports = {\n  controllerAs: 'vm',\n  // @ngInject\n  controller: function ($scope, $window, store, serviceUrl,api,flash,$compile) {\n    this.helpContent = \"Help content\";\n    $scope.$watch(\n      function () {\n        return store.frames();\n      },\n      function (frames) {\n        if (frames.length === 0) {\n          return;\n        }\n        //this.url = frames[0].uri;\n        //this.documentFingerprint = frames[0].metadata.documentFingerprint;\n        api.help.getContent({}).then(function(resp) {\n    \t\tvar helpContent = resp.message;\n    \t\t$compile(helpContent)($scope);\n    \t\tangular.element(document.querySelector('.help-panel-content')).html(helpContent);\n    \t}.bind(this)).catch(function (err) {\n\t\t\tflash.error(err.message, 'Get help content failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n\t\t});\n      }.bind(this)\n    );\n  },\n  template: require('../templates/help-panel.html'),\n  bindings: {\n    auth: '<',\n    onClose: '&',\n  },\n};\n",
    "'use strict';\r\n\r\nvar scrollIntoView = require('scroll-into-view');\r\n\r\nvar events = require('../events');\r\nvar { parseAccountID } = require('../util/account-id');\r\nvar scopeTimeout = require('../util/scope-timeout');\r\nvar serviceConfig = require('../service-config');\r\nvar bridgeEvents = require('../../shared/bridge-events');\r\n\r\n\r\n/**\r\n * Return the user's authentication status from their profile.\r\n *\r\n * @param {Profile} profile - The profile object from the API.\r\n */\r\nfunction authStateFromProfile(profile) {\r\n\tif (profile.userid) {\r\n\t\tvar parsed = parseAccountID(profile.userid);\r\n\t\tvar displayName = (parsed && parsed.username) ? parsed.username : \"\";\r\n\t\tif (profile.user_info && profile.user_info.display_name) {\r\n\t\t\tdisplayName = profile.user_info.display_name;\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tstatus: 'logged-in',\r\n\t\t\tdisplayName,\r\n\t\t\tuserid: profile.userid,\r\n\t\t\tusername: (parsed && parsed.username) ? parsed.username : \"\",\r\n\t\t\tprovider: (parsed && parsed.provider) ? parsed.provider : \"\",\r\n\t\t\tisPublic: profile.isPublic,\r\n\t\t\tsignup: profile.signup,\r\n\t\t\tthirdPartyCookies: profile[\"third-party-cookie\"],\r\n\t\t\tpreferences: profile.preferences,\r\n\t\t\tauthority: profile.authority,\r\n\t\t\tinMaintenanceMode: profile.inMaintenanceMode,\r\n\t\t\tActiveSchedule: profile.ActiveSchedule,\r\n\t\t\tUserRole: profile.UserRole\r\n\t\t};\r\n\t} else {\r\n\t\treturn {\r\n\t\t\tstatus: 'logged-out',\r\n\t\t\tthirdPartyCookies: profile[\"third-party-cookie\"],\r\n\t\t\tsignup: profile.signup,\r\n\t\t\tisPublic: profile.isPublic,\r\n\t\t\tinMaintenanceMode: profile.inMaintenanceMode,\r\n\t\t\tActiveSchedule: profile.ActiveSchedule,\r\n\t\t\tUserRole: profile.UserRole\r\n\t\t};\r\n\t}\r\n}\r\n\r\n\r\n// @ngInject\r\nfunction HypothesisAppController(\r\n\t$document, $location, $rootScope, $route, $scope,\r\n\t$window, analytics, store, auth, bridge, drafts, features,\r\n\tflash, frameSync, groups, serviceUrl, session, settings, streamer,\r\n\tmoveWebResource, api, localStorage, $modal, sharelinks, _, confirm, $q, maintenance,addtotaskspace\r\n) {\r\n\tvar self = this;\r\n\tvar sharelinkWindow;\r\n\t// This stores information about the current user's authentication status.\r\n\t// When the controller instantiates we do not yet know if the user is\r\n\t// logged-in or not, so it has an initial status of 'unknown'. This can be\r\n\t// used by templates to show an intermediate or loading state.\r\n\tthis.auth = { status: 'unknown' };\r\n\tthis.maintanencedata = {\r\n\t\tvisible: false\r\n\t};\r\n\t// App dialogs\r\n\tthis.shareDialog = { visible: false };\r\n\tthis.cookieDialog = { visible: false };\r\n\tthis.maintenanceDialog = { visible: false };\r\n\tthis.shutdownNtf = { visible: false };\r\n\tthis.sheduleNtf = { visible: false };\r\n\tthis.groupInfoDialog = { visible: false };\r\n\tthis.tagInfoDialog = { visible: false };\r\n\tthis.createGroupDialog = { visible: false };\r\n\tthis.aboutPanel = { visible: false };\r\n\tthis.helpPanel = { visible: false };\r\n\r\n\t// Check to see if we're in the sidebar, or on a standalone page such as\r\n\t// the stream page or an individual annotation page.\r\n\tthis.isSidebar = $window.top !== $window;\r\n\tif (this.isSidebar) {\r\n\t\tframeSync.connect();\r\n\t}\r\n\r\n\t//add to taskspce loader\r\n\tthis.addToTsLoader = false;\r\n\r\n\tthis.showExtShare = function() {\r\n\t\tvar shareLinks = false;\r\n\t\tif (store.profile().preferences) {\r\n\t\t\tshareLinks = store.profile().preferences[\"shareLinks\"] === 'true' ? true : false;\r\n\t\t};\r\n\t\treturn shareLinks\r\n\t};\r\n\r\n\tthis.sortKey = function() {\r\n\t\treturn store.getState().sortKey;\r\n\t};\r\n\r\n\tthis.sortKeysAvailable = function() {\r\n\t\treturn store.getState().sortKeysAvailable;\r\n\t};\r\n\r\n\tthis.setSortKey = store.setSortKey;\r\n\r\n\t// Reload the view when the user switches accounts\r\n\t$scope.$on(events.USER_CHANGED, function(event, data) {\r\n\t\tdata = data || {};\r\n\t\tself.auth = authStateFromProfile(data.profile || {});\r\n\t\tframeSync.setUser(self.auth);\r\n\t\tshowActiveSchedule();\r\n\t\tcloseShareWindow();\r\n\t});\r\n\r\n    // Reload the view when the user switches accounts\r\n\t$scope.$on(\"urlChanged\", function(event, data) {\r\n\t\t/*showActiveSchedule();\r\n\t\tcloseShareWindow();\r\n\t\tgroups.load();*/\r\n\t\tframeSync.urlChanged();\r\n\t});\r\n\r\n    $scope.$watch(() => ([groups.focusedId(),store.profile().userid]), ([currentGroupId], [prevGroupId]) => {\r\n\t  \tif(currentGroupId !== prevGroupId ) {\r\n\t  \t\t closeShareWindow();\r\n\t  \t}\r\n    }, true);\r\n\r\n\t/*$scope.$on(\"windowFocus\", () => {\r\n\t\tsetTimeout(function() {\r\n\t\t\tif (sharelinkWindow && sharelinkWindow != null && !sharelinkWindow.closed) {\r\n\t\t\t\tsharelinkWindow.focus();\r\n\t\t\t}\r\n\t\t}, 100);\r\n\t});\r\n\r\n    $window.addEventListener('beforeunload', function() {\r\n       closeShareWindow();\r\n    });\r\n\r\n    $scope.$on(\"$destroy\", function () {\r\n\t   closeShareWindow();\r\n\t});*/\r\n    \r\n\t$scope.$on(\"linkshare\", function(event, data) {\r\n\t\tself.share(data.annotationId,null);\r\n\t});\r\n\r\n\t$scope.$on(\"shareDocument\", function(event, data) {\r\n\t\tself.share(null,data);\r\n\t});\r\n\r\n\t$scope.$on(\"moveDocument\", function(event, data) {\r\n\t\tmoveDocToTaskspace();\r\n\t});\r\n\t\r\n\t$scope.$on(\"tagDocument\", function(event, data) {\r\n\t\tself.tagDocument(data);\r\n\t});\r\n\r\n\t$scope.$on(events.ADD_TO_TASKSPACE, function(event, data) {\r\n\t\tif (store.focusedGroup()) {\r\n\t\t\tvar group = groups.focused();\r\n\t\t\tdata.tsId = groups.focusedId();\r\n\t\t\tdata.tsClientId = group ? group.clientId : null;\r\n\r\n\t\t\t//data.objId = group ? group.objId : null;\r\n\t\t\t//data.objClientId = group ? group.objClientId : null;\r\n\r\n\t\t\tif (!data.objId) {\r\n\t\t\t\taddToTaskSpace(data);\r\n\t\t\t} else {\r\n\t\t\t\tflash.info(\"WebResource is already added to TaskSpace\");\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!session.state.userid) {\r\n\t\t\t\tflash.error(\"Please Login to Save WebResource\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t} else {\r\n\t\t\t\tflash.error(\"Please Select a taskspace to Save WebResource\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t});\r\n\r\n\t$scope.$on(\"HTML_OBJ_ANNOTATIONS\", function(event, data) {\r\n\t\tframeSync.enableOrDisableObjectAnnotations(data);\r\n\t});\r\n\r\n\t$scope.$on(events.REQUEST_LOGIN, function(event, data) {\r\n\t\tself.login();\r\n\t});\r\n\r\n\r\n\t/* $scope.$on(\"updatedAuth\", function(event, message) {\r\n\t\t if(message) {\r\n\t\t\t self.auth.inMaintenanceMode = message.inMaintenanceMode;\r\n\t\t\t self.auth.ActiveSchedule =message.ActiveSchedule;\r\n\t\t\t self.auth.UserRole =message.UserRole;\r\n\t\t }\r\n\t });*/\r\n\r\n\r\n\t$scope.$on(\"SHEDULED_MAINTENANCE\", function(event, msg) {\r\n\t\tif (!_.isEmpty(msg.scheduleId)) {\r\n\t\t\tmaintenance.getScheduleById(msg.scheduleId).then(function(resp) {\r\n\t\t\t\tif (resp.Status) {\r\n\t\t\t\t\tself.maintanencedata = resp.Schedule;\r\n\t\t\t\t\tif (self.maintanencedata) {\r\n\t\t\t\t\t\tself.maintenanceDialog.visible = true;\r\n\t\t\t\t\t\tself.maintanencedata.notification = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.maintanencedata = { visible: false };\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\t$scope.$on(\"SHEDULED_SHUTDOWN\", function(event, msg) {\r\n\t\tif (!_.isEmpty(msg.scheduleId)) {\r\n\t\t\tmaintenance.getScheduleById(msg.scheduleId).then(function(resp) {\r\n\t\t\t\tif (resp.Status) {\r\n\t\t\t\t\tself.maintanencedata = resp.Schedule;\r\n\t\t\t\t\tif (self.maintanencedata) {\r\n\t\t\t\t\t\tself.maintenanceDialog.visible = true;\r\n\t\t\t\t\t\tself.maintanencedata.shutdown = true;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.maintanencedata = { visible: false };\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tfunction addToTaskSpace(data) {\r\n\t\treturn groups.getMetaDataFromUrl().then(docMetaInfo => { \r\n\t\t\tdata.document = docMetaInfo.metadata;\r\n\t\t\tdata.uri = docMetaInfo.uri;\r\n\t\t\tif (docMetaInfo && docMetaInfo.metadata && (docMetaInfo.metadata.filename || docMetaInfo.metadata.pdfInfo)) {\r\n\t\t\t\tdata.isPdf = true;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tlet defer = api.createPromise();\r\n\t\t\tlet promise = defer.promise;\r\n\t\t\tvar focusedgroup = groups.focused();\r\n\t\t\tif(data.isPdf ) {\r\n\t\t\t\tif(groups.getPdfbyUrl(focusedgroup,data.uri)) {\r\n\t\t\t\t\tdefer.resolve(focusedgroup);\r\n\t\t\t\t\treturn promise;\r\n\t\t\t\t}\r\n\t\t\t} else if(focusedgroup && focusedgroup.objId) {\r\n\t\t\t\tdefer.resolve(focusedgroup);\r\n\t\t\t\treturn promise;\r\n\t\t\t}\r\n\t\t\tframeSync.hideSidePaneToolbar(true,focusedgroup);\r\n\t\t\tlet addTotsModal = addtotaskspace.add(self.auth);\r\n\t\t\taddTotsModal.then(function(result) {\r\n\t\t\t\tif(result && result.group) {\r\n\t\t\t\t\tvar group = result.group;\r\n\t\t\t\t    data.tsId = group.id;\r\n\t\t\t\t    data.tsClientId = group.clientId;\r\n\t                data.sectionId = result.section ? result.section.id : null;\r\n\t\t\t\t    data.objId = group.objId;\r\n\t\t\t\t\tif( data.objId ) {\r\n\t\t\t\t\t\tdefer.resolve(group);\r\n\t\t\t\t\t\treturn promise;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tself.addToTsLoader = true;\r\n\t\t\t\tapi.annotation.addToTaskSpace({}, data).then(function(resp) {\r\n\t\t\t\t\tif (resp.message) {\r\n\t\t\t\t\t\tflash.info(resp.message);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tflash.success(\"WebResource added to TaskSpace successfully\");\r\n\t\t\t\t\t\tstore.updateGroup(data.tsId, 0, resp.webresource);\r\n\t\t\t\t\t\tgroups.focus(data.tsId);\r\n\t\t\t\t\t\tif(data.sectionId) {\r\n\t\t\t\t\t\t\tgroups.focusSection(data.tsId,result.section);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdefer.resolve(resp);\r\n\t\t\t\t}).catch(function(err) {\r\n\t\t\t\t\tflash.error(err.message, 'Saving Document failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t\t\tdefer.resolve(null);\r\n\t\t\t\t}).finally(function() {\r\n\t\t\t\t\tself.addToTsLoader = false;\r\n\t\t\t\t\tframeSync.hideSidePaneToolbar(false,focusedgroup);\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},function(){\r\n\t\t\t\tdefer.resolve(null);\r\n\t\t\t});\r\n\t\t\tpromise.finally(function() {\r\n\t\t\t\tframeSync.hideSidePaneToolbar(false,focusedgroup);\r\n\t\t\t});\r\n\t\t\treturn promise;\r\n\t\t});\r\n\t}\r\n\r\n\t\r\n\r\n\t$scope.$on(\"LinkedInAuthNotification\", function(event, message) {\r\n\t\tif (message.HasLinkedInAuth && message.HasLinkedInAuth == \"true\") {\r\n\t\t\tself.auth.preferences.hasLinkedInAuth = true;\r\n\t\t} else if (message.HasLinkedInAuth && message.HasLinkedInAuth == \"false\") {\r\n\t\t\tself.auth.preferences.hasLinkedInAuth = false;\r\n\t\t}\r\n\t\tif (message.LinkedInAuthUrl) {\r\n\t\t\tself.auth.preferences.LinkedInAuthUrl = message.LinkedInAuthUrl;\r\n\t\t}\r\n\t});\r\n\r\n\r\n\tfunction showActiveSchedule() {\r\n\t\tif (self.auth.inMaintenanceMode) {\r\n\t\t\tif (!_.isEmpty(self.auth.ActiveSchedule) && !_.isEmpty(self.auth.ActiveSchedule.Schedule)) {\r\n\t\t\t\tself.maintanencedata = self.auth.ActiveSchedule.Schedule;\r\n\t\t\t\tself.maintenanceDialog.visible = true;\r\n\t\t\t\tself.maintanencedata.shutdown = true;\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tself.maintenanceDialog.visible = false;\r\n\t\t}\r\n\t}\r\n\r\n\tsession.load().then(profile => {\r\n\t\tif (profile.reason && profile.reason != \"\") {\r\n\t\t\tflash.error(profile.reason,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t} else {\r\n\t\t\tself.auth = authStateFromProfile(profile);\r\n\t\t\tframeSync.setUser(self.auth);\r\n\t\t\tif (self.auth.status !== 'logged-in') {\r\n\t\t\t\tif (settings.appType === \"embedded\" || (!profile.isPublic && !profile.userid)) {\r\n\t\t\t\t\tself.login();\r\n\t\t\t\t\t$window.focus();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar objAnnotations = localStorage.getItem(\"HTML_OBJ_ANNOTATIONS\");\r\n\t\t\tframeSync.enableOrDisableObjectAnnotations(objAnnotations);\r\n\t\t\tshowActiveSchedule();\r\n\t\t\tif (self.auth && self.auth.isPublic) {\r\n\t\t\t\tgroups.load();\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\t/** Scroll to the view to the element matching the given selector */\r\n\tfunction scrollToView(selector) {\r\n\t\t// Add a timeout so that if the element has just been shown (eg. via ngIf)\r\n\t\t// it is added to the DOM before we try to locate and scroll to it.\r\n\t\tscopeTimeout($scope, function() {\r\n\t\t\tscrollIntoView($document[0].querySelector(selector));\r\n\t\t}, 0);\r\n\t}\r\n\r\n\t/**\r\n\t * Start the login flow. This will present the user with the login dialog.\r\n\t *\r\n\t * @return {Promise<void>} - A Promise that resolves when the login flow\r\n\t *   completes. For non-OAuth logins, always resolves immediately.\r\n\t */\r\n\tthis.login = function() {\r\n\r\n\t\tif (this.auth.thirdPartyCookies) {\r\n\t\t\tif (serviceConfig(settings)) {\r\n\t\t\t\t// Let the host page handle the login request\r\n\t\t\t\tbridge.call(bridgeEvents.LOGIN_REQUESTED);\r\n\t\t\t\treturn Promise.resolve();\r\n\t\t\t}\r\n\r\n\t\t\treturn auth.login().then(() => {\r\n\t\t\t\tsession.reload();\r\n\t\t\t}).catch((err) => {\r\n\t\t\t\tflash.error(err.message,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tframeSync.showSidebar();\r\n\t\t\tself.cookieDialog.visible = true;\r\n\t\t}\r\n\t};\r\n\r\n\tthis.signUp = function() {\r\n\t\tanalytics.track(analytics.events.SIGN_UP_REQUESTED);\r\n\r\n\t\tif (serviceConfig(settings)) {\r\n\t\t\t// Let the host page handle the signup request\r\n\t\t\tbridge.call(bridgeEvents.SIGNUP_REQUESTED);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\t$window.open(serviceUrl('signup'));\r\n\t};\r\n\r\n    function share(annotationId) {\r\n\t    var group = groups.focused();\r\n\t\tif (group && group.objId && group.objClientId) {\r\n\t\t\t//var docMetaInfo = groups.getDocMetaInfo();\r\n\t\t\tvar promise = groups.getMetaDataFromUrl();\r\n\t\t    promise.then(function(docMetaInfo) {\r\n\t\t\t\tif (group.webresource) {\r\n\t\t\t\t\t//docMetaInfo.metadata = group.webresource.metainfo;\r\n\t\t\t\t\tself.webresourceExist = true;\r\n\t\t\t\t}\r\n\t\t\t\tvar obj = groups.getTsObject(group, group.objId, group.objClientId);\r\n\t\t\t\tif (!obj) {\r\n\t\t\t\t\tobj = {\r\n\t\t\t\t\t\t\"type\": \"Document\",\r\n\t\t\t\t\t\t\"clientId\": group.objClientId,\r\n\t\t\t\t\t\t\"objectId\": group.objId,\r\n\t\t\t\t\t\t\"timestamp\": null,\r\n\t\t\t\t\t\t\"name\": null,\r\n\t\t\t\t\t\t\"objectInfo\": null,\r\n\t\t\t\t\t\t\"sourceUrl\": null,\r\n\t\t\t\t\t\t\"invalidObject\": false\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tif (!obj.name && docMetaInfo) {\r\n\t\t\t\t\tobj.name = docMetaInfo.title || docMetaInfo.uri;\r\n\t\t\t\t\tobj.sourceUrl = docMetaInfo.uri;\r\n\t\t\t\t}\r\n\t\t\t\tif (annotationId) {\r\n\t\t\t\t\tobj = angular.copy(obj);\r\n\t\t\t\t\tobj.digestDocAnnotId = annotationId;\r\n\t\t\t\t}\r\n\t\t\t\tgetDocumentLink(group, obj);\r\n\t\t    });\r\n\t\t} else {\r\n\t\t\tflash.error(\"Please select the group\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t}\r\n    }\r\n\r\n\t// Display the dialog for sharing the current page\r\n\tthis.share = function(annotationId,data) {\r\n\t\tif (self.auth.status !== 'logged-out') {\r\n\t\t\t//self.shareDialog.visible = true;\r\n\t\t\t//scrollToView('share-dialog');\r\n\t\t\t//frameSync.setSidebarWidth(770);\r\n\t\t\tif(annotationId) {\r\n\t\t\t\treturn share(annotationId);\r\n\t\t\t} else {\r\n\t\t\t\tvar focusedGroup = groups.focused();\r\n\t\t\t\tif (focusedGroup.objId && focusedGroup.objId != null) {\r\n\t\t\t\t\treturn share();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\taddToTaskSpace(data).then(function(resp) {\r\n\t\t\t\tif (resp && !resp.message) {\r\n\t\t\t\t\treturn share();\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tflash.error(\"You must login to share the Taskspace\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t}\r\n\t};\r\n\r\n\t\r\n\r\n\r\n\tfunction moveDocToTaskspace() {\r\n\t\tif (self.auth.status == 'logged-out') {\r\n\t\t\treturn flash.error(\"You must login to move the web resource\");\r\n\t\t}\r\n\t\tvar focusedGroup = groups.focused();\r\n\t\tif (focusedGroup.objId && focusedGroup.objId != null) {\r\n\t\t\tmoveWebResource.moveDocument(focusedGroup,self.auth);\r\n\t\t} else {\r\n\t\t\tflash.error('Focused group does not have web resource document on current url.',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction authorize(authWindow) {\r\n\t\tvar authResponse = new Promise((resolve, reject) => {\r\n\t\t\tfunction authRespListener(event) {\r\n\t\t\t\tif (event.data.code === 'Share Links') {\r\n\t\t\t\t\tresolve(event.data);\r\n\t\t\t\t}\r\n\t\t\t\t$window.removeEventListener('message', authRespListener);\r\n\t\t\t}\r\n\t\t\t$window.addEventListener('message', authRespListener);\r\n\t\t});\r\n\t\treturn authResponse;\r\n\t}\r\n\t\r\n\tfunction closeShareWindow() {\r\n\t\t/*if (sharelinkWindow && sharelinkWindow != null && !sharelinkWindow.closed) {\r\n\t\t\tsharelinkWindow.close();\r\n\t\t}*/\r\n\t\tframeSync.closeShareLink();\r\n\t}\r\n\r\n\tfunction getDocumentLink(group, tsObj) {\r\n\t\t//closeShareWindow();\r\n\t\tif (group && tsObj) {\r\n\t\t\tvar fileBaseUrl = self.auth.authority;\r\n\t\t\tvar origin = \"chrome-extension://\" + self.auth.preferences.ExtensionId;\r\n\t\t\tvar title = \"SHARE ANNOTATIONS ON WEBPAGE\";\r\n\t\t\tvar sharelinkUrl = fileBaseUrl + \"/sharelinks/\" + group.id + \"/\" + group.clientId + \"?d=\" + tsObj.objectId + \"&digestFor=DigestDocument\" + \"&origin=\" + encodeURI(origin);\r\n\t\t\tif (!_.isEmpty(tsObj.digestDocAnnotId)) {\r\n\t\t\t\ttitle = \"SHARE ANNOTATION ON WEBPAGE\";\r\n\t\t\t\tsharelinkUrl = sharelinkUrl + \"&da=\" + tsObj.digestDocAnnotId;\r\n\t\t\t}\r\n            sharelinkUrl =sharelinkUrl+\"&title=\"+title;\r\n\r\n            frameSync.shareLink(sharelinkUrl);\r\n\t\t} else {\r\n\r\n\t\t}\r\n\t}\r\n\r\n\t// Display the dialog for sharing the current page\r\n\tthis.groupInfo = function() {\r\n\t\tif (self.auth.status !== 'logged-out') {\r\n\t\t\tself.groupInfoDialog.visible = !self.groupInfoDialog.visible;\r\n\t\t\tscrollToView('group-info-dialog');\r\n\t\t} else {\r\n\t\t\tflash.error(\"You must login to view the Taskspace information\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t}\r\n\t};\r\n\t\r\n\t// Display the taskspace digest in new window popup.\r\n\tthis.viewTsDigest = function() {\r\n\t\tvar fileBaseUrl = self.auth.authority;\r\n\t\tvar origin = \"chrome-extension://\" + self.auth.preferences.ExtensionId;\r\n\t\tvar group = groups.focused();\r\n\t\tif (group && group.objId && group.objClientId) {\r\n\t\t\tvar viewTSDigestUrl = fileBaseUrl + \"/tsdigestview/\" + group.id + \"/\" + group.clientId + \"?donotShowNavBar=true\" + \"&origin=\" + encodeURI(origin);\r\n\t\t\tframeSync.viewTSDigest(viewTSDigestUrl);\r\n\t\t}\r\n\t};\r\n\t\r\n\t\r\n\tthis.tagDocument = function(data) {\r\n\t\tif (store.focusedGroup()) {\r\n\t\t\tvar focusedGroup = groups.focused();\r\n\t\t\tif (focusedGroup.objId && focusedGroup.objId != null) {\r\n\t\t\t\t$rootScope.$broadcast('showPageInfo',true);\r\n\t\t\t\t$rootScope.$broadcast('editTags',true);\r\n\t\t\t} else {\r\n\t\t\t\tstore.selectTagBtn(true);\r\n\t\t\t\taddToTaskSpace(data).then(function(resp) {\r\n\t\t\t\t\tif (resp && !resp.message) {\r\n\t\t\t\t\t\t$rootScope.$broadcast('showPageInfo',true);\r\n\t\t\t\t\t\t$rootScope.$broadcast('editTags',true);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif (!session.state.userid) {\r\n\t\t\t\tflash.error(\"Please Login to Save WebResource\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t} else {\r\n\t\t\t\tflash.error(\"Please Select a taskspace to Save WebResource\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t};\r\n\r\n\t// Display the dialog for create and share the new group/taskspace\r\n\tthis.createGroup = function() {\r\n\t\tif (self.auth.status !== 'logged-out') {\r\n\t\t\t//self.createGroupDialog.visible = true;\r\n\t\t\t//scrollToView('create-group-dialog');\r\n\t\t\t\r\n\t\t\tgroups.createTaskspace();\r\n\t\t} else {\r\n\t\t\tflash.error(\"You must login to create the Taskspace\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t}\r\n\t};\r\n\r\n\tthis.showAboutPanel = function() {\r\n\t\tvar service = serviceConfig(settings) || {};\r\n\t\tif (service.onAboutRequestProvided) {\r\n\t\t\t// Let the host page handle the about request.\r\n\t\t\tbridge.call(bridgeEvents.ABOUT_REQUESTED);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tthis.aboutPanel.visible = true;\r\n\t};\r\n\r\n\tthis.showHelpPanel = function() {\r\n\t\tif (self.auth.status !== 'logged-out') {\r\n\t\t\tvar service = serviceConfig(settings) || {};\r\n\t\t\tif (service.onHelpRequestProvided) {\r\n\t\t\t\t// Let the host page handle the help request.\r\n\t\t\t\tbridge.call(bridgeEvents.HELP_REQUESTED);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.helpPanel.visible = true;\r\n\t\t\tscrollToView('help-panel');\r\n\t\t} else {\r\n\t\t\tflash.error(\"You must login to share the Taskspace\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t}\r\n\t};\r\n\r\n\t// Prompt to discard any unsaved drafts.\r\n\tvar promptToLogout = function() {\r\n\t\t// TODO - Replace this with a UI which doesn't look terrible.\r\n\t\tvar text = '';\r\n\t\tif (drafts.count() === 1) {\r\n\t\t\ttext = 'You have an unsaved annotation.\\n' +\r\n\t\t\t\t'Do you really want to discard this draft?';\r\n\t\t} else if (drafts.count() > 1) {\r\n\t\t\ttext = 'You have ' + drafts.count() + ' unsaved annotations.\\n' +\r\n\t\t\t\t'Do you really want to discard these drafts?';\r\n\t\t}\r\n\t\treturn (drafts.count() === 0 || $window.confirm(text));\r\n\t};\r\n\r\n\t// Log the user out.\r\n\tthis.logout = function() {\r\n\t\tif (!promptToLogout()) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tdrafts.unsaved().forEach(function(draft) {\r\n\t\t\t$rootScope.$emit(events.ANNOTATION_DELETED, draft);\r\n\t\t});\r\n\t\tdrafts.discard();\r\n\r\n\t\tif (serviceConfig(settings)) {\r\n\t\t\t// Let the host page handle the signup request\r\n\t\t\tbridge.call(bridgeEvents.LOGOUT_REQUESTED);\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tself.shareDialog = { visible: false };\r\n\t\tself.cookieDialog = { visible: false };\r\n\t\t//self.maintenanceDialog = { visible: false };\r\n\t\tself.groupInfoDialog = { visible: false };\r\n\t\tself.tagInfoDialog = { visible: false };\r\n\t\tself.createGroupDialog = { visible: false };\r\n\t\tself.aboutPanel = { visible: false };\r\n\t\tself.helpPanel = { visible: false };\r\n        closeShareWindow();\r\n\t\treturn session.logout();\r\n\t};\r\n\r\n\tthis.showSignupBtn = function() {\r\n\t\treturn (self.auth.isPublic && _.isEmpty(self.auth.userid));\r\n\t};\r\n\r\n\tthis.search = {\r\n\t\tquery: function() {\r\n\t\t\treturn store.getState().filterQuery;\r\n\t\t},\r\n\t\tupdate: function(query) {\r\n\t\t\tstore.setFilterQuery(query);\r\n\t\t},\r\n\t};\r\n\r\n\tthis.countPendingUpdates = streamer.countPendingUpdates;\r\n\tthis.applyPendingUpdates = streamer.applyPendingUpdates;\r\n\r\n}\r\n\r\nmodule.exports = {\r\n\tcontroller: HypothesisAppController,\r\n\tcontrollerAs: 'vm',\r\n\ttemplate: require('../templates/hypothesis-app.html'),\r\n};\r\n",
    "'use strict';\n\nmodule.exports = {\n  controllerAs: 'vm',\n  //@ngInject\n  controller: function (serviceUrl) {\n    this.serviceUrl = serviceUrl;\n  },\n  bindings: {\n    /**\n     * Called when the user clicks on the \"Log in\" text.\n     */\n    onLogin: '&',\n  },\n  template: require('../templates/loggedout-message.html'),\n};\n",
    "'use strict';\n\nvar bridgeEvents = require('../../shared/bridge-events');\nvar { isThirdPartyUser } = require('../util/account-id');\nvar serviceConfig = require('../service-config');\n\nmodule.exports = {\n  controllerAs: 'vm',\n\n  //@ngInject\n  controller: function (bridge, serviceUrl, settings, $window,$modal) {\n    this.serviceUrl = serviceUrl;\n\n    this.isThirdPartyUser = function() {\n      return isThirdPartyUser(this.auth.userid, settings.authDomain);\n    };\n\n    this.shouldShowLogOutButton = function () {\n      if (this.auth.status !== 'logged-in') {\n        return false;\n      }\n      var service = serviceConfig(settings);\n      if (service && !service.onLogoutRequestProvided) {\n        return false;\n      }\n      return true;\n    };\n    \n    this.shouldShowTimeLogButton = function () {\n        if (this.auth.status == 'logged-in' && (this.auth.preferences && this.auth.preferences.showTimeLog)) {\n          return true;\n        }\n        return false;\n    };\n    \n    this.shouldEnableProfileButton = function () {\n      var service = serviceConfig(settings);\n      if (service) {\n        return service.onProfileRequestProvided;\n      }\n      return true;\n    };\n\n    this.showProfile = function () {\n      if (this.isThirdPartyUser()) {\n        bridge.call(bridgeEvents.PROFILE_REQUESTED);\n        return;\n      }\n      $window.open(this.serviceUrl('user', {user: this.auth.username}));\n    };\n\n    this.showTimeLog = function() {\n\t\t$modal.open({\n\t\t\t  animation: true,\n\t\t      template : require('../templates/time-log.html'),\n\t\t      controller: 'TimeLogModal',\n\t\t      controllerAs: 'vm',\n\t\t      backdrop: 'static',\n\t\t      size: \"lg\"\n\t\t});\n   };\n\n  },\n\n  bindings: {\n    /**\n     * An object representing the current authentication status.\n     */\n    auth: '<',\n    /**\n     * Called when the user clicks on the \"About\" text.\n     */\n    onShowAboutPanel: '&',\n    /**\n     * Called when the user clicks on the \"Help\" text.\n     */\n    onShowHelpPanel: '&',\n    /**\n     * Called when the user clicks on the \"Log in\" text.\n     */\n    onLogin: '&',\n    /**\n     * Called when the user clicks on the \"Sign Up\" text.\n     */\n    onSignUp: '&',\n    /**\n     * Called when the user clicks on the \"Log out\" text.\n     */\n    onLogout: '&',\n    /**\n     * Whether or not to use the new design for the control.\n     *\n     * FIXME: should be removed when the old design is deprecated.\n     */\n    newStyle: '<',\n  },\n  template: require('../templates/login-control.html'),\n};\n",
    "'use strict';\n\nvar debounce = require('lodash.debounce');\n\nvar commands = require('../markdown-commands');\nvar mediaEmbedder = require('../media-embedder');\nvar renderMarkdown = require('../render-markdown');\nvar scopeTimeout = require('../util/scope-timeout');\n\n// @ngInject\nfunction MarkdownController($element, $sanitize, $scope) {\n  var input = $element[0].querySelector('.js-markdown-input');\n  var output = $element[0].querySelector('.js-markdown-preview');\n\n  var self = this;\n\n  /**\n   * Transform the editor's input field with an editor command.\n   */\n  function updateState(newStateFn) {\n    var newState = newStateFn({\n      text: input.value,\n      selectionStart: input.selectionStart,\n      selectionEnd: input.selectionEnd,\n    });\n\n    input.value = newState.text;\n    input.selectionStart = newState.selectionStart;\n    input.selectionEnd = newState.selectionEnd;\n\n    // The input field currently loses focus when the contents are\n    // changed. This re-focuses the input field but really it should\n    // happen automatically.\n    input.focus();\n\n    self.onEditText({text: input.value});\n  }\n\n  function focusInput() {\n    // When the visibility of the editor changes, focus it.\n    // A timeout is used so that focus() is not called until\n    // the visibility change has been applied (by adding or removing\n    // the relevant CSS classes)\n    scopeTimeout($scope, function () {\n      input.focus();\n    }, 0);\n  }\n\n  this.insertBold = function() {\n    updateState(function (state) {\n      return commands.toggleSpanStyle(state, '**', '**', 'Bold');\n    });\n  };\n\n  this.insertItalic = function() {\n    updateState(function (state) {\n      return commands.toggleSpanStyle(state, '*', '*', 'Italic');\n    });\n  };\n\n  this.insertMath = function() {\n    updateState(function (state) {\n      var before = state.text.slice(0, state.selectionStart);\n\n      if (before.length === 0 ||\n          before.slice(-1) === '\\n' ||\n          before.slice(-2) === '$$') {\n        return commands.toggleSpanStyle(state, '$$', '$$', 'Insert LaTeX');\n      } else {\n        return commands.toggleSpanStyle(state, '\\\\(', '\\\\)',\n                                            'Insert LaTeX');\n      }\n    });\n  };\n\n  this.insertLink = function() {\n    updateState(function (state) {\n      return commands.convertSelectionToLink(state);\n    });\n  };\n\n  this.insertIMG = function() {\n    updateState(function (state) {\n      return commands.convertSelectionToLink(state,\n        commands.LinkType.IMAGE_LINK);\n    });\n  };\n\n  this.insertList = function() {\n    updateState(function (state) {\n      return commands.toggleBlockStyle(state, '* ');\n    });\n  };\n\n  this.insertNumList = function() {\n    updateState(function (state) {\n      return commands.toggleBlockStyle(state, '1. ');\n    });\n  };\n\n  this.insertQuote = function() {\n    updateState(function (state) {\n      return commands.toggleBlockStyle(state, '> ');\n    });\n  };\n\n  // Keyboard shortcuts for bold, italic, and link.\n  $element.on('keydown', function(e) {\n    var shortcuts = {\n      66: self.insertBold,\n      73: self.insertItalic,\n      75: self.insertLink,\n    };\n\n    var shortcut = shortcuts[e.keyCode];\n    if (shortcut && (e.ctrlKey || e.metaKey)) {\n      e.preventDefault();\n      shortcut();\n    }\n  });\n\n  this.preview = false;\n  this.togglePreview = function () {\n    self.preview = !self.preview;\n  };\n\n  var handleInputChange = debounce(function () {\n    $scope.$apply(function () {\n      self.onEditText({text: input.value});\n    });\n  }, 100);\n  input.addEventListener('input', handleInputChange);\n\n  // Re-render the markdown when the view needs updating.\n  $scope.$watch('vm.text', function () {\n    output.innerHTML = renderMarkdown(self.text || '', $sanitize);\n    mediaEmbedder.replaceLinksWithEmbeds(output);\n  });\n\n  this.showEditor = function () {\n    return !self.readOnly && !self.preview;\n  };\n\n  // Exit preview mode when leaving edit mode\n  $scope.$watch('vm.readOnly', function () {\n    self.preview = false;\n  });\n\n  $scope.$watch('vm.showEditor()', function (show) {\n    if (show) {\n      input.value = self.text || '';\n      focusInput();\n    }\n  });\n}\n\n/**\n * @name markdown\n * @description\n * This directive controls both the rendering and display of markdown, as well as\n * the markdown editor.\n */\n// @ngInject\nmodule.exports = {\n  controller: MarkdownController,\n  controllerAs: 'vm',\n  bindings: {\n    customTextClass: '<?',\n    readOnly: '<',\n    text: '<?',\n    onEditText: '&',\n  },\n  template: require('../templates/markdown.html'),\n};\n",
    "'use strict';\n\nvar annotationMetadata = require('../annotation-metadata');\n\n// @ngInject\nfunction ModerationBannerController(store, flash, api) {\n  var self = this;\n\n  this.flagCount = function () {\n    return annotationMetadata.flagCount(self.annotation);\n  };\n\n  this.isHidden = function () {\n    return self.annotation.hidden;\n  };\n\n  this.isHiddenOrFlagged = function () {\n    var flagCount = self.flagCount();\n    return flagCount !== null && (flagCount > 0 || self.isHidden());\n  };\n\n  this.isReply = function () {\n    return annotationMetadata.isReply(self.annotation);\n  };\n\n  /**\n   * Hide an annotation from non-moderator users.\n   */\n  this.hideAnnotation = function () {\n    api.annotation.hide({id: self.annotation.id}).then(function () {\n      store.hideAnnotation(self.annotation.id);\n    }).catch(function () {\n      flash.error('Failed to hide annotation',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n    });\n  };\n\n  /**\n   * Un-hide an annotation from non-moderator users.\n   */\n  this.unhideAnnotation = function () {\n    api.annotation.unhide({id: self.annotation.id}).then(function () {\n      store.unhideAnnotation(self.annotation.id);\n    }).catch(function () {\n      flash.error('Failed to unhide annotation',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n    });\n  };\n}\n\n/**\n * Banner shown above flagged annotations to allow moderators to hide/unhide the\n * annotation from other users.\n */\n\nmodule.exports = {\n  controller: ModerationBannerController,\n  controllerAs: 'vm',\n  bindings: {\n    annotation: '<',\n  },\n  template: require('../templates/moderation-banner.html'),\n};\n",
    "'use strict';\r\nvar events = require('../events');\r\n\r\n/* @ngInject */\r\nfunction MoveDocConfirmModalController($scope, $modalInstance,confirmdata,modalOptions) {\r\n\t'ngInject';\r\n\tvar self = this;\r\n\t\r\n\tself.modalOptions = modalOptions;\r\n\tself.moveWithAnnotations = {\r\n\t\toption: \"move\"\r\n\t}\r\n\t\r\n\t\r\n\tself.cancel = function() {\r\n\t\t$modalInstance.dismiss('cancel');\r\n\t};\r\n\t\r\n\tself.ok = function() {\r\n\t\tlet moveordelete = Object.assign({},self.moveWithAnnotations);\r\n\t\t$modalInstance.close(moveordelete.option);\r\n\t};\r\n\t \r\n    self.disableConfirm = function() {\r\n\t    if(self.count) {\r\n\t\t\treturn self.moveWithAnnotations.option ? false : true;\r\n\t    }\r\n        return false;\r\n\t};\r\n\t\r\n\tfunction init() {\r\n\t\tself.link = confirmdata.link;\r\n\t\t//self.count = confirmdata.count;\r\n\t}\r\n\t\r\n\tinit();\r\n}\r\n\r\nmodule.exports = MoveDocConfirmModalController;\r\n",
    "'use strict';\r\nvar events = require('../events');\r\n\r\n/* @ngInject */\r\nfunction MoveToTaskspaceModalController($scope, groups, $modalInstance, moveData, moveDocCorfirm,$q,userPreference) {\r\n\t'ngInject';\r\n\tvar self = this;\r\n\tself.groups = groups;\r\n\tself.from = \"\";\r\n\tself.modalOptions = {\r\n\t\tcancel: 'Cancel',\r\n\t\tmoveTsButtonText: 'Move',\r\n\t\tmoveSecButtonText: 'Move To Taskspace Section',\r\n\t\theaderText: 'Move Web Resource',\r\n\t\taddSection: 'Add Section',\r\n\t};\r\n\r\n\r\n\tself.moveConfimation = function(fromGroup,postdata) {\r\n\t\tlet link = groups.checkDocuLinkExists(fromGroup).then(function(link) {\r\n\t\t\treturn link;\r\n\t\t});\r\n\r\n\t\t/*let annotCount = groups.getAnnotationCount(fromGroup).then(function(count) {\r\n\t\t\treturn count;\r\n\t\t});*/\r\n\r\n\t\t$q.all([link]).then(function(resp) {\r\n\t\t\tif (resp && resp.length > 0) {\r\n\t\t\t\tif (resp[0]) {\r\n\t\t\t\t\tlet data = {\r\n\t\t\t\t\t\tlink: resp[0],\r\n\t\t\t\t\t};\r\n\t\t\t\t\tmoveDocCorfirm.confirm(data).then(function(moveOrdeleteAnnot) {\r\n\t\t\t\t\t\tpostdata.actionOnAnnotations = moveOrdeleteAnnot;\r\n\t\t\t\t\t\t$modalInstance.close(postdata);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$modalInstance.close(postdata);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\t\r\n\tself.getDocFrom = function() {\r\n\t\tif (self.from) {\r\n\t\t\treturn self.from;\r\n\t\t}\r\n\t\tif (self.fromGroup) {\r\n\t\t\tself.from = self.fromGroup.name;\r\n\t\t\tif (self.fromGroup.webresource) {\r\n\t\t\t\tlet section = groups.getDocSection(self.fromGroup);\r\n\t\t\t\tif (section) {\r\n\t\t\t\t\tself.from = self.from + \" / \" + section.name;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn self.from;\r\n\t}\r\n\r\n\t$scope.$watch(angular.bind(self, function() {\r\n\t\treturn self.group;\r\n\t}), function(newGroup, oldGroup) {\r\n\t\tif(newGroup && oldGroup && newGroup.id != oldGroup.id) {\r\n\t\t\tself.group = newGroup;\r\n\t\t\tself.section = self.group ? self.groups.getfocusedSection(self.group.id) : {};\r\n\t\t}\r\n\t});\r\n\r\n\r\n\t$scope.$on(events.GROUP_UPDATED, function(event, groupId) {\r\n\t\tif (self.group && self.group.id == groupId) {\r\n\t\t\tself.group = groups.get(groupId);\r\n\t\t}\r\n\t});\r\n\r\n\tself.cancel = function() {\r\n\t\t$modalInstance.dismiss('cancel');\r\n\t};\r\n\r\n\tself.movetToTaskspace = function() {\r\n\t\tlet postdata = update();\r\n\t\tif(postdata.fromTaskspaceId == postdata.toTaskspaceId) { \r\n\t\t\t$modalInstance.close(postdata);\r\n\t\t}\r\n\t\t\r\n\t\tif(postdata.fromTaskspaceId != postdata.toTaskspaceId && self.fromGroup) { \r\n\t\t\tself.moveConfimation(self.fromGroup,postdata);\r\n\t\t}\r\n\t\t\r\n\t};\r\n\r\n\tself.movetToSection = function() {\r\n\t\tlet data = update();\r\n\t\t$modalInstance.close(data);\r\n\t};\r\n    \r\n\tself.allowCreateSection = userPreference.canCreateSection;\r\n\tself.hasSections = function() {\r\n\t\tif (self.group) {\r\n\t\t\treturn self.group.sections && self.group.sections.length > 0;\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tfunction update() {\r\n\t\treturn Object.assign({}, {\r\n\t\t\twebresourceId: self.fromGroup && self.fromGroup.webresource ? self.fromGroup.webresource.objectId : null,\r\n\t\t\twebresourceClientId: self.fromGroup && self.fromGroup.webresource ? self.fromGroup.webresource.clientId : null,\r\n\t\t\t\r\n\t\t\tfromTaskspaceId: self.fromGroup ? self.fromGroup.id : null,\r\n\t\t\tfromClientId: self.fromGroup  ? self.fromGroup.clientId : null,\r\n\t\t\t\r\n\t\t\ttoTaskspaceId: self.group ? self.group.id : null,\r\n\t\t\ttoClientId: self.group ? self.group.clientId : null,\r\n\t\t\t\r\n\t\t\ttoSectionId: self.section ? self.section.id : null,\r\n\t\t});\r\n\t}\r\n\r\n\tself.onNewSection = function(data) {\r\n\t\tself.section = data.section;\r\n\t\t//groups.addSection(self.group.id,data.section);\r\n\t}\r\n\r\n\tself.disableMove = function() {\r\n\t\tif (self.fromGroup.id != self.group.id) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tif (self.fromGroup.id == self.group.id) {\r\n\t\t\tlet sectToTs = (self.fromSection && !self.section) ? true : false;\r\n\t\t\tlet tsToSec = (!self.fromSection && self.section) ? true : false;\r\n\t\t\tlet secTosec = (self.fromSection && self.section && self.fromSection.id != self.section.id) ? true : false;\r\n\r\n\t\t\treturn !(sectToTs || tsToSec || secTosec);\r\n\t\t}\r\n\t\treturn true;\r\n\t};\r\n\r\n\tfunction init() {\r\n\t\tself.group = angular.copy(moveData.fromGroup);\r\n\t\tself.fromGroup = moveData.fromGroup;\r\n\t\tif (self.fromGroup) {\r\n\t\t\tself.fromSection = groups.getDocSection(self.fromGroup);\r\n\t\t\tself.section = angular.copy(self.fromSection);\r\n\t\t} else {\r\n\t\t\tself.fromSection = null;\r\n\t\t}\r\n\t\tself.auth = moveData.auth;\r\n\t}\r\n\r\n\tinit();\r\n}\r\n\r\nmodule.exports = MoveToTaskspaceModalController;\r\n",
    "'use strict';\n\nvar events = require('../events');\n\nmodule.exports = {\n  controllerAs: 'vm',\n  //@ngInject\n  controller: function ($rootScope, store) {\n    this.onNewNoteBtnClick = function(){\n      var topLevelFrame = store.frames().find(f=>!f.id);\n      var annot = {\n        target: [],\n        uri: topLevelFrame.uri,\n      };\n\n      $rootScope.$broadcast(events.BEFORE_ANNOTATION_CREATED, annot);\n    };\n  },\n  bindings: {\n  },\n  template: require('../templates/new-note-btn.html'),\n};\n",
    "'use strict';\r\nvar events = require('../events');\r\nvar urlUtil = require('../util/url-util');\r\nvar debounce = require('lodash.debounce');\r\n\r\n// @ngInject\r\nfunction PageInfoController($rootScope, $scope, groups, _, confirmDocRemoveAction, store,$timeout) {\r\n\tvar self = this;\r\n\tvar pageInfoTimer = null;\r\n\tthis.editTitle = false;\r\n\tthis.pageInfo = {};\r\n\tthis.webresourceExist = false;\r\n\tthis.hasEdit = false;\r\n\tthis.showloader = true;\r\n\tthis.tags = { editMode: store.getTagBtn(true) || false };\r\n\t\r\n\t$scope.$on(\"$destroy\", function() {\r\n        if (pageInfoTimer) {\r\n           $timeout.cancel(pageInfoTimer);\r\n        }\r\n    });\r\n\r\n\t$scope.$on(events.GROUP_FOCUSED, function(event, focusedGroupId) {\r\n\t\tinit();\r\n\t});\r\n\r\n\t$scope.$watch(() => ([groups.getwebResource()]), ([current], [prev]) => {\r\n\t\tinit();\r\n\t}, true);\r\n\r\n\t$scope.$on(\"editTags\", function(event, editmode) {\r\n\t\tself.tags.editMode = editmode;\r\n\t});\r\n\r\n\t$scope.$on(\"urlChanged\", function(event, data) {\r\n\t\tinit();\r\n\t});\r\n\r\n\tfunction removeConfirm(hasDocLink) {\r\n\t\tvar text = \"<div>The Document is Shared as a link. On removing the Document the link would be deleted permanently (shared link will not be accessible)</div>\\\r\n\t\t<br><div>Are you sure you want to remove this document from task space ?</div>\";\r\n\t\tvar modalOptions = {\r\n\t\t\thasDocLink: hasDocLink\r\n\t\t};\r\n\t\treturn confirmDocRemoveAction.showModal({}, modalOptions);\r\n\t}\r\n\r\n\tfunction deleteDocument(group) {\r\n\t\tgroups.deleteWebresource(group).then(function(resp) {\r\n\t\t\tif (resp) {\r\n\t\t\t\tgroups.load(group.id);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction removeWebResource(group, deleteDoc, action) {\r\n\t\tgroups.removeWebResource(group, action).then(function(resp) {\r\n\t\t\tif (resp) {\r\n\t\t\t\tif (deleteDoc) {\r\n\t\t\t\t\tdeleteDocument(group);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tgroups.load(group.id);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tthis.removeFromTaskSpace = function() {\r\n\t\tvar group = groups.focused();\r\n\t\tif (!group) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tlet modalInstance = confirmDocRemoveAction.removeConfimation(group);\r\n\t\tmodalInstance.then(function(userOptions) {\r\n\t\t\tremoveWebResource(group, userOptions.deleteObject, userOptions.deleteAnnot);\r\n\t\t}, function() { });\r\n\t}\r\n\r\n\tthis.addTotaskspace = function() {\r\n\t\t$rootScope.$broadcast(events.ADD_TO_TASKSPACE, {});\r\n\t};\r\n\r\n\tthis.addPdfTotaskspace = function() {\r\n\t\t$rootScope.$broadcast(events.ADD_TO_TASKSPACE, {});\r\n\t};\r\n\r\n\tthis.isPdf = false;\r\n    \r\n    function isPdfDocument() {\r\n\t\tself.isPdf = false;\r\n\t\tvar docInfo = groups.fetchDocumentInfo();\r\n\t\tdocInfo.then(docMetaInfo => {\r\n\t\t\tif (docMetaInfo && docMetaInfo.metadata) {\r\n\t\t\t\tif (docMetaInfo.metadata.filename || docMetaInfo.metadata.pdfInfo) {\r\n\t\t\t\t\tself.isPdf = true;\r\n\t\t\t\t} \r\n\t\t\t} \r\n\t\t});\r\n\t};\r\n\r\n\tthis.canTag = function() {\r\n\t\tvar group = groups.focused();\r\n\t\treturn group && groups.canTag(group);\r\n\t};\r\n\r\n\tthis.setPageInfo = function(metatags) {\r\n\t\t$timeout.cancel(pageInfoTimer);\r\n\t\tpageInfoTimer = $timeout(function(){\r\n\t\t\tself.pageInfo.title = metatags.title;\r\n\t\t\tself.pageInfo.imageUrl = metatags.imageUrl || \"\";\r\n\t\t\tself.pageInfo.description = metatags.description || \"\";\r\n\t\t\tself.pageInfo.sourceUrl = metatags.sourceUrl || \"\";\r\n\t\r\n\t\t\tif (self.pageInfo.sourceUrl) {\r\n\t\t\t\tvar urlObj = urlUtil.parseUrl(self.pageInfo.sourceUrl);\r\n\t\t\t\tself.pageInfo.hostName = urlObj && urlObj.hostname ? urlObj.hostname : \"\";\r\n\t\t\t}\r\n\t\t\tself.showloader = false;\r\n\t\t},100);\r\n\t};\r\n\r\n\tfunction processMetaTagInfo(docMetaTags) {\r\n\t\tvar metaInfo = {};\r\n\t\tif (docMetaTags) {\r\n\t\t\tif (null != docMetaTags[\"twitter:image\"] && docMetaTags[\"twitter:image\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"imageUrl\"] = docMetaTags[\"twitter:image\"];\r\n\t\t\t} else if (null != docMetaTags[\"og:image\"] && docMetaTags[\"og:image\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"imageUrl\"] = docMetaTags[\"og:image\"];\r\n\t\t\t} else if (null != docMetaTags[\"parsely-image-url\"] && docMetaTags[\"parsely-image-url\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"imageUrl\"] = docMetaTags[\"parsely-image-url\"];\r\n\t\t\t}\r\n\r\n\t\t\tif (null != docMetaTags[\"twitter:title\"] && docMetaTags[\"twitter:title\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"title\"] = docMetaTags[\"twitter:title\"];\r\n\t\t\t} else if (null != docMetaTags[\"og:title\"] && docMetaTags[\"og:title\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"title\"] = docMetaTags[\"og:title\"];\r\n\t\t\t} else if (null != docMetaTags[\"parsely-title\"] && docMetaTags[\"parsely-title\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"title\"] = docMetaTags[\"parsely-title\"];\r\n\t\t\t} else if (null != docMetaTags[\"webResourceTitle\"] && docMetaTags[\"webResourceTitle\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"title\"] = docMetaTags[\"webResourceTitle\"];\r\n\t\t\t}\r\n\r\n\t\t\tif (null != docMetaTags[\"twitter:url\"] && docMetaTags[\"twitter:url\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"sourceUrl\"] = docMetaTags[\"twitter:url\"];\r\n\t\t\t} else if (null != docMetaTags[\"og:url\"] && docMetaTags[\"og:url\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"sourceUrl\"] = docMetaTags[\"og:url\"];\r\n\t\t\t} else if (null != docMetaTags[\"parsely-link\"] && docMetaTags[\"parsely-link\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"sourceUrl\"] = docMetaTags[\"parsely-link\"];\r\n\t\t\t}\r\n\r\n\t\t\tif (null != docMetaTags[\"twitter:description\"] && docMetaTags[\"twitter:description\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"description\"] = docMetaTags[\"twitter:description\"];\r\n\t\t\t} else if (null != docMetaTags[\"og:description\"] && docMetaTags[\"og:description\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"description\"] = docMetaTags[\"og:description\"];\r\n\t\t\t} else if (null != docMetaTags[\"description\"] && docMetaTags[\"description\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"description\"] = docMetaTags[\"description\"];\r\n\t\t\t} else if (null != docMetaTags[\"Description\"] && docMetaTags[\"Description\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"description\"] = docMetaTags[\"Description\"];\r\n\t\t\t}\r\n\r\n\t\t\tif (null != docMetaTags[\"twitter:image:width\"] && docMetaTags[\"twitter:image:width\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"imageWidth\"] = docMetaTags[\"twitter:image:width\"];\r\n\t\t\t} else if (null != docMetaTags[\"og:image:width\"] && docMetaTags[\"og:image:width\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"imageWidth\"] = docMetaTags[\"og:image:width\"];\r\n\t\t\t}\r\n\r\n\t\t\tif (null != docMetaTags[\"twitter:image:height\"] && docMetaTags[\"twitter:image:height\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"imageHeight\"] = docMetaTags[\"twitter:image:height\"];\r\n\t\t\t} else if (null != docMetaTags[\"og:image:height\"] && docMetaTags[\"og:image:height\"] != \"\") {\r\n\t\t\t\tmetaInfo[\"imageHeight\"] = docMetaTags[\"og:image:height\"];\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn metaInfo;\r\n\t}\r\n\r\n\tvar init = debounce(() => {\r\n\t\tself.showloader = true;\r\n\t\tself.pageInfo = {};\r\n\t\tself.webresourceExist = false;\r\n\t\tself.hasEdit = false;\r\n\t\tself.tags.editMode = store.getTagBtn(true) || false;\r\n\t\tvar group = groups.focused();\r\n\t\tvar metatags;\r\n\t\tif (group) {\r\n\t\t\ttry {\r\n\t\t\t\tself.hasEdit = group.permissions.edit;\r\n\t\t\t} catch (e) { }\r\n\t\t\tif (group.webresource) {\r\n\t\t\t\tmetatags = group.webresource.metainfo;\r\n\t\t\t\tself.webresourceExist = true;\r\n\t\t\t\tif (metatags) {\r\n\t\t\t\t\tself.setPageInfo(metatags);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar promise = groups.getMetaDataFromUrl();\r\n\t\t\t\tpromise.then(function(docMetaInfo) {\r\n\t\t\t\t\tif (docMetaInfo && docMetaInfo.metadata) {\r\n\t\t\t\t\t\tif (docMetaInfo.metadata.metatags) {\r\n\t\t\t\t\t\t\tmetatags = processMetaTagInfo(docMetaInfo.metadata.metatags);\r\n\t\t\t\t\t\t} else if (docMetaInfo.metadata.filename || docMetaInfo.metadata.pdfInfo) {\r\n\t\t\t\t\t\t\tmetatags = {\r\n\t\t\t\t\t\t\t\ttitle: docMetaInfo.metadata.title || docMetaInfo.metadata.filename,\r\n\t\t\t\t\t\t\t\tsourceUrl: docMetaInfo.uri || \"\",\r\n\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tmetatags.title = metatags.title || (docMetaInfo.metadata ? docMetaInfo.metadata.title : \"\") || docMetaInfo.uri;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (metatags) {\r\n\t\t\t\t\t\tself.setPageInfo(metatags);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\tisPdfDocument();\r\n\t\t}\r\n\t}, 1000);\r\n\r\n\tinit();\r\n}\r\n\r\nmodule.exports = {\r\n\tcontroller: PageInfoController,\r\n\tcontrollerAs: 'vm',\r\n\tbindings: {\r\n\t\tauth: '<'\r\n\t},\r\n\ttemplate: require('../templates/page-info.html'),\r\n};\r\n",
    "'use strict';\r\n\r\nvar queryString = require('query-string');\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction PostToSocialMediaModal($scope,api,$modalInstance,DigestLinkinfo,\r\n\t\tshareCommentaryTxt,authUsrPreferences,MediaChannelInfo,_,flash,confirm,$window,$timeout) {\r\n\tvar self = this;\r\n\t\r\n\t// Instance variables\r\n\tvar longHyphenTxt = \"\\u2014\";\r\n\tvar newlineTxt = \"\\n\";\r\n\tvar doubleNewlineTxt = \"\\n\\n\";\r\n\tvar digestSettings = {};\r\n\tif(!_.isEmpty(DigestLinkinfo.properties)) {\r\n\t\tdigestSettings = angular.copy(DigestLinkinfo.properties.digestSettings);\r\n\t} else if(!_.isEmpty(DigestLinkinfo.linkObj.properties)) {\r\n\t\tdigestSettings = angular.copy(DigestLinkinfo.linkObj.properties.digestSettings);\r\n\t}\r\n\t\r\n\tself.mediaChannel = MediaChannelInfo.channel;\r\n\tself.DigestInfo = {\"title\" : digestSettings.digestName,\"shareCommentary\" : !_.isEmpty(shareCommentaryTxt.text) ? shareCommentaryTxt.text : digestSettings.digestDescription};\r\n\tself.authUsrPreferences = angular.copy(authUsrPreferences);\r\n\tself.articleId;\r\n\tself.focusLink = false;\r\n\tself.visibilityOptionList = [\r\n     \t\t                        {\"label\" : \"CONNECTIONS\",\"value\" : \"CONNECTIONS\"},\r\n    \t\t                        {\"label\" : \"GROUP OR PRIVATE MESSAGE\",\"value\" : \"CONTAINER\"},\r\n    \t\t                        {\"label\" : \"PUBLIC\",\"value\" : \"PUBLIC\"},\r\n    \t\t                    ];\r\n\tself.visibilityOption = self.visibilityOptionList[0];\r\n\t\r\n\tself.shareCommentaryMaxText = 230;\r\n\tself.shareCommentaryTextRemaining = angular.copy(self.shareCommentaryMaxText);\r\n\t\r\n\tself.NumiciMktMsgTxt = \"Curated using Numici.com Sign up today!\";\r\n\tself.NumiciMktMsg = longHyphenTxt+\"<br>\"+self.NumiciMktMsgTxt;\r\n\t\r\n\t// Methods\r\n\tself.checkShareCommentaryCharLimit = checkShareCommentaryCharLimit;\r\n\tself.postSocialMediaArticle = postSocialMediaArticle;\r\n\tself.cancel = cancel;\r\n\t\r\n\t$scope.$on(\"LinkedInAuthNotification\", function (event, message) {\r\n\t\tif(message.HasLinkedInAuth && message.HasLinkedInAuth == \"true\") {\r\n\t\t\tauthUsrPreferences.hasLinkedInAuth = true;\r\n\t\t} else if(message.HasLinkedInAuth && message.HasLinkedInAuth == \"false\") {\r\n\t\t\tauthUsrPreferences.hasLinkedInAuth = false;\r\n\t\t}\r\n\t\tif(message.LinkedInAuthUrl) {\r\n\t\t\tauthUsrPreferences.LinkedInAuthUrl = message.LinkedInAuthUrl;\r\n\t\t}\r\n\t});\r\n\t\r\n\tfunction checkShareCommentaryCharLimit(event) {\r\n\t\tvar CharLenLimitTimeout = $timeout(function() {\r\n\t\t\tif(self.DigestInfo.shareCommentary != null && self.DigestInfo.shareCommentary != undefined) {\r\n\t\t\t\tself.shareCommentaryTextRemaining = self.shareCommentaryMaxText - self.DigestInfo.shareCommentary.length;\r\n\t\t\t}\r\n\t\t\t$timeout.cancel(CharLenLimitTimeout);\r\n\t\t}, 100);\r\n\t}\r\n\t\r\n\tfunction getAuthEnabledUsrConfMsg(mediaChannel) {\r\n\t\tvar text = \"<p>Numici cannot post to groups or private messages directly.</p>\\\r\n\t\t\t<ul style='list-style: disc;padding-left: 40px;'>\\\r\n\t\t\t<li>Click on 'Go to \"+mediaChannel+\"'</li>\\\r\n\t\t\t<ul style='list-style: circle;padding-left: 40px;'>\\\r\n\t\t\t\t<li>Numici will copy share content to the clipboard</li>\\\r\n\t\t\t\t<li>Numici will take you to share content page on \"+mediaChannel+\"</li>\\\r\n\t\t\t\t<li>Select Share in a Post or Send as Private Message</li>\\\r\n\t\t\t\t<li>Copy content from clipboard</li>\\\r\n\t\t\t\t<li>Select how you want to share the post in the dropdown</li>\\\r\n\t\t\t\t<li>Click on Post</li>\\\r\n\t\t\t</ul>\\\r\n\t\t</ul>\";\r\n\t\tif(mediaChannel == \"Twitter\" && !_.isEmpty(self.authUsrPreferences.TwitterAuthEnabledForUsrConfMsgText)) {\r\n\t\t\ttext = self.authUsrPreferences.TwitterAuthEnabledForUsrConfMsgText;\r\n\t\t}\r\n\t\tif(mediaChannel == \"Facebook\" && !_.isEmpty(self.authUsrPreferences.FacebookAuthEnabledForUsrConfMsgText)) {\r\n\t\t\ttext = self.authUsrPreferences.FacebookAuthEnabledForUsrConfMsgText;\r\n\t\t}\r\n\t\tif(mediaChannel == \"LinkedIn\" && !_.isEmpty(self.authUsrPreferences.linkedInAuthEnabledForUsrConfMsgText)) {\r\n\t\t\ttext = self.authUsrPreferences.linkedInAuthEnabledForUsrConfMsgText;\r\n\t\t}\r\n\t\tif(mediaChannel == \"Whatsapp\" && !_.isEmpty(self.authUsrPreferences.WhatsappAuthEnabledForUsrConfMsgText)) {\r\n\t\t\ttext = self.authUsrPreferences.WhatsappAuthEnabledForUsrConfMsgText;\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\t\r\n\tfunction getAuthNotEnabledUsrConfMsg(mediaChannel) {\r\n\t\tvar text = \"<p>Click on 'Go to \"+mediaChannel+\"'</p>\\\r\n\t\t\t<ul style='list-style: disc;padding-left: 40px;'>\\\r\n\t\t\t\t<li>Numici will copy share content to the clipboard</li>\\\r\n\t\t\t\t<li>Numici will take you to share content page on \"+mediaChannel+\"</li>\\\r\n\t\t\t\t<li>Select Share in a Post or Send as Private Message</li>\\\r\n\t\t\t\t<li>Copy content from clipboard</li>\\\r\n\t\t\t\t<li>Select how you want to share the post in the dropdown</li>\\\r\n\t\t\t\t<li>Click on Post</li>\\\r\n\t\t\t</ul>\";\r\n\t\t\r\n\t\tif(mediaChannel == \"Facebook\") {\r\n\t\t\ttext = \"<p>Click on 'Go to Facebook'</p>\\\r\n\t\t\t\t\t<ul style='list-style: disc;padding-left: 40px;'>\\\r\n\t\t\t\t\t\t<li>Numici will copy share content to the clipboard</li>\\\r\n\t\t\t\t\t\t<li>Numici will take you to 'Share on Facebook' page</li>\\\r\n\t\t\t\t\t\t<li>Paste content from clipboard in text area</li>\\\r\n\t\t\t\t\t\t<li>Select how you want to share the post in the dropdown</li>\\\r\n\t\t\t\t\t\t<li>Click on 'Post on Facebook'</li>\\\r\n\t\t\t\t\t</ul>\"\r\n\t\t}\r\n\t\tif(mediaChannel == \"Twitter\" && !_.isEmpty(self.authUsrPreferences.TwitterAuthNotEnabledForUsrConfMsgText)) {\r\n\t\t\ttext = self.authUsrPreferences.TwitterAuthNotEnabledForUsrConfMsgText;\r\n\t\t}\r\n\t\tif(mediaChannel == \"Facebook\" && !_.isEmpty(self.authUsrPreferences.FacebookAuthNotEnabledForUsrConfMsgText)) {\r\n\t\t\ttext = self.authUsrPreferences.FacebookAuthNotEnabledForUsrConfMsgText;\r\n\t\t}\r\n\t\tif(mediaChannel == \"LinkedIn\" && !_.isEmpty(self.authUsrPreferences.linkedInAuthNotEnabledForUsrConfMsgText)) {\r\n\t\t\ttext = self.authUsrPreferences.linkedInAuthNotEnabledForUsrConfMsgText;\r\n\t\t}\r\n\t\tif(mediaChannel == \"Facebook\" && !_.isEmpty(self.authUsrPreferences.WhatsappAuthNotEnabledForUsrConfMsgText)) {\r\n\t\t\ttext = self.authUsrPreferences.WhatsappAuthNotEnabledForUsrConfMsgText;\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\t\r\n\tfunction postArticleOnSocialMediaGroup(showAPIPostFields) {\r\n\t\tvar confirmationMsgText = \"\";\r\n\t\tif(showAPIPostFields) {\r\n\t\t\tconfirmationMsgText = getAuthEnabledUsrConfMsg(self.mediaChannel)\r\n\t\t} else {\r\n\t\t\tconfirmationMsgText = getAuthNotEnabledUsrConfMsg(self.mediaChannel)\r\n\t\t}\r\n\t\t\r\n\t\tvar modalOptions = {\r\n          closeButtonText: 'CANCEL',\r\n          actionButtonText: 'Go To '+self.mediaChannel,\r\n          headerText: 'Post message on '+self.mediaChannel,\r\n          bodyText: confirmationMsgText\r\n\t\t};\r\n\t\treturn confirm.showModal({}, modalOptions);\r\n\t}\r\n\t\r\n\tfunction shareArticleOnLinkedin(postdata) {\r\n\t\tapi.link.shareArticleOnLinkedin({},postdata).then(function(resp) {\r\n\t\t\tif(resp.Status) {\r\n\t\t\t\tflash.success(\"Article shared on LinkedIn successfully\"); \r\n\t\t\t\tself.article = resp.article;\r\n\t\t\t\tself.message = resp.message;\r\n\t\t\t} else if(!resp.Status && !_.isEmpty(resp.Message)) {\r\n\t\t\t\tflash.error(resp.Message,\"Share Article On LinkedIn\",{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction postArticleOnSocialMedia(mediaChannel) {\r\n\t\tvar postdata = {};\r\n\t\tpostdata.title = self.DigestInfo.title;\r\n\t\tpostdata.shareCommentary = self.DigestInfo.shareCommentary + doubleNewlineTxt + longHyphenTxt + newlineTxt + self.NumiciMktMsgTxt;\r\n\t\tpostdata.shareUrl = DigestLinkinfo.url;\r\n\t\tpostdata.visibilityOption = self.visibilityOption ? self.visibilityOption.value : null;\r\n\t\tif(mediaChannel == \"LinkedIn\") {\r\n\t\t\tshareArticleOnLinkedin(postdata);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction openJSPopupWindow(mediaChannel,locationUrl) {\r\n\t    // In Chrome & Firefox the sizes passed to `window.open` are used for the\r\n\t    // viewport size. In Safari the size is used for the window size including\r\n\t    // title bar etc. There is enough vertical space at the bottom to allow for\r\n\t\tvar width  = 550;\r\n\t    var height = 475;\r\n\t    var left   = $window.screen.width / 2 - width / 2;\r\n\t    var top    = $window.screen.height /2 - height / 2;\r\n\t    \r\n\t    // Generate settings for `window.open` in the required comma-separated\r\n\t    var JSPopupWindowSettings = queryString.stringify({\r\n\t      left: left,\r\n\t      top: top,\r\n\t      width: width,\r\n\t      height: height,\r\n\t    }).replace(/&/g, ',');\r\n\t    \r\n\t    var newWindow = $window.open('about:blank', \"Share On \"+mediaChannel, JSPopupWindowSettings);\r\n\t    newWindow.location = locationUrl;\r\n\t}\r\n\t\r\n\tfunction postSocialMediaArticle() {\r\n\t\tvar postText = self.DigestInfo.shareCommentary + doubleNewlineTxt + longHyphenTxt + newlineTxt + self.NumiciMktMsgTxt;\r\n        if(self.mediaChannel == \"Twitter\") {\r\n\t\t\tvar url = \"https://twitter.com/intent/tweet?url=\"+encodeURIComponent(DigestLinkinfo.url+\"&hashtags=annotated\")+\"&text=\"+encodeURIComponent(postText);\r\n\t\t\topenJSPopupWindow(self.mediaChannel,url);\r\n\t\t}\r\n        if(self.mediaChannel == \"Whatsapp\") {\r\n\t\t\tvar url = \"https://api.whatsapp.com/send?text=\"+encodeURIComponent(postText+doubleNewlineTxt+DigestLinkinfo.url);\r\n\t\t\topenJSPopupWindow(self.mediaChannel,url);\r\n\t\t}\r\n        if(self.mediaChannel == \"LinkedIn\" || self.mediaChannel == \"Facebook\") {\r\n        \tif((self.visibilityOption && self.visibilityOption.value == \"CONTAINER\") || !self.authUsrPreferences.showAPIPostFields) {\r\n    \t\t\tpostArticleOnSocialMediaGroup(self.authUsrPreferences.showAPIPostFields).then(function() {\r\n    \t\t\t\tvar body = angular.element($window.document.body);\r\n                    var textarea = angular.element('<textarea/>');\r\n                    textarea.css({\r\n                        position: 'fixed',\r\n                        opacity: '0'\r\n                    });\r\n                    textarea.val(postText);\r\n                    body.append(textarea);\r\n                    textarea[0].select();\r\n                    $window.document.execCommand('copy');\r\n                    textarea.remove();\r\n                    if(self.mediaChannel == \"Facebook\") {\r\n            \t\t\tvar url = \"https://www.facebook.com/sharer/sharer.php?u=\"+encodeURIComponent(DigestLinkinfo.url);\r\n            \t\t\topenJSPopupWindow(self.mediaChannel,url);\r\n            \t\t}\r\n                    if(self.mediaChannel == \"LinkedIn\") {\r\n                    \tvar url = \"https://www.linkedin.com/sharing/share-offsite/?url=\"+encodeURIComponent(DigestLinkinfo.url);\r\n                    \topenJSPopupWindow(self.mediaChannel,url);\r\n            \t\t}\r\n                    $modalInstance.close();\r\n                });\r\n    \t\t} else {\r\n    \t\t\tpostArticleOnSocialMedia(self.mediaChannel);\r\n    \t\t}\r\n        } else {\r\n\t\t\t$modalInstance.close();\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction cancel() {\r\n\t\t$modalInstance.dismiss(\"cancel\");\r\n\t}\r\n\t\r\n\tfunction init() {\r\n\t\tvar NumiciMktMsgLocal = \"Curated using Numici.com Sign up today!\";\r\n\t\tif(self.mediaChannel == \"Twitter\") {\r\n\t\t\tself.shareCommentaryMaxText = !_.isEmpty(self.authUsrPreferences.TwitterShareCommentaryMaxTextLen) ? self.authUsrPreferences.TwitterShareCommentaryMaxTextLen : 196;\r\n\t\t\tself.NumiciMktMsgTxt = !_.isEmpty(self.authUsrPreferences.NumiciMktMsgTxtForTwitter) ? self.authUsrPreferences.NumiciMktMsgTxtForTwitter : NumiciMktMsgLocal;\r\n\t\t}\r\n\t\tif(self.mediaChannel == \"Facebook\") {\r\n\t\t\tself.shareCommentaryMaxText = !_.isEmpty(self.authUsrPreferences.FacebookShareCommentaryMaxTextLen) ? self.authUsrPreferences.FacebookShareCommentaryMaxTextLen : 63,156;\r\n\t\t\tself.NumiciMktMsgTxt = !_.isEmpty(self.authUsrPreferences.NumiciMktMsgTxtForFacebook) ? self.authUsrPreferences.NumiciMktMsgTxtForFacebook : NumiciMktMsgLocal;\r\n\t\t}\r\n\t\tif(self.mediaChannel == \"LinkedIn\") {\r\n\t\t\tself.shareCommentaryMaxText = !_.isEmpty(self.authUsrPreferences.LinkedInShareCommentaryMaxTextLen) ? self.authUsrPreferences.LinkedInShareCommentaryMaxTextLen : 1250;\r\n\t\t\tself.NumiciMktMsgTxt = !_.isEmpty(self.authUsrPreferences.NumiciMktMsgTxtForLinkedIn) ? self.authUsrPreferences.NumiciMktMsgTxtForLinkedIn : NumiciMktMsgLocal;\r\n\t\t}\r\n\t\tif(self.mediaChannel == \"Whatsapp\") {\r\n\t\t\tself.shareCommentaryMaxText = !_.isEmpty(self.authUsrPreferences.WhatsappShareCommentaryMaxTextLen) ? self.authUsrPreferences.WhatsappShareCommentaryMaxTextLen : 64000;\r\n\t\t\tself.NumiciMktMsgTxt = !_.isEmpty(self.authUsrPreferences.NumiciMktMsgTxtForWhatsApp) ? self.authUsrPreferences.NumiciMktMsgTxtForWhatsApp : NumiciMktMsgLocal;\r\n\t\t}\r\n\t\tself.shareCommentaryTextRemaining = angular.copy(self.shareCommentaryMaxText);\r\n\t\tself.NumiciMktMsg = longHyphenTxt+\"<br>\"+self.NumiciMktMsgTxt;\r\n\t\tcheckShareCommentaryCharLimit();\r\n\t}\r\n\tinit();\r\n}\r\nmodule.exports = PostToSocialMediaModal;",
    "'use strict';\n\n/**\n * @description Displays a combined privacy/selection post button to post\n *              a new annotation\n */\n// @ngInject\nmodule.exports = {\n  controller: function () {\n    this.showDropdown = false;\n    this.privateLabel = 'Only Me';\n\n    this.publishDestination = function () {\n      return this.isShared ? this.group.name : this.privateLabel;\n    };\n\n    this.groupCategory = function () {\n      return this.group.type === 'open' ? 'public' : 'group';\n    };\n\n    this.setPrivacy = function (level) {\n      this.onSetPrivacy({level: level});\n    };\n  },\n  controllerAs: 'vm',\n  bindings: {\n    group: '<',\n    canPost: '<',\n    isShared: '<',\n    isScreenshot: '<',\n    isNew: '<',\n    onCancel: '&',\n    onSave: '&',\n    onSaveWithoutComment:'&',\n    extractTextInsideScreenshot:'=',\n    onSetPrivacy: '&',\n  },\n  template: require('../templates/publish-annotation-btn.html'),\n};\n",
    "'use strict';\n\n// @ngInject\nfunction SearchInputController($element, $http, $scope) {\n  var self = this;\n  var button = $element.find('button');\n  var input = $element.find('input')[0];\n  var form = $element.find('form')[0];\n\n  button.on('click', function () {\n    input.focus();\n  });\n\n  $scope.$watch(\n    function () { return $http.pendingRequests.length; },\n    function (count) { self.loading = count > 0; }\n  );\n\n  form.onsubmit = function (e) {\n    e.preventDefault();\n    self.onSearch({$query: input.value});\n  };\n\n  this.inputClasses = function () {\n    return {'is-expanded': self.alwaysExpanded || self.query};\n  };\n\n  this.$onChanges = function (changes) {\n    if (changes.query) {\n      input.value = changes.query.currentValue;\n    }\n  };\n}\n\nmodule.exports = {\n  controller: SearchInputController,\n  controllerAs: 'vm',\n  bindings: {\n    // Specifies whether the search input field should always be expanded,\n    // regardless of whether the it is focused or has an active query.\n    //\n    // If false, it is only expanded when focused or when 'query' is non-empty\n    alwaysExpanded: '<',\n    query: '<',\n    onSearch: '&',\n  },\n  template: require('../templates/search-input.html'),\n};\n",
    "'use strict';\n\nvar uiConstants = require('../ui-constants');\n\nmodule.exports = {\n  controllerAs: 'vm',\n  controller: function () {\n    this.TAB_ANNOTATIONS = uiConstants.TAB_ANNOTATIONS;\n    this.TAB_NOTES = uiConstants.TAB_NOTES;\n    this.TAB_ORPHANS = uiConstants.TAB_ORPHANS;\n  },\n  bindings: {\n    filterActive: '<',\n    filterMatchCount: '<',\n    onClearSelection: '&',\n    searchQuery: '<',\n    selectedTab: '<',\n    selectionCount: '<',\n    totalAnnotations: '<',\n    totalNotes: '<',\n  },\n  template: require('../templates/search-status-bar.html'),\n};\n",
    "'use strict';\r\nvar events = require('../events');\r\n// @ngInject\r\nfunction SectionListController($scope,groups) {\r\n  'ngInject';\r\n  var self= this;\r\n  self.groups = groups; \r\n  self.group = null;\r\n  self.focusSection = function (section) {\r\n\tif(self.group) {\r\n\t\tgroups.focusSection(self.group.id,section);\r\n\t}\r\n  };\r\n\r\n  this.allowCreateSection = function() {\r\n\t  return (this.auth.status === 'logged-in' \r\n\t\t  && !this.isThirdPartyUser() \r\n\t\t  && !this.auth.isPublic);\r\n  };\r\n\r\n  $scope.$watch(() => ([groups.focusedId()]), ([currentGroupId], [prevGroupId]) => {\r\n\tif (currentGroupId !== prevGroupId) {\r\n\t\tself.group = groups.focused();\r\n\t}\r\n  }, true);\r\n\r\n  $scope.$on(events.GROUP_UPDATED,function(event,groupId){\r\n\tif(self.group && self.group.id == groupId) {\r\n\t\tself.group = groups.get(groupId);\r\n\t}\r\n  });\r\n}\r\n\r\nmodule.exports = {\r\n  controller: SectionListController,\r\n  controllerAs: 'vm',\r\n  bindings: {\r\n    auth: '<'\r\n  },\r\n  template: require('../templates/section-list.html'),\r\n};\r\n\r\n\r\n",
    "'use strict';\r\nvar events = require('../events');\r\n// @ngInject\r\nfunction SelectSectionController($scope,groups,api,userPreference) {\r\n  'ngInject';\r\n  const disabledTitile = \"Web page has already been added to a section. Use Move button to move the web page to a different section\";\r\n  var self= this;\r\n  self.groups = groups; \r\n  self.sections = null;\r\n  var noSection = {\r\n\tname: \"< No Section >\",\r\n\tid: null\r\n  };\r\n \r\n  self.allowCreateSection = userPreference.canCreateSection;\r\n  self.getGroup = function() {\r\n\tlet grp = angular.copy(self.group);\r\n\t//let grp = Object.assign({}, self.group);\r\n\tif(!grp.sections) {\r\n\t\tgrp.sections = [];\r\n\t}\r\n\tlet sections = grp.sections;\r\n\tif(!sections.find((sec) => { sec.id == null; })) {\r\n\t\tsections.unshift(noSection);\r\n\t    grp.sections = sections;\r\n\t}\r\n\treturn grp;\r\n  };\r\n\r\n  self.focusSection = function (section) {\r\n\tif(self.group && self.storeSection) {\r\n\t\tself.storeSection({\r\n\t      groupId: self.group.id,\r\n\t      section: section,\r\n\t    });\r\n        groups.savefocusSection(self.group,section);\r\n\t}\r\n\tself.section = section;\r\n  };\r\n\r\n  self.unfocusSection = function() {\r\n\tif(self.group && self.storeSection) {\r\n\t\tself.storeSection({\r\n\t      groupId: self.group.id,\r\n\t      section: noSection,\r\n\t    });\r\n        groups.savefocusSection(self.group,noSection);\r\n\t}\r\n  };\r\n\r\n  \r\n  \r\n  this.unselectSection = function($event) {\r\n\tself.section = Object.assign({}, noSection);\r\n\tself.selected = {\r\n\t\t\"section\" : self.section\r\n\t};\r\n\tself.focusSection(noSection);\r\n  };\r\n\r\n  this.getDisabledTitile = function(selected) {\r\n\tif(self.selectDisabled) {\r\n\t\treturn disabledTitile;\r\n\t} else if(selected) {\r\n\t\treturn selected;\r\n\t}\r\n  };\r\n  \r\n  $scope.$watch(angular.bind(self, function () {\r\n\t  return self.section;\r\n  }), function (newSection, oldSection) {\r\n\t  self.section = newSection;\r\n      self.selected = {\r\n\t\t\"section\" : self.section || noSection\r\n\t  };\r\n  });\r\n\r\n  $scope.$watch(angular.bind(self, function () {\r\n\t  return self.group;\r\n  }), function (newgroup, oldgroup) {\r\n\t  init();\r\n  },true);\r\n\r\n  function init() {\r\n\tself.sections = null;\r\n\tlet grp = angular.copy(self.group);\r\n\t//let grp = Object.assign({}, self.group);\r\n\tif(!grp.sections) {\r\n\t\tgrp.sections = [];\r\n\t}\r\n\tlet sections = grp.sections;\r\n\tif(!sections.find((sec) => { sec.id == null; })) {\r\n\t\tsections.unshift(noSection);\r\n\t}\r\n    self.sections = sections;\r\n  }\r\n\r\n  init();\r\n\r\n  /*self.$onInit = function() {\r\n      self.selected = {\r\n\t\t\"section\" : self.section\r\n\t  };\r\n  };\r\n\r\n  self.$doCheck = function(changes) {\r\n      self.selected = {\r\n\t\t\"section\" : self.section\r\n\t  };\r\n  };\r\n*/\r\n /* $scope.$watch(() => ([groups.focusedId()]), ([currentGroupId], [prevGroupId]) => {\r\n\tif (currentGroupId !== prevGroupId) {\r\n\t\tself.group = groups.focused();\r\n\t}\r\n  }, true);\r\n\r\n  $scope.$on(events.GROUP_UPDATED,function(){\r\n\tself.group = groups.focused();\r\n  });*/\r\n\r\n}\r\n\r\nmodule.exports = {\r\n  controller: SelectSectionController,\r\n  controllerAs: 'vm',\r\n  bindings: {\r\n    auth: '<',\r\n    group: '<',\r\n    storeSection: '&',\r\n    section: '=?',\r\n    onNewSection:'&',\r\n    appendToBody:'<',\r\n    selectDisabled: '<',\r\n  },\r\n  template: require('../templates/select-section.html'),\r\n};\r\n\r\n\r\n",
    "'use strict';\r\nvar events = require('../events');\r\nconst memoize = require('../util/memoize');\r\nconst groupOrganizations = memoize(require('../util/group-organizations'));\r\n// @ngInject\r\nfunction SelectTaskspace( groups,frameSync,userPreference) {\r\n  'ngInject';\r\n  var self= this;\r\n  this.groups = groups;\r\n  this.selected = {\r\n\ttaskspace: self.group\r\n  };\r\n  function init() {\r\n\t  getAllTaskspaces();\r\n  }\r\n   \r\n  this.selectedTaskspace = function(group) { \r\n\tthis.selected.taskspace = group;\r\n  };\r\n\r\n  var getAllTaskspaces = function () {\r\n\tvar taskspaces = groups.all();\r\n\tif(taskspaces) {\r\n\t\ttaskspaces = taskspaces.filter(function(ts) {\r\n\t\t\treturn groups.isEditable(ts);\r\n\t\t});\r\n\t}\r\n    self.allTaskspaces = groupOrganizations(taskspaces);\r\n  };\r\n\r\n  this.isSelectable = function(group) {\r\n\treturn groups.isSelectable(group);\r\n  };\r\n  \r\n  this.focusTaskspace = function (group) {\r\n    this.group = group;\r\n  };\r\n \r\n  this.allowCreateTaskSpace = userPreference.canCreateTaskspace;\r\n  \r\n  this.selectTaskspace = function() {\r\n\t  return (this.auth.status === 'logged-in' && !this.groups.focused());\r\n  }\r\n  \r\n  this.addNewTaskspace = function() {\r\n\tlet tsSearchTxt = \"\";\r\n\tif(self.uiSelect) {\r\n\t\ttsSearchTxt = self.uiSelect.search;\r\n\t}\r\n\tlet newTsModal = groups.createTaskspace(tsSearchTxt);\r\n\tnewTsModal.then(function(ts) {\r\n\t\tgetAllTaskspaces();\r\n\t},function() {\r\n\t\t\r\n\t});\r\n  }\r\n\r\n  init();\r\n}\r\n\r\nmodule.exports = {\r\n  controller: SelectTaskspace,\r\n  controllerAs: 'vm',\r\n  bindings: {\r\n    auth: '<',\r\n    group:'='\r\n  },\r\n  template: require('../templates/select-taskspace.html'),\r\n};\r\n\r\n\r\n",
    "'use strict';\n\nvar sessionUtil = require('../util/session-util');\nvar uiConstants = require('../ui-constants');\n\nmodule.exports = {\n  controllerAs: 'vm',\n  //@ngInject\n  controller: function ($scope,$element, store, features, session, settings,groups) {\n\tvar self = this;\n    this.TAB_ANNOTATIONS = uiConstants.TAB_ANNOTATIONS;\n    this.TAB_NOTES = uiConstants.TAB_NOTES;\n    this.TAB_ORPHANS = uiConstants.TAB_ORPHANS;\n    this.WEB_CLIP = uiConstants.WEB_CLIP;\n    this.TAB_PAGEINFO = uiConstants.TAB_PAGEINFO;\n\n    this.isThemeClean = settings.theme === 'clean';\n    this.isEmbedded =  settings.appType === \"embedded\";\n    this.isWebClipEnabled = false;\n    this.enableExperimentalNewNoteButton = settings.enableExperimentalNewNoteButton;\n    \n    $scope.$on(\"showPageInfo\", function () {\n      self.selectTab(uiConstants.TAB_PAGEINFO);\n    });\n\n    $scope.$watch(() => ([groups.focusedId()]), ([currentGroupId], [prevGroupId]) => {\n      \tif(currentGroupId !== prevGroupId ) {\n\t        self.isWebClipEnabled = false;\n      \t\tvar group = groups.focused();\n      \t\tif(group) {\n      \t\t\tif(group.fromPublicLink) {\n      \t\t\t\tself.isWebClipEnabled = false;\n          \t\t} else if(self.auth && self.auth.preferences) {\n\t                var enableWebClip = self.auth.preferences.enableWebClip;\n\t                self.isWebClipEnabled = enableWebClip && ( group.permissions && group.permissions.edit);\n\t\t\t\t}\n      \t\t}\n      \t}\n    }, true);\n\n    this.selectTab = function (type) {\n      store.clearSelectedAnnotations();\n      store.selectTab(type);\n    };\n\n    this.showOrphanedAnnotHelp = function () {\n    \tif(self.auth && self.auth.preferences) {\n    \t\tthis.OrphanedAnnotHelpTitle = \"Orphaned Annotations\";\n    \t\tthis.OrphanedAnnotHelpDesc = self.auth.preferences.OrphanedAnnotations;\n        }\n    };\n      \n    this.showAnnotationsUnavailableMessage = function () {\n      return this.selectedTab === this.TAB_ANNOTATIONS &&\n        this.totalAnnotations === 0 &&\n        !this.isWaitingToAnchorAnnotations;\n    };\n\n    this.showNotesUnavailableMessage = function () {\n      return this.selectedTab === this.TAB_NOTES &&\n        this.totalNotes === 0;\n    };\n\n    this.showSidebarTutorial = function () {\n      return sessionUtil.shouldShowSidebarTutorial(session.state);\n    };\n  },\n  bindings: {\n    isLoading: '<',\n    isWaitingToAnchorAnnotations: '<',\n    selectedTab: '<',\n    totalAnnotations: '<',\n    totalNotes: '<',\n    totalOrphans: '<',\n    auth: '<',\n    OrphanedAnnotHelpTitle: '<',\n    OrphanedAnnotHelpDesc: '<',\n  },\n  template: require('../templates/selection-tabs.html'),\n};\n",
    "'use strict';\n\n//var VIA_PREFIX = 'https://via.hypothes.is/';\n\n// @ngInject\nfunction ShareDialogController($scope, $element, analytics, store, groups, settings) {\n  var self = this;\n\n  \n  self.copyToClipboard = function (event) {\n\t    var $container = angular.element(event.currentTarget).parent();\n\t    var shareLinkInput = $container.find('input')[0];\n\n\t    try {\n\t      shareLinkInput.select();\n\n\t      // In some browsers, execCommand() returns false if it fails,\n\t      // in others, it may throw an exception instead.\n\t      if (!document.execCommand('copy')) {\n\t        throw new Error('Copying link failed');\n\t      }\n\n\t      self.copyToClipboardMessage = 'Link copied to clipboard!';\n\t    } catch (ex) {\n\t      self.copyToClipboardMessage = 'Select and copy to share.';\n\t    } finally {\n\t      setTimeout(function () {\n\t        self.copyToClipboardMessage = null;\n\t        $scope.$digest();\n\t      }, 1000);\n\t    }\n  };\n  \n  function encodeUriQuery(val) {\n\t  return encodeURIComponent(val).replace(/%20/g, '+');\n  }\n  \n  function updateViaLink(frames) {\n    if (!frames.length) {\n      self.viaPageLink = '';\n      return;\n    }\n\n    // Check to see if we are on a via page. If so, we just return the URI.\n    /*if (frames[0].uri.indexOf(VIA_PREFIX) === 0) {\n      self.viaPageLink = frames[0].uri;\n    } else {\n      self.viaPageLink = VIA_PREFIX + frames[0].uri;\n    }*/\n    \n    if(groups.focused()) {\n    \tself.viaPageLink = frames[0].uri+\"#group:\"+groups.focusedId();\n    }\n  }\n\n  var viaInput = $element[0].querySelector('.js-via');\n  viaInput.focus();\n  viaInput.select();\n\n  $scope.$watch(function () { return store.frames(); },\n    updateViaLink);\n\n  $scope.onShareClick = function(target){\n    if(target){\n      analytics.track(analytics.events.DOCUMENT_SHARED, target);\n    }\n  };\n}\n\nmodule.exports = {\n  controller: ShareDialogController,\n  controllerAs: 'vm',\n  bindings: {\n    onClose: '&',\n    showExtShare: '&'\n  },\n  template: require('../templates/share-dialog.html'),\n};\n",
    "'use strict';\r\n\r\nvar renderMarkdown = require('../render-markdown');\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction ShareLinkModal($scope,api,$modal,$modalInstance,sharelinks,settings,authUserPreferences,linkInfo,digestFor,authUserContext,confirm,_,flash,$timeout,$compile,$templateCache,$window,$sanitize) {\r\n\tvar self = this;\r\n\tvar config = {};\r\n\tvar sharedUserList = [];\r\n\tvar selectedProvisionalUsers = [];\r\n\t\r\n\tself.digestFor = digestFor.digestFor;\r\n\tself.selectedPublishAsNote = false;\r\n\tself.selectedPublishAsPdf = false;\r\n\tself.selectedPublishAsLink = false;\r\n\tself.showdocLink = false;\r\n\tself.digestName = digestFor.digestName;\r\n\tself.noteName = \"\";\r\n\tself.pdfName = \"\";\r\n\tself.emailUsers = [];\r\n\tself.emailSubject = \"\";\r\n\t\r\n\tself.digestDescription = \"\";\r\n\tself.linkInfo = angular.copy(linkInfo);\r\n\tself.linkType = {\"type\" : \"Public\"};\r\n\tself.linkTarget = {\"target\" : \"Document\"};\r\n\tself.focusLink = false;\r\n\tself.filterOptions = {};\r\n\tself.digestMetaInfoOptions = {};\r\n\tself.groupByOptionList = angular.copy(sharelinks.getGroupByUIOptions());\r\n\tself.groupByOption = self.groupByOptionList[0];\r\n\tself.enableBorderOptionList = angular.copy(sharelinks.getEnableBorderUIOptions());\r\n\tself.enableBorderOption = self.enableBorderOptionList[0];\r\n\tself.imagePositionOptionList = angular.copy(sharelinks.getImagePositionUIOptions());\r\n\tself.imagePositionOption = self.imagePositionOptionList[0];\r\n\tself.displayOrderOptionList = angular.copy(sharelinks.getDisplayOrderUIOptions());\r\n\tself.displayOrderOption = self.displayOrderOptionList[0];\r\n\tself.displayRepliesOptionList = angular.copy(sharelinks.getDisplayRepliesUIOptions());\r\n\tself.filterOptions.displayRepliesOption = self.displayRepliesOptionList[0];\r\n\tself.selectedTemplate = {};\r\n\t\r\n\tself.tags =[];\r\n\t\r\n    self.docHierarchy = [];\r\n\t\r\n    self.digestNameError = false;\r\n\tself.digestNameErrorMessage = \"\";\r\n\t\r\n\tself.cancel = cancel;\r\n\tself.copySuccess = copySuccess;\r\n\tself.copyFail = copyFail;\r\n\tself.ShareOnSocialMedia = ShareOnSocialMedia;\r\n\tself.updateDigestLink = updateDigestLink;\r\n\tself.checkAndPublishAsSelectedType = checkAndPublishAsSelectedType;\r\n\tself.cancelsaveAsSelectedType = cancelsaveAsSelectedType;\r\n\tself.saveAsSelectedType = saveAsSelectedType;\r\n\tself.formatCreatedDate = sharelinks.formatCreatedDate;\r\n\tvar fileBaseUrl = authUserContext.path;\r\n\tself.commentIconUrl = fileBaseUrl+\"/app/assets/icons/digest_comment.png\";\r\n\t\r\n\tself.setDigesMinMaxWidth = sharelinks.setDigesMinMaxWidth;\r\n\tself.getTitleStyles = sharelinks.getTitleStyles;\r\n\tself.alternateImageStyles = sharelinks.alternateImageStyles;\r\n\tself.setRepDigestStyles = sharelinks.setRepDigestStyles;\r\n\tvar trustedAnnotatedText = {};\r\n\t\r\n\tself.getAnnotatedText = function (annotation) {\r\n\t\tif(!trustedAnnotatedText[annotation.annotationId]) {\r\n\t\t\ttrustedAnnotatedText[annotation.annotationId] = sharelinks.getAnnotatedText(annotation,self.digestMetaInfoOptions);\r\n\t\t}\r\n\t\treturn trustedAnnotatedText[annotation.annotationId];\r\n\t};\r\n\t\r\n\tself.formatCreatedDate = sharelinks.formatCreatedDate;\r\n\tself.formatComment = sharelinks.formatComment;\r\n\t\r\n\tself.getTitle = getTitle;\r\n\tself.annotationsDigestSettings = annotationsDigestSettings;\r\n\tself.getLinkTypeMsg = getLinkTypeMsg;\r\n\tself.getChangeToLinkType = getChangeToLinkType;\r\n\tself.showPublishAs = showPublishAs;\r\n\t\r\n\tfunction getTitle() {\r\n\t\tif(digestFor.documentInfo && digestFor.documentInfo.digestDocAnnotId ) {\r\n\t\t\treturn \"SHARE ANNOTATION ON WEBPAGE\";\r\n\t\t}\r\n\t\treturn \"SHARE ANNOTATIONS ON WEBPAGE\";\r\n\t}\r\n\t\r\n\tfunction handleDigestSettingsResp(digestSettingsRespData) {\r\n\t\tif(!_.isEmpty(digestSettingsRespData)) {\r\n\t\t\tif (digestSettingsRespData.type === 'digest_settings_update_resp') {\r\n\t\t\t\tself.linkInfo = digestSettingsRespData.data;\r\n\t\t\t\tinit();\r\n\t\t\t\t$scope.$apply();\r\n\t\t    }\r\n\t\t\tif (digestSettingsRespData.type === 'digest_settings_delete_resp') {\r\n\t\t\t\tcancel();\r\n\t\t    }\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction annotationsDigestSettings() {\r\n\t\tvar origin = \"chrome-extension://\"+authUserPreferences.ExtensionId;\r\n\t\tvar digestSettingsUrl = fileBaseUrl+\"/digestsettings/\"+settings.taskspaceId+\"/\"+settings.clientId+\"?d=\"+digestFor.documentInfo.objectId+\"&digestFor=\"+digestFor.digestFor+\"&origin=\"+origin;\r\n\t\tif(!_.isEmpty(digestFor.documentInfo.digestDocAnnotId)) {\r\n\t\t\tdigestSettingsUrl = digestSettingsUrl+\"&da=\"+digestFor.documentInfo.digestDocAnnotId;\r\n\t\t}\r\n\t\t\r\n\t\tvar digestSettingsWindow = sharelinks.openJSPopupWindow(\"Digest Settings\");\r\n\t\tdigestSettingsWindow.location = digestSettingsUrl;\r\n\t\tauthorize(digestSettingsWindow).then(respData => {\r\n\t\t\tif (respData) {\r\n\t\t\t\tif(respData.state == \"Success\") {\r\n\t\t\t\t\thandleDigestSettingsResp(respData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction getLinkTypeMsg(type) {\r\n\t\tvar objectType = \"webpage\";\r\n\t\tif(type == \"Public\") {\r\n\t\t\treturn \"Public Link: Anyone with the Link can view the annotations on the \"+objectType;\r\n\t\t} else if(type == \"Private\") {\r\n\t\t\treturn \"Private Link: Only users with access to the Taskspace can view the annotations on the \"+objectType;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction getChangeToLinkType(type) {\r\n\t\tif(type == \"Public\") {\r\n\t\t\t\treturn \"private\";\r\n\t\t} else if(type == \"Private\") {\r\n\t\t\treturn \"public\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction showPublishAs() {\r\n\t\tvar status = false;\r\n\t\tif(self.digestFor == 'DigestDocument' && (digestFor.documentInfo && !digestFor.documentInfo.digestDocAnnotId)) {\r\n\t\t\tstatus = true;\r\n\t\t}\r\n\t\treturn status;\r\n\t}\r\n\t\r\n\tfunction getShareCommentaryTextForSocialMedia(cb) {\r\n\t\tsharelinks.getDigestShareCommentaryTxt(digestFor,self.digestDescription,self.filterOptions,self.displayOrderOption,self.linkInfo.dlId,settings.clientId,function(shareCommentaryTxt){\r\n\t\t\tif(typeof cb == \"function\") {\r\n\t\t\t\tcb(shareCommentaryTxt);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction setErrorMsg (field,type,Message) {\r\n\t\tif(field === \"digestName\" && type === \"invalid\") {\r\n\t\t\tself.digestNameError = true;\r\n\t\t\tself.digestNameErrorMessage = \"Please Enter Digest Name.\";\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction configDigestDataFromDigestLink() {\r\n\t\tif(!_.isEmpty(self.linkInfo.properties)) {\r\n\t\t\tconfig = self.linkInfo.properties.digestSettings;\r\n\t\t} else if(!_.isEmpty(self.linkInfo.linkObj) && !_.isEmpty(self.linkInfo.linkObj.properties)) {\r\n\t\t\tconfig = self.linkInfo.linkObj.properties.digestSettings;\r\n\t\t} else {\r\n\t\t\tconfig = _.isEmpty(settings.digestsettings) ? sharelinks.getDigestFilters() : settings.digestsettings;\r\n\t\t}\r\n\t\tif(!_.isEmpty(self.linkInfo.linkObj)) {\r\n\t\t\tself.digestName = self.linkInfo.linkObj.properties.digestSettings.digestName;\r\n\t\t\tself.noteName = angular.copy(self.digestName);\r\n\t\t\tself.pdfName = angular.copy(self.digestName);\r\n\t\t\tself.emailSubject = angular.copy(self.digestName);\r\n\t\t\tself.digestDescription = self.linkInfo.linkObj.properties.digestSettings.digestDescription\r\n\t\t\tself.linkType.type = angular.copy(self.linkInfo.linkObj.linkType);\r\n\t\t\tif(!_.isEmpty(self.linkInfo.linkObj.toEmailIds)) {\r\n\t\t\t\tself.emailUsers = angular.copy(self.linkInfo.linkObj.toEmailIds);\r\n\t\t\t}\r\n\t\t\tself.linkTarget.target = angular.copy(self.linkInfo.linkObj.linkTarget) || \"Digest \";\r\n\t\t\tself.selectedPublishAsLink = true;\r\n\t\t}\r\n\t\tself.filterOptions = angular.copy(config.filterOptions);\r\n\t\tself.digestMetaInfoOptions = angular.copy(config.digestMetaInfoOptions);\r\n\t\t//self.filterOptions.startDate = moment(self.filterOptions.startDate,defautlDateFormat,true).isValid() ? moment(self.filterOptions.startDate,defautlDateFormat).toDate() : null;\r\n\t\t//self.filterOptions.endDate =  moment(self.filterOptions.endDate,defautlDateFormat,true).isValid() ? moment(self.filterOptions.endDate,defautlDateFormat).toDate() : null;\r\n\t\tvar enableBorderOptionIndex = _.findIndex(self.enableBorderOptionList,{\"value\" : config.enableBorder});\r\n\t\tif(enableBorderOptionIndex != -1) {\r\n\t\t\tself.enableBorderOption = self.enableBorderOptionList[enableBorderOptionIndex];\r\n\t\t}\r\n\t\tvar imagePositionIndex = _.findIndex(self.imagePositionOptionList,{\"value\" : config.imagePosition});\r\n\t\tif(imagePositionIndex != -1) {\r\n\t\t\tself.imagePositionOption = self.imagePositionOptionList[imagePositionIndex];\r\n\t\t}\r\n\t\tvar displayOrderIndex = _.findIndex(self.displayOrderOptionList,{\"value\" : config.displayOrder});\r\n\t\tif(displayOrderIndex != -1) {\r\n\t\t\tself.displayOrderOption = self.displayOrderOptionList[displayOrderIndex];\r\n\t\t}\r\n\t\tvar displayRepliesIndex = _.findIndex(self.displayRepliesOptionList,{\"value\" : config.filterOptions.displayReplies});\r\n\t\tif(displayRepliesIndex != -1) {\r\n\t\t\tself.filterOptions.displayRepliesOption = self.displayRepliesOptionList[displayRepliesIndex];\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction cancel() {\r\n\t\t$modalInstance.dismiss('cancel');\r\n\t}\r\n\t\r\n\tfunction preProcessDigestDataForLink() {\r\n\t\tvar filterOptions = angular.copy(self.filterOptions);\r\n\t\t\r\n\t\tfilterOptions.displayReplies = filterOptions.displayRepliesOption.value;\r\n\t\tdelete filterOptions.displayRepliesOption;\r\n\t\t\r\n\t\tfilterOptions[\"allTagAnnotations\"] = true;\r\n\t\tvar groupBy = self.groupByOption ? self.groupByOption.value : null;\r\n\t\t\r\n\t\tvar digestSettings = {\r\n\t\t\t\t\"digestName\": self.digestName, \r\n\t\t\t\t\"digestDescription\": self.digestDescription,\r\n\t\t\t\t\"objectId\": settings.taskspaceId, \r\n\t\t\t\t\"clientId\": settings.clientId,\r\n\t\t\t\t\"context\" : \"taskspace\",\r\n\t\t\t\t\"filterOptions\" : filterOptions,\r\n\t\t\t\t\"groupBy\": self.groupByOption.value,\r\n\t\t\t\t\"digestMetaInfoOptions\": self.digestMetaInfoOptions,\r\n\t\t\t\t\"selectedTemplate\": self.selectedTemplate ? self.selectedTemplate.id : null,\r\n\t\t\t\t\"enableBorder\" : self.enableBorderOption.value,\r\n\t\t\t\t\"imagePosition\" : self.imagePositionOption.value,\r\n\t\t\t\t\"displayOrder\" : self.displayOrderOption.value\r\n\t\t};\r\n\t\t\r\n\t\tif (digestFor.digestFor == \"DigestDocument\") {\r\n\t\t\tif (digestFor.documentInfo) {\r\n\t\t\t\tdigestSettings.documents = [digestFor.documentInfo.objectId];\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\treturn digestSettings;\r\n\t}\r\n\t\r\n\tfunction updateLink(linkObj,clientId) {\r\n\t\treturn DeepLinkService.updateLink(linkObj,clientId);\r\n\t}\r\n\t\r\n\tfunction updateDigestDocAnnot(linkObj,clientId) {\r\n\t\treturn DeepLinkService.updateDigestDocAnnot(linkObj);\r\n\t}\r\n\t\r\n\tfunction updateDigestLink(toEmailIds,cb) {\r\n\t\tvar digestSettings = preProcessDigestDataForLink();\r\n\t\tvar lnk = angular.copy(self.linkInfo);\r\n\t\tvar updateLinkPromise;\r\n\t\tlnk.linkObj.properties.digestSettings.digestName = self.digestName;\r\n\t\tlnk.linkObj.properties.digestSettings.digestDescription = self.digestDescription;\r\n\t\tif(toEmailIds) {\r\n\t\t\tlnk.linkObj.toEmailIds = toEmailIds;\r\n\t\t}\r\n\t\tlnk.linkObj.linkType = self.linkType.type;\r\n\t\tlnk.linkObj.linkTarget = self.linkTarget.target;\r\n\t\tlnk.linkObj.properties.digestSettings = digestSettings;\r\n\t\t\r\n\t\tif(digestFor.documentInfo && digestFor.documentInfo.digestDocAnnotId) {\r\n\t\t\tvar postdata = {\r\n\t\t\t\t\tclientId : settings.clientId,\r\n\t\t\t\t\tdigestDocAnnotId : digestFor.documentInfo.digestDocAnnotId,\r\n\t\t\t\t\tlink : lnk.linkObj\r\n\t\t\t};\r\n\t\t\tupdateLinkPromise = updateDigestDocAnnot(postdata);\r\n\t\t} else {\r\n\t\t\tupdateLinkPromise = updateLink(lnk.linkObj,settings.clientId); \r\n\t\t}\r\n\t\t\r\n\t\tif(updateLinkPromise) {\r\n\t\t\tupdateLinkPromise.then(function(resp) {\r\n\t\t\t\tif(resp.status == 200 && resp.data.Status) {\r\n\t\t\t\t\tself.linkInfo = resp.data.Link;\r\n\t\t\t\t\tconfigDigestDataFromDigestLink();\r\n\t\t\t\t\tMessageService.showSuccessMessage(\"DIGEST_LINK_UPDATE\");\r\n\t\t\t\t\tif(typeof cb == \"function\") {\r\n\t\t\t\t\t\tcb();\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction copySuccess() {\r\n\t\tself.focusLink = false;\r\n\t\tAPIUserMessages.info(\"Link copied to clipboard.\");\r\n\t\tself.focusLink = true;\r\n\t\t$timeout(function() {\r\n\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t}, 100);\r\n\t}\r\n\t\r\n\tfunction copyFail(err) {\r\n\t\tconsole.log(err);\r\n\t}\r\n\t\r\n\tfunction ShareOnSocialMedia(MediaChannel) {\r\n\t\tif(MediaChannel == \"Twitter\" || MediaChannel == \"Facebook\" || MediaChannel == \"Whatsapp\") {\r\n\t\t\tPostToSocialMedia(false,MediaChannel);\r\n\t\t}\r\n\t\tif(MediaChannel == \"LinkedIn\") {\r\n\t\t\tif(authUserPreferences.linkedInEnabled) {\r\n\t\t\t\tif(authUserPreferences.hasLinkedInAuth){\r\n\t\t\t\t\tPostToSocialMedia(true,MediaChannel);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconfirmAndShareOnSocialMedia(MediaChannel);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tPostToSocialMedia(false,MediaChannel);\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t}\r\n\t\t\t\r\n\tfunction PostToSocialMedia(showAPIPostFields,MediaChannel) {\r\n\t\tgetShareCommentaryTextForSocialMedia(function(shareCommentaryTxt){\r\n\t\t\tvar modalInstance = $modal.open({\r\n\t\t\t\t  animation: true,\r\n\t\t\t\t  template: require('../templates/post-to-social-media.html'),\r\n\t\t\t\t  controller: 'PostToSocialMediaModal',\r\n\t\t\t\t  controllerAs: 'ptsmc',\r\n\t\t\t\t  backdrop: 'static',\r\n\t\t\t\t  size : 'lg',\r\n\t\t\t\t  resolve: {\r\n\t\t\t\t\t  DigestLinkinfo :function() {\r\n\t\t\t\t\t\t  return self.linkInfo;\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  shareCommentaryTxt : function() {\r\n\t\t\t\t\t\t  return {\"text\":shareCommentaryTxt};\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  authUsrPreferences : function() {\r\n\t\t\t\t\t\t  var authPreferences = {};\r\n\t\t\t    \t\t  if(authUserPreferences) {\r\n\t\t\t    \t\t\t  authPreferences = angular.copy(authUserPreferences);\r\n\t\t\t    \t\t  }\r\n\t\t\t    \t\t  authPreferences[\"showAPIPostFields\"] = showAPIPostFields;\r\n\t\t\t\t\t\t  return authPreferences;\r\n\t\t\t\t\t  },\r\n\t\t\t\t\t  MediaChannelInfo : function() {\r\n\t\t\t\t\t\t  return {\"channel\" : MediaChannel};\r\n\t\t\t\t\t  }\r\n\t\t\t\t  }\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction authorize(authWindow) {\r\n\t\tvar authResponse = new Promise((resolve, reject) => {\r\n\t\t      function authRespListener(event) {\r\n\t\t        if (event.data.type === 'linkedin_authorization_response') {\r\n\t\t        \tresolve(event.data);\r\n\t\t        }\r\n\t\t        if (event.data.code === 'Digest Settings') {\r\n\t\t\t        resolve(event.data);\r\n\t\t\t    }\r\n\t\t        if (event.data.type === 'linkedin_authorization_canceled') {\r\n\t\t          reject(new Error('Linkedin Authorization window was closed'));\r\n\t\t        }\r\n\t\t        $window.removeEventListener('message', authRespListener);\r\n\t\t      }\r\n\t\t      $window.addEventListener('message', authRespListener);\r\n\t\t    });\r\n\t\treturn authResponse;\r\n\t}\r\n\t\r\n\tfunction confirmAndShareOnSocialMedia(MediaChannel) {\r\n\t\tvar confirmationMsgText = \"Would like to authorize Numici to post messages in \"+MediaChannel+\"?\";\r\n\t\t\r\n\t\tif(MediaChannel == \"LinkedIn\" && !_.isEmpty(authUserPreferences.linkedInAuthUsrConfMsgText)) {\r\n\t\t\tconfirmationMsgText = authUserPreferences.linkedInAuthUsrConfMsgText;\r\n\t\t}\r\n\t\tvar modalOptions = {\r\n\t\t          closeButtonText: 'AUTHORIZE LATER',\r\n\t\t          actionButtonText: 'AUTHORIZE NOW',\r\n\t\t          headerText: 'Confirm '+MediaChannel+' Authorization',\r\n\t\t          bodyText: confirmationMsgText\r\n\t\t      };\r\n\r\n\t\tconfirm.showModal({}, modalOptions).then(function (result) {\r\n\t\t\tif(MediaChannel == \"LinkedIn\") {\r\n\t\t\t\tvar authWindow = sharelinks.openJSPopupWindow(\"Linked Auth\");\r\n\t\t\t\tauthWindow.location = authUserPreferences.LinkedInAuthUrl;\r\n\t\t\t\tauthorize(authWindow).then(respData => {\r\n\t\t\t\t\tif (respData) {\r\n\t\t\t\t\t\tif(respData.state == \"Success\") {\r\n\t\t\t\t\t\t\tauthUserPreferences.hasLinkedInAuth = true;\r\n\t\t\t\t\t\t\tPostToSocialMedia(true,MediaChannel);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t},function() {\r\n\t\t\tif(MediaChannel == \"LinkedIn\") {\r\n\t\t\t\tPostToSocialMedia(false,MediaChannel);\r\n\t\t\t}\r\n    \t});\r\n\t}\r\n\t\r\n\tfunction checkAndCreateLink(cb) {\r\n\t\tif(!_.isEmpty(self.digestName) || self.digestFor == \"DigestDocument\") {\r\n\t\t\tif(!_.isEmpty(self.linkInfo.url)) {\r\n\t\t\t\tif(typeof cb == \"function\") {\r\n\t\t\t\t\tcb();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tvar digestSettings = preProcessDigestDataForLink();\r\n\t\t\t\t//var lnk = processLinkInfo(digestSettings);\r\n\t\t\t\tvar lnk = sharelinks.processLinkInfo(digestFor, settings.taskspaceId, settings.clientId, digestSettings);\r\n\t\t\t\tDeepLinkService.createLink(lnk).then(function(createLinkResp) {\r\n\t\t\t\t\tif(createLinkResp.status == 200 && createLinkResp.data.Status) {\r\n\t\t\t\t\t\tself.linkInfo = createLinkResp.data.Link;\r\n\t\t\t\t\t\tif(!_.isEmpty(self.linkInfo.properties)) {\r\n\t\t\t\t\t\t\tconfig = self.linkInfo.properties.digestSettings;\r\n\t\t\t\t\t\t} else if(!_.isEmpty(self.linkInfo.linkObj.properties)) {\r\n\t\t\t\t\t\t\tconfig = self.linkInfo.linkObj.properties.digestSettings;\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconfig = _.isEmpty(settings.digestsettings) ? sharelinks.getDigestFilters() : settings.digestsettings;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(typeof cb == \"function\") {\r\n\t\t\t\t\t\t\tcb();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction getDigestContent(saveflag) {\r\n\t\treturn $timeout(function() {\r\n\t\t\tvar templateUrl = 'app/components/AnnotationDigest/save/annotaion-digest-template-new.html';\r\n\t\t\tvar roottemplateUrl = 'app/components/AnnotationDigest/save/digest-root.tpl.html';\r\n\t\t\t\r\n\t\t\tsharelinks.enableBorder = \"\";\r\n\t\t\tsharelinks.enableBorder = angular.copy(self.enableBorderOption.value);\r\n\t\t\tvar tmpl = '';\r\n\t\t\tvar gptmpl = '';\r\n\t\t\ttmpl = '<annotaion-digest-template digest=\"vm.digestData\"';\r\n\t\t\tgptmpl = '<annotaion-digest-group-template digest=\"vm.digestData\"';\r\n\t\t\t\r\n\t\t\tif(!_.isEmpty(self.digestName)) {\r\n\t\t\t\ttmpl = tmpl+' digest-name=\"'+self.digestName+'\"';\r\n\t\t\t\tgptmpl = gptmpl+' digest-name=\"'+self.digestName+'\"';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!_.isEmpty(self.digestDescription)) {\r\n\t\t\t\tvar digestDescription = angular.copy(self.digestDescription);\r\n\t\t\t\tdigestDescription = digestDescription.replace(/(\\r\\n|\\n|\\r)/gm, \"<br>\");\r\n\t\t\t\ttmpl = tmpl+' description=\"'+digestDescription+'\"';\r\n\t\t\t\tgptmpl = gptmpl+' description=\"'+digestDescription+'\"';\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\ttmpl = tmpl+' template-url=\"'+templateUrl+'\" \\\r\n\t\t\t\ttask-space=\"taskspace\"\\\r\n\t\t\t\ttitle=\"true\"\\\r\n\t\t\t\tdata-digest-meta-info-options=\"vm.digestMetaInfoOptions\"\\\r\n\t\t\t\tdata-image-position=\"vm.imagePositionOption.value\"\\\r\n\t\t\t\tdata-display-order=\"vm.displayOrderOption.value\"\\\r\n\t\t\t\tdata-display-replies=\"vm.filterOptions.displayRepliesOption.value\"\\\r\n\t\t\t\tdata-enable-border=\"vm.enableBorderOption.value\"\\\r\n\t\t\t\tdata-group-by=\"vm.groupByOption.value\"\\\r\n\t\t\t    data-set-diges-min-max-width= \"vm.setDigesMinMaxWidth()\"\\\r\n\t\t\t\tdata-get-title-styles = \"vm.getTitleStyles()\"\\\r\n\t\t\t\tdata-alternate-image-styles = \"vm.alternateImageStyles()\"\\\r\n\t\t\t\tdata-set-rep-digest-styles = \"vm.setRepDigestStyles(digest,vm.digestMetaInfoOptions.image)\"\\\r\n\t\t\t\tdata-get-annotated-text = \"vm.getAnnotatedText(annotation)\"\\\r\n\t\t\t\tdata-format-created-date = \"vm.formatCreatedDate(dateValue)\"\\\r\n\t\t\t\tdata-format-comment=\"vm.formatComment(annotation,comment)\"\\\r\n\t\t    \tcomment-iconUrl = \"vm.commentIconUrl\"\\\r\n\t\t\t\t></annotaion-digest-template>';\r\n\t\t\t\r\n\t\t\tgptmpl = gptmpl+' template-url=\"'+templateUrl+'\" \\\r\n\t\t\t\ttask-space=\"taskspace\"\\\r\n\t\t\t\tdata-digest-meta-info-options=\"vm.digestMetaInfoOptions\"\\\r\n\t\t\t\tdata-image-position=\"vm.imagePositionOption.value\"\\\r\n\t\t\t\tdata-display-order=\"vm.displayOrderOption.value\"\\\r\n\t\t\t\tdata-display-replies=\"vm.filterOptions.displayRepliesOption.value\"\\\r\n\t\t\t\tdata-enable-border=\"vm.enableBorderOption.value\"\\\r\n\t\t\t\tdata-group-by=\"vm.groupByOption.value\"\\\r\n\t\t\t\tdata-set-diges-min-max-width= \"vm.setDigesMinMaxWidth()\"\\\r\n\t\t\t\tdata-get-title-styles = \"vm.getTitleStyles()\"\\\r\n\t\t\t\tdata-alternate-image-styles = \"vm.alternateImageStyles()\"\\\r\n\t\t\t\tdata-set-rep-digest-styles = \"vm.setRepDigestStyles(digest,vm.digestMetaInfoOptions.image)\"\\\r\n\t\t\t\tdata-get-annotated-text = \"vm.getAnnotatedText(annotation)\"\\\r\n\t\t\t\tdata-format-created-date = \"vm.formatCreatedDate(dateValue)\"\\\r\n\t\t\t\tdata-format-comment=\"vm.formatComment(annotation,comment)\"\\\r\n\t\t    \tcomment-iconUrl = \"vm.commentIconUrl\"\\\r\n\t\t\t\t></annotaion-digest-group-template>';\r\n\t\t\t\r\n\t\t\tvar template = angular.element(tmpl);\r\n\t\t\tif(self.groupByOption.value == \"tag\" || self.groupByOption.value == \"taghierarchical\") {\r\n\t\t\t\ttemplate = angular.element(gptmpl);\r\n\t\t\t} else {\r\n\t\t\t    template = angular.element(tmpl);\r\n\t\t\t}\r\n\t\t\tvar linkFunction = $compile(template);\r\n\t\t\tvar result = linkFunction($scope);\r\n\t\t\t$scope.$digest();\r\n\t\t\tif(saveflag) {\r\n\t\t\t\tvar rootTemplate = $templateCache.get(roottemplateUrl);\r\n\t\t\t\tif(!_.isEmpty(rootTemplate)) {\r\n\t\t\t\t\treturn rootTemplate.replace(\"<!--digestdata-->\",template.html());\r\n\t\t\t\t}\r\n\t\t\t\treturn template.html();\r\n\t\t\t} else {\r\n\t\t\t\treturn template.html();\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}, 0);\r\n\t}\r\n\t\r\n\tfunction getDigestContentAndSaveAsPdf(fileName) {\r\n\t\tgetDigestContent(true).then(function(content) {\r\n\t\t\tsharelinks.SaveAsPdf(fileName,content,self.linkInfo);\r\n\t\t});\r\n\t}\r\n\t\t\r\n\tfunction processDataForPublish(result){\r\n\t\tvar AnnotationDigestResp = result.AnnotationDigestResp;\r\n\t\tsharelinks.processDataForPublish(result,settings,self.digestMetaInfoOptions);\r\n\t\tvar linkAnnotationDigestResp = AnnotationDigestResp.AnnotationDigest;\r\n\t\ttrustedAnnotatedText = {};\r\n\t\tself.digestData = sharelinks.preProcessAnnotationDigestResp(linkAnnotationDigestResp,config,AnnotationDigestResp.dlId);\r\n\t\tif(!_.isEmpty(result.publishFor) && result.publishFor == \"pdf\") {\r\n\t\t\tgetDigestContentAndSaveAsPdf(result.fileName);\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction cancelsaveAsSelectedType(SelectedType) {\r\n\t\tif(SelectedType == \"pdf\"){\r\n\t\t\tself.selectedPublishAsPdf = false;\r\n\t\t\tif(self.digestFor == 'AnnotationDigest') {\r\n\t\t\t\tself.selectedPublishAsLink = true;\r\n\t\t\t} else if(self.digestFor == 'DigestDocument') {\r\n\t\t\t\tself.showdocLink = true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction saveAsSelectedType(SelectedType) {\r\n\t\tvar publishedData = {\"publishFor\" : SelectedType};\r\n\t\tcheckAndCreateLink(function() {\r\n\t\t\tsharelinks.createLinkAnnotationDigest({dLinkId : self.linkInfo.dlId},function(respData) {\r\n\t\t\t\tpublishedData[\"AnnotationDigestResp\"]= respData;\r\n\t\t\t\t\tif(publishedData.publishFor == \"pdf\"){\r\n\t\t\t\t\t\tif(!_.isEmpty(self.pdfName)) {\r\n\t\t\t\t\t\t\tpublishedData[\"fileName\"]= self.pdfName;\r\n\t\t\t\t\t\t\tprocessDataForPublish(publishedData);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction hideAllPublishOptions() {\r\n\t\tself.selectedPublishAsNote = false;\r\n\t\tself.selectedPublishAsPdf = false;\r\n\t\tself.selectedPublishAsLink = false;\r\n\t\t//self.showdocLink = false;\r\n\t}\r\n\t\r\n\tfunction publishAsSelectedType(SelectedType) {\r\n\t\thideAllPublishOptions();\r\n\t\tif(SelectedType == \"numicinote\") {\r\n\t\t\tself.selectedPublishAsNote = true;\r\n\t\t\tself.noteName = angular.copy(self.digestName);\r\n\t\t}\r\n\t\tif(SelectedType == \"pdf\") {\r\n\t\t\tself.selectedPublishAsPdf = true;\r\n\t\t\tself.pdfName = angular.copy(self.digestName);\r\n\t\t\tif(self.pdfName.endsWith(\".pdf\")) {\r\n\t\t\t\tself.pdfName = self.pdfName.replace(\".pdf\",\"\")\r\n\t\t\t}\r\n\t\t}\r\n\t\tif(SelectedType == \"email\") {\r\n\t\t\tself.selectedPublishAsLink = true;\r\n\t\t\tsaveAsSelectedType(SelectedType);\r\n\t\t}\r\n\t\tif(SelectedType == \"link\") {\r\n\t\t\tcheckAndCreateLink(function() {\r\n\t\t\t\tself.selectedPublishAsLink = true;\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction checkAndPublishAsSelectedType(SelectedType) {\r\n\t\tpublishAsSelectedType(SelectedType);\r\n\t}\r\n\t\r\n\tself.copyToClipboard = function (event) {\r\n\t    var $container = angular.element(event.currentTarget).parent();\r\n\t    var shareLinkInput = $container.find('input')[0];\r\n\r\n\t    try {\r\n\t      shareLinkInput.select();\r\n\r\n\t      // In some browsers, execCommand() returns false if it fails,\r\n\t      // in others, it may throw an exception instead.\r\n\t      if (!document.execCommand('copy')) {\r\n\t        throw new Error('Copying link failed');\r\n\t      }\r\n\r\n\t      self.copyToClipboardMessage = 'Link copied to clipboard!';\r\n\t    } catch (ex) {\r\n\t      self.copyToClipboardMessage = 'Select and copy to share.';\r\n\t    } finally {\r\n\t      setTimeout(function () {\r\n\t        self.copyToClipboardMessage = null;\r\n\t        $scope.$digest();\r\n\t      }, 1000);\r\n\t    }\r\n\t};\r\n  \r\n\tfunction init() {\r\n\t\tconfigDigestDataFromDigestLink();\r\n\t\tif(!_.isEmpty(config.groupBy)) {\r\n\t\t\tvar gpby = _.findWhere(self.groupByOptionList,{value: config.groupBy})\r\n\t\t\tif(gpby) {\r\n\t\t\t\tself.groupByOption = gpby;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tinit();\r\n}\r\n\r\nmodule.exports = ShareLinkModal;",
    "'use strict';\r\n\r\n\r\n//@ngInject\r\nfunction MaitenaceSchedulerNtfController($rootScope, $scope, maintenance, $timeout, $compile) {\r\n\tvar self = this;\r\n\tvar timer;\r\n\tvar timer1;\r\n\r\n\tself.text = \"\";\r\n\tself.title = \"Scheduled Maintenance\";\r\n\tself.tab = 1;\r\n\tself.maintenanceScheduleMsg = \"\";\r\n\tself.shutdownNtfMsg = false;\r\n\tself.setTab = function(newTab) {\r\n\t\tself.tab = newTab;\r\n\t};\r\n\r\n\tself.isSet = function(tabNum) {\r\n\t\treturn self.tab === tabNum;\r\n\t};\r\n\r\n\r\n\t$scope.$watch('vm.maintenanceSchedule', function(maintenanceSchedule) {\r\n\t\tif (maintenanceSchedule) {\r\n\t\t\tinit();\r\n\t\t}\r\n\t});\r\n\t\r\n\t$scope.$watch('vm.auth', function(auth) {\r\n\t\tself.auth = auth;\r\n\t});\r\n\r\n    $scope.$on(\"$destroy\", function () {\r\n\t   $timeout.cancel(timer);\r\n\t   $timeout.cancel(timer1);\r\n\t});\r\n\r\n\r\n    function handleShutdown() {\r\n\t\tif (!maintenance.isUserRoleAllowed(self.auth[\"UserRole\"])) {\r\n\t\t\tif(self.auth.status == 'logged-in' ) {\r\n\t\t\t\tself.logout().then(function() {\r\n\t\t\t\t\tself.shutdownNtfMsg = true;\r\n\t\t\t\t\tself.text = maintenance.getShutdownNtfMsg(self.maintenanceSchedule);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tself.shutdownNtfMsg = true;\r\n\t\t\t\tself.text = maintenance.getShutdownNtfMsg(self.maintenanceSchedule);\r\n\t\t\t}\t\t\t\t\t\t\r\n\t\t} else {\r\n\t\t\tself.onClose();\r\n\t\t}\r\n\t\r\n\t}\r\n\tfunction init() {\r\n\t\tif (self.maintenanceSchedule) {\r\n\t\t\tif (self.maintenanceSchedule.notificationPeriod) {\r\n\t\t\t\tself.title = \"Scheduled Maintenance\";\r\n\t\t\t\tself.text = maintenance.getMaintenanceNtfMsg(self.maintenanceSchedule);\r\n\t\t\t}\r\n\r\n\t\t\tif (self.maintenanceSchedule.shutdown) {\r\n\t\t\t\tself.title = \"Scheduled Shutdown\";\r\n\t\t\t\tvar newLogoutDurationMillis = maintenance.getNewLogoutDurationMillis(self.maintenanceSchedule);\r\n\t\t\t\tif (newLogoutDurationMillis > 2000) {\r\n\t\t\t\t\tself.text = maintenance.getInitiatedShutdownNtfMsg(self.maintenanceSchedule, newLogoutDurationMillis);\r\n\t\t\t\t\ttimer = $timeout(function() {\r\n\t\t\t\t\t\t$rootScope.$broadcast('timer-start');\r\n\t\t\t\t\t\t$timeout.cancel(timer);\r\n\t\t\t\t\t}, 100);\r\n\r\n\t\t\t\t\ttimer1 = $timeout(function() {\r\n\t\t\t\t\t\t$rootScope.$broadcast('timer-stop');\r\n\t\t\t\t\t\t$timeout.cancel(timer1);\r\n\t\t\t\t\t\t\thandleShutdown();\r\n\t\t\t\t\t\t}, newLogoutDurationMillis + 100);\r\n\t\t\t\t} else {\r\n\t\t\t\t\thandleShutdown();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tinit();\r\n}\r\n\r\nmodule.exports = {\r\n\tcontroller: MaitenaceSchedulerNtfController,\r\n\tcontrollerAs: 'vm',\r\n\tbindings: {\r\n\t\tonClose: '&',\r\n\t\tlogout: '&',\r\n\t\tonLogin:'&',\r\n\t\tmaintenanceSchedule: '=',\r\n\t\tauth: '=',\r\n\t},\r\n\ttemplate: require('../templates/schedule-notification.tpl.html'),\r\n};\r\n",
    "'use strict';\n\nvar SearchClient = require('../search-client');\nvar events = require('../events');\nvar isThirdPartyService = require('../util/is-third-party-service');\nvar memoize = require('../util/memoize');\nvar tabs = require('../tabs');\nvar uiConstants = require('../ui-constants');\n\nfunction firstKey(object) {\n  for (var k in object) {\n    if (!object.hasOwnProperty(k)) {\n      continue;\n    }\n    return k;\n  }\n  return null;\n}\n\n/**\n * Returns the group ID of the first annotation in `results` whose\n * ID is a key in `selection`.\n */\nfunction groupIDFromSelection(selection, results) {\n  var id = firstKey(selection);\n  var annot = results.find(function (annot) {\n    return annot.id === id;\n  });\n  if (!annot) {\n    return null;\n  }\n  return annot.group;\n}\n\n// @ngInject\nfunction SidebarContentController(\n  $scope, analytics, store, annotationMapper, api, drafts, features, frameSync,\n  groups, rootThread, settings, streamer, streamFilter,$timeout\n) {\n  var self = this;\n  this.article = null;\n  \n  this.isEmbedded =  settings.appType === \"embedded\";\n  \n  function thread() {\n    return rootThread.thread(store.getState());\n  }\n\n  var unsubscribeAnnotationUI = store.subscribe(function () {\n    var state = store.getState();\n\n    self.rootThread = thread();\n    self.selectedTab = state.selectedTab;\n\n    var counts = tabs.counts(state.annotations);\n\n    Object.assign(self, {\n      totalNotes: counts.notes,\n      totalAnnotations: counts.annotations,\n      totalOrphans: counts.orphans,\n      waitingToAnchorAnnotations: counts.anchoring > 0,\n    });\n  });\n\n  $scope.$on('$destroy', unsubscribeAnnotationUI);\n  \n  $scope.$on(\"SimplifiedArticle\", function (event, article) {\n\t  self.selectWebClipTab();\n\t  if(article) {\n\t\t  $timeout(function() {\n\t\t\t  $scope.$apply(function() {\n\t\t\t\t  self.article = article;\n\t\t\t  }); \n\t\t  }, 0);  \n\t  }\n  });\n\n  function focusAnnotation(annotation) {\n    var highlights = [];\n    if (annotation) {\n      highlights = [annotation.$tag];\n    }\n    frameSync.focusAnnotations(highlights);\n  }\n\n  function scrollToAnnotation(annotation) {\n    if (!annotation) {\n      return;\n    }\n    frameSync.scrollToAnnotation(annotation);\n  }\n\n  /**\n   * Returns the Annotation object for the first annotation in the\n   * selected annotation set. Note that 'first' refers to the order\n   * of annotations passed to store when selecting annotations,\n   * not the order in which they appear in the document.\n   */\n  function firstSelectedAnnotation() {\n    if (store.getState().selectedAnnotationMap) {\n      var id = Object.keys(store.getState().selectedAnnotationMap)[0];\n      return store.getState().annotations.find(function (annot) {\n        return annot.id === id;\n      });\n    } else {\n      return null;\n    }\n  }\n\n  var searchClients = [];\n\n  function _resetAnnotations() {\n    annotationMapper.unloadAnnotations(store.savedAnnotations());\n  }\n\n  function _loadAnnotationsFor(uris, group,tsClientId,objId,objClientId,hashAnnotation,hashClient) {\n\tif(group || (hashAnnotation && hashClient)) {\n\t    var searchClient = new SearchClient(api.search, {\n\t      // If no group is specified, we are fetching annotations from\n\t      // all groups in order to find out which group contains the selected\n\t      // annotation, therefore we need to load all chunks before processing\n\t      // the results\n\t      incremental: !!group,\n\t    });\n\t    searchClients.push(searchClient);\n\t    searchClient.on('results', function (results) {\n\t      if (store.hasSelectedAnnotations()) {\n\t        // Focus the group containing the selected annotation and filter\n\t        // annotations to those from this group\n\t        var groupID = groupIDFromSelection( store.getState().selectedAnnotationMap, results);\n\t        if (!groupID) {\n\t          // If the selected annotation is not available, fall back to\n\t          // loading annotations for the currently focused group\n\t          groupID = groups.focusedId();\n\t        }\n\t        results = results.filter(function (result) {\n\t          return result.group === groupID;\n\t        });\n\t        groups.focus(groupID);\n\t      }\n\t\n\t      if (results.length) {\n\t        annotationMapper.loadAnnotations(results);\n\t      }\n\t    });\n\t    searchClient.on('end', function () {\n\t      // Remove client from list of active search clients.\n\t      //\n\t      // $evalAsync is required here because search results are emitted\n\t      // asynchronously. A better solution would be that the loading state is\n\t      // tracked as part of the app state.\n\t      $scope.$evalAsync(function () {\n\t        searchClients.splice(searchClients.indexOf(searchClient), 1);\n\t      });\n\t\n\t      store.frames().forEach(function (frame) {\n\t        if (0 <= uris.indexOf(frame.uri)) {\n\t          store.updateFrameAnnotationFetchStatus(frame.uri, true);\n\t        }\n\t      });\n\t    });\n\t    searchClient.get({\n\t    \turi: uris, \n\t    \tgroup: group,\n\t    \ttsClientId: tsClientId,\n\t    \tobjId: objId,\n\t    \tobjClientId: objClientId,\n\t    \thashAnnotation: hashAnnotation,\n\t    \thashClient: hashClient\n\t    });\n \t}\n  }\n\n  function isLoading() {\n    if (!store.frames().some(function (frame) { return frame.uri; })) {\n      // The document's URL isn't known so the document must still be loading.\n      return true;\n    }\n\n    if (searchClients.length > 0) {\n      // We're still waiting for annotation search results from the API.\n      return true;\n    }\n\n    return false;\n  }\n\n  /**\n   * Load annotations for all URLs associated with `frames`.\n   */\n  function loadAnnotations() {\n\t _resetAnnotations();\n\t \n\tif (self.auth.status !== 'logged-in' && !self.auth.isPublic) {\n\t\t   return false;\n\t}\n\t\n    searchClients.forEach(function (client) {\n      client.cancel();\n    });\n\n    // If there is no selection, load annotations only for the focused group.\n    //\n    // If there is a selection, we load annotations for all groups, find out\n    // which group the first selected annotation is in and then filter the\n    // results on the client by that group.\n    //\n    // In the common case where the total number of annotations on\n    // a page that are visible to the user is not greater than\n    // the batch size, this saves an extra roundtrip to the server\n    // to fetch the selected annotation in order to determine which group\n    // it is in before fetching the remaining annotations.\n    var group = store.hasSelectedAnnotations() ? settings.group : groups.focused() ? groups.focused().id : null;\n    var tsClientId = groups.focused() ? groups.focused().clientId : null;\n    var objId = groups.focused() ? groups.focused().objId : null;\n    var objClientId = groups.focused() ? groups.focused().objClientId : null;\n\n    var searchUris = store.searchUris();\n    var hashAnnotation = settings.annotations;\n    var hashClient = settings.client;\n  \n    if(!hashAnnotation && !group) {\n    \tgroup = groups.focusedId();\n    }\n    \n    if (searchUris.length > 0) {\n      _loadAnnotationsFor(searchUris, group,tsClientId,objId,objClientId,hashAnnotation,hashClient);\n\n\n      streamFilter\n      \t.resetFilter()\n      \t.setGroup(group)\n      \t.addClause('/uri', 'one_of', searchUris);\n      streamer.setConfig('filter', {filter: streamFilter.getFilter()});\n    }\n  }\n\n  \n  function updateCoordinates(annotMap) {\n\t  \n\ttry {\n\t\t let annotList = Object.values(annotMap);\n\t\t let group = groups.focused();\n\t     if(!group || !groups.focused().permissions.view) {\n\t    \treturn;\n\t     }\n\t\t\n\t     annotList = annotList.filter(function (annot) {\n           return annot.updateRect && annot.coordinates;\n         });\n\t\t \n\t\t if(annotList && annotList.length > 0) {\n\t\t\t var postdata = {\n\t\t\t\t\t tsId : group.id, \n\t\t\t\t\t tsClientId: group.clientId || null,\n\t\t\t\t\t objId: group.objId || null,\n\t\t\t\t\t objClientId: group.objClientId || null,\n\t\t\t\t\t annotList: annotList,\n\t\t\t };\n\t\t\t var update = api.annotation.updatecoord({}, postdata);\n\t\t\t update.then(function (model) {\n\t\t\t   if(model.updated) {\n\t\t\t\t console.log(\"Coordinates updated\");\n\t\t       }\n\t\t\t }).catch(function (err) {});  \n\t\t\t \n\t\t }\n\t } catch(e) {\n\t\t \n\t }\n  }\n  \n  \n  $scope.$on('sidebarOpened', function () {\n\n    analytics.track(analytics.events.SIDEBAR_OPENED);\n\n    streamer.connect();\n  });\n\n  // If the user is logged in, we connect nevertheless\n  if (this.auth.status === 'logged-in' || this.auth.isPublic) {\n    streamer.connect();\n  }\n\n  $scope.$on(events.USER_CHANGED, function () {\n    streamer.reconnect();\n  });\n\n  \n  $scope.$on(\"COORDINATES_UPDATED\", function (event, annotMap) {\n\t updateCoordinates(annotMap);\n  });\n  \n  \n  $scope.$on(events.ANNOTATIONS_SYNCED, function (event, tags) {\n    // When a direct-linked annotation is successfully anchored in the page,\n    // focus and scroll to it\n    var selectedAnnot = firstSelectedAnnotation();\n    if (!selectedAnnot) {\n      return;\n    }\n    var matchesSelection = tags.some(function (tag) {\n      return tag === selectedAnnot.$tag;\n    });\n    if (!matchesSelection) {\n      return;\n    }\n    focusAnnotation(selectedAnnot);\n    scrollToAnnotation(selectedAnnot);\n\n    store.selectTab(tabs.tabForAnnotation(selectedAnnot));\n  });\n\n  // Re-fetch annotations when focused group, logged-in user or connected frames\n  // change.\n  $scope.$watch(() => ([\n    groups.focusedId(),\n    groups.getwebResource(),\n    store.profile().userid,\n    ...store.searchUris(),\n  \n  ]), ([currentGroupId,currentWebresource], [prevGroupId,oldWebresource]) => {\n\n    if (prevGroupId && currentGroupId !== prevGroupId) {\n      // The focused group may be changed during loading annotations as a result\n      // of switching to the group containing a direct-linked annotation.\n      //\n      // In that case, we don't want to trigger reloading annotations again.\n      if (isLoading()) {\n        return;\n      }\n      store.clearSelectedAnnotations();\n    }\n    loadAnnotations();\n  }, true);\n\n   /*$scope.$watch(() => ([\n    groups.getwebResource(),\n   ]), ([currentWebresource], [oldWebresource]) => {\n\tif(!currentWebresource && oldWebresource) {\n\t\tstore.clearSelectedAnnotations();\n        loadAnnotations();\n\t}\n  }, true);*/\n\n  this.setCollapsed = function (id, collapsed) {\n    store.setCollapsed(id, collapsed);\n  };\n\n  this.forceVisible = function (thread) {\n    store.setForceVisible(thread.id, true);\n    if (thread.parent) {\n      store.setCollapsed(thread.parent.id, false);\n    }\n  };\n\n  this.focus = focusAnnotation;\n  this.scrollTo = scrollToAnnotation;\n\n  this.selectedAnnotationCount = function () {\n    var selection = store.getState().selectedAnnotationMap;\n    if (!selection) {\n      return 0;\n    }\n    return Object.keys(selection).length;\n  };\n\n  this.selectedAnnotationUnavailable = function () {\n    var selectedID = firstKey(store.getState().selectedAnnotationMap);\n    return !isLoading() &&\n           !!selectedID &&\n           !store.annotationExists(selectedID);\n  };\n\n  this.shouldShowLoggedOutMessage = function () {\n    // If user is not logged out, don't show CTA.\n    if (self.auth.status !== 'logged-out') {\n      return false;\n    }\n\n    // If user has not landed on a direct linked annotation\n    // don't show the CTA.\n    if (!settings.annotations) {\n      return false;\n    }\n\n    // The CTA text and links are only applicable when using Hypothesis\n    // accounts.\n    if (isThirdPartyService(settings)) {\n      return false;\n    }\n\n    // The user is logged out and has landed on a direct linked\n    // annotation. If there is an annotation selection and that\n    // selection is available to the user, show the CTA.\n    var selectedID = firstKey(store.getState().selectedAnnotationMap);\n    return !isLoading() &&\n           !!selectedID &&\n           store.annotationExists(selectedID);\n  };\n\n  this.isLoading = isLoading;\n\n  var visibleCount = memoize(function (thread) {\n    return thread.children.reduce(function (count, child) {\n      return count + visibleCount(child);\n    }, thread.visible ? 1 : 0);\n  });\n\n  this.visibleCount = function () {\n    return visibleCount(thread());\n  };\n\n  this.topLevelThreadCount = function () {\n    return thread().totalChildren;\n  };\n\n  this.clearSelection = function () {\n    var selectedTab = store.getState().selectedTab;\n    if (!store.getState().selectedTab || store.getState().selectedTab === uiConstants.TAB_ORPHANS) {\n      selectedTab = uiConstants.TAB_ANNOTATIONS;\n    }\n\n    store.clearSelectedAnnotations();\n    store.selectTab(selectedTab);\n  };\n  \n  this.selectWebClipTab = function () {\n    var selectedTab = store.getState().selectedTab;\n    if (!store.getState().selectedTab || store.getState().selectedTab !== uiConstants.WEB_CLIP) {\n      selectedTab = uiConstants.WEB_CLIP;\n    }\n    store.selectTab(selectedTab);\n  };\n}\n\nmodule.exports = {\n  controller: SidebarContentController,\n  controllerAs: 'vm',\n  bindings: {\n    auth: '<',\n    search: '<',\n    article : '<',\n\tonClose: '&',\n\tclipperPanel : '<',\n  },\n  template: require('../templates/sidebar-content.html'),\n};\n",
    "'use strict';\n\nvar sessionUtil = require('../util/session-util');\n\n// @ngInject\nfunction SidebarTutorialController(session, settings) {\n  this.isThemeClean = settings.theme === 'clean';\n\n  this.showSidebarTutorial = function () {\n    return sessionUtil.shouldShowSidebarTutorial(session.state);\n  };\n\n  this.dismiss = function () {\n    session.dismissSidebarTutorial();\n  };\n}\n\n/**\n * @name sidebarTutorial\n * @description Displays a short tutorial in the sidebar.\n */\n// @ngInject\nmodule.exports = {\n  controller: SidebarTutorialController,\n  controllerAs: 'vm',\n  bindings: {},\n  template: require('../templates/sidebar-tutorial.html'),\n};\n",
    "'use strict';\n\nmodule.exports = {\n  controllerAs: 'vm',\n  controller: function () {},\n  bindings: {\n    /** The name of the currently selected sort key. */\n    sortKey: '<',\n    /** A list of possible keys that the user can opt to sort by. */\n    sortKeysAvailable: '<',\n    /** Called when the user changes the sort key. */\n    onChangeSortKey: '&',\n  },\n  template: require('../templates/sort-dropdown.html'),\n};\n",
    "'use strict';\n\n// @ngInject\nfunction StreamContentController(\n  $scope, $location, $route, $routeParams, annotationMapper, store,\n  api, queryParser, rootThread, searchFilter, streamFilter, streamer\n) {\n  var self = this;\n\n  store.setAppIsSidebar(false);\n\n  /** `offset` parameter for the next search API call. */\n  var offset = 0;\n\n  /** Load annotations fetched from the API into the app. */\n  var load = function (result) {\n    offset += result.rows.length;\n    annotationMapper.loadAnnotations(result.rows, result.replies);\n  };\n\n  /**\n   * Fetch the next `limit` annotations starting from `offset` from the API.\n   */\n  var fetch = function (limit) {\n    var query = Object.assign({\n      _separate_replies: true,\n      offset: offset,\n      limit: limit,\n    }, searchFilter.toObject($routeParams.q));\n\n    api.search(query)\n      .then(load)\n      .catch(function (err) {\n        console.error(err);\n      });\n  };\n\n  // Re-do search when query changes\n  var lastQuery = $routeParams.q;\n  $scope.$on('$routeUpdate', function () {\n    if ($routeParams.q !== lastQuery) {\n      store.clearAnnotations();\n      $route.reload();\n    }\n  });\n\n  // Set up updates from real-time API.\n  streamFilter\n    .resetFilter()\n    .setMatchPolicyIncludeAll();\n\n  var terms = searchFilter.generateFacetedFilter($routeParams.q);\n  queryParser.populateFilter(streamFilter, terms);\n  streamer.setConfig('filter', {filter: streamFilter.getFilter()});\n  streamer.connect();\n\n  // Perform the initial search\n  fetch(20);\n\n  this.setCollapsed = store.setCollapsed;\n  this.forceVisible = function (id) {\n    store.setForceVisible(id, true);\n  };\n\n  Object.assign(this.search, {\n    query: function () {\n      return $routeParams.q || '';\n    },\n    update: function (q) {\n      $location.search({q: q});\n    },\n  });\n\n  store.subscribe(function () {\n    self.rootThread = rootThread.thread(store.getState());\n  });\n\n  // Sort the stream so that the newest annotations are at the top\n  store.setSortKey('Newest');\n\n  this.loadMore = fetch;\n}\n\nmodule.exports = {\n  controller: StreamContentController,\n  controllerAs: 'vm',\n  bindings: {\n    search: '<',\n  },\n  template: require('../templates/stream-content.html'),\n};\n",
    "'use strict';\n\n/**\n * The <svg-icon> component renders SVG icons using inline <svg> tags,\n * enabling their appearance to be customized via CSS.\n *\n * This matches the way we do icons on the website, see\n * https://github.com/hypothesis/h/pull/3675\n */\n\n// The list of supported icons\nvar icons = {\n  refresh: require('../../images/icons/refresh.svg'),\n  cursor: require('../../images/icons/cursor.svg'),\n  tsinfo: require('../../images/icons/Numici-ts-info.svg'),\n};\n\n// @ngInject\nfunction SvgIconController($element) {\n  if (!icons[this.name]) {\n    throw new Error('Unknown icon: ' + this.name);\n  }\n  $element[0].innerHTML = icons[this.name];\n}\n\nmodule.exports = {\n  controllerAs: 'vm',\n  controller: SvgIconController,\n  bindings: {\n    /** The name of the icon to load. */\n    name: '<',\n  },\n};\n",
    "'use strict';\n\n// @ngInject\nfunction TagEditorController(tags,api) {\n\t\n  this.onTagAdding = function($tag) {\n\t  var status = true;\n\t  var txt = $tag.text;\n\t  if(txt.indexOf(\":\") > -1) {\n\t\t  txt = txt.split(\":\")[0];\n\t  }\n\t  \n\t  if(!txt) {\n\t\tstatus = false;\n\t\treturn status;\n\t  }\n\t  \n\t  this.tagList.forEach(function (item) {\n\t\t  var itemText = item.text;\n\t\t  if(itemText.indexOf(\":\") > -1) {\n\t\t\t  itemText = itemText.split(\":\")[0];\n\t\t\t  if(!itemText) {\n\t\t\t\tstatus = false;\n\t\t\t\treturn status;\n\t\t\t  }\n\t\t  }\n\t\t  \n\t\t  if(itemText && txt && itemText.trim().toLowerCase() === txt.trim().toLowerCase()) {\n\t\t\t\tstatus = false;\n\t\t\t\treturn status;\n\t\t  }\n\t  });\n\t  \n\t  return status;\n  };\n  \n  this.onTagsChanged = function () {\n    tags.store(this.tagList);\n\n    var newTags = this.tagList.map(function (item) {\n    \tif(item.text.indexOf(\":\") > -1) {\n\t\t\tvar tagInfo = item.text.split(\":\");\n\t\t\tif(tagInfo[1]) {\n\t\t\t\treturn {\"TagName\": tagInfo[0].trim(),\"Value\": tagInfo[1].trim()};\n\t\t\t}\n\t\t}\n    \treturn {\"TagName\": item.text};\n    });\n    this.onEditTags({tags: newTags});\n  };\n\n  this.autocomplete = function (query) {\n\treturn api.tags.searchResourceTags({}, { \"searchKey\": query }).then(function(resp) {\n\t\tif (resp && resp.length > 0) {\n\t\t\treturn resp.map(function(tag) {\n\t\t\t\tif (tag.Value) {\n\t\t\t\t\treturn { text: tag.TagName + \":\" + tag.Value ,tagId: tag.TagId , isNew: tag.isNew};\n\t\t\t\t}\n\t\t\t\treturn { text: tag.TagName, tagId: tag.TagId , isNew: tag.isNew};\n\t\t\t});\n\t\t} else {\n\t\t\treturn [{ text: query, tagId: null , isNew: true}];\n\t\t}\n\t});\n  };\n\n  this.$onChanges = function (changes) {\n    if (changes.tags) {\n      this.tagList = changes.tags.currentValue.map(function (tag) {\n    \t  if(tag.Value) {\n    \t\t  return {text: tag.TagName+\":\"+tag.Value};\n    \t  }\n        return {text: tag.TagName};\n      });\n    }\n  };\n}\n\nmodule.exports = {\n  controller: TagEditorController,\n  controllerAs: 'vm',\n  bindings: {\n    tags: '<',\n    onEditTags: '&',\n  },\n  template: require('../templates/tag-editor.html'),\n};\n",
    "'use strict';\r\n\r\n/* @ngInject */\r\nfunction TagInfoDialogController($scope, api, groups, flash,store) {\r\n   'ngInject';\r\n\tvar self = this;\r\n\r\n\tself.tags = [];\r\n\r\n\tself.tab = 1;\r\n\tself.changedTags = null;\r\n\tself.enableSave = false;\r\n\tself.setTab = function(newTab)  {\r\n\t\tself.tab = newTab;\r\n\t};\r\n\r\n\tself.isSet = function(tabNum)  {\r\n\t\treturn self.tab === tabNum;\r\n\t};\r\n\r\n\tself.onTagsEdited = function(tags) {\r\n\t\tself.changedTags = tags;\r\n\t\tvar status = false;\r\n\t\tif (self.changedTags) {\r\n\t\t\tself.changedTags.forEach(function(item) {\r\n\t\t\t\tif (item.isNew) {\r\n\t\t\t\t\tstatus = true;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} \r\n\t\tself.enableSave = status;\r\n\t};\r\n\r\n\tself.untag = function(tag) {\r\n\t\tvar group = groups.focused();\r\n\t\tif (group && group.objId && group.objClientId) {\r\n\t\t\tlet postdata = {\r\n\t\t\t\t\"tagId\": tag.tagId,\r\n\t\t\t\t\"topObjectId\": group.objId,\r\n\t\t\t\t\"topObjectClientId\": group.objClientId\r\n\t\t\t};\r\n\t\t\tapi.tags.untag({}, postdata).then(function(tags) {\r\n\t\t\t\tif (tags) {\r\n\t\t\t\t\tself.changedTags = self.changedTags.filter(function(item) {\r\n\t\t\t\t\t\tif (item.tagId != postdata.tagId) {\r\n\t\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t\r\n\t\t\t\t\tself.tags = self.tags.filter(function(item) {\r\n\t\t\t\t\t\tif (item.TagId != postdata.tagId) {\r\n\t\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tfunction getTagsPostData() {\r\n\t\tlet items, tags;\r\n\t\tvar group = groups.focused();\r\n\t\tif (group && group.objId && group.objClientId) {\r\n\t\t\titems = [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"Type\": \"Document\",\r\n\t\t\t\t\t\"TopObjectId\": group.objId,\r\n\t\t\t\t\t\"TopObjectClientId\": group.objClientId\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\r\n\t\tif (self.changedTags) {\r\n\t\t\ttags = self.changedTags.filter(function(item) {\r\n\t\t\t\tif (item.isNew) {\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn {\r\n\t\t\t\"Items\": items,\r\n\t\t\t\"tags\": tags\r\n\t\t};\r\n\t}\r\n\r\n\tself.saveTags = function() {\r\n\t\tvar group = groups.focused();\r\n\t\tif (group && group.objId && group.objClientId) {\r\n\t\t\tlet postdata = getTagsPostData();\r\n\t\t\tif (postdata && postdata.Items && postdata.tags)\r\n\t\t\t\tapi.tags.tag({}, postdata).then(function(tags) {\r\n\t\t\t\t\tif (tags && tags.resultList && tags.resultList.length > 0) {\r\n\t\t\t\t\t\tlet tagObj =  tags.resultList[0];\r\n\t\t\t\t\t\tif(!tagObj.isTagged) {\r\n\t\t\t\t\t\t\tif(tagObj.Reason == \"NoPermOnObject\"){\r\n\t\t\t\t\t\t\t\tflash.error(\"You Dont Have Permissions To Tag This Document\");\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tflash.error(\"Unable to Add the tag\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tflash.success(\"Document tagged successfully\");\r\n\t\t\t\t\t\t\tinit();\r\n\t\t\t\t\t\t\tself.cancel();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t}\r\n\t};\r\n\t\r\n\tself.cancel = function() {\r\n\t\tstore.selectTagBtn(false);\r\n\t\tself.onClose();\r\n\t};\r\n\r\n\t$scope.$watch(() => ([groups.focusedId()]), ([currentGroupId], [prevGroupId]) => {\r\n\t\tif (currentGroupId !== prevGroupId) {\r\n\t\t\tinit();\r\n\t\t}\r\n\t}, true);\r\n\r\n    $scope.$on('$destroy', function() {\r\n\t\tstore.selectTagBtn(false);\r\n\t});\r\n\r\n\tfunction getTagInfo(objectId, objectClientId) {\r\n\t\tapi.tags.getResourceTags({}, { \"objectType\": \"high\", \"objectId\": objectId, \"objectClientId\": objectClientId }).then(function(tags) {\r\n\t\t\tif (tags) {\r\n\t\t\t\tself.tags = tags.Tag || [];\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\tfunction init() {\r\n\t\tself.changedTags = null;\r\n\t\tself.enableSave = false;\r\n\t\tvar group = groups.focused();\r\n\t\tif (group && group.objId && group.objClientId) {\r\n\t\t\tgetTagInfo(group.objId, group.objClientId);\r\n\t\t}\r\n\t}\r\n\tinit();\r\n}\r\n\r\nmodule.exports = {\r\n\tcontroller: TagInfoDialogController,\r\n\tcontrollerAs: 'vm',\r\n\tbindings: {\r\n\t\tonClose: '&',\r\n\t\teditMode: '=',\r\n\t},\r\n\ttemplate: require('../templates/tags-info-dialog.html'),\r\n};",
    "'use strict';\n\nvar events = require('../events');\nvar metadata = require('../annotation-metadata');\n\n/**\n * Component which displays a virtualized list of annotation threads.\n */\n\nvar scopeTimeout = require('../util/scope-timeout');\n\n/**\n * Returns the height of the thread for an annotation if it exists in the view\n * or `null` otherwise.\n */\nfunction getThreadHeight(id) {\n  var threadElement = document.getElementById(id);\n  if (!threadElement) {\n    return null;\n  }\n\n  // Note: `getComputedStyle` may return `null` in Firefox if the iframe is\n  // hidden. See https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n  var style = window.getComputedStyle(threadElement);\n  if (!style) {\n    return null;\n  }\n\n  // Get the height of the element inside the border-box, excluding\n  // top and bottom margins.\n  var elementHeight = threadElement.getBoundingClientRect().height;\n\n  // Get the bottom margin of the element. style.margin{Side} will return\n  // values of the form 'Npx', from which we extract 'N'.\n  var marginHeight = parseFloat(style.marginTop) +\n                     parseFloat(style.marginBottom);\n\n  return elementHeight + marginHeight;\n}\n\nvar virtualThreadOptions = {\n  // identify the thread types that need to be rendered\n  // but not actually visible to the user\n  invisibleThreadFilter: function(thread){\n    // new highlights should always get rendered so we don't\n    // miss saving them via the render-save process\n    return thread.annotation.$highlight && metadata.isNew(thread.annotation);\n  },\n};\n\n// @ngInject\nfunction ThreadListController($element, $scope, settings, VirtualThreadList) {\n  // `visibleThreads` keeps track of the subset of all threads matching the\n  // current filters which are in or near the viewport and the view then renders\n  // only those threads, using placeholders above and below the visible threads\n  // to reserve space for threads which are not actually rendered.\n  var self = this;\n\n  // `scrollRoot` is the `Element` to scroll when scrolling a given thread into\n  // view.\n  //\n  // For now there is only one `<thread-list>` instance in the whole\n  // application so we simply require the scroll root to be annotated with a\n  // specific class. A more generic mechanism was removed due to issues in\n  // Firefox. See https://github.com/hypothesis/client/issues/341\n  this.scrollRoot = document.querySelector('.js-thread-list-scroll-root');\n\n  this.isThemeClean = settings.theme === 'clean';\n\n  var options = Object.assign({\n    scrollRoot: this.scrollRoot,\n  }, virtualThreadOptions);\n\n  var visibleThreads = new VirtualThreadList($scope, window, this.thread, options);\n  visibleThreads.on('changed', function (state) {\n    self.virtualThreadList = {\n      visibleThreads: state.visibleThreads,\n      invisibleThreads: state.invisibleThreads,\n      offscreenUpperHeight: state.offscreenUpperHeight + 'px',\n      offscreenLowerHeight: state.offscreenLowerHeight + 'px',\n    };\n\n    scopeTimeout($scope, function () {\n      state.visibleThreads.forEach(function (thread) {\n        var height = getThreadHeight(thread.id);\n        if (!height) {\n          return;\n        }\n        visibleThreads.setThreadHeight(thread.id, height);\n      });\n    }, 50);\n  });\n\n  /**\n   * Return the vertical scroll offset for the document in order to position the\n   * annotation thread with a given `id` or $tag at the top-left corner\n   * of the view.\n   */\n  function scrollOffset(id) {\n    var maxYOffset = self.scrollRoot.scrollHeight - self.scrollRoot.clientHeight;\n    return Math.min(maxYOffset, visibleThreads.yOffsetOf(id));\n  }\n\n  /** Scroll the annotation with a given ID or $tag into view. */\n  function scrollIntoView(id) {\n    var estimatedYOffset = scrollOffset(id);\n    self.scrollRoot.scrollTop = estimatedYOffset;\n\n    // As a result of scrolling the sidebar, the target scroll offset for\n    // annotation `id` might have changed as a result of:\n    //\n    // 1. Heights of some cards above `id` changing from an initial estimate to\n    //    an actual measured height after the card is rendered.\n    // 2. The height of the document changing as a result of any cards heights'\n    //    changing. This may affect the scroll offset if the original target\n    //    was near to the bottom of the list.\n    //\n    // So we wait briefly after the view is scrolled then check whether the\n    // estimated Y offset changed and if so, trigger scrolling again.\n    scopeTimeout($scope, function () {\n      var newYOffset = scrollOffset(id);\n      if (newYOffset !== estimatedYOffset) {\n        scrollIntoView(id);\n      }\n    }, 200);\n  }\n\n  $scope.$on(events.BEFORE_ANNOTATION_CREATED, function (event, annotation) {\n    //if (annotation.$highlight || metadata.isReply(annotation)) {\n    if (metadata.isReply(annotation)) {\n      return;\n    }\n    self.onClearSelection();\n    scrollIntoView(annotation.$tag);\n  });\n\n  this.$onChanges = function (changes) {\n    if (changes.thread) {\n      visibleThreads.setRootThread(changes.thread.currentValue);\n    }\n  };\n\n  this.$onDestroy = function () {\n    visibleThreads.detach();\n  };\n}\n\nmodule.exports = {\n  controller: ThreadListController,\n  controllerAs: 'vm',\n  bindings: {\n    /** The root thread to be displayed by the thread list. */\n    thread: '<',\n    showDocumentInfo: '<',\n\n    /**\n     * Called when the user clicks a link to show an annotation that does not\n     * match the current filter.\n     */\n    onForceVisible: '&',\n    /** Called when the user focuses an annotation by hovering it. */\n    onFocus: '&',\n    /** Called when a user selects an annotation. */\n    onSelect: '&',\n    /** Called when a user toggles the expansion state of an annotation thread. */\n    onChangeCollapsed: '&',\n    /** Called to clear the current selection. */\n    onClearSelection: '&',\n  },\n  template: require('../templates/thread-list.html'),\n};\n",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction TimeLogModal($scope,$modalInstance,timelog,$timeout) {\r\n\tvar self = this;\r\n\tvar vm = this; \r\n\t\t\r\n\tvm.timeLog = timelog.getTimeLogInfo();\r\n\tvm.cancel = cancel;\r\n\tvm.clearlog = clearlog;\r\n\tvm.tableToExcel = tableToExcel;\r\n\t\r\n\tfunction clearlog() {\r\n\t\ttimelog.clearLog();\r\n\t\tvm.timeLog = timelog.getTimeLogInfo();\r\n\t}\r\n\t\r\n\tfunction cancel() {\r\n\t\t$modalInstance.dismiss('cancel');\r\n\t}\r\n\t\r\n\tfunction tableToExcel() {\r\n\t\tvar exportHref = timelog.tableToExcel(\"#timeLog\",\"timeLog\");\r\n\t\t$timeout(function(){\r\n\t\t\t\r\n\t\t\tvar dt = new Date();\r\n\t        var day = dt.getDate();\r\n\t        var month = dt.getMonth() + 1;\r\n\t        var year = dt.getFullYear();\r\n\t        var hour = dt.getHours();\r\n\t        var mins = dt.getMinutes();\r\n\t        var postfix = day + \".\" + month + \".\" + year + \"_\" + hour + \".\" + mins;\r\n\t        //creating a temporary HTML link element (they support setting file names)\r\n\t        var a = document.createElement('a');\r\n\t        //getting data from our div that contains the HTML table\r\n\t        a.href = exportHref;\r\n\t        //setting the file name\r\n\t        a.download = 'time_log'+ postfix + '.xls';\r\n\t        //triggering the function\r\n\t        a.click();\r\n\t\t},100);\r\n\t}\r\n}\r\n\r\nmodule.exports = TimeLogModal;",
    "'use strict';\n\nvar dateUtil = require('../util/date');\n\n// @ngInject\nfunction TimestampController($scope, time) {\n\n  // A fuzzy, relative (eg. '6 days ago') format of the timestamp.\n  this.relativeTimestamp = null;\n\n  // A formatted version of the timestamp (eg. 'Tue 22nd Dec 2015, 16:00')\n  this.absoluteTimestamp = '';\n\n  var cancelTimestampRefresh;\n  var self = this;\n\n  function updateTimestamp() {\n    self.relativeTimestamp = time.toFuzzyString(self.timestamp);\n    self.absoluteTimestamp = dateUtil.format(new Date(self.timestamp));\n\n    if (self.timestamp) {\n      if (cancelTimestampRefresh) {\n        cancelTimestampRefresh();\n      }\n      cancelTimestampRefresh = time.decayingInterval(self.timestamp, function () {\n        updateTimestamp();\n        $scope.$digest();\n      });\n    }\n  }\n\n  this.$onChanges = function (changes) {\n    if (changes.timestamp) {\n      updateTimestamp();\n    }\n  };\n\n  this.$onDestroy = function () {\n    if (cancelTimestampRefresh) {\n      cancelTimestampRefresh();\n    }\n  };\n}\n\nmodule.exports = {\n  controller: TimestampController,\n  controllerAs: 'vm',\n  bindings: {\n    className: '<',\n    href: '<',\n    timestamp: '<',\n  },\n  template: require('../templates/timestamp.html'),\n};\n",
    "'use strict';\n\nvar isThirdPartyService = require('../util/is-third-party-service');\n\nmodule.exports = {\n  controllerAs: 'vm',\n  //@ngInject\n  controller: function ($scope,settings,groups,addSection) {\n\t\n\t$scope.move = false;\n\t$scope.share = false;\n\t$scope.groupinfo = false;\n\t\n    if (settings.theme && settings.theme === 'clean') {\n      this.isThemeClean = true;\n    } else {\n      this.isThemeClean = false;\n    }\n    \n    $scope.$watch(() => ([groups.focused()]), ([currentGroup], [prevGroup]) => {\n    \tif(!prevGroup) {\n    \t\tprevGroup = {id: null};\n    \t}\n    \t\n    \tif(!currentGroup) {\n    \t\tcurrentGroup = {id: null};\n    \t}\n    \t\n    \tvar group = groups.focused();\n    \t\n    \tif(group) {\n  \t\t\tif(group.fromPublicLink) {\n      \t\t\tdisableTopbarButtons();\n      \t\t} else if(group.permissions) {\n      \t\t\t//$scope.move = group.permissions.edit;\n      \t\t\t$scope.share = group.permissions.share;\n      \t\t\t$scope.groupinfo = group.permissions.view;\n      \t\t} \n  \t\t\t\n  \t\t\tif(!group.objId) {\n  \t\t\t\t$scope.move = false;\n  \t\t\t\t$scope.share = false;\n  \t\t\t}\n  \t\t\tif(!group.fromPublicLink && group.objOwner) {\n  \t\t\t\t$scope.move = true;\n  \t\t\t}\n  \t\t} else {\n  \t\t\tdisableTopbarButtons();\n  \t\t}\n      \t\n    }, true);\n    \n    function enableTopbarButtons() {\n\t\t$scope.move = true;\n\t\t$scope.share = true;\n\t\t$scope.groupinfo = true;\n\t}\n\t\n\tfunction disableTopbarButtons() {\n\t\t$scope.move = false;\n\t\t$scope.share = false;\n\t\t$scope.groupinfo = false;\n\t}\n  },\n  bindings: {\n    auth: '<',\n    isSidebar: '<',\n    onShowAboutPanel: '&',\n    onShowHelpPanel: '&',\n    onLogin: '&',\n    onLogout: '&',\n    onShowSignupBtn: '&',\n    onSharePage: '&',\n    onMoveWebresource: '&',\n    onGroupInfo: '&',\n    onViewTsDigest: '&',\n    onNewGroup:'&',\n    onSignUp: '&',\n    searchController: '<',\n    sortKey: '<',\n    sortKeysAvailable: '<',\n    onChangeSortKey: '&',\n    pendingUpdateCount: '<',\n    onApplyPendingUpdates: '&',\n  },\n  template: require('../templates/top-bar.html'),\n};\n",
    "'use strict';\n\n/**\n * Begin responding to JSON-RPC requests from frames on other origins.\n *\n * Register a window.postMessage() event listener that receives and responds to\n * JSON-RPC requests sent by frames on other origins using postMessage() as the\n * transport layer.\n *\n * Only frames whose origin is in the rpcAllowedOrigins config setting will be\n * responded to.\n *\n * This is a very partial implementation of a JSON-RPC 2.0 server:\n *\n * http://www.jsonrpc.org/specification\n *\n * The only part that we support so far is receiving JSON-RPC 2.0 requests (not\n * notifications) without any parameters and sending back a successful\n * response. Notifications (JSON-RPC calls that don't require a response),\n * method parameters, and error responses are not yet supported.\n *\n */\n// @ngInject\nfunction start(store, settings, $window) {\n  $window.addEventListener('message', function receiveMessage(event) {\n    let allowedOrigins = settings.rpcAllowedOrigins || [];\n\n    if (!allowedOrigins.includes(event.origin)) {\n      return;\n    }\n\n    // The entire JSON-RPC request object is contained in the postMessage()\n    // data param.\n    let jsonRpcRequest = event.data;\n\n    event.source.postMessage(jsonRpcResponse(jsonRpcRequest), event.origin);\n  });\n\n  /** Return a JSON-RPC response to the given JSON-RPC request object. */\n  function jsonRpcResponse(request) {\n    // The set of methods that clients can call.\n    let methods = {\n      'searchUris': store.searchUris,\n    };\n\n    let method = methods[request.method];\n\n    let response = {\n      'jsonrpc': '2.0',\n      'id': request.id,\n    };\n\n    if (method) {\n      response.result = method();\n    } else {\n      response.error = {\n        'code': -32601,\n        'message': 'Method not found',\n      };\n    }\n\n    return response;\n  }\n}\n\nmodule.exports = {\n  server: {\n    start: start,\n  },\n};\n",
    "'use strict';\r\n\r\nmodule.exports = ['$templateCache', function($templateCache) {\r\n\treturn {\r\n\t    restrict: \"E\",\r\n\t    scope: {\r\n\t    \ttaskSpace: \"=\",\r\n\t    \tgroupDigestData: '=digest',\r\n\t    \tdigestName:'@',\r\n\t    \tdescription:'@',\r\n\t    \ttemplateUrl:\"@\",\r\n\t\t    digestMetaInfoOptions :\"=\",\r\n\t\t    enableBorder :\"=\",\r\n\t\t    groupBy :\"=\",\r\n\t    \timagePosition :\"=\",\r\n\t    \tdisplayOrder :\"=\",\r\n\t    \tdisplayReplies :\"=\",\r\n\t    \t\r\n\t    \tsetDigesMinMaxWidth : \"&\",\r\n\t    \tgetTitleStyles : \"&\",\r\n\t    \talternateImageStyles : \"&\",\r\n\t    \tsetRepDigestStyles : \"&\",\r\n\t    \tgetAnnotatedText : \"&\",\r\n\t    \tformatCreatedDate : \"&\",\r\n\t    \tformatComment : \"&\",\r\n\t    \t\r\n\t    \tcommentIconUrl : \"=\"\r\n\t    },\r\n\t    controller : ['$scope', '$element','$q','$timeout',\r\n\t\t\tfunction ($scope, $element,$q,$timeout) {\r\n\t    \t\r\n\t    \t$scope.digesMinMaxWidth = function() {\r\n\t    \t\treturn $scope.setDigesMinMaxWidth();\r\n\t    \t};\r\n\t    \t$scope.titleStyles = function() {\r\n\t    \t\treturn $scope.getTitleStyles();\r\n\t    \t};\r\n\t    \t$scope.altImageStyles = function() {\r\n\t    \t\treturn $scope.alternateImageStyles();\r\n\t    \t};\r\n\t    \t$scope.repDigestStyles= function(digest) {\r\n\t    \t\treturn $scope.setRepDigestStyles({digest : digest});\r\n\t    \t};\r\n\t    \t$scope.annotatedText = function(annotation) {\r\n\t    \t\treturn $scope.getAnnotatedText({annotation: annotation});\r\n\t    \t};\r\n\t    \t$scope.createdDate = function(dateValue) {\r\n\t    \t\treturn $scope.formatCreatedDate({dateValue:dateValue});\r\n\t    \t};\r\n\t    \t\r\n\t    \t$scope.convertComment = function(annotation,comment) {\r\n\t    \t\treturn $scope.formatComment({\"annotation\":annotation,\"comment\" : comment});\r\n\t    \t};\r\n\t    \t\r\n\t    \t$scope.getTagLable = function(name) {\r\n\t    \t\tif(name == \"$$untagged\") {\r\n\t    \t\t\treturn \"Untagged Annotations\";\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\treturn name;\r\n\t    \t};\r\n\t    \t\r\n\t    \t$scope.getTagStyles = function(name) {\r\n\t    \t\tif(name == \"$$untagged\") {\r\n\t    \t\t\treturn {'color': '#069','padding': '0px'};\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\treturn {'color': '#069','padding': '0px'};\r\n\t    \t};\r\n\t    \t\r\n\t    \t$scope.getTagValueLable = function(name, groupBy) {\r\n\t    \t\tif(name == \"$$annotations\") {\r\n\t    \t\t\tif(groupBy == \"tag\") {\r\n\t    \t\t\t\treturn \"Untagged Annotations\";\r\n\t    \t\t\t} else {\r\n\t\t    \t\t\treturn false;\r\n\t    \t\t\t}\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\tif(name) {\r\n\t\t    \t\tif(groupBy == \"taghierarchical\") {\r\n\t\t    \t\t\tvar tagArray = name.split(\":\");\r\n\t\t    \t\t\tif(tagArray.length > 1) {\r\n\t\t\t    \t    \tif(_.isEmpty(tagArray[1])) {\r\n\t\t\t    \t    \t\treturn \"\";\r\n\t\t\t    \t\t\t} else {\r\n\t\t\t    \t\t\t\treturn tagArray[1];\r\n\t\t\t    \t\t\t}\r\n\t\t\t    \t    }\r\n\t\t    \t\t} else if(groupBy == \"tag\"){\r\n\t\t    \t\t\tvar tagArray = name.split(\":\");\r\n\t\t    \t\t\tif(tagArray.length > 1) {\r\n\t\t\t    \t    \tif(_.isEmpty(tagArray[1])) {\r\n\t\t\t    \t    \t\treturn tagArray[0];\r\n\t\t\t    \t\t\t}\r\n\t\t\t    \t    }\r\n\t\t    \t\t}\r\n\t    \t\t}\r\n\t    \t\t\r\n\t    \t\treturn name;\r\n\t    \t};\r\n\t    }],\r\n\t    link:function(scope){\r\n\t        scope.url = scope.templateUrl || require('../templates/annotaion-digest-template.html');\r\n\t        scope.grpUrl = require('../templates/digest-group-template.html');\r\n\t    },\r\n\t    template: '<div ng-include=\"grpUrl\"></div>',\r\n\t  };\r\n}];",
    "'use strict';\r\n\r\nmodule.exports = ['$templateCache', function($templateCache) {\r\n\treturn {\r\n\t    restrict: \"E\",\r\n\t    scope: {\r\n\t    \ttaskSpace: \"=\",\r\n\t    \tdigestData: '=digest',\r\n\t    \ttitle:'=',\r\n\t    \tdigestName:\"@\",\r\n\t    \tdescription:'@',\r\n\t    \ttemplateUrl:\"@\",\r\n\t    \tdigestMetaInfoOptions :\"=\",\r\n\t    \tenableBorder :\"=\",\r\n\t    \tgroupBy :\"=\",\r\n\t    \timagePosition :\"=\",\r\n\t    \tdisplayOrder : \"=\",\r\n\t    \tdisplayReplies : \"=\",\r\n\t    \t\r\n\t    \tsetDigesMinMaxWidth : \"&\",\r\n\t    \tgetTitleStyles : \"&\",\r\n\t    \talternateImageStyles : \"&\",\r\n\t    \tsetRepDigestStyles : \"&\",\r\n\t    \tgetAnnotatedText : \"&\",\r\n\t    \tformatCreatedDate : \"&\",\r\n\t    \tformatComment : \"&\",\r\n\t    \t\r\n\t    \tcommentIconUrl : \"=\"\r\n\t    },\r\n\t    controller : ['$scope', '$element','$q','$timeout',\r\n\t\t\tfunction ($scope, $element,$q,$timeout) {\r\n\t    \t\r\n\t    \t$scope.digesMinMaxWidth = function() {\r\n\t    \t\t//return $scope.setDigesMinMaxWidth();\r\n\t    \t\treturn {'max-width': '648px','color': '#333','line-height': '1.5','margin': '0 auto','font-size': '14px'};\r\n\t    \t};\r\n\t    \t$scope.titleStyles = function() {\r\n\t    \t\treturn $scope.getTitleStyles();\r\n\t    \t};\r\n\t    \t$scope.altImageStyles = function() {\r\n\t    \t\treturn $scope.alternateImageStyles();\r\n\t    \t};\r\n\t    \t$scope.repDigestStyles= function(digest) {\r\n\t    \t\treturn $scope.setRepDigestStyles({digest : digest});\r\n\t    \t};\r\n\t    \t$scope.annotatedText = function(annotation) {\r\n\t    \t\treturn $scope.getAnnotatedText({annotation: annotation});\r\n\t    \t};\r\n\t    \t$scope.createdDate = function(dateValue) {\r\n\t    \t\treturn $scope.formatCreatedDate({dateValue:dateValue});\r\n\t    \t};\r\n\t    \t\r\n\t    \t$scope.convertComment = function(annotation,comment) {\r\n\t    \t\treturn $scope.formatComment({\"annotation\":annotation,\"comment\" : comment});\r\n\t    \t};\r\n\t    \t\r\n\t    }],\r\n\t    template: require('../templates/annotaion-digest-template.html'),\r\n\t    /*,link:function(scope){\r\n\t        //scope.url = scope.templateUrl || '../templates/annotaion-digest-template.html';\r\n\t    \tscope.url = require('../templates/annotaion-digest-template.html');\r\n\t    },*/\r\n\t    /*templateUrl: function ($element, $attrs) {\r\n              //return $attrs.templateUrl || 'apppublic/components/PublicAnnotationDigest/annotaion-digest-template.html';\r\n\t    \treturn '<div ng-include=\"url\"></div>';\r\n        }*/\r\n\t    /*template: '<div ng-include=\"url\">\\\r\n\t    \t<annotaion-digest-title data-ng-if=\"title\" data-get-title-styles = \"titleStyles()\" data-task-space=\"taskSpace\" ></annotaion-digest-title>\\\r\n\t    \t</div>',*/\r\n\t};\r\n}];",
    "'use strict';\r\n\r\nmodule.exports = ['$templateCache', function($templateCache) {\r\n  return {\r\n\t  restrict: \"E\",\r\n\t    scope: {\r\n\t    \ttaskSpace: \"=\",\r\n\t    \tgetTitleStyles : \"&\",\r\n\t    },\r\n\t    controller : ['$scope', '$element','$q','$timeout',\r\n\t\t\tfunction ($scope, $element,$q,$timeout) {\r\n\t    \tvar digestTitleSuffix =\"Digest (generated by numici)\";\r\n\t    \t$scope.title = \"\";\r\n\t    \t\r\n\t    \t$scope.titleStyles = function() {\r\n\t    \t\treturn $scope.getTitleStyles();\r\n\t    \t};\r\n\t    \t\r\n\t    \tfunction init() {\r\n\t    \t\tif($scope.taskSpace) {\r\n\t    \t\t\t$scope.title = $scope.taskSpace.name+\" - \"+digestTitleSuffix;\r\n\t    \t\t} else {\r\n\t    \t\t\t$scope.title =  digestTitleSuffix;\r\n\t    \t\t}\r\n\t    \t}\r\n\t    \tinit();\r\n\t    \t\r\n\t    }],\r\n\t    templateUrl: function ($element, $attrs) {\r\n\t    \treturn require('../templates/digest-title-tmpl.html');\r\n\t    }\r\n  };\r\n}];\r\n",
    "'use strict';\r\n\r\nmodule.exports = ['$timeout', function($timeout) {\r\n\treturn {\r\n\t\tlink: function(scope, element, attrs) {\r\n\t\t\tfunction foucsElement(msg) {\r\n\t\t\t\t$timeout(function() {\r\n\t\t\t\t\tif (msg) {\r\n\t\t\t\t\t\telement[0].focus();\r\n\t\t\t\t\t} /*else {\r\n\t\t\t\t\t\tif (angular.isDefined(attrs.custAutoFocusLost)) {\r\n\t\t\t\t\t\t\tscope.$apply(attrs.ngFocusLost);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}*/\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tscope.$on(attrs.name, function(event, msg) {\r\n\t\t\t\tfoucsElement(msg);\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\t/*scope.$watch(attrs.custAutoFocus, function(val) {\r\n\t\t\t\tif (angular.isDefined(val) && val) {\r\n\t\t\t\t\tfoucsElement();\r\n\t\t\t\t}\r\n\t\t\t}, true);\r\n\t\t\t\r\n\t\t\telement.bind('blur', function() {\r\n\t\t\t\tif (angular.isDefined(attrs.custAutoFocusLost)) {\r\n\t\t\t\t\tscope.$apply(attrs.ngFocusLost);\r\n\t\t\t\t}\r\n\t\t\t});*/\r\n\t\t}\r\n\t};\r\n}];\r\n",
    "'use strict';\r\n\r\n /**\r\n     * @ngdoc directive\r\n     * @name angular-click-outside.directive:clickOutside\r\n     * @description Directive to add click outside capabilities to DOM elements\r\n     * @requires $document\r\n     * @requires $parse\r\n     * @requires $timeout\r\n     **/\r\nmodule.exports = [\"$document\", \"$parse\",\"$timeout\",function($document, $parse,$timeout) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function($scope, elem, attr) {\r\n         // postpone linking to next digest to allow for unique id generation\r\n                $timeout(function() {\r\n                    var classList = (attr.outsideIfNot !== undefined) ? attr.outsideIfNot.split(/[ ,]+/) : [],\r\n                        fn;\r\n\r\n                    function eventHandler(e) {\r\n                        var i,\r\n                            element,\r\n                            r,\r\n                            id,\r\n                            classNames,\r\n                            l;\r\n\r\n                        // check if our element already hidden and abort if so\r\n                        if (angular.element(elem).hasClass(\"ng-hide\")) {\r\n                            return;\r\n                        }\r\n\r\n                        // if there is no click target, no point going on\r\n                        if (!e || !e.target) {\r\n                            return;\r\n                        }\r\n\r\n                        // loop through the available elements, looking for classes in the class list that might match and so will eat\r\n                        for (element = e.target; element; element = element.parentNode) {\r\n                            // check if the element is the same element the directive is attached to and exit if so (props @CosticaPuntaru)\r\n                            if (element === elem[0]) {\r\n                                return;\r\n                            }\r\n\r\n                            // now we have done the initial checks, start gathering id's and classes\r\n                            id = element.id,\r\n                            classNames = element.className,\r\n                            l = classList.length;\r\n\r\n                            // Unwrap SVGAnimatedString classes\r\n                            if (classNames && classNames.baseVal !== undefined) {\r\n                                classNames = classNames.baseVal;\r\n                            }\r\n\r\n                            // if there are no class names on the element clicked, skip the check\r\n                            if (classNames || id) {\r\n\r\n                                // loop through the elements id's and classnames looking for exceptions\r\n                                for (i = 0; i < l; i++) {\r\n                                    //prepare regex for class word matching\r\n                                    r = new RegExp('\\\\b' + classList[i] + '\\\\b');\r\n\r\n                                    // check for exact matches on id's or classes, but only if they exist in the first place\r\n                                    if ((id !== undefined && r.test(id)) || (classNames && r.test(classNames))) {\r\n                                        // now let's exit out as it is an element that has been defined as being ignored for clicking outside\r\n                                        return;\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        // if we have got this far, then we are good to go with processing the command passed in via the click-outside attribute\r\n                        $timeout(function() {\r\n                            fn = $parse(attr['clickOutside']);\r\n                            fn($scope, { event: e });\r\n                        });\r\n                    }\r\n\r\n                    // if the devices has a touchscreen, listen for this event\r\n                    if (_hasTouch()) {\r\n                        $document.on('touchstart', function () {\r\n                          setTimeout(eventHandler)\r\n                        });\r\n                    }\r\n\r\n                    // still listen for the click event even if there is touch to cater for touchscreen laptops\r\n                    $document.on('click', eventHandler);\r\n\r\n                    // when the scope is destroyed, clean up the documents event handlers as we don't want it hanging around\r\n                    $scope.$on('$destroy', function() {\r\n                        if (_hasTouch()) {\r\n                            $document.off('touchstart', eventHandler);\r\n                        }\r\n\r\n                        $document.off('click', eventHandler);\r\n                    });\r\n\r\n                    /**\r\n                     * @description Private function to attempt to figure out if we are on a touch device\r\n                     * @private\r\n                     **/\r\n                    function _hasTouch() {\r\n                        // works on most browsers, IE10/11 and Surface\r\n                        return 'ontouchstart' in window || navigator.maxTouchPoints;\r\n                    };\r\n                });\r\n    },\r\n  };\r\n}];\r\n",
    "'use strict';\r\nvar renderMarkdown = require('../render-markdown');\r\nmodule.exports = ['$sce','$filter','$sanitize', function($sce,$filter,$sanitize) {\r\n\treturn {\r\n\t      replace: true,\r\n\t      restrict: 'E',\r\n\t      link: function (scope, element, attrs) {\r\n\t    \t  scope.$watch('comment', function (newValue) {\r\n\t              var showdownHTML;\r\n\t              if(scope.annotation && (scope.annotation.webAnnotation || scope.annotation.documentType == \"WebResource\")) {\r\n\t            \t  //showdownHTML =  markdown.makeHtml(newValue || '');\r\n\t            \t  showdownHTML =  renderMarkdown(newValue || '', $sanitize);\r\n\t  \t\t\t  } else {\r\n\t  \t\t\t\t  showdownHTML = $filter('linky')(newValue,'_blank');\r\n\t  \t\t\t  }\r\n\t              \r\n\t              if(showdownHTML) {\r\n\t            \t  scope.trustedHtml = $sce.trustAsHtml(showdownHTML);\r\n\t              }\r\n\t           });\r\n        },\r\n\t      scope: {\r\n\t        comment: '=',\r\n\t        annotation:'='\r\n\t      },\r\n\t      template: '<div ng-bind-html=\"trustedHtml \"></div>'\r\n\t};\r\n}];",
    "\r\n'use strict';\r\n\r\nmodule.exports = ['$compile', function($compile) {\r\n\treturn {\r\n\t\trestrict: 'A',\r\n\t\tlink: function(scope, element, attrs) {\r\n\t\t\tscope.$watch(\r\n\t\t\t\tfunction(scope) {\r\n\t\t\t\t\t// watch the 'compile' expression for changes\r\n\t\t\t\t\treturn scope.$eval(attrs.custCompile);\r\n\t\t\t\t},\r\n\t\t\t\tfunction(value) {\r\n\t\t\t\t\t// when the 'compile' expression changes\r\n\t\t\t\t\t// assign it into the current DOM\r\n\t\t\t\t\telement.html(value);\r\n\r\n\t\t\t\t\t// compile the new DOM and link it to the current\r\n\t\t\t\t\t// scope.\r\n\t\t\t\t\t// NOTE: we only compile .childNodes so that\r\n\t\t\t\t\t// we don't get into infinite loop compiling ourselves\r\n\t\t\t\t\t$compile(element.contents())(scope);\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n}];\r\n",
    "'use strict';\r\n\r\nmodule.exports = ['$timeout', function($timeout) {\r\n\tconst autoExpand = (element, minHeight = 0) => {\r\n\t\telement.style.height = `${minHeight}px`;\r\n\t\tconst computed = window.getComputedStyle(element);\r\n\t\tconst boxModelValues = [\r\n\t\t\t\"border-top-width\",\r\n\t\t\t\"border-bottom-width\",\r\n\t\t\t\"padding-top\",\r\n\t\t\t\"padding-bottom\"\r\n\t\t].reduce((accum, current) => accum + parseInt(computed.getPropertyValue(current), 10), 0);\r\n\t\tconst height = boxModelValues + element.scrollHeight;\r\n\t\tconst finalHeight = Math.max(height, minHeight);\r\n\t\telement.style.height = `${finalHeight}px`;\r\n\t\treturn finalHeight;\r\n\t};\r\n\treturn {\r\n\t\trestrict: \"A\",\r\n\t\tlink: function(scope, angularElement, attributes) {\r\n\t\t\tconst minHeight = parseInt(attributes.autogrowMinHeight || 0, 10);\r\n\t\t\tangularElement.ready(() => {\r\n\t\t\t\tautoExpand(angularElement[0], minHeight);\r\n\t\t\t});\r\n\t\t\tangularElement.bind(\"input\", (event) => {\r\n\t\t\t\tautoExpand(event.target, minHeight);\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n}];\r\n",
    "'use strict';\n\n/** An attribute directive that focuses an <input> when it's linked by Angular.\n *\n * The HTML5 autofocus attribute automatically puts the keyboard focus in an\n * <input> on page load. But this doesn't work for <input>s that are\n * rendered by JavaScript/Angular after page load, for example an <input> that\n * is shown/hidden by JavaScript when an ng-if condition becomes true.\n *\n * To automatically put the keyboard focus on such an input when it's linked by\n * Angular, attach this directive to it as an attribute:\n *\n *   <input ng-if=\"...\" h-autofocus>\n *\n*/\nmodule.exports = function() {\n  return {\n    restrict: 'A',\n    link: function($scope, $element) {\n      $element[0].focus();\n    },\n  };\n};\n",
    "'use strict';\n\n/**\n * The BrandingDirective brings theming configuration to our sidebar\n * by allowing the branding hypothesis settings to be reflected on items\n * that use this directive with the corresponding branding value.\n *\n * How to use:\n *   <element h-branding=\"supportedProp1, supportedProp2\">\n *\n * Use `h-branding` to trigger this directive. Inside the attribute value,\n * add a comma separated list of what branding properties should be applied.\n * The attribute values match what the integrator would specify. For example,\n * if \"superSpecialTextColor\" is supported, the integrator could specify\n * `superSpecialTextColor: 'blue'` in the branding settings. Then any element that\n * included `h-branding=\"superSpecialTextColor\"` would have blue placed on the\n * text's color.\n *\n * See below for the supported properties.\n */\n\n// @ngInject\nfunction BrandingDirective(settings) {\n\n  var _hasBranding = !!settings.branding;\n\n  // This is the list of supported property declarations\n  // we support. The key is the name and how it should be reflected in the\n  // settings by the integrator while the value (in the whitelist) is\n  // the type of .style property being set. The types are pretty simple for now\n  // and are a one-to-one mapping between the branding type and style property.\n  var _supportedPropSettings = {\n    accentColor: 'color',\n    appBackgroundColor: 'backgroundColor',\n    ctaBackgroundColor: 'backgroundColor',\n    ctaTextColor: 'color',\n    selectionFontFamily: 'fontFamily',\n    annotationFontFamily: 'fontFamily',\n  };\n\n  // filter all attribute values down to the supported\n  // branding properties\n  var _getValidBrandingAttribute = function(attrString){\n    return attrString.split(',').map(function(attr){\n      return attr.trim();\n    }).filter(function filterAgainstWhitelist(attr){\n      return attr in _supportedPropSettings;\n    });\n  };\n\n\n  return {\n    restrict: 'A',\n    link: function(scope, $elem, attrs) {\n      if(_hasBranding){\n        _getValidBrandingAttribute(attrs.hBranding).forEach(function(attr){\n          var propVal = settings.branding[attr];\n          if(propVal){\n            // the _supportedPropSettings holds the .style property name\n            // that is being set\n            $elem[0].style[ _supportedPropSettings[attr] ] = propVal;\n          }\n        });\n      }\n    },\n  };\n}\n\nmodule.exports = BrandingDirective;\n",
    "'use strict';\n\n/**\n * Install an event handler on an element.\n *\n * The event handler follows the same behavior as the ng-<event name>\n * directives that Angular includes. This means:\n *\n *  - The handler function is passed an object with an $event property\n *  - The handler function is executed in the context of `$scope.$apply()`\n *\n * @param {Element} element\n * @param {Array<string>} events\n * @param {Function} handler\n */\nfunction addEventHandler($scope, element, events, handler) {\n  var callback = function (event) {\n    $scope.$apply(function () {\n      handler($scope, {$event: event});\n    });\n  };\n  events.forEach(function (name) {\n    element.addEventListener(name, callback);\n  });\n}\n\n/**\n * A directive which adds an event handler for mouse press or touch to\n * a directive. This is similar to `ng-click` etc. but reacts either on\n * mouse press OR touch.\n */\n// @ngInject\nmodule.exports = function ($parse) {\n  return {\n    restrict: 'A',\n    link: function ($scope, $element, $attrs) {\n      var fn = $parse($attrs.hOnTouch, null /* interceptor */);\n      addEventHandler(\n        $scope,\n        $element[0],\n        ['click', 'mousedown', 'touchstart'],\n        fn\n      );\n    },\n  };\n};\n",
    "'use strict';\n\nvar theTooltip;\n\n/**\n * A custom tooltip similar to the one used in Google Docs which appears\n * instantly when activated on a target element.\n *\n * The tooltip is displayed and hidden by setting its target element.\n *\n *  var tooltip = new Tooltip(document.body);\n *  tooltip.setState({target: aWidget}); // Show tooltip\n *  tooltip.setState({target: null}); // Hide tooltip\n *\n * The tooltip's label is derived from the target element's 'aria-label'\n * attribute.\n *\n * @param {Element} rootElement - The container for the tooltip.\n */\nfunction Tooltip(rootElement) {\n  this.setState = function (state) {\n    this.state = Object.freeze(Object.assign({}, this.state, state));\n    this.render();\n  };\n\n  this.render = function () {\n    var TOOLTIP_ARROW_HEIGHT = 7;\n\n    if (!this.state.target) {\n      this._el.style.visibility = 'hidden';\n      return;\n    }\n\n    var target = this.state.target;\n    var label = target.getAttribute('aria-label');\n    this._labelEl.textContent = label;\n\n    var tooltipRect = this._el.getBoundingClientRect();\n\n    var targetRect = target.getBoundingClientRect();\n    var top;\n\n    if (this.state.direction === 'up') {\n      top = targetRect.bottom + TOOLTIP_ARROW_HEIGHT;\n    } else {\n      top = targetRect.top - tooltipRect.height - TOOLTIP_ARROW_HEIGHT;\n    }\n    var left = targetRect.right - tooltipRect.width;\n\n    this._el.classList.toggle('tooltip--up', this.state.direction === 'up');\n    this._el.classList.toggle('tooltip--down', this.state.direction === 'down');\n\n    Object.assign(this._el.style, {\n      visibility: '',\n      top: top + 'px',\n      left: left + 'px',\n    });\n  };\n\n  this._el = rootElement.ownerDocument.createElement('div');\n  this._el.innerHTML = '<span class=\"tooltip-label js-tooltip-label\"></span>';\n  this._el.className = 'tooltip';\n\n  rootElement.appendChild(this._el);\n  this._labelEl = this._el.querySelector('.js-tooltip-label');\n\n  this.setState({\n    direction: 'down',\n  });\n}\n\n/**\n * Attribute directive which displays a custom tooltip when hovering the\n * associated element.\n *\n * The associated element should use the `aria-label` attribute to specify\n * the tooltip instead of the `title` attribute, which would trigger the\n * display of the browser's native tooltip.\n *\n * Example: '<button aria-label=\"Tooltip label\" h-tooltip></button>'\n */\nmodule.exports = function () {\n  if (!theTooltip) {\n    theTooltip = new Tooltip(document.body);\n  }\n\n  return {\n    restrict: 'A',\n    link: function ($scope, $element) {\n      var el = $element[0];\n\n      el.addEventListener('mouseover', function () {\n        var direction = el.getAttribute('tooltip-direction') || 'down';\n        theTooltip.setState({\n          direction: direction,\n          target: el,\n        });\n      });\n\n      el.addEventListener('mouseout', function () {\n        theTooltip.setState({target: null});\n      });\n\n      // Hide the tooltip if the element is removed whilst the tooltip is active\n      $scope.$on('$destroy', function () {\n        if (theTooltip.state.target === el) {\n          theTooltip.setState({target: null});\n        }\n      });\n    },\n  };\n};\n",
    "\r\n'use strict';\r\n\r\nmodule.exports = ['$compile', function ($compile) {\r\n    return {\r\n        restrict: 'EAC',\r\n        replace: false,\r\n        scope: {\r\n            interval: '=interval',\r\n            startTimeAttr: '=startTime',\r\n            endTimeAttr: '=endTime',\r\n            countdownattr: '=countdown',\r\n            finishCallback: '&finishCallback',\r\n            autoStart: '&autoStart',\r\n            maxTimeUnit: '='\r\n        },\r\n        controller: ['$scope', '$element', '$attrs', '$timeout', function ($scope, $element, $attrs, $timeout) {\r\n\r\n            // Checking for trim function since IE8 doesn't have it\r\n            // If not a function, create tirm with RegEx to mimic native trim\r\n            if (typeof String.prototype.trim !== 'function') {\r\n                String.prototype.trim = function () {\r\n                    return this.replace(/^\\s+|\\s+$/g, '');\r\n                };\r\n            }\r\n\r\n            //angular 1.2 doesn't support attributes ending in \"-start\", so we're\r\n            //supporting both \"autostart\" and \"auto-start\" as a solution for\r\n            //backward and forward compatibility.\r\n            $scope.autoStart = $attrs.autoStart || $attrs.autostart;\r\n\r\n            if ($element.html().trim().length === 0) {\r\n                $element.append($compile('<span>{{millis}}</span>')($scope));\r\n            } else {\r\n                $element.append($compile($element.contents())($scope));\r\n            }\r\n\r\n            $scope.startTime = null;\r\n            $scope.endTime = null;\r\n            $scope.timeoutId = null;\r\n            $scope.countdown = $scope.countdownattr && parseInt($scope.countdownattr, 10) >= 0 ? parseInt($scope.countdownattr, 10) : undefined;\r\n            $scope.isRunning = false;\r\n\r\n            $scope.$on('timer-start', function () {\r\n                $scope.start();\r\n            });\r\n\r\n            $scope.$on('timer-resume', function () {\r\n                $scope.resume();\r\n            });\r\n\r\n            $scope.$on('timer-stop', function () {\r\n                $scope.stop();\r\n            });\r\n\r\n            $scope.$on('timer-clear', function () {\r\n                $scope.clear();\r\n            });\r\n\r\n            $scope.$on('timer-set-countdown', function (e, countdown) {\r\n                $scope.countdown = countdown;\r\n            });\r\n\r\n            function resetTimeout() {\r\n                if ($scope.timeoutId) {\r\n                    clearTimeout($scope.timeoutId);\r\n                }\r\n            }\r\n\r\n            $scope.start = $element[0].start = function () {\r\n                $scope.startTime = $scope.startTimeAttr ? new Date($scope.startTimeAttr) : new Date();\r\n                $scope.endTime = $scope.endTimeAttr ? new Date($scope.endTimeAttr) : null;\r\n                if (!$scope.countdown) {\r\n                    $scope.countdown = $scope.countdownattr && parseInt($scope.countdownattr, 10) > 0 ? parseInt($scope.countdownattr, 10) : undefined;\r\n                }\r\n                resetTimeout();\r\n                tick();\r\n                $scope.isRunning = true;\r\n            };\r\n\r\n            $scope.resume = $element[0].resume = function () {\r\n                resetTimeout();\r\n                if ($scope.countdownattr) {\r\n                    $scope.countdown += 1;\r\n                }\r\n                $scope.startTime = new Date() - ($scope.stoppedTime - $scope.startTime);\r\n                tick();\r\n                $scope.isRunning = true;\r\n            };\r\n\r\n            $scope.stop = $scope.pause = $element[0].stop = $element[0].pause = function () {\r\n                var timeoutId = $scope.timeoutId;\r\n                $scope.clear();\r\n                $scope.$emit('timer-stopped', {\r\n                    timeoutId: timeoutId,\r\n                    millis: $scope.millis,\r\n                    seconds: $scope.seconds,\r\n                    minutes: $scope.minutes,\r\n                    hours: $scope.hours,\r\n                    days: $scope.days\r\n                });\r\n            };\r\n\r\n            $scope.clear = $element[0].clear = function () {\r\n                // same as stop but without the event being triggered\r\n                $scope.stoppedTime = new Date();\r\n                resetTimeout();\r\n                $scope.timeoutId = null;\r\n                $scope.isRunning = false;\r\n            };\r\n\r\n            $element.bind('$destroy', function () {\r\n                resetTimeout();\r\n                $scope.isRunning = false;\r\n            });\r\n\r\n            function calculateTimeUnits() {\r\n                if ($attrs.startTime !== undefined) {\r\n                    $scope.millis = new Date() - new Date($scope.startTimeAttr);\r\n                }\r\n                // compute time values based on maxTimeUnit specification\r\n                if (!$scope.maxTimeUnit || $scope.maxTimeUnit === 'day') {\r\n                    $scope.seconds = Math.floor(($scope.millis / 1000) % 60);\r\n                    $scope.minutes = Math.floor((($scope.millis / (60000)) % 60));\r\n                    $scope.hours = Math.floor((($scope.millis / (3600000)) % 24));\r\n                    $scope.days = Math.floor((($scope.millis / (3600000)) / 24));\r\n                    $scope.months = 0;\r\n                    $scope.years = 0;\r\n                } else if ($scope.maxTimeUnit === 'second') {\r\n                    $scope.seconds = Math.floor($scope.millis / 1000);\r\n                    $scope.minutes = 0;\r\n                    $scope.hours = 0;\r\n                    $scope.days = 0;\r\n                    $scope.months = 0;\r\n                    $scope.years = 0;\r\n                } else if ($scope.maxTimeUnit === 'minute') {\r\n                    $scope.seconds = Math.floor(($scope.millis / 1000) % 60);\r\n                    $scope.minutes = Math.floor($scope.millis / 60000);\r\n                    $scope.hours = 0;\r\n                    $scope.days = 0;\r\n                    $scope.months = 0;\r\n                    $scope.years = 0;\r\n                } else if ($scope.maxTimeUnit === 'hour') {\r\n                    $scope.seconds = Math.floor(($scope.millis / 1000) % 60);\r\n                    $scope.minutes = Math.floor((($scope.millis / (60000)) % 60));\r\n                    $scope.hours = Math.floor($scope.millis / 3600000);\r\n                    $scope.days = 0;\r\n                    $scope.months = 0;\r\n                    $scope.years = 0;\r\n                } else if ($scope.maxTimeUnit === 'month') {\r\n                    $scope.seconds = Math.floor(($scope.millis / 1000) % 60);\r\n                    $scope.minutes = Math.floor((($scope.millis / (60000)) % 60));\r\n                    $scope.hours = Math.floor((($scope.millis / (3600000)) % 24));\r\n                    $scope.days = Math.floor((($scope.millis / (3600000)) / 24) % 30);\r\n                    $scope.months = Math.floor((($scope.millis / (3600000)) / 24) / 30);\r\n                    $scope.years = 0;\r\n                } else if ($scope.maxTimeUnit === 'year') {\r\n                    $scope.seconds = Math.floor(($scope.millis / 1000) % 60);\r\n                    $scope.minutes = Math.floor((($scope.millis / (60000)) % 60));\r\n                    $scope.hours = Math.floor((($scope.millis / (3600000)) % 24));\r\n                    $scope.days = Math.floor((($scope.millis / (3600000)) / 24) % 30);\r\n                    $scope.months = Math.floor((($scope.millis / (3600000)) / 24 / 30) % 12);\r\n                    $scope.years = Math.floor(($scope.millis / (3600000)) / 24 / 365);\r\n                }\r\n                // plural - singular unit decision\r\n                $scope.secondsS = ($scope.seconds === 1 || $scope.seconds === 0) ? '' : 's';\r\n                $scope.minutesS = ($scope.minutes === 1 || $scope.minutes === 0) ? '' : 's';\r\n                $scope.hoursS = ($scope.hours === 1 || $scope.hours === 0) ? '' : 's';\r\n                $scope.daysS = ($scope.days === 1 || $scope.days === 0) ? '' : 's';\r\n                $scope.monthsS = ($scope.months === 1 || $scope.months === 0) ? '' : 's';\r\n                $scope.yearsS = ($scope.years === 1 || $scope.years === 0) ? '' : 's';\r\n                //add leading zero if number is smaller than 10\r\n                $scope.sseconds = $scope.seconds < 10 ? '0' + $scope.seconds : $scope.seconds;\r\n                $scope.mminutes = $scope.minutes < 10 ? '0' + $scope.minutes : $scope.minutes;\r\n                $scope.hhours = $scope.hours < 10 ? '0' + $scope.hours : $scope.hours;\r\n                $scope.ddays = $scope.days < 10 ? '0' + $scope.days : $scope.days;\r\n                $scope.mmonths = $scope.months < 10 ? '0' + $scope.months : $scope.months;\r\n                $scope.yyears = $scope.years < 10 ? '0' + $scope.years : $scope.years;\r\n\r\n            }\r\n\r\n            //determine initial values of time units and add AddSeconds functionality\r\n            if ($scope.countdownattr) {\r\n                $scope.millis = $scope.countdownattr * 1000;\r\n\r\n                $scope.addCDSeconds = $element[0].addCDSeconds = function (extraSeconds) {\r\n                    $scope.countdown += extraSeconds;\r\n                    $scope.$digest();\r\n                    if (!$scope.isRunning) {\r\n                        $scope.start();\r\n                    }\r\n                };\r\n\r\n                $scope.$on('timer-add-cd-seconds', function (e, extraSeconds) {\r\n                    $timeout(function () {\r\n                        $scope.addCDSeconds(extraSeconds);\r\n                    });\r\n                });\r\n\r\n                $scope.$on('timer-set-countdown-seconds', function (e, countdownSeconds) {\r\n                    if (!$scope.isRunning) {\r\n                        $scope.clear();\r\n                    }\r\n\r\n                    $scope.countdown = countdownSeconds;\r\n                    $scope.millis = countdownSeconds * 1000;\r\n                    calculateTimeUnits();\r\n                });\r\n            } else {\r\n                $scope.millis = 0;\r\n            }\r\n            calculateTimeUnits();\r\n\r\n            var tick = function () {\r\n\r\n                $scope.millis = new Date() - $scope.startTime;\r\n                var adjustment = $scope.millis % 1000;\r\n\r\n                if ($scope.endTimeAttr) {\r\n                    $scope.millis = $scope.endTime - new Date();\r\n                    adjustment = $scope.interval - $scope.millis % 1000;\r\n                }\r\n\r\n\r\n                if ($scope.countdownattr) {\r\n                    $scope.millis = $scope.countdown * 1000;\r\n                }\r\n\r\n                if ($scope.millis < 0) {\r\n                    $scope.stop();\r\n                    $scope.millis = 0;\r\n                    calculateTimeUnits();\r\n                    if ($scope.finishCallback) {\r\n                        $scope.$eval($scope.finishCallback);\r\n                    }\r\n                    return;\r\n                }\r\n                calculateTimeUnits();\r\n\r\n                //We are not using $timeout for a reason. Please read here - https://github.com/siddii/angular-timer/pull/5\r\n                $scope.timeoutId = setTimeout(function () {\r\n                    tick();\r\n                    $scope.$digest();\r\n                }, $scope.interval - adjustment);\r\n\r\n                $scope.$emit('timer-tick', {\r\n                    timeoutId: $scope.timeoutId,\r\n                    millis: $scope.millis\r\n                });\r\n\r\n                if ($scope.countdown > 0) {\r\n                    $scope.countdown--;\r\n                } else if ($scope.countdown <= 0) {\r\n                    $scope.stop();\r\n                    if ($scope.finishCallback) {\r\n                        $scope.$eval($scope.finishCallback);\r\n                    }\r\n                }\r\n            };\r\n\r\n            if ($scope.autoStart === undefined || $scope.autoStart === true) {\r\n                $scope.start();\r\n            }\r\n        }]\r\n    };\r\n}];\r\n",
    "'use strict';\n\nmodule.exports = ['$animate', function($animate) {\n  return {\n    link: function(scope, elem) {\n      // ngAnimate conflicts with the spinners own CSS\n      $animate.enabled(false, elem);\n    },\n    restrict: 'C',\n    template: '<span><span></span></span>',\n  };\n}];\n",
    "'use strict';\r\n\r\n/** An attribute directive that focuses an <input> when it's linked by Angular.\r\n *\r\n * The HTML5 autofocus attribute automatically puts the keyboard focus in an\r\n * <input> on page load. But this doesn't work for <input>s that are\r\n * rendered by JavaScript/Angular after page load, for example an <input> that\r\n * is shown/hidden by JavaScript when an ng-if condition becomes true.\r\n *\r\n * To automatically put the keyboard focus on such an input when it's linked by\r\n * Angular, attach this directive to it as an attribute:\r\n *\r\n *   <tags-input ng-model=\"tags\" autofocus></tags-input>\r\n *\r\n*/\r\nmodule.exports = [\"$timeout\",function($timeout) {\r\n  return {\r\n    restrict: 'A',\r\n    link: function($scope, $element) {\r\n      var input = $element.find('input');\r\n      $timeout(function() { input[0].focus(); }, 100);\r\n    },\r\n  };\r\n}];\r\n",
    "'use strict';\n\nmodule.exports = function () {\n  return {\n    link: function (scope, elem, attr) {\n      var active = true;\n      var html = elem.prop('ownerDocument').documentElement;\n      var view = elem.prop('ownerDocument').defaultView;\n\n      function onScroll() {\n        var clientHeight = html.clientHeight;\n        var scrollHeight = html.scrollHeight;\n        if (view.scrollY + clientHeight >= scrollHeight - clientHeight) {\n          if (active) {\n            active = false;\n            scope.$apply(attr.windowScroll);\n          }\n        } else {\n          active = true;\n        }\n      }\n\n      view.addEventListener('scroll', onScroll, false);\n\n      scope.$on('$destroy', function () {\n        view.removeEventListener('scroll', onScroll);\n      });\n    },\n  };\n};\n",
    "'use strict';\n\n/**\n * This module defines the set of global events that are dispatched\n * on $rootScope\n */\nmodule.exports = {\n\n  // Internal state changes\n  FRAME_CONNECTED: 'frameConnected',\n\n  // Session state changes\n\n  /** The list of groups changed */\n  GROUPS_CHANGED: 'groupsChanged',\n  /** The logged-in user changed */\n  USER_CHANGED: 'userChanged',\n  \n  /** Request login page if user is not login*/\n  REQUEST_LOGIN: 'requestLogin',\n  \n  /**\n   * API tokens were fetched and saved to local storage by another client\n   * instance.\n   */\n  OAUTH_TOKENS_CHANGED: 'oauthTokensChanged',\n  \n  OAUTH_TOKENS_ERROR: 'invalidOauthToken',\n\n  // UI state changes\n\n  /** The currently selected group changed */\n  GROUP_FOCUSED: 'groupFocused',\n\n  /** The group updated , new section added etc */\n  GROUP_UPDATED: 'groupUpdated',\n\n  // Annotation events\n\n  /** A new annotation has been created locally. */\n  BEFORE_ANNOTATION_CREATED: 'beforeAnnotationCreated',\n\n  /** Annotations were anchored in a connected document. */\n  ANNOTATIONS_SYNCED: 'sync',\n\n  /** An annotation was created on the server and assigned an ID. */\n  ANNOTATION_CREATED: 'annotationCreated',\n\n  /** An annotation was either deleted or unloaded. */\n  ANNOTATION_DELETED: 'annotationDeleted',\n\n  /** An annotation was flagged. */\n  ANNOTATION_FLAGGED: 'annotationFlagged',\n\n  /** An annotation has been updated. */\n  ANNOTATION_UPDATED: 'annotationUpdated',\n\n  /** A set of annotations were loaded from the server. */\n  ANNOTATIONS_LOADED: 'annotationsLoaded',\n\n  /** An annotation is unloaded. */\n  ANNOTATIONS_UNLOADED: 'annotationsUnloaded',\n  \n  /** A new annotation has been created locally. */\n  ADD_TO_TASKSPACE: 'addToTaskSpace',\n\n};\n",
    "'use strict';\r\n\r\n/**\r\n * Checked the given text is trusted html or not.\r\n */\r\n\r\nmodule.exports = ['$sce', function($sce) {\r\n\treturn function(text) {\r\n        return $sce.trustAsHtml(text);\r\n    };\r\n}];\r\n\r\n",
    "'use strict';\r\n\r\n/**\r\n * Trucate a string, dealing appropriately with null values.\r\n */\r\n\r\nmodule.exports = function() {\r\n    return function(input, length, suffix, preserve) {\r\n\r\n      length = angular.isUndefined(length) ? input.length : length;\r\n      preserve = preserve || false;\r\n      suffix = suffix || '';\r\n\r\n      if(!angular.isString(input) || (input.length <= length)) return input;\r\n\r\n      return input.substring(0, (preserve)\r\n        ? ((input.indexOf(' ', length) === -1) ? input.length : input.indexOf(' ', length))\r\n        : length) + suffix;\r\n    };\r\n};\r\n\r\n",
    "'use strict';\n\n/**\n * URL encode a string, dealing appropriately with null values.\n */\nfunction encode(str) {\n  if (str) {\n    return window.encodeURIComponent(str);\n  }\n  return '';\n}\n\nmodule.exports = {\n  encode: encode,\n};\n",
    "'use strict';\n\nvar loaded = false;\n\nmodule.exports = function(trackingId){\n\n  // small measure to make we do not accidentally\n  // load the analytics scripts more than once\n  if(loaded){\n    return;\n  }\n\n  loaded = true;\n\n  /* eslint-disable */\n\n  // Google Analytics snippet to load the analytics script\n  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){\n  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),\n  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)\n  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');\n\n  ga('create', trackingId, 'auto');\n\n  // overrides helper that requires http or https protocols.\n  // obvious issue when it comes to extensions with protocols\n  // like \"chrome-extension://\" but isn't a huge need for us\n  // anywhere else as well.\n  // https://developers.google.com/analytics/devguides/collection/analyticsjs/tasks#disabling\n  ga('set', 'checkProtocolTask', null);\n  \n  // anonymize collected IP addresses for GDPR\n  // https://developers.google.com/analytics/devguides/collection/analyticsjs/ip-anonymization\n  ga('set', 'anonymizeIp', true);\n\n  /* eslint-enable */\n};\n",
    "'use strict';\n\nvar serviceConfig = require('./service-config');\n\n/**\n * Function that returns apiUrl from the settings object.\n *\n * @param {object} settings - The settings object\n * @returns {string} The apiUrl from the service or the default apiUrl from the settings\n * @throws {Error} If the settings has a service but the service doesn't have an apiUrl\n *\n */\nfunction getApiUrl(settings) {\n  var service = serviceConfig(settings);\n\n  if (service) {\n    // If the host page contains a service setting then the client should default to\n    // using that apiUrl.\n    if (service.apiUrl) {\n      return service.apiUrl;\n    } else {\n      throw new Error('Service should contain an apiUrl value.');\n    }\n  }\n  return settings.apiUrl;\n}\n\nmodule.exports = getApiUrl;\n",
    "'use strict';\n\nvar queryString = require('query-string');\n\n/**\n * Return the app configuration specified by the frame embedding the Hypothesis\n * client.\n */\nfunction hostPageConfig(window) {\n  var configJSON = queryString.parse(window.location.search).config;\n  var config = JSON.parse(configJSON || '{}');\n\n  // Known configuration parameters which we will import from the host page.\n  // Note that since the host page is untrusted code, the filtering needs to\n  // be done here.\n  var paramWhiteList = [\n    // Direct-linked annotation ID\n    'annotations',\n    \n    // Direct-linked group ID\n    'group',\n    \n    // Direct-linked client ID\n    'client',\n    \n  // Direct-linked linkId  ID\n    'linkId',\n\n    'startTime',\n    // Default query passed by url\n    'query',\n\n    // Config param added by the extension, Via etc.  indicating how Hypothesis\n    // was added to the page.\n    'appType',\n\n    // Config params documented at\n    // https://h.readthedocs.io/projects/client/en/latest/publishers/config/\n    'openSidebar',\n    'showHighlights',\n    'services',\n    'branding',\n\n    // New note button override.\n    // This should be removed once new note button is enabled for everybody.\n    'enableExperimentalNewNoteButton',\n\n    // Theme which can either be specified as 'clean'.\n    // If nothing is the specified the classic look is applied.\n    'theme',\n\n    'usernameUrl',\n  ];\n\n  return Object.keys(config).reduce(function (result, key) {\n    if (paramWhiteList.indexOf(key) !== -1) {\n      // Ignore `null` values as these indicate a default value.\n      // In this case the config value set in the sidebar app HTML config is\n      // used.\n      if (config[key] !== null) {\n        result[key] = config[key];\n      }\n    }\n    return result;\n  }, {});\n}\n\nmodule.exports = hostPageConfig;\n",
    "'use strict';\n\nvar addAnalytics = require('./ga');\nvar disableOpenerForExternalLinks = require('./util/disable-opener-for-external-links');\nvar getApiUrl = require('./get-api-url');\nvar serviceConfig = require('./service-config');\nvar crossOriginRPC = require('./cross-origin-rpc.js');\nvar underscore = require('underscore');\nvar uuid = require('node-uuid');\nrequire('../shared/polyfills');\n\nvar raven;\n\n// Read settings rendered into sidebar app HTML by service/extension.\nvar settings = require('../shared/settings').jsonConfigsFrom(document);\n/*\n(function () {\n    var method;\n    var noop = function noop() { };\n    var methods = [\n    'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',\n    'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',\n    'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',\n    'timeStamp', 'trace', 'warn'\n    ];\n    var length = methods.length;\n    var console = (window.console = window.console || {});\n\n    while (length--) {\n        method = methods[length];\n        console[method] = noop;\n    }\n}());*/\n\nif (settings.raven) {\n  // Initialize Raven. This is required at the top of this file\n  // so that it happens early in the app's startup flow\n  raven = require('./raven');\n  raven.init(settings.raven);\n}\n\nvar hostPageConfig = require('./host-config');\nObject.assign(settings, hostPageConfig(window));\n\nsettings.apiUrl = getApiUrl(settings);\n\n// Disable Angular features that are not compatible with CSP.\n//\n// See https://docs.angularjs.org/api/ng/directive/ngCsp\n//\n// The `ng-csp` attribute must be set on some HTML element in the document\n// _before_ Angular is require'd for the first time.\ndocument.body.setAttribute('ng-csp', '');\n\n// Prevent tab-jacking.\ndisableOpenerForExternalLinks(document.body);\n\nvar angular = require('angular');\n\n// autofill-event relies on the existence of window.angular so\n// it must be require'd after angular is first require'd\nrequire('autofill-event');\n\n// Setup Angular integration for Raven\nif (settings.raven) {\n  raven.angularModule(angular);\n} else {\n  angular.module('ngRaven', []);\n}\n\nif(settings.googleAnalytics){\n  addAnalytics(settings.googleAnalytics);\n}\n\n// Fetch external state that the app needs before it can run. This includes the\n// user's profile and list of groups.\nvar resolve = {\n  // @ngInject\n  state: function (groups, session) {\n    //return Promise.all([groups.load(), session.load()]);\n    return Promise.all([session.load()]);\n  },\n};\n\nvar isSidebar = !(window.location.pathname.startsWith('/stream') ||\n                  window.location.pathname.startsWith('/a/'));\n\n// @ngInject\nfunction configureLocation($locationProvider) {\n  // Use HTML5 history\n  return $locationProvider.html5Mode(true);\n}\n\n// @ngInject\nfunction configureRoutes($routeProvider) {\n  // The `vm.{auth,search}` properties used in these templates come from the\n  // `<hypothesis-app>` component which hosts the router's container element.\n  $routeProvider.when('/a/:tsClientId/:id',\n    {\n      template: '<annotation-viewer-content search=\"vm.search\"></annotation-viewer-content>',\n      reloadOnSearch: false,\n      resolve: resolve,\n    });\n  $routeProvider.when('/stream',\n    {\n      template: '<stream-content search=\"vm.search\"></stream-content>',\n      reloadOnSearch: false,\n      resolve: resolve,\n    });\n  $routeProvider.otherwise({\n    template: '<sidebar-content search=\"vm.search\" auth=\"vm.auth\" ></sidebar-content>',\n    reloadOnSearch: false,\n    resolve: resolve,\n  });\n}\n\n// @ngInject\nfunction configureToastr(toastrConfig) {\n  angular.extend(toastrConfig, {\n    preventOpenDuplicates: true,\n  });\n}\n\n// @ngInject\nfunction configureCompile($compileProvider) {\n  // Make component bindings available in controller constructor. When\n  // pre-assigned bindings is off, as it is by default in Angular >= 1.6.0,\n  // bindings are only available during and after the controller's `$onInit`\n  // method.\n  //\n  // This migration helper is being removed in Angular 1.7.0. To see which\n  // components need updating, look for uses of `preAssignBindingsEnabled` in\n  // tests.\n  $compileProvider.preAssignBindingsEnabled(true);\n}\n\n// @ngInject\nfunction setupHttp($http, streamer) {\n  $http.defaults.headers.common['X-Client-Id'] = streamer.clientId;\n  $http.defaults.headers.common['X-Client-Version'] = settings.release;\n  $http.defaults.headers.common['X-Client-Type'] = settings.appType;\n}\n\nfunction processAppOpts() {\n  if (settings.liveReloadServer) {\n    require('./live-reload-client').connect(settings.liveReloadServer);\n  }\n}\n\n//@ngInject\nfunction configureHttp($httpProvider) {\n\t$httpProvider.interceptors.push('globalErrorHandler');\n}\n\nmodule.exports = angular.module('h', [\n  // Angular addons which export the Angular module name\n  // via module.exports\n  require('angular-route'),\n  require('angular-sanitize'),\n  require('angular-toastr'),\n\n  // Angular addons which do not export the Angular module\n  // name via module.exports\n  ['angulartics', require('angulartics')][0],\n  ['angulartics.google.analytics', require('angulartics/src/angulartics-ga')][0],\n  ['ngTagsInput', require('ng-tags-input')][0],\n  ['ui.bootstrap', require('./vendor/ui-bootstrap-custom-tpls-0.13.4')][0],\n  ['ui.select', require('./vendor/select')][0],\n  ['rzModule', require('./vendor/rzslider.js')][0],\n  // Local addons\n  'ngRaven',\n])\n\n\n  .controller('AddSectionModalController', require('./components/add-section-modal'))\n  .controller('AddToTaskspaceModal', require('./components/add-to-taskspace-modal'))\n  .controller('CreateTaskspaceModalController', require('./components/create-taskspace-modal'))\n  .controller('ConfirmLinkPublishModal', require('./components/confirm-link-publish-modal'))\n  .controller('DocRemoveConfirmModal', require('./components/doc-remove-confirm-modal'))\n  .controller('MoveDocConfirmModal', require('./components/move-confirm-modal'))\n  .controller('MoveToTaskspaceModal', require('./components/move-to-taskspace-modal'))\n  .controller('PostToSocialMediaModal', require('./components/post-to-social-media-modal'))\n  .controller('ShareLinkModal', require('./components/share-link-modal'))\n  .controller('TimeLogModal', require('./components/time-log'))\n\n  // The root component for the application\n  .component('hypothesisApp', require('./components/hypothesis-app'))\n\n  // UI components\n  .component('addSectionBtn', require('./components/add-section-btn'))\n  .component('annotation', require('./components/annotation'))\n  .component('annotationHeader', require('./components/annotation-header'))\n  .component('annotationActionButton', require('./components/annotation-action-button'))\n  .component('annotationShareDialog', require('./components/annotation-share-dialog'))\n  .component('annotationThread', require('./components/annotation-thread'))\n  .component('annotationViewerContent', require('./components/annotation-viewer-content'))\n  .component('createGroupDialog', require('./components/create-group-dialog'))\n  .component('clipperControles', require('./components/clipper-controles'))\n  .component('cookieErrorDialog', require('./components/cookie-error-controller'))\n  .component('docTagEditor', require('./components/doc-tag-editor'))\n  .component('dropdownMenuBtn', require('./components/dropdown-menu-btn'))\n  .component('excerpt', require('./components/excerpt'))\n  .component('groupInfoDialog', require('./components/group-info-dialog'))\n  .component('groupList', require('./components/group-list'))\n  .component('helpLink', require('./components/help-link'))\n  .component('aboutPanel', require('./components/about-panel'))\n  .component('helpPanel', require('./components/help-panel'))\n  .component('loggedoutMessage', require('./components/loggedout-message'))\n  .component('loginControl', require('./components/login-control'))\n  .component('markdown', require('./components/markdown'))\n  .component('moderationBanner', require('./components/moderation-banner'))\n  .component('newNoteBtn', require('./components/new-note-btn'))\n  .component('pageInfo', require('./components/page-info'))\n  .component('publishAnnotationBtn', require('./components/publish-annotation-btn'))\n  .component('scheduleNotificationMsg', require('./components/shedule-notification'))\n  .component('searchInput', require('./components/search-input'))\n  .component('searchStatusBar', require('./components/search-status-bar'))\n  .component('sectionList', require('./components/section-list'))\n  .component('selectSection', require('./components/select-section'))\n  .component('selectTaskspace', require('./components/select-taskspace'))\n  .component('selectionTabs', require('./components/selection-tabs'))\n  .component('sidebarContent', require('./components/sidebar-content'))\n  .component('sidebarTutorial', require('./components/sidebar-tutorial'))\n  .component('shareDialog', require('./components/share-dialog'))\n  .component('sortDropdown', require('./components/sort-dropdown'))\n  .component('streamContent', require('./components/stream-content'))\n  .component('svgIcon', require('./components/svg-icon'))\n  .component('tagEditor', require('./components/tag-editor'))\n  .component('tagInfoDialog', require('./components/tags-info-dialog'))\n  .component('threadList', require('./components/thread-list'))\n  .component('timestamp', require('./components/timestamp'))\n  .component('topBar', require('./components/top-bar'))\n\n  .directive('clickOutside', require('./directive/click-outside'))\n  .directive('custAutogrow', require('./directive/custom-autogrow'))\n  .directive('custCompile', require('./directive/compile'))\n  .directive('custAutoFocus', require('./directive/auto-focus'))\n  .directive('hAutofocus', require('./directive/h-autofocus'))\n  .directive('tagsInputAutofocus', require('./directive/tags-input-autofocus'))\n  .directive('hBranding', require('./directive/h-branding'))\n  .directive('hOnTouch', require('./directive/h-on-touch'))\n  .directive('hTooltip', require('./directive/h-tooltip'))\n  .directive('spinner', require('./directive/spinner'))\n  .directive('windowScroll', require('./directive/window-scroll'))\n  .directive('annotaionDigestTitle', require('./directive/annotaion-digest-title'))\n  .directive('annotaionDigestTemplate', require('./directive/annotaion-digest-template'))\n  .directive('annotaionDigestGroupTemplate', require('./directive/annotaion-digest-group-template'))\n  .directive('commentToHtml', require('./directive/comment-to-html'))\n  .directive('scheduleTimer', require('./directive/scheduleTimer'))\n  \n  .filter('truncate', require('./filter/truncate'))\n  .filter('to_trusted', require('./filter/to_trusted'))\n   \n  .service('_', function() { return underscore;})\n  .service('addSection', require('./services/add-section'))\n  .service('addtotaskspace', require('./services/add-to-taskspace'))\n  .service('analytics', require('./services/analytics'))\n  .service('annotationMapper', require('./services/annotation-mapper'))\n  .service('api', require('./services/api'))\n  .service('apiRoutes', require('./services/api-routes'))\n  .service('auth', require('./services/oauth-auth'))\n  .service('bridge', require('../shared/bridge'))\n  .service('confirm', require('./services/confirm'))\n  .service('confirmAnnotaion', require('./services/confirm-annotation-action'))\n  .service('confirmDocRemoveAction', require('./services/confirm-docremove-action'))\n  .service('moveDocCorfirm', require('./services/move-confirmation'))\n  .service('moveWebResource', require('./services/move-web-resource'))\n  .service('drafts', require('./services/drafts'))\n  .service('features', require('./services/features'))\n  .service('flash', require('./services/flash'))\n  .service('frameSync', require('./services/frame-sync').default)\n  .service('groups', require('./services/groups'))\n  .service('localStorage', require('./services/local-storage'))\n  .service('maintenance', require('./services/maintenance-scheduler'))\n  .service('permissions', require('./services/permissions'))\n  .service('queryParser', require('./services/query-parser'))\n  .service('rootThread', require('./services/root-thread'))\n  .service('searchFilter', require('./services/search-filter'))\n  .service('serviceUrl', require('./services/service-url'))\n  .service('session', require('./services/session'))\n  .service('sharelinks', require('./services/share-as-link'))\n  .service('streamer', require('./services/streamer'))\n  .service('streamFilter', require('./services/stream-filter'))\n  .service('tags', require('./services/tags'))\n  .service('unicode', require('./services/unicode'))\n  .service('userPreference', require('./services/userPreference'))\n  .service('userstate', require('./services/userstate'))\n  .service('viewFilter', require('./services/view-filter'))\n  .service('globalErrorHandler', require('./services/global-error-handler'))\n  .service('extCommunicator', require('./services/ext-communicator'))\n  .service('juice',require('./services/juicify'))\n  .service('timelog',require('./services/time-log'))\n\n  // Redux store\n  .service('store', require('./store'))\n\n  // Utilities\n  .value('Discovery', require('../shared/discovery'))\n  .value('ExcerptOverflowMonitor', require('./util/excerpt-overflow-monitor'))\n  .value('OAuthClient', require('./util/oauth-client'))\n  .value('VirtualThreadList', require('./virtual-thread-list'))\n  .value('isSidebar', isSidebar)\n  .value('random', require('./util/random'))\n  .value('raven', require('./raven'))\n  .value('serviceConfig', serviceConfig)\n  .value('settings', settings)\n  .value('time', require('./util/time'))\n  .value('urlEncodeFilter', require('./filter/url').encode)\n  .value('sessionUUID', uuid.v4())\n  .value('endTime', new Date().getTime())\n\n  .config(configureCompile)\n  .config(configureLocation)\n  .config(configureRoutes)\n  .config(configureToastr)\n  .config(configureHttp)\n\n  .run(setupHttp)\n  .run(crossOriginRPC.server.start);\n\nprocessAppOpts();\n\n// Work around a check in Angular's $sniffer service that causes it to\n// incorrectly determine that Firefox extensions are Chrome Packaged Apps which\n// do not support the HTML 5 History API. This results Angular redirecting the\n// browser on startup and thus the app fails to load.\n// See https://github.com/angular/angular.js/blob/a03b75c6a812fcc2f616fc05c0f1710e03fca8e9/src/ng/sniffer.js#L30\nif (window.chrome && !window.chrome.app) {\n  window.chrome.app = {\n    dummyAddedByHypothesisClient: true,\n  };\n}\n\nvar appEl = document.querySelector('hypothesis-app');\nangular.bootstrap(appEl, ['h'], {strictDi: true});\n",
    "'use strict';\r\n\r\n/**\r\n * This module defines the set of keys used\r\n */\r\nmodule.exports = {\r\n\r\n  /** The group focused */\r\n  GROUPS_UI_KEY: 'groupfocused',\r\n\r\n};\r\n",
    "'use strict';\n\n/* eslint no-console: \"off\" */\n\nvar queryString = require('query-string');\n\nvar Socket = require('./websocket');\n\n/**\n * Return a URL with a cache-busting query string parameter added.\n *\n * @param {string} url - The original asset URL\n * @return {string} The URL with a cache-buster added.\n */\nfunction cacheBustURL(url) {\n  var newUrl = url;\n  var cacheBuster = queryString.parse({timestamp: Date.now()});\n  if (url.indexOf('?') !== -1) {\n    newUrl += '&' + cacheBuster;\n  } else {\n    newUrl += '?' + cacheBuster;\n  }\n  return newUrl;\n}\n\n/**\n * Return true if a URL matches a list of paths of modified assets.\n *\n * @param {string} url - The URL of the stylesheet, script or other resource.\n * @param {Array<string>} changed - List of paths of modified assets.\n */\nfunction didAssetChange(url, changed) {\n  return changed.some(function (path) {\n    return url.indexOf(path) !== -1;\n  });\n}\n\n/**\n * Reload a stylesheet or media element if it references a file\n * in a list of changed assets.\n *\n * @param {Element} element - An HTML <link> tag or media element.\n * @param {Array<string>} changed - List of paths of modified assets.\n */\nfunction maybeReloadElement(element, changed) {\n  var parentElement = element.parentNode;\n  var newElement = element.cloneNode();\n  var srcKeys = ['href', 'src'];\n  srcKeys.forEach(function (key) {\n    if (key in element && didAssetChange(element[key], changed)) {\n      newElement[key] = cacheBustURL(element[key]);\n    }\n  });\n  parentElement.replaceChild(newElement, element);\n}\n\nfunction reloadExternalStyleSheets(changed) {\n  var linkTags = [].slice.apply(document.querySelectorAll('link'));\n  linkTags.forEach(function (tag) {\n    maybeReloadElement(tag, changed);\n  });\n}\n\n/**\n * Connect to the live-reload server at @p url.\n *\n * @param {string} url - The URL of the live reload server. If undefined,\n *                       the 'livereloadserver' query string parameter is\n *                       used.\n */\nfunction connect(url) {\n  var conn = new Socket(url);\n  conn.on('open', function () {\n    console.log('Live reload client listening');\n  });\n  conn.on('message', function (event) {\n    var message = JSON.parse(event.data);\n    if (message.type === 'assets-changed') {\n      var scriptsOrTemplatesChanged = message.changed.some(function (path) {\n        return path.match(/\\.(html|js)$/);\n      });\n      var stylesChanged = message.changed.some(function (path) {\n        return path.match(/\\.css$/);\n      });\n      if (scriptsOrTemplatesChanged) {\n        // Ask the host page to reload the client (eg. by reloading itself).\n        window.top.postMessage({type:'reloadrequest'}, '*');\n        return;\n      }\n      if (stylesChanged) {\n        reloadExternalStyleSheets(message.changed);\n      }\n    }\n  });\n  conn.on('error', function (err) {\n    console.error('Error connecting to live reload server:', err);\n  });\n}\n\nmodule.exports = {\n  connect: connect,\n};\n",
    "'use strict';\n\n/**\n * Commands for toggling markdown formatting of a selection\n * in an input field.\n *\n * All of the functions in this module take as input the current state\n * of the input field, parameters for the operation to perform and return the\n * new state of the input field.\n */\n\n/**\n * Describes the state of a plain text input field.\n *\n * interface EditorState {\n *   text: string;\n *   selectionStart: number;\n *   selectionEnd: number;\n * }\n */\n\n/**\n * Types of Markdown link that can be inserted with\n * convertSelectionToLink()\n */\nvar LinkType = {\n  ANCHOR_LINK: 0,\n  IMAGE_LINK: 1,\n};\n\n/**\n * Replace text in an input field and return the new state.\n *\n * @param {EditorState} state - The state of the input field.\n * @param {number} pos - The start position of the text to remove.\n * @param {number} length - The number of characters to remove.\n * @param {string} text - The replacement text to insert at `pos`.\n * @return {EditorState} - The new state of the input field.\n */\nfunction replaceText(state, pos, length, text) {\n  var newSelectionStart = state.selectionStart;\n  var newSelectionEnd = state.selectionEnd;\n\n  if (newSelectionStart >= pos + length) {\n    // 1. Selection is after replaced text:\n    //    Increment (start, end) by difference in length between original and\n    //    replaced text\n    newSelectionStart += text.length - length;\n    newSelectionEnd += text.length - length;\n  } else if (newSelectionEnd <= pos) {\n    // 2. Selection is before replaced text: Leave selection unchanged\n  } else if (newSelectionStart <= pos &&\n             newSelectionEnd >= pos + length) {\n    // 3. Selection fully contains replaced text:\n    //    Increment end by difference in length between original and replaced\n    //    text\n    newSelectionEnd += text.length - length;\n  } else if (newSelectionStart < pos &&\n             newSelectionEnd < pos + length) {\n    // 4. Selection overlaps start but not end of replaced text:\n    //    Decrement start to start of replacement text\n    newSelectionStart = pos;\n  } else if (newSelectionStart < pos + length &&\n             newSelectionEnd > pos + length) {\n    // 5. Selection overlaps end but not start of replaced text:\n    //    Increment end by difference in length between original and replaced\n    //    text\n    newSelectionEnd += text.length - length;\n  } else if (pos < newSelectionStart &&\n             pos + length > newSelectionEnd) {\n    // 6. Replaced text fully contains selection:\n    //    Expand selection to replaced text\n    newSelectionStart = pos;\n    newSelectionEnd = pos + length;\n  }\n\n  return {\n    text: state.text.slice(0, pos) + text + state.text.slice(pos + length),\n    selectionStart: newSelectionStart,\n    selectionEnd: newSelectionEnd,\n  };\n}\n\n/**\n * Convert the selected text into a Markdown link.\n *\n * @param {EditorState} state - The current state of the input field.\n * @param {LinkType} linkType - The type of link to insert.\n * @return {EditorState} - The new state of the input field.\n */\nfunction convertSelectionToLink(state, linkType) {\n  if (typeof linkType === 'undefined') {\n    linkType = LinkType.ANCHOR_LINK;\n  }\n\n  var selection = state.text.slice(state.selectionStart, state.selectionEnd);\n\n  var linkPrefix = '';\n  if (linkType === LinkType.IMAGE_LINK) {\n    linkPrefix = '!';\n  }\n\n  var newState;\n  if (selection.match(/[a-z]+:\\/\\/.*/)) {\n    // Selection is a URL, wrap it with a link and use the selection as\n    // the target.\n    var dummyLabel = 'Description';\n    newState = replaceText(state, state.selectionStart, selection.length,\n      linkPrefix + '[' + dummyLabel + '](' + selection + ')');\n    newState.selectionStart = state.selectionStart + linkPrefix.length + 1;\n    newState.selectionEnd = newState.selectionStart + dummyLabel.length;\n    return newState;\n  } else {\n    // Selection is not a URL, wrap it with a link and use the selection as\n    // the label. Change the selection to the dummy link.\n    var beforeURL = linkPrefix + '[' + selection + '](';\n    var dummyLink = 'http://insert-your-link-here.com';\n    newState = replaceText(state, state.selectionStart, selection.length,\n      beforeURL + dummyLink + ')');\n    newState.selectionStart = state.selectionStart + beforeURL.length;\n    newState.selectionEnd = newState.selectionStart + dummyLink.length;\n    return newState;\n  }\n}\n\n/**\n * Toggle Markdown-style formatting around a span of text.\n *\n * @param {EditorState} state - The current state of the input field.\n * @param {string} prefix - The prefix to add or remove\n *                          before the selection.\n * @param {string?} suffix - The suffix to add or remove after the selection,\n *                           defaults to being the same as the prefix.\n * @param {string} placeholder - The text to insert between 'prefix' and\n *                               'suffix' if the input text is empty.\n * @return {EditorState} The new state of the input field.\n */\nfunction toggleSpanStyle(state, prefix, suffix, placeholder) {\n  if (typeof suffix === 'undefined') {\n    suffix = prefix;\n  }\n\n  var selectionPrefix = state.text.slice(state.selectionStart - prefix.length,\n    state.selectionStart);\n  var selectionSuffix = state.text.slice(state.selectionEnd,\n    state.selectionEnd + prefix.length);\n  var newState = state;\n\n  if (state.selectionStart === state.selectionEnd && placeholder) {\n    newState = replaceText(state, state.selectionStart, 0, placeholder);\n    newState.selectionStart = newState.selectionEnd - placeholder.length;\n  }\n\n  if (selectionPrefix === prefix && selectionSuffix === suffix) {\n    newState = replaceText(newState, newState.selectionStart - prefix.length,\n                           prefix.length, '');\n    newState = replaceText(newState, newState.selectionEnd, suffix.length, '');\n  } else {\n    newState = replaceText(newState, newState.selectionStart, 0, prefix);\n    newState = replaceText(newState, newState.selectionEnd, 0, suffix);\n  }\n\n  return newState;\n}\n\nfunction startOfLine(str, pos) {\n  var start = str.lastIndexOf('\\n', pos);\n  if (start < 0) {\n    return 0;\n  } else {\n    return start + 1;\n  }\n}\n\nfunction endOfLine(str, pos) {\n  var end = str.indexOf('\\n', pos);\n  if (end < 0) {\n    return str.length;\n  } else {\n    return end;\n  }\n}\n\n/**\n * Transform lines between two positions in an input field.\n *\n * @param {EditorState} state - The initial state of the input field\n * @param {number} start - The start position within the input text\n * @param {number} end - The end position within the input text\n * @param {(EditorState, number) => EditorState} callback\n *  - Callback which is invoked with the current state of the input and\n *    the start of the current line and returns the new state of the input.\n */\nfunction transformLines(state, start, end, callback) {\n  var lineStart = startOfLine(state.text, start);\n  var lineEnd = endOfLine(state.text, start);\n\n  while (lineEnd <= endOfLine(state.text, end)) {\n    var isLastLine = lineEnd === state.text.length;\n    var currentLineLength = lineEnd - lineStart;\n\n    state = callback(state, lineStart, lineEnd);\n\n    var newLineLength = endOfLine(state.text, lineStart) - lineStart;\n    end += newLineLength - currentLineLength;\n\n    if (isLastLine) {\n      break;\n    }\n    lineStart = lineStart + newLineLength + 1;\n    lineEnd = endOfLine(state.text, lineStart);\n  }\n  return state;\n}\n\n/**\n * Toggle Markdown-style formatting around a block of text.\n *\n * @param {EditorState} state - The current state of the input field.\n * @param {string} prefix - The prefix to add or remove before each line\n *                          of the selection.\n * @return {EditorState} - The new state of the input field.\n */\nfunction toggleBlockStyle(state, prefix) {\n  var start = state.selectionStart;\n  var end = state.selectionEnd;\n\n  // Test whether all lines in the selected range already have the style\n  // applied\n  var blockHasStyle = true;\n  transformLines(state, start, end, function (state, lineStart) {\n    if (state.text.slice(lineStart, lineStart + prefix.length) !== prefix) {\n      blockHasStyle = false;\n    }\n    return state;\n  });\n\n  if (blockHasStyle) {\n    // Remove the formatting.\n    return transformLines(state, start, end, function (state, lineStart) {\n      return replaceText(state, lineStart, prefix.length, '');\n    });\n  } else {\n    // Add the block style to any lines which do not already have it applied\n    return transformLines(state, start, end, function (state, lineStart) {\n      if (state.text.slice(lineStart, lineStart + prefix.length) === prefix) {\n        return state;\n      } else {\n        return replaceText(state, lineStart, 0, prefix);\n      }\n    });\n  }\n}\n\nmodule.exports = {\n  toggleSpanStyle: toggleSpanStyle,\n  toggleBlockStyle: toggleBlockStyle,\n  convertSelectionToLink: convertSelectionToLink,\n  LinkType: LinkType,\n};\n",
    "'use strict';\n\nvar queryString = require('query-string');\n\n/**\n* Return an HTML5 audio player with the given src URL.\n*/\n\nfunction audioElement(src) {\n  var html5audio = document.createElement('audio');\n  html5audio.controls = true;\n  html5audio.src      =  src;\n  return html5audio;\n}\n\n/**\n * Return an iframe DOM element with the given src URL.\n */\nfunction iframe(src) {\n  var iframe_ = document.createElement('iframe');\n  iframe_.src = src;\n  iframe_.classList.add('annotation-media-embed');\n  iframe_.setAttribute('frameborder', '0');\n  iframe_.setAttribute('allowfullscreen', '');\n  return iframe_;\n}\n\n/**\n * Return timeValue as a value in seconds, supporting `t` param's optional\n * '\\dh\\dm\\ds' format. If `timeValue` is numeric (only),\n * it's assumed to be seconds and is left alone.\n *\n * @param {string} timeValue - value of `t` or `start` param in YouTube URL\n * @returns {string} timeValue in seconds\n * @example\n * formatYouTubeTime('5m'); // returns '300'\n * formatYouTubeTime('20m10s'); // returns '1210'\n * formatYouTubeTime('1h1s'); // returns '3601'\n * formatYouTubeTime('10'); // returns '10'\n **/\nfunction parseTimeString (timeValue) {\n  var timePattern = /(\\d+)([hms]?)/g;\n  const multipliers = {\n    h: 60 * 60,\n    m: 60,\n    s: 1,\n  };\n  var seconds = 0;\n  var match;\n  // match[1] - Numeric value\n  // match[2] - Unit (e.g. 'h','m','s', or empty)\n  while ((match = timePattern.exec(timeValue)) !== null) {\n    if (match[2]) {\n      seconds += match[1] * multipliers[match[2]];\n    } else {\n      seconds += +match[1]; // Treat values missing units as seconds\n    }\n  }\n  return seconds.toString();\n}\n\n/**\n * Return a YouTube URL query string containing (only) whitelisted params.\n * See https://developers.google.com/youtube/player_parameters for\n * all parameter possibilities.\n *\n * @returns {string} formatted filtered URL query string, e.g. '?start=90'\n * @example\n * // returns '?end=10&start=5'\n * youTubeQueryParams(link); // where `link.search` = '?t=5&baz=foo&end=10'\n * // - `t` is translated to `start`\n * // - `baz` is not allowed param\n * // - param keys are sorted\n */\nfunction youTubeQueryParams(link) {\n  var query;\n  const allowedParams = [\n    'end',\n    'start',\n    't',                // will be translated to `start`\n  ];\n  const linkParams = queryString.parse(link.search);\n  const filteredQuery = {};\n  // Filter linkParams for allowed keys and build those entries\n  // into the filteredQuery object\n  Object.keys(linkParams)\n    .filter(key => allowedParams.includes(key))\n    .forEach(key => {\n      if (key === 't') {\n        // `t` is not supported in embeds; `start` is\n        // `t` accepts more formats than `start`; start must be in seconds\n        // so, format it as seconds first\n        filteredQuery.start = parseTimeString(linkParams[key]);\n      } else {\n        filteredQuery[key] = linkParams[key];\n      }\n    });\n  query = queryString.stringify(filteredQuery);\n  if (query) {\n    query = `?${query}`;\n  }\n  return query;\n}\n/**\n * Return a YouTube embed (<iframe>) DOM element for the given video ID.\n */\nfunction youTubeEmbed(id, link) {\n  const query  = youTubeQueryParams(link);\n  return iframe(`https://www.youtube.com/embed/${id}${query}`);\n}\n\nfunction vimeoEmbed(id) {\n  return iframe('https://player.vimeo.com/video/' + id);\n}\n\n\n/**\n * A list of functions that return an \"embed\" DOM element (e.g. an <iframe> or\n * an html5 <audio> element) for a given link.\n *\n * Each function either returns `undefined` if it can't generate an embed for\n * the link, or a DOM element if it can.\n *\n */\nvar embedGenerators = [\n\n  // Matches URLs like https://www.youtube.com/watch?v=rw6oWkCojpw\n  function iframeFromYouTubeWatchURL(link) {\n    if (link.hostname !== 'www.youtube.com') {\n      return null;\n    }\n\n    if (!/\\/watch\\/?/.test(link.pathname)) {\n      return null;\n    }\n\n    var groups = /[&\\?]v=([^&#]+)/.exec(link.search);\n    if (groups) {\n      return youTubeEmbed(groups[1], link);\n    }\n    return null;\n  },\n\n  // Matches URLs like https://youtu.be/rw6oWkCojpw\n  function iframeFromYouTubeShareURL(link) {\n    if (link.hostname !== 'youtu.be') {\n      return null;\n    }\n\n    // extract video ID from URL\n    var groups = /^\\/([^\\/]+)\\/?$/.exec(link.pathname);\n    if (groups) {\n      return youTubeEmbed(groups[1], link);\n    }\n    return null;\n  },\n\n  // Matches URLs like https://vimeo.com/149000090\n  function iFrameFromVimeoLink(link) {\n    if (link.hostname !== 'vimeo.com') {\n      return null;\n    }\n\n    var groups = /^\\/([^\\/\\?#]+)\\/?$/.exec(link.pathname);\n    if (groups) {\n      return vimeoEmbed(groups[1]);\n    }\n    return null;\n  },\n\n  // Matches URLs like https://vimeo.com/channels/staffpicks/148845534\n  function iFrameFromVimeoChannelLink(link) {\n    if (link.hostname !== 'vimeo.com') {\n      return null;\n    }\n\n    var groups = /^\\/channels\\/[^\\/]+\\/([^\\/?#]+)\\/?$/.exec(link.pathname);\n    if (groups) {\n      return vimeoEmbed(groups[1]);\n    }\n    return null;\n  },\n\n  /**\n   * Match Internet Archive URLs\n   *\n   *  The patterns are:\n   *\n   *  1. https://archive.org/embed/{slug}?start={startTime}&end={endTime}\n   *     (Embed links)\n   *\n   *  2. https://archive.org/details/{slug}?start={startTime}&end={endTime}\n   *     (Video page links for most videos)\n   *\n   *  3. https://archive.org/details/{slug}/start/{startTime}/end/{endTime}\n   *     (Video page links for the TV News Archive [1])\n   *\n   *  (2) and (3) allow users to copy and paste URLs from archive.org video\n   *  details pages directly into the sidebar to generate video embeds.\n   *\n   *  [1] https://archive.org/details/tv\n   */\n  function iFrameFromInternetArchiveLink(link) {\n    if (link.hostname !== 'archive.org') {\n      return null;\n    }\n\n    // Extract the unique slug from the path.\n    var slugMatch = /^\\/(embed|details)\\/(.+)/.exec(link.pathname);\n    if (!slugMatch) {\n      return null;\n    }\n\n    // Extract start and end times, which may appear either as query string\n    // params or path params.\n    var slug = slugMatch[2];\n    var linkParams = queryString.parse(link.search);\n    var startTime = linkParams.start;\n    var endTime = linkParams.end;\n\n    if (!startTime) {\n      var startPathParam = slug.match(/\\/start\\/([^\\/]+)/);\n      if (startPathParam) {\n        startTime = startPathParam[1];\n        slug = slug.replace(startPathParam[0], '');\n      }\n    }\n\n    if (!endTime) {\n      var endPathParam = slug.match(/\\/end\\/([^\\/]+)/);\n      if (endPathParam) {\n        endTime = endPathParam[1];\n        slug = slug.replace(endPathParam[0], '');\n      }\n    }\n\n    // Generate embed URL.\n    var iframeUrl = new URL(`https://archive.org/embed/${slug}`);\n    if (startTime) {\n      iframeUrl.searchParams.append('start', startTime);\n    }\n    if (endTime) {\n      iframeUrl.searchParams.append('end', endTime);\n    }\n    return iframe(iframeUrl.href);\n  },\n\n\n  // Matches URLs that end with .mp3, .ogg, or .wav (assumed to be audio files)\n  function html5audioFromMp3Link(link) {\n    if (link.pathname.endsWith('.mp3') || link.pathname.endsWith('.ogg') || link.pathname.endsWith('.wav')) {\n      return audioElement(link.href);\n    }\n    return null;\n  },\n\n];\n\n/**\n * Return an embed element for the given link if it's an embeddable link.\n *\n * If the link is a link for a YouTube video or other embeddable media then\n * return an embed DOM element (for example an <iframe>) for that media.\n *\n * Otherwise return undefined.\n *\n */\nfunction embedForLink(link) {\n  var embed;\n  var j;\n  for (j = 0; j < embedGenerators.length; j++) {\n    embed = embedGenerators[j](link);\n    if (embed) {\n      return embed;\n    }\n  }\n  return null;\n}\n\n/** Replace the given link element with an embed.\n *\n * If the given link element is a link to an embeddable media and if its link\n * text is the same as its href then it will be replaced in the DOM with an\n * embed (e.g. an <iframe> or html5 <audio> element) of the same media.\n *\n * If the link text is different from the href, then the link will be left\n * untouched. We want to convert links like these from the Markdown source into\n * embeds:\n *\n *     https://vimeo.com/channels/staffpicks/148845534\n *     <https://vimeo.com/channels/staffpicks/148845534>\n *\n * But we don't want to convert links like this:\n *\n *     [Custom link text](https://vimeo.com/channels/staffpicks/148845534)\n *\n * because doing so would destroy the user's custom link text, and leave users\n * with no way to just insert a media link without it being embedded.\n *\n * If the link is not a link to an embeddable media it will be left untouched.\n *\n */\nfunction replaceLinkWithEmbed(link) {\n  if (link.href !== link.textContent) {\n    return;\n  }\n  var embed = embedForLink(link);\n  if (embed){\n    link.parentElement.replaceChild(embed, link);\n  }\n}\n\n/**\n * Replace all embeddable link elements beneath the given element with embeds.\n *\n * All links to YouTube videos or other embeddable media will be replaced with\n * embeds of the same media.\n *\n */\nfunction replaceLinksWithEmbeds(element) {\n  var links = element.getElementsByTagName('a');\n\n  // `links` is a \"live list\" of the <a> element children of `element`.\n  // We want to iterate over `links` and replace some of them with embeds,\n  // but we can't modify `links` while looping over it so we need to copy it to\n  // a nice, normal array first.\n  links = Array.prototype.slice.call(links, 0);\n\n  var i;\n  for (i = 0; i < links.length; i++) {\n    replaceLinkWithEmbed(links[i]);\n  }\n}\n\nmodule.exports = {\n  replaceLinksWithEmbeds: replaceLinksWithEmbeds,\n};\n",
    "'use strict';\n\n/**\n * This module configures Raven for reporting crashes\n * to Sentry.\n *\n * Logging requires the Sentry DSN and Hypothesis\n * version to be provided via the app's settings object.\n *\n * It also exports an Angular module via angularModule() which integrates\n * error logging into any Angular application that it is added to\n * as a dependency.\n */\n\nvar Raven = require('raven-js');\n\n// This is only used in apps where Angular is used,\n// but is required globally due to\n// https://github.com/thlorenz/proxyquireify/issues/40\n//\n// Fortunately it does not pull in Angular as a dependency but returns\n// a function that takes it as an input argument.\nvar angularPlugin = require('raven-js/plugins/angular');\n\n/**\n * Returns the input URL if it is an HTTP URL or the filename part of the URL\n * otherwise.\n *\n * @param {string} url - The script URL associated with an exception stack\n *                       frame.\n */\nfunction convertLocalURLsToFilenames(url) {\n  if (!url) {\n    return url;\n  }\n\n  if (url.match(/https?:/)) {\n    return url;\n  }\n\n  // Strip the query string (which is used as a cache buster)\n  // and extract the filename from the URL\n  return url.replace(/\\?.*/,'').split('/').slice(-1)[0];\n}\n\n/**\n * Return a transformed version of `data` with local URLs replaced\n * with filenames.\n *\n * In environments where the client is served from a local URL,\n * eg. chrome-extension://<ID>/scripts/bundle.js, the script URL\n * and the sourcemap it references will not be accessible to Sentry.\n *\n * Therefore on the client we replace references to such URLs with just\n * the filename part and then as part of the release process, upload both\n * the source file and the source map to Sentry.\n *\n * Using just the filename allows us to upload a single set of source files\n * and sourcemaps for a release though a given release of H might be served\n * from multiple actual URLs (eg. different browser extensions).\n */\nfunction translateSourceURLs(data) {\n  try {\n    var frames = data.exception.values[0].stacktrace.frames;\n    frames.forEach(function (frame) {\n      frame.filename = convertLocalURLsToFilenames(frame.filename);\n    });\n    data.culprit = frames[0].filename;\n  } catch (err) {\n    console.warn('Failed to normalize error stack trace', err, data);\n  }\n  return data;\n}\n\nfunction init(config) {\n  Raven.config(config.dsn, {\n    release: '__VERSION__',  // replaced by versionify\n    dataCallback: translateSourceURLs,\n  }).install();\n  installUnhandledPromiseErrorHandler();\n}\n\nfunction setUserInfo(info) {\n  if (info) {\n    Raven.setUserContext(info);\n  } else {\n    Raven.setUserContext();\n  }\n}\n\n/**\n * Initializes and returns the Angular module which provides\n * a custom wrapper around Angular's $exceptionHandler service,\n * logging any exceptions passed to it using Sentry.\n *\n * This must be invoked _after_ Raven is configured using init().\n */\nfunction angularModule(angular) {\n  var prevCallback = Raven._globalOptions.dataCallback;\n  angularPlugin(Raven, angular);\n\n  // Hack: Ensure that both our data callback and the one provided by\n  // the Angular plugin are run when submitting errors.\n  //\n  // The Angular plugin replaces any previously installed\n  // data callback with its own which does not in turn call the\n  // previously registered callback that we registered when calling\n  // Raven.config().\n  //\n  // See https://github.com/getsentry/raven-js/issues/522\n  var angularCallback = Raven._globalOptions.dataCallback;\n  Raven.setDataCallback(function (data) {\n    return angularCallback(prevCallback(data));\n  });\n  return angular.module('ngRaven');\n}\n\n/**\n * Report an error to Sentry.\n *\n * @param {Error} error - An error object describing what went wrong\n * @param {string} when - A string describing the context in which\n *                        the error occurred.\n * @param {Object} [context] - A JSON-serializable object containing additional\n *                             information which may be useful when\n *                             investigating the error.\n */\nfunction report(error, when, context) {\n  if (!(error instanceof Error)) {\n    // If the passed object is not an Error, raven-js\n    // will serialize it using toString() which produces unhelpful results\n    // for objects that do not provide their own toString() implementations.\n    //\n    // If the error is a plain object or non-Error subclass with a message\n    // property, such as errors returned by chrome.extension.lastError,\n    // use that instead.\n    if (typeof error === 'object' && error.message) {\n      error = error.message;\n    }\n  }\n\n  var extra = Object.assign({ when: when }, context);\n  Raven.captureException(error, { extra: extra });\n}\n\n/**\n * Installs a handler to catch unhandled rejected promises.\n *\n * For this to work, the browser or the Promise polyfill must support\n * the unhandled promise rejection event (Chrome >= 49). On other browsers,\n * the rejections will simply go unnoticed. Therefore, app code _should_\n * always provide a .catch() handler on the top-most promise chain.\n *\n * See https://github.com/getsentry/raven-js/issues/424\n * and https://www.chromestatus.com/feature/4805872211460096\n *\n * It is possible that future versions of Raven JS may handle these events\n * automatically, in which case this code can simply be removed.\n */\nfunction installUnhandledPromiseErrorHandler() {\n  window.addEventListener('unhandledrejection', function (event) {\n    if (event.reason) {\n      report(event.reason, 'Unhandled Promise rejection');\n    }\n  });\n}\n\nmodule.exports = {\n  init: init,\n  angularModule: angularModule,\n  setUserInfo: setUserInfo,\n  report: report,\n};\n",
    "'use strict';\n\nvar escapeHtml = require('escape-html');\nvar katex = require('katex');\nvar showdown = require('showdown');\n\nfunction targetBlank() {\n  function filter(text) {\n    return text.replace(/<a href=/g, '<a target=\"_blank\" href=');\n  }\n  return [{type: 'output', filter: filter}];\n}\n\nvar converter;\n\nfunction renderMarkdown(markdown) {\n  if (!converter) {\n    // see https://github.com/showdownjs/showdown#valid-options\n    converter = new showdown.Converter({\n      extensions: [targetBlank],\n      simplifiedAutoLink: true,\n      // Since we're using simplifiedAutoLink we also use\n      // literalMidWordUnderscores because otherwise _'s in URLs get\n      // transformed into <em>'s.\n      // See https://github.com/showdownjs/showdown/issues/211\n      literalMidWordUnderscores: true,\n      tables : true,\n\t  strikethrough : true,\n\t  tasklists : true\n    });\n  }\n  return converter.makeHtml(markdown);\n}\n\nfunction mathPlaceholder(id) {\n  return '{math:' + id.toString() + '}';\n}\n\n/**\n * Parses a string containing mixed markdown and LaTeX in between\n * '$$..$$' or '\\( ... \\)' delimiters and returns an object containing a\n * list of math blocks found in the string, plus the input string with math\n * blocks replaced by placeholders.\n */\nfunction extractMath(content) {\n  var mathBlocks = [];\n  var pos = 0;\n  var replacedContent = content;\n\n  while (true) { // eslint-disable-line no-constant-condition\n    var blockMathStart = replacedContent.indexOf('$$', pos);\n    var inlineMathStart = replacedContent.indexOf('\\\\(', pos);\n\n    if (blockMathStart === -1 && inlineMathStart === -1) {\n      break;\n    }\n\n    var mathStart;\n    var mathEnd;\n    if (blockMathStart !== -1 &&\n        (inlineMathStart === -1 || blockMathStart < inlineMathStart)) {\n      mathStart = blockMathStart;\n      mathEnd = replacedContent.indexOf('$$', mathStart + 2);\n    } else {\n      mathStart = inlineMathStart;\n      mathEnd = replacedContent.indexOf('\\\\)', mathStart + 2);\n    }\n\n    if (mathEnd === -1) {\n      break;\n    } else {\n      mathEnd = mathEnd + 2;\n    }\n\n    var id = mathBlocks.length + 1;\n    var placeholder = mathPlaceholder(id);\n    mathBlocks.push({\n      id: id,\n      expression: replacedContent.slice(mathStart + 2, mathEnd - 2),\n      inline: inlineMathStart !== -1,\n    });\n\n    var replacement;\n    if (inlineMathStart !== -1) {\n      replacement = placeholder;\n    } else {\n      // Add new lines before and after math blocks so that they render\n      // as separate paragraphs\n      replacement = '\\n\\n' + placeholder + '\\n\\n';\n    }\n\n    replacedContent = replacedContent.slice(0, mathStart) +\n                      replacement +\n                      replacedContent.slice(mathEnd);\n    pos = mathStart + replacement.length;\n  }\n\n  return {\n    mathBlocks: mathBlocks,\n    content: replacedContent,\n  };\n}\n\nfunction insertMath(html, mathBlocks) {\n  return mathBlocks.reduce(function (html, block) {\n    var renderedMath;\n    try {\n      if (block.inline) {\n        renderedMath = katex.renderToString(block.expression);\n      } else {\n        renderedMath = katex.renderToString(block.expression, {\n          displayMode: true,\n        });\n      }\n    } catch (err) {\n      renderedMath = escapeHtml(block.expression);\n    }\n    return html.replace(mathPlaceholder(block.id), renderedMath);\n  }, html);\n}\n\nfunction renderMathAndMarkdown(markdown, sanitizeFn) {\n  // KaTeX takes care of escaping its input, so we want to avoid passing its\n  // output through the HTML sanitizer. Therefore we first extract the math\n  // blocks from the input, render and sanitize the remaining markdown and then\n  // render and re-insert the math blocks back into the output.\n  var mathInfo = extractMath(markdown);\n  var markdownHTML = sanitizeFn(renderMarkdown(mathInfo.content));\n  var mathAndMarkdownHTML = insertMath(markdownHTML, mathInfo.mathBlocks);\n  return mathAndMarkdownHTML;\n}\n\nmodule.exports = renderMathAndMarkdown;\n",
    "'use strict';\n\nvar EventEmitter = require('tiny-emitter');\n\n/**\n * Client for the Hypothesis search API.\n *\n * SearchClient handles paging through results, canceling search etc.\n */\nclass SearchClient extends EventEmitter {\n  /**\n   * @param {Object} searchFn - Function for querying the search API\n   * @param {Object} opts - Search options\n   */\n  constructor(searchFn, opts) {\n    super();\n    opts = opts || {};\n\n    var DEFAULT_CHUNK_SIZE = 200;\n    this._searchFn = searchFn;\n    this._chunkSize = opts.chunkSize || DEFAULT_CHUNK_SIZE;\n    if (typeof opts.incremental !== 'undefined') {\n      this._incremental = opts.incremental;\n    } else {\n      this._incremental = true;\n    }\n    this._canceled = false;\n  }\n\n  _getBatch(query, offset) {\n    var searchQuery = Object.assign({\n      limit: this._chunkSize,\n      offset: offset,\n      sort: 'created',\n      order: 'asc',\n      _separate_replies: true,\n    }, query);\n\n    var self = this;\n    this._searchFn(searchQuery).then(function (results) {\n      if (self._canceled) {\n        return;\n      }\n\n      var chunk = results.rows.concat(results.replies || []);\n      if (self._incremental) {\n        self.emit('results', chunk);\n      } else {\n        self._results = self._results.concat(chunk);\n      }\n\n      // Check if there are additional pages of results to fetch. In addition to\n      // checking the `total` figure from the server, we also require that at\n      // least one result was returned in the current page, otherwise we would\n      // end up repeating the same query for the next page. If the server's\n      // `total` count is incorrect for any reason, that will lead to the client\n      // polling the server indefinitely.\n      var nextOffset = offset + results.rows.length;\n      if (results.total > nextOffset && chunk.length > 0) {\n        self._getBatch(query, nextOffset);\n      } else {\n        if (!self._incremental) {\n          self.emit('results', self._results);\n        }\n        self.emit('end');\n      }\n    }).catch(function (err) {\n      if (self._canceled) {\n        return;\n      }\n      self.emit('error', err);\n    }).then(function () {\n      if (self._canceled) {\n        return;\n      }\n      self.emit('end');\n    });\n  }\n\n  /**\n   * Perform a search against the Hypothesis API.\n   *\n   * Emits a 'results' event with an array of annotations as they become\n   * available (in incremental mode) or when all annotations are available\n   * (in non-incremental mode).\n   *\n   * Emits an 'error' event if the search fails.\n   * Emits an 'end' event once the search completes.\n   */\n  get(query) {\n    this._results = [];\n    this._getBatch(query, 0);\n  }\n\n  /**\n   * Cancel the current search and emit the 'end' event.\n   * No further events will be emitted after this.\n   */\n  cancel() {\n    this._canceled = true;\n    this.emit('end');\n  }\n}\n\nmodule.exports = SearchClient;\n",
    "'use strict';\n\n/**\n * Return the configuration for the annotation service which the client would retrieve\n * annotations from which may contain the authority, grantToken and icon.\n *\n * @param {Object} settings - The settings object which would contain the services array.\n */\n\nfunction serviceConfig(settings) {\n  if (!Array.isArray(settings.services) || settings.services.length === 0) {\n    return null;\n  }\n  return settings.services[0];\n}\n\nmodule.exports = serviceConfig;\n",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"Add New section to the taskspace\".\r\n */\r\n\r\n// @ngInject\r\nfunction AddSection($modal) {\r\n\t\r\n\tvar modalOptions = {\r\n\t    close: 'CANCEL',\r\n\t    ok: 'CREATE',\r\n\t    headerText: 'Add New Section to Taskspace'\r\n\t};\r\n\tthis.modalInstance = null;\r\n\tthis.add = function (group) {\r\n\t\t  if(this.modalInstance) {\r\n\t\t\tthis.modalInstance.dismiss(\"cancel\");\r\n\t\t\tthis.modalInstance = null;\r\n\t\t  }\r\n\r\n\t      this.modalInstance = $modal.open({\r\n\t\t\t\t  animation: true,\r\n\t\t\t\t  template: require('../templates/add-new-section.html'),\r\n\t\t\t\t  controller: 'AddSectionModalController',\r\n\t\t\t\t  controllerAs: 'vm',\r\n\t\t          windowClass: 'create_section',\r\n\t\t\t\t  backdropClass:'create_section', \r\n\t\t\t\t  backdrop: 'static',\r\n\t\t\t\t  size : 'lg',\r\n\t\t\t\t  resolve: {\r\n\t\t\t\t\t  toGroup :function() {\r\n\t\t\t\t\t\t  return group;\r\n\t\t\t\t\t  },\r\n\t\t\t \t\t  modalOptions: function() {\r\n\t\t\t\t\t\tvar mdlOptions = angular.copy(modalOptions);\r\n\t\t\t\t\t\tif(group) {\r\n\t\t\t\t\t\t\tmdlOptions.headerText = 'Add New Section to \"'+group.name +'\"';\r\n\t\t\t\t\t\t} \r\n\t\t\t\t\t\treturn mdlOptions;\r\n\t\t\t\t\t}\r\n\t\t\t\t  }\r\n\t\t\t});\r\n\t\t\treturn this.modalInstance.result;\r\n\t};\r\n\t\r\n}\r\n\r\nmodule.exports = AddSection;",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"Add New section to the taskspace\".\r\n */\r\n\r\n// @ngInject\r\nfunction AddToTaskspace($modal) {\r\n\tthis.modalInstance = null;\r\n\tthis.add = function (auth) {\r\n\t\t  if(this.modalInstance) {\r\n\t\t\tthis.modalInstance.dismiss(\"cancel\");\r\n\t\t\tthis.modalInstance = null;\r\n\t\t  }\r\n\r\n\t      this.modalInstance = $modal.open({\r\n\t\t\t\t  animation: true,\r\n\t\t\t\t  template: require('../templates/add-to-taskspace.html'),\r\n\t\t\t\t  controller: 'AddToTaskspaceModal',\r\n\t\t\t\t  controllerAs: 'vm',\r\n\t\t\t\t  backdrop: 'static',\r\n\t\t\t\t  size : 'lg',\r\n\t\t          resolve: {\r\n\t\t\t\t\tauth: function() {\r\n\t\t\t\t\t\treturn auth;\r\n\t\t\t\t\t}\r\n\t\t\t\t  }\r\n\t\t\t});\r\n\t\t\treturn this.modalInstance.result;\r\n\t};\r\n\t\r\n}\r\n\r\nmodule.exports = AddToTaskspace;",
    "'use strict';\n\nvar VIA_REFERRER = /^https:\\/\\/(qa-)?via.hypothes.is\\//;\n\nvar globalGAOptions = function(win, settings){\n\n  settings = settings || {};\n\n  var globalOpts = {\n    category: '',\n  };\n\n  var validTypes = ['chrome-extension', 'firefox-extension', 'embed', 'bookmarklet', 'via'];\n\n  // The preferred method for deciding what type of app is running is\n  // through the setting of the appType to one of the valid types above.\n  // However, we also want to capture app types where we were not given\n  // the appType setting explicitly - these are the app types that were\n  // added before we added the analytics logic\n  if(validTypes.indexOf((settings.appType || '').toLowerCase()) > -1){\n    globalOpts.category = settings.appType.toLowerCase();\n  }else if(win.location.protocol === 'chrome-extension:'){\n    globalOpts.category = 'chrome-extension';\n  }else if(VIA_REFERRER.test(win.document.referrer)){\n    globalOpts.category = 'via';\n  }else {\n    globalOpts.category = 'embed';\n  }\n\n  return globalOpts;\n};\n\n/**\n * Analytics API to simplify and standardize the values that we\n * pass to the Angulartics service.\n *\n * These analytics are based on google analytics and need to conform to its\n * requirements. Specifically, we are required to send the event and a category.\n *\n * We will standardize the category to be the appType of the client settings\n */\n// @ngInject\nfunction analytics($analytics, $window, settings) {\n  var options = $window ? globalGAOptions($window, settings) : {};\n\n  return {\n\n    /**\n     * @param  {string} event This is the event name that we are capturing\n     *  in our analytics. Example: 'sidebarOpened'. Use camelCase to track multiple\n     *  words.\n     */\n    track: function(event, label, metricValue){\n      $analytics.eventTrack(event, Object.assign({}, {\n        label: label || undefined,\n        metricValue: isNaN(metricValue) ? undefined : metricValue,\n      }, options));\n    },\n\n    events: {\n      ANNOTATION_CREATED: 'annotationCreated',\n      ANNOTATION_DELETED: 'annotationDeleted',\n      ANNOTATION_FLAGGED: 'annotationFlagged',\n      ANNOTATION_SHARED: 'annotationShared',\n      ANNOTATION_UPDATED: 'annotationUpdated',\n      DOCUMENT_SHARED: 'documentShared',\n      GROUP_LEAVE: 'groupLeave',\n      GROUP_SWITCH: 'groupSwitch',\n      GROUP_VIEW_ACTIVITY: 'groupViewActivity',\n      HIGHLIGHT_CREATED: 'highlightCreated',\n      HIGHLIGHT_UPDATED: 'highlightUpdated',\n      HIGHLIGHT_DELETED: 'highlightDeleted',\n      LOGIN_FAILURE: 'loginFailure',\n      LOGIN_SUCCESS: 'loginSuccessful',\n      LOGOUT_FAILURE: 'logoutFailure',\n      LOGOUT_SUCCESS: 'logoutSuccessful',\n      PAGE_NOTE_CREATED: 'pageNoteCreated',\n      PAGE_NOTE_UPDATED: 'pageNoteUpdated',\n      PAGE_NOTE_DELETED: 'pageNoteDeleted',\n      REPLY_CREATED: 'replyCreated',\n      REPLY_UPDATED: 'replyUpdated',\n      REPLY_DELETED: 'replyDeleted',\n      SIDEBAR_OPENED: 'sidebarOpened',\n      SIGN_UP_REQUESTED: 'signUpRequested',\n    },\n  };\n}\n\nmodule.exports = analytics;\n",
    "'use strict';\n\nvar angular = require('angular');\n\nvar events = require('../events');\n\nfunction getExistingAnnotation(store, id) {\n  return store.getState().annotations.find(function (annot) {\n    return annot.id === id;\n  });\n}\n\n// Wraps the annotation store to trigger events for the CRUD actions\n// @ngInject\nfunction annotationMapper($rootScope, store, api) {\n  function loadAnnotations(annotations, replies) {\n    annotations = annotations.concat(replies || []);\n\n    var loaded = [];\n    annotations.forEach(function (annotation) {\n      var existing = getExistingAnnotation(store, annotation.id);\n      if (existing) {\n        $rootScope.$broadcast(events.ANNOTATION_UPDATED, annotation);\n        return;\n      }\n      loaded.push(annotation);\n    });\n\n    $rootScope.$broadcast(events.ANNOTATIONS_LOADED, loaded);\n  }\n\n  function unloadAnnotations(annotations) {\n    var unloaded = annotations.map(function (annotation) {\n      var existing = getExistingAnnotation(store, annotation.id);\n      if (existing && annotation !== existing) {\n        annotation = angular.copy(annotation, existing);\n      }\n      return annotation;\n    });\n    $rootScope.$broadcast(events.ANNOTATIONS_UNLOADED, unloaded);\n  }\n\n  function createAnnotation(annotation) {\n    $rootScope.$broadcast(events.BEFORE_ANNOTATION_CREATED, annotation);\n    return annotation;\n  }\n\n  function deleteAnnotation(annotation) {\n  \tvar references = (annotation.references && annotation.references.length > 0) ? annotation.references[0] : \"\";\n    return api.annotation.delete({\n      id: annotation.id,\n      objClientId: annotation.objClientId,\n      annotId : references\n    }).then(function () {\n      $rootScope.$broadcast(events.ANNOTATION_DELETED, annotation);\n      return annotation;\n    });\n  }\n\n  function flagAnnotation(annot) {\n    return api.annotation.flag({\n      id: annot.id,\n    }).then(function () {\n      $rootScope.$broadcast(events.ANNOTATION_FLAGGED, annot);\n      return annot;\n    });\n  }\n\n  return {\n    loadAnnotations: loadAnnotations,\n    unloadAnnotations: unloadAnnotations,\n    createAnnotation: createAnnotation,\n    deleteAnnotation: deleteAnnotation,\n    flagAnnotation: flagAnnotation,\n  };\n}\n\n\nmodule.exports = annotationMapper;\n",
    "'use strict';\n\nvar { retryPromiseOperation } = require('../util/retry');\n\n/**\n * A service which fetches and caches API route metadata.\n */\n// @ngInject\nfunction apiRoutes($http, settings) {\n  // Cache of route name => route metadata from API root.\n  var routeCache;\n  // Cache of links to pages on the service fetched from the API's \"links\"\n  // endpoint.\n  var linkCache;\n\n  function getJSON(url) {\n    return $http.get(url).then(({ status, data }) => {\n      if (status !== 200) {\n        throw new Error(`Fetching ${url} failed`);\n      }\n      return data;\n    });\n  }\n\n  /**\n   * Fetch and cache API route metadata.\n   *\n   * Routes are fetched without any authentication and therefore assumed to be\n   * the same regardless of whether the user is authenticated or not.\n   *\n   * @return {Promise<Object>} - Map of routes to route metadata.\n   */\n  function routes() {\n    if (!routeCache) {\n      routeCache = retryPromiseOperation(() => getJSON(settings.apiUrl))\n        .then((index) => index.links);\n    }\n    return routeCache;\n  }\n\n  /**\n   * Fetch and cache service page links from the API.\n   *\n   * @return {Promise<Object>} - Map of link name to URL\n   */\n  function links() {\n    if (!linkCache) {\n      linkCache = routes().then(routes => {\n        return getJSON(routes.links.url);\n      });\n    }\n    return linkCache;\n  }\n\n  return { routes, links };\n}\n\nmodule.exports = apiRoutes;\n",
    "'use strict';\n\nvar get = require('lodash.get');\n\nvar urlUtil = require('../util/url-util');\n\n/**\n * Translate the response from a failed API call into an Error-like object.\n *\n * The details of the response are available on the `response` property of the\n * error.\n */\nfunction translateResponseToError(response) {\n  var message;\n  if (response.status <= 0) {\n    message = 'Service unreachable.';\n  } else {\n    //message = response.status + ' ' + response.statusText;\n    if (response.data && response.data.reason) {\n      //message = message + ': ' + response.data.reason;\n\t  message = response.data.reason;\n    }\n  }\n  var err = new Error(message);\n  err.response = response;\n  return err;\n}\n\n/**\n * Return a shallow clone of `obj` with all client-only properties removed.\n * Client-only properties are marked by a '$' prefix.\n */\nfunction stripInternalProperties(obj) {\n  var result = {};\n\n  for (var k in obj) {\n    if (obj.hasOwnProperty(k) && k[0] !== '$') {\n      result[k] = obj[k];\n    }\n  }\n\n  return result;\n}\n\n\nfunction forEachSorted(obj, iterator, context) {\n  var keys = Object.keys(obj).sort();\n  for (var i = 0; i < keys.length; i++) {\n    iterator.call(context, obj[keys[i]], keys[i]);\n  }\n  return keys;\n}\n\n\nfunction serializeValue(v) {\n  if (typeof v === 'object') {\n    return v instanceof Date ? v.toISOString() : JSON.stringify(v);\n  }\n  return v;\n}\n\n\nfunction encodeUriQuery(val) {\n  return encodeURIComponent(val).replace(/%20/g, '+');\n}\n\n\n// Serialize an object containing parameters into a form suitable for a query\n// string.\n//\n// This is an almost identical copy of the default Angular parameter serializer\n// ($httpParamSerializer), with one important change. In Angular 1.4.x\n// semicolons are not encoded in query parameter values. This is a problem for\n// us as URIs around the web may well contain semicolons, which our backend will\n// then proceed to parse as a delimiter in the query string. To avoid this\n// problem we use a very conservative encoder, found above.\nfunction serializeParams(params) {\n  if (!params) {\n    return '';\n  }\n  var parts = [];\n  forEachSorted(params, function(value, key) {\n    if (value === null || typeof value === 'undefined') {\n      return;\n    }\n    if (Array.isArray(value)) {\n      value.forEach(function(v) {\n        parts.push(encodeUriQuery(key)  + '=' + encodeUriQuery(serializeValue(v)));\n      });\n    } else {\n      parts.push(encodeUriQuery(key) + '=' + encodeUriQuery(serializeValue(value)));\n    }\n  });\n\n  return parts.join('&');\n}\n\n/**\n * Creates a function that will make an API call to a named route.\n *\n * @param $http - The Angular HTTP service\n * @param $q - The Angular Promises ($q) service.\n * @param links - Object or promise for an object mapping named API routes to\n *                URL templates and methods\n * @param route - The dotted path of the named API route (eg. `annotation.create`)\n * @param {Function} tokenGetter - Function which returns a Promise for an\n *                   access token for the API.\n */\nfunction createAPICall($http, $q, links, route, tokenGetter,settings) {\n  return function (params, data) {\n    // `$q.all` is used here rather than `Promise.all` because testing code that\n    // mixes native Promises with the `$q` promises returned by `$http`\n    // functions gets awkward in tests.\n    return $q.all([links, tokenGetter()]).then(function (linksAndToken) {\n      var links = linksAndToken[0];\n      var token = linksAndToken[1];\n\n      var descriptor = get(links, route);\n      var url = urlUtil.replaceURLParams(descriptor.url, params);\n      var headers = {};\n\n      if (token) {\n        headers.Authorization = 'Bearer ' + token;\n      }\n\n      if (settings.linkId) {\n          headers.linkId = settings.linkId;\n      }\n      \n      var req = {\n        data: data ? stripInternalProperties(data) : null,\n        headers: headers,\n        method: descriptor.method,\n        params: url.params,\n        paramSerializer: serializeParams,\n        url: url.url,\n      };\n      if(url.url.indexOf(\"saveAnnotationDigestAsDocPdf\") != -1) {\n    \t  req[\"responseType\"] = 'arraybuffer';\n      }\n      return $http(req);\n    }).then(function (response) {\n      return response.data;\n    }).catch(function (response) {\n      // Translate the API result into an `Error` to follow the convention that\n      // Promises should be rejected with an Error or Error-like object.\n      //\n      // Use `$q.reject` rather than just rethrowing the Error here due to\n      // mishandling of errors thrown inside `catch` handlers in Angular < 1.6\n      return $q.reject(translateResponseToError(response));\n    });\n  };\n}\n\n/**\n * API client for the Hypothesis REST API.\n *\n * Returns an object that with keys that match the routes in\n * the Hypothesis API (see http://h.readthedocs.io/en/latest/api/).\n *\n * This service handles authenticated calls to the API, using the `auth` service\n * to get auth tokens. The URLs for API endpoints are fetched from the `/api`\n * endpoint, a responsibility delegated to the `apiRoutes` service which does\n * not use authentication.\n */\n// @ngInject\nfunction api($http, $q, apiRoutes, auth,settings) {\n  var links = apiRoutes.routes();\n  function apiCall(route) {\n    return createAPICall($http, $q, links, route, auth.tokenGetter,settings);\n  }\n  function createPromise() {\n\treturn $q.defer();\n  }\n  return {\n\tcreatePromise: createPromise,\n\tschedule: {\n\t\tget: apiCall('schedule.get'),\n\t\tactive: apiCall('schedule.active'),\n\t},\n    search: apiCall('search'),\n    annotation: {\n      create: apiCall('annotation.create'),\n      link: apiCall('annotation.link'),\n      delete: apiCall('annotation.delete'),\n      get: apiCall('annotation.read'),\n      update: apiCall('annotation.update'),\n      flag: apiCall('annotation.flag'),\n      hide: apiCall('annotation.hide'),\n      unhide: apiCall('annotation.unhide'),\n      addToTaskSpace: apiCall('annotation.addToTs'),\n      updatecoord: apiCall('annotation.updatecoord'),\n      annotationcount: apiCall('annotation.annotationcount'),\n      updateTags: apiCall('annotation.updateTags'),\n    },\n    group: {\n      member: {\n        delete: apiCall('group.member.delete'),\n      },\n      read : apiCall('group.read'),\n \t  getTaskspace : apiCall('group.getTaskspace'),\n      link : apiCall('group.link'),\n      \n      tickers : apiCall('group.tickers'),\n      create : apiCall('group.create'),\n      invite : apiCall('group.invite'),\n      inviteProvisionalUsers : apiCall('group.inviteProvisionalUsers'),\n      listUsers : apiCall('group.listUsers'),\n      unshare : apiCall('group.unshare'),\n      permSet : apiCall('group.permSet'),\n      moveObject : apiCall('group.moveObject'),\n      move2section : apiCall('group.move2section'),\n      removeWebresource: apiCall('group.removeWebresource'),\n\t  deleteWebresource: apiCall('group.deleteWebresource'),\n      addSection: apiCall('group.addsection'),\n      focusSection: apiCall('group.focusSection'),\n      getMetaData: apiCall('group.getMetaData'),\n    },\n    groups: {\n      list: apiCall('groups.read'),\n    },\n    profile: {\n      groups: apiCall('profile.groups'),\n      read: apiCall('profile.read'),\n      update: apiCall('profile.update'),\n\t  loginInfo: apiCall('profile.loginInfo'),\n      saveUserState: apiCall('profile.saveUserState'),\n \t  getUserState: apiCall('profile.getUserState'),\n    },\n    webclip: {\n      create: apiCall('webclip.create'),\n    },\n    help: {\n        getContent: apiCall('help.getContent'),\n    },\n    link: {\n    \tcheckLinkExists: apiCall('link.checkLinkExists'),\n    \tcreate: apiCall('link.create'),\n    \tupdate: apiCall('link.update'),\n    \tdelete: apiCall('link.delete'),\n    \tcreateAnnotationDigestForLink: apiCall('link.createAnnotationDigestForLink'),\n    \tsaveAnnotationDigestAsDoc: apiCall('link.saveAnnotationDigestAsDoc'),\n    \tsendAnnotationDigestAsMail: apiCall('link.sendAnnotationDigestAsMail'),\n    \tsaveAnnotationDigestAsDocPdf: apiCall('link.saveAnnotationDigestAsDocPdf'),\n    \tshareArticleOnLinkedin: apiCall('link.shareArticleOnLinkedin')\n    },\n    tags: {\n    \ttag: apiCall('tags.tag'),\n    \tuntag: apiCall('tags.untag'),\n        getResourceTags: apiCall('tags.getResourceTags'),\n        searchResourceTags: apiCall('tags.searchResourceTags'),\n    }\n    // The `links` endpoint is not included here. Clients should fetch these\n    // from the `apiRoutes` service.\n  };\n}\n\nmodule.exports = api;\n",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction ConfirmAnnotationAction($modal) {\r\n\tvar modalDefaults = {\r\n\t\tbackdrop: true,\r\n\t\tkeyboard: true,\r\n\t\tmodalFade: true,\r\n\t\ttemplate: require('../templates/confirm-annotation-action.html')\r\n\t};\r\n\r\n\tvar modalOptions = {\r\n\t\tselectedGroup: {},\r\n\t\tcloseButtonText: 'Cancel',\r\n\t\tmoveButtonText: 'Submit',\r\n\t\theaderText: 'Confirm Action on Annotations'\r\n\t};\r\n\r\n\tthis.showModal = function(customModalDefaults, customModalOptions) {\r\n\t\tif (!customModalDefaults) customModalDefaults = {};\r\n\t\tcustomModalDefaults.backdrop = 'static';\r\n\t\treturn this.show(customModalDefaults, customModalOptions);\r\n\t};\r\n\r\n\tthis.show = function(customModalDefaults, customModalOptions) {\r\n\t\t//Create temp objects to work with since we're in a singleton service\r\n\t\tvar tempModalDefaults = {};\r\n\t\tvar tempModalOptions = {};\r\n\r\n\t\t//Map angular-ui modal custom defaults to modal defaults defined in service\r\n\t\tangular.extend(tempModalDefaults, modalDefaults, customModalDefaults);\r\n\r\n\t\t//Map modal.html $scope custom properties to defaults defined in service\r\n\t\tangular.extend(tempModalOptions, modalOptions, customModalOptions);\r\n\r\n\t\tif (!tempModalDefaults.controller) {\r\n\t\t\ttempModalDefaults.controller = function($scope, $modalInstance,_,confirm) {\r\n\t\t\t\t$scope.moveWithAnnotations = { \"option\": \"\" };\r\n\r\n\t\t\t\t$scope.disableConfirm = disableConfirm;\r\n\t\t\t\t$scope.ok = ok;\r\n\t\t\t\t$scope.cancel = cancel;\r\n\t\t\t\t\r\n\t\t\t\tfunction disableConfirm() {\r\n\t\t\t\t\tif (!_.isEmpty($scope.moveWithAnnotations.option)) {\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction confirmDeleteAnnotations() {\r\n\t\t\t\t\tvar text = \"<p>Are you sure you want to deleted the annotations? (annotations would be deleted permanently)</p>\\\r\n\t\t\t\t                <p>Later You will not be able to retrieve deleted Annotations.</p>\";\r\n\t\t\t\t\tvar modalOptions = {\r\n\t\t\t\t\t\tcloseButtonText: 'Cancel',\r\n\t\t\t\t\t\tactionButtonText: 'Ok',\r\n\t\t\t\t\t\theaderText: 'Delete Annotations ?',\r\n\t\t\t\t\t\tbodyText: text\r\n\t\t\t\t\t};\r\n\t\t\t\t\treturn confirm.showModal({}, modalOptions);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction ok() {\r\n\t\t\t\t\tif ($scope.moveWithAnnotations.option === \"delete\") {\r\n\t\t\t\t\t\tconfirmDeleteAnnotations().then(function() {\r\n\t\t\t\t\t\t\t$modalInstance.close($scope.moveWithAnnotations.option);\r\n\t\t\t\t\t\t}, function() {\r\n\t\t\t\t\t\t\tcancel();\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t$modalInstance.close($scope.moveWithAnnotations.option);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction cancel() {\r\n\t\t\t\t\t$modalInstance.dismiss('cancel');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttempModalDefaults.controller.$inject = [\"$scope\", \"$modalInstance\",\"_\",\"confirm\"];\r\n\t\t}\r\n\r\n\t\treturn $modal.open(tempModalDefaults).result;\r\n\t};\r\n}\r\n\r\nmodule.exports = ConfirmAnnotationAction;",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages for Removing document from the task space.\r\n */\r\n\r\n// @ngInject\r\nfunction ConfirmDocRemoveAction($modal,groups,$q) {\r\n\tvar self = this;\r\n\tvar modalOptions = {\r\n\t\tselectedGroup: {},\r\n\t\tcloseButtonText: 'Cancel',\r\n\t\tmoveButtonText: 'Remove',\r\n\t\theaderText: 'Are you sure you want to remove this document from task space?',\r\n\t};\r\n\tself.modalInstance = null;\r\n\t\r\n\tself.removeConfimation = function(fromGroup) {\r\n\t\tlet link = groups.checkDocuLinkExists(fromGroup).then(function(link) {\r\n\t\t\treturn link;\r\n\t\t});\r\n\r\n\t\tlet annotCount = groups.getAnnotationCount(fromGroup).then(function(count) {\r\n\t\t\treturn count;\r\n\t\t});\r\n\r\n\t\treturn $q.all([link, annotCount]).then(function(resp) {\r\n\t\t\tlet data = {};\r\n\t\t\tif (resp && resp.length > 0) {\r\n\t\t\t\tdata = {\r\n\t\t\t\t\tlink: resp[0],\r\n\t\t\t\t\tcount: resp[1],\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t\treturn self.confirm(data,fromGroup);\r\n\t\t});\r\n\t};\r\n\t\r\n\t\r\n\tself.confirm = function (confirmdata,fromGroup) {\r\n\t\t  if(this.modalInstance) {\r\n\t\t\tthis.modalInstance.dismiss(\"cancel\");\r\n\t\t\tthis.modalInstance = null;\r\n\t\t  }\r\n\r\n\t      this.modalInstance = $modal.open({\r\n\t\t\t\t  animation: true,\r\n\t\t\t\t  template: require('../templates/confirm-docremove-action.html'),\r\n\t\t\t\t  controller: 'DocRemoveConfirmModal',\r\n\t\t\t\t  controllerAs: 'vm',\r\n\t\t\t\t  backdrop: 'static',\r\n\t\t\t\t  size : 'lg',\r\n\t\t\t\t  resolve: {\r\n\t\t\t\t\t  confirmdata :function() {\r\n\t\t\t\t\t\t  return confirmdata;\r\n\t\t\t\t\t  },\r\n\t\t\t          modalOptions: function() {\r\n\t\t\t\t\t  \t  return modalOptions;\r\n\t\t\t\t\t  },\r\n\t\t\t          taskspace: function() {\r\n\t\t\t\t\t\t  return fromGroup;\r\n\t\t\t\t\t  }\r\n\t\t\t\t  }\r\n\t\t\t});\r\n\t\t\treturn this.modalInstance.result;\r\n\t};\r\n}\r\n\r\nmodule.exports = ConfirmDocRemoveAction;",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction confirm($modal) {\r\n\tvar modalDefaults = {\r\n\t    backdrop: true,\r\n\t    keyboard: true,\r\n\t    modalFade: true,\r\n\t    template: require('../templates/confirm.html')\r\n\t};\r\n\t\r\n\tvar modalOptions = {\r\n\t    closeButtonText: 'Close',\r\n\t    actionButtonText: 'OK',\r\n\t    headerText: 'Proceed?',\r\n\t    bodyText: 'Perform this action?'\r\n\t};\r\n\t\r\n\tthis.showModal = function (customModalDefaults, customModalOptions) {\r\n\t    if (!customModalDefaults) customModalDefaults = {};\r\n\t    customModalDefaults.backdrop = 'static';\r\n\t    return this.show(customModalDefaults, customModalOptions);\r\n\t};\r\n\t\r\n\tthis.show = function (customModalDefaults, customModalOptions) {\r\n\t    //Create temp objects to work with since we're in a singleton service\r\n\t    var tempModalDefaults = {};\r\n\t    var tempModalOptions = {};\r\n\t\r\n\t    //Map angular-ui modal custom defaults to modal defaults defined in service\r\n\t    angular.extend(tempModalDefaults, modalDefaults, customModalDefaults);\r\n\t\r\n\t    //Map modal.html $scope custom properties to defaults defined in service\r\n\t    angular.extend(tempModalOptions, modalOptions, customModalOptions);\r\n\t\r\n\t    if (!tempModalDefaults.controller) {\r\n\t        tempModalDefaults.controller = function ($scope, $modalInstance) {\r\n\t            $scope.modalOptions = tempModalOptions;\r\n\t            $scope.modalOptions.ok = function (result) {\r\n\t                $modalInstance.close(result);\r\n\t            };\r\n\t            $scope.modalOptions.close = function (result) {\r\n\t                $modalInstance.dismiss('cancel');\r\n\t            };\r\n\t        }\r\n\t        tempModalDefaults.controller.$inject = [\"$scope\", \"$modalInstance\"];\r\n\t    }\r\n\t\r\n\t    return $modal.open(tempModalDefaults).result;\r\n\t};\r\n}\r\n\r\nmodule.exports = confirm;\r\n",
    "'use strict';\n\n/**\n * Return true if a given `draft` is empty and can be discarded without losing\n * any user input\n */\nfunction isEmpty(draft) {\n  if (!draft) {\n    return true;\n  }\n  return !draft.text && draft.tags.length === 0;\n}\n\n/**\n * The drafts service provides temporary storage for unsaved edits to new or\n * existing annotations.\n *\n * A draft consists of:\n *\n * 1. `model` which is the original annotation domain model object which the\n *    draft is associated with. Domain model objects are never returned from\n *    the drafts service, they're only used to identify the correct draft to\n *    return.\n *\n * 2. `isPrivate` (boolean), `tags` (array of objects) and `text` (string)\n *    which are the user's draft changes to the annotation. These are returned\n *    from the drafts service by `drafts.get()`.\n *\n */\nfunction DraftStore() {\n  this._drafts = [];\n\n  /**\n   * Returns true if 'draft' is a draft for a given\n   * annotation.\n   *\n   * Annotations are matched by ID or local tag.\n   */\n  function match(draft, model) {\n    return (draft.model.$tag && model.$tag === draft.model.$tag) ||\n           (draft.model.id && model.id === draft.model.id);\n  }\n\n  /**\n   * Returns the number of drafts - both unsaved new annotations, and unsaved\n   * edits to saved annotations - currently stored.\n   */\n  this.count = function count() {\n    return this._drafts.length;\n  };\n\n  /**\n   * Returns a list of local tags of new annotations for which unsaved drafts\n   * exist.\n   *\n   * @return {Array<{$tag: string}>}\n   */\n  this.unsaved = function unsaved() {\n    return this._drafts.filter(function(draft) {\n      return !draft.model.id;\n    }).map(function(draft) {\n      return draft.model;\n    });\n  };\n\n  /** Retrieve the draft changes for an annotation. */\n  this.get = function get(model) {\n    for (var i = 0; i < this._drafts.length; i++) {\n      var draft = this._drafts[i];\n      if (match(draft, model)) {\n        return {\n          isPrivate: draft.isPrivate,\n          tags: draft.tags,\n          text: draft.text,\n          group: draft.group,\n          tsClientId: draft.tsClientId,\n          objId: draft.objId,\n          objClientId: draft.objClientId,\n          permissions: draft.permissions, \n          coordinates: draft.coordinates,\n          webresource: draft.webresource,\n          objOwner: draft.objOwner,\n        };\n      }\n    }\n    return null;\n  };\n\n  /**\n   * Returns the draft changes for an annotation, or null if no draft exists\n   * or the draft is empty.\n   */\n  this.getIfNotEmpty = function (model) {\n    var draft = this.get(model);\n    return isEmpty(draft) ? null : draft;\n  };\n\n  /**\n   * Update the draft version for a given annotation, replacing any\n   * existing draft.\n   */\n  this.update = function update(model, changes) {\n    var newDraft = {\n      model: {id: model.id, $tag: model.$tag},\n      isPrivate: changes.isPrivate,\n      tags: changes.tags,\n      text: changes.text,\n      group: changes.group,\n      tsClientId: changes.tsClientId,\n      objId: changes.objId,\n      objClientId: changes.objClientId,\n      permissions: changes.permissions,\n      coordinates: changes.coordinates,\n      webresource: changes.webresource,\n      objOwner: changes.objOwner,\n    };\n    this.remove(model);\n    this._drafts.push(newDraft);\n  };\n\n  /** Remove the draft version of an annotation. */\n  this.remove = function remove(model) {\n    this._drafts = this._drafts.filter(function(draft) {\n      return !match(draft, model);\n    });\n  };\n\n  /** Remove all drafts. */\n  this.discard = function discard() {\n    this._drafts = [];\n  };\n}\n\nmodule.exports = function() {\n  return new DraftStore();\n};\n",
    "'use strict';\r\n\r\nvar events = require('../events');\r\n\r\n\r\n//@ngInject\r\nfunction extCommunicator(sessionUUID,settings,$q,$rootScope,timelog) {\r\n\t\r\n\tvar self = this;\r\n\tvar port = null;\r\n\t\r\n\tself.pendingRequests = 0;\r\n\r\n\tif(chrome.runtime.connect) {\r\n\t\tport = chrome.runtime.connect({name: \"numici_\"+sessionUUID});\r\n\t\tport.onMessage.addListener(function(request) {\r\n\t\t\t  if (request && request.type === 'page-rendered') {\r\n\t            $rootScope.$broadcast(\"urlChanged\");\r\n\t\t\t  }\r\n\t\t});\r\n\t}\r\n\t\r\n\t/*if(chrome.runtime.onMessage) {\r\n\t\tchrome.runtime.onMessage.addListener(function(request) {\r\n\t\t  if (request && request.type === 'page-rendered') {\r\n            $rootScope.$broadcast(\"urlChanged\");\r\n\t\t  }\r\n\t\t});\r\n\t}*/\r\n\t\r\n\tfunction processMessage(message) {\r\n\t\t\r\n\t\tif(message) { \r\n\t\t\t\r\n\t\t\tif(!message.headers) {\r\n\t\t\t\tmessage.headers = {};\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tmessage.headers['X-Client-Id'] = sessionUUID;\r\n  \t\t\tmessage.headers['X-Client-Version'] = settings.release;\r\n  \t\t\tmessage.headers['X-Client-Type'] = settings.appType;\r\n\t\r\n\t\t    if(typeof message.paramSerializer == \"function\" && Object.keys(message.params || {}).length != 0) {\r\n\t\t\t\tmessage.url +=\"?\"+message.paramSerializer( message.params);\r\n\t\t\t\tconsole.log(message.url);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(message.data && Object.keys(message.data || {}).length != 0 && message.contentType == \"application/json\") {\r\n\t\t\t\tmessage.data = JSON.stringify(message.data);\r\n\t\t\t}\r\n\r\n\t\t\t\r\n\t\t\treturn {\r\n\t\t\t\taction: message.action,\r\n\t\t\t\trequestTimestamp: new Date().getTime(),\r\n\t\t\t\trequest: {\r\n\t\t\t\t\t data: message.data ? message.data : null,\r\n\t\t\t\t\t headers: message.headers,\r\n\t\t\t\t\t url: message.url,\r\n   \t\t\t\t\t type: message.method,\r\n \t                 contentType: message.contentType,\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t}\r\n\t\r\n\t\r\n\tfunction sendMessage(message) {\r\n\t\tlet defer = $q.defer();\r\n\t\tself.pendingRequests++;\r\n\t\tlet postmessage = processMessage(message);\r\n\t\ttry{\r\n\t\t\tif(chrome.runtime.sendMessage) {\r\n\t\t\t\tif(postmessage) {\r\n\t\t\t\t\tchrome.runtime.sendMessage(postmessage,function(response) {\r\n\t\t\t\t\t\tif(postmessage.action == \"apicall\" && response.status === 401) {\r\n\t\t\t\t\t\t\t$rootScope.$broadcast(events.OAUTH_TOKENS_ERROR);\r\n\t\t\t\t\t\t\tdefer.reject(response);\r\n\t\t\t\t        }\r\n                        defer.resolve(response);\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tdefer.reject();\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tdefer.reject();\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tdefer.reject();\r\n\t\t}\r\n\t\tdefer.promise.finally(function() {\r\n\t\t\tif(self.pendingRequests > 0){\r\n\t\t\t\tself.pendingRequests--;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tpostmessage.responseTimestamp = new Date().getTime();\r\n    \t    var time = postmessage.responseTimestamp - postmessage.requestTimestamp;\r\n    \t    time = (time/1000);\r\n    \t    if(time >= 0 && postmessage.action == \"apicall\") {\r\n\t    \t\tvar timeLog = {\r\n\t    \t\t\t   'timeStamp': postmessage.requestTimestamp,\r\n\t    \t\t\t   'requestedUrl' : postmessage.request.url,\r\n\t    \t\t\t   'responseTime' : time\r\n\t    \t\t};\r\n\t    \t\ttimelog.setTimeLogInfo(timeLog);\r\n    \t    }\r\n\t\t});\r\n\t\treturn defer.promise;\r\n\t}\r\n\t\r\n\tfunction getPort() {\r\n\t\treturn port;\r\n\t}\r\n\t\r\n\tfunction getPendingRequestCount() {\r\n\t\treturn self.pendingRequests;\r\n\t};\r\n\t\r\n\treturn {\r\n\t\tsendmessage : sendMessage,\r\n\t\tgetPort: getPort,\r\n\t\tgetPendingRequestCount: getPendingRequestCount\r\n\t};\r\n}\r\n\r\nmodule.exports = extCommunicator;\r\n",
    "/**\n * Provides access to feature flag states for the current\n * Hypothesis user.\n *\n * This service is a thin wrapper around the feature flag data in\n * the session state.\n *\n * Users of this service should assume that the value of any given flag can\n * change at any time and should write code accordingly. Feature flags should\n * not be cached, and should not be interrogated only at setup time.\n */\n'use strict';\n\nvar events = require('../events');\nvar bridgeEvents = require('../../shared/bridge-events');\n\n\n// @ngInject\nfunction features($log, $rootScope, bridge, session) {\n\n  var _sendFeatureFlags = function(){\n    var userFeatures = session.state.features;\n    bridge.call(bridgeEvents.FEATURE_FLAGS_UPDATED, userFeatures || {});\n  };\n\n  // user changed is currently called when we initially load\n  // the sidebar and when the user actually logs out/in.\n  $rootScope.$on(events.USER_CHANGED, _sendFeatureFlags);\n\n  // send on frame connected as well because the user_changed event\n  // alone might run before the frames ever connected. This will\n  // provide us the follow up to make sure that the frames get the flags\n  $rootScope.$on(events.FRAME_CONNECTED, _sendFeatureFlags);\n\n  /**\n   * Returns true if the flag with the given name is enabled for the current\n   * user.\n   *\n   * Returns false if session data has not been fetched for the current\n   * user yet or if the feature flag name is unknown.\n   */\n  function flagEnabled(flag) {\n    // trigger a refresh of session data, if it has not been\n    // refetched within a cache timeout managed by the session service\n    // (see CACHE_TTL in session.js)\n    session.load();\n\n    if (!session.state.features) {\n      // features data has not yet been fetched\n      return false;\n    }\n\n    var features = session.state.features;\n    if (!(flag in features)) {\n      $log.warn('looked up unknown feature', flag);\n      return false;\n    }\n    return features[flag];\n  }\n\n  return {\n    flagEnabled: flagEnabled,\n  };\n}\n\nmodule.exports = features;\n",
    "'use strict';\n\n/**\n * A service for displaying \"flash\" notification messages.\n */\n\n// @ngInject\nfunction flash(toastr) {\n  return {\n    info: toastr.info.bind(toastr),\n    success: toastr.success.bind(toastr),\n    warning: toastr.warning.bind(toastr),\n    error: toastr.error.bind(toastr),\n  };\n}\n\nmodule.exports = flash;\n",
    "'use strict';\n\nvar debounce = require('lodash.debounce');\n\nvar events = require('../events');\nvar bridgeEvents = require('../../shared/bridge-events');\nvar metadata = require('../annotation-metadata');\nvar uiConstants = require('../ui-constants');\n\n/**\n * @typedef FrameInfo\n * @property {string} uri - Current primary URI of the document being displayed\n * @property {string[]} searchUris - List of URIs that should be passed to the\n *           search API when searching for annotations on this document.\n * @property {string} documentFingerprint - Fingerprint of the document, used\n *                    for PDFs\n */\n\n /**\n  * Return a minimal representation of an annotation that can be sent from the\n  * sidebar app to a connected frame.\n  *\n  * Because this representation will be exposed to untrusted third-party\n  * JavaScript, it includes only the information needed to uniquely identify it\n  * within the current session and anchor it in the document.\n  */\nfunction formatAnnot(ann) {\n  return {\n    tag: ann.$tag,\n    msg: {\n      document: ann.document,\n      target: ann.target,\n      uri: ann.uri,\n      coordinates: ann.coordinates,\n      id:ann.id,\n      annotationType: ann.annotationType,\n    },\n  };\n}\n\n/**\n * This service runs in the sidebar and is responsible for keeping the set of\n * annotations displayed in connected frames in sync with the set shown in the\n * sidebar.\n */\n// @ngInject\nfunction FrameSync($rootScope, $window, Discovery, store, bridge,api,localStorage,flash,_,extCommunicator,settings) {\n\n  var self = this;\n  // Set of tags of annotations that are currently loaded into the frame\n  var inFrame = new Set();\n\n  /**\n   * Watch for changes to the set of annotations displayed in the sidebar and\n   * notify connected frames about new/updated/deleted annotations.\n   */\n  function setupSyncToFrame() {\n    // List of loaded annotations in previous state\n    var prevAnnotations = [];\n    var prevFrames = [];\n    var prevPublicAnns = 0;\n\n    store.subscribe(function () {\n      var state = store.getState();\n      if (state.annotations === prevAnnotations &&\n          state.frames === prevFrames) {\n        return;\n      }\n\n      var publicAnns = 0;\n      var inSidebar = new Set();\n      var added = [];\n\n      state.annotations.forEach(function (annot) {\n        if (metadata.isReply(annot)) {\n          // The frame does not need to know about replies\n          return;\n        }\n\n        if (metadata.isPublic(annot)) {\n          ++publicAnns;\n        }\n\n        inSidebar.add(annot.$tag);\n        if (!inFrame.has(annot.$tag)) {\n          added.push(annot);\n        }\n      });\n      var deleted = prevAnnotations.filter(function (annot) {\n        return !inSidebar.has(annot.$tag);\n      });\n      prevAnnotations = state.annotations;\n      prevFrames = state.frames;\n\n      // We currently only handle adding and removing annotations from the frame\n      // when they are added or removed in the sidebar, but not re-anchoring\n      // annotations if their selectors are updated.\n      if (added.length > 0) {\n        bridge.call('loadAnnotations', added.map(formatAnnot));\n        added.forEach(function (annot) {\n          inFrame.add(annot.$tag);\n        });\n      }\n      deleted.forEach(function (annot) {\n        bridge.call('deleteAnnotation', formatAnnot(annot));\n        inFrame.delete(annot.$tag);\n      });\n\n      var frames = store.frames();\n      if (frames.length > 0) {\n        if (frames.every(function (frame) { return frame.isAnnotationFetchComplete; })) {\n          if (publicAnns === 0 || publicAnns !== prevPublicAnns) {\n            bridge.call(bridgeEvents.PUBLIC_ANNOTATION_COUNT_CHANGED, publicAnns);\n            prevPublicAnns = publicAnns;\n          }\n        }\n      }\n    });\n  }\n\n  /**\n   * Listen for messages coming in from connected frames and add new annotations\n   * to the sidebar.\n   */\n  function setupSyncFromFrame() {\n    // A new annotation, note or highlight was created in the frame\n    bridge.on('beforeCreateAnnotation', function (event) {\n      inFrame.add(event.tag);\n      var annot = Object.assign({}, event.msg, {$tag: event.tag});\n      $rootScope.$broadcast(events.BEFORE_ANNOTATION_CREATED, annot); \n      if(annot.error) {\n    \t  flash.warning(annot.errorMsg,{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n      }\n    });\n    \n    \n    bridge.on('addToTaskSpace', function (event) {\n\t    var doc = Object.assign({}, event.msg, {$tag: event.tag});\n\t    $rootScope.$broadcast(events.ADD_TO_TASKSPACE, doc);\n    });\n\n    bridge.on('tagDocument', function (event) {\n\t  var doc = Object.assign({}, event.msg, {$tag: event.tag});\n      $rootScope.$broadcast('tagDocument',doc);\n\t  //$rootScope.$broadcast('showPageInfo',true);\n    });\n\n    bridge.on('shareDocument', function (event) {\n\t  var doc = Object.assign({}, event.msg, {$tag: event.tag});\n      $rootScope.$broadcast('shareDocument',doc);\n    });\n\n    bridge.on('captureScreenShot', function (event) {\n\t    var annotation = Object.assign({}, event.msg,{$tag: event.tag});\n\t\tvar coords = annotation.screenshotInfo;\n\t    var req = {\n        \taction: \"screenshot\",\n            data: coords,\n        };\n\t    extCommunicator.sendmessage(req).then(function(resp) {\n\t\t    if(resp) {\n\t\t\t    //var _coords = [coords.left,coords.top,coords.right,coords.bottom,coords.relLeft,coords.reltop];\n                //annotation.coordinates = _coords;\n                annotation.screenshotUrl = resp;\n\t\t\t\tbridge.call('createScreenShotAnnotation', annotation);\n\t\t    }\n\t\t});\n    });\n\n    bridge.on('destroyFrame', destroyFrame.bind(this));\n    \n    \n    bridge.on('urlChanged', function (data) {\n     \tself.urlChanged();\n    });\n\n    // Map of annotation tag to anchoring status\n    // ('anchored'|'orphan'|'timeout').\n    //\n    // Updates are coalesced to reduce the overhead from processing\n    // triggered by each `UPDATE_ANCHOR_STATUS` action that is dispatched.\n    var anchoringStatusUpdates = {};\n    var coordinateStatusUpdates = {};\n    var scheduleAnchoringStatusUpdate = debounce(() => {\n      store.updateAnchorStatus(anchoringStatusUpdates);\n      store.updateCoordinatesStatus(coordinateStatusUpdates);\n      //console.log(\"The coordinates are synced\");\n      //console.log(coordinateStatusUpdates);\n      $rootScope.$broadcast(events.ANNOTATIONS_SYNCED, Object.keys(anchoringStatusUpdates));\n      $rootScope.$broadcast(\"COORDINATES_UPDATED\", coordinateStatusUpdates);\n      \n      anchoringStatusUpdates = {};\n      coordinateStatusUpdates = {};\n    }, 10);\n\n    // Anchoring an annotation in the frame completed\n    bridge.on('sync', function (events_) {\n      events_.forEach(function (event) {\n        inFrame.add(event.tag);\n        anchoringStatusUpdates[event.tag] = event.msg.$orphan ? 'orphan' : 'anchored';\n        coordinateStatusUpdates[event.tag] = Object.assign({},{id: event.msg.id, updateRect: event.msg.updateRect, coordinates:event.msg.coordinates});\n        scheduleAnchoringStatusUpdate();\n      });\n    });\n\n    bridge.on('showAnnotations', function (tags) {\n      store.selectAnnotations(store.findIDsForTags(tags));\n      store.selectTab(uiConstants.TAB_ANNOTATIONS);\n    });\n\n    bridge.on('focusAnnotations', function (tags) {\n      store.focusAnnotations(tags || []);\n    });\n\n    bridge.on('toggleAnnotationSelection', function (tags) {\n      store.toggleSelectedAnnotations(store.findIDsForTags(tags));\n    });\n\n    bridge.on('sidebarOpened', function () {\n      $rootScope.$broadcast('sidebarOpened');\n    });\n\n    bridge.on('requestGroupChange', function () {\n      $rootScope.$broadcast('requestGroupChange');\n    });\n    \n    bridge.on('requestLogin', function () {\n        $rootScope.$broadcast('requestLogin');\n    });\n    \n    // These invoke the matching methods by name on the Guests\n    bridge.on('showSidebar', function () {\n      bridge.call('showSidebar');\n    });\n    bridge.on('hideSidebar', function () {\n      bridge.call('hideSidebar');\n    });\n    bridge.on('hideCompleteSidebar', function () {\n      bridge.call('hideCompleteSidebar');\n    });\n    bridge.on('setVisibleHighlights', function (state) {\n      bridge.call('setVisibleHighlights', state);\n    });\n    \n    bridge.on('SimplifiedArticle', function (article) {\n       // bridge.call('SimplifiedArticle', article);\n        $rootScope.$broadcast('SimplifiedArticle',article);\n    });\n    \n    \n    bridge.on('HTML_OBJ_ANNOTATIONS', function (value) {\n    \tlocalStorage.setItem(\"HTML_OBJ_ANNOTATIONS\",value);\n    });\n    \n    bridge.on('webClipChanged', function (article) {\n        // bridge.call('SimplifiedArticle', article);\n         $rootScope.$broadcast('webClipChanged');\n    });\n    \n    bridge.on('hideClipper', function () {\n        bridge.call('hideClipper');\n    });\n    \n    bridge.on('windowFocus', function () {\n      $rootScope.$broadcast('windowFocus',true);\n    });\n\n    bridge.on('moveDocument', function () {\n      $rootScope.$broadcast('moveDocument',true);\n    });\n\n\t\n\n    bridge.on('showPageInfo', function () {\n      $rootScope.$broadcast('showPageInfo',true);\n    });\n    \n    bridge.on('getClip', function (options) {\n        bridge.call('getClip',options);\n    });\n    \n    /*bridge.on('saveWebClipper', function (webclip) {\n    \tapi.webclip.create({}, webclip).then(function(resp){\n    \t\tbridge.call('saveWebClipperResp',resp);\n    \t}).catch(function (err) {\n    \t\tbridge.call('saveWebClipperError',err.message);\n        });\n    });*/\n  }\n\n  /**\n   * Query the Hypothesis annotation client in a frame for the URL and metadata\n   * of the document that is currently loaded and add the result to the set of\n   * connected frames.\n   */\n  function addFrame(channel) {\n    channel.call('getDocumentInfo', function (err, info) {\n      if (err) {\n        channel.destroy();\n        return;\n      }\n      var frameInfo = {\n      \t\tid: info.frameIdentifier,\n  \t        metadata: info.metadata,\n  \t        uri: info.uri,  \n      };\n      $rootScope.$broadcast(events.FRAME_CONNECTED,frameInfo);\n      store.connectFrame(frameInfo); \n    });\n  }\n\n  function destroyFrame(frameIdentifier) {\n    var frames = store.frames();\n    var frameToDestroy = frames.find(function (frame) {\n      return frame.id === frameIdentifier;\n    });\n    if (frameToDestroy) {\n      store.destroyFrame(frameToDestroy);\n    }\n  }\n\n  /**\n   * Find and connect to Hypothesis clients in the current window.\n   */\n  this.connect = function () {\n    var discovery = new Discovery(window, {server: true});\n    discovery.startDiscovery(bridge.createChannel.bind(bridge));\n    bridge.onConnect(addFrame);\n\n    setupSyncToFrame();\n    setupSyncFromFrame();\n  };\n\n  /**\n   * Focus annotations with the given tags.\n   *\n   * This is used to indicate the highlight in the document that corresponds to\n   * a given annotation in the sidebar.\n   *\n   * @param {string[]} tags\n   */\n  this.focusAnnotations = function (tags) {\n    bridge.call('focusAnnotations', tags);\n  };\n\n  /**\n   * Scroll the frame to the highlight for an annotation with a given tag.\n   *\n   * @param {string} tag\n   */\n  this.scrollToAnnotation = function (annotation) {\n\tif(!annotation.target) {\n\t\tannotation.isPagenote = true;\n\t}\n    bridge.call('scrollToAnnotation', annotation);\n  };\n  \n  /**\n   * Set user info to adder.\n   *\n   * @param {string {}} session\n   */\n  this.setSession = function (session) {\n    bridge.call('setSession', session);\n  };\n  \n  /**\n   * Set current group info to adder.\n   *\n   * @param {string {}} session\n   */\n  this.setGroup = function (group,preferences) {\n\t  let grp = Object.assign({},group);\n\t  if(!_.isEmpty(grp)) {\n\t\t  grp[\"userPreferences\"] = preferences;\n          grp[\"selectedSection\"] = store.getfocusedSection(grp.id);\n\t  }\n\t  bridge.call('setGroup', grp);\n  };\n  \n  /**\n   * Set current user info to clipper.\n   *\n   * @param {string {}} user\n   */\n  this.setUser = function (user) {\n    bridge.call('setUser', user);\n  };\n  \n  this.getClip = function(options) {\n\t bridge.call('getClip',options);\n  };\n  \n  this.showClipper = function() {\n\t bridge.call('showClipper');\n  };\n  \n  this.closeClipper = function () {\n\t bridge.call('hideClipper');\n  };\n  \n  this.enableOrDisableObjectAnnotations = function(options) {\n\t  bridge.call('HTML_OBJ_ANNOTATIONS',options);\n  };\n  \n  this.showSidebar = function(options) {\n\t  bridge.call('showSidebar');\n  };\n  \n  this.setSidebarWidth = function(options) {\n\t  bridge.call('setSidebarWidth',options);\n  };\n\n  this.shareLink = function (url) {\n\t  bridge.call('shareLink', {url : url});\n  };\n\n  this.closeShareLink = function (group,preferences) {\n\t  bridge.call('closeShareLink');\n  };\n\n  this.viewTSDigest = function (url) {\n\t  bridge.call('viewTSDigest', {url : url});\n  };\n\n  this.closeViewTSDigest = function () {\n\t  bridge.call('closeViewTSDigest');\n  };\n  \n  this.hideSidePaneToolbar = function (hide,group) {\n\t  bridge.call('hideSidePaneToolbar',{hide: hide,group: group});\n  };\n\n   // The URL of a connected frame was changed via the HTML 5 History API.\n  // Trigger unloading of annotations for the old URL and loading of annotations\n  // for the new URL\n  this.urlChanged = function() {\n\tvar self = this;\n\t$rootScope.$apply(function () {\n        var channels = bridge.links.map(function (frame) {\n          return frame.channel;\n        });\n        var state = store.getState();\n        state.frames = [];\n        channels.forEach(addFrame);\n        self.closeShareLink();\n    });\n  }\n\n  this.fetchDocumentInfo = function() {\n\tvar defer = api.createPromise();\n\tvar channels = bridge.links.map(function (frame) {\n        return frame.channel;\n    });\n    channels.forEach(function(channel) {\n\t\t channel.call('getDocumentInfo', function (err, info) {\n\t\t      if (err) {\n\t\t        channel.destroy();\n\t\t\t\tdefer.resolve({});\n\t\t        return;\n\t\t      }\n\t\t      var frameInfo = {\n\t\t      \t\tid: info.frameIdentifier,\n\t\t  \t        metadata: info.metadata,\n\t\t  \t        uri: info.uri,  \n\t\t      };\n\t\t     defer.resolve(frameInfo);\n\t    });\n    });\n\n\treturn defer.promise;\n  };\n}\n\nmodule.exports = {\n  default: FrameSync,\n  formatAnnot: formatAnnot,\n};\n",
    "'use strict';\r\nvar events = require('../events');\r\n\r\n// @ngInject\r\nfunction globalErrorHandler($q, $rootScope, timelog) {\r\n\r\n\r\n\tfunction setRespomnseTimeStamp(response) {\r\n\t\tif (response.config.url && response.config.url.indexOf(\"api/\") >= 0 || response.config.url.indexOf(\"annotateWebApi/\") >= 0) {\r\n\t\t\tresponse.config.responseTimestamp = new Date().getTime();\r\n\t\t\tvar time = response.config.responseTimestamp - response.config.requestTimestamp;\r\n\t\t\ttime = (time / 1000);\r\n\t\t\tif (time >= 0) {\r\n\t\t\t\tvar timeLog = {\r\n\t\t\t\t\t'timeStamp': response.config.requestTimestamp,\r\n\t\t\t\t\t'resp_timeStamp': response.config.responseTimestamp,\r\n\t\t\t\t\t'requestedUrl': response.config.url,\r\n\t\t\t\t\t'httpStatus': \"NA\",\r\n\t\t\t\t\t'responseTime': time,\r\n\t\t\t\t\t'serverExeTime' : response.headers()[\"response-time\"]\r\n\t\t\t\t};\r\n\t\t\t\ttimelog.setTimeLogInfo(timeLog);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tfunction responseErrorHandler(response) {\r\n\t\tif (response.status === 401) {\r\n\t\t\t$rootScope.$broadcast(events.OAUTH_TOKENS_ERROR);\r\n\t\t}\r\n\t\treturn $q.reject(response);\r\n\t}\r\n\r\n\r\n\tfunction responseHandler(response) {\r\n\t\tif (response.data && response.data.status === \"failure\") {\r\n\t\t\treturn $q.reject(response);\r\n\t\t}\r\n\t\tsetRespomnseTimeStamp(response);\r\n\t\treturn response;\r\n\t}\r\n\r\n\r\n\tfunction request(config) {\r\n\t\tif (config.url && (config.url.indexOf(\"api/\") >= 0 || config.url.indexOf(\"annotateWebApi/\") >= 0)) {\r\n\t\t\tconfig.requestTimestamp = new Date().getTime();\r\n\t\t}\r\n\t\treturn config;\r\n\t}\r\n\r\n\r\n\treturn {\r\n\t\tresponseError: responseErrorHandler,\r\n\t\tresponse: responseHandler,\r\n\t\trequest: request\r\n\t};\r\n}\r\n\r\nmodule.exports = globalErrorHandler;\r\n",
    "/**\r\n * @ngdoc service\r\n * @name  groups\r\n *\r\n * @description Provides access to the list of groups that the user is currently\r\n *              a member of and the currently selected group in the UI.\r\n *\r\n *              The list of groups is initialized from the session state\r\n *              and can then later be updated using the add() and remove()\r\n *              methods.\r\n */\r\n'use strict';\r\nvar kyes = require('../keys');\r\n\r\nvar STORAGE_KEY = 'hypothesis.groups.focus';\r\n\r\nvar events = require('../events');\r\nvar { awaitStateChange } = require('../util/state-util');\r\nvar serviceConfig = require('../service-config');\r\n\r\nfunction updateGroupmodel(state) {\r\n  state = state || {};\r\n  return Object.assign({}, {\r\n    // Apply changes from the draft\r\n   id: state.id || null,\r\n   stateKey: kyes.GROUPS_UI_KEY,\r\n   stateValue: state.groupId,\r\n  });\r\n}\r\n\r\n// @ngInject\r\nfunction groups($rootScope, store, api, isSidebar, localStorage, settings, $filter, frameSync, flash, $q, _,$modal,userstate) {\r\n\tvar self = this;\r\n\tvar documentUri;\r\n\tvar docMetaInfo;\r\n\tvar userUIState;\r\n\tvar svc = serviceConfig(settings);\r\n\tvar authority = svc ? svc.authority : null;\r\n\r\n\tvar openGroupdropDown = false;\r\n\t\r\n\tvar modalOptions = {\r\n\t    close: 'CANCEL',\r\n\t    ok: 'CREATE',\r\n\t    headerText: 'Create a New Taskspace'\r\n\t};\r\n    var createmodalInstance = null;\r\n\r\n\r\n    function getGroupState(params) {\r\n\t    var postdata = updateGroupmodel(params || {});\r\n\t\treturn api.profile.getUserState({},postdata);\r\n\t}\r\n\t\r\n\tfunction saveGroupState(params) {\r\n\t\tvar postdata = updateGroupmodel(params);\r\n\t\treturn api.profile.saveUserState({},postdata);\r\n\t}\r\n\r\n\tfunction getDocumentUriForGroupSearch() {\r\n\t\tfunction mainUri() {\r\n\t\t\tvar uris = store.searchUris();\r\n\t\t\tif (uris.length === 0) {\r\n\t\t\t\treturn null;\r\n\t\t\t}\r\n\r\n\t\t\t// We get the first HTTP URL here on the assumption that group scopes must\r\n\t\t\t// be domains (+paths)? and therefore we need to look up groups based on\r\n\t\t\t// HTTP URLs (so eg. we cannot use a \"file:\" URL or PDF fingerprint).\r\n\t\t\treturn uris.find(uri => uri.startsWith('http'));\r\n\t\t}\r\n\t\treturn awaitStateChange(store, mainUri);\r\n\t}\r\n\r\n\r\n\tfunction hasGroup(gs, id) {\r\n\t\tvar status = null;\r\n\t\tif (gs && gs.length > 0) {\r\n\t\t\tfor (var i = 0; i < gs.length; i++) {\r\n\t\t\t\tif (gs[i].id == id) {\r\n\t\t\t\t\tstatus = gs[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn status;\r\n\t}\r\n\r\n    function getValidGroup(gs) {\r\n\t\tvar status = null;\r\n\t\tif (gs && gs.length > 0) {\r\n\t\t\tfor (var i = 0; i < gs.length; i++) {\r\n\t\t\t\tif (isSelectable(gs[i])) {\r\n\t\t\t\t\tstatus = gs[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn status;\r\n\t}\r\n\r\n\t/**\r\n\t * Fetch the list of applicable groups from the API.\r\n\t *\r\n\t * The list of applicable groups depends on the current userid and the URI of\r\n\t * the attached frames.\r\n\t */\r\n\tfunction load(groupId) {\r\n\t\tvar uri = Promise.resolve(null);\r\n\t\tvar params = {\r\n\t\t\t\texpand: 'organization',\r\n\t\t};\r\n\t\tif (isSidebar) {\r\n\t\t\turi = getDocumentUriForGroupSearch();\r\n\t\t}\r\n\t\treturn uri.then(uri => {\r\n\t\t\t\r\n\t\t\tif (authority) {\r\n\t\t\t\tparams.authority = authority;\r\n\t\t\t}\r\n\t\t\tif (uri) {\r\n\t\t\t\tparams.document_uri = uri;\r\n\t\t\t}\r\n\r\n\t\t\tif (settings.group) {\r\n\t\t\t\tparams.tsId = settings.group;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\tif(settings.client) {\r\n\t\t\t\tparams.tsClientId = settings.client;\r\n\t\t\t}*/\r\n            var usrstate = Promise.resolve(null);\r\n\t\t\tif (store.profile() && store.profile().userid && !store.profile().isPublic) {\r\n\t\t\t\tusrstate = getGroupState();\r\n\t\t\t\t//console.log(\"from getGroupState\");\r\n\t\t\t} else {\r\n\t\t\t\t//console.log(\"Not from getGroupState\");\r\n\t\t\t}\r\n\t\t\treturn usrstate;\r\n\t\t\t\r\n\t\t}).then(us => {\r\n\t\t\tuserUIState = us;\r\n\t\t\treturn api.groups.list(params);\r\n\t\t}).then(gs => {\r\n\t\t\treturn loadAllGroups(gs,groupId);\r\n\t\t});\r\n\t}\r\n\r\n    function loadAllGroups(gs,groupId) {\r\n\t\t\tvar prevFocusedGroup,validGroup,defaultGroup,openGroupdropDown = false;\r\n\t\t\tvar isFirstLoad = store.allGroups().length === 0;\r\n\t\t\tif(gs && gs.length == 0) {\r\n\t\t\t\treturn;\r\n\t\t\t} \r\n\t\t\tstore.loadGroups(gs);\r\n\t\t\t\t\r\n\t\t\tif(userUIState && userUIState.stateKey == kyes.GROUPS_UI_KEY) {\r\n\t\t\t\tprevFocusedGroup = userUIState.stateValue;\r\n\t\t\t\t//console.log(\"from getGroupState groupId \"+ prevFocusedGroup);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (groupId) {\r\n\t\t\t\tprevFocusedGroup = groupId;\r\n\t\t\t} else if (settings.group) {\r\n\t\t\t\tprevFocusedGroup = settings.group;\r\n\t\t\t} else if (gs && gs.length > 0) {\r\n\t\t\t\tvar groupSortedByCount = $filter('orderBy')(gs, '-annotationCount');\r\n\t\t\t\tdefaultGroup = getValidGroup(groupSortedByCount);\r\n\t\t\t\tif(prevFocusedGroup == null || prevFocusedGroup == \"null\") {\r\n\t\t\t\t\tvalidGroup = defaultGroup;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar groupWithCount = $filter('filter')(groupSortedByCount, function(item) {\r\n\t\t\t\t\t\treturn item.annotationCount > 0;\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\tif (groupWithCount.length > 0) {\r\n\t\t\t\t\t\tvar currentGroupWithCount = $filter('filter')(groupWithCount, { 'id': prevFocusedGroup });\r\n\t\t\t\t\t\tif (currentGroupWithCount.length > 0) {\r\n\t\t\t\t\t\t\tvalidGroup = getValidGroup(currentGroupWithCount);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tvalidGroup = getValidGroup(groupWithCount);\r\n\t\t\t\t\t\t\topenGroupdropDown = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar currentGroupWithWebDoc = $filter('filter')(groupSortedByCount, function(item) {\r\n\t\t\t\t\t\t\treturn item.objId ? item.objId : null;\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t\t\tif (currentGroupWithWebDoc.length > 0) {\r\n\t\t\t\t\t\t\tvalidGroup = getValidGroup(currentGroupWithWebDoc);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tprevFocusedGroup = validGroup ? validGroup.id : prevFocusedGroup;\r\n\t\t\t\r\n\t\t\tif ((isFirstLoad || groupId) && gs.length > 0) {\r\n\t\t\t\tvar gp = hasGroup(gs, prevFocusedGroup);\r\n\t\t\t\tif (gp && isSelectable(gp)) {\r\n\t\t\t\t\tstore.focusGroup(prevFocusedGroup);\r\n\t\t\t\t\t//console.log(\"focused group id\"+ prevFocusedGroup + \" name \"+gp.name);\r\n\t\t\t\t} else if(defaultGroup) {\r\n\t\t\t\t\tprevFocusedGroup = defaultGroup.id;\r\n\t\t\t\t\tstore.focusGroup(prevFocusedGroup);\r\n\t\t\t\t\t//console.log(\"focused defaultGroup\"+ prevFocusedGroup + \" name \"+defaultGroup.name);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tprevFocusedGroup = null;\r\n\t\t\t\t\tif(groupId || settings.group) {\r\n\t\t\t\t\t\tflash.error('You do not have permission to view this Taskspace. Please select Taskspace.',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(prevFocusedGroup) {\r\n\t\t\t\tlet group =  focused(groupId);\r\n    \t\t    let section = getDocSection(group);\r\n    \t\t    focusSection(groupId,section);\r\n\t\t\t}\r\n\t\t\t//store.loadGroups(gs,prevFocusedGroup);\r\n\t\t\t//console.log(\"focused group \"+ prevFocusedGroup);\r\n\t\t\treturn store.allGroups();\r\n    }\r\n    \r\n\tfunction updateCount(countMap) {\r\n\t\tfor (var key in countMap) {\r\n\t\t\tif (countMap.hasOwnProperty(key)) {\r\n\t\t\t\tstore.updateCount(key, countMap[key]);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tfunction updateGroup(id, count,webResource) {\r\n\t\tstore.updateGroup(id, count,webResource);\r\n\t}\r\n\r\n\tfunction all() {\r\n\t\treturn store.allGroups();\r\n\t}\r\n\r\n\t// Return the full object for the group with the given id.\r\n\tfunction get(id) {\r\n\t\treturn store.getGroup(id);\r\n\t}\r\n\r\n\t/**\r\n\t * Leave the group with the given ID.\r\n\t * Returns a promise which resolves when the action completes.\r\n\t */\r\n\tfunction leave(id) {\r\n\t\t// The groups list will be updated in response to a session state\r\n\t\t// change notification from the server. We could improve the UX here\r\n\t\t// by optimistically updating the session state\r\n\t\treturn api.group.member.delete({\r\n\t\t\tpubid: id,\r\n\t\t\tuser: 'me',\r\n\t\t});\r\n\t}\r\n\r\n\r\n\t/** Return the currently focused group. If no group is explicitly focused we\r\n\t * will check localStorage to see if we have persisted a focused group from\r\n\t * a previous session. Lastly, we fall back to the first group available.\r\n\t */\r\n\tfunction focused() {\r\n\t\tvar gp = store.focusedGroup();\r\n\t\treturn gp;\r\n\t}\r\n\t\r\n\t\r\n\t/** Return the currently focused section in a given group. \r\n\t */\r\n\tfunction getfocusedSection(groupId) {\r\n\t\tvar section = store.getfocusedSection(groupId);\r\n\t\treturn section;\r\n\t}\r\n\r\n\t/** Return the currently focused group id. */\r\n\tfunction focusedId() {\r\n\t\tvar group = focused();\r\n\t\tif (group) {\r\n\t\t\treturn group.id;\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t}\r\n\r\n\tfunction getwebResource() {\r\n\t\tvar group = focused();\r\n\t\tif (group) {\r\n\t\t\treturn group.webresource;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tfunction getPdfbyUrl(group,url) {\r\n\t\tif (!_.isEmpty(group.objects)) {\r\n\t\t\treturn _.find(group.objects, function(doc) { \r\n\t\t\t\treturn doc.sourceUrl  == url && \"OtherDoc\".toUpperCase() == ( doc.docType ? doc.docType.toUpperCase() : null); \r\n\t\t\t});\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t/** Set the group with the passed id as the currently focused group. */\r\n\tfunction focus(id) {\r\n\t\tstore.focusGroup(id);\r\n\t}\r\n\t\r\n\t/** Set the section with the passed groupid as the currently focused section. */\r\n\tfunction focusSection(groupId,section) {\r\n\t\tstore.focusSection(groupId,section);\r\n\t}\r\n\t/** Adds the section to the group with the passed groupid and sets as the currently focused section. */\r\n\tfunction addSection(groupId,section) {\r\n\t\tstore.addSection(groupId,section);\r\n\t\t$rootScope.$broadcast(events.GROUP_UPDATED,groupId);\r\n\t}\r\n\r\n\tfunction getDocMetaInfo() {\r\n\t\treturn docMetaInfo ? Object.assign({}, docMetaInfo) : null;\r\n\t}\r\n\t\r\n\tfunction fetchDocumentInfo() {\r\n\t\treturn frameSync.fetchDocumentInfo();\r\n\t}\r\n\t\r\n\tfunction getMetaDataFromUrl() {\r\n\t\tvar group = focused();\r\n\t\tif (group) {\r\n\t\t\tif (group.webresource) {\r\n\t\t\t\treturn Promise.resolve(group.webresource.metainfo);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn fetchDocumentInfo().then(docMetaInfo => {\r\n\t\t\tvar uri = Promise.resolve(null);\r\n\t\t\turi = getDocumentUriForGroupSearch();\r\n\t\t\treturn uri.then(uri => { \r\n\t\t\t\tif (uri) {\r\n\t\t\t\t\tvar params = {};\r\n\t\t\t\t\tparams.document_uri = uri;\r\n\t\t\t\t\treturn api.group.getMetaData(params).then(metadata => {\r\n\t\t\t\t\t\tif(!_.isEmpty(metadata)) {\r\n\t\t\t\t\t\t\tif(docMetaInfo && docMetaInfo.metadata) {\r\n\t\t\t\t\t\t\t\tdocMetaInfo.metadata.metatags = metadata;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\treturn Promise.resolve(docMetaInfo);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn Promise.resolve(docMetaInfo);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}).catch(function () {\r\n\t\t\t\t      \treturn Promise.resolve(docMetaInfo);\r\n\t\t\t\t    });\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn Promise.resolve(docMetaInfo);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\t// Persist the focused group to storage when it changes.\r\n\tvar prevFocusedId = store.focusedGroupId();\r\n\tstore.subscribe(() => {\r\n\t\tvar focusedId = store.focusedGroupId();\r\n\t\tvar group = focused();\r\n\t\tvar profile = store.profile();\r\n\t\tif (focusedId !== prevFocusedId) {\r\n\t\t\tprevFocusedId = focusedId;\r\n\t\t\tif(profile && profile.userid && !profile.isPublic) {\r\n\t\t\t\tif(userUIState && userUIState.stateValue) {\r\n\t\t\t\t\tif(userUIState.stateValue != focusedId) {\r\n\t\t\t\t\t\tuserUIState.groupId = focusedId;\r\n\t\t\t\t\t\tsaveGroupState(userUIState);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tsaveGroupState({groupId:focusedId});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tlocalStorage.setItem(STORAGE_KEY, focusedId);\r\n\r\n\t\t\t// Emit the `GROUP_FOCUSED` event for code that still relies on it.\r\n\t\t\t$rootScope.$broadcast(events.GROUP_FOCUSED, focusedId);\r\n\t\t}\r\n\t\tvar preferences;\r\n\t\tif (profile && profile.preferences) {\r\n\t\t\tpreferences = store.profile().preferences;\r\n\t\t}\r\n\t\tframeSync.setGroup(group, preferences);\r\n\t});\r\n\r\n\t// reset the focused group if the user leaves it\r\n\t$rootScope.$on(events.GROUPS_CHANGED, function() {\r\n\t\t// return for use in test\r\n\t\treturn load();\r\n\t});\r\n\r\n\t// refetch the list of groups when user changes\r\n\t$rootScope.$on(events.USER_CHANGED, (event, msg) => {\r\n\t\t// FIXME Makes a second api call on page load. better way?\r\n\t\t// return for use in test\r\n\t\tif (msg && msg.profile && msg.profile.userid) {\r\n\t\t\treturn load();\r\n\t\t}\r\n\t\tstore.loadGroups([]);\r\n\t});\r\n\r\n\t// refetch the list of groups when document url changes\r\n\t$rootScope.$on(events.FRAME_CONNECTED, (event, frameInfo) => {\r\n\t\t// FIXME Makes a third api call on page load. better way?\r\n\t\t// return for use in test\r\n\t\tdocMetaInfo = null;\r\n\t\treturn getDocumentUriForGroupSearch().then(uri => {\r\n\t\t\tif (documentUri !== uri) {\r\n\t\t\t\tdocumentUri = uri;\r\n\t\t\t\t//docMetaInfo = frameInfo;\r\n\t\t\t\tload();\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\r\n\tfunction getTsObject(group, objId, objClientId) {\r\n\t\tvar docObj = null;\r\n\t\tif (group && objId && objClientId && group.objects) {\r\n\t\t\tfor (var i = 0; i < group.objects.length; i++) {\r\n\t\t\t\tlet obj = group.objects[i];\r\n\t\t\t\tif (obj.objectId == objId && obj.clientId == objClientId) {\r\n\t\t\t\t\tdocObj = obj;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn docObj;\r\n\t}\r\n\r\n\r\n\r\n\tfunction checkDocuLinkExists(group, tsObj) {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar postdata = {\r\n\t\t\t\"objectType\": \"DigestDocument\",\r\n\t\t\t\"group\": group.id,\r\n\t\t\t\"tsClientId\": group.clientId,\r\n\t\t\t\"documentId\": group.objId,\r\n\t\t\t\"digestDocAnnotId\": (tsObj && tsObj.digestDocAnnotId) ? tsObj.digestDocAnnotId : null\r\n\t\t};\r\n\r\n\t\tapi.link.checkLinkExists({}, postdata).then(function(resp) {\r\n\t\t\tif (resp.status == \"success\") {\r\n\t\t\t\tif (!_.isEmpty(resp.link)) {\r\n\t\t\t\t\tdeferred.resolve(resp.link);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tdeferred.resolve(null);\r\n\t\t}, function() {\r\n\t\t\tdeferred.resolve(null);\r\n\t\t});\r\n\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tfunction removeWebResource(group, actionOnAnnotations) {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar postdata = {\r\n\t\t\t\"id\": group.id,\r\n\t\t\t\"clientId\": group.clientId,\r\n\t\t\t\"objects\": [{\r\n\t\t\t\t\"type\": \"Document\",\r\n\t\t\t\t\"objectId\": group.objId,\r\n\t\t\t\t\"clientId\": group.objClientId\r\n\t\t\t}],\r\n\t\t\t\"actionOnAnnotations\": actionOnAnnotations\r\n\t\t};\r\n\r\n\t\tapi.group.removeWebresource({}, postdata).then(function(resp) {\r\n\t\t\tif (resp.status == \"success\") {\r\n\t\t\t\tdeferred.resolve(true);\r\n\t\t\t}\r\n\t\t\tdeferred.resolve(false);\r\n\t\t}, function() {\r\n\t\t\tdeferred.resolve(false);\r\n\t\t});\r\n\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tfunction deleteWebresource(group) {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar postdata = {};\r\n\t\tpostdata[\"objectList\"] = [{\r\n\t\t\t\"objectType\": \"Document\",\r\n\t\t\t\"objectId\": group.objId,\r\n\t\t\t\"clientId\": group.objClientId,\r\n\t\t}];\r\n\t\tapi.group.deleteWebresource({}, postdata).then(function(resp) {\r\n\t\t\tif (resp.status == \"success\") {\r\n\t\t\t\tdeferred.resolve(true);\r\n\t\t\t}\r\n\t\t\tdeferred.resolve(false);\r\n\t\t}, function() {\r\n\t\t\tdeferred.resolve(false);\r\n\t\t});\r\n\r\n\t\treturn deferred.promise;\r\n\t}\r\n\r\n\tfunction getAnnotationCount(group) {\r\n\t\tvar deferred = $q.defer();\r\n\t\tvar postdata = {\r\n\t\t\tannotationContext: \"taskspace\",\r\n\t\t\tobjId: group.objId,\r\n\t\t\tobjClientId: group.objClientId,\r\n\t\t\ttaskspaceId: group.id,\r\n\t\t\ttsClientId: group.clientId\r\n\t\t};\r\n\t\tapi.annotation.annotationcount({}, postdata).then(function(resp) {\r\n\t\t\tif (resp.status == \"success\") {\r\n\t\t\t\tdeferred.resolve(resp.count);\r\n\t\t\t}\r\n\t\t\tdeferred.resolve(0);\r\n\t\t}, function() {\r\n\t\t\tdeferred.resolve(0);\r\n\t\t});\r\n\r\n\t\treturn deferred.promise;\r\n\t}\r\n\t\r\n\t\r\n\tfunction isReadOnly(group) {\r\n\t\treturn group && group.permissions && group.permissions.readOnly;\r\n\t}\r\n\t\r\n\tfunction isReadAndComment(group) {\r\n\t\treturn group && group.permissions && group.permissions.view && !(group.permissions.owner || group.permissions.edit);\r\n\t}\r\n\t\r\n\tfunction isEditable(group) {\r\n\t\treturn group && group.permissions && (group.permissions.owner || group.permissions.edit);\r\n\t}\r\n\t\r\n    function annotationCount(group) {\r\n\t\treturn group && group.annotationCount || 0;\r\n    }\r\n \r\n    function hasWebResource(group) {\r\n\t\treturn  group  &&  group.webresource ? true : false;\r\n    }\r\n\r\n    function canTag(group) {\r\n\t\treturn isEditable(group) || ( isReadAndComment(group) && hasWebResource(group));\r\n\t}\r\n\r\n    function isSelectable(group) {\r\n\t    if(isEditable(group)) {\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\tif(isReadAndComment(group)) {\r\n\t\t\treturn hasWebResource(group);\r\n\t\t}\r\n\t\tif(isReadOnly(group)) {\r\n\t\t\treturn annotationCount(group) > 0;\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction updateSection(section,documents) {\r\n\t\tif(!section) {\r\n\t\t\tsection = {\r\n\t\t\t\t \"id\": null,\r\n\t\t\t     \"name\": null,\r\n\t\t\t     \"description\": null,\r\n\t\t\t     \"dateAdded\": null,\r\n\t             \"documents\": [],\r\n\t\t\t\t \"collapsed\": false,\r\n\t\t\t};\r\n\t\t} \r\n\t\tif(documents) {\r\n\t\t\tsection.documents = documents;\r\n\t\t}\r\n\t\treturn Object.assign({collapsed: true},section);\r\n\t}\r\n\t\r\n\tfunction transformGroupSections(group) {\r\n\t\tvar sections = [];\r\n\t\tif(group.sections) {\r\n\t\t\tfor(var i = 0; i < group.sections.length; i++) {\r\n\t\t\t\tvar documents = [],section;\r\n\t\t\t\tif(group.objects) {\r\n\t\t\t\t\tdocuments = group.objects.filter(function(document, index, arr) {\r\n\t\t\t\t\t\treturn document.sectionId === group.sections[i].id;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t\tsection = updateSection(group.sections[i],documents);\r\n\t\t\t\tsections.push(section);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(group.objects) {\r\n\t\t\t\tvar documents = group.objects.filter(function(document, index, arr) {\r\n\t\t\t\t\treturn document.sectionId == null;\r\n\t\t\t\t});\r\n\t\t\t\tif(documents && documents.length > 0) {\r\n\t\t\t\t\tvar section = updateSection(null,documents);\r\n\t\t\t\t\tsections.push(section);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tgroup.sections = sections; \r\n\t\t} else {\r\n\t\t\tvar section = updateSection(null,[].concat(group.objects || []));\r\n\t\t\tsections.push(section);\r\n\t\t\tgroup.sections = sections;\r\n\t\t}\r\n\t\t\r\n\t\treturn group;\r\n\t}\r\n\t\r\n\tfunction createTaskspace(tsSearchTxt) {\r\n\t\t  if(createmodalInstance) {\r\n\t\t\tcreatemodalInstance.dismiss(\"cancel\");\r\n\t\t\tcreatemodalInstance = null;\r\n\t\t  }\r\n\r\n\t      createmodalInstance = $modal.open({\r\n\t\t\t\t  animation: true,\r\n\t\t\t\t  template: require('../templates/create-taskspace.html'),\r\n\t\t\t\t  controller: 'CreateTaskspaceModalController',\r\n\t\t\t\t  controllerAs: 'vm',\r\n\t\t\t\t  backdrop: 'static',\r\n\t\t\t\t  size : 'lg',\r\n\t\t          resolve: {\r\n\t\t\t\t\ttsnamesuggestion: function() {\r\n\t\t\t\t\t\treturn tsSearchTxt;\r\n\t\t\t\t\t}\r\n\t\t\t\t  }\r\n\t\t  });\r\n\t\t  return createmodalInstance.result;\r\n\t};\r\n\t\r\n\tfunction getDocSection(group) {\r\n\t\tlet object, section;\r\n\t\tif(group && group.sections && group.webresource) {\r\n\t\t\tif(group.webresource.sectionId) {\r\n\t\t\t\tsection = getSection(group,group.webresource.sectionId);\r\n\t\t\t    return section || null;\r\n\t\t\t}\r\n\t\t\tif(group.objects) {\r\n\t\t\t\tobject = group.objects.find(function(obj) {\r\n\t\t\t\t\treturn obj.objectId == group.webresource.objectId;\r\n\t\t\t\t});\r\n\t\t\t\tif (object) {\r\n\t\t\t\t\tsection = getSection(group,object.sectionId);\r\n\t\t\t\t}\r\n\t\t\t    return section || null;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\tfunction getSection(group,sectionId) {\r\n\t\tlet section;\r\n\t\tif (group && group.sections) {\r\n\t\t\tsection = group.sections.find(function(sect) {\r\n\t\t\t\treturn sectionId == sect.id;\r\n\t\t\t});\r\n\t\t\treturn section || null;\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n\t\r\n\t function savefocusSection(group,section) {\r\n\t\tlet postdata = Object.assign({},{\r\n\t\t\tid: group.id,\r\n\t\t\tsectionId: section ? section.id : null,\r\n\t\t\tclientId: group.clientId\r\n\t\t});\r\n\t\treturn api.group.focusSection({},postdata).then(function(resp) {\r\n\t\t\t\r\n\t\t});\r\n    }\r\n\r\n    function getTaskspace(tsId,tsClientId) {\r\n\t\tvar uri = Promise.resolve(null);\r\n\t\tvar params = {\r\n\t\t\t\texpand: 'organization',\r\n\t\t};\r\n\t\tif (isSidebar) {\r\n\t\t\turi = getDocumentUriForGroupSearch();\r\n\t\t}\r\n\t\treturn uri.then(uri => {\r\n\t\t\tif (tsId) {\r\n\t\t\t\tparams.tsId = tsId;\r\n\t\t\t}\r\n\t\t\tif (uri) {\r\n\t\t\t\tparams.document_uri = uri;\r\n\t\t\t}\r\n\t\t\tif (tsClientId) {\r\n\t\t\t\tparams.tsClientId = tsClientId;\r\n\t\t\t}\r\n\t\t\treturn api.group.getTaskspace(params);\r\n\t\t}).then(gs => {\r\n\t\t\treturn gs;\r\n\t\t});\r\n    }\r\n\t\r\n\treturn {\r\n\t\tall: all,\r\n\t\tget: get,\r\n\t\topenGroupdropDown: openGroupdropDown,\r\n\r\n\t\tleave: leave,\r\n\t\tload: load,\r\n\t\tupdateCount: updateCount,\r\n\t\tupdateGroup: updateGroup,\r\n\r\n\t\tfocused: focused,\r\n\t\tgetfocusedSection: getfocusedSection,\r\n\t\tfocusedId: focusedId,\r\n\t\tgetwebResource: getwebResource,\r\n\t\tgetPdfbyUrl: getPdfbyUrl,\r\n\t\tfocus: focus,\r\n\t\tfocusSection: focusSection,\r\n\t\taddSection: addSection,\r\n\t\tgetDocMetaInfo: getDocMetaInfo,\r\n\t\tfetchDocumentInfo: fetchDocumentInfo,\r\n\t\tgetMetaDataFromUrl: getMetaDataFromUrl,\r\n\t\tgetTsObject: getTsObject,\r\n\t\tcheckDocuLinkExists: checkDocuLinkExists,\r\n\t\tremoveWebResource: removeWebResource,\r\n\t\tdeleteWebresource: deleteWebresource,\r\n\t\tgetAnnotationCount: getAnnotationCount,\r\n\t\t\r\n\t\tisReadOnly: isReadOnly,\r\n\t\tannotationCount : annotationCount,\r\n\t\tisSelectable : isSelectable,\r\n\t\tcanTag : canTag,\r\n\t\tisEditable: isEditable,\r\n\t\ttransformGroupSections: transformGroupSections,\r\n\t\t\r\n\t\tcreateTaskspace: createTaskspace,\r\n\t\tgetDocSection: getDocSection,\r\n\t\tgetSection: getSection,\r\n\t\tsavefocusSection: savefocusSection,\r\n\t\tgetTaskspace: getTaskspace,\r\n\t\tloadAllGroups: loadAllGroups,\r\n\t};\r\n}\r\n\r\nmodule.exports = groups;\r\n",
    "'use strict';\r\n\r\nvar juice = require('juice/client');\r\nvar jsrender = require('jsrender')();\r\n//var absolutify = require('../absolutify');\r\nvar clipperTemplate = require('../templates/clipper-template.html');\r\n//@ngInject\r\nfunction juicify() {\r\n  this.inlineCss = function(data,css) {\r\n\t  var tmpl = jsrender.templates(clipperTemplate);\r\n\t  var html = tmpl.render(data); \r\n\t // html = absolutify(html,data.origin);\r\n\t  return juice(html,{extraCss : css || ''});\r\n  }\r\n}\r\n\r\nmodule.exports = juicify;\r\n",
    "'use strict';\n\n/**\n * Fallback in-memory store if `localStorage` is not read/writable.\n */\nclass InMemoryStorage {\n  constructor() {\n    this._store = {};\n  }\n\n  getItem(key) {\n    return (key in this._store) ? this._store[key] : null;\n  }\n\n  setItem(key, value) {\n    this._store[key] = value;\n  }\n\n  removeItem(key) {\n    delete this._store[key];\n  }\n}\n\n/**\n * A wrapper around the `localStorage` API which provides a fallback to\n * in-memory storage in browsers that block access to `window.localStorage`.\n * in third-party iframes.\n */\n// @ngInject\nfunction localStorage($window) {\n  let storage;\n  let testKey = 'hypothesis.testKey';\n\n  try {\n    // Test whether we can read/write localStorage.\n    storage = $window.localStorage;\n    $window.localStorage.setItem(testKey, testKey);\n    $window.localStorage.getItem(testKey);\n    $window.localStorage.removeItem(testKey);\n  } catch (e) {\n    storage = new InMemoryStorage();\n  }\n\n  return {\n    getItem(key) {\n      return storage.getItem(key);\n    },\n\n    getObject(key) {\n      var item = storage.getItem(key);\n      return item ? JSON.parse(item) : null;\n    },\n\n    setItem(key, value) {\n      storage.setItem(key, value);\n    },\n\n    setObject(key, value) {\n      var repr = JSON.stringify(value);\n      storage.setItem(key, repr);\n    },\n\n    removeItem(key) {\n      storage.removeItem(key);\n    },\n  };\n}\n\nmodule.exports = localStorage;\n",
    "'use strict';\r\n\r\n// @ngInject\r\nfunction maintenanceScheduler(api) {\r\n  var allowedUsers = [\"VDVCSiteAdmin\",\"VDVCAdmin\"];\r\n  function escapeRegExp(string){\r\n    return string.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\r\n  }\r\n \r\n  function replaceAll(str, term, replacement) {\r\n  \treturn str.replace(new RegExp(escapeRegExp(term), 'g'), replacement);\r\n  }\r\n  \r\n  function getNewLogoutDurationMillis(maintenanceSchedule) {\r\n\t\tvar newLogoutDurationMillis = 0;\r\n\t\tvar shutdownStartedAt = new Date(maintenanceSchedule.shutdownStartedAt);\r\n\t\tvar shutdownStartedTime;\r\n\t\tif(shutdownStartedAt) {\r\n\t\t\tshutdownStartedTime = shutdownStartedAt.getTime();\r\n\t\t}\r\n\t\tvar currentTime = new Date().getTime();\r\n\t\tvar logoutDurationMillis = (maintenanceSchedule.shutdownDuration*60*1000);\r\n\t\tnewLogoutDurationMillis = logoutDurationMillis - (currentTime - shutdownStartedTime);\r\n\t\treturn newLogoutDurationMillis;\r\n\t}\r\n\r\n  function getMaintenanceNtfMsg(maintenanceSchedule) {\r\n\t\tvar scheduleMessage = maintenanceSchedule.notificationMessage;\r\n\t\tscheduleMessage = replaceAll(scheduleMessage, '\\n', \"<br>\");\r\n\t\tvar startDate = new Date(maintenanceSchedule.scheduleStart);\r\n\t\tscheduleMessage = replaceAll(scheduleMessage, '${start}', \"<b>\"+startDate.toString()+\"</b>\");\r\n\t\tscheduleMessage = replaceAll(scheduleMessage, '${duration}', \"<b>\"+maintenanceSchedule.duration+\"mins</b>\");\r\n\t\tvar endTimeStamp = maintenanceSchedule.scheduleStart+(maintenanceSchedule.duration*60*1000);\r\n\t\tvar endTime = new Date(endTimeStamp);\r\n\t\tscheduleMessage = replaceAll(scheduleMessage, '${end}', \"<b>\"+endTime.toString()+\"</b>\");\r\n\t\treturn scheduleMessage;\r\n\t}\r\n\t\r\n\tfunction getShutdownNtfMsg(maintenanceSchedule) {\r\n\t\tvar scheduleShutdownMessage = maintenanceSchedule.shutdownMessage;\r\n\t\tscheduleShutdownMessage = replaceAll(scheduleShutdownMessage, '\\n', \"<br>\");\r\n\t\tvar endTimeStamp = maintenanceSchedule.scheduleStart+(maintenanceSchedule.duration*60*1000);\r\n\t\tvar endTime = new Date(endTimeStamp);\r\n\t\tscheduleShutdownMessage = replaceAll(scheduleShutdownMessage, '${end}', \"<b>\"+endTime.toString()+\"</b>\");\r\n\t\treturn scheduleShutdownMessage;\r\n\t}\r\n\t \r\n\tfunction getInitiatedShutdownNtfMsg(maintenanceSchedule,newLogoutDurationMillis) {\r\n\t\tvar initiatedShutdownMessage = \"Scheduled maintenance will start at ${start}.<br>Please save all your changes and logout.<br>You will be automatically logged out in ${countdown}<b> - <schedule-timer interval='1000' autostart='false' countdown=\"+(newLogoutDurationMillis/1000)+\">{{hhours}}:{{mminutes}}:{{sseconds}}</schedule-timer></b>\";\r\n\t\tvar shutdownStartedAt = new Date(maintenanceSchedule.shutdownStartedAt+(maintenanceSchedule.shutdownDuration*60*1000));\r\n\t\tvar startTimeHours = shutdownStartedAt.getHours();\r\n\t\tvar startTimeMins = shutdownStartedAt.getMinutes();\r\n\t\tvar startTime = startTimeHours +\":\"+ startTimeMins;\r\n\t\tinitiatedShutdownMessage = replaceAll(initiatedShutdownMessage, '${start}', \"<b>\"+startTime+\"</b>\");\r\n\t\tinitiatedShutdownMessage = replaceAll(initiatedShutdownMessage, '${countdown}', \"<b>\"+maintenanceSchedule.shutdownDuration+\"mins</b>\");\r\n\t\treturn initiatedShutdownMessage;\r\n\t}\r\n    \r\n    function isUserRoleAllowed(UserRole) {\r\n\t\tvar allowedUserRoles = angular.copy(allowedUsers);\r\n\t    var upperCaseRoles = allowedUserRoles.map(function(value) {\r\n\t      return value.toUpperCase();\r\n\t    });\r\n\t    var pos = upperCaseRoles.indexOf(UserRole.toUpperCase());\r\n\t    var status = false;\r\n\t    if(pos !== -1) {\r\n\t    \tstatus = true;\r\n\t    }\r\n\t    return status;\r\n\t}\r\n\r\n  function getScheduleById(id) {\r\n\treturn api.schedule.get({\"id\": id});\r\n  }\r\n\r\n  return {\r\n\tgetNewLogoutDurationMillis: getNewLogoutDurationMillis,\r\n    getMaintenanceNtfMsg: getMaintenanceNtfMsg,\r\n    getShutdownNtfMsg: getShutdownNtfMsg,\r\n    getInitiatedShutdownNtfMsg: getInitiatedShutdownNtfMsg,\r\n    isUserRoleAllowed: isUserRoleAllowed,\r\n    getScheduleById: getScheduleById\r\n  };\r\n}\r\n\r\nmodule.exports = maintenanceScheduler;\r\n",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction MoveConfirmation($modal) {\r\n\t\r\n\tvar modalOptions = {\r\n\t\tselectedGroup: {},\r\n\t\tcancel: 'Cancel',\r\n\t\tok: 'Submit',\r\n\t\theaderText: 'Are you sure you want to move the Document ?'\r\n\t};\r\n\tthis.modalInstance = null;\r\n\tthis.confirm = function (confirmdata) {\r\n\t\t  if(this.modalInstance) {\r\n\t\t\tthis.modalInstance.dismiss(\"cancel\");\r\n\t\t\tthis.modalInstance = null;\r\n\t\t  }\r\n\r\n\t      this.modalInstance = $modal.open({\r\n\t\t\t\t  animation: true,\r\n\t\t\t\t  template: require('../templates/move-confirmation.html'),\r\n\t\t\t\t  controller: 'MoveDocConfirmModal',\r\n\t\t\t\t  controllerAs: 'vm',\r\n\t\t\t\t  backdrop: 'static',\r\n\t\t\t\t  size : 'lg',\r\n\t\t\t\t  resolve: {\r\n\t\t\t\t\t  confirmdata :function() {\r\n\t\t\t\t\t\t  return confirmdata;\r\n\t\t\t\t\t  },\r\n\t\t\t          modalOptions: function() {\r\n\t\t\t\t\t  \t  return modalOptions;\r\n\t\t\t\t\t  }\r\n\t\t\t\t  }\r\n\t\t\t});\r\n\t\t\treturn this.modalInstance.result;\r\n\t};\r\n}\r\n\r\nmodule.exports = MoveConfirmation;",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction MoveWebResource($modal, groups, flash, api) {\r\n\tvar self = this;\r\n\tthis.modalInstance = null;\r\n\r\n\tthis.moveDocument = function(fromGroup, auth) {\r\n\t\tvar modalOptions = {\r\n\t\t\tfromGroup: fromGroup,\r\n\t\t\tauth: auth\r\n\t\t};\r\n\r\n\t\tlet modal = self.move(modalOptions);\r\n\t\tmodal.then(function(postdata) {\r\n\t\t\tlet move = null;\r\n\t\t\tif (postdata.fromTaskspaceId == postdata.toTaskspaceId) {\r\n\t\t\t\tmove = moveToTaskspaceSection(postdata);\r\n\t\t\t}\r\n\r\n\t\t\tif (postdata.fromTaskspaceId != postdata.toTaskspaceId) {\r\n\t\t\t\tmove = moveToTaskspace(postdata);\r\n\t\t\t}\r\n\r\n\t\t\tif (move) {\r\n\t\t\t\tmove.then(function(resp) {\r\n\t\t\t\t\tgroups.load(postdata.toTaskspaceId || postdata.taskspaceId);\r\n\t\t\t\t}).catch(function(err) {\r\n\t\t\t\t\tflash.error(err.message, 'Move web resource document failed', { extendedTimeOut: 0, tapToDismiss: false, timeOut: 0, closeButton: true, });\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}, function() { });\r\n\t};\r\n\r\n\r\n\tfunction moveToTaskspace(postdata) {\r\n\t\treturn api.group.moveObject({}, postdata);\r\n\t}\r\n\r\n    function updateforMove2section(postdata) {\r\n\t\treturn Object.assign({}, {\r\n\t\t\tdocumentId: postdata.webresourceId,\r\n\t\t\ttaskspaceId: postdata.fromTaskspaceId,\r\n\t\t\tclientId: postdata.fromClientId,\r\n\t\t\tsectionId: postdata.toSectionId,\r\n\t\t});\r\n\t}\r\n\r\n\tfunction moveToTaskspaceSection(postdata) {\r\n\t\tpostdata = updateforMove2section(postdata);\r\n\t\treturn api.group.move2section({}, postdata);\r\n\t}\r\n\r\n\tthis.move = function(data) {\r\n\t\tif (this.modalInstance) {\r\n\t\t\tthis.modalInstance.dismiss(\"cancel\");\r\n\t\t\tthis.modalInstance = null;\r\n\t\t}\r\n\r\n\t\tthis.modalInstance = $modal.open({\r\n\t\t\tanimation: true,\r\n\t\t\ttemplate: require('../templates/move-to-taskspace.html'),\r\n\t\t\tcontroller: 'MoveToTaskspaceModal',\r\n\t\t\tcontrollerAs: 'vm',\r\n\t\t\tbackdrop: 'static',\r\n\t\t\tsize: 'lg',\r\n\t\t\tresolve: {\r\n\t\t\t\tmoveData: function() {\r\n\t\t\t\t\treturn data;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn this.modalInstance.result;\r\n\t};\r\n\r\n}\r\n\r\nmodule.exports = MoveWebResource;",
    "'use strict';\n\nvar events = require('../events');\nvar resolve = require('../util/url-util').resolve;\nvar serviceConfig = require('../service-config');\n\n/**\n * @typedef RefreshOptions\n * @property {boolean} persist - True if access tokens should be persisted for\n *   use in future sessions.\n */\n\n/**\n * Authorization service.\n *\n * This service is responsible for acquiring access tokens for making API\n * requests and making them available via the `tokenGetter()` method.\n *\n * Access tokens are acquired via the OAuth authorization flow, loading valid\n * tokens from a previous session or, on some websites, by exchanging a grant\n * token provided by the host page.\n *\n * Interaction with OAuth endpoints in the annotation service is delegated to\n * the `OAuthClient` class.\n */\n// @ngInject\nfunction auth($http, $rootScope, $window, OAuthClient,\n              apiRoutes, flash, localStorage, settings,extCommunicator) {\n\n  /**\n   * Authorization code from auth popup window.\n   * @type {string}\n   */\n  var authCode;\n\n  /**\n   * Token info retrieved via `POST /api/token` endpoint.\n   *\n   * Resolves to `null` if the user is not logged in.\n   *\n   * @type {Promise<TokenInfo|null>}\n   */\n  var tokenInfoPromise;\n\n  /** @type {OAuthClient} */\n  var client;\n\n  /**\n   * Absolute URL of the `/api/token` endpoint.\n   */\n  var tokenUrl = resolve('token', settings.apiUrl);\n\n  /**\n   * Show an error message telling the user that the access token has expired.\n   */\n  function showAccessTokenExpiredErrorMessage(message) {\n    flash.error(\n      message,\n      'Numici login lost',\n      {\n        extendedTimeOut: 0,\n        tapToDismiss: false,\n        timeOut: 0,\n      }\n    );\n  }\n\n  /**\n   * Return the storage key used for storing access/refresh token data for a given\n   * annotation service.\n   */\n  function storageKey() {\n    // Use a unique key per annotation service. Currently OAuth tokens are only\n    // persisted for the default annotation service. If in future we support\n    // logging into other services from the client, this function will need to\n    // take the API URL as an argument.\n    var apiDomain = new URL(settings.apiUrl).hostname;\n\n    // Percent-encode periods to avoid conflict with section delimeters.\n    apiDomain = apiDomain.replace(/\\./g, '%2E');\n\n    return `hypothesis.oauth.${apiDomain}.token`;\n  }\n\n  /**\n   * Fetch the last-saved access/refresh tokens for `authority` from local\n   * storage.\n   */\n  function loadToken() {\n    /* var token = localStorage.getObject(storageKey());\n\n    if (!token ||\n        typeof token.accessToken !== 'string' ||\n        typeof token.refreshToken !== 'string' ||\n        typeof token.expiresAt !== 'number') {\n      return null;\n    }\n\n    return {\n      accessToken: token.accessToken,\n      refreshToken: token.refreshToken,\n      expiresAt: token.expiresAt,\n    };*/\n\n     var req = {\n        action: \"token\",\n     };\n\n     return extCommunicator.sendmessage(req);\n  }\n\n  /**\n   * Persist access & refresh tokens for future use.\n   */\n  function saveToken(token) {\n    localStorage.setObject(storageKey(), token);\n  }\n\n  /**\n   * Exchange the refresh token for a new access token and refresh token pair.\n   *\n   * @param {string} refreshToken\n   * @param {RefreshOptions} options\n   * @return {Promise<TokenInfo>} Promise for the new access token\n   */\n  function refreshAccessToken(refreshToken, options) {\n    return oauthClient().then(client =>\n      client.refreshToken(refreshToken)\n    ).then(tokenInfo => {\n      if (options.persist) {\n        saveToken(tokenInfo);\n      }\n      return tokenInfo;\n    });\n  }\n\n  /**\n   * Listen for updated access & refresh tokens saved by other instances of the\n   * client.\n   */\n  function listenForTokenStorageEvents() {\n    $window.addEventListener('storage', (event) => {\n     /* if (event.key === storageKey()) {\n        // Reset cached token information. Tokens will be reloaded from storage\n        // on the next call to `tokenGetter()`.\n        tokenInfoPromise = null;\n        $rootScope.$broadcast(events.OAUTH_TOKENS_CHANGED);\n      }*/\n      \n      if (event.key === \"HTML_OBJ_ANNOTATIONS\") {\n    \t  $rootScope.$broadcast(\"HTML_OBJ_ANNOTATIONS\",event.newValue);\n      }\n      \n    });\n  }\n\n function listenForTokenMessages() {\n\ttry{\n        const port = extCommunicator.getPort();\n\t\tif(port) {\n\t\t\tport.onMessage.addListener(function(request) {\n\t\t\t  if(request.type == \"token\") {\n\t\t\t\t  if (request.action == \"add\") {\n\t\t\t\t\tsaveToken(request.token);\n\t\t\t\t  }\n\t\t\t\t  if (request.action == \"remove\") {\n\t\t\t\t\tlocalStorage.removeItem(storageKey());\n\t\t\t\t  }\n\t\t\t\t  tokenInfoPromise = null;\n\t        \t  $rootScope.$broadcast(events.OAUTH_TOKENS_CHANGED);\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t} catch(e) {\n\t\t\n\t}\n\t\n }\n\n\n  function oauthClient() {\n    if (client) {\n      return Promise.resolve(client);\n    }\n    return apiRoutes.links().then(links => {\n      client = new OAuthClient($http, {\n        clientId: settings.oauthClientId,\n        authorizationEndpoint: links['oauth.authorize'],\n        revokeEndpoint: links['oauth.revoke'],\n        tokenEndpoint: tokenUrl,\n      });\n      return client;\n    });\n  }\n\n  /**\n   * Retrieve an access token for the API.\n   *\n   * @return {Promise<string>} The API access token.\n   */\n  function tokenGetter() {\n    if (!tokenInfoPromise) {\n      var cfg = serviceConfig(settings);\n\n      // Check if automatic login is being used, indicated by the presence of\n      // the 'grantToken' property in the service configuration.\n      if (cfg && typeof cfg.grantToken !== 'undefined') {\n        if (cfg.grantToken) {\n          // User is logged-in on the publisher's website.\n          // Exchange the grant token for a new access token.\n          tokenInfoPromise = oauthClient().then(client =>\n            client.exchangeGrantToken(cfg.grantToken)\n          ).catch(err => {\n            showAccessTokenExpiredErrorMessage(\n              'You must reload the page to annotate.');\n            throw err;\n          });\n        } else {\n          // User is anonymous on the publisher's website.\n          tokenInfoPromise = Promise.resolve(null);\n        }\n      } else if (authCode) {\n        // Exchange authorization code retrieved from login popup for a new\n        // access token.\n        var code = authCode;\n        authCode = null; // Auth codes can only be used once.\n        tokenInfoPromise = oauthClient().then(client =>\n          client.exchangeAuthCode(code)\n        ).then(tokenInfo => {\n          saveToken(tokenInfo);\n          return tokenInfo;\n        });\n      } else {\n         // Attempt to load the tokens from the previous session.\n        // tokenInfoPromise = Promise.resolve(loadToken());\n       \n        tokenInfoPromise = loadToken();\n      }\n    }\n\n    var origToken = tokenInfoPromise;\n\n    return tokenInfoPromise.then(token => {\n      if (!token) {\n        // No token available. User will need to log in.\n        return null;\n      }\n\n      if (origToken !== tokenInfoPromise) {\n        // A token refresh has been initiated via a call to `refreshAccessToken`\n        // below since `tokenGetter()` was called.\n        return tokenGetter();\n      }\n\n      if (Date.now() > token.expiresAt) {\n        var shouldPersist = true;\n\n        // If we are using automatic login via a grant token, do not persist the\n        // initial access token or refreshed tokens.\n        var cfg = serviceConfig(settings);\n        if (cfg && typeof cfg.grantToken !== 'undefined') {\n          shouldPersist = false;\n        }\n\n        // Token expired. Attempt to refresh.\n        tokenInfoPromise = refreshAccessToken(token.refreshToken, {\n          persist: shouldPersist,\n        }).then(token => {\n          // Sanity check that prevents an infinite loop. Mostly useful in\n          // tests.\n          if (Date.now() > token.expiresAt) {\n            throw new Error('Refreshed token expired in the past');\n          }\n          return token;\n        }).catch(() => {\n          // If refreshing the token fails, the user is simply logged out.\n          return null;\n        });\n\n        return tokenGetter();\n      } else {\n        return token.accessToken;\n      }\n    });\n  }\n\n  /**\n   * Login to the annotation service using OAuth.\n   *\n   * This displays a popup window which allows the user to login to the service\n   * (if necessary) and then responds with an auth code which the client can\n   * then exchange for access and refresh tokens.\n   */\n  function login() {\n /*   var authWindow = OAuthClient.openAuthPopupWindow($window);\n    return oauthClient().then(client => {\n      return client.authorize($window, authWindow);\n    }).then(code => {\n      // Save the auth code. It will be exchanged for an access token when the\n      // next API request is made.\n      authCode = code;\n      tokenInfoPromise = null;\n    });*/\n\n    var req = {\n        action: \"login\",\n    };\n\n    return extCommunicator.sendmessage(req);\n  }\n\n  /**\n   * Log out of the service (in the client only).\n   *\n   * This revokes and then forgets any OAuth credentials that the user has.\n   */\n  function logout() {\n    /*return Promise.all([tokenInfoPromise, oauthClient()])\n      .then(([token, client]) => {\n        return client.revokeToken(token.accessToken);\n      }).then(() => {\n        tokenInfoPromise = Promise.resolve(null);\n        localStorage.removeItem(storageKey());\n      });*/\n\n    var req = {\n        action: \"logout\",\n    };\n\n    return extCommunicator.sendmessage(req);\n  }\n\n  listenForTokenStorageEvents();\n  listenForTokenMessages();\n\n  return {\n    login,\n    logout,\n    tokenGetter,\n  };\n}\n\nmodule.exports = auth;\n",
    "'use strict';\n\nvar STORAGE_KEY = 'hypothesis.privacy';\n\n/**\n * Object defining which principals can read, update and delete an annotation.\n *\n * This is the same as the `permissions` field retrieved on an annotation via\n * the API.\n *\n * Principals are strings of the form `type:id` where `type` is `'acct'` (for a\n * specific user) or `'group'` (for a group).\n *\n * @typedef Permissions\n * @property {string[]} read - List of principals that can read the annotation\n * @property {string[]} update - List of principals that can edit the annotation\n * @property {string[]} delete - List of principals that can delete the\n * annotation\n */\n\n/**\n * A service for generating and querying `Permissions` objects for annotations.\n *\n * It also provides methods to save and restore permissions preferences for new\n * annotations to local storage.\n */\n// @ngInject\nfunction Permissions(localStorage) {\n  var self = this;\n\n  function defaultLevel() {\n    var savedLevel = localStorage.getItem(STORAGE_KEY);\n    switch (savedLevel) {\n    case 'private':\n    case 'shared':\n      return savedLevel;\n    default:\n      return 'shared';\n    }\n  }\n\n  /**\n   * Return the permissions for a private annotation.\n   *\n   * A private annotation is one which is readable only by its author.\n   *\n   * @param {string} userid - User ID of the author\n   * @return {Permissions}\n   */\n  this.private = function (userid) {\n    return {\n      read: [userid],\n      update: [userid],\n      delete: [userid],\n    };\n  };\n\n  /**\n   * Return the permissions for an annotation that is shared with the given\n   * group.\n   *\n   * @param {string} userid - User ID of the author\n   * @param {string} groupId - ID of the group the annotation is being\n   * shared with\n   * @return {Permissions}\n   */\n  this.shared = function (userid, groupId) {\n    return Object.assign(self.private(userid), {\n      read: ['group:' + groupId],\n    });\n  };\n\n  /**\n   * Return the default permissions for an annotation in a given group.\n   *\n   * @param {string} userid - User ID of the author\n   * @param {string} groupId - ID of the group the annotation is being shared\n   * with\n   * @return {Permissions}\n   */\n  this.default = function (userid, groupId) {\n    if (defaultLevel() === 'private') {\n      return self.private(userid);\n    } else {\n      return self.shared(userid, groupId);\n    }\n  };\n\n  /**\n   * Set the default permissions for new annotations.\n   *\n   * @param {'private'|'shared'} level\n   */\n  this.setDefault = function (level) {\n    localStorage.setItem(STORAGE_KEY, level);\n  };\n\n  /**\n   * Return true if an annotation with the given permissions is shared with any\n   * group.\n   *\n   * @param {Permissions} perms\n   * @return {boolean}\n   */\n  this.isShared = function (perms) {\n    return perms.read.some(function (principal) {\n      return principal.indexOf('group:') === 0;\n    });\n  };\n\n  /**\n   * Return true if a user can perform the given `action` on an annotation.\n   *\n   * @param {Permissions} perms\n   * @param {'update'|'delete'} action\n   * @param {string} userid\n   * @return {boolean}\n   */\n  this.permits = function (perms, action, userid) {\n    return perms[action].indexOf(userid) !== -1;\n  };\n}\n\nmodule.exports = Permissions;\n",
    "var QueryParser,\n  bind = function(fn, me){ return function(){ return fn.apply(me, arguments); }; };\n\nmodule.exports = QueryParser = (function() {\n  function QueryParser() {\n    this.populateFilter = bind(this.populateFilter, this);\n  }\n\n  QueryParser.prototype.rules = {\n    user: {\n      path: '/user',\n      and_or: 'or'\n    },\n    text: {\n      path: '/text',\n      and_or: 'and'\n    },\n    tag: {\n      path: '/tags',\n      and_or: 'and'\n    },\n    quote: {\n      path: '/quote',\n      and_or: 'and'\n    },\n    uri: {\n      formatter: function(uri) {\n        return uri.toLowerCase();\n      },\n      path: '/uri',\n      and_or: 'or',\n      options: {\n        es: {\n          query_type: 'match',\n          cutoff_frequency: 0.001,\n          and_or: 'and'\n        }\n      }\n    },\n    since: {\n      formatter: function(past) {\n        var seconds;\n        seconds = (function() {\n          switch (past) {\n            case '5 min':\n              return 5 * 60;\n            case '30 min':\n              return 30 * 60;\n            case '1 hour':\n              return 60 * 60;\n            case '12 hours':\n              return 12 * 60 * 60;\n            case '1 day':\n              return 24 * 60 * 60;\n            case '1 week':\n              return 7 * 24 * 60 * 60;\n            case '1 month':\n              return 30 * 24 * 60 * 60;\n            case '1 year':\n              return 365 * 24 * 60 * 60;\n          }\n        })();\n        return new Date(new Date().valueOf() - seconds * 1000);\n      },\n      path: '/created',\n      and_or: 'and',\n      operator: 'ge'\n    },\n    any: {\n      and_or: 'and',\n      path: ['/quote', '/tags', '/text', '/uri', '/user'],\n      options: {\n        es: {\n          query_type: 'multi_match',\n          match_type: 'cross_fields',\n          and_or: 'and',\n          fields: ['quote', 'tags', 'text', 'uri.parts', 'user']\n        }\n      }\n    }\n  };\n\n  QueryParser.prototype.populateFilter = function(filter, query) {\n    var and_or, case_sensitive, category, i, len, mapped_field, oper_part, results, rule, t, term, terms, val, value, value_part;\n    results = [];\n    for (category in query) {\n      value = query[category];\n      if (this.rules[category] == null) {\n        continue;\n      }\n      terms = value.terms;\n      if (!terms.length) {\n        continue;\n      }\n      rule = this.rules[category];\n      case_sensitive = rule.case_sensitive != null ? rule.case_sensitive : false;\n      and_or = rule.and_or != null ? rule.and_or : 'or';\n      mapped_field = rule.path != null ? rule.path : '/' + category;\n      if (and_or === 'or') {\n        oper_part = rule.operator != null ? rule.operator : 'match_of';\n        value_part = [];\n        for (i = 0, len = terms.length; i < len; i++) {\n          term = terms[i];\n          t = rule.formatter ? rule.formatter(term) : term;\n          value_part.push(t);\n        }\n        results.push(filter.addClause(mapped_field, oper_part, value_part, case_sensitive, rule.options));\n      } else {\n        oper_part = rule.operator != null ? rule.operator : 'matches';\n        results.push((function() {\n          var j, len1, results1;\n          results1 = [];\n          for (j = 0, len1 = terms.length; j < len1; j++) {\n            val = terms[j];\n            value_part = rule.formatter ? rule.formatter(val) : val;\n            results1.push(filter.addClause(mapped_field, oper_part, value_part, case_sensitive, rule.options));\n          }\n          return results1;\n        })());\n      }\n    }\n    return results;\n  };\n\n  return QueryParser;\n\n})();\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9zaWRlYmFyL3NlcnZpY2VzL3F1ZXJ5LXBhcnNlci5jb2ZmZWUiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIvaG9tZS91YnVudHUvcGRmdHJvbkV4dGVuc2lvbi9jbGllbnQvc3JjL3NpZGViYXIvc2VydmljZXMvcXVlcnktcGFyc2VyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtQkEsSUFBQSxXQUFBO0VBQUE7O0FBQUEsTUFBTSxDQUFDLE9BQVAsR0FBdUI7Ozs7O3dCQUNyQixLQUFBLEdBQ0U7SUFBQSxJQUFBLEVBQ0U7TUFBQSxJQUFBLEVBQU0sT0FBTjtNQUNBLE1BQUEsRUFBUSxJQURSO0tBREY7SUFHQSxJQUFBLEVBQ0U7TUFBQSxJQUFBLEVBQU0sT0FBTjtNQUNBLE1BQUEsRUFBUSxLQURSO0tBSkY7SUFNQSxHQUFBLEVBQ0U7TUFBQSxJQUFBLEVBQU0sT0FBTjtNQUNBLE1BQUEsRUFBUSxLQURSO0tBUEY7SUFTQSxLQUFBLEVBQ0U7TUFBQSxJQUFBLEVBQU0sUUFBTjtNQUNBLE1BQUEsRUFBUSxLQURSO0tBVkY7SUFZQSxHQUFBLEVBQ0U7TUFBQSxTQUFBLEVBQVcsU0FBQyxHQUFEO2VBQ1QsR0FBRyxDQUFDLFdBQUosQ0FBQTtNQURTLENBQVg7TUFFQSxJQUFBLEVBQU0sTUFGTjtNQUdBLE1BQUEsRUFBUSxJQUhSO01BSUEsT0FBQSxFQUNFO1FBQUEsRUFBQSxFQUNDO1VBQUEsVUFBQSxFQUFZLE9BQVo7VUFDQSxnQkFBQSxFQUFrQixLQURsQjtVQUVBLE1BQUEsRUFBUSxLQUZSO1NBREQ7T0FMRjtLQWJGO0lBc0JBLEtBQUEsRUFDRTtNQUFBLFNBQUEsRUFBVyxTQUFDLElBQUQ7QUFDVCxZQUFBO1FBQUEsT0FBQTtBQUNFLGtCQUFPLElBQVA7QUFBQSxpQkFDTyxPQURQO3FCQUNvQixDQUFBLEdBQUU7QUFEdEIsaUJBRU8sUUFGUDtxQkFFcUIsRUFB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\n",
    "'use strict';\n\nvar buildThread = require('../build-thread');\nvar events = require('../events');\nvar memoize = require('../util/memoize');\nvar metadata = require('../annotation-metadata');\nvar tabs = require('../tabs');\nvar uiConstants = require('../ui-constants');\n\nfunction truthyKeys(map) {\n  return Object.keys(map).filter(function (k) {\n    return !!map[k];\n  });\n}\n\n// Mapping from sort order name to a less-than predicate\n// function for comparing annotations to determine their sort order.\nvar sortFns = {\n  'Newest': function (a, b) {\n    return a.updated > b.updated;\n  },\n  'Oldest': function (a, b) {\n    return a.updated < b.updated;\n  },\n  'Location': function (a, b) {\n    if(a.coordinates && a.coordinates.length > 0 && b.coordinates && b.coordinates.length > 0) {\n\t\tlet rect1 = a.coordinates;\n\t\tlet rect2 = b.coordinates;\n\t\ttry {\n\t\t\tif (rect1[1] == rect2[1]) {\n\t\t\t\treturn rect1[0] < rect2[0];\n\t\t\t}\n\t\t\treturn rect1[1] < rect2[1]; \n\t\t} catch(e) {\n\t\t\treturn metadata.location(a) - metadata.location(b);\n\t\t}\n\t}\n    return metadata.location(a) - metadata.location(b);\n  },\n};\n\n/**\n * Root conversation thread for the sidebar and stream.\n *\n * This performs two functions:\n *\n * 1. It listens for annotations being loaded, created and unloaded and\n *    dispatches store.{addAnnotations|removeAnnotations} actions.\n * 2. Listens for changes in the UI state and rebuilds the root conversation\n *    thread.\n *\n * The root thread is then displayed by viewer.html\n */\n// @ngInject\nfunction RootThread($rootScope, store,session, drafts, searchFilter, viewFilter,extCommunicator,flash,groups,$modalStack) {\n\n /**\n   * Build the root conversation thread from the given UI state.\n   *\n   * @param state - The current UI state (loaded annotations, sort mode,\n   *        filter settings etc.)\n   */\n  function buildRootThread(state) {\n    var sortFn = sortFns[state.sortKey];\n\n    var filterFn;\n    if (state.filterQuery) {\n      var filters = searchFilter.generateFacetedFilter(state.filterQuery);\n      filterFn = function (annot) {\n        return viewFilter.filter([annot], filters).length > 0;\n      };\n    }\n\n    var threadFilterFn;\n    if (state.isSidebar && !state.filterQuery) {\n      threadFilterFn = function (thread) {\n        if (!thread.annotation) {\n          return false;\n        }\n\n        return tabs.shouldShowInTab(thread.annotation, state.selectedTab);\n      };\n    }\n\n    // Get the currently loaded annotations and the set of inputs which\n    // determines what is visible and build the visible thread structure\n    return buildThread(state.annotations, {\n      forceVisible: truthyKeys(state.forceVisible),\n      expanded: state.expanded,\n      highlighted: state.highlighted,\n      selected: truthyKeys(state.selectedAnnotationMap || {}),\n      sortCompareFn: sortFn,\n      filterFn: filterFn,\n      threadFilterFn: threadFilterFn,\n    });\n  }\n\n  function deleteNewAndEmptyAnnotations() {\n    store.getState().annotations.filter(function (ann) {\n      return metadata.isNew(ann) && !drafts.getIfNotEmpty(ann);\n    }).forEach(function (ann) {\n      drafts.remove(ann);\n      $rootScope.$broadcast(events.ANNOTATION_DELETED, ann);\n    });\n  }\n\n  // Listen for annotations being created or loaded\n  // and show them in the UI.\n  //\n  // Note: These events could all be converted into actions that are handled by\n  // the Redux store in store.\n  var loadEvents = [events.ANNOTATION_CREATED,\n                    events.ANNOTATION_UPDATED,\n                    events.ANNOTATIONS_LOADED];\n  loadEvents.forEach(function (event) {\n    $rootScope.$on(event, function (event, annotation) {\n      store.addAnnotations([].concat(annotation));\n      if(event.name === events.ANNOTATION_CREATED) {\n\t      let gp = groups.get(annotation.group);\n\t\t  if(gp) {\n\t\t\tif(!gp.webresource && annotation.webresource) {\n\t\t\t\tlet section = groups.getSection(gp,annotation.webresource.sectionId);\n\t\t\t\tgroups.focusSection(gp.id,section);\n\t\t\t\tstore.updateGroup(annotation.group,1,annotation.webresource);\n\t\t\t}\n\t\t  }\n    \t  extCommunicator.sendmessage({action: \"badgeCount\"});\n    \t  var isLinkShareOpened = false;\n    \t  if (!isLinkShareOpened && !annotation.$orphan && annotation.id && annotation.$highlight && annotation.$share) {\n    \t\t  isLinkShareOpened = true;\n    \t\t  $rootScope.$broadcast(\"linkshare\",{\"annotationId\": annotation.id});\n\t  \t  }\n      }\n      if(event.name === events.ANNOTATIONS_LOADED) {\n    \t  extCommunicator.sendmessage({action: \"badgeCount\"});\n      }\n    });\n  });\n\n  $rootScope.$on(events.BEFORE_ANNOTATION_CREATED, function (event, ann) {\n    // When a new annotation is created, remove any existing annotations\n    // that are empty.\n    deleteNewAndEmptyAnnotations();\n    $modalStack.dismissAll();\n    if(store.focusedGroup()) {\n    \t store.addAnnotations([ann]);\n        // If the annotation is of type note or annotation, make sure\n        // the appropriate tab is selected. If it is of type reply, user\n        // stays in the selected tab.\n        if (metadata.isPageNote(ann)) {\n          store.selectTab(uiConstants.TAB_NOTES);\n        } else if (metadata.isAnnotation(ann)) {\n          store.selectTab(uiConstants.TAB_ANNOTATIONS);\n        }\n\n        (ann.references || []).forEach(function (parent) {\n          store.setCollapsed(parent, false);\n        });\n    } else {\n    \tif (!session.state.userid) {\n    \t\t $rootScope.$broadcast(events.REQUEST_LOGIN, null);\n    \t} else {\n    \t\tflash.info(\"Please Select a taskspace to Comment or Hilight\");\n    \t}\n    }\n  });\n\n  // Remove any annotations that are deleted or unloaded\n  $rootScope.$on(events.ANNOTATION_DELETED, function (event, annotation) {\n    store.removeAnnotations([annotation]);\n    if (annotation.id) {\n      store.removeSelectedAnnotation(annotation.id);\n      let gp = groups.get(annotation.group);\n      if(gp) {\n\t     let webResource = gp.webresource || annotation.webresource; \n\t\t store.updateGroup(annotation.group,-1,webResource);\n\t  }\n      extCommunicator.sendmessage({action: \"badgeCount\"});\n    }\n  });\n  $rootScope.$on(events.ANNOTATIONS_UNLOADED, function (event, annotations) {\n    store.removeAnnotations(annotations);\n    extCommunicator.sendmessage({action: \"badgeCount\"});\n  });\n\n  // Once the focused group state is moved to the app state store, then the\n  // logic in this event handler can be moved to the annotations reducer.\n  $rootScope.$on(events.GROUP_FOCUSED, function (event, focusedGroupId) {\n    var updatedAnnots = store.getState().annotations.filter(function (ann) {\n      return metadata.isNew(ann) && !metadata.isReply(ann);\n    }).map(function (ann) {\n      return Object.assign(ann, {\n        group: focusedGroupId,\n      });\n    });\n    if (updatedAnnots.length > 0) {\n      store.addAnnotations(updatedAnnots);\n    }\n  });\n\n  /**\n   * Build the root conversation thread from the given UI state.\n   * @return {Thread}\n   */\n  this.thread = memoize(buildRootThread);\n}\n\nmodule.exports = RootThread;\n",
    "'use strict';\n\n/**\n * Splits a search term into filter and data.\n *\n * ie. 'user:johndoe' -> ['user', 'johndoe']\n *     'example:text' -> [null, 'example:text']\n */\nfunction splitTerm(term) {\n  var filter = term.slice(0, term.indexOf(':'));\n  if (!filter) {\n    // The whole term is data\n    return [null, term];\n  }\n\n  if (['group', 'quote', 'result', 'since',\n       'tag', 'text', 'uri', 'user'].includes(filter)) {\n    var data = term.slice(filter.length+1);\n    return [filter, data];\n  } else {\n    // The filter is not a power search filter, so the whole term is data\n    return [null, term];\n  }\n}\n\n/**\n * Tokenize a search query.\n *\n * Splits `searchtext` into tokens, separated by spaces.\n * Quoted phrases in `searchtext` are returned as a single token.\n */\nfunction tokenize(searchtext) {\n  if (!searchtext) { return []; }\n\n  // Small helper function for removing quote characters\n  // from the beginning- and end of a string, if the\n  // quote characters are the same.\n  // I.e.\n  //   'foo' -> foo\n  //   \"bar\" -> bar\n  //   'foo\" -> 'foo\"\n  //   bar\"  -> bar\"\n  var _removeQuoteCharacter = function(text) {\n    var start = text.slice(0,1);\n    var end = text.slice(-1);\n    if (((start === '\"') || (start === \"'\")) && (start === end)) {\n      text = text.slice(1, text.length - 1);\n    }\n    return text;\n  };\n\n  var tokens = searchtext.match(/(?:[^\\s\"']+|\"[^\"]*\"|'[^']*')+/g);\n\n  // Cut the opening and closing quote characters\n  tokens = tokens.map(_removeQuoteCharacter);\n\n  // Remove quotes for power search.\n  // I.e. 'tag:\"foo bar\"' -> 'tag:foo bar'\n  for (var index = 0; index < tokens.length; index++) {\n    var token = tokens[index];\n    var [filter, data] = splitTerm(token);\n    if (filter) {\n      tokens[index] = filter + ':' + (_removeQuoteCharacter(data));\n    }\n  }\n\n  return tokens;\n}\n\n/**\n * Parse a search query into a map of search field to term.\n *\n * @param {string} searchtext\n * @return {Object}\n */\nfunction toObject(searchtext) {\n  var obj = {};\n  var backendFilter = f => f === 'tag' ? 'tags' : f;\n\n  var addToObj = function(key, data) {\n    if (obj[key]) {\n      return obj[key].push(data);\n    } else {\n      return obj[key] = [data];\n    }\n  };\n\n  if (searchtext) {\n    var terms = tokenize(searchtext);\n    for (var term of terms) {\n      var [filter, data] = splitTerm(term);\n      if (!filter) {\n        filter = 'any';\n        data = term;\n      }\n      addToObj(backendFilter(filter), data);\n    }\n  }\n  return obj;\n}\n\n/**\n * @typedef Facet\n * @property {'and'|'or'|'min'} operator\n * @property {boolean} lowercase\n * @property {string[]} terms\n */\n\n/**\n * Parse a search query into a map of filters.\n *\n * Returns an object mapping facet names to Facet.\n *\n * Terms that are not associated with a particular facet are stored in the \"any\"\n * facet.\n *\n * @param {string} searchtext\n * @return {Object}\n */\nfunction generateFacetedFilter(searchtext) {\n  var terms;\n  var any = [];\n  var quote = [];\n  var result = [];\n  var since = [];\n  var tag = [];\n  var text = [];\n  var uri = [];\n  var user = [];\n\n  if (searchtext) {\n    terms = tokenize(searchtext);\n    for (var term of terms) {\n      var t;\n      var filter = term.slice(0, term.indexOf(':'));\n      switch (filter) {\n      case 'quote':\n        quote.push(term.slice(6));\n        break;\n      case 'result':\n        result.push(term.slice(7));\n        break;\n      case 'since':\n        {\n          // We'll turn this into seconds\n          let time = term.slice(6).toLowerCase();\n          if (time.match(/^\\d+$/)) {\n            // Only digits, assuming seconds\n            since.push(time * 1);\n          }\n          if (time.match(/^\\d+sec$/)) {\n            // Time given in seconds\n            t = /^(\\d+)sec$/.exec(time)[1];\n            since.push(t * 1);\n          }\n          if (time.match(/^\\d+min$/)) {\n            // Time given in minutes\n            t = /^(\\d+)min$/.exec(time)[1];\n            since.push(t * 60);\n          }\n          if (time.match(/^\\d+hour$/)) {\n            // Time given in hours\n            t = /^(\\d+)hour$/.exec(time)[1];\n            since.push(t * 60 * 60);\n          }\n          if (time.match(/^\\d+day$/)) {\n            // Time given in days\n            t = /^(\\d+)day$/.exec(time)[1];\n            since.push(t * 60 * 60 * 24);\n          }\n          if (time.match(/^\\d+week$/)) {\n            // Time given in week\n            t = /^(\\d+)week$/.exec(time)[1];\n            since.push(t * 60 * 60 * 24 * 7);\n          }\n          if (time.match(/^\\d+month$/)) {\n            // Time given in month\n            t = /^(\\d+)month$/.exec(time)[1];\n            since.push(t * 60 * 60 * 24 * 30);\n          }\n          if (time.match(/^\\d+year$/)) {\n            // Time given in year\n            t = /^(\\d+)year$/.exec(time)[1];\n            since.push(t * 60 * 60 * 24 * 365);\n          }\n        }\n        break;\n      case 'tag': tag.push(term.slice(4)); break;\n      case 'text': text.push(term.slice(5)); break;\n      case 'uri': uri.push(term.slice(4)); break;\n      case 'user': user.push(term.slice(5)); break;\n      default: any.push(term);\n      }\n    }\n  }\n\n  return {\n    any: {\n      terms: any,\n      operator: 'and',\n    },\n    quote: {\n      terms: quote,\n      operator: 'and',\n    },\n    result: {\n      terms: result,\n      operator: 'min',\n    },\n    since: {\n      terms: since,\n      operator: 'and',\n    },\n    tag: {\n      terms: tag,\n      operator: 'and',\n    },\n    text: {\n      terms: text,\n      operator: 'and',\n    },\n    uri: {\n      terms: uri,\n      operator: 'or',\n    },\n    user: {\n      terms: user,\n      operator: 'or',\n    },\n  };\n}\n\n// @ngInject\nfunction searchFilter() {\n  return {\n    toObject,\n    generateFacetedFilter,\n  };\n}\n\nmodule.exports = searchFilter;\n",
    "'use strict';\n\nvar urlUtil = require('../util/url-util');\n\n/**\n * A function that returns an absolute URL given a link name and params, by\n * expanding named URL templates received from the annotation service's API.\n *\n * The links object from the API is a map of link names to URL templates:\n *\n * {\n *   signup: \"http://localhost:5000/signup\",\n *   user: \"http://localhost:5000/u/:user\",\n *   ...\n * }\n *\n * Given a link name (e.g. 'user') and params (e.g. {user: 'bob'}) return\n * an absolute URL by expanding the named URL template from the API with the\n * given params (e.g. \"http://localhost:5000/u/bob\").\n *\n * Before the links object has been received from the API this function\n * always returns empty strings as the URLs. After the links object has been\n * received from the API this function starts returning the real URLs.\n *\n * @param {string} linkName - The name of the link to expand\n * @param {object} params - The params with which to expand the link\n * @returns {string} The expanded absolute URL, or an empty string if the\n *                   links haven't been received from the API yet\n * @throws {Error} If the links have been received from the API but the given\n *                 linkName is unknown\n * @throws {Error} If one or more of the params given isn't used in the URL\n *                 template\n *\n * @ngInject\n */\nfunction serviceUrl(store, apiRoutes) {\n\n  apiRoutes.links()\n    .then(store.updateLinks)\n    .catch(function(error) {\n      console.warn('The links API request was rejected: ' + error.message);\n    });\n\n  return function(linkName, params) {\n    var links = store.getState().links;\n\n    if (links === null) {\n      return '';\n    }\n\n    var path = links[linkName];\n\n    if (!path) {\n      throw new Error('Unknown link ' + linkName);\n    }\n\n    params = params || {};\n    var url = urlUtil.replaceURLParams(path, params);\n\n    var unused = Object.keys(url.params);\n    if (unused.length > 0) {\n      throw new Error('Unknown link parameters: ' + unused.join(', '));\n    }\n\n    return url.url;\n  };\n}\n\nmodule.exports = serviceUrl;\n",
    "'use strict';\n\nvar events = require('../events');\nvar retryUtil = require('../util/retry');\nvar { awaitStateChange } = require('../util/state-util');\nvar CACHE_TTL = 5 * 60 * 1000; // 5 minutes\n\n/**\n * @typedef Profile\n *\n * An object returned by the API (`GET /api/profile`) containing profile data\n * for the current user.\n */\n\n/**\n * This service handles fetching the user's profile, updating profile settings\n * and logging out.\n *\n * Access to the current profile is exposed via the `state` property.\n *\n * @ngInject\n */\nfunction session($q, $rootScope, analytics, store, api, auth,\n                 flash, raven, settings, serviceConfig,$timeout,frameSync) {\n  // Cache the result of load()\n  var lastLoad;\n  var lastLoadTime;\n\n  // Return the authority from the first service defined in the settings.\n  // Return null if there are no services defined in the settings.\n  function getAuthority() {\n    var service = serviceConfig(settings);\n    if (service === null) {\n      return null;\n    }\n    return service.authority;\n  }\n\n  // Options to pass to `retry.operation` when fetching the user's profile.\n  var profileFetchRetryOpts = {};\n\n  /**\n   * Fetch the user's profile from the annotation service.\n   *\n   * If the profile has been previously fetched within `CACHE_TTL` ms, then this\n   * method returns a cached profile instead of triggering another fetch.\n   *\n   * @return {Promise<Profile>} A promise for the user's profile data.\n   */\n  function load() {\n    if (!lastLoadTime || (Date.now() - lastLoadTime) > CACHE_TTL) {\n\n      // The load attempt is automatically retried with a backoff.\n      //\n      // This serves to make loading the app in the extension cope better with\n      // flakey connectivity but it also throttles the frequency of calls to\n      // the /app endpoint.\n      lastLoadTime = Date.now();\n      lastLoad = retryUtil.retryPromiseOperation(function () {\n        var authority = getAuthority();\n        var opts = {};\n        if (authority) {\n          opts.authority = authority;\n        }\n        \n        return awaitStateChange(store, function() {\n        \tvar uris = store.searchUris();\n            if (uris.length === 0) {\n              return null;\n            }\n\n            // We get the first HTTP URL here on the assumption that group scopes must\n            // be domains (+paths)? and therefore we need to look up groups based on\n            // HTTP URLs (so eg. we cannot use a \"file:\" URL or PDF fingerprint).\n            return uris.find(uri => uri.startsWith('http'));\n        }).then(uri => {\n        \tvar searchUris = [];\n        \tif(uri) {\n        \t\tsearchUris.push(uri);\n        \t}\n        \t//return api.profile.read(opts,{uris: searchUris,tsId: settings.group,tsClientId: settings.client});\n        \treturn api.profile.read(opts,{uris: searchUris,tsId: settings.group});\n        });\n        \n      }, profileFetchRetryOpts).then(function (session) {\n        update(session);\n        lastLoadTime = Date.now();\n        return session;\n      }).catch(function (err) {\n        lastLoadTime = null;\n        throw err;\n      });\n    }\n    return lastLoad;\n  }\n\n  /**\n   * Store the preference server-side that the user dismissed the sidebar\n   * tutorial and then update the local profile data.\n   */\n  function dismissSidebarTutorial() {\n    return api.profile.update({}, {preferences: {show_sidebar_tutorial: false}}).then(update);\n  }\n\n  /**\n   * Update the local profile data.\n   *\n   * This method can be used to update the profile data in the client when new\n   * data is pushed from the server via the real-time API.\n   *\n   * @param {Profile} model\n   * @return {Profile} The updated profile data\n   */\n  function update(model) {\n    var prevSession = store.getState().session;\n    var userChanged = model.userid !== prevSession.userid;\n\n    // Update the session model used by the application\n    store.updateSession(model);\n\n    frameSync.setSession(model);\n    \n    lastLoad = Promise.resolve(model);\n    lastLoadTime = Date.now();\n\n    if (userChanged) {\n      $rootScope.$broadcast(events.USER_CHANGED, {\n        profile: model,\n      });\n\n      // Associate error reports with the current user in Sentry.\n      if (model.userid) {\n        raven.setUserInfo({\n          id: model.userid,\n        });\n      } else {\n        raven.setUserInfo(undefined);\n      }\n    }\n\n    // Return the model\n    return model;\n  }\n\n  /**\n   * Log the user out of the current session.\n   */\n  function logout() {\n    var loggedOut = auth.logout().then(() => {\n      // Re-fetch the logged-out user's profile.\n       $rootScope.$broadcast(events.USER_CHANGED);\n       return reload();\n    });\n\n    return loggedOut.catch(function (err) {\n      flash.error('Log out failed',{extendedTimeOut: 0,tapToDismiss: false,timeOut: 0,closeButton: true,});\n      analytics.track(analytics.events.LOGOUT_FAILURE);\n      return $q.reject(new Error(err));\n    }).then(function(){\n      analytics.track(analytics.events.LOGOUT_SUCCESS);\n    });\n  }\n\n  /**\n   * Clear the cached profile information and re-fetch it from the server.\n   *\n   * This can be used to refresh the user's profile state after logging in.\n   *\n   * @return {Promise<Profile>}\n   */\n  function reload() {\n    lastLoad = null;\n    lastLoadTime = null;\n    return load();\n  }\n\n\n   /**\n   * Checks the server session for user info.\n   *\n   * This can be used to refresh the user's profile state after logging in.\n   *\n   * @return {Promise<Profile>}\n   */\n  function loginInfo() {\n    api.profile.loginInfo().then(function(userInfo) {\n\t\tif(userInfo.Status) {\n\t\t\t var prevSession = store.getState().session;\n\t\t\t var hasLogin = userInfo.hasLogin;\n\t\t     if(hasLogin) {\n\t\t\t    if(prevSession.userid) {\n\t\t\t\t\tvar userChanged = \"acct:\"+userInfo.UserId !== prevSession.userid;\n\t\t\t\t\tif(userChanged) {\n\t\t\t\t\t\treload();\n\t\t\t\t\t}\n\t\t\t\t} else if(!prevSession.userid) {\n\t\t\t\t\t$rootScope.$broadcast(events.REQUEST_LOGIN);\n\t\t\t\t}\n\t\t\t\t/*if(userInfo.inMaintenanceMode) {\n\t\t\t\t\t$rootScope.$broadcast(\"updatedAuth\");\n\t\t\t\t}*/\n\t\t\t } else if(prevSession.userid){\n\t\t\t\t reload();\n\t\t\t }\n\t\t}\n\t});\n  }\n\n  $rootScope.$on(events.OAUTH_TOKENS_CHANGED, () => {\n    reload();\n  });\n\n  $rootScope.$on(\"windowFocus\", () => {\n    loginInfo();\n  });\n\n  $rootScope.$on(events.OAUTH_TOKENS_ERROR, () => {\n\t  logout();\n  });\n  \n  return {\n    dismissSidebarTutorial,\n    load,\n    logout,\n    reload,\n\n    // Exposed for use in tests\n    profileFetchRetryOpts,\n\n    // For the moment, we continue to expose the session state as a property on\n    // this service. In future, other services which access the session state\n    // will do so directly from store or via selector functions\n    get state() {\n      return store.getState().session;\n    },\n\n    update,\n  };\n}\n\nmodule.exports = session;\n",
    "/**\r\n * @ngdoc service\r\n * @name  groups\r\n *\r\n * @description Provides access to create and sharable links for document and annotation\r\n *              \r\n */\r\n'use strict';\r\nvar queryString = require('query-string');\r\nvar renderMarkdown = require('../render-markdown');\r\n\r\n// @ngInject\r\nfunction sharelinks($rootScope, store, api, isSidebar, localStorage, serviceUrl, session,\r\n                settings,$filter,frameSync,_,flash,juice,$sanitize,$window) {\r\n\tvar taskspaceId = taskspaceId;\r\n\tvar taskspaceClientId = taskspaceClientId;\r\n\tvar annotationLink = true;\r\n\tvar imageWrapWidthPercent = 35;\r\n\tvar fileBaseUrl = settings.serviceUrl;\r\n\tvar protectedDocImage = fileBaseUrl+\"/app/assets/images/prtectedDocument.png\";\r\n\tvar enableBorder = \"rgb(0, 102, 153)\";\r\n\tvar digestMetaInfoDefaultOptions = {\r\n\t\t\t\"description\" : true,\r\n\t\t\t\"image\" : true,\r\n\t\t\t\"documentName\" : true,\r\n\t\t\t\"websiteName\" : true,\r\n\t\t\t\"websiteLogo\" : true,\r\n\t\t\t\"documentTags\" : false,\r\n\t\t\t\"annotationLink\" : true,\r\n\t\t\t\"annotationUserName\" : false,\r\n\t\t\t\"annotationCreatedTime\" : false,\r\n\t\t\t\"tags\" : false\r\n\t};\r\n\t\r\n\t\r\n\tvar digestMetaInfoOptionsForGroupByTag = {\r\n\t\t\t\"description\" : false,\r\n\t\t\t\"image\" : false,\r\n\t\t\t\"documentName\" : true,\r\n\t\t\t\"websiteName\" : false,\r\n\t\t\t\"websiteLogo\" : false,\r\n\t\t\t\"tags\" : true,\r\n\t\t\t\"annotationLink\" : true,\r\n\t\t\t\"annotationUserName\" : true,\r\n\t\t\t\"annotationCreatedTime\" : true\r\n\t};\r\n\t\r\n\t\r\n\tvar sorUIOptions = [\r\n        {\"label\" : \"Document Name\",\"value\" : \"documentName\"},\r\n        {\"label\" : \"Annotated User\",\"value\" : \"userName\"},\r\n        {\"label\" : \"Annotated Date\",\"value\" : \"timestamp\"},\r\n        {\"label\" : \"Document Order\",\"value\" : \"documentOrder\"}\r\n    ];\r\n\t\r\n\t\r\n\tvar groupByUIOptions = [\r\n        {\"label\" : \"Document\",\"value\" : \"document\"},\r\n        {\"label\" : \"Tag - Flat\",\"value\" : \"tag\"},\r\n        {\"label\" : \"Tag - Hierarchical\",\"value\" : \"taghierarchical\"}\r\n    ];\r\n\t\r\n\tvar enableBorderUIOptions = [\r\n        {\"label\" : \"No Border HIGHLIGHT BORDE\",\"value\" : \"rgb(255, 255, 255)\"},\r\n\t\t{\"label\" : \"Numici Blue HIGHLIGHT BOR\",\"value\" : \"rgb(0, 102, 153)\"},\r\n\t\t{\"label\" : \"Yellow HIGHLIGHT BORDERRR\",\"value\" : \"rgb(255, 255, 0)\"},\r\n\t\t{\"label\" : \"Light Red HIGHLIGHT BORDE\",\"value\" : \"rgb(255, 128, 128)\"},\r\n\t\t{\"label\" : \"Green HIGHLIGHT BORDERRR\",\"value\" : \"rgb(0, 128, 0)\"},\r\n\t\t{\"label\" : \"Dark Grey HIGHLIGHT BORDE\",\"value\" : \"rgb(128, 128, 128)\"},\r\n\t\t{\"label\" : \"Silver HIGHLIGHT BORDERRR\",\"value\" : \"rgb(192, 192, 192)\"}\r\n\t  ];\r\n\r\nvar imagePositionUIOptions = [\r\n\t\t{\"label\" : \"Left\",\"value\" : \"left\"},\r\n\t\t{\"label\" : \"Full Width\",\"value\" : \"fullWidth\"},\r\n\t\t{\"label\" : \"Right\",\"value\" : \"right\"}\r\n\t  ];\r\n\r\n\tvar displayOrderUIOptions = [\r\n\t\t\t\t\t{\"label\" : \"Comment below Highlighted Text\",\"value\" : \"regular\"},\r\n\t\t\t\t\t{\"label\" : \"Highlighted Text below Comment\",\"value\" : \"blockquote\"}\r\n\t\t\t\t  ];\r\n\tvar displayRepliesUIOptions = [\r\n\t                {\"label\" : \"Don't Show Replies\",\"value\" : \"donotshowreplies\"},\r\n\t\t\t\t\t//{\"label\" : \"Show Replies Expanded\",\"value\" : \"showrepliesexpanded\"},\r\n\t\t\t\t\t//{\"label\" : \"Show Replies Collapsed\",\"value\" : \"showrepliescollapsed\"},\r\n\t\t\t\t\t{\"label\" : \"Show Replies\",\"value\" : \"showrepliesexpanded\"}\r\n\t\t\t\t  ];\r\n\t\r\n\tvar sorUIOptionValues =  [\"asc\",'desc'];\r\n\t\r\n\t\r\n\tfunction getDigestFilters() {\r\n\t\treturn {\r\n\t\t\t\"filterOptions\" : {\r\n\t\t\t\t\"startDate\" : null,\r\n\t\t\t\t\"endDate\" : null,\r\n\t\t\t\t\"multiTags\" : [],\r\n\t\t\t\t\"allTagAnnotations\" : true,\r\n\t\t\t\t\"highlights\" : {\r\n\t\t\t\t\t\"myHighlights\" : true, \r\n\t\t\t\t\t\"sharedHighlights\" : true\r\n\t\t\t\t}, \r\n\t\t\t\t\"annotations\" : {\r\n\t\t\t\t\t\"myAnnotations\" : true, \r\n\t\t\t\t\t\"sharedAnnotations\" : true\r\n\t\t\t\t},\r\n\t\t\t\t\"displayReplies\" : \"donotshowreplies\"\r\n\t\t\t},\r\n\t\t\t\"sortOptions\" : {\r\n\t\t\t\t\"timestamp\" : \"desc\",\r\n\t\t\t\t//\"documentName\" : \"asc\",\r\n\t\t\t\t//\"userName\" : \"desc\"\r\n\t\t\t},\r\n\t\t\t\"digestMetaInfoOptions\" : digestMetaInfoDefaultOptions,\r\n\t\t\t\"selectedTemplate\" : null,\r\n\t\t\t\"enableBorder\" : \"rgb(0, 102, 153)\",\r\n\t\t\t\"imagePosition\" : \"left\",\r\n\t\t\t\"displayOrder\" : \"regular\"\r\n\t\t};\r\n\t}\r\n\t\r\n\tfunction getGroupByUIOptions() {\r\n\t\treturn groupByUIOptions;\r\n\t}\r\n\t\r\n\tfunction getEnableBorderUIOptions() {\r\n\t\treturn enableBorderUIOptions;\r\n\t}\r\n\t\r\n\tfunction getImagePositionUIOptions() {\r\n\t\treturn imagePositionUIOptions;\r\n\t}\r\n\t\r\n\tfunction getDisplayOrderUIOptions() {\r\n\t\treturn displayOrderUIOptions;\r\n\t}\r\n\t\r\n\t\r\n\tfunction getDisplayRepliesUIOptions() {\r\n\t\treturn displayRepliesUIOptions;\r\n\t}\r\n\t\r\n\tfunction stringifyTags(tags) {\r\n\t\tvar tgs = [];\r\n\t\tif(_.isArray(tags)) {\r\n\t\t\t_.each(tags,function(tag,ind) {\r\n\t\t\t\t var tagString = tag.name;\r\n\t\t\t\t if(_.isArray(tag.values)) {\r\n\t\t\t\t\t _.each(tag.values,function(val,i) {\r\n\t\t\t\t\t\t tagString = tag.name;\r\n\t\t\t\t\t\t if(val) {\r\n\t\t\t\t\t\t\t tagString = tagString+\":\"+val;\r\n\t\t\t\t\t\t } \r\n\t\t\t\t\t\t tgs.push(tagString);\r\n\t\t\t\t\t });\r\n\t\t\t\t } else {\r\n\t\t\t\t\t tgs.push(tagString);\r\n\t\t\t\t }\r\n\t\t\t});\r\n\t\t}\r\n\t\t\r\n\t\treturn tgs;\r\n\t}\r\n\t\r\n\tfunction contextLink(digest,annotation,deepLinkId) {\r\n\t\tvar link = \"\";\r\n\t\tif(!annotation && !_.isEmpty(digest.docLink)) {\r\n\t\t\tlink = digest.docLink;\r\n\t\t} else if(annotation && !_.isEmpty(annotation.annotationLink)) {\r\n\t\t\tlink = annotation.annotationLink;\r\n\t\t} else {\r\n\t\t\tif(!_.isEmpty(deepLinkId)) {\r\n\t\t\t\tlink = fileBaseUrl+\"linkrouter?dlid=\"+deepLinkId+\"&t=\"+taskspaceId+\"&d=\"+digest.documentId;\r\n\t\t\t\tif(annotation) {\r\n\t\t\t\t\tlink = link + \"&a=\"+annotation.annotationId;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tlink = fileBaseUrl+\"list/task/\"+taskspaceId+\"?tsc=\"+taskspaceClientId+\"&d=\"+digest.documentId+\"&dc=\"+digest.clientId;\r\n\t\t\t\tif(digest.sourceURL && digest.documentType == \"WebResource\") {\r\n\t\t\t\t\tlink = fileBaseUrl+\"webannotation?target=\"+encodeURIComponent(digest.sourceURL)+\"&cid=\"+digest.clientId+\"&tsId=\"+taskspaceId;\r\n\t\t\t\t\tif(annotation) {\r\n\t\t\t\t\t\tlink = link + \"&annotationId=\"+annotation.annotationId;\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn link;\r\n\t\t\t\t}\r\n\t\t\t\tif(annotation) {\r\n\t\t\t\t\tlink = link +\"&da=\"+annotation.annotationId;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn link;\r\n\t}\r\n\t\r\n\tfunction processDigestData(digestList,deepLinkId) {\r\n\t\t_.each(digestList,function(digest,index) {\r\n\t\t\tif(!_.isEmpty(digest.annotations)) {\r\n\t\t\t\tdigest.link = contextLink(digest,null,deepLinkId);\r\n\t\t\t\t_.each(digest.annotations,function(annotation,index) {\r\n\t\t\t\t\tannotation.link = contextLink(digest,annotation,deepLinkId);\r\n\t\t\t\t\tannotation.tags = stringifyTags(annotation.multiTags) || [];\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif(!_.isEmpty(digest.multiTags)) {\r\n\t\t\t\tdigest.tags = stringifyTags(digest.multiTags) || [];\r\n\t\t\t}\r\n\t\t});\r\n\t\t\r\n\t\treturn digestList;\r\n\t}\r\n\t\r\n\tfunction preProcessAnnotationDigestResp(linkAnnotationDigestResp,config,deepLinkId) {\r\n\t\tvar digestData = [];\r\n\t\ttaskspaceId = config.objectId;\r\n\t\ttaskspaceClientId = config.clientId;\r\n\t\tif(config.groupBy == \"tag\" || config.groupBy == \"taghierarchical\") {\r\n\t\t\t_.each(linkAnnotationDigestResp,function(digest,index) {\r\n\t\t\t\tif(_.isArray(digest.entries)) {\r\n\t\t\t\t\t_.each(digest.entries,function(entries,ind) {\r\n\t\t\t\t\t\tif(_.isArray(entries.digest)) {\r\n\t\t\t\t\t\t\tdigest.entries[ind].digest = processDigestData(entries.digest,deepLinkId);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\tlinkAnnotationDigestResp[index].entries = digest.entries;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\tdigestData = angular.copy(linkAnnotationDigestResp);\r\n\t\t} else {\r\n\t\t\tvar digestDataTemp = processDigestData(linkAnnotationDigestResp,deepLinkId);\r\n\t\t\tdigestData = angular.copy(digestDataTemp);\r\n\t\t}\r\n\t\treturn digestData;\r\n\t}\r\n\t\r\n\tfunction getDigestNameForDoc(tsObj){\r\n\t\tvar digestName = tsObj.name ? tsObj.name : \"\";\r\n\t\tvar sourceUrl;\r\n\t\tif(tsObj.sourceURL && tsObj.sourceURL != null && tsObj.sourceURL != undefined){\r\n\t\t\tsourceUrl = tsObj.sourceURL;\r\n\t\t} else if(tsObj.sourceUrl && tsObj.sourceUrl != null && tsObj.sourceUrl != undefined){\r\n\t\t\tsourceUrl = tsObj.sourceUrl;\r\n\t\t}\r\n\t\tif(sourceUrl && sourceUrl != null && sourceUrl != undefined){\r\n\t\t\tvar domainName = sourceUrl.replace('http://','').replace('https://','').replace('www.','').split(/[/?#]/)[0];\r\n\t\t\tdigestName = digestName + \" (from \"+domainName+\")\";\r\n\t\t}\r\n\t\treturn digestName;\r\n\t}\r\n\t\r\n\tfunction getDefaultDigestSettings(tsId, tscId, tsObj) {\r\n\t\tvar config = getDigestFilters();\r\n\t\tvar digestName = getDigestNameForDoc(tsObj);\r\n\t\tvar groupBy = groupByUIOptions ? groupByUIOptions[0].value : null;\r\n\t\t\r\n\t\tvar digestSettings = {\r\n\t\t\t\t\"digestName\": digestName, \r\n\t\t\t\t\"digestDescription\": \"\",\r\n\t\t\t\t\"objectId\": tsId, \r\n\t\t\t\t\"clientId\": tscId,\r\n\t\t\t\t\"context\" : \"taskspace\",\r\n\t\t\t\t\"filterOptions\" : config.filterOptions,\r\n\t\t\t\t\"groupBy\": groupBy,\r\n\t\t\t\t\"digestMetaInfoOptions\": config.digestMetaInfoOptions,\r\n\t\t\t\t\"enableBorder\" : config.enableBorder,\r\n\t\t\t\t\"imagePosition\" : config.imagePosition,\r\n\t\t\t\t\"displayOrder\" : config.displayOrder\r\n\t\t};\r\n\t\tdigestSettings.documents = [tsObj.objectId];\r\n\t\t\r\n\t\treturn digestSettings;\r\n\t}\r\n\t\r\n\tfunction processLinkInfo(digestFor, tsId, tscId, digestSettings) {\r\n\t\tvar linkType = \"Public\"; //linkType.type;\r\n\t\tvar target = \"Document\" //linkTarget.target;\r\n\t\tvar objectType = \"AnnotationDigest\";\r\n\t\tif (digestFor.digestFor == \"DigestDocument\") {\r\n\t\t\tif (digestFor.documentInfo) {\r\n\t\t\t\tdigestSettings.documents = [digestFor.documentInfo.objectId];\r\n\t\t\t}\r\n\t\t\tobjectType = \"DigestDocument\"\r\n\t\t}\r\n\t\tvar info = {\r\n\t\t\t\t  \"objectType\": objectType,\r\n\t\t\t\t  \"group\": tsId,\r\n\t\t\t\t  \"linkType\": linkType,\r\n\t\t\t\t  \"tsClientId\": tscId,\r\n\t\t\t\t  \r\n\t\t\t\t  \"linkTarget\": target,\r\n\t\t\t\t  \"documentId\": (digestFor.documentInfo && digestFor.documentInfo.objectId ) ? digestFor.documentInfo.objectId : null, // new attribute\r\n\t\t\t\t  \"digestDocAnnotId\": (digestFor.documentInfo && digestFor.documentInfo.digestDocAnnotId ) ? digestFor.documentInfo.digestDocAnnotId : null, // new attribute ,\r\n\t\t\t\t  \r\n\t\t\t\t  \"properties\": {digestSettings : digestSettings}\r\n\t\t\t\t};\r\n\t\treturn info;\r\n\t}\r\n\t\r\n\tfunction processDataForPublish(result,settings,digestMetaInfoOptions){\r\n\t\tvar AnnotationDigestResp = result.AnnotationDigestResp;\r\n\t\tif(!_.isEmpty(AnnotationDigestResp.digestSettings)) {\r\n\t\t\ttaskspaceId = AnnotationDigestResp.digestSettings.objectId;\r\n\t\t\ttaskspaceClientId = AnnotationDigestResp.digestSettings.clientId;\r\n\t\t} else if(!_.isEmpty(settings)) {\r\n\t\t\ttaskspaceId = settings.taskspaceId; \r\n\t\t\ttaskspaceClientId = settings.clientId;\r\n\t\t}\r\n\t\t\r\n\t\tannotationLink = digestMetaInfoOptions.annotationLink;\r\n\t}\r\n\t\t\r\n\tfunction SaveAsPdf(fileName,content,linkInfo) {\r\n\t\tvar postdata = {};\r\n\t\tpostdata.context = \"taskspace\";\r\n\t\tpostdata.objectId = taskspaceId;\r\n\t\tpostdata.clientId = taskspaceClientId;\r\n\t\tpostdata.pdfFileName = fileName+\".pdf\";\r\n\t\tpostdata.content = content;\r\n\t\tif(!_.isEmpty(linkInfo.linkObj)) {\r\n\t\t\tpostdata[\"linkId\"] = linkInfo.linkObj.id;\r\n\t\t\tpostdata[\"linkObjectType\"] = linkInfo.linkObj.objectType;\r\n\t\t\tpostdata[\"linkLinkType\"] = linkInfo.linkObj.linkType;\r\n\t\t}\r\n\t\tapi.link.saveAnnotationDigestAsDocPdf({},postdata).then(function(saveAsPdfResp) {\r\n\t\t\tif(saveAsPdfResp) {\r\n\t\t\t\tvar file = new Blob([saveAsPdfResp], {type: 'application/pdf'});\r\n\t\t\t    var fileURL = URL.createObjectURL(file);\r\n\t\t\t    var link = document.createElement('a');\r\n\t\t\t    link.href = fileURL;\r\n\t\t\t    link.download = postdata.pdfFileName;\r\n\t\t\t    document.body.appendChild(link);\r\n\t\t\t    link.click();\r\n\t\t\t    document.body.removeChild(link);\r\n\t\t\t    $window.open(fileURL);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\t\r\n\tfunction createLinkAnnotationDigest(postdata,cb) {\r\n\t\tapi.link.createAnnotationDigestForLink({},postdata).then(function(resp) {\r\n\t\t\t\tif(resp.annotationDigest.Status) {\r\n\t\t\t\t\tif(_.isEmpty(resp.annotationDigest.AnnotationDigest)) {\r\n\t\t\t\t\t\t/*if(!_.isEmpty(resp.annotationDigest.Message)) {\r\n\t\t\t\t\t\t\tMessageService.showErrorMessage(\"BACKEND_ERR_MSG\",[resp.annotationDigest.Message]);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tMessageService.showInfoMessage(\"ANNOTATION_DIGEST_NODATA_INFO\");\r\n\t\t\t\t\t\t}*/\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif(typeof cb == \"function\") {\r\n\t  \t\t\t\t\t\tcb(resp.annotationDigest);\r\n\t  \t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t});\r\n\t}\r\n\t\r\n\tfunction getAnnotatedTxt(annotation){\r\n\t\tvar annotatedText = \"\";\r\n\t\tannotatedText  = !_.isEmpty(annotation.annotatedText) ? annotation.annotatedText : annotation.text;\r\n\t\tif(!_.isEmpty(annotatedText)){\r\n\t\t\tannotatedText = annotatedText.replace(/(\\r\\t|\\t|\\r)/gm, \"\").trim();\r\n\t\t}\r\n\t\tif(_.isEmpty(annotatedText)) {\r\n\t\t\tvar formatedText  = !_.isEmpty(annotation.formatedtext) ? annotation.formatedtext : annotation.formatedText;\r\n\t\t\tif(!_.isEmpty(formatedText)) {\r\n\t\t\t\tvar imageTxt = \"img src=\";\r\n\t\t\t\tvar htmlFormatedText = renderMarkdown(formatedText || '', $sanitize);\r\n\t\t\t\tif(htmlFormatedText && !_.isEmpty(htmlFormatedText) && htmlFormatedText.includes(imageTxt)){\r\n\t\t\t\t\t// do nothing\r\n\t\t\t\t} else {\r\n\t\t\t\t\tannotatedText = formatedText;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\tif(!_.isEmpty(annotatedText)){\r\n\t\t\tannotatedText = annotatedText.replace(/(\\r\\t|\\t|\\r)/gm, \"\").trim();\r\n\t\t\tannotatedText = \"\\u275D\"+annotatedText+\"\\u275E\";\r\n\t\t}\r\n\t\treturn annotatedText;\r\n\t}\r\n\t\r\n\tfunction getCommentTxt(comments, showReplies, showCommentIcon, pageNote){\r\n\t\tvar conversationText  = \"\";\r\n\t\tvar unicodeCommentIcon = \"\";\r\n\t\tif(showCommentIcon && !pageNote){\r\n\t\t\tunicodeCommentIcon = \"\\uD83D\\uDDE8 \";\r\n\t\t}\r\n\t\tif(showReplies){\r\n\t\t\t_.each(comments,function(comment,index){\r\n\t\t\t\tvar commentText  = comment.comment\r\n\t\t\t\tif(!_.isEmpty(commentText)){\r\n\t\t\t\t\tif(_.isEmpty(conversationText)) {\r\n\t\t\t\t\t\tconversationText = \tunicodeCommentIcon+commentText;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tconversationText = \tconversationText+\"\\n\"+unicodeCommentIcon+commentText;\t\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tif(!_.isEmpty(comments) && !_.isEmpty(comments[0].comment)) {\r\n\t\t\t\tvar commentText  = comments[0].comment\r\n\t\t\t\tif(!_.isEmpty(commentText)){\r\n\t\t\t\t\tconversationText = \tunicodeCommentIcon+commentText;\t\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t}\r\n\t\treturn conversationText;\r\n\t}\r\n\t\r\n\tfunction getDigestShareCommentaryTxt(digestFor,digestDescription,filterOptions,displayOrderOption,dLinkId,clientId,cb) {\r\n\t\tvar shareCommentaryTxt = \"\";\r\n\t\tvar postdata = {dLinkId : dLinkId};\r\n\t\tcreateLinkAnnotationDigest(postdata,function(result) {\r\n\t\t\tif(digestFor.digestFor == \"AnnotationDigest\"){\r\n\t\t\t\tif(digestDescription){\r\n\t\t\t\t\tshareCommentaryTxt = digestDescription;\t\r\n\t\t\t\t}\r\n\t\t\t} else if(digestFor.digestFor == \"DigestDocument\"){\r\n\t\t\t\tif(digestDescription){\r\n\t\t\t\t\tshareCommentaryTxt = digestDescription;\t\r\n\t\t\t\t}\r\n\t\t\t\tif(!_.isEmpty(result.AnnotationDigest)) {\r\n\t\t\t\t\tvar AnnotationDigestList = result.AnnotationDigest;\r\n\t\t\t\t\tif(!_.isEmpty(AnnotationDigestList)) {\r\n\t\t\t\t\t\t_.each(AnnotationDigestList,function(AnnotationDigest){\r\n\t\t\t\t\t\t\tvar annotationTxt = \"\";\r\n\t\t\t\t\t\t\tvar annotations = AnnotationDigest.annotations;\r\n\t\t\t\t\t\t\tif(digestFor.digestFor == \"DigestDocument\" && (digestFor.documentInfo && digestFor.documentInfo.digestDocAnnotId)) {\r\n\t\t\t\t\t\t\t\tannotations = _.where(AnnotationDigest.annotations,{\"annotationId\" : digestFor.documentInfo.digestDocAnnotId});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t_.each(annotations,function(annotation,index){\r\n\t\t\t\t\t\t\t\tvar displayReplies = false;\r\n\t\t\t\t\t\t\t\tvar displayOrder = \"blockquote\";\r\n\t\t\t\t\t\t\t\tif(!_.isEmpty(filterOptions) && \r\n\t\t\t\t\t\t\t\t\t\t(filterOptions.displayReplies == \"showrepliesexpanded\" || filterOptions.displayReplies == \"showrepliescollapsed\")){\r\n\t\t\t\t\t\t\t\t\tdisplayReplies = true;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tif(!_.isEmpty(displayOrderOption)){\r\n\t\t\t\t\t\t\t\t\tdisplayOrder = displayOrderOption.value;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tvar pageNote = annotation.pagenote;\r\n\t\t\t\t\t\t\t\tvar comments = annotation.conversation;\r\n\t\t\t\t\t\t\t\tvar annotatedText;\r\n\t\t\t\t\t\t\t\tif(pageNote){\r\n\t\t\t\t\t\t\t\t\tannotatedText = getCommentTxt(comments, displayReplies, false, pageNote);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tvar AnnotatedTxt = getAnnotatedTxt(annotation);\r\n\t\t\t\t\t\t\t\t\tif(!_.isEmpty(AnnotatedTxt)) {\r\n\t\t\t\t\t\t\t\t\t\tif(displayOrder == \"blockquote\"){\r\n\t\t\t\t\t\t\t\t\t\t\t//blockquote - \"Highlighted Text below Comment\"\r\n\t\t\t\t\t\t\t\t\t\t\tvar commentText = getCommentTxt(comments, displayReplies, false, pageNote);\r\n\t\t\t\t\t\t\t\t\t\t\tif(!_.isEmpty(commentText)){\r\n\t\t\t\t\t\t\t\t\t\t\t\tannotatedText = commentText;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tif(_.isEmpty(annotatedText)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\tannotatedText = AnnotatedTxt;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tannotatedText = annotatedText+\"\\n\"+AnnotatedTxt;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t//regular - \"Comment below Highlighted Text\"\r\n\t\t\t\t\t\t\t\t\t\t\tvar commentText = getCommentTxt(comments, displayReplies, true, pageNote);\r\n\t\t\t\t\t\t\t\t\t\t\tif(!_.isEmpty(commentText)){\r\n\t\t\t\t\t\t\t\t\t\t\t\tannotatedText = AnnotatedTxt+\"\\n\"+commentText;\r\n\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\tannotatedText = AnnotatedTxt;\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tif(!_.isEmpty(annotatedText)){\r\n\t\t\t\t\t\t\t\t\tif(_.isEmpty(shareCommentaryTxt)) {\r\n\t\t\t\t\t\t\t\t\t\tshareCommentaryTxt = annotatedText;\r\n\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\tshareCommentaryTxt = shareCommentaryTxt+\"\\n\\n\"+annotatedText;\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\t\r\n\t\t\t}\r\n\t\t\tif(typeof cb == \"function\") {\r\n\t\t\t\tcb(shareCommentaryTxt);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\t\r\n\r\n\tfunction setDigesMinMaxWidth() {\r\n\t\treturn {'max-width': '648px','color': '#333','line-height': '1.5','margin': '0 auto','font-size': '14px'};\r\n\t}\r\n\t\r\n\tfunction getTitleStyles() {\r\n\t\treturn {'cursor': 'pointer', 'font-weight': '700','margin': '1em 0em','font-size': '16px','margin-block-start':' 1em','margin-block-end': '1em'};\r\n\t}\r\n\t\r\n\tfunction alternateImageStyles() {\r\n\t\tvar imageStyles = {\"background-image\": \"url(\"+protectedDocImage+\")\" ,\"background-size\": \"cover\"};\r\n\t\tif(!_.isEmpty(enableBorder)) {\r\n\t\t\timageStyles[\"border-width\"] = \"2px\";\r\n\t\t\timageStyles[\"border-color\"] = \"#000000\";\r\n\t\t\timageStyles[\"border-style\"] = \"solid\";\r\n\t\t}\r\n\t\treturn imageStyles;\r\n\t} \r\n\t\r\n\tfunction setRepDigestStyles(digest,digestMetaInfoImageOption) {\r\n\t\tif(!_.isEmpty(digest.imageUrl) && digestMetaInfoImageOption) {\r\n\t\t\tvar width = 100 - imageWrapWidthPercent;\r\n\t\t\treturn {'width': 'calc('+width+'% - 1em)','float': 'left'};\r\n\t\t} else {\r\n\t\t\treturn {'width': '100%'};\r\n\t\t}\r\n\t}\r\n\t\r\n\tfunction getAnnotatedText(annotation,filters) {\r\n\t\tvar annotataedText = !_.isEmpty(annotation.annotatedText) ? annotation.annotatedText : annotation.text;\r\n\t\t\r\n\t\tif(!_.isEmpty(annotation.annotatedText)) {\r\n\t\t\tannotataedText = \"<div style='border:none;background:#fff;white-space: pre-wrap;word-break: break-word;'>\"+annotation.annotatedText+\"</div>\";\r\n\t\t}\r\n\t\t\r\n\t\tvar formatedText = !_.isEmpty(annotation.formatedtext) ? annotation.formatedtext : annotation.formatedText;\r\n\t\tif(!_.isEmpty(formatedText)) {\r\n\t\t\t//var mtoHtml = markdown.makeHtml(formatedText);\r\n\t\t\t//var mtoHtmlWithcss = Juicify.inlineCss(mtoHtml,Juicify.cssMap[Juicify.markdownCssUrl]);\r\n\t\t\tvar mtoHtml = renderMarkdown(formatedText || '', $sanitize);\r\n\t\t\tannotataedText = mtoHtml;\r\n\t\t}\r\n\t\t\r\n\t\tif(filters.annotationLink || annotation.linkEnabled) {\r\n\t\t\tannotataedText = annotataedText+\"&nbsp;\"+\"<span style='font-size: 12px;' class='digest-hyphen'>\\\r\n\t\t\t\t<a href='\"+annotation.link+\"' target='_blank' title='open annotation in context'\\\r\n\t\t\t\tstyle='color: #00a2e8; text-decoration: none !important;'>&#8213;&nbsp;View in Article</a>\\\r\n\t\t\t\t</span>\";\r\n\t\t}\r\n\t\treturn annotataedText;\r\n\t}\r\n\t\r\n\tfunction formatCreatedDate(dateValue) {\r\n\t\tvar timeStamp = new Date(dateValue).getTime();\r\n\t\tvar formatedDate = $filter('date')(timeStamp,'MMM d, y h:mm a');\r\n\t\treturn formatedDate;\r\n\t}\r\n\t\r\n\tfunction formatComment(annotation,comment) {\r\n\t\tif(annotation && (annotation.webAnnotation || annotation.documentType == \"WebResource\")) {\r\n\t\t\treturn $filter('markdown')(comment);\r\n\t\t} else {\r\n\t\t\treturn $filter('linky')(comment,'_blank');\r\n\t\t}\r\n\t\t\r\n\t\treturn comment;\r\n\t}\r\n\t\r\n\tfunction openJSPopupWindow(windowFor) {\r\n\t    // In Chrome & Firefox the sizes passed to `window.open` are used for the\r\n\t    // viewport size. In Safari the size is used for the window size including\r\n\t    // title bar etc. There is enough vertical space at the bottom to allow for\r\n\t    \r\n\t\tvar width  = 475;\r\n\t\tvar height = 430;\r\n\t\tif(windowFor == \"Digest Settings\") {\r\n\t\t\twidth  = 850;\r\n\t\t\theight = 474;\r\n\t\t}\r\n\t\tif(windowFor == \"Share Links\") {\r\n\t\t\twidth  = 600;\r\n\t\t\theight = 187;\r\n\t\t}\r\n\t    var left   = $window.screen.width / 2 - width / 2;\r\n\t    var top    = $window.screen.height /2 - height / 2;\r\n\r\n\t    // Generate settings for `window.open` in the required comma-separated\r\n\t    // key=value format.\r\n\t    var WindowSettings = queryString.stringify({\r\n\t      left: left,\r\n\t      top: top,\r\n\t      width: width,\r\n\t      height: height,\r\n\t    }).replace(/&/g, ',');\r\n\r\n\t    return $window.open('about:blank', windowFor, WindowSettings);\r\n\t}\r\n  return {\r\n\t  taskspaceId : taskspaceId,\r\n\t  taskspaceClientId : taskspaceClientId,\r\n\t  annotationLink : annotationLink,\r\n\t  enableBorder : enableBorder,\r\n\t  getDigestFilters : getDigestFilters,\r\n\t  processLinkInfo : processLinkInfo,\r\n\t  getGroupByUIOptions : getGroupByUIOptions,\r\n\t  getEnableBorderUIOptions : getEnableBorderUIOptions,\r\n\t  getImagePositionUIOptions : getImagePositionUIOptions,\r\n\t  getDisplayOrderUIOptions: getDisplayOrderUIOptions,\r\n\t  getDisplayRepliesUIOptions : getDisplayRepliesUIOptions,\r\n\t  preProcessAnnotationDigestResp : preProcessAnnotationDigestResp,\r\n\t  getDigestNameForDoc : getDigestNameForDoc,\r\n\t  getDefaultDigestSettings : getDefaultDigestSettings,\r\n\t  processDataForPublish : processDataForPublish,\r\n\t  SaveAsPdf : SaveAsPdf,\r\n\t  createLinkAnnotationDigest : createLinkAnnotationDigest,\r\n\t  getDigestShareCommentaryTxt : getDigestShareCommentaryTxt,\r\n\t  setDigesMinMaxWidth : setDigesMinMaxWidth,\r\n\t  getTitleStyles : getTitleStyles,\r\n\t  alternateImageStyles : alternateImageStyles,\r\n\t  setRepDigestStyles : setRepDigestStyles,\r\n\t  getAnnotatedText : getAnnotatedText,\r\n\t  formatCreatedDate : formatCreatedDate,\r\n\t  formatComment : formatComment,\r\n\t  openJSPopupWindow : openJSPopupWindow\r\n  };\r\n}\r\n\r\nmodule.exports = sharelinks;\r\n",
    "var StreamFilter;\n\nmodule.exports = StreamFilter = (function() {\n  StreamFilter.prototype.strategies = ['include_any', 'include_all', 'exclude_any', 'exclude_all'];\n\n  StreamFilter.prototype.filter = {\n    match_policy: 'include_any',\n    group: null,\n    clauses: [],\n    actions: {\n      create: true,\n      update: true,\n      \"delete\": true\n    }\n  };\n\n  function StreamFilter() {}\n\n  StreamFilter.prototype.getFilter = function() {\n    return this.filter;\n  };\n\n  StreamFilter.prototype.getMatchPolicy = function() {\n    return this.filter.match_policy;\n  };\n\n  StreamFilter.prototype.getGroup = function() {\n    return this.filter.group;\n  };\n\n  StreamFilter.prototype.getClauses = function() {\n    return this.filter.clauses;\n  };\n\n  StreamFilter.prototype.getActions = function() {\n    return this.filter.actions;\n  };\n\n  StreamFilter.prototype.getActionCreate = function() {\n    return this.filter.actions.create;\n  };\n\n  StreamFilter.prototype.getActionUpdate = function() {\n    return this.filter.actions.update;\n  };\n\n  StreamFilter.prototype.getActionDelete = function() {\n    return this.filter.actions[\"delete\"];\n  };\n\n  StreamFilter.prototype.setMatchPolicy = function(policy) {\n    this.filter.match_policy = policy;\n    return this;\n  };\n\n  StreamFilter.prototype.setGroup = function(group) {\n    this.filter.group = group;\n    return this;\n  };\n\n  StreamFilter.prototype.setMatchPolicyIncludeAny = function() {\n    this.filter.match_policy = 'include_any';\n    return this;\n  };\n\n  StreamFilter.prototype.setMatchPolicyIncludeAll = function() {\n    this.filter.match_policy = 'include_all';\n    return this;\n  };\n\n  StreamFilter.prototype.setMatchPolicyExcludeAny = function() {\n    this.filter.match_policy = 'exclude_any';\n    return this;\n  };\n\n  StreamFilter.prototype.setMatchPolicyExcludeAll = function() {\n    this.filter.match_policy = 'exclude_all';\n    return this;\n  };\n\n  StreamFilter.prototype.setActions = function(actions) {\n    this.filter.actions = actions;\n    return this;\n  };\n\n  StreamFilter.prototype.setActionCreate = function(action) {\n    this.filter.actions.create = action;\n    return this;\n  };\n\n  StreamFilter.prototype.setActionUpdate = function(action) {\n    this.filter.actions.update = action;\n    return this;\n  };\n\n  StreamFilter.prototype.setActionDelete = function(action) {\n    this.filter.actions[\"delete\"] = action;\n    return this;\n  };\n\n  StreamFilter.prototype.noClauses = function() {\n    this.filter.clauses = [];\n    return this;\n  };\n\n  StreamFilter.prototype.addClause = function(field, operator, value, case_sensitive, options) {\n    if (case_sensitive == null) {\n      case_sensitive = false;\n    }\n    if (options == null) {\n      options = {};\n    }\n    this.filter.clauses.push({\n      field: field,\n      operator: operator,\n      value: value,\n      case_sensitive: case_sensitive,\n      options: options\n    });\n    return this;\n  };\n\n  StreamFilter.prototype.resetFilter = function() {\n    this.setMatchPolicyIncludeAny();\n    this.setGroup(null);\n    this.setActionCreate(true);\n    this.setActionUpdate(true);\n    this.setActionDelete(true);\n    this.noClauses();\n    return this;\n  };\n\n  return StreamFilter;\n\n})();\n\n//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9zaWRlYmFyL3NlcnZpY2VzL3N0cmVhbS1maWx0ZXIuY29mZmVlIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiL2hvbWUvdWJ1bnR1L3BkZnRyb25FeHRlbnNpb24vY2xpZW50L3NyYy9zaWRlYmFyL3NlcnZpY2VzL3N0cmVhbS1maWx0ZXIuY29mZmVlIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLElBQUE7O0FBQUEsTUFBTSxDQUFDLE9BQVAsR0FBdUI7eUJBQ3JCLFVBQUEsR0FBWSxDQUFDLGFBQUQsRUFBZ0IsYUFBaEIsRUFBK0IsYUFBL0IsRUFBOEMsYUFBOUM7O3lCQUVaLE1BQUEsR0FDSTtJQUFBLFlBQUEsRUFBZ0IsYUFBaEI7SUFDQSxLQUFBLEVBQU8sSUFEUDtJQUVBLE9BQUEsRUFBVSxFQUZWO0lBR0EsT0FBQSxFQUNFO01BQUEsTUFBQSxFQUFRLElBQVI7TUFDQSxNQUFBLEVBQVEsSUFEUjtNQUVBLENBQUEsTUFBQSxDQUFBLEVBQVEsSUFGUjtLQUpGOzs7RUFRUyxzQkFBQSxHQUFBOzt5QkFFYixTQUFBLEdBQVcsU0FBQTtBQUFHLFdBQU8sSUFBQyxDQUFBO0VBQVg7O3lCQUNYLGNBQUEsR0FBZ0IsU0FBQTtBQUFHLFdBQU8sSUFBQyxDQUFBLE1BQU0sQ0FBQztFQUFsQjs7eUJBQ2hCLFFBQUEsR0FBVSxTQUFBO0FBQUcsV0FBTyxJQUFDLENBQUEsTUFBTSxDQUFDO0VBQWxCOzt5QkFDVixVQUFBLEdBQVksU0FBQTtBQUFHLFdBQU8sSUFBQyxDQUFBLE1BQU0sQ0FBQztFQUFsQjs7eUJBQ1osVUFBQSxHQUFZLFNBQUE7QUFBRyxXQUFPLElBQUMsQ0FBQSxNQUFNLENBQUM7RUFBbEI7O3lCQUNaLGVBQUEsR0FBaUIsU0FBQTtBQUFHLFdBQU8sSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUM7RUFBMUI7O3lCQUNqQixlQUFBLEdBQWlCLFNBQUE7QUFBRyxXQUFPLElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBTyxDQUFDO0VBQTFCOzt5QkFDakIsZUFBQSxHQUFpQixTQUFBO0FBQUcsV0FBTyxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sRUFBQyxNQUFEO0VBQXpCOzt5QkFFakIsY0FBQSxHQUFnQixTQUFDLE1BQUQ7SUFDZCxJQUFDLENBQUEsTUFBTSxDQUFDLFlBQVIsR0FBdUI7V0FDdkI7RUFGYzs7eUJBSWhCLFFBQUEsR0FBVSxTQUFDLEtBQUQ7SUFDUixJQUFDLENBQUEsTUFBTSxDQUFDLEtBQVIsR0FBZ0I7V0FDaEI7RUFGUTs7eUJBSVYsd0JBQUEsR0FBMEIsU0FBQTtJQUN4QixJQUFDLENBQUEsTUFBTSxDQUFDLFlBQVIsR0FBdUI7V0FDdkI7RUFGd0I7O3lCQUkxQix3QkFBQSxHQUEwQixTQUFBO0lBQ3hCLElBQUMsQ0FBQSxNQUFNLENBQUMsWUFBUixHQUF1QjtXQUN2QjtFQUZ3Qjs7eUJBSTFCLHdCQUFBLEdBQTBCLFNBQUE7SUFDeEIsSUFBQyxDQUFBLE1BQU0sQ0FBQyxZQUFSLEdBQXVCO1dBQ3ZCO0VBRndCOzt5QkFJMUIsd0JBQUEsR0FBMEIsU0FBQTtJQUN4QixJQUFDLENBQUEsTUFBTSxDQUFDLFlBQVIsR0FBdUI7V0FDdkI7RUFGd0I7O3lCQUkxQixVQUFBLEdBQVksU0FBQyxPQUFEO0lBQ1YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFSLEdBQWtCO1dBQ2xCO0VBRlU7O3lCQUlaLGVBQUEsR0FBaUIsU0FBQyxNQUFEO0lBQ2YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBaEIsR0FBeUI7V0FDekI7RUFGZTs7eUJBSWpCLGVBQUEsR0FBaUIsU0FBQyxNQUFEO0lBQ2YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLENBQUMsTUFBaEIsR0FBeUI7V0FDekI7RUFGZTs7eUJBSWpCLGVBQUEsR0FBaUIsU0FBQyxNQUFEO0lBQ2YsSUFBQyxDQUFBLE1BQU0sQ0FBQyxPQUFPLEVBQUMsTUFBRCxFQUFmLEdBQXlCO1dBQ3pCO0VBRmU7O3lCQUlqQixTQUFBLEdBQVcsU0FBQTtJQUNULElBQUMsQ0FBQSxNQUFNLENBQUMsT0FBUixHQUFrQjtXQUNsQjtFQUZTOzt5QkFJWCxTQUFBLEdBQVcsU0FBQyxLQUFELEVBQVEsUUFBUixFQUFrQixLQUFsQixFQUF5QixjQUF6QixFQUFpRCxPQUFqRDs7TUFBeUIsaUJBQWlCOzs7TUFBTyxVQUFVOztJQUNwRSxJQUFDLENBQUEsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFoQixDQUNFO01BQUEsS0FBQSxFQUFPLEtBQVA7TUFDQSxRQUFBLEVBQVUsUUFEVjtNQUVBLEtBQUEsRUFBTyxLQUZQO01BR0EsY0FBQSxFQUFnQixjQUhoQjtNQUlBLE9BQUEsRUFBUyxPQUpUO0tBREY7V0FNQTtFQVBTOzt5QkFTWCxXQUFBLEdBQWEsU0FBQTtJQUNYLElBQUMsQ0FBQSx3QkFBRCxDQUFBO0lBQ0EsSUFBQyxDQUFBLFFBQUQsQ0FBVSxJQUFWO0lBQ0EsSUFBQyxDQUFBLGVBQUQsQ0FBaUIsSUFBakI7SUFDQSxJQUFDLENBQUEsZUFBRCxDQUFpQixJQUFqQjtJQUNBLElBQUMsQ0FBQSxlQUFELENBQWlCLElBQWpCO0lBQ0EsSUFBQyxDQUFBLFNBQUQsQ0FBQTtXQUNBO0VBUFcifQ==\n",
    "'use strict';\r\n\r\nvar queryString = require('query-string');\r\nvar uuid = require('node-uuid');\r\n\r\nvar events = require('../events');\r\nvar Socket = require('../websocket');\r\n\r\n\r\n\r\n/*LOGOUT_NOTIFICATION,\r\n\t\t\r\n\t\tCOMMENT_CREATED_OR_UPDATED,\r\n\t\tCOMMENT_DELETED,\r\n\t\t\r\n\t\tDOCS_ADDED,\r\n\t\tDOCS_REMOVED,\r\n\t\tDOCUMENT_MOVED,\r\n\t\t\r\n\t\t\r\n\t\tSHARED,\r\n\t\tUNSHARED,\r\n\t\tPERMISSIONS_CHANGED,\r\n\t\t\r\n\t\tSECTION_ADDED,\r\n\t\tSECTION_REMOVED,\r\n\t\tSECTION_RENAMED,\r\n\t\t\r\n\t\tSHEDULED_MAINTENANCE,\r\n\t\tSHEDULED_SHUTDOWN,\r\n\t\t\r\n\t\tTS_DELETED,\r\n\t\tTS_CREATED,\r\n\t\tTS_RENAMED,\r\n\t\tTS_OWNER_CHANGED,\r\n\t\t\r\n\t\tMSOFFICE_AUTH_UPDATE,\r\n\t\tLINKEDIN_AUTH_UPDATE,*/\r\n\r\n/**\r\n * Open a new WebSocket connection to the Hypothesis push notification service.\r\n * Only one websocket connection may exist at a time, any existing socket is\r\n * closed.\r\n *\r\n * @param $rootScope - Scope used to $apply() app state changes\r\n *                     resulting from WebSocket messages, in order to update\r\n *                     appropriate watchers.\r\n * @param annotationMapper - The local annotation store\r\n * @param groups - The local groups store\r\n * @param session - Provides access to read and update the session state\r\n * @param settings - Application settings\r\n */\r\n// @ngInject\r\nfunction Streamer($rootScope, annotationMapper, store, auth,\r\n\tgroups, session, settings, flash, extCommunicator, confirm,_) {\r\n\t// The randomly generated session UUID\r\n\tvar clientId = uuid.v4();\r\n\r\n\t// The socket instance for this Streamer instance\r\n\tvar socket;\r\n\r\n\t// Client configuration messages, to be sent each time a new connection is\r\n\t// established.\r\n\tvar configMessages = {};\r\n\r\n\t// The streamer maintains a set of pending updates and deletions which have\r\n\t// been received via the WebSocket but not yet applied to the contents of the\r\n\t// app.\r\n\t//\r\n\t// This state should be managed as part of the global app state in\r\n\t// store, but that is currently difficult because applying updates\r\n\t// requires filtering annotations against the focused group (information not\r\n\t// currently stored in the app state) and triggering events in order to update\r\n\t// the annotations displayed in the page.\r\n\r\n\t// Map of ID -> updated annotation for updates that have been received over\r\n\t// the WS but not yet applied\r\n\tvar pendingUpdates = {};\r\n\tvar pendingGroupCounts = {};\r\n\t// Set of IDs of annotations which have been deleted but for which the\r\n\t// deletion has not yet been applied\r\n\tvar pendingDeletions = {};\r\n\t\r\n\tfunction getTaskspaceUpdateMessage(message) {\r\n\t\tvar text = \"\";\r\n\t\tvar key = message.action;\r\n\t\tif (key == \"DOCS_ADDED\") {\r\n\t\t\ttext = text + message.userId + ' Added a Document to the taskspace \\n';\r\n\t\t}\r\n\t\tif (key == \"SECTION_ADDED\") {\r\n\t\t\ttext = text + message.userId + ' Added a Section to the taskspace \\n';\r\n\t\t}\r\n\t\tif (key == \"SECTION_REMOVED\") {\r\n\t\t\ttext = text + message.userId + ' Removed a Section from the taskspace \\n';\r\n\t\t}\r\n\t\tif (key == \"SECTION_RENAMED\") {\r\n\t\t\ttext = text + message.userId + ' Renamed a Taskspace Section  \\n';\r\n\t\t}\r\n\r\n\t\tif (key == \"COMMENT_CREATED_OR_UPDATED\") {\r\n\t\t\ttext = text + message.userId + ' Added a comment \\n';\r\n\t\t}\r\n\r\n\t\tif (key == \"COMMENT_DELETED\") {\r\n\t\t\ttext = text + message.userId + ' Deleted a comment \\n';\r\n\t\t}\r\n\r\n\t\tif (key == \"DOCS_REMOVED\") {\r\n\t\t\ttext = text + message.userId + ' Removed a document from the taskspace \\n';\r\n\t\t}\r\n\r\n\t\tif (key == \"TS_RENAMED\") {\r\n\t\t\ttext = text + message.userId + ' Renamed the taskspace \\n';\r\n\t\t}\r\n\t\tif (key == \"TS_DELETED\") {\r\n\t\t\ttext = text + message.userId + ' Deleted the taskspace \\n';\r\n\t\t}\r\n\t\tif (key == \"TS_CREATED\") {\r\n\t\t\ttext = text + message.userId + ' Added a taskspace \\n';\r\n\t\t}\r\n\t\tif (key == \"TS_OWNER_CHANGED\") {\r\n\t\t\ttext = text + message.userId + ' Changed  the taskspace Owner \\n';\r\n\t\t}\r\n\r\n\t\tif (key == \"DOCUMENT_MOVED\") {\r\n\t\t\ttext = text + message.userId + ' Moved the taskspace Document \\n';\r\n\t\t}\r\n\r\n\t\tif (key == \"SHARED\") {\r\n\t\t\ttext = text + message.userId + ' Shared the taskspace \\n';\r\n\t\t}\r\n\t\t\r\n\t\tif(key == \"PERMISSIONS_CHANGED\") {\r\n\t\t\ttext = text + message.userId + ' changed the taskspace permissions \\n';\r\n\t\t}\r\n\r\n\t\tif (key == \"UNSHARED\") {\r\n\t\t\ttext = text + message.userId + ' Unshared the taskspace \\n';\r\n\t\t}\r\n\t\treturn text;\r\n\t}\r\n\r\n    function ownNotification(message) {\r\n\t\t var currentUser = store.profile() && store.profile().userid ? store.profile().userid : \"\";\r\n\t\t if (message.userId && currentUser && \"acct:\"+message.userId.toLowerCase() == currentUser.toLowerCase()) {\r\n\t\t\treturn true;\r\n\t\t }\r\n\t     return false;\r\n    }\r\n\r\n\tfunction handleAnnotationNotification(message) {\r\n\t\tvar action = message.action;\r\n\t\tvar annotations = message.data ? [message.data] : [];\r\n\r\n\t\tswitch (action) {\r\n\t\t\tcase 'COMMENT_CREATED_OR_UPDATED':\r\n\t\t\t\tannotations.forEach(function(ann) {\r\n\t\t\t\t\t// In the sidebar, only save pending updates for annotations in the\r\n\t\t\t\t\t// focused group, since we only display annotations from the focused\r\n\t\t\t\t\t// group and reload all annotations and discard pending updates\r\n\t\t\t\t\t// when switching groups.\r\n\t\t\t\t\tif (ann.group === groups.focusedId() || !store.isSidebar()) {\r\n\t\t\t\t\t\tpendingUpdates[ann.id] = ann;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 'COMMENT_DELETED':\r\n\t\t\t\tannotations.forEach(function(ann) {\r\n\t\t\t\t\t// Discard any pending but not-yet-applied updates for this annotation\r\n\t\t\t\t\tdelete pendingUpdates[ann.id];\r\n\r\n\t\t\t\t\t// If we already have this annotation loaded, then record a pending\r\n\t\t\t\t\t// deletion. We do not check the group of the annotation here because a)\r\n\t\t\t\t\t// that information is not included with deletion notifications and b)\r\n\t\t\t\t\t// even if the annotation is from the current group, it might be for a\r\n\t\t\t\t\t// new annotation (saved in pendingUpdates and removed above), that has\r\n\t\t\t\t\t// not yet been loaded.\r\n\t\t\t\t\tif (store.annotationExists(ann.id)) {\r\n\t\t\t\t\t\tpendingDeletions[ann.id] = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tvar focusedGroup = groups.focused();\r\n\t\tif (focusedGroup) {\r\n\t\t\tpendingGroupCounts[focusedGroup.id] = message.count;\r\n\t\t}\r\n\r\n\t\tif (!store.isSidebar()) {\r\n\t\t\tapplyPendingUpdates();\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleSessionChangeNotification(message) {\r\n\t\tsession.update(message.model);\r\n\t\tgroups.load();\r\n\t}\r\n\r\n\tfunction handleGroupNotification(message) {\r\n\t\tgroups.load();\r\n\t\textCommunicator.sendmessage({ action: \"badgeCount\" });\r\n\t\tif (message[\"notification-message\"]) {\r\n\t\t\tflash.info(message[\"notification-message\"]);\r\n\t\t}\r\n\t\tshowMessage(message);\r\n\t}\r\n\r\n\tfunction handleGroupUpdated(message) {\r\n\t\tif (!message.tsId && !message.tsClientId) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tgroups.getTaskspace(message.tsId, message.tsClientId).then(gp => {\r\n\t\t\tif (gp) {\r\n\t\t\t\tstore.replaceGroup(gp.id, gp);\r\n\t\t\t\textCommunicator.sendmessage({ action: \"badgeCount\" });\r\n\t\t\t\tshowMessage(message);\r\n\t\t\t}\r\n\t\t});\r\n\t\t$rootScope.$broadcast(events.GROUP_UPDATED,message.tsId);\r\n\t}\r\n\r\n   function handleDocRemoved(message) {\r\n\t\tif (!message.tsId && !message.tsClientId) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (!ownNotification(message) && message.tsId === groups.focusedId() || !store.isSidebar()) {\r\n\t\t\tvar gp = groups.focused();\r\n\t\t\tif(gp && message.docIds &&  message.docIds.indexOf(gp.objId) != -1) {\r\n\t\t\t\tconfirmRemove(message).finally(function() {\r\n\t\t\t\t\tremoveDoc(message);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tremoveDoc(message);\r\n\t\t\tshowMessage(message);\r\n\t\t}\r\n   }\r\n   \r\n\r\n    function showMessage(message) {\r\n\t\tvar notificationMessage = getTaskspaceUpdateMessage(message);\r\n\t\tif(!notificationMessage && ownNotification(message)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tflash.info(notificationMessage);\r\n\t}\r\n\r\n\tfunction handleNewGroup(message) {\r\n\t\tif (!message.tsId && !message.tsClientId) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tgroups.getTaskspace(message.tsId, message.tsClientId).then(gp => {\r\n\t\t\tif (gp) {\r\n\t\t\t\tvar gs = store.allGroups();\r\n\t\t\t\tif (gs && gs.length == 0) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tconst group = gs.find(g => g.id === gp.id);\r\n\t\t\t\tif (group) {\r\n\t\t\t\t\tvar allgroups = gs.map(function(group) {\r\n\t\t\t\t\t\tif (group.id !== gp.id) {\r\n\t\t\t\t\t\t\treturn group;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn Object.assign({}, group, gp);\r\n\t\t\t\t\t});\r\n\t\t\t\t\tstore.loadGroups(allgroups);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar allgroups = gs.map(function(group) {\r\n\t\t\t\t\t\treturn group;\r\n\t\t\t\t\t});\r\n\t\t\t\t\tallgroups = allgroups ? allgroups.concat([gp]) : [gp];\r\n\t\t\t\t\tstore.loadGroups(allgroups);\r\n\t\t\t\t}\r\n\t\t\t    showMessage(message);\r\n                extCommunicator.sendmessage({ action: \"badgeCount\" });\r\n                $rootScope.$broadcast(events.GROUP_UPDATED,message.tsId);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n    function removeGroup(id) {\r\n\t\tvar gs = store.allGroups();\r\n\t\tif(gs && gs.length == 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tvar allgroups = gs.filter(function(group) {\r\n\t\t\treturn group.id !== id;\r\n\t\t});\r\n\t\tallgroups = allgroups ? allgroups : [];\r\n\t\tstore.loadGroups([]);\r\n\t\tgroups.loadAllGroups(allgroups);\r\n    }\r\n\r\n     function removeDoc(message) {\r\n\t\tgroups.getTaskspace(message.tsId, message.tsClientId).then(gp => {\r\n\t\t\tif (gp) {\r\n\t\t\t\tstore.replaceGroup(gp.id, gp);\r\n\t\t\t\textCommunicator.sendmessage({ action: \"badgeCount\" });\r\n\t\t\t\tshowMessage(message);\r\n\t\t\t}\r\n\t\t});\r\n\t\t$rootScope.$broadcast(events.GROUP_UPDATED,message.tsId);\r\n    }\r\n\r\n\r\n\r\n\tfunction handleRemoveGroupNotification(message) {\r\n\t\tif (!message.tsId && !message.tsClientId) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (!ownNotification(message) && message.tsId === groups.focusedId() || !store.isSidebar()) {\r\n\t\t\tconfirmRemove(message).finally(function() {\r\n\t\t\t\tremoveGroup(message.tsId );\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tremoveGroup(message.tsId );\r\n\t\t\tshowMessage(message);\r\n\t\t}\r\n\t}\r\n\r\n   function isNotificationForMe(message) {\r\n\tvar status = false;\r\n\tif(message.collaborators) {\r\n\t\tvar currentUser = store.profile() && store.profile().userid ? store.profile().userid : \"\";\r\n\t\tvar user = _.find(message.collaborators, function(val) {\r\n\t\t\treturn currentUser && \"acct:\"+val.toLowerCase() == currentUser.toLowerCase();\r\n\t\t});\r\n\t\tif(user) {\r\n\t\t\tstatus = true;\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn status;\r\n   }\r\n\r\n   function handleUnshareGroupNotification(message) {\r\n\t\tif (!message.tsId && !message.tsClientId) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif (!ownNotification(message) && isNotificationForMe(message)  || !store.isSidebar()) {\r\n\t\t\tif(message.tsId === groups.focusedId()) {\r\n\t\t\t\tconfirmRemove(message).finally(function() {\r\n\t\t\t\t\tremoveGroup(message.tsId );\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tremoveGroup(message.tsId );\r\n\t\t\t\tshowMessage(message);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tgroups.getTaskspace(message.tsId, message.tsClientId).then(gp => {\r\n\t\t\t\tif (gp) {\r\n\t\t\t\t\tstore.replaceGroup(gp.id, gp);\r\n\t\t\t\t\tshowMessage(message);\r\n\t\t\t\t\t$rootScope.$broadcast(events.GROUP_UPDATED,message.tsId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n   }\r\n   \r\n   function handleShareGroupNotification(message) {\r\n\t\tif (!message.tsId && !message.tsClientId) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tif ( isNotificationForMe(message)) {\r\n\t\t\thandleNewGroup(message);\r\n\t\t} else {\r\n\t\t\tgroups.getTaskspace(message.tsId, message.tsClientId).then(gp => {\r\n\t\t\t\tif (gp) {\r\n\t\t\t\t\tstore.replaceGroup(gp.id, gp);\r\n\t\t\t\t\tshowMessage(message);\r\n\t\t\t\t\t$rootScope.$broadcast(events.GROUP_UPDATED,message.tsId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n   }\r\n\r\n   function confirmRemove(message) {\r\n\t\tvar notificationMessage = getTaskspaceUpdateMessage(message);\r\n\t\tvar msg = notificationMessage;\r\n\t\tvar modalOptions = {\r\n\t\t\tcloseButtonText: 'Cancel',\r\n\t\t\tactionButtonText: 'Ok',\r\n\t\t\theaderText: 'Notification',\r\n\t\t\tbodyText: msg\r\n\t\t};\r\n\t\treturn confirm.showModal({}, modalOptions);\r\n\t}\r\n\r\n\tfunction handleLinkedInAuthNotification(message) {\r\n\t\t$rootScope.$broadcast('LinkedInAuthNotification', message.options);\r\n\t}\r\n\r\n\tfunction handleScheduleMaintenaceNotification(message) {\r\n\t\t$rootScope.$broadcast(message.action, message.options);\r\n\t}\r\n\tfunction handleSocketOnError(event) {\r\n\t\tconsole.warn('Error connecting to Numici push notification service:', event);\r\n\r\n\t\t// In development, warn if the connection failure might be due to\r\n\t\t// the app's origin not having been whitelisted in the H service's config.\r\n\t\t//\r\n\t\t// Unfortunately the error event does not provide a way to get at the\r\n\t\t// HTTP status code for HTTP -> WS upgrade requests.\r\n\t\tvar websocketHost = new URL(settings.websocketUrl).hostname;\r\n\t\tif (['localhost', '127.0.0.1'].indexOf(websocketHost) !== -1) {\r\n\t\t\tconsole.warn('Check that your Numici service is configured to allow ' +\r\n\t\t\t\t'WebSocket connections from ' + window.location.origin);\r\n\t\t}\r\n\t}\r\n\r\n\tfunction handleSocketOnMessage(event) {\r\n\t\t// Wrap message dispatches in $rootScope.$apply() so that\r\n\t\t// scope watches on app state affected by the received message\r\n\t\t// are updated\r\n\t\t$rootScope.$apply(function() {\r\n\t\t\tvar message = JSON.parse(event.data);\r\n\t\t\tif (!message) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (message.action === 'COMMENT_CREATED_OR_UPDATED' || message.action === 'COMMENT_DELETED') {\r\n\t\t\t\thandleAnnotationNotification(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (message.type === 'session-change') {\r\n\t\t\t\thandleSessionChangeNotification(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (message.action === 'TS_DELETED') {\r\n\t\t\t\thandleRemoveGroupNotification(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n            if (message.action === 'SHARED') {\r\n\t\t\t\thandleShareGroupNotification(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tif (message.action === 'UNSHARED') {\r\n\t\t\t\thandleUnshareGroupNotification(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tif (message.action === 'SECTION_ADDED'\r\n\t\t\t\t|| message.action === 'SECTION_REMOVED'\r\n\t\t\t\t|| message.action === 'SECTION_RENAMED'\r\n\t\t\t\t|| message.action === 'TS_OWNER_CHANGED'\r\n\t\t\t\t|| message.action === 'TS_RENAMED'\r\n\t\t\t\t|| message.action === 'PERMISSIONS_CHANGED') {\r\n\t\t\t\thandleGroupUpdated(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (message.action === 'TS_CREATED') {\r\n\t\t\t\thandleNewGroup(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (message.action === 'DOCS_ADDED') {\r\n\t\t\t\thandleGroupUpdated(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (message.action === 'DOCS_REMOVED') {\r\n\t\t\t\thandleDocRemoved(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (message.action === 'DOCUMENT_MOVED') {\r\n\t\t\t\thandleGroupUpdated(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tif (message.type === 'whoyouare') {\r\n\t\t\t\tvar userid = store.getState().session.userid;\r\n\t\t\t\tif (userid && message.userid !== userid) {\r\n\t\t\t\t\tconsole.warn('WebSocket user ID \"%s\" does not match logged-in ID \"%s\"', message.userid, userid);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (message.type === 'LOGOUT_NOTIFICATION') {\r\n\t\t\t\tsession.logout();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (message.type === 'LINKEDIN_AUTH_UPDATE') {\r\n\t\t\t\thandleLinkedInAuthNotification(message);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (message.action === 'SHEDULED_MAINTENANCE' || message.action === \"SHEDULED_SHUTDOWN\") {\r\n\t\t\t\thandleScheduleMaintenaceNotification(message)\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\r\n\t\t\tconsole.warn('received unsupported notification', message.type);\r\n\t\t});\r\n\t}\r\n\r\n\tfunction sendClientConfig() {\r\n\t\tObject.keys(configMessages).forEach(function(key) {\r\n\t\t\tif (configMessages[key]) {\r\n\t\t\t\tsocket.send(configMessages[key]);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n\r\n\t/**\r\n\t * Send a configuration message to the push notification service.\r\n\t * Each message is associated with a key, which is used to re-send\r\n\t * configuration data to the server in the event of a reconnection.\r\n\t */\r\n\tfunction setConfig(key, configMessage) {\r\n\t\tconfigMessages[key] = configMessage;\r\n\t\tif (socket && socket.isConnected()) {\r\n\t\t\tsocket.send(configMessage);\r\n\t\t}\r\n\t}\r\n\r\n\tvar _connect = function() {\r\n\t\t// If we have no URL configured, don't do anything.\r\n\t\tif (!settings.websocketUrl) {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\r\n\t\treturn auth.tokenGetter().then(function(token) {\r\n\t\t\tvar url;\r\n\t\t\tif (token) {\r\n\t\t\t\t// Include the access token in the URL via a query param. This method\r\n\t\t\t\t// is used to send credentials because the `WebSocket` constructor does\r\n\t\t\t\t// not support setting the `Authorization` header directly as we do for\r\n\t\t\t\t// other API requests.\r\n\t\t\t\tvar parsedURL = new URL(settings.websocketUrl);\r\n\t\t\t\tvar queryParams = queryString.parse(parsedURL.search);\r\n\t\t\t\tqueryParams.access_token = token;\r\n\t\t\t\tparsedURL.search = queryString.stringify(queryParams);\r\n\t\t\t\turl = parsedURL.toString();\r\n\t\t\t} else {\r\n\t\t\t\turl = settings.websocketUrl;\r\n\t\t\t}\r\n\r\n\t\t\tsocket = new Socket(url);\r\n\r\n\t\t\tsocket.on('open', sendClientConfig);\r\n\t\t\tsocket.on('error', handleSocketOnError);\r\n\t\t\tsocket.on('message', handleSocketOnMessage);\r\n\r\n\t\t\t// Configure the client ID\r\n\t\t\tsetConfig('client-id', {\r\n\t\t\t\tmessageType: 'client_id',\r\n\t\t\t\tvalue: clientId,\r\n\t\t\t});\r\n\r\n\t\t\t// Send a \"whoami\" message. The server will respond with a \"whoyouare\"\r\n\t\t\t// reply which is useful for verifying that authentication worked as\r\n\t\t\t// expected.\r\n\t\t\tsetConfig('auth-check', {\r\n\t\t\t\ttype: 'whoami',\r\n\t\t\t\tid: 1,\r\n\t\t\t});\r\n\t\t}).catch(function(err) {\r\n\t\t\tconsole.error('Failed to fetch token for WebSocket authentication', err);\r\n\t\t});\r\n\t};\r\n\r\n\t/**\r\n\t * Connect to the Hypothesis real time update service.\r\n\t *\r\n\t * If the service has already connected this does nothing.\r\n\t *\r\n\t * @return {Promise} Promise which resolves once the WebSocket connection\r\n\t *                   process has started.\r\n\t */\r\n\tfunction connect() {\r\n\t\tif (socket) {\r\n\t\t\treturn Promise.resolve();\r\n\t\t}\r\n\r\n\t\treturn _connect();\r\n\t}\r\n\r\n\t/**\r\n\t * Connect to the Hypothesis real time update service.\r\n\t *\r\n\t * If the service has already connected this closes the existing connection\r\n\t * and reconnects.\r\n\t *\r\n\t * @return {Promise} Promise which resolves once the WebSocket connection\r\n\t *                   process has started.\r\n\t */\r\n\tfunction reconnect() {\r\n\t\tif (socket) {\r\n\t\t\tsocket.close();\r\n\t\t}\r\n\r\n\t\treturn _connect();\r\n\t}\r\n\r\n\tfunction applyPendingUpdates() {\r\n\t\tvar updates = Object.values(pendingUpdates);\r\n\t\tvar deletions = Object.keys(pendingDeletions).map(function(id) {\r\n\t\t\treturn { id: id };\r\n\t\t});\r\n\r\n\t\tif (updates.length) {\r\n\t\t\tannotationMapper.loadAnnotations(updates);\r\n\t\t}\r\n\t\tif (deletions.length) {\r\n\t\t\tannotationMapper.unloadAnnotations(deletions);\r\n\t\t}\r\n\t\tif (Object.keys(pendingGroupCounts).length !== 0) {\r\n\t\t\tgroups.updateCount(pendingGroupCounts)\r\n\t\t}\r\n\t\tpendingUpdates = {};\r\n\t\tpendingDeletions = {};\r\n\t\tpendingGroupCounts = {};\r\n\t}\r\n\r\n\tfunction countPendingUpdates() {\r\n\t\treturn Object.keys(pendingUpdates).length +\r\n\t\t\tObject.keys(pendingDeletions).length;\r\n\t}\r\n\r\n\tfunction hasPendingDeletion(id) {\r\n\t\treturn pendingDeletions.hasOwnProperty(id);\r\n\t}\r\n\r\n\tfunction removePendingUpdates(event, anns) {\r\n\t\tif (!Array.isArray(anns)) {\r\n\t\t\tanns = [anns];\r\n\t\t}\r\n\t\tanns.forEach(function(ann) {\r\n\t\t\tdelete pendingUpdates[ann.id];\r\n\t\t\tdelete pendingDeletions[ann.id];\r\n\t\t});\r\n\t}\r\n\r\n\tfunction clearPendingUpdates() {\r\n\t\tpendingUpdates = {};\r\n\t\tpendingDeletions = {};\r\n\t}\r\n\r\n\tvar updateEvents = [\r\n\t\tevents.ANNOTATION_DELETED,\r\n\t\tevents.ANNOTATION_UPDATED,\r\n\t\tevents.ANNOTATIONS_UNLOADED,\r\n\t];\r\n\r\n\tupdateEvents.forEach(function(event) {\r\n\t\t$rootScope.$on(event, removePendingUpdates);\r\n\t});\r\n\t$rootScope.$on(events.GROUP_FOCUSED, clearPendingUpdates);\r\n\r\n\tthis.applyPendingUpdates = applyPendingUpdates;\r\n\tthis.countPendingUpdates = countPendingUpdates;\r\n\tthis.hasPendingDeletion = hasPendingDeletion;\r\n\tthis.clientId = clientId;\r\n\tthis.configMessages = configMessages;\r\n\tthis.connect = connect;\r\n\tthis.reconnect = reconnect;\r\n\tthis.setConfig = setConfig;\r\n}\r\n\r\nmodule.exports = Streamer;\r\n",
    "'use strict';\n\n/**\n * @typedef Tag\n * @property {string} text - The label of the tag\n * @property {number} count - The number of times this tag has been used.\n * @property {number} updated - The timestamp when this tag was last used.\n */\n\n/**\n * Service for fetching tag suggestions and storing data to generate them.\n *\n * The `tags` service stores metadata about recently used tags to local storage\n * and provides a `filter` method to fetch tags matching a query, ranked based\n * on frequency of usage.\n */\n// @ngInject\nfunction tags(localStorage) {\n  var TAGS_LIST_KEY = 'hypothesis.user.tags.list';\n  var TAGS_MAP_KEY = 'hypothesis.user.tags.map';\n\n  /**\n   * Return a list of tag suggestions matching `query`.\n   *\n   * @param {string} query\n   * @return {Tag[]} List of matching tags\n   */\n  function filter(query) {\n    var savedTags = localStorage.getObject(TAGS_LIST_KEY) || [];\n\n    return savedTags.filter((e) => {\n      return e.toLowerCase().indexOf(query.toLowerCase()) !== -1;\n    });\n  }\n\n  /**\n   * Update the list of stored tag suggestions based on the tags that a user has\n   * entered for a given annotation.\n   *\n   * @param {Tag} tags - List of tags.\n   */\n  function store(tags) {\n    // Update the stored (tag, frequency) map.\n    var savedTags = localStorage.getObject(TAGS_MAP_KEY) || {};\n    tags.forEach((tag) => {\n      if (savedTags[tag.text]) {\n        savedTags[tag.text].count += 1;\n        savedTags[tag.text].updated = Date.now();\n      } else {\n        savedTags[tag.text] = {\n          text: tag.text,\n          count: 1,\n          updated: Date.now(),\n        };\n      }\n    });\n    localStorage.setObject(TAGS_MAP_KEY, savedTags);\n\n    // Sort tag suggestions by frequency.\n    var tagsList = Object.keys(savedTags).sort((t1, t2) => {\n      if (savedTags[t1].count !== savedTags[t2].count) {\n        return savedTags[t2].count - savedTags[t1].count;\n      }\n      return t1.localeCompare(t2);\n    });\n    localStorage.setObject(TAGS_LIST_KEY, tagsList);\n  }\n\n  function getTagsByKey(key) {\n\treturn api.tags.searchResourceTags({\"searchKey\": key}).then(function(resp) {\n\t\tif(resp) {\n\t\t\treturn resp;\n\t\t} else {\n\t\t\treturn filter(key);\n\t\t}\n\t});\n  }\n\n  return {\n    filter,\n    store,\n\tgetTagsByKey\n  };\n}\n\nmodule.exports = tags;\n",
    "'use strict';\r\n\r\n/**\r\n * A service for displaying \"confirm\"  messages.\r\n */\r\n\r\n// @ngInject\r\nfunction timelog($window, settings, endTime) {\r\n\tvar uri = 'data:application/vnd.ms-excel;base64,',\r\n\t\ttemplate = '<html xmlns:o=\"urn:schemas-microsoft-com:office:office\" xmlns:x=\"urn:schemas-microsoft-com:office:excel\" xmlns=\"http://www.w3.org/TR/REC-html40\"><head><!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets><x:ExcelWorksheet><x:Name>{worksheet}</x:Name><x:WorksheetOptions><x:DisplayGridlines/></x:WorksheetOptions></x:ExcelWorksheet></x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--></head><body><table>{table}</table></body></html>',\r\n\t\tbase64 = function(s) { return $window.btoa(unescape(encodeURIComponent(s))); },\r\n\t\tformat = function(s, c) { return s.replace(/{(\\w+)}/g, function(m, p) { return c[p]; }) };\r\n\tvar extensionLoadingTime = null;\r\n\tvar TimeLog = {\r\n\t\ttimeLogInfo: [],\r\n\t\tsetTimeLogInfo: setTimeLogInfo,\r\n\t\tgetTimeLogInfo: getTimeLogInfo,\r\n\t\tclearLog: clearLog,\r\n\t\ttableToExcel: tableToExcel\r\n\t}\r\n\tfunction setTimeLogInfo(logInfo) {\r\n\t\tTimeLog.timeLogInfo.push(logInfo);\r\n\t}\r\n\r\n\tfunction getTimeLogInfo() {\r\n\t\tif(extensionLoadingTime) {\r\n\t\t\tTimeLog.timeLogInfo.unshift(extensionLoadingTime);\r\n\t\t}\r\n\t\treturn TimeLog.timeLogInfo;\r\n\t}\r\n\r\n\tfunction clearLog() {\r\n\t\tTimeLog.timeLogInfo = [];\r\n\t}\r\n\r\n\tfunction tableToExcel(tableId, worksheetName) {\r\n\t\tvar table = angular.element(document.querySelector(tableId)),\r\n\t\t\tctx = { worksheet: worksheetName, table: table.html() },\r\n\t\t\thref = uri + base64(format(template, ctx));\r\n\t\treturn href;\r\n\t}\r\n\r\n\tfunction init() {\r\n\t\ttry {\r\n\t\t\tvar time = endTime - settings.startTime;\r\n\t\t\ttime = (time / 1000);\r\n\t\t\tif (time >= 0) {\r\n\t\t\t\textensionLoadingTime = {\r\n\t\t\t\t\t'timeStamp': settings.startTime,\r\n\t\t\t\t\t'resp_timeStamp': endTime,\r\n\t\t\t\t\t'requestedUrl': \"Loading Side bar\",\r\n\t\t\t\t\t'httpStatus': \"NA\",\r\n\t\t\t\t\t'responseTime': time\r\n\t\t\t\t};\r\n\t\t\t\ttimelog.setTimeLogInfo(timeLog);\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\t\r\n\t\t}\r\n\r\n\t}\r\n\tinit();\r\n\treturn TimeLog;\r\n}\r\n\r\nmodule.exports = timelog;\r\n",
    "'use strict';\n\nvar unorm = require('unorm');\n\n/**\n * Unicode combining characters\n * from http://xregexp.com/addons/unicode/unicode-categories.js line:30\n */\nvar COMBINING_MARKS = /[\\u0300-\\u036F\\u0483-\\u0489\\u0591-\\u05BD\\u05BF\\u05C1\\u05C2\\u05C4\\u05C5\\u05C7\\u0610-\\u061A\\u064B-\\u065F\\u0670\\u06D6-\\u06DC\\u06DF-\\u06E4\\u06E7\\u06E8\\u06EA-\\u06ED\\u0711\\u0730-\\u074A\\u07A6-\\u07B0\\u07EB-\\u07F3\\u0816-\\u0819\\u081B-\\u0823\\u0825-\\u0827\\u0829-\\u082D\\u0859-\\u085B\\u08E4-\\u08FE\\u0900-\\u0903\\u093A-\\u093C\\u093E-\\u094F\\u0951-\\u0957\\u0962\\u0963\\u0981-\\u0983\\u09BC\\u09BE-\\u09C4\\u09C7\\u09C8\\u09CB-\\u09CD\\u09D7\\u09E2\\u09E3\\u0A01-\\u0A03\\u0A3C\\u0A3E-\\u0A42\\u0A47\\u0A48\\u0A4B-\\u0A4D\\u0A51\\u0A70\\u0A71\\u0A75\\u0A81-\\u0A83\\u0ABC\\u0ABE-\\u0AC5\\u0AC7-\\u0AC9\\u0ACB-\\u0ACD\\u0AE2\\u0AE3\\u0B01-\\u0B03\\u0B3C\\u0B3E-\\u0B44\\u0B47\\u0B48\\u0B4B-\\u0B4D\\u0B56\\u0B57\\u0B62\\u0B63\\u0B82\\u0BBE-\\u0BC2\\u0BC6-\\u0BC8\\u0BCA-\\u0BCD\\u0BD7\\u0C01-\\u0C03\\u0C3E-\\u0C44\\u0C46-\\u0C48\\u0C4A-\\u0C4D\\u0C55\\u0C56\\u0C62\\u0C63\\u0C82\\u0C83\\u0CBC\\u0CBE-\\u0CC4\\u0CC6-\\u0CC8\\u0CCA-\\u0CCD\\u0CD5\\u0CD6\\u0CE2\\u0CE3\\u0D02\\u0D03\\u0D3E-\\u0D44\\u0D46-\\u0D48\\u0D4A-\\u0D4D\\u0D57\\u0D62\\u0D63\\u0D82\\u0D83\\u0DCA\\u0DCF-\\u0DD4\\u0DD6\\u0DD8-\\u0DDF\\u0DF2\\u0DF3\\u0E31\\u0E34-\\u0E3A\\u0E47-\\u0E4E\\u0EB1\\u0EB4-\\u0EB9\\u0EBB\\u0EBC\\u0EC8-\\u0ECD\\u0F18\\u0F19\\u0F35\\u0F37\\u0F39\\u0F3E\\u0F3F\\u0F71-\\u0F84\\u0F86\\u0F87\\u0F8D-\\u0F97\\u0F99-\\u0FBC\\u0FC6\\u102B-\\u103E\\u1056-\\u1059\\u105E-\\u1060\\u1062-\\u1064\\u1067-\\u106D\\u1071-\\u1074\\u1082-\\u108D\\u108F\\u109A-\\u109D\\u135D-\\u135F\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17B4-\\u17D3\\u17DD\\u180B-\\u180D\\u18A9\\u1920-\\u192B\\u1930-\\u193B\\u19B0-\\u19C0\\u19C8\\u19C9\\u1A17-\\u1A1B\\u1A55-\\u1A5E\\u1A60-\\u1A7C\\u1A7F\\u1B00-\\u1B04\\u1B34-\\u1B44\\u1B6B-\\u1B73\\u1B80-\\u1B82\\u1BA1-\\u1BAD\\u1BE6-\\u1BF3\\u1C24-\\u1C37\\u1CD0-\\u1CD2\\u1CD4-\\u1CE8\\u1CED\\u1CF2-\\u1CF4\\u1DC0-\\u1DE6\\u1DFC-\\u1DFF\\u20D0-\\u20F0\\u2CEF-\\u2CF1\\u2D7F\\u2DE0-\\u2DFF\\u302A-\\u302F\\u3099\\u309A\\uA66F-\\uA672\\uA674-\\uA67D\\uA69F\\uA6F0\\uA6F1\\uA802\\uA806\\uA80B\\uA823-\\uA827\\uA880\\uA881\\uA8B4-\\uA8C4\\uA8E0-\\uA8F1\\uA926-\\uA92D\\uA947-\\uA953\\uA980-\\uA983\\uA9B3-\\uA9C0\\uAA29-\\uAA36\\uAA43\\uAA4C\\uAA4D\\uAA7B\\uAAB0\\uAAB2-\\uAAB4\\uAAB7\\uAAB8\\uAABE\\uAABF\\uAAC1\\uAAEB-\\uAAEF\\uAAF5\\uAAF6\\uABE3-\\uABEA\\uABEC\\uABED\\uFB1E\\uFE00-\\uFE0F\\uFE20-\\uFE26]/g;\n\n// @ngInject\nfunction unicode() {\n  return {\n    normalize: str => unorm.nfkd(str),\n    fold: str => str.replace(COMBINING_MARKS, ''),\n  };\n}\n\nmodule.exports = unicode;\n",
    "'use strict';\r\n\r\nvar events = require('../events');\r\n\r\n\r\n/**\r\n * @typedef Profile\r\n *\r\n * An object returned by the API (`GET /api/profile`) containing profile data\r\n * for the current user.\r\n */\r\n\r\n/**\r\n * This service handles fetching the user's profile, updating profile settings\r\n * and logging out.\r\n *\r\n * Access to the current profile is exposed via the `state` property.\r\n *\r\n * @ngInject\r\n */\r\nfunction userPreference($rootScope, store, settings) {\r\n \r\n  function canCreateTaskspace() {\r\n\tvar profile = store.profile();\r\n\tvar pref = profile && profile.preferences ? profile.preferences : null;\r\n\tif(pref) {\r\n\t\treturn profile.userid && !profile.isPublic && pref.createTaskspace;\r\n\t}\r\n\treturn false;\r\n  }\r\n  \r\n  function canCreateSection() {\r\n\tvar profile = store.profile();\r\n\tvar pref = profile && profile.preferences ? profile.preferences : null;\r\n\tif(pref) {\r\n\t\treturn profile.userid && !profile.isPublic && pref.createSection;\r\n\t}\r\n\treturn false;\r\n  }\r\n  \r\n\r\n  return {\r\n    canCreateTaskspace,\r\n    canCreateSection,\r\n  };\r\n}\r\n\r\nmodule.exports = userPreference;\r\n",
    "/**\r\n * @ngdoc service\r\n * @name  userstate\r\n *\r\n * @description Provides access to the user ui settings\r\n */\r\n'use strict';\r\n\r\nvar kyes = require('../keys');\r\n\r\nfunction updateGroupmodel(state) {\r\n  return Object.assign({}, {\r\n    // Apply changes from the draft\r\n   id: state.id || null,\r\n   stateKey: kyes.GROUPS_UI_KEY,\r\n   stateValue: state.groupId,\r\n  });\r\n}\r\n// @ngInject\r\nfunction userState(api) {\r\n\tfunction saveState(params) {\r\n\t\treturn api.profile.saveUserState({},params);\r\n\t}\r\n\t\r\n\tfunction getState(params) {\r\n\t\treturn api.profile.getUserState({},params);\r\n\t}\r\n    \r\n    function getGroupState(params) {\r\n\t    var postdata = updateGroupmodel(params || {});\r\n\t\treturn api.profile.getUserState({},postdata);\r\n\t}\r\n\t\r\n\tfunction saveGroupState(params) {\r\n\t\tvar postdata = updateGroupmodel(params);\r\n\t\treturn api.profile.saveUserState({},postdata);\r\n\t}\r\n\t\r\n\treturn {\r\n\t\tsaveState : saveState,\r\n\t\tgetState: getState,\r\n\t\tgetGroupState: getGroupState,\r\n\t\tsaveGroupState: saveGroupState,\r\n\t};\r\n}\r\n\r\nmodule.exports = userState;\r\n",
    "'use strict';\n\n// Prevent Babel inserting helper code after `@ngInject` comment below which\n// breaks browserify-ngannotate.\nvar unused; // eslint-disable-line\n\n// @ngInject\nfunction viewFilter(unicode) {\n  /**\n   * Normalize a field value or query term for comparison.\n   */\n  function normalize(val) {\n    if (typeof val !== 'string') {\n      return val;\n    }\n    return unicode.fold(unicode.normalize(val)).toLowerCase();\n  }\n\n  /**\n   * Filter that matches annotations against a single field & term.\n   *\n   * eg. \"quote:foo\" or \"text:bar\"\n   */\n  class TermFilter {\n    /**\n     * @param {string} field - Name of field to match\n     * @param {string} term - Query term\n     * @param {Checker} checker - Functions for extracting term values from\n     *   an annotation and checking whether they match a query term.\n     */\n    constructor(field, term, checker) {\n      this.field = field;\n      this.term = term;\n      this.checker = checker;\n    }\n\n    matches(ann) {\n      var checker = this.checker;\n      if (checker.autofalse && checker.autofalse(ann)) {\n        return false;\n      }\n\n      var value = checker.value(ann);\n      if (Array.isArray(value)) {\n        value = value.map(normalize);\n      } else {\n        value = normalize(value);\n      }\n      return checker.match(this.term, value);\n    }\n  }\n\n  /**\n   * Filter that combines other filters using AND or OR combinators.\n   */\n  class BinaryOpFilter {\n    /**\n     * @param {'and'|'or'} op - Binary operator\n     * @param {Filter[]} - Array of filters to test against\n     */\n    constructor(op, filters) {\n      this.operator = op;\n      this.filters = filters;\n    }\n\n    matches(ann) {\n      if (this.operator === 'and') {\n        return this.filters.every(filter => filter.matches(ann));\n      } else {\n        return this.filters.some(filter => filter.matches(ann));\n      }\n    }\n  }\n\n  /**\n   * Functions for extracting field values from annotations and testing whether\n   * they match a query term.\n   *\n   * [facet_name]:\n   *   autofalse: a function for a preliminary false match result\n   *   value: a function to extract to facet value for the annotation.\n   *   match: a function to check if the extracted value matches the facet value\n   */\n  this.fields = {\n    quote: {\n      autofalse: ann => (ann.references || []).length > 0,\n      value(annotation) {\n        if (!annotation.target) {\n          // FIXME: All annotations *must* have a target, so this check should\n          // not be required.\n          return '';\n        }\n        var target = annotation.target[0];\n        var selectors = target.selector || [];\n\n        return selectors\n          .filter(s => s.type === 'TextQuoteSelector')\n          .map(s => s.exact)\n          .join('\\n');\n      },\n      match: (term, value) => value.indexOf(term) > -1,\n    },\n    since: {\n      autofalse: ann => typeof ann.updated !== 'string',\n      value: ann => new Date(ann.updated),\n      match(term, value) {\n        var delta = (Date.now() - value) / 1000;\n        return delta <= term;\n      },\n    },\n    tag: {\n      autofalse: ann => !Array.isArray(ann.tags),\n      value: ann => ann.tags,\n      match: (term, value) => value.includes(term),\n    },\n    text: {\n      autofalse: ann => typeof ann.text !== 'string',\n      value: ann => ann.text,\n      match: (term, value) => value.indexOf(term) > -1,\n    },\n    uri: {\n      autofalse: ann => typeof ann.uri !== 'string',\n      value: ann => ann.uri,\n      match: (term, value) => value.indexOf(term) > -1,\n    },\n    user: {\n      autofalse: ann => typeof ann.user !== 'string',\n      value: ann => ann.user,\n      match: (term, value) => value.indexOf(term) > -1,\n    },\n  };\n\n  /**\n   * Filters a set of annotations.\n   *\n   * @param {Annotation[]} annotations\n   * @param {Object} filters - Faceted filter generated by\n   * `generateFacetedFilter`.\n   * @return {string[]} IDs of matching annotations.\n   */\n  this.filter = (annotations, filters) => {\n    // Convert the input filter object into a filter tree, expanding \"any\"\n    // filters.\n    var fieldFilters = Object.entries(filters).filter(([, filter]) =>\n      filter.terms.length > 0)\n    .map(([field, filter]) => {\n      var terms = filter.terms.map(normalize);\n      var termFilters;\n      if (field === 'any') {\n        var anyFields = ['quote', 'text', 'tag', 'user'];\n        termFilters = terms.map(term => new BinaryOpFilter('or', anyFields.map(field =>\n          new TermFilter(field, term, this.fields[field])\n        )));\n      } else {\n        termFilters = terms.map(term => new TermFilter(field, term, this.fields[field]));\n      }\n      return new BinaryOpFilter(filter.operator, termFilters);\n    });\n\n    var rootFilter = new BinaryOpFilter('and', fieldFilters);\n\n    return annotations\n      .filter(ann => rootFilter.matches(ann))\n      .map(ann => ann.id);\n  };\n}\n\nmodule.exports = viewFilter;\n",
    "'use strict';\n\nconst redux = require('redux');\n// `.default` is needed because 'redux-thunk' is built as an ES2015 module\nconst thunk = require('redux-thunk').default;\n\nconst { createReducer, bindSelectors } = require('./util');\n\n/**\n * Create a Redux store from a set of _modules_.\n *\n * Each module defines the logic related to a particular piece of the application\n * state, including:\n *\n *  - The initial value of that state\n *  - The _actions_ that can change that state\n *  - The _selectors_ for reading that state or computing things\n *    from that state.\n *\n * On top of the standard Redux store methods, the returned store also exposes\n * each action and selector from the input modules as a method which operates on\n * the store.\n *\n * @param {Object[]} modules\n * @param {any[]} initArgs - Arguments to pass to each state module's `init` function\n * @param [any[]] middleware - List of additional Redux middlewares to use.\n */\nfunction createStore(modules, initArgs = [], middleware = []) {\n  // Create the initial state and state update function.\n  const initialState = Object.assign({}, ...modules.map(m => m.init(...initArgs)));\n  const reducer = createReducer(...modules.map(m => m.update));\n\n  // Create the store.\n  const defaultMiddleware = [\n    // The `thunk` middleware handles actions which are functions.\n    // This is used to implement actions which have side effects or are\n    // asynchronous (see https://github.com/gaearon/redux-thunk#motivation)\n    thunk,\n  ];\n  const enhancer = redux.applyMiddleware(...defaultMiddleware, ...middleware);\n  const store = redux.createStore(reducer, initialState, enhancer);\n\n  // Add actions and selectors as methods to the store.\n  const actions = Object.assign({}, ...modules.map(m => m.actions));\n  const boundActions = redux.bindActionCreators(actions, store.dispatch);\n  const selectors = Object.assign({}, ...modules.map(m => m.selectors));\n  const boundSelectors = bindSelectors(selectors, store.getState);\n  Object.assign(store, boundActions, boundSelectors);\n\n  return store;\n}\n\nmodule.exports = createStore;\n",
    "'use strict';\n\n/**\n * A debug utility that prints information about internal application state\n * changes to the console.\n *\n * Debugging is enabled by setting `window.debug` to a truthy value.\n *\n * When enabled, every action that changes application state will be printed\n * to the console, along with the application state before and after the action\n * was handled.\n */\nfunction debugMiddleware(store) {\n  /* eslint-disable no-console */\n  var serial = 0;\n\n  return function (next) {\n    return function (action) {\n      if (!window.debug) {\n        next(action);\n        return;\n      }\n\n      ++serial;\n\n      var groupTitle = action.type + ' (' + serial.toString() + ')';\n      console.group(groupTitle);\n      console.log('Prev State:', store.getState());\n      console.log('Action:', action);\n\n      next(action);\n\n      console.log('Next State:', store.getState());\n      console.groupEnd(groupTitle);\n    };\n  };\n  /* eslint-enable no-console */\n}\n\nmodule.exports = debugMiddleware;\n",
    "'use strict';\n\n/**\n * Central store of state for the sidebar application, managed using\n * [Redux](http://redux.js.org/).\n *\n * State management in Redux apps work as follows:\n *\n *  1. All important application state is stored in a single, immutable object.\n *  2. The user interface is a presentation of this state. Interaction with the\n *     UI triggers updates by creating `actions`.\n *  3. Actions are plain JS objects which describe some event that happened in\n *     the application. Updates happen by passing actions to a `reducer`\n *     function which takes the current application state, the action and\n *     returns the new application state.\n *\n *     The process of updating the app state using an action is known as\n *     'dispatching' the action.\n *  4. Other parts of the app can subscribe to changes in the app state.\n *     This is used to to update the UI etc.\n *\n * \"middleware\" functions can wrap the dispatch process in order to implement\n *  logging, trigger side effects etc.\n *\n * Tests for a given action consist of:\n *\n *  1. Checking that the UI (or other event source) dispatches the correct\n *     action when something happens.\n *  2. Checking that given an initial state, and an action, a reducer returns\n *     the correct resulting state.\n *  3. Checking that the UI correctly presents a given state.\n */\n\nvar createStore = require('./create-store');\nvar debugMiddleware = require('./debug-middleware');\n\nvar annotations = require('./modules/annotations');\nvar frames = require('./modules/frames');\nvar links = require('./modules/links');\nvar groups = require('./modules/groups');\nvar selection= require('./modules/selection');\nvar session = require('./modules/session');\nvar viewer = require('./modules/viewer');\n\n/**\n * Redux middleware which triggers an Angular change-detection cycle\n * if no cycle is currently in progress.\n *\n * This ensures that Angular UI components are updated after the UI\n * state changes in response to external inputs (eg. WebSocket messages,\n * messages arriving from other frames in the page, async network responses).\n *\n * See http://redux.js.org/docs/advanced/Middleware.html\n */\nfunction angularDigestMiddleware($rootScope) {\n  return function (next) {\n    return function (action) {\n      next(action);\n\n      // '$$phase' is set if Angular is in the middle of a digest cycle already\n      if (!$rootScope.$$phase) {\n        // $applyAsync() is similar to $apply() but provides debouncing.\n        // See http://stackoverflow.com/questions/30789177\n        $rootScope.$applyAsync(function () {});\n      }\n    };\n  };\n}\n\n/**\n * Factory which creates the sidebar app's state store.\n *\n * Returns a Redux store augmented with methods for each action and selector in\n * the individual state modules. ie. `store.actionName(args)` dispatches an\n * action through the store and `store.selectorName(args)` invokes a selector\n * passing the current state of the store.\n */\n// @ngInject\nfunction store($rootScope, settings) {\n  var middleware = [\n    debugMiddleware,\n    angularDigestMiddleware.bind(null, $rootScope),\n  ];\n\n  var modules = [\n    annotations,\n    frames,\n    links,\n    groups,\n    selection,\n    session,\n    viewer,\n  ];\n  return createStore(modules, [settings], middleware);\n}\n\nmodule.exports = store;\n",
    "/**\n * State management for the set of annotations currently loaded into the\n * sidebar.\n */\n\n'use strict';\n\nvar arrayUtil = require('../../util/array-util');\nvar metadata = require('../../annotation-metadata');\nvar uiConstants = require('../../ui-constants');\n\nvar selection = require('./selection');\nvar util = require('../util');\n\n/**\n * Return a copy of `current` with all matching annotations in `annotations`\n * removed.\n */\nfunction excludeAnnotations(current, annotations) {\n  var ids = {};\n  var tags = {};\n  annotations.forEach(function (annot) {\n    if (annot.id) {\n      ids[annot.id] = true;\n    }\n    if (annot.$tag) {\n      tags[annot.$tag] = true;\n    }\n  });\n  return current.filter(function (annot) {\n    var shouldRemove = (annot.id && (annot.id in ids)) ||\n                       (annot.$tag && (annot.$tag in tags));\n    return !shouldRemove;\n  });\n}\n\nfunction findByID(annotations, id) {\n  return annotations.find(function (annot) {\n    return annot.id === id;\n  });\n}\n\nfunction findByTag(annotations, tag) {\n  return annotations.find(function (annot) {\n    return annot.$tag === tag;\n  });\n}\n\n/**\n * Initialize the status flags and properties of a new annotation.\n */\nfunction initializeAnnot(annotation, tag) {\n  var orphan = annotation.$orphan;\n\n  if (!annotation.id) {\n    // Currently the user ID, permissions and group of new annotations are\n    // initialized in the <annotation> component controller because the session\n    // state and focused group are not stored in the Redux store. Once they are,\n    // that initialization should be moved here.\n\n    // New annotations must be anchored\n    orphan = false;\n  }\n\n  return Object.assign({}, annotation, {\n    // Flag indicating whether waiting for the annotation to anchor timed out.\n    $anchorTimeout: false,\n    $tag: annotation.$tag || tag,\n    $orphan: orphan,\n  });\n}\n\nfunction init() {\n  return {\n    annotations: [],\n\n    // The local tag to assign to the next annotation that is loaded into the\n    // app\n    nextTag: 1,\n  };\n}\n\nvar update = {\n  ADD_ANNOTATIONS: function (state, action) {\n    var updatedIDs = {};\n    var updatedTags = {};\n\n    var added = [];\n    var unchanged = [];\n    var updated = [];\n    var nextTag = state.nextTag;\n\n    action.annotations.forEach(function (annot) {\n      var existing;\n      if (annot.id) {\n        existing = findByID(state.annotations, annot.id);\n      }\n      if (!existing && annot.$tag) {\n        existing = findByTag(state.annotations, annot.$tag);\n      }\n\n      if (existing) {\n        // Merge the updated annotation with the private fields from the local\n        // annotation\n        updated.push(Object.assign({}, existing, annot));\n        if (annot.id) {\n          updatedIDs[annot.id] = true;\n        }\n        if (existing.$tag) {\n          updatedTags[existing.$tag] = true;\n        }\n      } else {\n        added.push(initializeAnnot(annot, 't' + nextTag));\n        ++nextTag;\n      }\n    });\n\n    state.annotations.forEach(function (annot) {\n      if (!updatedIDs[annot.id] && !updatedTags[annot.$tag]) {\n        unchanged.push(annot);\n      }\n    });\n\n    return {\n      annotations: added.concat(updated).concat(unchanged),\n      nextTag: nextTag,\n    };\n  },\n\n  REMOVE_ANNOTATIONS: function (state, action) {\n    var annots = excludeAnnotations(state.annotations, action.annotations);\n    var selectedTab = state.selectedTab;\n    if (selectedTab === uiConstants.TAB_ORPHANS &&\n        arrayUtil.countIf(annots, metadata.isOrphan) === 0) {\n      selectedTab = uiConstants.TAB_ANNOTATIONS;\n    }\n\n    var tabUpdateFn = selection.update.SELECT_TAB;\n    return Object.assign(\n      {annotations: annots},\n      tabUpdateFn(state, selection.actions.selectTab(selectedTab))\n    );\n  },\n\n  CLEAR_ANNOTATIONS: function () {\n    return {annotations: []};\n  },\n\n  UPDATE_FLAG_STATUS: function (state, action) {\n    var annotations = state.annotations.map(function (annot) {\n      var match = (annot.id && annot.id === action.id);\n      if (match) {\n        if (annot.flagged === action.isFlagged) {\n          return annot;\n        }\n\n        var newAnn = Object.assign({}, annot, {\n          flagged: action.isFlagged,\n        });\n        if (newAnn.moderation) {\n          var countDelta = action.isFlagged ? 1 : -1;\n          newAnn.moderation = Object.assign({}, annot.moderation, {\n            flagCount: annot.moderation.flagCount + countDelta,\n          });\n        }\n        return newAnn;\n      } else {\n        return annot;\n      }\n    });\n    return {annotations: annotations};\n  },\n\n  UPDATE_ANCHOR_STATUS: function (state, action) {\n    var annotations = state.annotations.map(function (annot) {\n      if (!action.statusUpdates.hasOwnProperty(annot.$tag)) {\n        return annot;\n      }\n\n      var state = action.statusUpdates[annot.$tag];\n      if (state === 'timeout') {\n        return Object.assign({}, annot, { $anchorTimeout: true });\n      } else {\n        return Object.assign({}, annot, { $orphan: state === 'orphan' });\n      }\n    });\n    return {annotations: annotations};\n  },\n  \n  UPDATE_COORDINATE_STATUS: function (state, action) {\n    var annotations = state.annotations.map(function (annot) {\n      if (!action.statusUpdates.hasOwnProperty(annot.$tag)) {\n        return annot;\n      }\n\n      var state = action.statusUpdates[annot.$tag];\n      //return Object.assign({}, annot, { updateRect: state.updateRect,coordinates:state.coordinates });\n      return Object.assign({}, annot, { coordinates:state.coordinates });\n    });\n    return {annotations: annotations};\n  },\n  \n  HIDE_ANNOTATION: function (state, action) {\n    var anns = state.annotations.map(function (ann) {\n      if (ann.id !== action.id) {\n        return ann;\n      }\n      return Object.assign({}, ann, { hidden: true });\n    });\n    return {annotations: anns};\n  },\n\n  UNHIDE_ANNOTATION: function (state, action) {\n    var anns = state.annotations.map(function (ann) {\n      if (ann.id !== action.id) {\n        return ann;\n      }\n      return Object.assign({}, ann, { hidden: false });\n    });\n    return {annotations: anns};\n  },\n};\n\nvar actions = util.actionTypes(update);\n\n/**\n * Updating the flagged status of an annotation.\n *\n * @param {string} id - Annotation ID\n * @param {boolean} isFlagged - The flagged status of the annotation. True if\n *        the user has flagged the annotation.\n *\n */\nfunction updateFlagStatus(id, isFlagged) {\n  return {\n    type: actions.UPDATE_FLAG_STATUS,\n    id: id,\n    isFlagged: isFlagged,\n  };\n}\n\n/** Add annotations to the currently displayed set. */\nfunction addAnnotations(annotations, now) {\n  now = now || new Date();\n\n  // Add dates to new annotations. These are ignored by the server but used\n  // when sorting unsaved annotation cards.\n  annotations = annotations.map(function (annot) {\n    if (annot.id) { return annot; }\n    return Object.assign({\n      // Date.prototype.toISOString returns a 0-offset (UTC) ISO8601\n      // datetime.\n      created: now.toISOString(),\n      updated: now.toISOString(),\n    }, annot);\n  });\n\n  return function (dispatch, getState) {\n    var added = annotations.filter(function (annot) {\n      return !findByID(getState().annotations, annot.id);\n    });\n\n    dispatch({\n      type: actions.ADD_ANNOTATIONS,\n      annotations: annotations,\n    });\n\n    if (!getState().isSidebar) {\n      return;\n    }\n\n    // If anchoring fails to complete in a reasonable amount of time, then\n    // we assume that the annotation failed to anchor. If it does later\n    // successfully anchor then the status will be updated.\n    var ANCHORING_TIMEOUT = 500;\n\n    var anchoringIDs = added.filter(metadata.isWaitingToAnchor)\n                            .map(ann => ann.id);\n    if (anchoringIDs.length > 0) {\n      setTimeout(() => {\n        // Find annotations which haven't yet been anchored in the document.\n        var anns = getState().annotations;\n        var annsStillAnchoring = anchoringIDs.map(id => findByID(anns, id))\n                                             .filter(ann => ann && metadata.isWaitingToAnchor(ann));\n\n        // Mark anchoring as timed-out for these annotations.\n        var anchorStatusUpdates = annsStillAnchoring.reduce((updates, ann) => {\n          updates[ann.$tag] = 'timeout';\n          return updates;\n        }, {});\n        dispatch(updateAnchorStatus(anchorStatusUpdates));\n      }, ANCHORING_TIMEOUT);\n    }\n  };\n}\n\n/** Remove annotations from the currently displayed set. */\nfunction removeAnnotations(annotations) {\n  return {\n    type: actions.REMOVE_ANNOTATIONS,\n    annotations: annotations,\n  };\n}\n\n/** Set the currently displayed annotations to the empty set. */\nfunction clearAnnotations() {\n  return {type: actions.CLEAR_ANNOTATIONS};\n}\n\n/**\n * Update the anchoring status of an annotation.\n *\n * @param {{ [tag: string]: 'anchored'|'orphan'|'timeout'} } statusUpdates - A map of annotation tag to orphan status\n */\nfunction updateAnchorStatus(statusUpdates) {\n  return {\n    type: actions.UPDATE_ANCHOR_STATUS,\n    statusUpdates,\n  };\n}\n\n\n/**\n * Update the coordinates status of an annotation.\n *\n * @param {{ [tag: string]: '[x1,y1,x2,y2]'} } statusUpdates - A map of annotation tag to coordinates\n */\nfunction updateCoordinatesStatus(statusUpdates) {\n  return {\n    type: actions.UPDATE_COORDINATE_STATUS,\n    statusUpdates,\n  };\n}\n\n\n/**\n * Update the local hidden state of an annotation.\n *\n * This updates an annotation to reflect the fact that it has been hidden from\n * non-moderators.\n */\nfunction hideAnnotation(id) {\n  return {\n    type: actions.HIDE_ANNOTATION,\n    id: id,\n  };\n}\n\n/**\n * Update the local hidden state of an annotation.\n *\n * This updates an annotation to reflect the fact that it has been made visible\n * to non-moderators.\n */\nfunction unhideAnnotation(id) {\n  return {\n    type: actions.UNHIDE_ANNOTATION,\n    id: id,\n  };\n}\n\n/**\n * Return all loaded annotations which have been saved to the server.\n *\n * @param {state} - The global app state\n */\nfunction savedAnnotations(state) {\n  return state.annotations.filter(function (ann) {\n    return !metadata.isNew(ann);\n  });\n}\n\n/** Return true if the annotation with a given ID is currently loaded. */\nfunction annotationExists(state, id) {\n  return state.annotations.some(function (annot) {\n    return annot.id === id;\n  });\n}\n\n/**\n * Return the IDs of annotations that correspond to `tags`.\n *\n * If an annotation does not have an ID because it has not been created on\n * the server, there will be no entry for it in the returned array.\n *\n * @param {string[]} Local tags of annotations to look up\n */\nfunction findIDsForTags(state, tags) {\n  var ids = [];\n  tags.forEach(function (tag) {\n    var annot = findByTag(state.annotations, tag);\n    if (annot && annot.id) {\n      ids.push(annot.id);\n    }\n  });\n  return ids;\n}\n\n/**\n * Return the annotation with the given ID.\n */\nfunction findAnnotationByID(state, id) {\n  return findByID(state.annotations, id);\n}\n\nmodule.exports = {\n  init: init,\n  update: update,\n  actions: {\n    addAnnotations: addAnnotations,\n    clearAnnotations: clearAnnotations,\n    removeAnnotations: removeAnnotations,\n    updateAnchorStatus: updateAnchorStatus,\n    updateCoordinatesStatus:updateCoordinatesStatus,\n    updateFlagStatus: updateFlagStatus,\n    hideAnnotation: hideAnnotation,\n    unhideAnnotation: unhideAnnotation,\n  },\n\n  selectors: {\n    annotationExists,\n    findAnnotationByID,\n    findIDsForTags,\n    savedAnnotations,\n  },\n};\n",
    "'use strict';\n\nvar util = require('../util');\n\nfunction init() {\n  return {\n    // The list of frames connected to the sidebar app\n    frames: [],\n  };\n}\n\nvar update = {\n  CONNECT_FRAME: function (state, action) {\n    return {frames: state.frames.concat(action.frame)};\n  },\n\n  DESTROY_FRAME: function (state, action) {\n    return {\n      frames: state.frames.filter(f => f !== action.frame),\n    };\n  },\n\n  UPDATE_FRAME_ANNOTATION_FETCH_STATUS: function (state, action) {\n    var frames = state.frames.map(function (frame) {\n      var match = (frame.uri && frame.uri === action.uri);\n      if (match) {\n        return Object.assign({}, frame, {\n          isAnnotationFetchComplete: action.isAnnotationFetchComplete,\n        });\n      } else {\n        return frame;\n      }\n    });\n    return {\n      frames: frames,\n    };\n  },\n};\n\nvar actions = util.actionTypes(update);\n\n/**\n * Add a frame to the list of frames currently connected to the sidebar app.\n */\nfunction connectFrame(frame) {\n  return {type: actions.CONNECT_FRAME, frame: frame};\n}\n\n/**\n * Remove a frame from the list of frames currently connected to the sidebar app.\n */\nfunction destroyFrame(frame) {\n  return {type: actions.DESTROY_FRAME, frame: frame};\n}\n\n/**\n * Update the `isAnnotationFetchComplete` flag of the frame.\n */\nfunction updateFrameAnnotationFetchStatus(uri, status) {\n  return {\n    type: actions.UPDATE_FRAME_ANNOTATION_FETCH_STATUS,\n    isAnnotationFetchComplete: status,\n    uri: uri,\n  };\n}\n\n/**\n * Return the list of frames currently connected to the sidebar app.\n */\nfunction frames(state) {\n  return state.frames;\n}\n\nfunction searchUrisForFrame(frame) {\n  var uris = [frame.uri];\n\n  if (frame.metadata && frame.metadata.documentFingerprint) {\n    uris = frame.metadata.link.map(function (link) {\n      return link.href;\n    });\n  }\n\n  if (frame.metadata && frame.metadata.link) {\n    frame.metadata.link.forEach(function (link) {\n      if (link.href.startsWith('doi:')) {\n        uris.push(link.href);\n      }\n    });\n  }\n\n  return uris;\n}\n\n/**\n * Return the set of URIs that should be used to search for annotations on the\n * current page.\n */\nfunction searchUris(state) {\n  return state.frames.reduce(function (uris, frame) {\n    return uris.concat(searchUrisForFrame(frame));\n  }, []);\n}\n\nmodule.exports = {\n  init: init,\n  update: update,\n\n  actions: {\n    connectFrame: connectFrame,\n    destroyFrame: destroyFrame,\n    updateFrameAnnotationFetchStatus: updateFrameAnnotationFetchStatus,\n  },\n\n  selectors: {\n    frames,\n    searchUris,\n  },\n};\n",
    "'use strict';\n\nconst util = require('../util');\n\nfunction init() {\n  return {\n    /**\n     * List of groups.\n     * @type {Group[]}\n     */\n    groups: [],\n\n    /**\n     * ID of currently selected group.\n     * @type {string|null}\n     */\n    focusedGroupId: null,\n    focusedSection: {},\n  };\n}\n\nconst update = {\n  FOCUS_GROUP(state, action) {\n    const group = state.groups.find(g => g.id === action.id);\n    return { focusedGroupId: group ? action.id : null };\n  },\n\n  FOCUS_SECTION(state, action) {\n\tvar groupId = action.groupId;\n\tvar section = action.section;\n    var sections = Object.assign({}, state.focusedSection);\n    sections[groupId] = action.section;\n    var groups = state.groups.map(function (group) {\n\t  if (group.id !== action.groupId) {\n\t\t  return group;\n\t  }\n\t  return Object.assign({}, group, { focusSection: section ? section.id : null });\n\t});\n    return { groups: groups, focusedSection:sections};\n  },\n\n  ADD_SECTION(state, action) {\n\tvar groupId = action.id;\n    var sections = Object.assign({}, state.focusedSection);\n    sections[groupId] = action.section;\n\tvar groups = state.groups.map(function (group) {\n\t  if (group.id !== action.id) {\n\t\t  return group;\n\t  }\n      let gpSections = group.sections || [];\n      gpSections.push(action.section);\n\t  return Object.assign({}, group, { sections: gpSections,focusSection: action.section ? action.section.id : null });\n\t});\n\treturn { groups: groups, focusedSection:sections};\n  },\n\n  LOAD_GROUPS(state, action) {\n    const groups = action.groups;\n    let focusedGroupId = state.focusedGroupId;\n\n    // Reset focused group if not in the new set of groups.\n    /*  if (state.focusedGroupId === null || !groups.find(g => g.id === state.focusedGroupId)) {\n      if(action.lastselected && groups.find(g => g.id === action.lastselected)) {\n\t\tfocusedGroupId = action.lastselected;\n\t  }else if (groups.length > 0) {\n        focusedGroupId = groups[0].id;\n      } else {\n        focusedGroupId = null;\n      }\n    }*/\n\n    return {\n      focusedGroupId,\n      groups: action.groups,\n    };\n  },\n  UPDATE_COUNT(state, action) {\n\t  var groups = state.groups.map(function (group) {\n\t\t  if (group.id !== action.id) {\n\t\t\t  return group;\n\t\t  }\n\t\t  return Object.assign({}, group, { annotationCount: action.count });\n\t  });\n\t  return { groups: groups};\n  },\n  UPDATE_GROUP(state, action) {\n\t  var groups = state.groups.map(function (group) {\n\t\t  if (group.id !== action.id) {\n\t\t\t  return group;\n\t\t  }\n\t\t  var count = group.annotationCount+action.count;\n\t\t  if(count >= 0 ) {\n\t\t\t  return Object.assign({}, group, { annotationCount: count,objId: action.objId,objClientId: action.objClientId,objOwner: action.objOwner,webresource: action.webresource});\n\t\t  } else {\n\t\t\t  return group;\n\t\t  }\n\t  });\n\t  return { groups: groups};\n  },\n  REPLACE_GROUP(state, action) {\n\t  var groups = state.groups.map(function (group) {\n\t\t  if (group.id !== action.id) {\n\t\t\t  return group;\n\t\t  }\n\t\t return Object.assign({}, group, action.group);\n\t  });\n\t  return { groups: groups};\n  }\n};\n\nconst actions = util.actionTypes(update);\n\n/**\n * Set the current focused group.\n *\n * @param {string} id\n */\nfunction focusGroup(id) {\n  //console.log(\"focusGroup from store \"+ id);\n  return {\n    type: actions.FOCUS_GROUP,\n    id,\n  };\n}\n\n\n/**\n * Set the current focused section in a group.\n *\n * @param {string} groupId\n   @param {Object} section\n */\nfunction focusSection(groupId,section) {\n  //console.log(\"focusGroup from store \"+ id);\n  return {\n    type: actions.FOCUS_SECTION,\n    groupId,\n    section,\n  };\n}\n\n/**\n * Set the current focused section in a group.\n *\n * @param {string} id\n   @param {Object} section\n */\nfunction addSection(id,section) {\n  //console.log(\"focusGroup from store \"+ id);\n  return {\n    type: actions.ADD_SECTION,\n    id,\n    section,\n  };\n}\n\n/**\n * Set the  group count.\n *\n * @param {string} id\n */\nfunction updateCount(id,count) {\n  return {\n    type: actions.UPDATE_COUNT,\n    id,\n    count,\n  };\n}\n\n/**\n * Increment group count.\n *\n * @param {string} id\n */\nfunction updateGroup(id,count,webresource) {\n  return {\n    type: actions.UPDATE_GROUP,\n    id: id,\n    count: count,\n    objId: webresource ? webresource.objectId : null,\n    objClientId: webresource ? webresource.clientId : null,\n    objOwner: webresource ? webresource.objOwner : null,\n    webresource: webresource ? webresource : null,\n  };\n}\n\nfunction replaceGroup(id,group) {\n  return {\n    type: actions.REPLACE_GROUP,\n    id: id,\n    group: group,\n  };\n}\n\n/**\n * Update the set of loaded groups.\n *\n * @param {Group[]} groups\n */\nfunction loadGroups(groups,lastselected) {\n  return {\n    type: actions.LOAD_GROUPS,\n    groups,\n    lastselected,\n  };\n}\n\n/**\n * Return the currently focused group.\n *\n * @return {Group|null}\n */\nfunction focusedGroup(state) {\n  if (!state.focusedGroupId) {\n    return null;\n  }\n  return getGroup(state, state.focusedGroupId);\n}\n\n\n/**\n * Return the currently focused group.\n *\n * @return {Group|null}\n */\nfunction getfocusedSection(state,groupId) {\n  let section = null;\t\n  let group = getGroup(state,groupId);\n  if(group && group.sections && group.focusSection) {\n\tsection = group.sections.find(function (sec) {\n\t\treturn sec.id == group.focusSection;\n\t});\n  }\n  /*if (state.focusedSection[groupId]) {\n    return state.focusedSection[groupId];\n  }*/\n  return section;\n}\n\n\n/**\n * Return the current focused group ID or `null`.\n *\n * @return {string|null}\n */\nfunction focusedGroupId(state) {\n  return state.focusedGroupId;\n}\n\n/**\n * Return the list of all groups.\n *\n * @return {Group[]}\n */\nfunction allGroups(state) {\n  return state.groups;\n}\n\n/**\n * Return the group with the given ID.\n *\n * @return {Group|undefined}\n */\nfunction getGroup(state, id) {\n  return state.groups.find(g => g.id === id);\n}\n\nmodule.exports = {\n  init,\n  update,\n  actions: {\n    focusGroup,\n    focusSection,\n    addSection,\n    loadGroups,\n    updateCount,\n    updateGroup,\n    replaceGroup\n  },\n  selectors: {\n    allGroups,\n    getGroup,\n    focusedGroup,\n    focusedGroupId,\n    getfocusedSection\n  },\n};\n",
    "/**\n * Reducer for storing a \"links\" object in the Redux state store.\n *\n * The links object is initially null, and can only be updated by completely\n * replacing it with a new links object.\n *\n * Used by serviceUrl.\n */\n\n'use strict';\n\n/** Return the initial links. */\nfunction init() { return {links: null}; }\n\n/** Return updated links based on the given current state and action object. */\nfunction updateLinks(state, action) { return {links: action.newLinks}; }\n\n/** Return an action object for updating the links to the given newLinks. */\nfunction updateLinksAction(newLinks) {\n  return { type: 'UPDATE_LINKS', newLinks: newLinks };\n}\n\nmodule.exports = {\n  init:    init,\n  update:  { UPDATE_LINKS: updateLinks },\n  actions: { updateLinks: updateLinksAction },\n  selectors: {},\n};\n",
    "/**\n * This module handles state related to the current sort, search and filter\n * settings in the UI, including:\n *\n * - The set of annotations that are currently focused (hovered) or selected\n * - The selected tab\n * - The current sort order\n * - The current filter query\n */\n\n'use strict';\n\nvar immutable = require('seamless-immutable');\n\nvar toSet = require('../../util/array-util').toSet;\nvar uiConstants = require('../../ui-constants');\nvar tabs = require('../../tabs');\n\nvar util = require('../util');\n\n\n/**\n* Default starting tab.\n*/\nvar TAB_DEFAULT = uiConstants.TAB_ANNOTATIONS;\n\n /**\n  * Default sort keys for each tab.\n  */\nvar TAB_SORTKEY_DEFAULT = {};\nTAB_SORTKEY_DEFAULT[uiConstants.TAB_ANNOTATIONS] = 'Location';\nTAB_SORTKEY_DEFAULT[uiConstants.TAB_NOTES] = 'Oldest';\nTAB_SORTKEY_DEFAULT[uiConstants.TAB_ORPHANS] = 'Location';\n\n/**\n * Available sort keys for each tab.\n */\nvar TAB_SORTKEYS_AVAILABLE = {};\nTAB_SORTKEYS_AVAILABLE[uiConstants.TAB_ANNOTATIONS] = ['Newest', 'Oldest', 'Location'];\nTAB_SORTKEYS_AVAILABLE[uiConstants.TAB_NOTES] = ['Newest', 'Oldest'];\nTAB_SORTKEYS_AVAILABLE[uiConstants.TAB_ORPHANS] = ['Newest', 'Oldest', 'Location'];\n\n\nfunction initialSelection(settings) {\n  var selection = {};\n  if (settings.annotations && !settings.query) {\n    selection[settings.annotations] = true;\n  }\n  return freeze(selection);\n}\n\nfunction freeze(selection) {\n  if (Object.keys(selection).length) {\n    return immutable(selection);\n  } else {\n    return null;\n  }\n}\n\nfunction init(settings) {\n  return {\n    // Contains a map of annotation tag:true pairs.\n    focusedAnnotationMap: null,\n\n    // Contains a map of annotation id:true pairs.\n    selectedAnnotationMap: initialSelection(settings),\n\n    // Map of annotation IDs to expanded/collapsed state. For annotations not\n    // present in the map, the default state is used which depends on whether\n    // the annotation is a top-level annotation or a reply, whether it is\n    // selected and whether it matches the current filter.\n    expanded: initialSelection(settings) || {},\n\n    // Set of IDs of annotations that have been explicitly shown\n    // by the user even if they do not match the current search filter\n    forceVisible: {},\n\n    // IDs of annotations that should be highlighted\n    highlighted: [],\n\n    filterQuery: settings.query || null,\n\n    selectedTab: TAB_DEFAULT,\n\n    // Key by which annotations are currently sorted.\n    sortKey: TAB_SORTKEY_DEFAULT[TAB_DEFAULT],\n    // Keys by which annotations can be sorted.\n    sortKeysAvailable: TAB_SORTKEYS_AVAILABLE[TAB_DEFAULT],\n    \n    tagBtn: false,\n  };\n}\n\nvar update = {\n\t\n  TAG_BTN_CLICK(state, action) {\n    return { tagBtn: action.tagBtn };\n  },\n\n  CLEAR_SELECTION: function () {\n    return {filterQuery: null, selectedAnnotationMap: null};\n  },\n\n  SELECT_ANNOTATIONS: function (state, action) {\n    return {selectedAnnotationMap: action.selection};\n  },\n\n  FOCUS_ANNOTATIONS: function (state, action) {\n    return {focusedAnnotationMap: action.focused};\n  },\n\n  SET_FORCE_VISIBLE: function (state, action) {\n    return {forceVisible: action.forceVisible};\n  },\n\n  SET_EXPANDED: function (state, action) {\n    return {expanded: action.expanded};\n  },\n\n  HIGHLIGHT_ANNOTATIONS: function (state, action) {\n    return {highlighted: action.highlighted};\n  },\n\n  SELECT_TAB: function (state, action) {\n    // Do nothing if the \"new tab\" is not a valid tab.\n    if ([uiConstants.TAB_ANNOTATIONS,\n         uiConstants.TAB_NOTES,\n         uiConstants.TAB_ORPHANS,\n         uiConstants.WEB_CLIP,\n\t\t uiConstants.TAB_PAGEINFO].indexOf(action.tab) === -1) {\n      return {};\n    }\n    // Shortcut if the tab is already correct, to avoid resetting the sortKey\n    // unnecessarily.\n    if (state.selectedTab === action.tab) {\n      return {};\n    }\n    return {\n      selectedTab: action.tab,\n      sortKey: TAB_SORTKEY_DEFAULT[action.tab],\n      sortKeysAvailable: TAB_SORTKEYS_AVAILABLE[action.tab],\n    };\n  },\n\n  ADD_ANNOTATIONS(state, action) {\n    var counts = tabs.counts(action.annotations);\n    // If there are no annotations at all, ADD_ANNOTATIONS will not be called.\n    var haveOnlyPageNotes = counts.notes === action.annotations.length;\n    // If this is the init phase and there are only page notes, select the page notes tab.\n    if (state.annotations.length === 0 && haveOnlyPageNotes){\n      return {selectedTab: uiConstants.TAB_NOTES};\n    }\n    return {};\n  },\n\n  SET_FILTER_QUERY: function (state, action) {\n    return {\n      filterQuery: action.query,\n      forceVisible: {},\n      expanded: {},\n    };\n  },\n\n  SET_SORT_KEY: function (state, action) {\n    return {sortKey: action.key};\n  },\n};\n\nvar actions = util.actionTypes(update);\n\nfunction select(annotations) {\n  return {\n    type: actions.SELECT_ANNOTATIONS,\n    selection: freeze(annotations),\n  };\n}\n\n/**\n * Set the currently selected annotation IDs.\n */\nfunction selectAnnotations(ids) {\n  return select(toSet(ids));\n}\n\n/** Toggle whether annotations are selected or not. */\nfunction toggleSelectedAnnotations(ids) {\n  return function (dispatch, getState) {\n    var selection = Object.assign({}, getState().selectedAnnotationMap);\n    for (var i = 0; i < ids.length; i++) {\n      var id = ids[i];\n      if (selection[id]) {\n        delete selection[id];\n      } else {\n        selection[id] = true;\n      }\n    }\n    dispatch(select(selection));\n  };\n}\n\n/**\n * Sets whether a given annotation should be visible, even if it does not\n * match the current search query.\n *\n * @param {string} id - Annotation ID\n * @param {boolean} visible\n */\nfunction setForceVisible(id, visible) {\n  // FIXME: This should be converted to a plain action and accessing the state\n  // should happen in the update() function\n  return function (dispatch, getState) {\n    var forceVisible = Object.assign({}, getState().forceVisible);\n    forceVisible[id] = visible;\n    dispatch({\n      type: actions.SET_FORCE_VISIBLE,\n      forceVisible: forceVisible,\n    });\n  };\n}\n\n/**\n * Sets which annotations are currently focused.\n *\n * @param {Array<string>} Tags of annotations to focus\n */\nfunction focusAnnotations(tags) {\n  return {\n    type: actions.FOCUS_ANNOTATIONS,\n    focused: freeze(toSet(tags)),\n  };\n}\n\nfunction setCollapsed(id, collapsed) {\n  // FIXME: This should be converted to a plain action and accessing the state\n  // should happen in the update() function\n  return function (dispatch, getState) {\n    var expanded = Object.assign({}, getState().expanded);\n    expanded[id] = !collapsed;\n    dispatch({\n      type: actions.SET_EXPANDED,\n      expanded: expanded,\n    });\n  };\n}\n\n/**\n * Highlight annotations with the given `ids`.\n *\n * This is used to indicate the specific annotation in a thread that was\n * linked to for example.\n */\nfunction highlightAnnotations(ids) {\n  return {\n    type: actions.HIGHLIGHT_ANNOTATIONS,\n    highlighted: ids,\n  };\n}\n\n\n/** Set the type annotations to be displayed. */\nfunction selectTab(type) {\n  return {\n    type: actions.SELECT_TAB,\n    tab: type,\n  };\n}\n\n\n/** Set the tag clicked from sidepane. */\nfunction selectTagBtn(type) {\n  return {\n    type: actions.TAG_BTN_CLICK,\n    tagBtn: type,\n  };\n}\n\n\n/** Set the query used to filter displayed annotations. */\nfunction setFilterQuery(query) {\n  return {\n    type: actions.SET_FILTER_QUERY,\n    query: query,\n  };\n}\n\n/** Sets the sort key for the annotation list. */\nfunction setSortKey(key) {\n  return {\n    type: actions.SET_SORT_KEY,\n    key: key,\n  };\n}\n\n/**\n * Returns true if the annotation with the given `id` is selected.\n */\nfunction isAnnotationSelected(state, id) {\n  return (state.selectedAnnotationMap || {}).hasOwnProperty(id);\n}\n\n/**\n * Return true if any annotations are currently selected.\n */\nfunction hasSelectedAnnotations(state) {\n  return !!state.selectedAnnotationMap;\n}\n\n\n/**\n * Return true tag btn selected.\n */\nfunction getTagBtn(state) {\n  return !!state.tagBtn;\n}\n\n/** De-select an annotation. */\nfunction removeSelectedAnnotation(id) {\n  // FIXME: This should be converted to a plain action and accessing the state\n  // should happen in the update() function\n  return function (dispatch, getState) {\n    var selection = Object.assign({}, getState().selectedAnnotationMap);\n    if (!selection || !id) {\n      return;\n    }\n    delete selection[id];\n    dispatch(select(selection));\n  };\n}\n\n/** De-select all annotations. */\nfunction clearSelectedAnnotations() {\n  return {type: actions.CLEAR_SELECTION};\n}\n\nmodule.exports = {\n  init: init,\n  update: update,\n\n  actions: {\n    clearSelectedAnnotations: clearSelectedAnnotations,\n    focusAnnotations: focusAnnotations,\n    highlightAnnotations: highlightAnnotations,\n    removeSelectedAnnotation: removeSelectedAnnotation,\n    selectAnnotations: selectAnnotations,\n    selectTab: selectTab,\n    selectTagBtn: selectTagBtn,\n    setCollapsed: setCollapsed,\n    setFilterQuery: setFilterQuery,\n    setForceVisible: setForceVisible,\n    setSortKey: setSortKey,\n    toggleSelectedAnnotations: toggleSelectedAnnotations,\n  },\n\n  selectors: {\n    hasSelectedAnnotations,\n    isAnnotationSelected,\n    getTagBtn,\n  },\n};\n",
    "'use strict';\n\nvar util = require('../util');\n\nfunction init() {\n  return {\n    /**\n     * The state of the user's login session.\n     *\n     * This includes their user ID, set of enabled features, and the list of\n     * groups they are a member of.\n     */\n    session: {\n      /** A map of features that are enabled for the current user. */\n      features: {},\n      /** A map of preference names and values. */\n      preferences: {},\n      /**\n       * The authenticated user ID or null if the user is not logged in.\n       */\n      userid: null,\n    },\n  };\n}\n\nvar update = {\n  UPDATE_SESSION: function (state, action) {\n    return {\n      session: action.session,\n    };\n  },\n};\n\nvar actions = util.actionTypes(update);\n\n/**\n * Update the session state.\n */\nfunction updateSession(session) {\n  return {\n    type: actions.UPDATE_SESSION,\n    session: session,\n  };\n}\n\n/**\n * Return true if a given feature flag is enabled.\n *\n * @param {object} state - The application state\n * @param {string} feature - The name of the feature flag. This matches the\n *        name of the feature flag as declared in the Hypothesis service.\n */\nfunction isFeatureEnabled(state, feature) {\n  return !!state.session.features[feature];\n}\n\n/**\n * Return the user's profile.\n *\n * Returns the current user's profile fetched from the `/api/profile` endpoint.\n */\nfunction profile(state) {\n  return state.session;\n}\n\nmodule.exports = {\n  init,\n  update,\n\n  actions: {\n    updateSession,\n  },\n\n  selectors: {\n    isFeatureEnabled,\n    profile,\n  },\n};\n",
    "'use strict';\n\nvar util = require('../util');\n\n/**\n * This module defines actions and state related to the display mode of the\n * sidebar.\n */\n\nfunction init() {\n  return {\n    // Flag that indicates whether the app is the sidebar and connected to\n    // a page where annotations are being shown in context.\n    //\n    // Note that this flag is not available early in the lifecycle of the\n    // application.\n    isSidebar: true,\n\n    visibleHighlights: false,\n  };\n}\n\nvar update = {\n  SET_SIDEBAR: function (state, action) {\n    return {isSidebar: action.isSidebar};\n  },\n  SET_HIGHLIGHTS_VISIBLE: function (state, action) {\n    return {visibleHighlights: action.visible};\n  },\n};\n\nvar actions = util.actionTypes(update);\n\n/** Set whether the app is the sidebar */\nfunction setAppIsSidebar(isSidebar) {\n  return {type: actions.SET_SIDEBAR, isSidebar: isSidebar};\n}\n\n/**\n * Sets whether annotation highlights in connected documents are shown\n * or not.\n */\nfunction setShowHighlights(show) {\n  return {type: actions.SET_HIGHLIGHTS_VISIBLE, visible: show};\n}\n\n/**\n * Returns true if the app is being used as the sidebar in the annotation\n * client, as opposed to the standalone annotation page or stream views.\n */\nfunction isSidebar(state) {\n  return state.isSidebar;\n}\n\nmodule.exports = {\n  init: init,\n  update: update,\n  actions: {\n    setAppIsSidebar: setAppIsSidebar,\n    setShowHighlights: setShowHighlights,\n  },\n\n  selectors: {\n    isSidebar,\n  },\n};\n",
    "'use strict';\n\n/**\n * Return an object where each key in `updateFns` is mapped to the key itself.\n */\nfunction actionTypes(updateFns) {\n  return Object.keys(updateFns).reduce(function (types, key) {\n    types[key] = key;\n    return types;\n  }, {});\n}\n\n/**\n * Given objects which map action names to update functions, this returns a\n * reducer function that can be passed to the redux `createStore` function.\n *\n * @param {Object[]} actionToUpdateFn - Objects mapping action names to update\n *                                      functions.\n */\nfunction createReducer(...actionToUpdateFn) {\n  // Combine the (action name => update function) maps together into a single\n  // (action name => update functions) map.\n  var actionToUpdateFns = {};\n  actionToUpdateFn.forEach(map => {\n    Object.keys(map).forEach(k => {\n      actionToUpdateFns[k] = (actionToUpdateFns[k] || []).concat(map[k]);\n    });\n  });\n\n  return (state, action) => {\n    var fns = actionToUpdateFns[action.type];\n    if (!fns) {\n      return state;\n    }\n    return Object.assign({}, state, ...fns.map(f => f(state, action)));\n  };\n}\n\n/**\n * Takes an object mapping keys to selector functions and the `getState()`\n * function from the store and returns an object with the same keys but where\n * the values are functions that call the original functions with the `state`\n * argument set to the current value of `getState()`\n */\nfunction bindSelectors(selectors, getState) {\n  return Object.keys(selectors).reduce(function (bound, key) {\n    var selector = selectors[key];\n    bound[key] = function () {\n      var args = [].slice.apply(arguments);\n      args.unshift(getState());\n      return selector.apply(null, args);\n    };\n    return bound;\n  }, {});\n}\n\nmodule.exports = {\n  actionTypes: actionTypes,\n  bindSelectors: bindSelectors,\n  createReducer: createReducer,\n};\n",
    "'use strict';\n\n// Selectors that calculate the annotation counts displayed in tab headings\n// and determine which tab an annotation should be displayed in.\n\nvar countIf = require('./util/array-util').countIf;\nvar metadata = require('./annotation-metadata');\nvar uiConstants = require('./ui-constants');\n\n/**\n * Return the tab in which an annotation should be displayed.\n *\n * @param {Annotation} ann\n */\nfunction tabForAnnotation(ann) {\n  if (metadata.isOrphan(ann)) {\n    return uiConstants.TAB_ORPHANS;\n  } else if (metadata.isPageNote(ann)) {\n    return uiConstants.TAB_NOTES;\n  } else {\n    return uiConstants.TAB_ANNOTATIONS;\n  }\n}\n\n/**\n * Return true if an annotation should be displayed in a given tab.\n *\n * @param {Annotation} ann\n * @param {number} tab - The TAB_* value indicating the tab\n */\nfunction shouldShowInTab(ann, tab) {\n  if (metadata.isWaitingToAnchor(ann)) {\n    // Until this annotation anchors or fails to anchor, we do not know which\n    // tab it should be displayed in.\n    return false;\n  }\n  return tabForAnnotation(ann) === tab;\n}\n\n/**\n * Return the counts for the headings of different tabs.\n *\n * @param {Annotation[]} annotations - List of annotations to display\n */\nfunction counts(annotations) {\n  var counts = {\n    notes: countIf(annotations, metadata.isPageNote),\n    annotations: countIf(annotations, metadata.isAnnotation),\n    orphans: countIf(annotations, metadata.isOrphan),\n    anchoring: countIf(annotations, metadata.isWaitingToAnchor),\n  };\n\n  return counts;\n}\n\nmodule.exports = {\n  counts: counts,\n  shouldShowInTab: shouldShowInTab,\n  tabForAnnotation: tabForAnnotation,\n};\n",
    "module.exports = \"<div class=\\\"about-panel\\\">\\n  <i class=\\\"close h-icon-close\\\"\\n    role=\\\"button\\\"\\n    title=\\\"Close\\\"\\n    ng-click=\\\"vm.onClose()\\\"></i>\\n\\n<!-- <div class=\\\"help-panel-content\\\">\\n    <help-link\\n      version=\\\"vm.version\\\"\\n      user-agent=\\\"vm.userAgent\\\"\\n      url=\\\"vm.url\\\"\\n      document-fingerprint=\\\"vm.documentFingerprint\\\"\\n      auth=\\\"vm.auth\\\"\\n      date-time=\\\"vm.dateTime\\\">\\n    </help-link> if you have any questions or want to give us feedback.\\n    You can also send <a class=\\\"help-panel-content__link\\\" href=\\\"https://web.hypothes.is/get-help/\\\" target=\\\"_blank\\\">a support ticket</a>\\n    or visit our <a class=\\\"help-panel-content__link\\\" href=\\\"https://web.hypothes.is/help/\\\" target=\\\"_blank\\\"> help documents</a>.\\n  </div> -->\\n  <header class=\\\"about-panel-title\\\">\\n    About this version\\n  </header>\\n  <div class=\\\"about-panel-content\\\">\\n    <dt class=\\\"about-panel-content__key\\\">Version: </dt>\\n    <dd class=\\\"about-panel-content__val\\\">{{ vm.version }}</dd>\\n    <dt class=\\\"about-panel-content__key\\\">User agent: </dt>\\n    <dd class=\\\"about-panel-content__val\\\">{{ vm.userAgent }}</dd>\\n    <div ng-if=\\\"vm.url\\\">\\n      <dt class=\\\"about-panel-content__key\\\">URL: </dt>\\n      <dd class=\\\"about-panel-content__val\\\">{{ vm.url }}</dd>\\n    </div>\\n    <div ng-if=\\\"vm.documentFingerprint\\\">\\n      <dt class=\\\"about-panel-content__key\\\">PDF fingerprint: </dt>\\n      <dd class=\\\"about-panel-content__val\\\">{{ vm.documentFingerprint }}</dd>\\n    </div>\\n    <div ng-if=\\\"vm.auth.userid\\\">\\n      <dt class=\\\"about-panel-content__key\\\">Username: </dt>\\n      <dd class=\\\"about-panel-content__val\\\">{{ vm.auth.username }}</dd>\\n    </div>\\n    <dt class=\\\"about-panel-content__key\\\">Date: </dt>\\n    <dd class=\\\"about-panel-content__val\\\">{{ vm.dateTime | date:'dd MMM yyyy HH:mm:ss Z' }}</dd>\\n  </div>\\n</div>\\n\";\n",
    "module.exports = \"\\r\\n<form ng-submit=\\\"vm.ok()\\\">\\r\\n\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t<h4>{{vm.modalOptions.headerText}}</h4>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-body move-web-resource-modal-body\\\">\\r\\n\\t\\t<div class=\\\"col-xs-12 move-web-resource-err-msg\\\"\\r\\n\\t\\t\\tdata-ng-if=\\\"vm.modalOptions.errMessage.length > 0\\\">\\r\\n\\t\\t\\t{{vm.modalOptions.errMessage}}</div>\\r\\n\\t\\t<div class=\\\"col-xs-12\\\" style=\\\"min-height: 110px;\\\">\\r\\n\\t\\t\\t<div class=\\\"form-group  \\\">\\r\\n\\t\\t\\t\\t<input type=\\\"text\\\" class=\\\"form-control txt-input\\\" autofocus\\r\\n\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.section.name\\\" placeholder=\\\"Section name\\\"\\r\\n\\t\\t\\t\\t\\tdata-ng-keyup=\\\"vm.checkEventAndCreateNewTS($event)\\\" required>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"form-group  \\\">\\r\\n\\t\\t\\t\\t<textarea ng-model=\\\"vm.section.description\\\"\\r\\n\\t\\t\\t\\t    \\t  cust-autogrow \\r\\n  \\t\\t\\t\\t\\t\\t  autogrow-min-height=\\\"80\\\"\\r\\n\\t\\t\\t\\t\\t      placeholder=\\\"Description\\\" \\r\\n\\t\\t\\t\\t\\t      style=\\\"width: 100%;\\\"\\r\\n\\t\\t\\t\\t\\t      class=\\\"txt-area-custom\\\">\\r\\n\\t\\t\\t\\t</textarea>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t<button type=\\\"button\\\" class=\\\"btn-clean\\\" data-ng-click=\\\"vm.cancel()\\\">\\r\\n\\t\\t\\t{{vm.modalOptions.close}}</button>\\r\\n\\t\\t<button type=\\\"submit\\\" class=\\\"btn-clean btn-numici\\\"\\r\\n\\t\\t\\tdata-ng-disabled=\\\"!vm.section.name\\\">{{vm.modalOptions.ok}}</button>\\r\\n\\t</div>\\r\\n</form>\";\n",
    "module.exports = \"<span class=\\\"add-btn numici-add\\\" \\r\\n\\t    ng-click=\\\"vm.createSection()\\\"\\r\\n\\t\\ttitle=\\\"Add section to {{vm.group.name}}\\\"\\r\\n\\t\\tstyle=\\\"text-align: center; height: inherit; width: inherit;\\\">\\r\\n\\t\\t<i class=\\\"h-icon-add\\\"></i>{{vm.label}}\\r\\n</span>\";\n",
    "module.exports = \"<form ng-submit=\\\"vm.ok()\\\">\\r\\n\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<h4 class=\\\"modal-title\\\">{{vm.modalOptions.headerText}}</h4>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-body add-to-ts\\\">\\r\\n\\t   <div class=\\\"form-group \\\">\\r\\n\\t   \\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t<select-taskspace auth=\\\"vm.auth\\\" group=\\\"vm.group\\\" style=\\\"display: flex;flex-grow: 1;\\\"></select-taskspace>\\r\\n\\t\\t\\t</div>\\r\\n\\t   </div>\\r\\n\\t   <div class=\\\"form-group \\\" ng-if=\\\"vm.hasSections()\\\">\\r\\n\\t\\t   \\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t<select-section auth=\\\"vm.auth\\\" \\r\\n\\t          \\t              group=\\\"vm.group\\\"\\r\\n\\t          \\t              section=\\\"vm.section\\\"\\r\\n\\t          \\t              append-to-body= false\\r\\n\\t          \\t              select-disabled = false\\r\\n\\t          \\t              on-new-section=\\\"vm.onNewSection({section:section,group:group})\\\"\\r\\n\\t          \\t              style=\\\"display: flex;flex-grow: 1;\\\">\\r\\n\\t          \\t</select-section>\\r\\n\\t\\t\\t</div>\\r\\n\\t   </div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-footer\\\">\\r\\n\\t    <span ng-if=\\\"!vm.hasSections() && vm.allowCreateSection()\\\" style=\\\"float: left;\\\">\\r\\n\\t       <add-section-btn auth=\\\"vm.auth\\\" group=\\\"vm.group\\\" label=\\\"{{vm.modalOptions.addSection}}\\\" on-new-section=\\\"vm.onNewSection({section:section,group:group})\\\"></add-section-btn>\\r\\n\\t    </span>\\r\\n\\t\\t<button class=\\\"btn-clean\\\" type=\\\"button\\\" data-ng-click=\\\"vm.cancel()\\\">{{vm.modalOptions.cancel}}</button>\\r\\n\\t\\t<button class=\\\"btn-clean btn-numici\\\" type=\\\"submit\\\"\\r\\n\\t\\t\\tdata-ng-disabled=\\\"disableConfirm()\\\">{{vm.modalOptions.ok}}</button>\\r\\n\\t</div>\\r\\n</form>\";\n",
    "module.exports = \"<div class=\\\"drc\\\" data-ng-style=\\\"::digesMinMaxWidth()\\\">\\r\\n\\t<div class=\\\"row\\\" contenteditable=\\\"false\\\">\\r\\n       \\t<div class=\\\"row digest-name\\\" \\r\\n        \\tdata-ng-if=\\\"digestName.length>0\\\" \\r\\n        \\tstyle=\\\"font-size: 18px;color: #069;text-align: center;padding: 10px 0px;font-weight: bold;font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;\\\">\\r\\n\\t\\t\\t{{digestName}}\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"row digest-description\\\" \\r\\n\\t\\t\\tdata-ng-bind-html=\\\"description| to_trusted\\\" \\r\\n\\t\\t\\tdata-ng-if=\\\"description.length>0\\\" \\r\\n\\t\\t\\tstyle=\\\"padding: 10px 0px;color: #24292e;font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;\\\">\\r\\n\\t\\t\\t<!-- {{description}} -->\\r\\n\\t\\t</div>\\r\\n    </div>\\r\\n    <div class=\\\"row\\\" \\r\\n    data-ng-style=\\\"{'border-bottom-width': '1px', 'border-bottom-color': '#aaa', 'border-bottom-style': 'solid'}\\\" \\r\\n\\t\\tstyle=\\\"padding: 10px 0px;\\\"\\r\\n\\t\\tdata-ng-repeat=\\\"digest in ::digestData track by $index\\\">\\r\\n\\t\\t<div data-ng-attr-data-obj-id=\\\"digest.documentId\\\"\\r\\n\\t\\t\\t data-ng-attr-data-annot-id=\\\"digest.annotationId\\\"></div>\\r\\n\\t\\t<div class=\\\"row\\\" contenteditable=\\\"false\\\">\\r\\n\\t\\t\\t<div data-ng-if=\\\"imagePosition == 'left'\\\">\\r\\n\\t\\t\\t\\t<div data-ng-if=\\\"digest.imageUrl && digestMetaInfoOptions.image\\\"\\r\\n\\t\\t\\t\\t    style=\\\"width: 35%;float: left;margin: 1em;margin-left: 0em;\\\">\\r\\n\\t\\t\\t\\t    <a data-ng-href=\\\"{{::digest.link}}\\\" target=\\\"_blank\\\"> \\r\\n\\t\\t\\t\\t\\t\\t<img data-ng-src=\\\"{{::digest.imageUrl}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t     align=\\\"left\\\" \\r\\n\\t\\t\\t\\t\\t\\t     style=\\\"width: 100%;\\r\\n\\t\\t\\t\\t\\t\\t     \\t\\tdisplay: block;\\r\\n\\t\\t\\t\\t\\t\\t     \\t\\tmax-height: 139px;\\r\\n    \\t\\t\\t\\t\\t\\t\\t\\tobject-fit: cover;\\r\\n    \\t\\t\\t\\t\\t\\t\\t\\tobject-position: center top;\\\"\\r\\n    \\t\\t\\t\\t\\t\\t data-ng-style= \\\"::altImageStyles(digest)\\\"\\r\\n\\t\\t\\t\\t\\t\\t     data-cke-real-node-type=\\\"1\\\" \\r\\n\\t\\t\\t\\t\\t\\t     data-track-changes-ignore=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t     data-cke-editable=\\\"false\\\" \\r\\n\\t\\t\\t\\t\\t\\t     contenteditable=\\\"false\\\" />\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"content\\\"\\r\\n\\t\\t\\t\\t     data-ng-style=\\\"::repDigestStyles(digest)\\\">\\r\\n\\t\\t\\t\\t\\t<h4 data-ng-style=\\\"::titleStyles()\\\" \\r\\n\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"digestMetaInfoOptions.documentName\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a data-ng-href=\\\"{{::digest.link}}\\\" target=\\\"_blank\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-tooltip-append-to-body=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-uib-tooltip=\\\"{{::digest.displayName}}\\\" role=\\\"button\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: #069; text-decoration: none !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{::digest.displayName}} </a>\\r\\n\\t\\t\\t\\t\\t</h4>\\r\\n\\t\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row meta-info-description\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"digest.description && digestMetaInfoOptions.description\\\">\\r\\n\\t\\t\\t\\t\\t\\t{{::digest.description}}\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row meta-info-publisher\\\" data-ng-if=\\\"digest.website\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"meta-info-publisher-name\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"digestMetaInfoOptions.websiteName\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"name\\\" data-ng-if=\\\"!digest.url\\\"> {{::digest.website}} </span> \\r\\n\\t\\t\\t\\t\\t\\t\\t<a data-ng-if=\\\"digest.url\\\" class=\\\"name\\\" data-ng-href=\\\"{{::digest.url}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\ttarget=\\\"_blank\\\" data-tooltip-append-to-body=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-uib-tooltip=\\\"{{::digest.url}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: #069; text-decoration: none !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{::digest.website}} \\r\\n\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" data-ng-if=\\\"digest.tags && digestMetaInfoOptions.documentTags\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span data-ng-repeat=\\\"tag in ::digest.tags track by $index\\\" style=\\\"display:inline-block; height: 25px;line-height: 25px;background: #069;padding:0px 10px;margin: 5px;color: #fff;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{tag}}\\r\\n\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\t\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div data-ng-if=\\\"imagePosition == 'fullWidth'\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<h4 data-ng-style=\\\"::titleStyles()\\\" \\r\\n\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"digestMetaInfoOptions.documentName\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a data-ng-href=\\\"{{::digest.link}}\\\" target=\\\"_blank\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-tooltip-append-to-body=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-uib-tooltip=\\\"{{::digest.displayName}}\\\" role=\\\"button\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: #069; text-decoration: none !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{::digest.displayName}} </a>\\r\\n\\t\\t\\t\\t\\t</h4>\\r\\n\\t\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row meta-info-description\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"digest.description\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-show=\\\"digestMetaInfoOptions.description\\\">\\r\\n\\t\\t\\t\\t\\t\\t{{::digest.description}}\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row meta-info-publisher\\\" data-ng-if=\\\"digest.website\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"meta-info-publisher-name\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-ng-show=\\\"digestMetaInfoOptions.websiteName\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"name\\\" data-ng-if=\\\"!digest.url\\\"> {{::digest.website}} </span> \\r\\n\\t\\t\\t\\t\\t\\t\\t<a data-ng-if=\\\"digest.url\\\" class=\\\"name\\\" data-ng-href=\\\"{{::digest.url}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\ttarget=\\\"_blank\\\" data-tooltip-append-to-body=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-uib-tooltip=\\\"{{::digest.url}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: #069; text-decoration: none !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{::digest.website}} \\r\\n\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" data-ng-if=\\\"digest.tags && digestMetaInfoOptions.documentTags\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span data-ng-repeat=\\\"tag in ::digest.tags track by $index\\\" style=\\\"display:inline-block; height: 25px;line-height: 25px;background: #069;padding:0px 10px;margin: 5px;color: #fff;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{tag}}\\r\\n\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\t\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin: 10px 0px;\\\">\\r\\n\\t\\t\\t\\t\\t<a data-ng-href=\\\"{{::digest.link}}\\\" target=\\\"_blank\\\">\\r\\n\\t\\t\\t\\t\\t\\t<img class=\\\"image\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t data-ng-src=\\\"{{::digest.imageUrl}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t align=\\\"middle\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t data-ng-if=\\\"digest.imageUrl && digestMetaInfoOptions.image\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t style=\\\"width: 100%;\\r\\n\\t\\t\\t\\t\\t\\t\\t \\t\\tposition: relative;\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t    display: block;\\r\\n\\t\\t\\t\\t\\t\\t     \\t\\tmax-height: 339px;\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tobject-fit: cover;\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tobject-position: center top;\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t data-ng-style= \\\"::altImageStyles(digest)\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t data-cke-real-node-type=\\\"1\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t data-track-changes-ignore=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t data-cke-editable=\\\"false\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t contenteditable=\\\"false\\\" />\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div data-ng-if=\\\"imagePosition == 'right'\\\">\\r\\n\\t\\t\\t\\t<div data-ng-style=\\\"::repDigestStyles(digest)\\\">\\r\\n\\t\\t\\t\\t\\t<h4 data-ng-style=\\\"::titleStyles()\\\" \\r\\n\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"digestMetaInfoOptions.documentName\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a data-ng-href=\\\"{{::digest.link}}\\\" target=\\\"_blank\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-tooltip-append-to-body=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-uib-tooltip=\\\"{{::digest.displayName}}\\\" role=\\\"button\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: #069; text-decoration: none !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{::digest.displayName}} </a>\\r\\n\\t\\t\\t\\t\\t</h4>\\r\\n\\t\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row meta-info-description\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"digest.description\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-show=\\\"digestMetaInfoOptions.description\\\">\\r\\n\\t\\t\\t\\t\\t\\t{{::digest.description}}\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row meta-info-publisher\\\" data-ng-if=\\\"digest.website\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span class=\\\"meta-info-publisher-name\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-ng-show=\\\"digestMetaInfoOptions.websiteName\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t<span class=\\\"name\\\" data-ng-if=\\\"!digest.url\\\"> {{::digest.website}} </span> \\r\\n\\t\\t\\t\\t\\t\\t\\t<a data-ng-if=\\\"digest.url\\\" class=\\\"name\\\" data-ng-href=\\\"{{::digest.url}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\ttarget=\\\"_blank\\\" data-tooltip-append-to-body=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-uib-tooltip=\\\"{{::digest.url}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"color: #069; text-decoration: none !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{::digest.website}} \\r\\n\\t\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" data-ng-if=\\\"digest.tags && digestMetaInfoOptions.documentTags\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span data-ng-repeat=\\\"tag in ::digest.tags track by $index\\\" style=\\\"display:inline-block; height: 25px;line-height: 25px;background: #069;padding:0px 10px;margin: 5px;color: #fff;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t{{tag}}\\r\\n\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\t\\r\\n\\t\\t\\t\\t<div style=\\\"width: 35%;float: left;margin: 1em;margin-right: 0em;\\\" \\r\\n\\t\\t\\t\\t     data-ng-if=\\\"digest.imageUrl && digestMetaInfoOptions.image\\\">\\r\\n\\t\\t\\t\\t\\t<a data-ng-href=\\\"{{::digest.link}}\\\" target=\\\"_blank\\\"> \\r\\n\\t\\t\\t\\t\\t\\t<img data-ng-src=\\\"{{::digest.imageUrl}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t align=\\\"{{::imagePosition}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t style=\\\"width: 100%;\\r\\n\\t\\t\\t\\t\\t\\t     \\t\\tdisplay: block;\\r\\n\\t\\t\\t\\t\\t\\t     \\t\\tmax-height: 139px;\\r\\n    \\t\\t\\t\\t\\t\\t\\t\\tobject-fit: cover;\\r\\n    \\t\\t\\t\\t\\t\\t\\t\\tobject-position: center top;\\\"\\r\\n    \\t\\t\\t\\t\\t\\t data-ng-style= \\\"::altImageStyles(digest)\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t data-cke-real-node-type=\\\"1\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t data-track-changes-ignore=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t data-cke-editable=\\\"false\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t contenteditable=\\\"false\\\" />\\r\\n\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"row\\\" \\r\\n\\t\\t\\t\\tdata-ng-repeat=\\\"annotation in ::digest.annotations track by $index\\\"\\r\\n\\t\\t\\t\\tstyle=\\\"padding: 10px 0px; clear: both;\\\">\\r\\n\\t\\t\\t\\t<div data-ng-if=\\\"displayOrder == 'regular'\\\">\\r\\n\\t\\t\\t\\t<div data-ng-if=\\\"!annotation.pagenote\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<div data-ng-style=\\\"{'border-left-width': '4px', 'border-left-color': enableBorder, 'border-left-style': 'solid'}\\\" style=\\\"padding-left: 10px; position: relative;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div data-ng-if=\\\"annotation.annotatedText || annotation.formatedtext\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t data-ng-bind-html=\\\"::annotatedText(annotation)| to_trusted\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t<div data-ng-if=\\\"digestMetaInfoOptions.annotationUserName || digestMetaInfoOptions.annotationCreatedTime\\\"  \\r\\n\\t\\t\\t\\t\\t\\t\\tstyle=\\\"font-size: 12px; color: #aaa;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"digestMetaInfoOptions.annotationUserName\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{::annotation.annotatedUserName}} \\r\\n\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t&nbsp; \\r\\n\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"digestMetaInfoOptions.annotationCreatedTime\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{::createdDate(annotation.annotationCreatedTime)}} \\r\\n\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" data-ng-if=\\\"annotation.tags && digestMetaInfoOptions.tags\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span data-ng-repeat=\\\"tag in ::annotation.tags track by $index\\\" style=\\\"display:inline-block; height: 25px;line-height: 25px;background: #069;padding:0px 10px;margin: 5px;color: #fff;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{tag}}\\r\\n\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\" data-ng-style=\\\"{'padding' : !annotation.pagenote ? '0px 15px 0px 30px' : '0px'}\\\">\\r\\n\\t\\t\\t\\t\\t<div data-ng-if=\\\"conv.comment && conv.comment.length > 0\\\"\\r\\n\\t\\t\\t\\t\\t\\tclass=\\\"row digest-conversation\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-repeat=\\\"conv in ::annotation.conversation track by $index\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin: 10px 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<img data-ng-src=\\\"{{::commentIconUrl}}\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t data-cke-real-node-type=\\\"1\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t data-track-changes-ignore=\\\"true\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t data-cke-editable=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t contenteditable=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t align=\\\"left\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t style=\\\"float: left; width: 20px; position:relative;top:5px;margin-right: 10px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <comment-to-html data-comment=\\\"::conv.comment\\\" data-annotation=\\\"::digest\\\"></comment-to-html>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t \\r\\n\\t\\t\\t\\t\\t\\t\\t<div data-ng-if=\\\"digestMetaInfoOptions.annotationUserName || digestMetaInfoOptions.annotationCreatedTime\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"font-size: 12px; color: #aaa; clear: both;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"digestMetaInfoOptions.annotationUserName\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{::conv.commentatorName}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t&nbsp; \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"digestMetaInfoOptions.annotationCreatedTime\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{::createdDate(conv.createdTime)}} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div data-ng-if=\\\"displayOrder == 'blockquote'\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<div data-ng-if=\\\"conv.comment && conv.comment.length > 0\\\"\\r\\n\\t\\t\\t\\t\\t\\tclass=\\\"row digest-conversation\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-repeat=\\\"conv in ::annotation.conversation track by $index\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin: 10px 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<img data-ng-src=\\\"{{::commentIconUrl}}\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t data-cke-real-node-type=\\\"1\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t data-track-changes-ignore=\\\"true\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t data-cke-editable=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t contenteditable=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t align=\\\"left\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t style=\\\"float: left; width: 20px; position:relative;top:5px;margin-right: 10px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t <comment-to-html data-comment=\\\"::conv.comment\\\" data-annotation=\\\"::digest\\\"></comment-to-html>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div data-ng-if=\\\"digestMetaInfoOptions.annotationUserName || digestMetaInfoOptions.annotationCreatedTime\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"font-size: 12px; color: #aaa; clear: both;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"digestMetaInfoOptions.annotationUserName\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{::conv.commentatorName}}\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t&nbsp; \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"digestMetaInfoOptions.annotationCreatedTime\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t{{::createdDate(conv.createdTime)}} \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div data-ng-if=\\\"!annotation.pagenote\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\" data-ng-style=\\\"{'padding' : annotation.conversation.length > 0 ? '0px 15px 0px 30px' : '0px'}\\\">\\r\\n\\t\\t\\t\\t\\t<div data-ng-style=\\\"{'border-left-width': '4px', 'border-left-color': enableBorder, 'border-left-style': 'solid'}\\\" style=\\\"padding-left: 10px; position: relative;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div data-ng-if=\\\"annotation.annotatedText || annotation.formatedtext\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t data-ng-bind-html=\\\"::annotatedText(annotation)| to_trusted\\\" style=\\\"text-align: justify; font-style: italic;\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t<div data-ng-if=\\\"digestMetaInfoOptions.annotationUserName || digestMetaInfoOptions.annotationCreatedTime\\\"  \\r\\n\\t\\t\\t\\t\\t\\t\\tstyle=\\\"font-size: 12px; color: #aaa;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"digestMetaInfoOptions.annotationUserName\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{::annotation.annotatedUserName}} \\r\\n\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t\\t&nbsp; \\r\\n\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"digestMetaInfoOptions.annotationCreatedTime\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{::createdDate(annotation.annotationCreatedTime)}} \\r\\n\\t\\t\\t\\t\\t\\t\\t</span> \\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" data-ng-if=\\\"annotation.tags && digestMetaInfoOptions.tags\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<span data-ng-repeat=\\\"tag in ::annotation.tags track by $index\\\" style=\\\"display:inline-block; height: 25px;line-height: 25px;background: #069;padding:0px 10px;margin: 5px;color: #fff;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{tag}}\\r\\n\\t\\t\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\r\\n\\t\\r\\n\\t\\t</div>\\r\\n\\t\\r\\n\\t\\t<div data-ng-attr-data-obj-id=\\\"digest.documentId\\\"\\r\\n\\t\\t\\t data-ng-attr-data-annot-id=\\\"digest.annotationId\\\">\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\";\n",
    "module.exports = \"<button class=\\\"btn btn-clean annotation-action-btn\\\"\\n  ng-click=\\\"vm.onClick()\\\"\\n  ng-disabled=\\\"vm.isDisabled\\\"\\n  aria-label=\\\"{{ vm.label }}\\\"\\n  h-tooltip>\\n  <i class=\\\"{{ vm.icon }} btn-icon\\\"></i>\\n</button>\\n\";\n",
    "module.exports = \"<header class=\\\"annotation-header\\\">\\n  <!-- User -->\\n  <span ng-if=\\\"vm.user()\\\">\\n   <!-- <a class=\\\"annotation-header__user\\\"\\n      target=\\\"_blank\\\"\\n      ng-if=\\\"!vm.isThirdPartyUser()\\\"\\n      ng-href=\\\"{{vm.serviceUrl('user',{user:vm.user()})}}\\\"\\n      >{{vm.displayName()}}</a>\\n    <a class=\\\"annotation-header__user\\\"\\n      target=\\\"_blank\\\"\\n      ng-if=\\\"vm.isThirdPartyUser() && vm.thirdPartyUsernameLink()\\\"\\n      href=\\\"{{ vm.thirdPartyUsernameLink() }}\\\"\\n      >{{vm.displayName()}}</a>\\n    <span class=\\\"annotation-header__user\\\"\\n      ng-if=\\\"vm.isThirdPartyUser() && !vm.thirdPartyUsernameLink()\\\"\\n      >{{vm.displayName()}}</span>\\n    <a class=\\\"annotation-header__user\\\">{{vm.displayName()}}</a>\\n    <span class=\\\"annotation-collapsed-replies\\\">\\n      <a class=\\\"annotation-link\\\" href=\\\"\\\"\\n        ng-click=\\\"vm.onReplyCountClick()\\\"\\n        ng-pluralize count=\\\"vm.replyCount\\\"\\n        when=\\\"{'0': '', 'one': '1 reply', 'other': '{} replies'}\\\"></a>\\n    </span>\\n    <br>\\n    <span class=\\\"annotation-header__share-info\\\" ng-if=\\\"vm.group() && !vm.group().fromPublicLink\\\">\\n      <a class=\\\"annotation-header__group\\\"\\n        target=\\\"_blank\\\" ng-if=\\\"vm.group() && vm.group().links.html\\\" href=\\\"{{vm.group().links.html}}\\\">\\n        <i class=\\\"h-icon-group\\\"></i><span class=\\\"annotation-header__group-name\\\">{{vm.group().name}}</span>\\n      </a>\\n      <span class=\\\"annotation-header__group\\\"\\n        ng-if=\\\"vm.group() && vm.group().fromPublicLink\\\">\\n        <i class=\\\"h-icon-group\\\"></i><span class=\\\"annotation-header__group-name\\\">{{vm.group().name}}</span>\\n      </span>\\n      <span ng-show=\\\"vm.isPrivate\\\"\\n        title=\\\"This annotation is visible only to you.\\\">\\n        <i class=\\\"h-icon-lock\\\"></i><span class=\\\"annotation-header__group-name\\\" ng-show=\\\"!vm.group().links.html\\\">Only me</span>\\n      </span>\\n      <i class=\\\"h-icon-border-color\\\" ng-show=\\\"vm.isHighlight && !vm.isEditing\\\" title=\\\"This is a highlight. Click 'edit' to add a note or tag.\\\"></i>\\n      <span ng-if=\\\"::vm.showDocumentInfo\\\">\\n        <span class=\\\"annotation-citation\\\" ng-if=\\\"vm.documentMeta().titleLink\\\">\\n          on \\\"<a ng-href=\\\"{{vm.documentMeta().titleLink}}\\\">{{vm.documentMeta().titleText}}</a>\\\"\\n        </span>\\n        <span class=\\\"annotation-citation\\\" ng-if=\\\"!vm.documentMeta().titleLink\\\">\\n          on \\\"{{vm.documentMeta().titleText}}\\\"\\n        </span>\\n        <span class=\\\"annotation-citation-domain\\\"\\n              ng-if=\\\"vm.documentMeta().domain\\\">({{vm.documentMeta().domain}})</span>\\n      </span>\\n    </span>\\n    \\n    <span class=\\\"annotation-header__share-info\\\" ng-if=\\\"vm.group() && vm.group().fromPublicLink\\\">\\n      <span class=\\\"annotation-header__group\\\">\\n        <i class=\\\"h-icon-group\\\"></i><span class=\\\"annotation-header__group-name\\\">{{vm.group().name}}</span>\\n      </span>\\n    </span> -->\\n     <span class=\\\"annotation-header__user\\\">{{vm.displayName()}}</span>\\n  </span>\\n\\n  <span class=\\\"u-flex-spacer\\\"></span>\\n\\n  <timestamp\\n    class-name=\\\"'annotation-header__timestamp'\\\"\\n    timestamp=\\\"vm.updated()\\\"\\n    href=\\\"vm.htmlLink()\\\"\\n    ng-if=\\\"!vm.editing() && vm.updated()\\\"></timestamp>\\n</header>\\n\";\n",
    "module.exports = \"<div class=\\\"annotation-share-dialog__backdrop\\\"\\n     ng-if=\\\"vm.isOpen\\\"\\n     ng-click=\\\"vm.onClose()\\\"></div>\\n<div class=\\\"annotation-share-dialog\\\" ng-class=\\\"{'is-open': vm.isOpen}\\\">\\n  <div class=\\\"annotation-share-dialog-target\\\" ng-if=\\\"vm.showExtShare()\\\">\\n    <span class=\\\"annotation-share-dialog-target__label\\\">Share:</span>\\n    <a href=\\\"https://twitter.com/intent/tweet?url={{vm.uri | urlEncode}}&hashtags=annotated\\\"\\n      target=\\\"_blank\\\"\\n      title=\\\"Tweet link\\\"\\n      class=\\\"annotation-share-dialog-target__icon h-icon-twitter\\\"\\n      ng-click=\\\"vm.onShareClick('twitter')\\\"></a>\\n    <a href=\\\"https://www.facebook.com/sharer/sharer.php?u={{vm.uri | urlEncode}}\\\"\\n      target=\\\"_blank\\\"\\n      title=\\\"Share on Facebook\\\"\\n      class=\\\"annotation-share-dialog-target__icon h-icon-facebook\\\"\\n      ng-click=\\\"vm.onShareClick('facebook')\\\"></a>\\n    <a href=\\\"https://plus.google.com/share?url={{vm.uri | urlEncode}}\\\"\\n      target=\\\"_blank\\\"\\n      title=\\\"Post on Google Plus\\\"\\n      class=\\\"annotation-share-dialog-target__icon h-icon-google-plus\\\"\\n      ng-click=\\\"vm.onShareClick('googlePlus')\\\"></a>\\n    <a href=\\\"mailto:?subject=Let's%20Annotate&amp;body={{vm.uri}}\\\"\\n      target=\\\"_blank\\\"\\n      title=\\\"Share via email\\\"\\n      class=\\\"annotation-share-dialog-target__icon h-icon-mail\\\"\\n      ng-click=\\\"vm.onShareClick('email')\\\"></a>\\n  </div>\\n  <div class=\\\"annotation-share-dialog-link\\\" type=\\\"text\\\">\\n    <input class=\\\"annotation-share-dialog-link__text\\\"\\n      value=\\\"{{vm.uri}}\\\" readonly>\\n    <span class=\\\"annotation-share-dialog-link__feedback\\\" ng-if=\\\"vm.copyToClipboardMessage\\\">\\n      {{vm.copyToClipboardMessage}}\\n    </span>\\n    <button class=\\\"btn btn-clean annotation-share-dialog-link__btn\\\"\\n      ng-click=\\\"vm.copyToClipboard($event)\\\">\\n      <i class=\\\"h-icon-clipboard btn-icon\\\"></i>\\n    </button>\\n  </div>\\n  <div class=\\\"annotation-share-dialog-msg\\\" ng-if=\\\"vm.group && vm.group.type === 'private' && !vm.isPrivate\\\">\\n   <!--  <span class=\\\"annotation-share-dialog-msg__audience\\\">\\n      Group.\\n    </span> -->\\n    Share the link above to show anyone in the Taskspace this annotation and invite them to contribute their own\\n  </div>\\n  <div class=\\\"annotation-share-dialog-msg\\\" ng-if=\\\"vm.isPrivate\\\">\\n    <span class=\\\"annotation-share-dialog-msg__audience\\\">\\n      Only me.\\n    </span>\\n    No one else will be able to view this annotation.\\n  </div>\\n</div>\\n\";\n",
    "module.exports = \"<div ng-class=\\\"vm.threadClasses()\\\">\\n  <div class=\\\"annotation-thread__thread-edge\\\" ng-if=\\\"!vm.isTopLevelThread()\\\">\\n    <a href=\\\"\\\"\\n       ng-class=\\\"vm.threadToggleClasses()\\\"\\n       title=\\\"{{vm.thread.collapsed && 'Expand' || 'Collapse'}}\\\"\\n       ng-click=\\\"vm.toggleCollapsed()\\\">\\n       <span ng-class=\\\"{'h-icon-arrow-right': vm.thread.collapsed,\\n                        'h-icon-arrow-drop-down': !vm.thread.collapsed}\\\"></span>\\n    </a>\\n    <div class=\\\"annotation-thread__thread-line\\\"></div>\\n  </div>\\n  <div class=\\\"annotation-thread__content\\\">\\n    <moderation-banner annotation=\\\"vm.thread.annotation\\\"\\n                       ng-if=\\\"vm.thread.annotation\\\">\\n    </moderation-banner>\\n    <annotation ng-class=\\\"vm.annotationClasses()\\\"\\n             annotation=\\\"vm.thread.annotation\\\"\\n             is-collapsed=\\\"vm.thread.collapsed\\\"\\n             name=\\\"annotation\\\"\\n             ng-mouseenter=\\\"vm.annotationHovered = true\\\"\\n             ng-mouseleave=\\\"vm.annotationHovered = false\\\"\\n             ng-if=\\\"vm.thread.annotation\\\"\\n             ng-show=\\\"vm.thread.visible\\\"\\n             show-document-info=\\\"vm.showDocumentInfo\\\"\\n             on-reply-count-click=\\\"vm.toggleCollapsed()\\\"\\n             reply-count=\\\"vm.thread.replyCount\\\">\\n    </annotation>\\n\\n    <div ng-if=\\\"!vm.thread.annotation\\\" class=\\\"thread-deleted\\\">\\n      <p><em>Message not available.</em></p>\\n    </div>\\n\\n    <div ng-if=\\\"vm.hiddenCount() > 0\\\">\\n      <a class=\\\"small\\\"\\n         href=\\\"\\\"\\n         ng-click=\\\"vm.showThreadAndReplies()\\\"\\n         ng-pluralize\\n         count=\\\"vm.hiddenCount()\\\"\\n         when=\\\"{'0': '',\\n               one: 'View one more in conversation',\\n               other: 'View {} more in conversation'}\\\"\\n         ></a>\\n    </div>\\n\\n    <!-- Replies -->\\n    <ul ng-show=\\\"!vm.thread.collapsed\\\">\\n      <li ng-repeat=\\\"child in vm.thread.children track by child.id\\\"\\n          ng-show=\\\"vm.shouldShowReply(child)\\\">\\n        <annotation-thread\\n          show-document-info=\\\"false\\\"\\n          thread=\\\"child\\\"\\n          on-change-collapsed=\\\"vm.onChangeCollapsed({id:id, collapsed:collapsed})\\\"\\n          on-force-visible=\\\"vm.onForceVisible({thread:thread})\\\">\\n        </annotation-thread>\\n      </li>\\n    </ul>\\n  </div>\\n</div>\\n\";\n",
    "module.exports = \"<thread-list\\n  on-change-collapsed=\\\"vm.setCollapsed(id, collapsed)\\\"\\n  on-force-visible=\\\"vm.forceVisible(thread)\\\"\\n  show-document-info=\\\"true\\\"\\n  thread=\\\"vm.rootThread\\\">\\n</thread-list>\\n\";\n",
    "module.exports = \"<header class=\\\"annotation-header\\\" ng-if=\\\"!vm.user()\\\">\\n  <strong>You must be logged in to create annotations.</strong>\\n</header>\\n\\n<div ng-keydown=\\\"vm.onKeydown($event)\\\" ng-if=\\\"vm.user()\\\">\\n\\n  <annotation-header annotation=\\\"vm.annotation\\\"\\n                     is-editing=\\\"vm.editing()\\\"\\n                     is-highlight=\\\"vm.isHighlight()\\\"\\n                     is-private=\\\"vm.state().isPrivate\\\"\\n                     on-reply-count-click=\\\"vm.onReplyCountClick()\\\"\\n                     reply-count=\\\"vm.replyCount\\\"\\n                     show-document-info=\\\"vm.showDocumentInfo\\\">\\n  </annotation-header>\\n\\n  <!-- Excerpts -->\\n  <section class=\\\"annotation-quote-list\\\"\\n    ng-class=\\\"{'is-orphan' : vm.isOrphan()}\\\"\\n    ng-if=\\\"vm.quote()\\\">\\n    <excerpt collapsed-height=\\\"80\\\"\\n      inline-controls=\\\"true\\\"\\n      overflow-hysteresis=\\\"40\\\"\\n      content-data=\\\"selector.exact\\\">\\n     <!--  <blockquote class=\\\"markdown-body annotation-quote\\\" -->\\n      <blockquote class=\\\"markdown-body\\\"\\n        h-branding=\\\"selectionFontFamily\\\"\\n        ng-if=\\\"!vm.isScreenshot() || (vm.isScreenshot() && vm.extractTextInsideScreenshot)\\\"\\n        ng-bind-html=\\\"vm.quote()\\\"></blockquote>\\n      <blockquote class=\\\"markdown-body\\\"\\n        h-branding=\\\"selectionFontFamily\\\"\\n        ng-if=\\\"vm.isScreenshot() && !vm.extractTextInsideScreenshot\\\"\\n        ng-bind-html=\\\"vm.quoteWithoutText()\\\"></blockquote>\\n     <!--  <blockquote \\n        ng-bind-html=\\\"vm.quoteAsHtml()\\\"></blockquote> -->\\n    </excerpt>\\n  </section>\\n\\n  <!-- / Excerpts -->\\n\\n  <!-- Body -->\\n  <section name=\\\"text\\\" class=\\\"annotation-body\\\">\\n    <excerpt enabled=\\\"!vm.editing()\\\"\\n      inline-controls=\\\"false\\\"\\n      on-collapsible-changed=\\\"vm.setBodyCollapsible(collapsible)\\\"\\n      collapse=\\\"vm.collapseBody\\\"\\n      collapsed-height=\\\"400\\\"\\n      overflow-hysteresis=\\\"40\\\"\\n      content-data=\\\"vm.state().text\\\">\\n      <markdown text=\\\"vm.state().text\\\"\\n                custom-text-class=\\\"{'annotation-body is-hidden':vm.isHiddenByModerator(),\\n                                    'has-content':vm.hasContent()}\\\"\\n                on-edit-text=\\\"vm.setText(text)\\\"\\n                read-only=\\\"!vm.editing() || vm.editingTags\\\">\\n      </markdown>\\n    </excerpt>\\n  </section>\\n  <!-- / Body -->\\n\\n  <!-- Tags -->\\n  <div class=\\\"annotation-body form-field\\\" ng-if=\\\" !vm.isReply() && (vm.editing() || vm.editingTags)\\\">\\n    <tag-editor tags=\\\"vm.state().tags\\\"\\n                on-edit-tags=\\\"vm.setTags(tags)\\\"></tag-editor>\\n  </div>\\n\\n  <div class=\\\"annotation-body u-layout-row tags tags-read-only\\\"\\n       ng-if=\\\"vm.canShowTags()\\\">\\n    <ul class=\\\"tag-list\\\">\\n      <li class=\\\"tag-item\\\" ng-repeat=\\\"tag in vm.state().tags\\\">\\n        <!-- <a ng-href=\\\"{{vm.tagSearchURL(tag)}}\\\" target=\\\"_blank\\\"> -->\\n        <a>\\n         <span>{{tag.TagName}}</span>\\n         <span ng-if=\\\"tag.Value\\\">:{{tag.Value}}</span>\\n        </a>\\n      </li>\\n    </ul>\\n    <div class=\\\"u-stretch\\\"></div>\\n    <a class=\\\"annotation-link u-strong\\\" ng-show=\\\"vm.canCollapseBody\\\"\\n      ng-click=\\\"vm.toggleCollapseBody($event)\\\"\\n      ng-title=\\\"vm.collapseBody ? 'Show the full annotation text' : 'Show the first few lines only'\\\"\\n      ng-bind=\\\"vm.collapseBody ? 'More' : 'Less'\\\"\\n      h-branding=\\\"accentColor\\\"></a>\\n  </div>\\n  <!-- / Tags -->\\n\\n  <footer class=\\\"annotation-footer\\\">\\n    <div class=\\\"annotation-form-actions\\\" ng-if=\\\"vm.editing() || vm.editingTags\\\">\\n      <publish-annotation-btn\\n        class=\\\"publish-annotation-btn\\\"\\n        group=\\\"vm.group()\\\"\\n        can-post=\\\"vm.hasContent()\\\"\\n        is-shared=\\\"vm.isShared()\\\"\\n        is-screenshot=\\\"vm.isScreenshot()\\\"\\n        is-new=\\\"vm.isNew()\\\"\\n        extract-text-inside-screenshot = \\\"vm.extractTextInsideScreenshot\\\"\\n        on-cancel=\\\"vm.revert()\\\"\\n        on-save=\\\"vm.save()\\\"\\n        on-save-without-comment=\\\"vm.saveWithoutComment()\\\"\\n        on-set-privacy=\\\"vm.setPrivacy(level)\\\"></publish-annotation-btn>\\n    </div>\\n\\n    <!-- <div class=\\\"annotation-section annotation-license\\\"\\n         ng-show=\\\"vm.shouldShowLicense()\\\">\\n      <a class=\\\"annotation-license__link\\\" href=\\\"http://creativecommons.org/publicdomain/zero/1.0/\\\"\\n        title=\\\"View more information about the Creative Commons Public Domain dedication\\\"\\n        target=\\\"_blank\\\">\\n        <i class=\\\"h-icon-cc-logo\\\"></i><i class=\\\"h-icon-cc-zero\\\"></i>\\n        Annotations can be freely reused by anyone for any purpose.\\n      </a>\\n    </div> -->\\n\\n    <div class=\\\"annotation-replies\\\" ng-if=\\\"!vm.isReply() && vm.replyCount > 0\\\">\\n      <a href=\\\"\\\"\\n        ng-click=\\\"vm.onReplyCountClick()\\\">\\n        <span class=\\\"annotation-replies__link\\\">{{ vm.isCollapsed ? 'Show replies' : 'Hide replies' }}</span>\\n        <span class=\\\"annotation-replies__count\\\">({{ vm.replyCount }})</span>\\n      </a>\\n    </div>\\n\\n    <div class=\\\"annotation-actions\\\" ng-if=\\\"vm.isSaving\\\">\\n      Saving...\\n    </div>\\n\\n    <div class=\\\"annotation-actions\\\" ng-if=\\\" !vm.editing() && !vm.editingTags && vm.id()\\\">\\n      <div ng-show=\\\"vm.isSaving\\\">Saving...</div>\\n      <annotation-action-button\\n        icon=\\\"'h-icon-annotation-edit'\\\"\\n        is-disabled=\\\"vm.isDeleted()\\\"\\n        label=\\\"'Edit'\\\"\\n        ng-show=\\\"vm.authorize('update') && !vm.isSaving\\\"\\n        on-click=\\\"vm.edit()\\\"\\n      ></annotation-action-button>\\n      \\n       <annotation-action-button\\n        icon=\\\"'h-icon-price-tag'\\\"\\n        is-disabled=\\\"vm.isDeleted()\\\"\\n        label=\\\"'Tag'\\\"\\n        ng-show=\\\" !vm.isReply() && vm.authorize('read') && !vm.isSaving\\\"\\n        on-click=\\\"vm.edittags()\\\"\\n      ></annotation-action-button>\\n      \\n      <annotation-action-button\\n        icon=\\\"'h-icon-annotation-delete'\\\"\\n        is-disabled=\\\"vm.isDeleted()\\\"\\n        label=\\\"'Delete'\\\"\\n        ng-show=\\\"vm.authorize('delete') || vm.isResourceOwner()\\\"\\n        on-click=\\\"vm.delete()\\\"\\n      ></annotation-action-button>\\n      <annotation-action-button\\n        icon=\\\"'h-icon-annotation-reply'\\\"\\n        is-disabled=\\\"vm.isDeleted()\\\"\\n        label=\\\"'Reply'\\\"\\n        ng-if=\\\"!vm.isReply() && vm.canReply()\\\"\\n        on-click=\\\"vm.reply()\\\"\\n      ></annotation-action-button>\\n      <span class=\\\"annotation-share-dialog-wrapper\\\" ng-if=\\\"vm.incontextLink()\\\">\\n        <annotation-action-button\\n         icon=\\\"'h-icon-annotation-share'\\\"\\n         is-disabled=\\\"vm.isDeleted()\\\"\\n         ng-if=\\\"vm.canReply()\\\"\\n         label=\\\"'Share'\\\"\\n         on-click=\\\"vm.getIncontextLink()\\\"\\n        ></annotation-action-button>\\n        <annotation-share-dialog\\n          show-ext-share=\\\"vm.isSharable()\\\"\\n          group=\\\"vm.group()\\\"\\n          uri=\\\"vm.url\\\"\\n          ng-show=\\\"vm.canShare()\\\"\\n          is-private=\\\"vm.state().isPrivate\\\"\\n          is-open=\\\"vm.showShareDialog\\\"\\n          on-close=\\\"vm.showShareDialog = false\\\">\\n        </annotation-share-dialog>\\n      </span>\\n     <!--  <span ng-if=\\\"vm.canFlag()\\\">\\n        <annotation-action-button\\n         icon=\\\"'h-icon-annotation-flag'\\\"\\n         is-disabled=\\\"vm.isDeleted()\\\"\\n         label=\\\"'Report this annotation to the moderators'\\\"\\n         ng-if=\\\"!vm.isFlagged()\\\"\\n         on-click=\\\"vm.flag()\\\"\\n        ></annotation-action-button>\\n        <annotation-action-button\\n         icon=\\\"'h-icon-annotation-flag annotation--flagged'\\\"\\n         is-disabled=\\\"vm.isDeleted()\\\"\\n         label=\\\"'Annotation has been reported to the moderators'\\\"\\n         ng-if=\\\"vm.isFlagged()\\\"\\n        ></annotation-action-button>\\n      </span> -->\\n    </div>\\n  </footer>\\n</div>\\n\";\n",
    "module.exports = \"\\r\\n<div class=\\\"sheet ClipTools\\\" ng-if=\\\"vm.auth.status !== 'logged-in'\\\">\\r\\n \\t<strong>You must be logged in to view/create Web Clip.</strong>\\r\\n</div>\\r\\n<div class=\\\"sheet ClipTools\\\" ng-show=\\\"vm.auth.status === 'logged-in'\\\">\\r\\n\\t<section class=\\\"titleSection\\\" ng-show=\\\"!vm.isSavedClip() || vm.editClip\\\">\\r\\n\\t\\t<span class=\\\"btn btn-plain\\\" ng-show=\\\"vm.isSavedClip()\\\" style=\\\"position: absolute;right: 1em;top: 1em;width: 30px;height: 30px;line-height: 30px;\\\">\\r\\n\\t\\t\\t<i class=\\\"h-icon-close \\\" role=\\\"button\\\" title=\\\"Close\\\" ng-click=\\\"vm.close()\\\"></i>\\r\\n\\t\\t</span>\\r\\n\\t\\t<div>\\r\\n\\t\\t\\t<input type=\\\"text\\\" class=\\\"TitleField\\\" \\r\\n\\t\\t\\t       placeholder=\\\"Untitled clip\\\" \\r\\n\\t\\t\\t       data-ng-model=\\\"vm.clipname\\\" \\r\\n\\t\\t\\t       style=\\\"width: calc(100% - 40px);height: 30px;padding: 0px 8px;\\\">\\r\\n\\t\\t</div>\\r\\n\\t\\t<div>\\r\\n\\t\\t\\t<div>\\r\\n\\t\\t\\t    <rzslider data-rz-slider-model=\\\"vm.slider.value\\\"\\r\\n\\t\\t\\t    \\t\\t  data-rz-slider-options=\\\"vm.slider.options\\\">\\r\\n\\t\\t\\t    </rzslider>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t<button type=\\\"button\\\" data-ng-click=\\\"vm.saveClip()\\\" class=\\\"btn btn-plain\\\">Save clip</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t\\r\\n\\t</section>\\r\\n\\t<section ng-show=\\\"vm.isSavedClip() && !vm.editClip\\\" class=\\\"groupinfo\\\">\\r\\n\\t   <div>\\r\\n\\t   \\t  <div>{{vm.webClip.name}}</div>\\r\\n\\t   \\t  <div data-ng-attr-title=\\\"Owner\\\">{{vm.webClip.createdBy}}</div>\\r\\n\\t   \\t  <div data-ng-attr-title=\\\"Published Date\\\">{{vm.webClip.createdDate | date:'medium'}}</div>\\r\\n\\t   </div>\\r\\n\\t   <div style=\\\"height: 30px;line-height: 30px;\\\">\\r\\n\\t   \\t\\t<a class=\\\"btn btn-plain\\\" ng-href=\\\"{{vm.webClip.clipUrl}}\\\" target=\\\"_blank\\\">\\r\\n\\t   \\t\\t\\tView in Numici\\r\\n\\t   \\t\\t</a>\\r\\n\\t   \\t\\t\\r\\n\\t   \\t\\t<span class=\\\"btn btn-plain\\\" ng-click=\\\"vm.retakeClip()\\\">\\r\\n\\t   \\t\\t\\tRetake Clip\\r\\n\\t   \\t\\t</span>\\r\\n\\t   \\t\\t\\r\\n\\t   </div>\\r\\n\\t</section>\\r\\n</div>\";\n",
    "module.exports = \"<!DOCTYPE html>\\r\\n<html>\\r\\n<head>\\r\\n<meta charset=\\\"UTF-8\\\">\\r\\n<base href=\\\"/\\\">\\r\\n\\r\\n<style type=\\\"text/css\\\">\\r\\n/* This Source Code Form is subject to the terms of the Mozilla Public\\r\\n\\t\\t * License, v. 2.0. If a copy of the MPL was not distributed with this file,\\r\\n\\t\\t * You can obtain one at http://mozilla.org/MPL/2.0/. */\\r\\n\\r\\n/* Avoid adding ID selector rules in this style sheet, since they could\\r\\n\\t\\t * inadvertently match elements in the article content. */\\r\\nbody {\\r\\n\\tpadding: 64px 51px;\\r\\n}\\r\\n\\r\\nbody.loaded {\\r\\n\\ttransition: color 0.4s, background-color 0.4s;\\r\\n}\\r\\n\\r\\nbody.light {\\r\\n\\tcolor: #333333;\\r\\n\\tbackground-color: #ffffff;\\r\\n}\\r\\n\\r\\nbody.dark {\\r\\n\\tcolor: #eeeeee;\\r\\n\\tbackground-color: #333333;\\r\\n}\\r\\n\\r\\nbody.dark *::-moz-selection {\\r\\n\\tbackground-color: #FFFFFF;\\r\\n\\tcolor: #0095DD;\\r\\n}\\r\\n\\r\\nbody.dark a::-moz-selection {\\r\\n\\tcolor: #DD4800;\\r\\n}\\r\\n\\r\\nbody.sepia {\\r\\n\\tcolor: #5b4636;\\r\\n\\tbackground-color: #f4ecd8;\\r\\n}\\r\\n\\r\\nbody.sans-serif, body.sans-serif .remove-button {\\r\\n\\tfont-family: Helvetica, Arial, sans-serif;\\r\\n}\\r\\n\\r\\nbody.serif, body.serif .remove-button {\\r\\n\\tfont-family: Georgia, \\\"Times New Roman\\\", serif;\\r\\n}\\r\\n\\r\\n.container {\\r\\n\\tmax-width: 30em;\\r\\n\\tmargin: 0 auto;\\r\\n}\\r\\n\\r\\n.container.font-size1 {\\r\\n\\tfont-size: 12px;\\r\\n}\\r\\n\\r\\n.container.font-size2 {\\r\\n\\tfont-size: 14px;\\r\\n}\\r\\n\\r\\n.container.font-size3 {\\r\\n\\tfont-size: 16px;\\r\\n}\\r\\n\\r\\n.container.font-size4 {\\r\\n\\tfont-size: 18px;\\r\\n}\\r\\n\\r\\n.container.font-size5 {\\r\\n\\tfont-size: 20px;\\r\\n}\\r\\n\\r\\n.container.font-size6 {\\r\\n\\tfont-size: 22px;\\r\\n}\\r\\n\\r\\n.container.font-size7 {\\r\\n\\tfont-size: 24px;\\r\\n}\\r\\n\\r\\n.container.font-size8 {\\r\\n\\tfont-size: 26px;\\r\\n}\\r\\n\\r\\n.container.font-size9 {\\r\\n\\tfont-size: 28px;\\r\\n}\\r\\n\\r\\n.container.content-width1 {\\r\\n\\tmax-width: 20em;\\r\\n}\\r\\n\\r\\n.container.content-width2 {\\r\\n\\tmax-width: 25em;\\r\\n}\\r\\n\\r\\n.container.content-width3 {\\r\\n\\tmax-width: 30em;\\r\\n}\\r\\n\\r\\n.container.content-width4 {\\r\\n\\tmax-width: 35em;\\r\\n}\\r\\n\\r\\n.container.content-width5 {\\r\\n\\tmax-width: 40em;\\r\\n}\\r\\n\\r\\n.container.content-width6 {\\r\\n\\tmax-width: 45em;\\r\\n}\\r\\n\\r\\n.container.content-width7 {\\r\\n\\tmax-width: 50em;\\r\\n}\\r\\n\\r\\n.container.content-width8 {\\r\\n\\tmax-width: 55em;\\r\\n}\\r\\n\\r\\n.container.content-width9 {\\r\\n\\tmax-width: 60em;\\r\\n}\\r\\n\\r\\n/* Override some controls and content styles based on color scheme */\\r\\nbody.light>.container>.header>.domain {\\r\\n\\tborder-bottom-color: #333333 !important;\\r\\n}\\r\\n\\r\\nbody.sepia>.container>.header>.domain {\\r\\n\\tborder-bottom-color: #5b4636 !important;\\r\\n}\\r\\n\\r\\nbody.dark>.container>.header>.domain {\\r\\n\\tborder-bottom-color: #eeeeee !important;\\r\\n}\\r\\n\\r\\nbody.sepia>.container>.footer {\\r\\n\\tbackground-color: #dedad4 !important;\\r\\n}\\r\\n\\r\\nbody.light blockquote {\\r\\n\\tborder-inline-start: 2px solid #333333 !important;\\r\\n}\\r\\n\\r\\nbody.sepia blockquote {\\r\\n\\tborder-inline-start: 2px solid #5b4636 !important;\\r\\n}\\r\\n\\r\\nbody.dark blockquote {\\r\\n\\tborder-inline-start: 2px solid #eeeeee !important;\\r\\n}\\r\\n\\r\\n/* Add toolbar transition base on loaded class  */\\r\\nbody.loaded .toolbar {\\r\\n\\ttransition: transform 0.3s ease-out;\\r\\n}\\r\\n\\r\\nbody:not (.loaded ) .toolbar:-moz-locale-dir(ltr) {\\r\\n\\ttransform: translateX(-100%);\\r\\n}\\r\\n\\r\\nbody:not (.loaded ) .toolbar:-moz-locale-dir(rtl) {\\r\\n\\ttransform: translateX(100%);\\r\\n}\\r\\n\\r\\n.light-button {\\r\\n\\tcolor: #333333;\\r\\n\\tbackground-color: #ffffff;\\r\\n}\\r\\n\\r\\n.dark-button {\\r\\n\\tcolor: #eeeeee;\\r\\n\\tbackground-color: #333333;\\r\\n}\\r\\n\\r\\n.sepia-button {\\r\\n\\tcolor: #5b4636;\\r\\n\\tbackground-color: #f4ecd8;\\r\\n}\\r\\n\\r\\n.sans-serif-button {\\r\\n\\tfont-family: Helvetica, Arial, sans-serif;\\r\\n}\\r\\n\\r\\n.serif-button {\\r\\n\\tfont-family: Georgia, \\\"Times New Roman\\\", serif;\\r\\n}\\r\\n\\r\\n/* Loading/error message */\\r\\n.reader-message {\\r\\n\\tmargin-top: 40px;\\r\\n\\tdisplay: none;\\r\\n\\ttext-align: center;\\r\\n\\twidth: 100%;\\r\\n\\tfont-size: 0.9em;\\r\\n}\\r\\n\\r\\n/* Header */\\r\\n.header {\\r\\n\\ttext-align: start;\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.domain {\\r\\n\\tfont-size: 0.9em;\\r\\n\\tline-height: 1.48em;\\r\\n\\tpadding-bottom: 4px;\\r\\n\\tfont-family: Helvetica, Arial, sans-serif;\\r\\n\\ttext-decoration: none;\\r\\n\\tborder-bottom: 1px solid;\\r\\n\\tcolor: #0095dd;\\r\\n}\\r\\n\\r\\n.header>h1 {\\r\\n\\tfont-size: 1.6em;\\r\\n\\tline-height: 1.25em;\\r\\n\\twidth: 100%;\\r\\n\\tmargin: 30px 0;\\r\\n\\tpadding: 0;\\r\\n}\\r\\n\\r\\n.header>.credits {\\r\\n\\tfont-size: 0.9em;\\r\\n\\tline-height: 1.48em;\\r\\n\\tmargin: 0 0 10px 0;\\r\\n\\tpadding: 0;\\r\\n\\tfont-style: italic;\\r\\n}\\r\\n\\r\\n.header>.meta-data {\\r\\n\\tfont-size: 0.65em;\\r\\n\\tmargin: 0 0 15px 0;\\r\\n}\\r\\n\\r\\n/*======= Controls toolbar =======*/\\r\\n.toolbar {\\r\\n\\tfont-family: Helvetica, Arial, sans-serif;\\r\\n\\tposition: fixed;\\r\\n\\theight: 100%;\\r\\n\\ttop: 0;\\r\\n\\tleft: 0;\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 0;\\r\\n\\tlist-style: none;\\r\\n\\tbackground-color: #fbfbfb;\\r\\n\\t-moz-user-select: none;\\r\\n\\tborder-right: 1px solid #b5b5b5;\\r\\n\\tz-index: 1;\\r\\n}\\r\\n\\r\\n.button {\\r\\n\\tdisplay: block;\\r\\n\\tbackground-size: 24px 24px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tcolor: #333;\\r\\n\\tbackground-color: #fbfbfb;\\r\\n\\theight: 40px;\\r\\n\\tpadding: 0;\\r\\n}\\r\\n\\r\\n.toolbar .button {\\r\\n\\twidth: 40px;\\r\\n\\tbackground-position: center;\\r\\n\\tmargin-right: -1px;\\r\\n\\tborder-top: 0;\\r\\n\\tborder-left: 0;\\r\\n\\tborder-right: 1px solid #b5b5b5;\\r\\n\\tborder-bottom: 1px solid #c1c1c1;\\r\\n}\\r\\n\\r\\n.button[hidden] {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.dropdown {\\r\\n\\ttext-align: center;\\r\\n\\tlist-style: none;\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 0;\\r\\n}\\r\\n\\r\\n.dropdown li {\\r\\n\\tmargin: 0;\\r\\n\\tpadding: 0;\\r\\n}\\r\\n\\r\\n/*======= Popup =======*/\\r\\n.dropdown-popup {\\r\\n\\tmin-width: 300px;\\r\\n\\ttext-align: start;\\r\\n\\tposition: absolute;\\r\\n\\tleft: 48px; /* offset to account for toolbar width */\\r\\n\\tz-index: 1000;\\r\\n\\tbackground-color: #fbfbfb;\\r\\n\\tvisibility: hidden;\\r\\n\\tborder-radius: 4px;\\r\\n\\tborder: 1px solid #b5b5b5;\\r\\n\\tborder-bottom-width: 0;\\r\\n\\tbox-shadow: 0 1px 3px #c1c1c1;\\r\\n}\\r\\n\\r\\n.keep-open .dropdown-popup {\\r\\n\\tz-index: initial;\\r\\n}\\r\\n\\r\\n.dropdown-popup>hr {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.open>.dropdown-popup {\\r\\n\\tvisibility: visible;\\r\\n}\\r\\n\\r\\n.dropdown-arrow {\\r\\n\\tposition: absolute;\\r\\n\\ttop: 30px; /* offset arrow from top of popup */\\r\\n\\tleft: -16px;\\r\\n\\twidth: 16px;\\r\\n\\theight: 24px;\\r\\n\\tbackground-image:\\r\\n\\t\\turl(\\\"chrome://global/skin/reader/RM-Type-Controls-Arrow.svg\\\");\\r\\n\\tdisplay: block;\\r\\n}\\r\\n\\r\\n/*======= Font style popup =======*/\\r\\n.font-type-buttons, .font-size-buttons, .color-scheme-buttons,\\r\\n\\t.content-width-buttons, .line-height-buttons {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: row;\\r\\n}\\r\\n\\r\\n.font-type-buttons>button:first-child {\\r\\n\\tborder-top-left-radius: 3px;\\r\\n}\\r\\n\\r\\n.font-type-buttons>button:last-child {\\r\\n\\tborder-top-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.color-scheme-buttons>button:first-child {\\r\\n\\tborder-bottom-left-radius: 3px;\\r\\n}\\r\\n\\r\\n.color-scheme-buttons>button:last-child {\\r\\n\\tborder-bottom-right-radius: 3px;\\r\\n}\\r\\n\\r\\n.font-type-buttons>button, .font-size-buttons>button,\\r\\n\\t.color-scheme-buttons>button, .content-width-buttons>button,\\r\\n\\t.line-height-buttons>button {\\r\\n\\ttext-align: center;\\r\\n\\tborder: 0;\\r\\n}\\r\\n\\r\\n.font-type-buttons>button, .font-size-buttons>button,\\r\\n\\t.content-width-buttons>button, .line-height-buttons>button {\\r\\n\\twidth: 50%;\\r\\n\\tbackground-color: transparent;\\r\\n\\tborder-left: 1px solid #B5B5B5;\\r\\n\\tborder-bottom: 1px solid #B5B5B5;\\r\\n}\\r\\n\\r\\n.color-scheme-buttons>button {\\r\\n\\twidth: 33.33%;\\r\\n\\tfont-size: 14px;\\r\\n}\\r\\n\\r\\n.color-scheme-buttons>.dark-button {\\r\\n\\tmargin-top: -1px;\\r\\n\\theight: 61px;\\r\\n}\\r\\n\\r\\n.font-type-buttons>button:first-child, .font-size-buttons>button:first-child,\\r\\n\\t.content-width-buttons>button:first-child, .line-height-buttons>button:first-child\\r\\n\\t{\\r\\n\\tborder-left: 0;\\r\\n}\\r\\n\\r\\n.font-type-buttons>button {\\r\\n\\tdisplay: inline-block;\\r\\n\\tfont-size: 62px;\\r\\n\\theight: 100px;\\r\\n}\\r\\n\\r\\n.font-size-buttons>button, .color-scheme-buttons>button,\\r\\n\\t.content-width-buttons>button, .line-height-buttons>button {\\r\\n\\theight: 60px;\\r\\n}\\r\\n\\r\\n.font-type-buttons>button:active:hover, .font-type-buttons>button.selected,\\r\\n\\t.color-scheme-buttons>button:active:hover, .color-scheme-buttons>button.selected\\r\\n\\t{\\r\\n\\tbox-shadow: inset 0 -3px 0 0 #fc6420;\\r\\n}\\r\\n\\r\\n.font-type-buttons>button:active:hover, .font-type-buttons>button.selected\\r\\n\\t{\\r\\n\\tborder-bottom: 1px solid #FC6420;\\r\\n}\\r\\n\\r\\n/* Make the serif button content the same size as the sans-serif button content. */\\r\\n.font-type-buttons>button>.description {\\r\\n\\tcolor: #666;\\r\\n\\tfont-size: 12px;\\r\\n\\tmargin-top: -5px;\\r\\n}\\r\\n\\r\\n/* Font sizes are different per-platform, so we need custom CSS to line them up. */\\r\\n.font-type-buttons>.sans-serif-button>.name {\\r\\n\\tmargin-top: 2px;\\r\\n}\\r\\n\\r\\n.font-type-buttons>.sans-serif-button>.description {\\r\\n\\tmargin-top: -4px;\\r\\n}\\r\\n\\r\\n.font-type-buttons>.serif-button>.name {\\r\\n\\tfont-size: 63px;\\r\\n}\\r\\n\\r\\n.button:hover, .font-size-buttons>button:hover, .font-type-buttons>button:hover,\\r\\n\\t.content-width-buttons>button:hover, .line-height-buttons>button:hover\\r\\n\\t{\\r\\n\\tbackground-color: #ebebeb;\\r\\n}\\r\\n\\r\\n.dropdown.open, .button:active, .font-size-buttons>button:active,\\r\\n\\t.font-size-buttons>button.selected, .content-width-buttons>button:active,\\r\\n\\t.content-width-buttons>button.selected, .line-height-buttons>button:active,\\r\\n\\t.line-height-buttons>button.selected {\\r\\n\\tbackground-color: #dadada;\\r\\n}\\r\\n\\r\\n/* Only used on Android */\\r\\n.font-size-sample {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.minus-button, .plus-button, .content-width-minus-button,\\r\\n\\t.content-width-plus-button, .line-height-minus-button,\\r\\n\\t.line-height-plus-button {\\r\\n\\tbackground-color: transparent;\\r\\n\\tborder: 0;\\r\\n\\tbackground-size: 18px 18px;\\r\\n\\tbackground-repeat: no-repeat;\\r\\n\\tbackground-position: center;\\r\\n}\\r\\n\\r\\n/*======= Toolbar icons =======*/\\r\\n.close-button {\\r\\n\\tbackground-image: url(\\\"chrome://global/skin/reader/RM-Close-24x24.svg\\\");\\r\\n\\t-moz-context-properties: fill;\\r\\n\\tfill: #808080;\\r\\n\\theight: 68px;\\r\\n\\tbackground-position: center 8px;\\r\\n}\\r\\n\\r\\n.close-button:hover {\\r\\n\\tfill: #fff;\\r\\n\\tbackground-color: #d94141;\\r\\n\\tborder-bottom: 1px solid #d94141;\\r\\n\\tborder-right: 1px solid #d94141;\\r\\n}\\r\\n\\r\\n.close-button:hover:active {\\r\\n\\tbackground-color: #AE2325;\\r\\n\\tborder-bottom: 1px solid #AE2325;\\r\\n\\tborder-right: 1px solid #AE2325;\\r\\n}\\r\\n\\r\\n.style-button {\\r\\n\\tbackground-image:\\r\\n\\t\\turl(\\\"chrome://global/skin/reader/RM-Type-Controls-24x24.svg\\\");\\r\\n}\\r\\n\\r\\n.minus-button {\\r\\n\\tbackground-image: url(\\\"chrome://global/skin/reader/RM-Minus-24x24.svg\\\");\\r\\n}\\r\\n\\r\\n.plus-button {\\r\\n\\tbackground-image: url(\\\"chrome://global/skin/reader/RM-Plus-24x24.svg\\\");\\r\\n}\\r\\n\\r\\n.content-width-minus-button {\\r\\n\\tbackground-size: 42px 16px;\\r\\n\\tbackground-image:\\r\\n\\t\\turl(\\\"chrome://global/skin/reader/RM-Content-Width-Minus-42x16.svg\\\");\\r\\n}\\r\\n\\r\\n.content-width-plus-button {\\r\\n\\tbackground-size: 44px 16px;\\r\\n\\tbackground-image:\\r\\n\\t\\turl(\\\"chrome://global/skin/reader/RM-Content-Width-Plus-44x16.svg\\\");\\r\\n}\\r\\n\\r\\n.line-height-minus-button {\\r\\n\\tbackground-size: 34px 14px;\\r\\n\\tbackground-image:\\r\\n\\t\\turl(\\\"chrome://global/skin/reader/RM-Line-Height-Minus-38x14.svg\\\");\\r\\n}\\r\\n\\r\\n.line-height-plus-button {\\r\\n\\tbackground-size: 34px 24px;\\r\\n\\tbackground-image:\\r\\n\\t\\turl(\\\"chrome://global/skin/reader/RM-Line-Height-Plus-38x24.svg\\\");\\r\\n}\\r\\n\\r\\n@media print {\\r\\n\\t.toolbar {\\r\\n\\t\\tdisplay: none !important;\\r\\n\\t}\\r\\n}\\r\\n\\r\\n/*======= Article content =======*/\\r\\n\\r\\n/* Note that any class names from the original article that we want to match on\\r\\n\\t\\t * must be added to CLASSES_TO_PRESERVE in ReaderMode.jsm, so that\\r\\n\\t\\t * Readability.js doesn't strip them out */\\r\\n.moz-reader-content {\\r\\n\\tdisplay: none;\\r\\n\\tfont-size: 1em;\\r\\n\\tline-height: 1.6em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height1 {\\r\\n\\tline-height: 1em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height2 {\\r\\n\\tline-height: 1.2em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height3 {\\r\\n\\tline-height: 1.4em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height4 {\\r\\n\\tline-height: 1.6em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height5 {\\r\\n\\tline-height: 1.8em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height6 {\\r\\n\\tline-height: 2.0em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height7 {\\r\\n\\tline-height: 2.2em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height8 {\\r\\n\\tline-height: 2.4em;\\r\\n}\\r\\n\\r\\n.moz-reader-content.line-height9 {\\r\\n\\tline-height: 2.6em;\\r\\n}\\r\\n\\r\\n@media print {\\r\\n\\t.moz-reader-content p, .moz-reader-content code, .moz-reader-content pre,\\r\\n\\t\\t.moz-reader-content blockquote, .moz-reader-content ul,\\r\\n\\t\\t.moz-reader-content ol, .moz-reader-content li, .moz-reader-content figure,\\r\\n\\t\\t.moz-reader-content .wp-caption {\\r\\n\\t\\tmargin: 0 0 10px 0 !important;\\r\\n\\t\\tpadding: 0 !important;\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.moz-reader-content h1, .moz-reader-content h2, .moz-reader-content h3 {\\r\\n\\tfont-weight: bold;\\r\\n}\\r\\n\\r\\n.moz-reader-content h1 {\\r\\n\\tfont-size: 1.6em;\\r\\n\\tline-height: 1.25em;\\r\\n}\\r\\n\\r\\n.moz-reader-content h2 {\\r\\n\\tfont-size: 1.2em;\\r\\n\\tline-height: 1.51em;\\r\\n}\\r\\n\\r\\n.moz-reader-content h3 {\\r\\n\\tfont-size: 1em;\\r\\n\\tline-height: 1.66em;\\r\\n}\\r\\n\\r\\n.moz-reader-content a:link {\\r\\n\\ttext-decoration: underline;\\r\\n\\tfont-weight: normal;\\r\\n}\\r\\n\\r\\n.moz-reader-content a:link, .moz-reader-content a:link:hover,\\r\\n\\t.moz-reader-content a:link:active {\\r\\n\\tcolor: #0095dd;\\r\\n}\\r\\n\\r\\n.moz-reader-content a:visited {\\r\\n\\tcolor: #c2e;\\r\\n}\\r\\n\\r\\n.moz-reader-content * {\\r\\n\\tmax-width: 100%;\\r\\n\\theight: auto;\\r\\n}\\r\\n\\r\\n.moz-reader-content p, .moz-reader-content p, .moz-reader-content code,\\r\\n\\t.moz-reader-content pre, .moz-reader-content blockquote,\\r\\n\\t.moz-reader-content ul, .moz-reader-content ol, .moz-reader-content li,\\r\\n\\t.moz-reader-content figure, .moz-reader-content .wp-caption {\\r\\n\\tmargin: -10px -10px 20px -10px;\\r\\n\\tpadding: 10px;\\r\\n\\tborder-radius: 5px;\\r\\n}\\r\\n\\r\\n.moz-reader-content li {\\r\\n\\tmargin-bottom: 0;\\r\\n}\\r\\n\\r\\n.moz-reader-content li>ul, .moz-reader-content li>ol {\\r\\n\\tmargin-bottom: -10px;\\r\\n}\\r\\n\\r\\n.moz-reader-content p>img:only-child, .moz-reader-content p>a:only-child>img:only-child,\\r\\n\\t.moz-reader-content .wp-caption img, .moz-reader-content figure img {\\r\\n\\tdisplay: block;\\r\\n}\\r\\n\\r\\n.moz-reader-content img[moz-reader-center] {\\r\\n\\tmargin-left: auto;\\r\\n\\tmargin-right: auto;\\r\\n}\\r\\n\\r\\n.moz-reader-content .caption, .moz-reader-content .wp-caption-text\\r\\n\\t\\t.moz-reader-content figcaption {\\r\\n\\tfont-size: 0.9em;\\r\\n\\tline-height: 1.48em;\\r\\n\\tfont-style: italic;\\r\\n}\\r\\n\\r\\n.moz-reader-content code, .moz-reader-content pre {\\r\\n\\twhite-space: pre-wrap;\\r\\n}\\r\\n\\r\\n.moz-reader-content blockquote {\\r\\n\\tpadding: 0;\\r\\n\\tpadding-inline-start: 16px;\\r\\n}\\r\\n\\r\\n.moz-reader-content ul, .moz-reader-content ol {\\r\\n\\tpadding: 0;\\r\\n}\\r\\n\\r\\n.moz-reader-content ul {\\r\\n\\tpadding-inline-start: 30px;\\r\\n\\tlist-style: disc;\\r\\n}\\r\\n\\r\\n.moz-reader-content ol {\\r\\n\\tpadding-inline-start: 30px;\\r\\n\\tlist-style: decimal;\\r\\n}\\r\\n\\r\\n/* Visually hide (but don't display: none) screen reader elements */\\r\\n.moz-reader-content .visually-hidden, .moz-reader-content .visuallyhidden,\\r\\n\\t.moz-reader-content .sr-only {\\r\\n\\tdisplay: inline-block;\\r\\n\\twidth: 1px;\\r\\n\\theight: 1px;\\r\\n\\tmargin: -1px;\\r\\n\\toverflow: hidden;\\r\\n\\tpadding: 0;\\r\\n\\tborder-width: 0;\\r\\n}\\r\\n\\r\\n/* Hide elements with common \\\"hidden\\\" class names */\\r\\n.moz-reader-content .hidden, .moz-reader-content .invisible {\\r\\n\\tdisplay: none;\\r\\n}\\r\\n\\r\\n.reader-show-element {\\r\\n\\tdisplay: initial;\\r\\n}\\r\\n</style>\\r\\n</head>\\r\\n<body class=\\\"light sans-serif\\\">\\r\\n\\t<div class=\\\"container font-size4 content-width3 clipper\\\"\\r\\n\\t\\tdata-href-blank>\\r\\n\\t\\t{{if isTitleRequired === \\\"true\\\"}}\\r\\n\\t\\t  <div class=\\\"header reader-header reader-show-element\\\">\\r\\n\\t\\t\\t<h1 class=\\\"reader-title\\\">{{:title}}</h1>\\r\\n\\t\\t\\t<div class=\\\"credits reader-credits\\\">{{:byline}}</div>\\r\\n\\t\\t\\t<hr>\\r\\n\\t\\t  </div>\\r\\n\\t\\t{{/if}}\\r\\n\\t\\t<div class=\\\"content\\\">\\r\\n\\t\\t\\t<div class=\\\"moz-reader-content line-height4 reader-show-element\\\">{{:content}}</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</body>\\r\\n</html>\\r\\n\";\n",
    "module.exports = \"<form>\\r\\n\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<h4 class=\\\"modal-title\\\">Confirm Action on Annotations</h4>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-body\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\" style=\\\"margin-bottom: 10px;\\\">\\r\\n\\t\\t\\t\\t<span>What would you like to do with annotations present in\\r\\n\\t\\t\\t\\t\\tthe document?</span>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12 col-sm-1\\\"></div>\\r\\n\\t\\t\\t<div class=\\\"col-xs-12 col-sm-11\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"pretty p-default p-thick\\\" style=\\\"margin-bottom: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t<input type=\\\"radio\\\" name=\\\"actionOnAnnotations\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"moveWithAnnotations.option\\\" value=\\\"delete\\\">\\r\\n\\r\\n\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t<label>Delete annotations (annotations will be deleted)</label>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t<button class=\\\"btn-clean\\\" type=\\\"button\\\" data-ng-click=\\\"cancel()\\\">CANCEL</button>\\r\\n\\t\\t<button class=\\\"btn-clean btn-numici\\\" type=\\\"button\\\"\\r\\n\\t\\t\\tdata-ng-disabled=\\\"disableConfirm()\\\" data-ng-click=\\\"ok()\\\">SUBMIT</button>\\r\\n\\t</div>\\r\\n</form>\";\n",
    "module.exports = \"<form data-ng-submit=\\\"vm.remove()\\\">\\r\\n\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t<h4 class=\\\"modal-title\\\">{{vm.modalOptions.headerText}}</h4>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-body\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\" data-ng-if=\\\"vm.hasDocLink\\\"\\r\\n\\t\\t\\t\\tstyle=\\\"padding-bottom: 15px;font-weight: 700;\\\">The Document is Shared as a\\r\\n\\t\\t\\t\\tlink. On removing the Document the link would be deleted permanently\\r\\n\\t\\t\\t\\t(shared link will not be accessible)</div>\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\" style=\\\"padding-left: 30px;\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"pretty p-default p-thick\\\">\\r\\n\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" data-ng-model=\\\"vm.deleteObject\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t<label>Also do you want to delete document from system (Document associated with other Taskspaces will not be deleted)</label>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\" data-ng-if=\\\"vm.hasAnnotations\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"padding: 10px 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<b>What would you like to do with annotations present in\\r\\n\\t\\t\\t\\t\\t\\t\\tthe document ?</b>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"padding: 10px 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12 col-sm-11\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"pretty p-default p-thick\\\" style=\\\"margin-bottom: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"radio\\\" name=\\\"actionOnAnnotations\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.deleteAnnotations.option\\\" value=\\\"delete\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>Delete annotations (annotations will be deleted)</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t<button class=\\\"btn-clean\\\" type=\\\"button\\\" data-ng-click=\\\"vm.cancel()\\\">CANCEL</button>\\r\\n\\t\\t<button class=\\\"btn-numici btn-clean\\\" type=\\\"submit\\\" data-ng-disabled=\\\"vm.disableConfirm()\\\">REMOVE</button>\\r\\n\\t</div>\\r\\n</form>\";\n",
    "module.exports = \"<div class=\\\"modal-header\\\">\\r\\n  <h4>{{modalOptions.headerText}}</h4>\\r\\n</div>\\r\\n<div class=\\\"modal-body confirm-modal-body\\\">\\r\\n  <div class=\\\"row\\\" data-ng-bind-html=\\\"modalOptions.bodyText\\\"></div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n  <button type=\\\"button\\\" class=\\\"btn-clean\\\" \\r\\n          data-ng-click=\\\"modalOptions.close()\\\">{{modalOptions.closeButtonText}}</button>\\r\\n  <button class=\\\"btn-clean btn-numici\\\" \\r\\n          data-ng-click=\\\"modalOptions.ok();\\\">{{modalOptions.actionButtonText}}</button>\\r\\n</div>\\r\\n\";\n",
    "module.exports = \"<div class=\\\"sheet ts-info\\\">\\r\\n  <i class=\\\"close h-icon-close\\\"\\r\\n     role=\\\"button\\\"\\r\\n     title=\\\"Close\\\"\\r\\n     ng-click=\\\"vm.onClose()\\\"></i>\\r\\n  <div class=\\\"form-vertical\\\">\\r\\n    <ul class=\\\"nav nav-tabs\\\">\\r\\n      <li data-ng-class=\\\"{ active: vm.isSet(1) }\\\">\\r\\n      \\t<a data-ng-click=\\\"vm.setTab(1)\\\">Cookies</a>\\r\\n      </li>\\r\\n    </ul>\\r\\n    <div class=\\\"tab-content\\\" data-ng-show=\\\"vm.isSet(1)\\\">\\r\\n \\t\\t<div style=\\\"min-height: 180px;background: #fff;padding: 25px 15px;font-size: 14px;\\\">\\r\\n    \\t\\t\\\"Your Chrome settings are set to \\\"Block third-party cookies\\\". \\r\\n    \\t\\tTo use Numici extension, you will need to add \\\"[*.]<a href=\\\"https://www.numici.com/\\\" target=\\\"_blank\\\">numici.com</a>\\\" to the section \\r\\n    \\t\\t\\\"Sites that can always use cookies\\\" in Chrome Settings &rarr; Cookies and other site data. \\r\\n    \\t\\t<a href=\\\"https://chrome.google.com/webstore/detail/numici-annotate-collabora/oojabgademjndedjpcnagfgiglcpolgd\\\" target=\\\"_blank\\\">Learn more</a>\\\"\\r\\n       \\t</div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n",
    "module.exports = \"<div class=\\\"sheet create-group\\\">\\r\\n\\t<i class=\\\"close h-icon-close\\\" role=\\\"button\\\" title=\\\"Close\\\"\\r\\n\\t\\tdata-ng-click=\\\"vm.close()\\\"></i>\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<ul class=\\\"nav nav-tabs\\\">\\r\\n\\t\\t\\t<li data-ng-class=\\\"{ active: vm.isSet(1) }\\\"\\r\\n\\t\\t\\t\\tdata-ng-show=\\\"vm.isSet(1)\\\">\\r\\n\\t\\t\\t\\t<a data-ng-click=\\\"vm.setTab(1)\\\">\\r\\n\\t\\t\\t\\t\\tCreate a new Taskspace\\r\\n\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t</li>\\r\\n\\t\\t\\t<li data-ng-class=\\\"{ active: vm.isSet(2) }\\\"\\r\\n\\t\\t\\t\\tdata-ng-show=\\\"vm.isSet(2)\\\"><a data-ng-click=\\\"vm.setTab(1)\\\">Invite</a></li>\\r\\n\\t\\t</ul>\\r\\n\\t\\t<div class=\\\"tab-content row\\\" data-ng-show=\\\"vm.isSet(1)\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t<!-- <div class=\\\"form-group  \\\">\\r\\n\\t\\t\\t\\t\\t<span>{{vm.getSuggestedName()}}</span>\\r\\n\\t\\t\\t\\t</div> -->\\r\\n\\t\\t\\t\\t<div class=\\\"form-group  \\\">\\r\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" \\r\\n\\t\\t\\t\\t\\t\\tclass=\\\"form-control txt-input\\\" \\r\\n\\t\\t\\t\\t\\t\\tautofocus \\r\\n\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.taskSpaceName\\\" \\r\\n\\t\\t\\t\\t\\t\\tplaceholder=\\\"Taskspace name\\\" \\r\\n\\t\\t\\t\\t\\t\\tdata-ng-keyup=\\\"vm.checkEventAndCreateNewTS($event)\\\" \\r\\n\\t\\t\\t\\t\\t\\trequired>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group \\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 10px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<data-ui-select multiple\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"vm.user_ShareObjAcrossOrg=='Yes'\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.userPerms.users\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-tagging=\\\"vm.tagTransform\\\" sortable=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-append-to-body=\\\"true\\\"> <data-ui-select-match\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Select Users...\\\">{{vm.getSelectedUserName($item)}}</data-ui-select-match>\\r\\n\\t\\t\\t\\t\\t\\t\\t<data-ui-select-choices\\r\\n\\t\\t\\t\\t\\t\\t\\t\\trepeat=\\\"user.loginId as user in vm.Users | filter:{hasPermission:false,loginId:$select.search}\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div data-ng-if=\\\"user.firstName && user.firstName.length > 0\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-bind-html=\\\"user.firstName+' '+ user.lastName | highlight: $select.search\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<small> {{user.loginId}} </small> </data-ui-select-choices> </data-ui-select>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t<!-- <div class=\\\"form-group \\\">\\r\\n\\t\\t\\t\\t\\t<data-ui-select data-ng-model=\\\"vm.selectedTicker.tickerObj\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-sortable=\\\"true\\\" data-append-to-body=\\\"true\\\">\\r\\n\\t\\t\\t\\t\\t\\t<data-ui-select-match placeholder=\\\"Select a Ticker\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<button type=\\\"button\\\" data-ng-show=\\\"vm.selectedTicker.tickerObj\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"background: none; border: none; cursor: pointer; padding: 5px 10px; position: absolute; right: 30px; top: 1px;\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-click=\\\"vm.clear($event)\\\">X</button>\\r\\n\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"$select.selected.ticker != null && $select.selected.ticker != ''\\\">{{$select.selected.ticker}}</span>\\r\\n\\t\\t\\t\\t\\t\\t\\t<span data-ng-if=\\\"$select.selected.ticker == null || $select.selected.ticker == ''\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-uib-tooltip=\\\"{{$select.selected.companyName}}\\\">{{$select.selected.companyName\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t| truncate: 7: '...'}}</span>\\r\\n\\t\\t\\t\\t\\t\\t</data-ui-select-match>\\r\\n\\t\\t\\t\\t\\t\\t<data-ui-select-choices\\r\\n\\t\\t\\t\\t\\t\\t\\trepeat=\\\"company in vm.companiesList | filter:$select.search track by $index\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-refresh=\\\"vm.refreshTickers($select.search)\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\tdata-refresh-delay=\\\"500\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div data-ng-bind-html=\\\"company.companyName | highlight: $select.search\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-bind-html=\\\"company.ticker | highlight: $select.search\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<span data-ng-bind-html=\\\"company.cik | highlight: $select.search\\\"></span>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</data-ui-select-choices> \\r\\n\\t\\t\\t\\t  \\t</data-ui-select>\\r\\n\\t\\t\\t\\t</div> \\r\\n\\t\\t\\t\\t<div class=\\\"form-group \\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 10px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-6\\\" style=\\\"padding-left: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<data-ui-select data-ng-model=\\\"vm.userPerms.grantedPerms[0]\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-search-enabled=\\\"false\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-on-select=\\\"vm.selectPerms($select.selected)\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-append-to-body=\\\"true\\\"> <data-ui-select-match>{{$select.selected}}</data-ui-select-match>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<data-ui-select-choices data-repeat=\\\"perm in vm.permSet\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div data-ng-bind-html=\\\"perm | highlight: $select.search\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</data-ui-select-choices> </data-ui-select>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-6\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"padding-right: 0px; height: 30px; line-height: 30px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"pretty p-default p-thick\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" data-ng-model=\\\"vm.propagateShare\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-disabled=\\\"!vm.disablePropagateShare\\\" />\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{::vm.sharePropagateLable}}</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>  -->\\r\\n\\t\\t\\t</div>\\t\\t\\t\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"tab-content row\\\" data-ng-show=\\\"vm.isSet(2)\\\" style=\\\"color:#000;\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\" data-ng-if=\\\"vm.sharedUserList.length > 0\\\">\\r\\n\\t\\t\\t\\t\\t<span>The taskspace \\\"{{vm.newTaskSpace.name}}\\\" successfully\\r\\n\\t\\t\\t\\t\\t\\tshared to '{{vm.sharedUserList.join()}}' users</span>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span>The taskspace \\\"{{vm.newTaskSpace.name}}\\\" could not be\\r\\n\\t\\t\\t\\t\\t\\t\\tshared to the below list of users as they are not NUMICI users.</span>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-repeat=\\\"NonNumiciUser in vm.NonNumiciUsers track by $index\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"height: 30px; line-height: 30px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"pretty p-default p-thick\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" data-ng-model=\\\"NonNumiciUser.selected\\\" />\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{NonNumiciUser.loginId}}</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\tDo you want to still share and invite the user to\\r\\n\\t\\t\\t\\t\\t\\t\\tNUMICI application (select the users you wish to invite and click\\r\\n\\t\\t\\t\\t\\t\\t\\ton 'Invite' button)?\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\" data-ng-show=\\\"!vm.is_shard_organization\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\tCreate GUEST user in : \\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\" data-ng-show=\\\"!vm.is_shard_organization\\\" style=\\\"padding-left: 35px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div  class =\\\"pretty p-default p-thick\\\" style=\\\"margin-bottom: 0px;margin-top: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"radio\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname=\\\"targetOrg\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.targetOrg.type\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"sharedorg\\\" style=\\\"margin-top: 1px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t            <label>Shared Organization</label>\\r\\n\\t\\t\\t\\t\\t\\t        </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div  class =\\\"pretty p-default p-thick\\\" style=\\\"margin-bottom: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"radio\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname=\\\"targetOrg\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.targetOrg.type\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"ownorg\\\" style=\\\"margin-top: 1px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t            <label>Own Organization</label>\\r\\n\\t\\t\\t\\t\\t\\t        </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"tab-content row\\\" data-ng-show=\\\"vm.isSet(3)\\\" style=\\\"color:#000;\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\" data-ng-if=\\\"vm.sharedUserList.length > 0\\\">\\r\\n\\t\\t\\t\\t\\t<span>The taskspace \\\"{{vm.newTaskSpace.name}}\\\" successfully\\r\\n\\t\\t\\t\\t\\t\\tshared to '{{vm.sharedUserList.join()}}' users</span>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span>The taskspace \\\"{{vm.newTaskSpace.name}}\\\" could not be\\r\\n\\t\\t\\t\\t\\t\\t\\tshared to the below list of users as they are not NUMICI users. \\r\\n\\t\\t\\t\\t\\t\\t\\tAnd you do not have privilege to invite a non-numici user.</span>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-repeat=\\\"NonNumiciUserCanNotBeShared in vm.NonNumiciUsersCanNotBeShared track by $index\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"height: 30px; line-height: 30px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"p-default p-thick\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{NonNumiciUserCanNotBeShared.loginId}}</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"row\\\"\\r\\n\\t\\t\\tstyle=\\\"height: 30px; line-height: 30px; padding: 5px; border-top: 1px solid #d3d3d3; margin-top: 10px;\\\">\\r\\n\\t\\t\\t<button type=\\\"button\\\" \\r\\n\\t\\t\\t\\tclass=\\\"btn-clean btn-numici\\\" \\r\\n\\t\\t\\t\\tdata-ng-click=\\\"vm.create()\\\"\\r\\n\\t\\t\\t\\ttitle=\\\"Create and Share\\\" \\r\\n\\t\\t\\t\\tdata-ng-show=\\\"vm.isSet(1)\\\" \\r\\n\\t\\t\\t\\tstyle=\\\"padding: 5px 2px;\\\">\\r\\n\\t\\t\\t\\t<!-- <i class=\\\" h-icon-add btn-icon\\\"></i>  -->Create\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t\\t<button type=\\\"button\\\" \\r\\n\\t\\t\\t\\tclass=\\\"btn-clean btn-numici\\\" \\r\\n\\t\\t\\t\\tdata-ng-click=\\\"vm.inviteExternalUsers()\\\"\\r\\n\\t\\t\\t\\ttitle=\\\"Share\\\" data-ng-show=\\\"vm.isSet(2)\\\"\\r\\n\\t\\t\\t\\tdata-ng-disabled=\\\"vm.disableShare()\\\"\\r\\n\\t\\t\\t\\tstyle=\\\"padding: 5px 2px;\\\">\\r\\n\\t\\t\\t\\t<!-- <i class=\\\"h-icon-add btn-icon\\\"></i>  -->Invite\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t\\t<button type=\\\"button\\\" \\r\\n\\t\\t\\t\\tclass=\\\"btn-clean\\\" \\r\\n\\t\\t\\t\\tdata-ng-click=\\\"vm.close()\\\" \\r\\n\\t\\t\\t\\ttitle=\\\"{{vm.isSet(3) ? 'Ok' : 'Cancel'}}\\\" \\r\\n\\t\\t\\t\\tstyle=\\\"padding: 5px 2px;border: 1px solid #ccc;\\\">\\r\\n\\t\\t\\t\\t<!-- <i class=\\\"h-icon-clear  btn-icon\\\" data-ng-show=\\\"!vm.isSet(3)\\\"></i> --> {{vm.isSet(3) ? \\\"Ok\\\" : \\\"Cancel\\\"}}\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\";\n",
    "module.exports = \"<form data-ng-submit=\\\"vm.create()\\\">\\r\\n<div class=\\\"modal-header\\\">\\r\\n\\t<h4>{{vm.modalOptions.headerText}}</h4>\\r\\n</div>\\r\\n<div class=\\\"modal-body move-web-resource-modal-body\\\" style=\\\"max-height: 500px;padding: 0px;overflow: visible;\\\">\\r\\n  <div class=\\\"sheet create-group\\\" style=\\\"margin: 0px;\\\">\\r\\n\\t<div class=\\\"col-xs-12 move-web-resource-err-msg\\\"\\r\\n\\t\\tdata-ng-if=\\\"vm.modalOptions.errMessage.length > 0\\\">\\r\\n\\t\\t{{vm.modalOptions.errMessage}}</div>\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<ul class=\\\"nav nav-tabs\\\">\\r\\n\\t\\t\\t<li data-ng-class=\\\"{ active: vm.isSet(1) }\\\"\\r\\n\\t\\t\\t\\tdata-ng-show=\\\"vm.isSet(1)\\\">\\r\\n\\t\\t\\t\\t<a data-ng-click=\\\"vm.setTab(1)\\\">\\r\\n\\t\\t\\t\\t\\tCreate a new Taskspace\\r\\n\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t</li>\\r\\n\\t\\t\\t<li data-ng-class=\\\"{ active: vm.isSet(2) }\\\"\\r\\n\\t\\t\\t\\tdata-ng-show=\\\"vm.isSet(2)\\\"><a data-ng-click=\\\"vm.setTab(1)\\\">Invite</a></li>\\r\\n\\t\\t</ul>\\r\\n\\t\\t<div class=\\\"tab-content row\\\" data-ng-show=\\\"vm.isSet(1)\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t<!-- <div class=\\\"form-group  \\\">\\r\\n\\t\\t\\t\\t\\t<span>{{vm.getSuggestedName()}}</span>\\r\\n\\t\\t\\t\\t</div> -->\\r\\n\\t\\t\\t\\t<div class=\\\"form-group  \\\">\\r\\n\\t\\t\\t\\t\\t<input type=\\\"text\\\" \\r\\n\\t\\t\\t\\t\\t\\tclass=\\\"form-control txt-input\\\" \\r\\n\\t\\t\\t\\t\\t\\tautofocus \\r\\n\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.taskSpaceName\\\" \\r\\n\\t\\t\\t\\t\\t\\tplaceholder=\\\"Taskspace name\\\" \\r\\n\\t\\t\\t\\t\\t\\tdata-ng-keyup=\\\"vm.checkEventAndCreateNewTS($event)\\\" \\r\\n\\t\\t\\t\\t\\t\\trequired>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"form-group \\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 10px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<data-ui-select multiple\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-if=\\\"vm.user_ShareObjAcrossOrg=='Yes'\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.userPerms.users\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-tagging=\\\"vm.tagTransform\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\tsortable=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-append-to-body=false> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<data-ui-select-match\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tplaceholder=\\\"Select Users...\\\">{{vm.getSelectedUserName($item)}}</data-ui-select-match>\\r\\n\\t\\t\\t\\t\\t\\t\\t<data-ui-select-choices\\r\\n\\t\\t\\t\\t\\t\\t\\t\\trepeat=\\\"user.loginId as user in vm.Users | filter:{hasPermission:false,loginId:$select.search}\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div data-ng-if=\\\"user.firstName && user.firstName.length > 0\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-bind-html=\\\"user.firstName+' '+ user.lastName | highlight: $select.search\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<small> {{user.loginId}} </small> </data-ui-select-choices> </data-ui-select>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\t\\t\\t\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"tab-content row\\\" data-ng-show=\\\"vm.isSet(2)\\\" style=\\\"color:#000;\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\" data-ng-if=\\\"vm.sharedUserList.length > 0\\\">\\r\\n\\t\\t\\t\\t\\t<span>The taskspace \\\"{{vm.newTaskSpace.name}}\\\" successfully\\r\\n\\t\\t\\t\\t\\t\\tshared to '{{vm.sharedUserList.join()}}' users</span>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span>The taskspace \\\"{{vm.newTaskSpace.name}}\\\" could not be\\r\\n\\t\\t\\t\\t\\t\\t\\tshared to the below list of users as they are not NUMICI users.</span>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-repeat=\\\"NonNumiciUser in vm.NonNumiciUsers track by $index\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"height: 30px; line-height: 30px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"pretty p-default p-thick\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"checkbox\\\" data-ng-model=\\\"NonNumiciUser.selected\\\" />\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{NonNumiciUser.loginId}}</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\tDo you want to still share and invite the user to\\r\\n\\t\\t\\t\\t\\t\\t\\tNUMICI application (select the users you wish to invite and click\\r\\n\\t\\t\\t\\t\\t\\t\\ton 'Invite' button)?\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\" data-ng-show=\\\"!vm.is_shard_organization\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\tCreate GUEST user in : \\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\" data-ng-show=\\\"!vm.is_shard_organization\\\" style=\\\"padding-left: 35px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div  class =\\\"pretty p-default p-thick\\\" style=\\\"margin-bottom: 0px;margin-top: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"radio\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname=\\\"targetOrg\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.targetOrg.type\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"sharedorg\\\" style=\\\"margin-top: 1px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t            <label>Shared Organization</label>\\r\\n\\t\\t\\t\\t\\t\\t        </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t<div  class =\\\"pretty p-default p-thick\\\" style=\\\"margin-bottom: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"radio\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tname=\\\"targetOrg\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.targetOrg.type\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tvalue=\\\"ownorg\\\" style=\\\"margin-top: 1px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t            <label>Own Organization</label>\\r\\n\\t\\t\\t\\t\\t\\t        </div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"tab-content row\\\" data-ng-show=\\\"vm.isSet(3)\\\" style=\\\"color:#000;\\\">\\r\\n\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"form-group\\\" data-ng-if=\\\"vm.sharedUserList.length > 0\\\">\\r\\n\\t\\t\\t\\t\\t<span>The taskspace \\\"{{vm.newTaskSpace.name}}\\\" successfully\\r\\n\\t\\t\\t\\t\\t\\tshared to '{{vm.sharedUserList.join()}}' users</span>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span>The taskspace \\\"{{vm.newTaskSpace.name}}\\\" could not be\\r\\n\\t\\t\\t\\t\\t\\t\\tshared to the below list of users as they are not NUMICI users. \\r\\n\\t\\t\\t\\t\\t\\t\\tAnd you do not have privilege to invite a non-numici user.</span>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-bottom: 15px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-repeat=\\\"NonNumiciUserCanNotBeShared in vm.NonNumiciUsersCanNotBeShared track by $index\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"height: 30px; line-height: 30px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"p-default p-thick\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>{{NonNumiciUserCanNotBeShared.loginId}}</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t  </div>\\r\\n\\t</div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<button type=\\\"submit\\\" \\r\\n\\t\\t\\t\\tclass=\\\"btn-clean btn-numici\\\" \\r\\n\\t\\t\\t\\ttitle=\\\"Create and Share\\\" \\r\\n\\t\\t\\t\\tdata-ng-show=\\\"vm.isSet(1)\\\" \\r\\n\\t\\t\\t\\tstyle=\\\"padding: 5px 2px;\\\">\\r\\n\\t\\t\\t\\t{{vm.modalOptions.create}}\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t\\t<button type=\\\"button\\\" \\r\\n\\t\\t\\t\\tclass=\\\"btn-clean btn-numici\\\" \\r\\n\\t\\t\\t\\tdata-ng-click=\\\"vm.inviteExternalUsers()\\\"\\r\\n\\t\\t\\t\\ttitle=\\\"Share\\\" \\r\\n\\t\\t\\t\\tdata-ng-show=\\\"vm.isSet(2)\\\"\\r\\n\\t\\t\\t\\tdata-ng-disabled=\\\"vm.disableShare()\\\"\\r\\n\\t\\t\\t\\tstyle=\\\"padding: 5px 2px;\\\">\\r\\n\\t\\t\\t\\t{{vm.modalOptions.invite}}\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t\\t<button type=\\\"button\\\" \\r\\n\\t\\t\\t\\tclass=\\\"btn-clean\\\" \\r\\n\\t\\t\\t\\tdata-ng-click=\\\"vm.close()\\\" \\r\\n\\t\\t\\t\\ttitle=\\\"{{vm.isSet(3) ? vm.modalOptions.ok : vm.modalOptions.cancel}}\\\" \\r\\n\\t\\t\\t\\tstyle=\\\"padding: 5px 2px;border: 1px solid #ccc;\\\">\\r\\n\\t\\t\\t\\t{{vm.isSet(3) ? vm.modalOptions.ok : vm.modalOptions.cancel}}\\r\\n\\t\\t\\t</button>\\r\\n\\t\\t</div>\\r\\n</div>\\r\\n\\r\\n</form>\";\n",
    "module.exports = \"<div class=\\\"drc\\\" data-ng-style=\\\"::setDigesMinMaxWidth()\\\">\\r\\n<!-- <annotaion-digest-title data-get-title-styles = \\\"::titleStyles()\\\" data-task-space=\\\"taskSpace\\\" ></annotaion-digest-title> -->\\r\\n\\t<div class=\\\"row\\\" contenteditable=\\\"false\\\">\\r\\n      \\t<div class=\\\"row digest-name\\\" \\r\\n\\t       \\tdata-ng-if=\\\"digestName.length>0\\\" \\r\\n\\t       \\tstyle=\\\"color: #069;text-align: center;padding: 10px 0px;font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;\\\">\\r\\n\\t\\t\\t<h1>{{digestName}}</h1>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"row digest-description\\\" \\r\\n\\t\\t\\tdata-ng-if=\\\"description.length>0\\\" \\r\\n\\t\\t\\tdata-ng-bind-html=\\\"description| to_trusted\\\" \\r\\n\\t\\t\\tstyle=\\\"padding: 10px 0px;color: #24292e;font-family: -apple-system,BlinkMacSystemFont,Segoe UI,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;\\\">\\r\\n\\t\\t\\t<!-- {{description}} -->\\r\\n\\t\\t</div>\\r\\n      </div>\\r\\n  <div data-ng-repeat=\\\"gpDigest in ::groupDigestData\\\" contenteditable=\\\"false\\\">\\r\\n    <div data-ng-if=\\\"groupBy == 'taghierarchical'\\\">\\r\\n    <div data-ng-style=\\\"::getTagStyles(gpDigest.tagName)\\\" style=\\\"display: inline-block;\\r\\n\\t\\t\\t    height: 25px;\\r\\n\\t\\t\\t    line-height: 25px;\\r\\n\\t\\t\\t    margin: 5px;\\\"> \\r\\n\\t\\t<h2>{{::getTagLable(gpDigest.tagName)}}</h2>\\r\\n\\t</div>\\r\\n\\t</div>\\r\\n    <div>\\r\\n    \\t<div data-ng-repeat=\\\"entries in ::gpDigest.entries track by $index\\\">\\r\\n    \\t\\t<div data-ng-if=\\\"groupBy == 'taghierarchical'\\\">\\r\\n    \\t\\t<div data-ng-if=\\\"::getTagValueLable(entries.tagValue, groupBy)\\\"  style=\\\"display: inline-block;\\r\\n\\t\\t\\t\\t\\t    padding: 0px;\\r\\n\\t\\t\\t\\t\\t    margin: 0px 5px;\\r\\n\\t\\t\\t\\t\\t    color: #069;\\\">\\r\\n\\t\\t\\t\\t<h3>{{::getTagValueLable(entries.tagValue, groupBy)}}</h3>\\r\\n    \\t\\t</div>\\r\\n    \\t\\t</div>\\r\\n    \\t\\t<div data-ng-if=\\\"groupBy == 'tag'\\\">\\r\\n    \\t\\t<div data-ng-if=\\\"::getTagValueLable(entries.tagValue, groupBy)\\\"  style=\\\"display: inline-block;\\r\\n\\t\\t\\t\\t\\t    padding: 0px;\\r\\n\\t\\t\\t\\t\\t    margin: 0px 5px;\\r\\n\\t\\t\\t\\t\\t    color: #069;\\\">\\r\\n\\t\\t\\t\\t<h2>{{::getTagValueLable(entries.tagValue, groupBy)}}</h2>\\r\\n    \\t\\t</div>\\r\\n    \\t\\t</div>\\r\\n    \\t\\t<div style=\\\"padding-left: 15px;\\\">\\r\\n    \\t\\t\\t <annotaion-digest-template \\r\\n\\t\\t\\t    \\tdata-digest=\\\"entries.digest\\\" \\r\\n\\t\\t\\t    \\ttemplate-url=\\\"{{url}}\\\" \\r\\n\\t\\t\\t    \\ttitle=\\\"false\\\"\\r\\n\\t\\t\\t    \\tdata-digest-meta-info-options=\\\"digestMetaInfoOptions\\\" \\r\\n\\t\\t\\t    \\tdata-enable-border=\\\"enableBorder\\\" \\r\\n\\t\\t\\t    \\tdata-image-position=\\\"imagePosition\\\" \\r\\n\\t\\t\\t    \\tdata-display-order=\\\"displayOrder\\\"\\r\\n\\t\\t\\t    \\tdata-display-replies=\\\"displayReplies\\\"\\r\\n\\t\\t\\t    \\tdata-set-diges-min-max-width= \\\"digesMinMaxWidth()\\\"\\r\\n\\t\\t\\t\\t\\tdata-get-title-styles = \\\"titleStyles()\\\"\\r\\n\\t\\t\\t\\t\\tdata-alternate-image-styles = \\\"altImageStyles()\\\"\\r\\n\\t\\t\\t\\t\\tdata-set-rep-digest-styles = \\\"repDigestStyles(digest)\\\"\\r\\n\\t\\t\\t\\t\\tdata-get-annotated-text = \\\"annotatedText(annotation)\\\"\\r\\n\\t\\t\\t\\t\\tdata-format-created-date = \\\"createdDate(dateValue)\\\"\\r\\n\\t\\t\\t\\t\\tdata-format-comment=\\\"convertComment(annotation,comment)\\\"\\r\\n\\t\\t\\t\\t\\tdata-comment-iconUrl = \\\"commentIconUrl\\\">\\r\\n\\t\\t\\t    </annotaion-digest-template>\\r\\n    \\t\\t</div>\\r\\n    \\t\\t\\r\\n    \\t</div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";\n",
    "module.exports = \"<div class=\\\"row\\\" contenteditable=\\\"false\\\" style=\\\"text-align: center;\\\">\\r\\n\\t<h4 data-ng-style=\\\"titleStyles()\\\">\\r\\n   \\t\\t{{title}}\\r\\n\\t</h4>\\r\\n</div>\";\n",
    "module.exports = \"<tags-input \\r\\n  ng-model=\\\"vm.tagList\\\"\\r\\n  name=\\\"tags\\\"\\r\\n  class=\\\"tags\\\"\\r\\n  placeholder=\\\"Add tags\\\"\\r\\n  min-length=\\\"1\\\"\\r\\n  replace-spaces-with-dashes=\\\"false\\\"\\r\\n  enable-editing-last-tag=\\\"true\\\"\\r\\n  on-tag-adding=\\\"vm.onTagAdding($tag)\\\"\\r\\n  on-tag-removing=\\\"vm.onTagRemoving($tag)\\\"\\r\\n  on-tag-added=\\\"vm.onTagsChanged()\\\"\\r\\n  on-tag-removed=\\\"vm.onTagsChanged()\\\"\\r\\n  add-on-blur=\\\"false\\\"\\r\\n  add-on-comma=\\\"false\\\"\\r\\n  tags-input-autofocus>\\r\\n  <auto-complete \\r\\n    source=\\\"vm.autocomplete($query)\\\"\\r\\n    min-length=\\\"1\\\"\\r\\n    max-results-to-show=\\\"10\\\"\\r\\n    debounce-delay=\\\"1000\\\">\\r\\n  </auto-complete>\\r\\n</tags-input>\\r\\n\";\n",
    "module.exports = \"<div class=\\\"dropdown-menu-btn\\\" >\\n  <button\\n    class=\\\"dropdown-menu-btn__btn\\\"\\n    ng-bind=\\\"vm.label\\\"\\n    ng-click=\\\"vm.onClick($event)\\\"\\n    ng-disabled=\\\"vm.isDisabled\\\"\\n    h-branding=\\\"ctaTextColor, ctaBackgroundColor\\\">\\n  </button>\\n  <button\\n    class=\\\"dropdown-menu-btn__dropdown-arrow\\\"\\n    title=\\\"{{vm.dropdownMenuLabel}}\\\"\\n    ng-click=\\\"vm.toggleDropdown($event)\\\">\\n    <div class=\\\"dropdown-menu-btn__dropdown-arrow-separator\\\"></div>\\n    <div\\n      class=\\\"dropdown-menu-btn__dropdown-arrow-indicator\\\"\\n      h-branding=\\\"ctaTextColor, ctaBackgroundColor\\\">\\n      <div></div>\\n    </div>\\n  </button>\\n</div>\\n\";\n",
    "module.exports = \"<div ng-transclude ng-if=\\\"!vm.enabled\\\"></div>\\n<div class=\\\"excerpt__container\\\" ng-if=\\\"vm.enabled\\\">\\n  <div class=\\\"excerpt\\\" ng-style=\\\"vm.contentStyle()\\\">\\n    <div ng-transclude></div>\\n    <div ng-click=\\\"vm.expand()\\\"\\n         ng-class=\\\"vm.bottomShadowStyles()\\\"\\n         title=\\\"Show the full excerpt\\\"></div>\\n    <div class=\\\"excerpt__inline-controls\\\"\\n         ng-show=\\\"vm.showInlineControls()\\\">\\n      <span class=\\\"excerpt__toggle-link\\\" ng-show=\\\"vm.isExpandable()\\\">\\n         <a ng-click=\\\"vm.toggle($event)\\\"\\n            title=\\\"Show the full excerpt\\\"\\n            h-branding=\\\"accentColor, selectionFontFamily\\\">More</a>\\n      </span>\\n      <span class=\\\"excerpt__toggle-link\\\" ng-show=\\\"vm.isCollapsible()\\\">\\n        <a ng-click=\\\"vm.toggle($event)\\\"\\n            title=\\\"Show the first few lines only\\\"\\n            h-branding=\\\"accentColor, selectionFontFamily\\\">Less</a>\\n      </span>\\n    </div>\\n  </div>\\n</div>\\n\";\n",
    "module.exports = \"<div class=\\\"sheet ts-info\\\" style=\\\"height: 100%;\\\">\\r\\n  <i class=\\\"close h-icon-close\\\"\\r\\n     role=\\\"button\\\"\\r\\n     title=\\\"Close\\\"\\r\\n     ng-click=\\\"vm.onClose()\\\"></i>\\r\\n  <div class=\\\"form-vertical\\\" style=\\\"height: 100%;\\\">\\r\\n    <ul class=\\\"nav nav-tabs\\\">\\r\\n      <li data-ng-class=\\\"{ active: vm.isSet(1) }\\\">\\r\\n      \\t<a data-ng-click=\\\"vm.setTab(1)\\\">Taskspace Resources</a>\\r\\n      </li>\\r\\n      <li data-ng-class=\\\"{ active: vm.isSet(2) }\\\">\\r\\n      \\t<a data-ng-click=\\\"vm.setTab(2)\\\">Users</a>\\r\\n      </li>\\r\\n    </ul>\\r\\n    <div class=\\\"tab-content\\\" data-ng-show=\\\"vm.isSet(1)\\\" style=\\\"height: 100%; overflow: auto;max-height: calc(100% - 25px);\\\">\\r\\n        <div data-ng-repeat=\\\"section in vm.group.sections track by $index\\\" \\r\\n             style=\\\"border: 1px solid #aaa;\\r\\n    padding: 10px;\\r\\n    background: #fff;\\r\\n    margin: 10px 0px;\\\">\\r\\n         <div>\\r\\n\\t         <div style=\\\"margin: 5px 0px;color: #222;font-size: 14px;font-weight: 700;\\\">\\r\\n\\t           {{section.name}}\\r\\n\\t         </div>\\r\\n\\t          <div style=\\\"margin: 5px 0px;\\\">\\r\\n\\t           {{section.description}}\\r\\n\\t         </div>\\r\\n        \\t <div data-ng-attr-title=\\\"Added Date\\\" style=\\\"margin: 5px 0px;\\\">\\r\\n        \\t \\t{{section.dateAdded | date:'medium'}}\\r\\n        \\t </div>\\r\\n        \\t <div style=\\\"margin: 5px 0px;\\\">\\r\\n        \\t \\t<span ng-if=\\\"section.collapsed\\\">\\r\\n        \\t \\t\\t<a data-ng-click=\\\"section.collapsed = false\\\" style=\\\"cursor: pointer;text-decoration: underline;\\\">\\r\\n        \\t \\t\\t\\tShow Documents ({{section.documents.length}})\\r\\n        \\t \\t\\t</a>\\r\\n        \\t \\t</span>\\r\\n        \\t \\t<span ng-if=\\\"!section.collapsed\\\">\\r\\n        \\t \\t\\t<a data-ng-click=\\\"section.collapsed = true\\\" style=\\\"cursor: pointer;text-decoration: underline;\\\">\\r\\n        \\t \\t\\t\\tHide Documents ({{section.documents.length}})\\r\\n        \\t \\t\\t</a>\\r\\n        \\t \\t</span>\\r\\n        \\t </div>\\r\\n         </div>\\r\\n         <div  ng-show=\\\"!section.collapsed\\\" style=\\\"background: #eee;margin-top: 10px;padding: 1px 0px;\\\">\\r\\n         \\t<div data-ng-repeat=\\\"object in section.documents track by $index\\\" style=\\\"background: #eee;\\\">\\r\\n \\t\\t\\t<div class=\\\"obj-info\\\">\\r\\n \\t\\t\\t\\t<div data-ng-attr-title=\\\"{{object.name}}\\\">\\r\\n \\t\\t\\t\\t\\t<span class=\\\"obj-name\\\" \\r\\n \\t\\t\\t\\t\\t\\t  data-ng-click=\\\"vm.openDocument(object)\\\"\\r\\n \\t\\t\\t\\t\\t\\t  style=\\\"display: block;color: #069;cursor: pointer;text-decoration: underline;\\\">\\r\\n \\t\\t\\t\\t\\t\\t  {{object.name}}\\r\\n \\t\\t\\t\\t\\t</span>\\r\\n \\t\\t\\t\\t</div>\\r\\n\\t \\t\\t\\t<div data-ng-attr-title=\\\"Document Type\\\">{{object.objectInfo.docType}}</div>\\r\\n\\t \\t\\t\\t<div data-ng-attr-title=\\\"Owner\\\">{{object.objectInfo.createdBy}}</div>\\r\\n\\t \\t\\t\\t<div data-ng-attr-title=\\\"Published Date\\\">{{object.objectInfo.datePublished | date:'medium'}}</div>\\r\\n \\t\\t\\t</div>\\r\\n \\t\\t</div>\\r\\n         </div>\\r\\n        </div>\\r\\n    </div>\\r\\n    <div class=\\\"tab-content\\\" data-ng-show=\\\"vm.isSet(2)\\\" style=\\\"height: 100%; overflow: auto;max-height: calc(100% - 25px);\\\">\\r\\n    \\t<div class=\\\"usr-info own\\\">\\r\\n \\t\\t\\t<div>\\r\\n \\t\\t\\t    <span>\\r\\n \\t\\t\\t    \\t<i class=\\\"h-icon-account\\\"></i>\\r\\n \\t\\t\\t    </span>\\r\\n \\t\\t\\t\\t<span>\\r\\n \\t\\t\\t\\t\\t{{vm.group.owner}}\\r\\n \\t\\t\\t\\t\\t<i class=\\\"h-icon-border-color\\\" ng-if=\\\"vm.groups.isEditable(vm.group)\\\"></i>\\r\\n \\t\\t\\t\\t</span>\\r\\n \\t\\t\\t</div>\\r\\n \\t\\t</div>\\r\\n \\t\\t<div class=\\\"usr-info collab\\\" data-ng-repeat=\\\"collaborators in vm.group.collaborators track by $index\\\">\\r\\n \\t\\t\\t<div>\\r\\n \\t\\t\\t\\t<span>\\r\\n \\t\\t\\t    \\t<i class=\\\"h-icon-group\\\"></i>\\r\\n \\t\\t\\t    </span>\\r\\n \\t\\t\\t\\t<span>\\r\\n \\t\\t\\t\\t\\t{{collaborators.displayName}}\\r\\n \\t\\t\\t\\t</span>\\r\\n \\t\\t\\t</div>\\r\\n \\t\\t\\t<div>{{collaborators.userId}}</div>\\r\\n \\t\\t</div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n",
    "module.exports = \"<!-- auto-close=\\\"disabled\\\" -->\\n<div class=\\\"pull-none\\\"\\n     dropdown\\n     data-click-outside=\\\"vm.close()\\\"\\n  \\t data-outside-if-not=\\\"select_section,create_section\\\"\\n     auto-close=\\\"disabled\\\"\\n     keyboard-nav\\n     is-open=\\\"vm.isOpen\\\"\\n     on-toggle=\\\"vm.toggled(open)\\\">\\n  <div class=\\\"dropdown-toggle\\\"\\n        dropdown-toggle\\n        data-toggle=\\\"dropdown\\\"\\n        role=\\\"button\\\"\\n        title=\\\"Change the selected Taskspace\\\">\\n    \\t<div class=\\\"group-list-label__label\\\" \\n    \\t\\ttitle=\\\"{{ vm.getSection(vm.groups.focused()).name ? vm.groups.focused().name +'/'+vm.getSection(vm.groups.focused()).name : vm.groups.focused().name }}\\\"\\n    \\t\\tng-if=\\\"vm.groups.focused().id\\\"\\n    \\t\\tstyle=\\\"display: flex;\\\">\\n    \\t\\t<span style=\\\"flex-grow: 2;overflow: hidden;text-overflow: ellipsis;\\\">{{vm.groups.focused().name}} </span>\\n    \\t\\t<span style=\\\"flex-grow: 1;overflow: hidden;text-overflow: ellipsis;\\\" ng-if=\\\"vm.getSection(vm.groups.focused())\\\">/ {{vm.getSection(vm.groups.focused()).name}} </span>\\n    \\t</div>\\n    \\t<div class=\\\"group-list-label__label\\\" \\n    \\t    ng-if=\\\"vm.selectTaskspace()\\\"\\n    \\t\\ttitle=\\\"Select Taskspace\\\"\\n    \\t\\tstyle=\\\"color: #d22d2d;\\\">\\n\\t\\t    <!-- <i class=\\\"group-list-label__icon h-icon-{{ vm.focusedIconClass() }}\\\"\\n\\t\\t       ng-if=\\\"!vm.focusedIcon()\\\"></i> --><!-- nospace !-->\\n    \\t\\tSelect Taskspace\\n    \\t</div><!-- nospace\\n      !--><i class=\\\"h-icon-arrow-drop-down\\\"></i>\\n  </div>\\n  <div class=\\\"dropdown-menu__top-arrow\\\"></div>\\n  <ul class=\\\"dropdown-menu pull-none\\\" \\n  \\t  role=\\\"menu\\\" \\n  \\t  style=\\\"padding-top: 0px;overflow-x:hidden; position: fixed; width: calc(100% - 40px);margin: auto 20px auto 5px;max-width: 350px;\\\">\\n     <li class=\\\"dropdown-menu__row dropdown-menu__row--unpadded new-group-btn\\\"\\n    \\tstyle=\\\"height:35px;position: fixed;width: calc(100% - 42px);padding: 0px 5px;border-bottom: 1px solid #ddd;z-index: 10;background: #fff;line-height: 35px;max-width: 350px;\\\"\\n    \\tdata-ng-if=\\\"!vm.auth.isPublic\\\">\\n      <div class=\\\"row\\\" style=\\\"width:100%;\\\">\\n        <div style=\\\"height: 35px;line-height: 35px;margin:0px 5px;display: inline-block;width: calc(100% - 60px)\\\"\\n             data-ng-click=\\\"$event.stopPropagation()\\\">\\n\\t\\t\\t<input type=\\\"text\\\" \\n\\t\\t\\t    style=\\\"padding: 0px 6px;border-bottom-color: #069;\\\"\\n\\t\\t\\t\\tclass=\\\"form-control txt-input\\\" \\n\\t\\t\\t\\tdata-ng-model=\\\"vm.tsSearchTxt\\\" \\n\\t\\t\\t\\tdata-name = \\\"FocusFindTaskSpace\\\"\\n\\t\\t\\t\\tdata-cust-auto-focus\\n\\t\\t\\t\\tplaceholder=\\\"Find Taskspace\\\">\\n\\t\\t</div>\\n    \\t<div style=\\\"height: 35px;line-height: 35px;display: inline-block;width: 50px;\\\" ng-if=\\\"vm.allowCreateTaskSpace() && vm.newGroup == 'inside'\\\">\\n\\t\\t\\t<div>\\n\\t\\t\\t  <button type=\\\"button\\\" \\n\\t\\t\\t          class=\\\"btn-clean ng-binding\\\" \\n\\t\\t\\t          ng-click=\\\"vm.newTaskspace()\\\" \\n\\t\\t\\t          title=\\\"Create a new Taskspace to share annotations\\\" \\n\\t\\t\\t          style=\\\"padding: 5px 5px;border: 1px solid #ccc;color:#fff;background: #069;\\\">\\n\\t\\t\\t\\tNew\\n\\t\\t\\t  </button>\\t\\n\\t\\t   </div>\\n\\t\\t</div>\\n      </div>\\n    </li>\\n    <li ng-if=\\\"!vm.auth.isPublic\\\" \\n    \\tclass=\\\"dropdown-menu__row dropdown-menu__row--unpadded new-group-btn\\\"\\n    \\tstyle=\\\"height:35px;\\\">\\n    </li>\\n    \\n    <li class=\\\"dropdown-menu__row dropdown-menu__row--unpadded \\\"\\n        ng-repeat=\\\"group in vm.groupOrganizations() | orderBy:['-annotationCount','name'] | filter:{name:vm.tsSearchTxt} track by group.id \\\"\\n        ng-if=\\\"group.id == vm.groups.focused().id\\\">\\n      <div ng-class=\\\"{'group-item': true, selected: group.id == vm.groups.focused().id,'group-disabled': !vm.isSelectable(group)}\\\"\\n           ng-click=\\\"vm.isSelectable(group) && vm.focusGroup(group.id)\\\">\\n        <!-- the group name and share link !-->\\n        <div class=\\\"group-details\\\" >\\n          <div class=\\\"group-name-container\\\" \\n               style=\\\"min-height: 30px;\\n                      display: flex;\\n\\t\\t\\t\\t\\t  align-items: center;\\n\\t\\t\\t\\t\\t  flex-direction: row;\\n\\t\\t\\t\\t\\t  margin: 5px 0px;\\\">\\n            <a class=\\\"group-name-link\\\"\\n               href=\\\"\\\"\\n               title=\\\"{{ group.type === 'private' ? 'Show and create annotations in ' + group.name : 'Show public annotations'  }}\\\"\\n               style=\\\"display: flex-root;flex-grow: 1;width: calc(100% - 30px); \\\"> <!--  text-overflow: ellipsis;overflow: hidden;white-space: nowrap; -->\\n               {{group.name}} <span title=\\\"Annotation Count\\\">({{group.annotationCount}})</span>\\n            </a>\\n       \\t\\t \\n       \\t\\t <div class=\\\"share-link-container\\\" \\n               ng-click=\\\"$event.stopPropagation()\\\" \\n               ng-if=\\\"vm.shouldShowActivityLink(group.id) && !group.fromPublicLink\\\"\\n               style=\\\"width: 25px;justify-content: center;display: flex;\\\">\\n\\t            <a class=\\\"share-link\\\"\\n\\t               href=\\\"{{group.links.html}}\\\"\\n\\t               target=\\\"_blank\\\"\\n\\t               ng-click=\\\"vm.viewGroupActivity()\\\" \\n\\t               title=\\\"Open Taskspace in Numici web application\\\">\\n\\t             \\t<span class=\\\"h-icon-arrow-up-right list-icon\\\"></span>\\n\\t            </a>\\n\\t          </div>\\n          </div>\\n           <div ng-if=\\\"vm.showSections(group)\\\" \\n               ng-click=\\\"$event.stopPropagation()\\\"\\n               style=\\\"height: 30px;display: flex;align-items: center; margin: 5px 0px;\\\">\\n          \\t   <select-section auth=\\\"vm.auth\\\" \\n          \\t              group=\\\"group\\\"\\n          \\t              store-section=\\\"vm.focusSection({groupId:groupId,section:section})\\\"\\n          \\t              section=\\\"vm.getSection(group)\\\"\\n          \\t              append-to-body= true\\n          \\t              select-disabled = \\\"vm.disableSection(group)\\\"\\n          \\t              on-new-section=\\\"vm.onNewSection({section:section,group:group})\\\"\\n          \\t              ng-click=\\\"$event.stopPropagation()\\\"\\n          \\t              style=\\\"display: flex;flex-grow: 1;\\\"\\n          \\t              class=\\\"list-section\\\"\\n          \\t              ng-if=\\\"vm.hasSections(group)\\\">\\n          \\t\\t</select-section>\\n          \\t\\t<add-section-btn ng-if=\\\"!vm.hasSections(group) && vm.allowCreateSection()\\\" \\n          \\t\\t\\t\\t\\t\\t auth=\\\"vm.auth\\\" \\n          \\t   \\t\\t\\t\\t\\t group=\\\"group\\\" \\n          \\t   \\t\\t\\t\\t\\t label=\\\"Add Section\\\" \\n          \\t   \\t\\t\\t\\t\\t on-new-section=\\\"vm.onNewSection({section:section,group:group})\\\">\\n          \\t   \\t</add-section-btn>\\n          </div>\\n           \\n        </div>\\n      </div>\\n    </li>\\n    \\n    \\n    <li class=\\\"dropdown-menu__row dropdown-menu__row--unpadded \\\"\\n        ng-repeat=\\\"group in vm.groupOrganizations() | orderBy:['-annotationCount','name'] | filter:{name:vm.tsSearchTxt} track by group.id \\\"\\n        ng-if=\\\"group.id != vm.groups.focused().id\\\">\\n      <div ng-class=\\\"{'group-item': true, selected: group.id == vm.groups.focused().id,'group-disabled': !vm.isSelectable(group)}\\\"\\n           ng-click=\\\"vm.isSelectable(group) && vm.focusGroup(group.id)\\\">\\n        <!-- the group name and share link !-->\\n        <div class=\\\"group-details\\\" >\\n          <div class=\\\"group-name-container\\\" \\n               style=\\\"min-height: 30px;\\n                      display: flex;\\n\\t\\t\\t\\t\\t  align-items: center;\\n\\t\\t\\t\\t\\t  flex-direction: row;\\n\\t\\t\\t\\t\\t  margin: 5px 0px;\\\">\\n            <a class=\\\"group-name-link\\\"\\n               href=\\\"\\\"\\n               title=\\\"{{ group.type === 'private' ? 'Show and create annotations in ' + group.name : 'Show public annotations'  }}\\\"\\n               style=\\\"display: flex-root;flex-grow: 1;width: calc(100% - 30px); \\\"> <!--  text-overflow: ellipsis;overflow: hidden;white-space: nowrap; -->\\n               {{group.name}} <span title=\\\"Annotation Count\\\">({{group.annotationCount}})</span>\\n            </a>\\n            \\n             <!-- <div style=\\\"width: 25px;justify-content: center;display: flex;\\\">\\n             \\t<div style=\\\"border: 1px solid;border-radius: 50%;height: 25px;width: 25px;line-height: 25px;font-size: 10px;overflow: hidden;padding: 0px;background: #069;color: #fff;text-align: center;\\\"\\n\\t             \\t  ng-click=\\\"$event.stopPropagation()\\\">\\n\\t\\t          \\t <i ng-if=\\\"!group.public\\\"\\n\\t\\t               title=\\\"Count '{{group.annotationCount}}'\\\">\\n\\t\\t               {{group.annotationCount}}\\n\\t\\t             </i>\\n\\t       \\t\\t </div>\\n       \\t\\t </div> -->\\n       \\t\\t \\n       \\t\\t <div class=\\\"share-link-container\\\" \\n               \\tng-click=\\\"$event.stopPropagation()\\\" \\n               \\tng-if=\\\"vm.shouldShowActivityLink(group.id) && !group.fromPublicLink\\\"\\n               \\tstyle=\\\"width: 25px;justify-content: center;display: flex;\\\">\\n            \\t<a class=\\\"share-link\\\"\\n               \\t\\thref=\\\"{{group.links.html}}\\\"\\n               \\t\\ttarget=\\\"_blank\\\"\\n               \\t\\tng-click=\\\"vm.viewGroupActivity()\\\" \\n               \\t\\ttitle=\\\"Open Taskspace in Numici web application\\\">\\n             \\t\\t<span class=\\\"h-icon-arrow-up-right list-icon\\\"></span>\\n            \\t</a>\\n          \\t </div> \\n          </div>\\n          \\n          \\n          \\n          <div ng-if=\\\"vm.showSections(group)\\\" \\n               ng-click=\\\"$event.stopPropagation()\\\"\\n               style=\\\"height: 30px;display: flex;align-items: center; margin: 5px 0px;padding-left: 10px;\\\">\\n          \\t   <select-section auth=\\\"vm.auth\\\" \\n   \\t              group=\\\"group\\\"\\n   \\t              store-section=\\\"vm.focusSection({groupId:groupId,section:section})\\\"\\n   \\t              section=\\\"vm.getSection(group)\\\"\\n   \\t              append-to-body= true\\n   \\t              select-disabled = \\\"vm.disableSection(group)\\\"\\n   \\t              on-new-section=\\\"vm.onNewSection({section:section,group:group})\\\"\\n   \\t              ng-click=\\\"$event.stopPropagation()\\\"\\n   \\t              style=\\\"display: flex;flex-grow: 1;\\\"\\n   \\t              class=\\\"list-section\\\"\\n   \\t              ng-if=\\\"vm.hasSections(group)\\\">\\n          \\t\\t</select-section>\\n          \\t\\t<add-section-btn ng-if=\\\"!vm.hasSections(group) && vm.allowCreateSection()\\\" \\n          \\t\\t\\t\\t\\t\\t auth=\\\"vm.auth\\\" \\n          \\t   \\t\\t\\t\\t\\t group=\\\"group\\\" \\n          \\t   \\t\\t\\t\\t\\t label=\\\"Add Section\\\" \\n          \\t   \\t\\t\\t\\t\\t on-new-section=\\\"vm.onNewSection({section:section,group:group})\\\">\\n          \\t   \\t</add-section-btn>\\n          </div>\\n          \\n          \\n         <!--  <div ng-if=\\\"group.id == vm.groups.focused().id && group.sections.length > 0\\\" \\n               ng-click=\\\"$event.stopPropagation()\\\"\\n               style=\\\"height: 30px;display: flex;align-items: center;\\\">\\n          \\t<a href=\\\"\\\"\\n          \\t   ng-click=\\\"$event.stopPropagation()\\\"\\n          \\t   style=\\\"display: flex;\\n\\t\\t\\t\\t\\t  flex-direction: row;\\n\\t\\t\\t\\t\\t  flex-grow: 1;\\n\\t\\t\\t\\t\\t  align-items: center;\\\">\\n          \\t\\t<section-list auth=\\\"vm.auth\\\" \\n          \\t              group=\\\"group\\\" \\n          \\t              ng-click=\\\"$event.stopPropagation()\\\"\\n          \\t              style=\\\"display: flex;flex-grow: 1;\\\">\\n          \\t\\t</section-list>\\n          \\t</a>\\n          </div> -->\\n          \\n          \\n        </div>\\n      </div>\\n    </li>\\n  </ul>\\n</div>\\n\";\n",
    "module.exports = \"\\n<a class=\\\"help-panel-content__link\\\"\\n   href=\\\"mailto:support@numici.com?subject=Numici%20support&amp;body=Version:%20{{ vm.version }}%0D%0AUser%20Agent:%20{{vm.userAgent}}%0D%0AURL:%20{{ vm.url }}%0D%0APDF%20fingerprint:%20{{ vm.documentFingerprint ? vm.documentFingerprint : '-' }}%0D%0AUsername:%20{{ vm.auth.username ? vm.auth.username : '-' }}%0D%0ADate:%20{{ vm.dateTime | date:'dd MMM yyyy HH:mm:ss Z' }} \\\"\\n>Send us an email</a>\\n\";\n",
    "module.exports = \"<div class=\\\"help-panel\\\">\\n  <i class=\\\"close h-icon-close\\\"\\n    role=\\\"button\\\"\\n    title=\\\"Close\\\"\\n    ng-click=\\\"vm.onClose()\\\"></i>\\n  <header class=\\\"help-panel-title\\\">\\n    Help\\n  </header>\\n  <div class=\\\"help-panel-content\\\">\\n    {{ vm.helpContent }}\\n  </div>\\n</div>\\n\";\n",
    "module.exports = \"<div class=\\\"app-content-wrapper js-thread-list-scroll-root\\\" h-branding=\\\"appBackgroundColor\\\">\\n  <top-bar\\n    auth=\\\"vm.auth\\\"\\n    on-login=\\\"vm.login()\\\"\\n    on-sign-up=\\\"vm.signUp()\\\"\\n    on-logout=\\\"vm.logout()\\\"\\n    on-share-page=\\\"vm.share()\\\"\\n    on-move-webresource=\\\"vm.moveDocToTaskspace()\\\"\\n    on-group-info=\\\"vm.groupInfo()\\\"\\n    on-view-ts-digest=\\\"vm.viewTsDigest()\\\" \\n    on-new-group=\\\"vm.createGroup()\\\"\\n    on-show-about-panel=\\\"vm.showAboutPanel()\\\"\\n    on-show-help-panel=\\\"vm.showHelpPanel()\\\" \\n    on-show-signup-btn=\\\"vm.showSignupBtn()\\\" \\n    is-sidebar=\\\"::vm.isSidebar\\\"\\n    pending-update-count=\\\"vm.countPendingUpdates()\\\"\\n    on-apply-pending-updates=\\\"vm.applyPendingUpdates()\\\"\\n    search-controller=\\\"vm.search\\\"\\n    sort-key=\\\"vm.sortKey()\\\"\\n    sort-keys-available=\\\"vm.sortKeysAvailable()\\\"\\n    on-change-sort-key=\\\"vm.setSortKey(sortKey)\\\">\\n  </top-bar>\\n\\n  <div class=\\\"content\\\">\\n    <div ng-show=\\\"vm.addToTsLoader\\\" style=\\\"height: 30px;text-align: center;background: #o69;color: #fff;line-height: 30px;margin-bottom: 10px;\\\">\\n    \\tSaving ...\\n    </div>\\n    <sidebar-tutorial ng-if=\\\"vm.isSidebar\\\"></sidebar-tutorial>\\n    <schedule-notification-msg\\n       ng-if=\\\"vm.maintenanceDialog.visible\\\"\\n       on-close=\\\"vm.maintenanceDialog.visible = false\\\"\\n       maintenance-schedule=\\\"vm.maintanencedata\\\"\\n       logout=\\\"vm.logout()\\\"\\n       on-login=\\\"vm.login()\\\"\\n       auth=\\\"vm.auth\\\">\\n    </schedule-notification-msg>\\n    <cookie-error-dialog \\n       ng-if=\\\"vm.cookieDialog.visible\\\"\\n       on-close=\\\"vm.cookieDialog.visible = false\\\"\\n       auth=\\\"vm.auth\\\">\\n    </cookie-error-dialog>\\n    <share-dialog\\n      ng-if=\\\"vm.shareDialog.visible\\\"\\n      show-ext-share=\\\"vm.showExtShare()\\\"\\n      on-close=\\\"vm.shareDialog.visible = false\\\">\\n    </share-dialog>\\n   <!--  <tag-info-dialog\\n      ng-if=\\\"vm.tagInfoDialog.visible\\\"\\n      on-close=\\\"vm.tagInfoDialog.visible = false\\\">\\n    </tag-info-dialog> -->\\n    <group-info-dialog\\n      style=\\\"position: fixed;\\n     \\t\\t height: calc(100% - 35px);\\n    \\t\\t width: 100%;\\n    \\t\\t top: 35px;\\n    \\t\\t bottom: 0px;\\n    \\t  \\t right: 0px;\\n    \\t\\t left: 0px;\\n    \\t\\t z-index:1;\\\"\\n      ng-if=\\\"vm.groupInfoDialog.visible\\\"\\n      on-close=\\\"vm.groupInfoDialog.visible = false\\\">\\n    </group-info-dialog>\\n    <create-group-dialog\\n      ng-if=\\\"vm.createGroupDialog.visible\\\"\\n      on-close=\\\"vm.createGroupDialog.visible = false\\\">\\n    </create-group-dialog>\\n    <about-panel ng-if=\\\"vm.aboutPanel.visible\\\"\\n      on-close=\\\"vm.aboutPanel.visible = false\\\"\\n      auth=\\\"vm.auth\\\">\\n    </about-panel>\\n    <help-panel ng-if=\\\"vm.helpPanel.visible\\\"\\n      on-close=\\\"vm.helpPanel.visible = false\\\"\\n      auth=\\\"vm.auth\\\">\\n    </help-panel>\\n    <main ng-view=\\\"\\\"></main>\\n  </div>\\n</div>\\n\";\n",
    "module.exports = \"<!-- message to display to loggedout users when they visit direct linked annotations -->\\n<li class=\\\"loggedout-message\\\">\\n  <span>\\n    This is a public annotation created with Hypothesis.\\n    <br>\\n    To reply or make your own annotations on this document,\\n    <a class=\\\"loggedout-message__link\\\" href=\\\"{{vm.serviceUrl('signup')}}\\\" target=\\\"_blank\\\">create a free account</a>\\n    or\\n    <a class=\\\"loggedout-message__link\\\" href=\\\"\\\" ng-click=\\\"vm.onLogin()\\\">log in</a>.\\n  </span>\\n  <span class=\\\"loggedout-message-logo\\\">\\n    <a href=\\\"https://www.numici.com\\\">\\n      <i class=\\\"h-icon-hypothesis-logo loggedout-message-logo__icon\\\"></i>\\n    </a>\\n  </span>\\n</li>\\n\";\n",
    "module.exports = \"<!-- New controls -->\\n<span class=\\\"login-text\\\"\\n      ng-if=\\\"vm.newStyle && vm.auth.status === 'unknown'\\\"></span>\\n<span class=\\\"login-text\\\"\\n      ng-if=\\\"vm.newStyle && vm.auth.status === 'logged-out'\\\">\\n <!--  <a href=\\\"\\\" ng-click=\\\"vm.onSignUp()\\\" target=\\\"_blank\\\" h-branding=\\\"accentColor\\\">Sign up</a>\\n  / --> <a href=\\\"\\\" ng-click=\\\"vm.onLogin()\\\" h-branding=\\\"accentColor\\\">Log in</a>\\n</span>\\n<div ng-if=\\\"vm.newStyle\\\"\\n     class=\\\"pull-right login-control-menu\\\"\\n     dropdown\\n     keyboard-nav>\\n  <a role=\\\"button\\\"\\n     class=\\\"top-bar__btn\\\"\\n     data-toggle=\\\"dropdown\\\"\\n     dropdown-toggle\\n     title=\\\"{{vm.auth.username}}\\\">\\n    <i class=\\\"h-icon-account\\\" ng-if=\\\"vm.auth.status === 'logged-in'\\\"></i><!--\\n    !--><i class=\\\"h-icon-arrow-drop-down top-bar__dropdown-arrow\\\"></i>\\n  </a>\\n  <ul class=\\\"dropdown-menu pull-right\\\" role=\\\"menu\\\">\\n    <li class=\\\"dropdown-menu__row\\\" ng-if=\\\"vm.auth.status === 'logged-in'\\\">\\n      <a class=\\\"dropdown-menu__link dropdown-menu__link--disabled js-user-profile-btn is-disabled\\\">\\n        {{vm.auth.displayName}}\\n      </a>\\n     <!--  <span ng-if=\\\"!vm.shouldEnableProfileButton()\\\"\\n            class=\\\"dropdown-menu__link dropdown-menu__link--disabled js-user-profile-btn is-disabled\\\">\\n        {{vm.auth.displayName}}</span>\\n      <a ng-if=\\\"vm.shouldEnableProfileButton()\\\"\\n         ng-click=\\\"vm.showProfile()\\\"\\n         class=\\\"dropdown-menu__link js-user-profile-btn is-enabled\\\"\\n         title=\\\"View all your annotations\\\"\\n         target=\\\"_blank\\\">{{vm.auth.displayName}}</a> -->\\n    </li>\\n   <!--  <li class=\\\"dropdown-menu__row\\\" ng-if=\\\"vm.auth.status === 'logged-in' && !vm.isThirdPartyUser()\\\">\\n      <a class=\\\"dropdown-menu__link js-account-settings-btn\\\" href=\\\"{{vm.serviceUrl('account.settings')}}\\\" target=\\\"_blank\\\">Account settings</a>\\n    </li> -->\\n    <li class=\\\"dropdown-menu__row\\\">\\n      <a class=\\\"dropdown-menu__link js-about-btn\\\" ng-click=\\\"vm.onShowAboutPanel()\\\">About</a>\\n    </li>\\n    \\n    <li class=\\\"dropdown-menu__row\\\" ng-if=\\\"vm.shouldShowTimeLogButton()\\\">\\n      <a class=\\\"dropdown-menu__link\\\" href=\\\"\\\" ng-click=\\\"vm.showTimeLog()\\\">Time Log</a>\\n    </li>\\n    \\n    <li class=\\\"dropdown-menu__row\\\" ng-if=\\\"vm.shouldShowLogOutButton()\\\">\\n      <a class=\\\"dropdown-menu__link dropdown-menu__link--subtle js-log-out-btn\\\"\\n         href=\\\"\\\" ng-click=\\\"vm.onLogout()\\\">Log out</a>\\n    </li>\\n  </ul>\\n</div>\\n\\n<!-- Old controls -->\\n<span ng-if=\\\"!vm.newStyle && vm.auth.status === 'unknown'\\\"></span>\\n<span ng-if=\\\"!vm.newStyle && vm.auth.status === 'logged-out'\\\">\\n  <a href=\\\"\\\" ng-click=\\\"vm.onLogin()\\\">Log in</a>\\n</span>\\n<div ng-if=\\\"!vm.newStyle\\\"\\n     class=\\\"pull-right login-control-menu\\\"\\n     dropdown\\n     keyboard-nav>\\n  <span role=\\\"button\\\" data-toggle=\\\"dropdown\\\" dropdown-toggle>\\n    {{vm.auth.username}}<!--\\n    --><span class=\\\"provider\\\"\\n             ng-if=\\\"vm.auth.provider\\\">/{{vm.auth.provider}}</span><!--\\n    --><i class=\\\"h-icon-arrow-drop-down\\\"></i>\\n  </span>\\n  <ul class=\\\"dropdown-menu pull-right\\\" role=\\\"menu\\\">\\n    <li class=\\\"dropdown-menu__row\\\" ng-if=\\\"vm.auth.status === 'logged-in'\\\">\\n      <a class=\\\"dropdown-menu__link\\\" href=\\\"{{vm.serviceUrl('account.settings')}}\\\" target=\\\"_blank\\\">Account</a>\\n    </li>\\n    <li class=\\\"dropdown-menu__row\\\">\\n      <a class=\\\"dropdown-menu__link\\\" ng-click=\\\"vm.onShowAboutPanel()\\\">About</a>\\n    </li>\\n    <li class=\\\"dropdown-menu__row\\\" ng-if=\\\"vm.auth.status === 'logged-in'\\\">\\n      <a class=\\\"dropdown-menu__link\\\" ng-click=\\\"vm.onShowHelpPanel()\\\">Help</a>\\n    </li>\\n    <li class=\\\"dropdown-menu__row\\\" ng-if=\\\"vm.auth.status === 'logged-in'\\\">\\n      <a class=\\\"dropdown-menu__link\\\" href=\\\"{{vm.serviceUrl('user',{user: vm.auth.username})}}\\\"\\n         target=\\\"_blank\\\">My Annotations</a>\\n    </li>\\n    <li class=\\\"dropdown-menu__row\\\" ng-if=\\\"vm.auth.status === 'logged-in'\\\">\\n      <a class=\\\"dropdown-menu__link\\\" href=\\\"\\\" ng-click=\\\"vm.onLogout()\\\">Log out</a>\\n    </li>\\n  </ul>\\n</div>\\n\";\n",
    "module.exports = \"<div ng-if=\\\"!vm.readOnly\\\" class=\\\"markdown-tools\\\" ng-class=\\\"vm.preview && 'disable'\\\">\\n  <span class=\\\"markdown-preview-toggle\\\">\\n    <a class=\\\"markdown-tools-badge h-icon-markdown\\\" href=\\\"https://help.github.com/articles/markdown-basics\\\" title=\\\"Parsed as Markdown\\\" target=\\\"_blank\\\"></a>\\n    <a href=\\\"\\\" class=\\\"markdown-tools-toggle\\\" ng-click=\\\"vm.togglePreview()\\\"\\n      ng-show=\\\"!vm.preview\\\">Preview</a>\\n    <a href=\\\"\\\" class=\\\"markdown-tools-toggle\\\" ng-click=\\\"vm.togglePreview()\\\"\\n      ng-show=\\\"vm.preview\\\">Write</a>\\n  </span>\\n  <i class=\\\"h-icon-format-bold markdown-tools-button\\\" ng-click=\\\"vm.insertBold()\\\" title=\\\"Embolden text\\\"></i>\\n  <i class=\\\"h-icon-format-italic markdown-tools-button\\\" ng-click=\\\"vm.insertItalic()\\\" title=\\\"Italicize text\\\"></i>\\n  <i class=\\\"h-icon-format-quote markdown-tools-button\\\" ng-click=\\\"vm.insertQuote()\\\" title=\\\"Quote text\\\"></i>\\n  <i class=\\\"h-icon-insert-link markdown-tools-button\\\" ng-click=\\\"vm.insertLink()\\\" title=\\\"Insert link\\\"></i>\\n  <i class=\\\"h-icon-insert-photo markdown-tools-button\\\" ng-click=\\\"vm.insertIMG()\\\" title=\\\"Insert image\\\"></i>\\n  <i class=\\\"h-icon-functions markdown-tools-button\\\" ng-click=\\\"vm.insertMath()\\\" title=\\\"Insert mathematical notation (LaTex is supported)\\\"></i>\\n  <i class=\\\"h-icon-format-list-numbered markdown-tools-button\\\" ng-click=\\\"vm.insertNumList()\\\" title=\\\"Insert numbered list\\\"></i>\\n  <i class=\\\"h-icon-format-list-bulleted markdown-tools-button\\\" ng-click=\\\"vm.insertList()\\\" title=\\\"Insert list\\\"></i>\\n</div>\\n<textarea class=\\\"form-input form-textarea js-markdown-input\\\"\\n          ng-show=\\\"vm.showEditor()\\\"\\n          ng-click=\\\"$event.stopPropagation()\\\"\\n          h-branding=\\\"annotationFontFamily\\\"></textarea>\\n<div class=\\\"markdown-body js-markdown-preview\\\"\\n     ng-class=\\\"(vm.preview && 'markdown-preview') || vm.customTextClass\\\"\\n     ng-dblclick=\\\"vm.togglePreview()\\\"\\n     ng-show=\\\"!vm.showEditor()\\\"\\n     h-branding=\\\"annotationFontFamily\\\"></div>\\n\";\n",
    "module.exports = \"<div class=\\\"moderation-banner\\\"\\n     ng-if=\\\"vm.isHiddenOrFlagged()\\\"\\n     ng-class=\\\"{'is-flagged': vm.flagCount() > 0,\\n                'is-hidden': vm.isHidden(),\\n                'is-reply': vm.isReply()}\\\">\\n  <span ng-if=\\\"vm.flagCount() > 0 && !vm.isHidden()\\\">\\n    Flagged for review x{{ vm.flagCount() }}\\n  </span>\\n  <span ng-if=\\\"vm.isHidden()\\\">\\n    Hidden from users. Flagged x{{ vm.flagCount() }}\\n  </span>\\n  <span class=\\\"u-stretch\\\"></span>\\n  <button ng-if=\\\"!vm.isHidden()\\\"\\n          ng-click=\\\"vm.hideAnnotation()\\\"\\n          title=\\\"Hide this annotation from non-moderators\\\">\\n    Hide\\n  </button>\\n  <button ng-if=\\\"vm.isHidden()\\\"\\n          ng-click=\\\"vm.unhideAnnotation()\\\"\\n          title=\\\"Make this annotation visible to everyone\\\">\\n    Unhide\\n  </button>\\n</div>\\n\";\n",
    "module.exports = \"<form ng-submit=\\\"vm.ok()\\\">\\r\\n\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<h4 class=\\\"modal-title\\\">{{vm.modalOptions.headerText}}</h4>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-body\\\" style=\\\"font-size: 13px;color: #000;\\\">\\r\\n\\t\\t<div class=\\\"row\\\" style=\\\"padding: 10px 0px;margin-bottom: 5px;\\\" ng-if=\\\"vm.link\\\">The Document is Shared as a\\r\\n\\t\\t\\tlink. On moving the Document the link would be deleted permanently\\r\\n\\t\\t\\t(shared link will not be accessible)</div>\\r\\n<!-- \\t\\t<div class=\\\"row\\\" ng-if=\\\"vm.count\\\">\\r\\n\\t\\t\\t<div class=\\\"row\\\" style=\\\"padding: 10px 0px;\\\">\\r\\n\\t\\t\\t\\t<span>What would you like to do with annotations present in\\r\\n\\t\\t\\t\\t\\tthe document ?</span>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"col-xs-12\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"padding: 10px 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12 col-sm-1\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12 col-sm-11\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"pretty p-default p-thick\\\" style=\\\"margin-bottom: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"radio\\\" name=\\\"actionOnAnnotations\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.moveWithAnnotations.option\\\" value=\\\"move\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>Move annotations (annotations moved along with\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tdocument)</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"padding: 10px 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12 col-sm-1\\\"></div>\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"col-xs-12 col-sm-11\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<div class=\\\"pretty p-default p-thick\\\" style=\\\"margin-bottom: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<input type=\\\"radio\\\" name=\\\"actionOnAnnotations\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"vm.moveWithAnnotations.option\\\" value=\\\"delete\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<div class=\\\"state\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t<label>Delete annotations (annotations will be deleted\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\t\\tand only document is moved)</label>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div> -->\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t<button class=\\\"btn-clean\\\" type=\\\"button\\\" data-ng-click=\\\"vm.cancel()\\\">{{vm.modalOptions.cancel}}</button>\\r\\n\\t\\t<button class=\\\"btn-clean btn-numici\\\" type=\\\"submit\\\">{{vm.modalOptions.ok}}</button>\\r\\n\\t</div>\\r\\n</form>\";\n",
    "module.exports = \"<form ng-submit=\\\"vm.movetToTaskspace()\\\">\\r\\n\\t<div class=\\\"modal-header\\\">\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<h4 class=\\\"modal-title\\\">{{vm.modalOptions.headerText}}</h4>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-body add-to-ts\\\">\\r\\n\\t\\t<div class=\\\"form-group \\\">\\r\\n\\t\\t\\t<div class=\\\"row\\\" data-ng-if=\\\"vm.getDocFrom()\\\">\\r\\n\\t\\t\\t\\t<div style=\\\"font-size: 14px; font-weight: 700;padding:10px 0px;\\\">From : Taskspace / Section</div>\\r\\n\\t\\t\\t\\t<div style=\\\"margin-left: 10px;\\\">\\r\\n\\t\\t\\t\\t\\t<div style=\\\"padding: 5px 10px; background: #eee; color: #000; font-size: 14px; margin-bottom: 10px;margin-right: 40px !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t{{vm.fromGroup.name}}\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div style=\\\"padding: 5px 10px; background: #eee; color: #000; font-size: 14px;margin-left: 30px !important;\\\"\\r\\n\\t\\t\\t\\t\\t\\t data-ng-if=\\\"vm.fromSection.name\\\">\\r\\n\\t\\t\\t\\t\\t\\t {{vm.fromSection.name}}\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div style=\\\"padding: 5px 10px; background: #eee; color: #000; font-size: 14px;margin-left: 30px !important;\\\"\\r\\n\\t\\t\\t\\t\\t\\t data-ng-if=\\\"!vm.fromSection.name\\\">\\r\\n\\t\\t\\t\\t\\t\\t  &lt; No Section  &gt;\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\r\\n\\t\\t<div class=\\\"form-group \\\">\\r\\n\\t\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t\\t<div style=\\\"font-size: 14px; font-weight: 700;padding:10px 0px;\\\">To : Taskspace / Section</div>\\r\\n\\t\\t\\t\\t<div style=\\\"margin-left: 10px;\\\">\\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-right: 40px !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<select-taskspace auth=\\\"vm.auth\\\" group=\\\"vm.group\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"display: flex;flex-grow: 1;\\\"></select-taskspace>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t<div class=\\\"form-group\\\">\\r\\n\\t\\t\\t\\t\\t\\t<div class=\\\"row\\\" style=\\\"margin-left: 30px !important;\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t<select-section \\r\\n\\t\\t\\t\\t\\t\\t\\t    ng-if=\\\"vm.hasSections()\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t    auth=\\\"vm.auth\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t    group=\\\"vm.group\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tsection=\\\"vm.section\\\" append-to-body=false select-disabled=false\\r\\n\\t\\t\\t\\t\\t\\t\\t\\ton-new-section=\\\"vm.onNewSection({section:section,group:group})\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\tstyle=\\\"display: flex;flex-grow: 1;\\\">\\r\\n\\t\\t\\t\\t\\t\\t   </select-section>\\r\\n\\t\\t\\t\\t\\t\\t   <div data-ng-if=\\\"!vm.hasSections() && vm.allowCreateSection()\\\"> \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t<add-section-btn\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tauth=\\\"vm.auth\\\" group=\\\"vm.group\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\tlabel=\\\"{{vm.modalOptions.addSection}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\ton-new-section=\\\"vm.onNewSection({section:section,group:group})\\\">\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t</add-section-btn>\\r\\n\\t\\t\\t\\t\\t\\t  </div>\\r\\n\\t\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-footer\\\">\\r\\n\\t\\t<button class=\\\"btn-clean\\\" type=\\\"button\\\" data-ng-click=\\\"vm.cancel()\\\">{{vm.modalOptions.cancel}}</button>\\r\\n\\r\\n\\t\\t<!-- \\t\\t<button class=\\\"btn-clean btn-numici\\\" \\r\\n\\t\\t  \\t\\ttype=\\\"button\\\"\\r\\n\\t\\t  \\t\\tdata-ng-click=\\\"vm.movetToSection()\\\"\\r\\n\\t\\t\\t\\tdata-ng-disabled=\\\"disableConfirm()\\\">\\r\\n\\t\\t\\t\\t\\t{{vm.modalOptions.moveSecButtonText}}\\r\\n\\t\\t</button> -->\\r\\n\\t\\t<button class=\\\"btn-clean btn-numici\\\" type=\\\"submit\\\"\\r\\n\\t\\t\\tdata-ng-disabled=\\\"vm.disableMove()\\\">{{vm.modalOptions.moveTsButtonText}}</button>\\r\\n\\t</div>\\r\\n</form>\";\n",
    "module.exports = \"<button class=\\\"new-note__create\\\" ng-click=\\\"vm.onNewNoteBtnClick()\\\" h-branding=\\\"ctaBackgroundColor\\\">\\n  + New note\\n</button>\\n\";\n",
    "module.exports = \"\\r\\n<div class=\\\"sheet\\\" ng-show=\\\"vm.auth.status === 'logged-in'\\\">\\r\\n    <section ng-show=\\\"vm.showloader\\\">\\r\\n       <div style=\\\"height: 40px;line-height: 40px;background: #069;text-align: center;color: #fff;\\\">\\r\\n       \\t\\tLoading ...\\r\\n       </div>\\r\\n    </section>\\r\\n\\t<section ng-show=\\\"!vm.showloader\\\">\\r\\n\\t\\t<div class=\\\"row\\\" style=\\\"position: relative;\\\">\\r\\n\\t\\t\\t<div data-ng-if=\\\"vm.pageInfo.imageUrl\\\" \\r\\n\\t\\t\\t     style=\\\"width: 40%;float: left;margin: 1em;margin-left: 0em;margin-bottom: 0px;\\\">\\r\\n\\t\\t\\t\\t<img data-ng-src=\\\"{{vm.pageInfo.imageUrl}}\\\" align=\\\"left\\\"\\r\\n\\t\\t\\t\\t\\t style=\\\"width: 100%; display: block; max-height: 139px; object-fit: cover; object-position: center top;\\\" \\r\\n\\t\\t\\t    />\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div>\\r\\n\\t\\t\\t\\t<h4 style=\\\"display: table; color: #069;\\\"\\r\\n\\t\\t\\t\\t\\tdata-ng-attr-title=\\\"{{vm.pageInfo.title}}\\\">\\r\\n\\t\\t\\t\\t\\t<span style=\\\"display: table-cell; word-break: break-word;\\\">\\r\\n\\t\\t\\t\\t\\t\\t<span ng-bind-html=\\\"vm.pageInfo.title | to_trusted\\\" ></span>\\r\\n\\t\\t\\t\\t\\t</span>\\r\\n\\t\\t\\t\\t</h4>\\r\\n\\t\\t\\t\\t<div data-ng-if=\\\"vm.pageInfo.description\\\">\\r\\n\\t\\t\\t\\t\\t<div ng-bind-html=\\\"vm.pageInfo.description | to_trusted\\\" ></div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div class=\\\"meta-info-publisher\\\"\\r\\n\\t\\t\\t\\t\\tdata-ng-if=\\\"vm.pageInfo.hostName\\\">\\r\\n\\t\\t\\t\\t\\t<span> {{vm.pageInfo.hostName}} </span>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<!-- Tags -->\\r\\n\\t\\t\\t<div ng-if=\\\"vm.webresourceExist\\\">\\r\\n\\t\\t\\t \\r\\n\\t\\t\\t  <tag-info-dialog on-close=\\\"vm.tags.editMode = false\\\"\\r\\n\\t\\t\\t\\t\\t   edit-mode=\\\"vm.tags.editMode\\\">\\r\\n\\t\\t\\t  </tag-info-dialog>\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t</div>\\r\\n            <!-- / Tags -->\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<div \\r\\n\\t\\t\\t   ng-if=\\\"(!vm.webresourceExist || vm.isPdf) && vm.hasEdit\\\"\\r\\n\\t\\t\\t   style=\\\"display: flex;float: right; margin: 5px;position: relative;right: -10px;bottom: -8px;\\\">\\r\\n\\t\\t\\t    <button class=\\\"btn-clean\\\" \\r\\n\\t\\t\\t            ng-click=\\\"vm.addPdfTotaskspace()\\\" \\r\\n\\t\\t\\t            ng-if=\\\"vm.isPdf\\\" \\r\\n\\t\\t\\t            title=\\\"Add Pdf to Taskspace\\\"\\r\\n\\t\\t\\t            style=\\\"border: 1px solid #aaa;margin: 0px 5px;\\\">\\r\\n\\t\\t\\t\\t  Add PDF to Taskspace\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t<button class=\\\"btn-clean\\\" \\r\\n\\t\\t\\t\\t        ng-click=\\\"vm.addTotaskspace()\\\" \\r\\n\\t\\t\\t\\t        ng-if=\\\"!vm.webresourceExist\\\" \\r\\n\\t\\t\\t\\t        title=\\\"Add Web Page to Taskspace\\\"\\r\\n\\t\\t\\t\\t        style=\\\"border: 1px solid #aaa;margin: 0px 5px;\\\">\\r\\n\\t\\t\\t\\t  <i class=\\\"h-icon-add btn-icon\\\"></i>\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t<div ng-if=\\\"vm.webresourceExist && !vm.tags.editMode\\\"\\r\\n\\t\\t\\t     style=\\\"display: flex;float: right; margin: 5px;position: relative;right: -10px;bottom: -8px;\\\">\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t<button class=\\\"btn-clean\\\" \\r\\n\\t\\t\\t\\t        ng-if= \\\"vm.canTag()\\\"\\r\\n\\t\\t\\t\\t        ng-click=\\\"vm.tags.editMode = true\\\" \\r\\n\\t\\t\\t\\t        title=\\\"Tag page\\\"\\r\\n\\t\\t\\t\\t        style=\\\"border: 1px solid #aaa;margin: 0px 5px;\\\">\\r\\n\\t\\t\\t\\t  <i class=\\\"h-icon-price-tag btn-icon\\\"></i>\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t\\t<button class=\\\"btn-clean\\\" \\r\\n\\t\\t\\t\\t        ng-click=\\\"vm.removeFromTaskSpace()\\\" \\r\\n\\t\\t\\t\\t        ng-if=\\\"vm.webresourceExist && vm.hasEdit\\\" \\r\\n\\t\\t\\t\\t        title=\\\"Remove from Taskspace\\\"\\r\\n\\t\\t\\t\\t        style=\\\"border: 1px solid #aaa;margin: 0px 5px;\\\">\\r\\n\\t\\t\\t\\t  <i class=\\\"h-icon-annotation-delete btn-icon\\\"></i>\\r\\n\\t\\t\\t\\t</button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t\\t\\r\\n\\t\\t</div>\\r\\n\\t</section>\\r\\n</div>\";\n",
    "module.exports = \"<div class=\\\"modal-header\\\"><h3 class=\\\"modal-title\\\">Share Article on {{ptsmc.mediaChannel}}</h3></div>\\r\\n<div class=\\\"modal-body digest-settings-modal-content\\\" style=\\\"padding: 15px;font-size: 14px;\\\">\\r\\n\\t<div class=\\\"row\\\">\\r\\n\\t\\t<div class=\\\"row\\\" data-ng-show=\\\"ptsmc.authUsrPreferences.showAPIPostFields\\\">\\r\\n\\t\\t\\t<div class=\\\"form-group row input-wrap\\\" style=\\\"margin: 3px 0px;padding: 0px;line-height: 40px;\\\">\\r\\n\\t\\t\\t\\t<label class=\\\"col-xs-1\\\" \\r\\n\\t\\t\\t\\t\\tstyle=\\\"font-weight: normal;height: 40px;line-height: 40px;padding: 0px;\\\">\\r\\n\\t\\t\\t\\t\\tTitle\\r\\n\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t<div class=\\\"col-xs-11\\\" style=\\\"position: relative;padding-right: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t <input type=\\\"text\\\" \\r\\n\\t\\t\\t\\t\\t \\tclass=\\\"vdvc-input-txt\\\" \\r\\n\\t\\t\\t\\t\\t \\tdata-ng-model=\\\"ptsmc.DigestInfo.title\\\" \\r\\n\\t\\t\\t\\t\\t \\tdata-ng-disabled=\\\"true\\\"\\r\\n\\t\\t\\t\\t\\t\\tstyle=\\\"width: 100%;height: 30px;border: 1px solid #ccc;\\\">\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"row\\\">\\r\\n\\t\\t\\t<div class=\\\"form-group row input-wrap\\\" style=\\\"margin: 3px 0px;padding: 0px;\\\">\\r\\n\\t\\t\\t\\t<label class=\\\"col-xs-1\\\" for=\\\"digestDescription\\\" style=\\\"font-weight: normal;height: 195px;line-height: 196px;padding: 0px;\\\">\\r\\n\\t\\t\\t\\t\\tPost\\r\\n\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t<div class=\\\"col-xs-11\\\" id=\\\"digestDescription\\\" style=\\\"position: relative;padding-right: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t <textarea data-msd-elastic \\r\\n\\t\\t\\t\\t\\t \\tclass=\\\"vdvc-txtA\\\" \\r\\n\\t\\t\\t\\t\\t\\trows=\\\"2\\\" \\r\\n\\t\\t\\t\\t\\t \\tdata-ng-model=\\\"ptsmc.DigestInfo.shareCommentary\\\" \\r\\n\\t\\t\\t\\t\\t \\tdata-ng-keyup=\\\"ptsmc.checkShareCommentaryCharLimit($event)\\\" \\r\\n\\t\\t\\t\\t\\t \\tdata-ng-cut=\\\"ptsmc.checkShareCommentaryCharLimit($event)\\\"  \\r\\n\\t\\t\\t\\t\\t \\tdata-ng-disabled=\\\"ptsmc.article.length > 0\\\"\\r\\n\\t\\t\\t\\t\\t \\tstyle=\\\"width: 100%;border: 1px solid #ddd;overflow: hidden;overflow-wrap: break-word;resize: none;min-height: 195px;max-height: 196px;overflow-y: auto;line-height: 1.5em;font-size: 14px;\\\">\\r\\n\\t\\t\\t\\t\\t </textarea>\\r\\n\\t\\t\\t\\t\\t <div class=\\\"col-xs-12\\\" \\r\\n\\t\\t\\t\\t\\t \\tdata-ng-bind-html=\\\"ptsmc.NumiciMktMsg\\\" \\r\\n\\t\\t\\t\\t\\t \\tstyle=\\\"padding: 0px;margin: 0px 0px 10px 15px;\\\"></div>\\r\\n\\t\\t\\t\\t\\t <div class=\\\"col-xs-12\\\" data-ng-show=\\\"ptsmc.shareCommentaryTextRemaining < 0\\\" style=\\\"padding: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t \\t<div class=\\\"col-xs-10\\\" \\r\\n\\t\\t\\t\\t\\t \\t\\tstyle=\\\"padding-left: 0px;color: #a94442;\\\">\\r\\n\\t\\t\\t\\t\\t \\t\\tYou have exceeded the maximum character limit ({{ptsmc.shareCommentaryMaxText}})\\r\\n\\t\\t\\t\\t\\t \\t</div>\\r\\n\\t\\t\\t\\t\\t \\t<div class=\\\"col-xs-2\\\" \\r\\n\\t\\t\\t\\t\\t \\t\\tstyle=\\\"padding: 0px;color: #a94442;float: right;text-align: right;\\\">\\r\\n\\t\\t\\t\\t\\t \\t\\t{{ptsmc.shareCommentaryTextRemaining}}\\r\\n\\t\\t\\t\\t\\t \\t</div>\\r\\n\\t\\t\\t\\t\\t </div>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"col-xs-12\\\" \\r\\n\\t\\t\\tdata-ng-show=\\\"ptsmc.authUsrPreferences.showAPIPostFields\\\"\\r\\n\\t\\t\\tstyle=\\\"height: 40px;padding: 0px;\\\">\\r\\n\\t\\t\\t<div class=\\\"form-group row input-wrap\\\" style=\\\"margin: 8px 0px 0px 0px;padding: 0px;line-height: 30px;\\\">\\r\\n\\t\\t\\t\\t<label class=\\\"col-xs-1\\\" for=\\\"sortField\\\" style=\\\"font-weight: normal;height: 30px;line-height: 30px;padding: 0px;\\\">\\r\\n\\t\\t\\t\\t\\tVisibility\\r\\n\\t\\t\\t\\t</label>\\r\\n\\t\\t\\t\\t<div id=\\\"sortField\\\" class=\\\"col-xs-6\\\" style=\\\"position: relative;padding-right: 0px;\\\">\\r\\n\\t\\t\\t\\t\\t<data-ui-select  \\r\\n\\t\\t\\t\\t\\t\\t\\tclass=\\\"search-ticker-ui-select\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tdata-ng-model=\\\"ptsmc.visibilityOption\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tdata-search-enabled=\\\"false\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\tdata-ng-disabled=\\\"ptsmc.article.length > 0\\\">\\r\\n\\t\\t\\t\\t\\t\\t<data-ui-select-match data-placeholder=\\\"VISIBILITY\\\">\\r\\n\\t\\t\\t\\t    \\t\\t<span>\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t{{$select.selected.label}}\\r\\n\\t\\t\\t\\t    \\t\\t</span>\\r\\n\\t\\t\\t\\t    \\t</data-ui-select-match>\\r\\n\\t\\t\\t\\t    \\t<data-ui-select-choices\\r\\n\\t\\t\\t\\t    \\t\\tdata-repeat=\\\"visibilityOption in ptsmc.visibilityOptionList | filter:$select.search track by $index\\\" position='up'>\\r\\n\\t\\t\\t\\t\\t      \\t<div class=\\\"tickers_choices_list\\\">\\r\\n\\t\\t\\t\\t\\t      \\t\\t<div class=\\\"tcl_cik\\\" \\r\\n\\t\\t\\t\\t\\t      \\t\\t\\tdata-ng-bind-html=\\\"visibilityOption.label | highlight: $select.search\\\">\\r\\n\\t\\t\\t\\t\\t      \\t\\t</div>\\r\\n\\t\\t\\t\\t\\t      \\t</div>\\r\\n\\t\\t\\t\\t\\t    </data-ui-select-choices>\\r\\n\\t\\t\\t\\t\\t</data-ui-select>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n<div class=\\\"modal-footer digest-settings-modal-content\\\" style=\\\"padding: 10px 15px;border-top: 3px solid rgb(204, 204, 204);\\\">\\r\\n\\t<div class=\\\"row\\\"\\r\\n\\t\\tdata-ng-show=\\\"!ptsmc.article\\\">\\r\\n\\t    <button type=\\\"button\\\" class=\\\"btn-clean\\\" data-ng-click=\\\"ptsmc.cancel()\\\">CANCEL</button>\\r\\n\\t\\t<button type=\\\"button\\\" \\r\\n\\t\\t\\tclass=\\\"btn-clean btn-numici\\\" \\r\\n\\t\\t\\tdata-ng-click=\\\"ptsmc.postSocialMediaArticle()\\\" \\r\\n\\t\\t\\tdata-ng-disabled=\\\"ptsmc.DigestInfo.digestName.length == 0 || ptsmc.DigestInfo.digestDescription.length == 0 || ptsmc.shareCommentaryTextRemaining < 0\\\">\\r\\n\\t\\t\\tPOST\\r\\n\\t\\t</button>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"row\\\" data-ng-show=\\\"ptsmc.article.length > 0\\\">\\r\\n\\t\\t<div class=\\\"col-xs-8\\\"\\r\\n\\t\\t\\tstyle=\\\"padding: 5px;border: 2px solid #ccc;text-align: left;\\\">\\r\\n\\t\\t\\t<div data-ng-show=\\\"ptsmc.article.length > 0\\\" class=\\\"col-xs-12\\\" style=\\\"padding: 0px;\\\">\\r\\n\\t\\t\\t\\t<b>{{ptsmc.message}}</b> - <a data-ng-href=\\\"{{::ptsmc.article}}\\\" target=\\\"_blank\\\">View Post</a>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t\\t<div class=\\\"col-xs-4\\\" style=\\\"height: 31px;line-height: 31px;padding-right: 0px;\\\">\\r\\n\\t\\t    <button type=\\\"button\\\" class=\\\"btn-clean\\\" data-ng-click=\\\"ptsmc.cancel()\\\">CLOSE</button>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\";\n",
    "module.exports = \"\\n\\n<!--<div dropdown=\\\"\\\" class=\\\"publish-annotation-btn__btn\\\" is-open=\\\"vm.showDropdown\\\" keyboard-nav>\\n  <dropdown-menu-btn\\n    label=\\\"'Post to ' + vm.publishDestination()\\\"\\n    on-click=\\\"vm.onSave()\\\"\\n    on-toggle-dropdown=\\\"vm.showDropdown = !vm.showDropdown\\\"\\n    title=\\\"Publish this annotation to {{vm.publishDestination()}}\\\"\\n    dropdown-menu-label=\\\"Change annotation sharing setting\\\"\\n    is-disabled=\\\"!vm.canPost\\\">\\n  </dropdown-menu-btn>\\n <div class=\\\"publish-annotation-btn__dropdown-container\\\">\\n    <ul class=\\\"dropdown-menu pull-center group-list publish-annotation-btn__dropdown-menu\\\" role=\\\"menu\\\">\\n      <li class=\\\"dropdown-menu__row\\\" ng-click=\\\"vm.setPrivacy('shared')\\\">\\n        <div class=\\\"group-item\\\">\\n          <div class=\\\"group-icon-container\\\">\\n            <i class=\\\"small\\\" ng-class=\\\"'h-icon-' + vm.groupCategory()\\\"></i>\\n          </div>\\n          <div class=\\\"group-details\\\">\\n            <div class=\\\"group-name-container\\\">\\n              <a href=\\\"\\\" class=\\\"group-name-link\\\" ng-bind=\\\"vm.group.name\\\"></a>\\n            </div>\\n          </div>\\n        </div>\\n      </li>\\n      <li class=\\\"dropdown-menu__row\\\" ng-click=\\\"vm.setPrivacy('private')\\\">\\n        <div class=\\\"group-item\\\">\\n          <div class=\\\"group-icon-container\\\">\\n            <i class=\\\"small h-icon-lock\\\"></i>\\n          </div>\\n          <div class=\\\"group-details\\\">\\n            <div class=\\\"group-name-container\\\">\\n              <a href=\\\"\\\" class=\\\"group-name-link\\\" ng-bind=\\\"vm.privateLabel\\\"></a>\\n            </div>\\n          </div>\\n        </div>\\n      </li>\\n    </ul>\\n  </div> \\n</div>-->\\n\\n\\n<div style=\\\"display: flex;\\n    flex-direction: column;\\n    flex-flow: column;\\\">\\n\\t<div style=\\\"height: 30px;\\\" ng-show=\\\"vm.isScreenshot && vm.isNew\\\">\\n\\t<div class=\\\"pretty p-default p-thick\\\">\\n\\t\\t<input type=\\\"checkbox\\\" data-ng-model=\\\"vm.extractTextInsideScreenshot\\\">\\n\\t\\t<div class=\\\"state\\\" style=\\\"color: #000;\\\">\\n\\t\\t\\t<label>Extract text inside screenshot</label>\\n\\t\\t</div>\\n\\t</div>\\n</div>\\n<div style=\\\"display: flex;flex-direction: row;\\\">\\n\\t<button class=\\\"dropdown-menu-btn__btn\\\" ng-click=\\\"vm.onSave()\\\"\\n\\t\\ttitle=\\\"Save this annotation to {{vm.publishDestination()}}\\\"\\n\\t\\tng-disabled=\\\"!vm.canPost\\\"\\n\\t\\tstyle=\\\"padding: 8px 12px; text-align: center; height: inherit; width: inherit;\\\">\\n\\t\\tSave\\n\\t</button>\\n\\n\\n\\t<button class=\\\"dropdown-menu-btn__btn\\\"\\n\\t\\tng-click=\\\"vm.onSaveWithoutComment()\\\"\\n\\t\\ttitle=\\\"Save this annotation to {{vm.publishDestination()}}\\\"\\n\\t\\tng-if=\\\"vm.isScreenshot && vm.isNew && !vm.canPost\\\"\\n\\t\\tstyle=\\\"padding: 8px 12px; text-align: center; height: inherit; width: inherit;margin-left: 10px;\\\">\\n\\t\\tSave without comment\\n\\t</button>\\n\\n\\t<button class=\\\"publish-annotation-cancel-btn btn-clean\\\"\\n\\t\\tng-click=\\\"vm.onCancel()\\\" title=\\\"Cancel changes to this annotation\\\">\\n\\t\\t<i class=\\\"h-icon-cancel-outline publish-annotation-cancel-btn__icon btn-icon\\\"></i>\\n\\t\\tCancel\\n\\t</button>\\n\\n</div>\\n</div>\\n \";\n",
    "module.exports = \"<div class=\\\"sheet ts-info\\\">\\r\\n\\t<i class=\\\"close h-icon-close\\\" role=\\\"button\\\" title=\\\"Close\\\"\\r\\n\\t\\tng-show=\\\"vm.maintenanceSchedule.notification\\\" ng-click=\\\"vm.onClose()\\\"></i>\\r\\n\\t<div class=\\\"form-vertical\\\">\\r\\n\\t\\t<ul class=\\\"nav nav-tabs\\\">\\r\\n\\t\\t\\t<li data-ng-class=\\\"{ active: vm.isSet(1) }\\\"><a\\r\\n\\t\\t\\t\\tdata-ng-click=\\\"vm.setTab(1)\\\">{{vm.title}}</a></li>\\r\\n\\t\\t</ul>\\r\\n\\t\\t<div class=\\\"tab-content\\\" data-ng-show=\\\"vm.isSet(1)\\\"\\r\\n\\t\\t\\tstyle=\\\"display: table;\\\">\\r\\n\\t\\t\\t<div\\r\\n\\t\\t\\t\\tstyle=\\\"min-height: 180px; background: yellow; padding: 25px 15px; font-size: 14px; color: red; word-break: break-word; display: table-cell; vertical-align: middle;\\\"\\r\\n\\t\\t\\t\\tdata-cust-compile=\\\"vm.text\\\"></div>\\r\\n\\t\\t\\t<div data-ng-if=\\\"vm.shutdownNtfMsg\\\" style=\\\"height:40px;margin: 10px;\\\">\\r\\n\\t\\t\\t   <button class=\\\"btn btn-clean\\\"\\r\\n\\t\\t\\t      style=\\\"float: right;\\\"\\r\\n\\t\\t\\t      data-ng-click=\\\"vm.onLogin()\\\">\\r\\n\\t\\t\\t      ok\\r\\n\\t\\t\\t    </button>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\";\n",
    "module.exports = \"<form class=\\\"simple-search-form\\\"\\n      name=\\\"searchForm\\\"\\n      ng-class=\\\"!vm.query && 'simple-search-inactive'\\\">\\n  <input class=\\\"simple-search-input\\\"\\n         type=\\\"text\\\"\\n         name=\\\"query\\\"\\n         placeholder=\\\"{{vm.loading && 'Loading' || 'Search'}}\\\"\\n         ng-disabled=\\\"vm.loading\\\"\\n         ng-class=\\\"vm.inputClasses()\\\"/>\\n  <button type=\\\"button\\\" class=\\\"simple-search-icon top-bar__btn\\\" ng-hide=\\\"vm.loading\\\">\\n    <i class=\\\"h-icon-search\\\"></i>\\n  </button>\\n  <button type=\\\"button\\\" class=\\\"simple-search-icon btn btn-clean\\\" ng-show=\\\"vm.loading\\\" disabled>\\n    <span class=\\\"btn-icon\\\"><span class=\\\"spinner\\\"></span></span>\\n  </button>\\n</form>\\n\";\n",
    "module.exports = \"<div class=\\\"search-status-bar\\\" ng-if=\\\"vm.filterActive\\\">\\n  <button class=\\\"primary-action-btn primary-action-btn--short\\\"\\n          ng-click=\\\"vm.onClearSelection()\\\"\\n          title=\\\"Clear the search filter and show all annotations\\\"\\n  >\\n    <i class=\\\"primary-action-btn__icon h-icon-close\\\"></i> Clear search\\n  </button>\\n  <span ng-pluralize\\n           count=\\\"vm.filterMatchCount\\\"\\n           when=\\\"{'0': 'No results for {{vm.searchQuery}}',\\n                  'one': '1 search result',\\n                  'other': '{} search results'}\\\"></span>\\n</div>\\n<div class=\\\"search-status-bar\\\" ng-if=\\\"!vm.filterActive && vm.selectionCount > 0\\\">\\n  <button class=\\\"primary-action-btn primary-action-btn--short\\\"\\n          ng-click=\\\"vm.onClearSelection()\\\"\\n          title=\\\"Clear the selection and show all annotations\\\">\\n    <span ng-if=\\\"!vm.selectedTab || vm.selectedTab === vm.TAB_ORPHANS\\\">\\n      Show all annotations and notes\\n    </span>\\n    <span ng-if=\\\"vm.selectedTab === vm.TAB_ANNOTATIONS\\\">\\n      Show all annotations\\n      <span ng-if=\\\"vm.totalAnnotations > 1\\\">\\n        ({{vm.totalAnnotations}})\\n      </span>\\n    </span>\\n    <span ng-if=\\\"vm.selectedTab === vm.TAB_NOTES\\\">\\n      Show all notes\\n      <span ng-if=\\\"vm.totalNotes > 1\\\">\\n        ({{vm.totalNotes}})\\n      </span>\\n    </span>\\n  </button>\\n\\n</div>\\n\";\n",
    "module.exports = \"<div style=\\\"display: flex;\\\">\\r\\n\\t<div class=\\\"pull-none\\\"\\r\\n     \\t dropdown\\r\\n     \\t keyboard-nav>\\r\\n\\t  <div class=\\\"dropdown-toggle\\\"\\r\\n\\t        dropdown-toggle\\r\\n\\t        data-toggle=\\\"dropdown\\\"\\r\\n\\t        role=\\\"button\\\"\\r\\n\\t        title=\\\"Change the selected Section\\\">\\r\\n\\t    \\t<div class=\\\"group-list-label__label\\\" \\r\\n\\t    \\t\\ttitle=\\\"{{ vm.groups.getfocusedSection(vm.group.id).name  }}\\\"\\r\\n\\t    \\t\\tng-if=\\\"vm.groups.getfocusedSection(vm.group.id).id\\\">\\r\\n\\t    \\t\\t{{vm.groups.getfocusedSection(vm.group.id).name}}\\r\\n\\t    \\t</div>\\r\\n\\t    \\t<div class=\\\"group-list-label__label\\\" \\r\\n\\t    \\t    ng-if=\\\"!vm.groups.getfocusedSection(vm.group.id).id\\\"\\r\\n\\t    \\t\\ttitle=\\\"Select Section\\\"\\r\\n\\t    \\t\\tstyle=\\\"color: #d22d2d;\\\">\\r\\n\\t    \\t\\tSelect Section\\r\\n\\t    \\t</div><!-- nospace\\r\\n\\t      !--><i class=\\\"h-icon-arrow-drop-down\\\"></i>\\r\\n\\t  </div>\\r\\n\\t  <div class=\\\"dropdown-menu__top-arrow\\\"></div>\\r\\n\\t  <ul class=\\\"dropdown-menu pull-none\\\" role=\\\"menu\\\" style=\\\"padding-top: 0px;\\\">\\r\\n\\t    <li class=\\\"dropdown-menu__row dropdown-menu__row--unpadded \\\"\\r\\n\\t        ng-repeat=\\\"section in vm.group.sections | orderBy:['name'] track by section.id \\\">\\r\\n\\t      <div ng-class=\\\"{'group-item': true, selected: section.id == vm.groups.getfocusedSection(vm.group.id).id}\\\"\\r\\n\\t           ng-click=\\\"vm.focusSection(section)\\\">\\r\\n\\t        <!-- the group name and share link !-->\\r\\n\\t        <div class=\\\"group-details\\\">\\r\\n\\t          <div class=\\\"group-name-container\\\">\\r\\n\\t            <a class=\\\"group-name-link\\\"\\r\\n\\t               href=\\\"\\\"\\r\\n\\t               title=\\\"{{ section.name }}\\\">\\r\\n\\t               {{section.name}}\\r\\n\\t            </a>\\r\\n\\t          </div>\\r\\n\\t        </div>\\r\\n\\t      </div>\\r\\n\\t    </li>\\r\\n\\t  </ul>\\r\\n\\t</div>\\r\\n\\t\\r\\n\\t<add-section-btn auth=\\\"vm.auth\\\" group=\\\"vm.group\\\"></add-section-btn>\\r\\n\\t\\r\\n</div>\\r\\n\";\n",
    "module.exports = \"<div class=\\\"create-group\\\" style=\\\"display: flex;flex: auto;\\\">\\r\\n\\t<div style=\\\"width: calc(100% - 25px);padding-left: 10px;flex-grow: 1;\\\">\\r\\n\\t\\t<data-ui-select \\r\\n\\t\\t    search-enabled= \\\"true\\\"\\r\\n\\t\\t\\ton-select=\\\"vm.focusSection($item)\\\"\\r\\n\\t\\t\\ton-remove=\\\"vm.unfocusSection($item)\\\"\\r\\n\\t\\t\\tdata-ng-model=\\\"vm.selected.section\\\"\\r\\n\\t\\t\\tdata-append-to-body=\\\"vm.appendToBody\\\"\\r\\n\\t\\t\\tng-disabled=\\\"vm.selectDisabled\\\"\\r\\n\\t\\t\\tclass=\\\"select_section\\\"> \\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<data-ui-select-match class=\\\"ui-select-match\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t  placeholder=\\\"Select Section\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t  ng-attr-title = \\\"{{vm.getDisabledTitile($select.selected.name)}}\\\"\\r\\n\\t\\t\\t\\t\\t\\t\\t\\t  style=\\\"pointer-events: auto;\\\">\\r\\n\\t\\t\\t\\t<i ng-if= \\\"$select.selected.name\\\">{{$select.selected.name}}</i>\\r\\n\\t\\t\\t\\t<i ng-if= \\\"!$select.selected.name\\\">&lt; No Section  &gt;</i>\\r\\n\\t\\t\\t</data-ui-select-match>\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<data-ui-select-choices class=\\\"ui-select-choices\\\" \\r\\n\\t\\t\\t\\t\\t\\t\\t\\t\\trepeat=\\\"section in vm.sections | orderBy:'name' | filter: {name: $select.search} track by section.id\\\">\\r\\n\\t\\t\\t\\t<div ng-if=\\\"!section.id && !vm.selectDisabled\\\" \\r\\n\\t\\t\\t\\t     ng-click=\\\"vm.unselectSection($event)\\\">\\r\\n\\t\\t\\t\\t     &lt; No Section  &gt;\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div ng-if=\\\"section.id\\\" \\r\\n\\t\\t\\t\\t     data-ng-bind-html=\\\"section.name | highlight: $select.search \\\" ></div>\\r\\n\\t\\t \\t</data-ui-select-choices> \\r\\n\\t\\t</data-ui-select>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"sec-btn\\\" ng-if=\\\"!vm.selectDisabled && vm.allowCreateSection()\\\">\\r\\n\\t\\t<add-section-btn auth=\\\"vm.auth\\\" \\r\\n\\t\\t\\t\\t\\t\\t group=\\\"vm.group\\\" \\r\\n\\t\\t\\t\\t\\t\\t style=\\\"height: 100%;\\\" \\r\\n\\t\\t\\t\\t\\t\\t class=\\\"sec-btn\\\" \\r\\n\\t\\t\\t\\t\\t\\t on-new-section=\\\"vm.onNewSection({section:section,group:group})\\\">\\r\\n\\t\\t</add-section-btn>\\r\\n\\t</div>\\r\\n</div>\";\n",
    "module.exports = \"<div class=\\\"create-group\\\" style=\\\"display: flex;flex: auto;\\\">\\r\\n\\t<div style=\\\"flex: auto;flex-basis: calc(100% - 40px);\\\">\\r\\n\\t\\t<data-ui-select \\r\\n\\t\\t    search-enabled= \\\"true\\\"\\r\\n\\t\\t\\ton-select=\\\"vm.focusTaskspace($item)\\\"\\r\\n\\t\\t\\tdata-ng-model=\\\"vm.selected.taskspace\\\"\\r\\n\\t\\t\\tdata-append-to-body=\\\"false\\\"\\r\\n\\t\\t\\tng-init=\\\"vm.uiSelect = $select\\\"> \\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<data-ui-select-match class=\\\"ui-select-match\\\" placeholder=\\\"Select Taskspace\\\">\\r\\n\\t\\t\\t\\t{{$select.selected.name}}\\r\\n\\t\\t\\t</data-ui-select-match>\\r\\n\\t\\t\\t\\r\\n\\t\\t\\t<data-ui-select-choices class=\\\"ui-select-choices\\\" repeat=\\\"taskspace in vm.allTaskspaces | orderBy:['-annotationCount','name'] | filter: {name: $select.search} track by taskspace.id\\\">\\r\\n\\t\\t\\t\\t<div data-ng-bind-html=\\\"taskspace.name | highlight: $select.search\\\"></div>\\r\\n\\t\\t \\t</data-ui-select-choices> \\r\\n\\t\\t</data-ui-select>\\r\\n\\t</div>\\r\\n\\t<span ng-if=\\\"vm.allowCreateTaskSpace()\\\" ng-click=\\\"vm.addNewTaskspace()\\\" class=\\\"add-btn numici-add\\\">\\r\\n\\t\\t<i class=\\\"h-icon-add\\\"></i>\\r\\n\\t</span>\\r\\n</div>\";\n",
    "module.exports = \"<!-- Tabbed display of annotations and notes. -->\\n<div class=\\\"selection-tabs\\\"\\n  ng-class=\\\"{'selection-tabs--theme-clean' : vm.isThemeClean }\\\">\\n  <a class=\\\"selection-tabs__type\\\"\\n     href=\\\"#\\\"\\n     ng-class=\\\"{'is-selected': vm.selectedTab === vm.TAB_ANNOTATIONS}\\\"\\n     h-on-touch=\\\"vm.selectTab(vm.TAB_ANNOTATIONS)\\\">\\n    Annotations\\n    <span class=\\\"selection-tabs__count\\\"\\n      ng-if=\\\"vm.totalAnnotations > 0 && !vm.isWaitingToAnchorAnnotations\\\">\\n      {{ vm.totalAnnotations }}\\n    </span>\\n  </a>\\n   <a class=\\\"selection-tabs__type\\\"\\n     href=\\\"#\\\"\\n     ng-class=\\\"{'is-selected': vm.selectedTab === vm.TAB_PAGEINFO}\\\"\\n     h-on-touch=\\\"vm.selectTab(vm.TAB_PAGEINFO)\\\">\\n    Page Info\\n  </a>\\n  <a class=\\\"selection-tabs__type\\\"\\n     href=\\\"#\\\"\\n     ng-class=\\\"{'is-selected': vm.selectedTab === vm.TAB_NOTES}\\\"\\n     h-on-touch=\\\"vm.selectTab(vm.TAB_NOTES)\\\">\\n    Page Notes\\n    <span class=\\\"selection-tabs__count\\\"\\n      ng-if=\\\"vm.totalNotes > 0 && !vm.isWaitingToAnchorAnnotations\\\">\\n      {{ vm.totalNotes }}\\n    </span>\\n  </a>\\n  <a class=\\\"selection-tabs__type\\\"\\n   \\t ng-if=\\\"!vm.isEmbedded && vm.isWebClipEnabled\\\"\\n     href=\\\"#\\\"\\n     ng-class=\\\"{'is-selected': vm.selectedTab === vm.WEB_CLIP}\\\"\\n     h-on-touch=\\\"vm.selectTab(vm.WEB_CLIP)\\\">\\n    Web Clip\\n  </a>\\n  <a class=\\\"selection-tabs__type selection-tabs__type--orphan\\\"\\n    ng-if=\\\"vm.totalOrphans > 0\\\"\\n    href=\\\"#\\\"\\n    ng-class=\\\"{'is-selected': vm.selectedTab === vm.TAB_ORPHANS}\\\"\\n    h-on-touch=\\\"vm.selectTab(vm.TAB_ORPHANS)\\\">\\n    Orphans\\n    <span class=\\\"selection-tabs__count\\\"\\n      ng-if=\\\"vm.totalOrphans > 0 && !vm.isWaitingToAnchorAnnotations\\\">\\n      {{ vm.totalOrphans }}\\n    </span>\\n    <span class=\\\"btn-group\\\" ng-if=\\\"vm.totalOrphans > 0\\\" dropdown dropdown-append-to-body>\\n    \\t<span role=\\\"button dropdown-toggle\\\" \\n    \\t\\tdropdown-toggle \\n\\t\\t    class=\\\"top-bar__btn\\\"\\n\\t\\t    title=\\\"Orphaned Annotations\\\" \\n\\t\\t    data-ng-click=\\\"vm.showOrphanedAnnotHelp()\\\">\\n\\t\\t    <i class=\\\"ts-info-btn h-icon-info\\\"></i>\\n\\t\\t </span>\\n\\t\\t <div class=\\\"dropdown-menu dropdown-menu-right orphaned-annotations-help\\\" role=\\\"menu\\\" style=\\\"max-width: 385px;border: solid 3px #d3d3d3;\\\">\\n\\t\\t    <div class=\\\"dropdown-menu__row\\\" style=\\\"padding: 0px 8px;\\\">\\n\\t\\t      <div class=\\\"dropdown-menu__link dropdown-menu__link--disabled js-user-profile-btn is-disabled\\\" \\n\\t\\t      \\tstyle=\\\"white-space: unset;word-break: break-word;line-height: inherit;\\\">\\n\\t\\t        <h3 style=\\\"margin: 0px 0px 10px;\\\">{{vm.OrphanedAnnotHelpTitle}}</h3>\\n\\t\\t        <div data-ng-bind-html=\\\"vm.OrphanedAnnotHelpDesc\\\" style=\\\"background: #eee;padding: 10px 10px;text-align: justify;\\\">\\n\\t\\t        </div>\\n\\t\\t      </div>\\n\\t\\t    </div>\\n\\t\\t </div>\\n    </span>\\n  </a>\\n</div>\\n<new-note-btn\\n  ng-if=\\\"vm.selectedTab === vm.TAB_NOTES && vm.enableExperimentalNewNoteButton\\\">\\n</new-note-btn>\\n<div ng-if=\\\"!vm.isLoading()\\\" class=\\\"selection-tabs__empty-message\\\">\\n  <div ng-if=\\\"vm.showNotesUnavailableMessage()\\\"  class=\\\"annotation-unavailable-message\\\">\\n    <p class=\\\"annotation-unavailable-message__label\\\">\\n      There are no page notes in this Taskspace.\\n      <br />\\n      <div ng-if=\\\"!vm.enableExperimentalNewNoteButton && !vm.showSidebarTutorial()\\\" class=\\\"annotation-unavailable-message__tutorial\\\">\\n        Create one by clicking the\\n        <i class=\\\"help-icon h-icon-note\\\"></i>\\n        button.\\n      </div>\\n    </p>\\n  </div>\\n  <div ng-if=\\\"vm.showAnnotationsUnavailableMessage()\\\"  class=\\\"annotation-unavailable-message\\\">\\n    <p class=\\\"annotation-unavailable-message__label\\\">\\n      There are no annotations in this Taskspace.\\n      <br />\\n      <div ng-if=\\\"!vm.showSidebarTutorial()\\\" class=\\\"annotation-unavailable-message__tutorial\\\">\\n        Create one by selecting some text and clicking the\\n        <i class=\\\"help-icon h-icon-annotate\\\"></i> button.\\n      </div>\\n    </p>\\n  </div>\\n</div>\\n\";\n",
    "module.exports = \"<div class=\\\"sheet\\\">\\n  <i class=\\\"close h-icon-close\\\"\\n     role=\\\"button\\\"\\n     title=\\\"Close\\\"\\n     ng-click=\\\"vm.onClose()\\\"></i>\\n  <div class=\\\"form-vertical\\\">\\n    <ul class=\\\"nav nav-tabs\\\">\\n      <li class=\\\"active\\\"><a href=\\\"\\\">Share</a></li>\\n    </ul>\\n    <div class=\\\"tab-content\\\">\\n      <p>Share the link below to show anyone in the taskspace these annotations and invite them to contribute their own.</p>\\n      <div class=\\\"annotation-share-dialog-link\\\">\\n\\t    <input class=\\\"js-via form-input\\\"\\n\\t           type=\\\"text\\\"\\n\\t           ng-value=\\\"vm.viaPageLink\\\"\\n\\t           readonly />\\n      \\t<span class=\\\"annotation-share-dialog-link__feedback\\\" ng-if=\\\"vm.copyToClipboardMessage\\\">\\n\\t      {{vm.copyToClipboardMessage}}\\n\\t    </span>\\n\\t    <button class=\\\"btn btn-clean annotation-share-dialog-link__btn\\\"\\n\\t      ng-click=\\\"vm.copyToClipboard($event)\\\">\\n\\t      <i class=\\\"h-icon-clipboard btn-icon\\\"></i>\\n\\t    </button>\\n      </div>\\n      <p class=\\\"share-link-icons\\\" ng-if=\\\"vm.showExtShare()\\\">\\n      <a href=\\\"https://twitter.com/intent/tweet?url={{vm.viaPageLink | urlEncode}}&hashtags=annotated\\\"\\n         target=\\\"_blank\\\"\\n         title=\\\"Tweet link\\\"\\n         class=\\\"share-link-icon h-icon-twitter\\\"\\n         ng-click=\\\"onShareClick('twitter')\\\"></a>\\n      <a href=\\\"https://www.facebook.com/sharer/sharer.php?u={{vm.viaPageLink | urlEncode}}\\\"\\n         target=\\\"_blank\\\"\\n         title=\\\"Share on Facebook\\\"\\n         class=\\\"share-link-icon h-icon-facebook\\\"\\n         ng-click=\\\"onShareClick('facebook')\\\"></a>\\n      <a href=\\\"https://plus.google.com/share?url={{vm.viaPageLink | urlEncode}}\\\"\\n         target=\\\"_blank\\\"\\n         title=\\\"Post on Google Plus\\\"\\n         class=\\\"share-link-icon h-icon-google-plus\\\"\\n         ng-click=\\\"onShareClick('googlePlus')\\\"></a>\\n      <a href=\\\"mailto:?subject=Let's%20Annotate&amp;body={{vm.viaPageLink}}\\\"\\n         target=\\\"_blank\\\"\\n         title=\\\"Share via email\\\"\\n         class=\\\"share-link-icon h-icon-mail\\\"\\n         ng-click=\\\"onShareClick('email')\\\"></a>\\n      </p>\\n    </div>\\n  </div>\\n</div>\\n\";\n",
    "module.exports = \"<selection-tabs\\n  ng-if=\\\"!vm.search.query() && vm.selectedAnnotationCount() === 0\\\"\\n  is-waiting-to-anchor-annotations=\\\"vm.waitingToAnchorAnnotations\\\"\\n  is-loading=\\\"vm.isLoading\\\"\\n  selected-tab=\\\"vm.selectedTab\\\"\\n  total-annotations=\\\"vm.totalAnnotations\\\"\\n  total-notes=\\\"vm.totalNotes\\\"\\n  total-orphans=\\\"vm.totalOrphans\\\"\\n  auth=\\\"vm.auth\\\">\\n</selection-tabs>\\n\\n<search-status-bar\\n  ng-show=\\\"!vm.isLoading()\\\"\\n  filter-active=\\\"!!vm.search.query()\\\"\\n  filter-match-count=\\\"vm.visibleCount()\\\"\\n  on-clear-selection=\\\"vm.clearSelection()\\\"\\n  search-query=\\\"vm.search ? vm.search.query : ''\\\"\\n  selection-count=\\\"vm.selectedAnnotationCount()\\\"\\n  total-count=\\\"vm.topLevelThreadCount()\\\"\\n  selected-tab=\\\"vm.selectedTab\\\"\\n  total-annotations=\\\"vm.totalAnnotations\\\"\\n  total-notes=\\\"vm.totalNotes\\\">\\n</search-status-bar>\\n\\n<div class=\\\"annotation-unavailable-message\\\"\\n    ng-if=\\\"vm.selectedAnnotationUnavailable()\\\"\\n    style=\\\"color: #dc3545 !important;background: #fff;\\\">\\n  <div class=\\\"annotation-unavailable-message__icon\\\"></div>\\n  <p class=\\\"annotation-unavailable-message__label\\\">\\n    <span ng-if=\\\"vm.auth.status === 'logged-out'\\\">\\n      This annotation is not available.\\n      <br>\\n      You may need to log in  to see it.\\n    </span>\\n    <span ng-if=\\\"vm.auth.status === 'logged-in'\\\">\\n      You do not have permission to view this annotation or This annotation is not available.\\n    </span>\\n  </p>\\n</div>\\n<thread-list\\n  ng-if=\\\"vm.selectedTab != 'WebClip'\\\"\\n  on-change-collapsed=\\\"vm.setCollapsed(id, collapsed)\\\"\\n  on-clear-selection=\\\"vm.clearSelection()\\\"\\n  on-focus=\\\"vm.focus(annotation)\\\"\\n  on-force-visible=\\\"vm.forceVisible(thread)\\\"\\n  on-select=\\\"vm.scrollTo(annotation)\\\"\\n  show-document-info=\\\"false\\\"\\n  thread=\\\"vm.rootThread\\\"\\n  auth=\\\"vm.auth\\\"\\n  linkshare=\\\"vm.linkshare(annotationId)\\\">\\n</thread-list>\\n\\n<clipper-controles\\n  ng-if=\\\"vm.selectedTab == 'WebClip' && !vm.isEmbedded\\\"\\n  auth=\\\"vm.auth\\\"\\n  article=\\\"vm.article\\\">\\n</clipper-controles>\\n\\n<page-info\\n  ng-if=\\\"vm.selectedTab == 'pageinfo' && !vm.isEmbedded\\\"\\n  auth=\\\"vm.auth\\\">\\n</page-info>\\n\\n<!-- <loggedout-message ng-if=\\\"vm.shouldShowLoggedOutMessage()\\\" on-login=\\\"vm.login()\\\">\\n</loggedout-message> -->\\n\";\n",
    "module.exports = \"<div class=\\\"sheet\\\" ng-if=\\\"vm.showSidebarTutorial() &&  !vm.isThemeClean\\\">\\n  <i class=\\\"close h-icon-close\\\" role=\\\"button\\\" title=\\\"Close\\\"\\n     ng-click=\\\"vm.dismiss()\\\"></i>\\n  <h1 class=\\\"sidebar-tutorial__header\\\">How to get started</h1>\\n  <ol class=\\\"sidebar-tutorial__list\\\">\\n    <li class=\\\"sidebar-tutorial__list-item\\\">\\n      <p class=\\\"sidebar-tutorial__list-item-content\\\">\\n        To create an annotation, select text and click the\\n        <i class=\\\"h-icon-annotate\\\"></i>&nbsp;button.\\n      </p>\\n    </li>\\n    <li class=\\\"sidebar-tutorial__list-item\\\">\\n      <p class=\\\"sidebar-tutorial__list-item-content\\\">\\n        To add a note to the page you are viewing, click the\\n        <i class=\\\"h-icon-note\\\"></i>&nbsp;button.\\n      </p>\\n    </li>\\n    <li class=\\\"sidebar-tutorial__list-item\\\">\\n      <p class=\\\"sidebar-tutorial__list-item-content\\\">\\n        To create a highlight, select text and click the\\n        <i class=\\\"h-icon-highlight\\\"></i>&nbsp;button.\\n      </p>\\n    </li>\\n    <li class=\\\"sidebar-tutorial__list-item\\\">\\n      <p class=\\\"sidebar-tutorial__list-item-content\\\">\\n        To reply to an annotation, click the\\n        <i class=\\\"h-icon-annotation-reply\\\"></i>&nbsp;<strong>Reply</strong>&nbsp;link.\\n      </p>\\n    </li>\\n    <li class=\\\"sidebar-tutorial__list-item\\\">\\n      <p class=\\\"sidebar-tutorial__list-item-content\\\">\\n        To share an annotated page, click the\\n        <i class=\\\"h-icon-annotation-share\\\"></i>&nbsp;button at the top.\\n      </p>\\n    </li>\\n    <li class=\\\"sidebar-tutorial__list-item\\\">\\n      <p class=\\\"sidebar-tutorial__list-item-content\\\">\\n        To create a private Taskspace, select <strong>Public</strong>,\\n        open the dropdown, click&nbsp;<strong>+&nbsp;New&nbsp;Taskspace</strong>.\\n      </p>\\n    </li>\\n  </ol>\\n</div>\\n<div class=\\\"sheet sheet--is-theme-clean\\\" ng-if=\\\"vm.showSidebarTutorial() && vm.isThemeClean\\\">\\n  <i class=\\\"close h-icon-close\\\" role=\\\"button\\\" title=\\\"Close\\\"\\n     ng-click=\\\"vm.dismiss()\\\"></i>\\n  <h1 class=\\\"sidebar-tutorial__header sidebar-tutorial__header--is-theme-clean\\\">\\n    <i class=\\\"h-icon-annotate sidebar-tutorial__header-annotate\\\" h-branding=\\\"accentColor\\\"></i>\\n    Start annotating\\n  </h1>\\n  <ol class=\\\"sidebar-tutorial__list\\\">\\n    <li class=\\\"sidebar-tutorial__list-item sidebar-tutorial__list-item--is-theme-clean\\\">\\n      <div class=\\\"sidebar-tutorial__list-item-content\\\">\\n        Select some text to\\n          <span class=\\\"sidebar-tutorial__list-item-annotate\\\">annotate</span>\\n          <svg-icon class=\\\"sidebar-tutorial__list-item-cursor\\\" name=\\\"'cursor'\\\"></svg-icon>\\n        or highlight.\\n      </div>\\n    </li>\\n    <li class=\\\"sidebar-tutorial__list-item sidebar-tutorial__list-item--is-theme-clean\\\">\\n      <div class=\\\"sidebar-tutorial__list-item-content sidebar-tutorial__list-item-content--is-theme-clean\\\">\\n        Create page level notes\\n        <span class=\\\"sidebar-tutorial__list-item-new-note-btn\\\" h-branding=\\\"ctaBackgroundColor\\\">\\n          + New note\\n        </span>\\n      </div>\\n    </li>\\n    <li class=\\\"sidebar-tutorial__list-item sidebar-tutorial__list-item--is-theme-clean\\\">\\n      <div class=\\\"sidebar-tutorial__list-item-content\\\">\\n        View annotations through your profile\\n        <i class=\\\"h-icon-account sidebar-tutorial__list-item-profile\\\"></i>\\n        <i class=\\\"h-icon-arrow-drop-down sidebar-tutorial__list-item-drop-down\\\"></i>\\n      </div>\\n    </li>\\n  </ol>\\n</div>\\n\";\n",
    "module.exports = \"<span dropdown keyboard-nav>\\n  <button\\n    type=\\\"button\\\"\\n    class=\\\"top-bar__btn\\\"\\n    dropdown-toggle\\n    title=\\\"Sort by {{vm.sortKey}}\\\">\\n    <i class=\\\"h-icon-sort\\\"></i>\\n  </button>\\n  <div class=\\\"dropdown-menu__top-arrow\\\"></div>\\n  <ul class=\\\"dropdown-menu pull-right\\\" role=\\\"menu\\\">\\n    <li class=\\\"dropdown-menu__row\\\"\\n        ng-repeat=\\\"key in vm.sortKeysAvailable\\\"\\n        ng-click=\\\"vm.onChangeSortKey({sortKey: key})\\\"\\n        ><span class=\\\"dropdown-menu-radio\\\"\\n               ng-class=\\\"{'is-selected' : vm.sortKey === key}\\\"\\n        ></span><a class=\\\"dropdown-menu__link\\\" href=\\\"\\\">{{key}}</a></li>\\n  </ul>\\n</span>\\n\";\n",
    "module.exports = \"<span window-scroll=\\\"vm.loadMore(20)\\\">\\n  <thread-list\\n    on-change-collapsed=\\\"vm.setCollapsed(id, collapsed)\\\"\\n    on-force-visible=\\\"vm.forceVisible(thread)\\\"\\n    show-document-info=\\\"true\\\"\\n    thread=\\\"vm.rootThread\\\">\\n  </thread-list>\\n</span>\\n\";\n",
    "module.exports = \"<tags-input ng-model=\\\"vm.tagList\\\"\\n  name=\\\"tags\\\"\\n  class=\\\"tags\\\"\\n  placeholder=\\\"Add tags\\\"\\n  min-length=\\\"1\\\"\\n  replace-spaces-with-dashes=\\\"false\\\"\\n  enable-editing-last-tag=\\\"true\\\"\\n  on-tag-adding=\\\"vm.onTagAdding($tag)\\\"\\n  on-tag-added=\\\"vm.onTagsChanged()\\\"\\n  on-tag-removed=\\\"vm.onTagsChanged()\\\">\\n  <auto-complete source=\\\"vm.autocomplete($query)\\\"\\n    min-length=\\\"1\\\"\\n    max-results-to-show=\\\"10\\\"\\n    debounce-delay=\\\"100\\\"></auto-complete>\\n</tags-input>\\n\";\n",
    "module.exports = \"\\r\\n<div>\\r\\n\\t<div class=\\\"form-vertical\\\" style=\\\"padding: 15px 0px;\\\">\\r\\n\\t\\t<div ng-if=\\\"vm.editMode\\\">\\r\\n\\t\\t\\t\\t<div class=\\\"annotation-body form-field\\\">\\r\\n\\t\\t\\t\\t\\t<doc-tag-editor tags=\\\"vm.tags\\\"\\r\\n\\t\\t\\t\\t\\t\\ton-tags-edited=\\\"vm.onTagsEdited(tags)\\\" on-untag=\\\"vm.untag(tag)\\\"></doc-tag-editor>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\t\\t\\t\\t<div\\r\\n\\t\\t\\t\\t\\tstyle=\\\"display: flex; float: right; margin: 5px 0px; position: relative; right: 0px; bottom: 0px; padding: 5px 0px; height: 35px;\\\">\\r\\n\\t\\t\\t\\t\\t<button type=\\\"button\\\" class=\\\"btn-clean ng-binding\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-click=\\\"vm.cancel()\\\" style=\\\"margin: 0px 10px;\\\">Cancel</button>\\r\\n\\t\\t\\t\\t\\t<button class=\\\"btn-clean btn-numici ng-binding\\\"\\r\\n\\t\\t\\t\\t\\t\\tdata-ng-disabled=\\\"!vm.enableSave\\\" data-ng-click=\\\"vm.saveTags()\\\">Save</button>\\r\\n\\t\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t</div>\\r\\n\\r\\n\\t\\t\\t<div class=\\\"annotation-body u-layout-row tags tags-read-only\\\"\\r\\n\\t\\t\\t\\tng-if=\\\"!vm.editMode\\\">\\r\\n\\t\\t\\t\\t<ul class=\\\"tag-list\\\">\\r\\n\\t\\t\\t\\t\\t<li class=\\\"tag-item\\\" ng-repeat=\\\"tag in vm.tags\\\">\\r\\n\\t\\t\\t\\t\\t\\t<a>\\r\\n\\t\\t\\t\\t\\t\\t\\t<span>{{tag.TagName}}</span> <span ng-if=\\\"tag.Value\\\">:{{tag.Value}}</span>\\r\\n\\t\\t\\t\\t\\t\\t</a>\\r\\n\\t\\t\\t\\t\\t</li>\\r\\n\\t\\t\\t\\t</ul>\\r\\n\\t\\t\\t</div>\\r\\n\\t</div>\\r\\n</div>\\r\\n\\r\\n\";\n",
    "module.exports = \"<ul class=\\\"thread-list\\\">\\n  <li class=\\\"thread-list__spacer\\\"\\n      ng-style=\\\"{height: vm.virtualThreadList.offscreenUpperHeight}\\\"></li>\\n  <li ng-repeat=\\\"child in vm.virtualThreadList.visibleThreads track by child.id\\\">\\n    <div id=\\\"{{child.id}}\\\"\\n        class=\\\"thread-list__card\\\"\\n        ng-mouseenter=\\\"vm.onFocus({annotation: child.annotation})\\\"\\n        ng-class=\\\"{'thread-list__card--theme-clean' : vm.isThemeClean }\\\"\\n        ng-click=\\\"vm.onSelect({annotation: child.annotation})\\\"\\n        ng-mouseleave=\\\"vm.onFocus({annotation: null})\\\">\\n        <annotation-thread\\n          thread=\\\"child\\\"\\n          show-document-info=\\\"vm.showDocumentInfo\\\"\\n          on-change-collapsed=\\\"vm.onChangeCollapsed({id: id, collapsed: collapsed})\\\"\\n          on-force-visible=\\\"vm.onForceVisible({thread: thread})\\\">\\n        </annotation-thread>\\n    </div>\\n    <hr ng-if=\\\"vm.isThemeClean\\\"\\n        class=\\\"thread-list__separator--theme-clean\\\" />\\n  </li>\\n  <li id=\\\"{{child.id}}\\\"\\n      ng-show=\\\"false\\\"\\n      ng-repeat=\\\"child in vm.virtualThreadList.invisibleThreads track by child.id\\\">\\n      <annotation-thread thread=\\\"child\\\" />\\n  </li>\\n  <li class=\\\"thread-list__spacer\\\"\\n      ng-style=\\\"{height: vm.virtualThreadList.offscreenLowerHeight}\\\"></li>\\n</ul>\\n\";\n",
    "module.exports = \"<div class=\\\"digest-settings-modal-content\\\">\\r\\n\\t<div class=\\\"modal-header\\\" style=\\\"padding: 15px 15px 0px 15px;\\\">\\r\\n\\t\\t<h3 class=\\\"modal-title\\\">Response Time Log</h3>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-body\\\" style=\\\"max-height: 300px;overflow: auto;border-top: 3px solid rgb(204, 204, 204);padding-bottom: 0px;\\\">\\r\\n\\t\\t <table class='table table-condensed table-striped' id=\\\"timeLog\\\">\\r\\n\\t\\t\\t<thead>\\r\\n\\t\\t\\t\\t<tr>\\r\\n\\t\\t\\t\\t    <th>Date</th>\\r\\n\\t\\t\\t\\t\\t<th>Requested at (hh:mm:ss:sss)</th>\\r\\n\\t\\t\\t\\t\\t<th>Response at (hh:mm:ss:sss)</th>\\r\\n\\t\\t\\t\\t\\t<th>Requested Url</th>\\r\\n\\t\\t\\t\\t\\t<th>Response Time (seconds)</th>\\r\\n\\t\\t\\t\\t\\t<th>Server Exe Time(seconds)</th>\\r\\n\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t</thead>\\r\\n\\t\\t\\t<tbody>\\r\\n\\t\\t\\t\\t<tr data-ng-repeat='log in vm.timeLog track by $index'\\r\\n\\t\\t\\t\\t\\tdata-ng-class=\\\"{'warning': log.responseTime > 2}\\\">\\r\\n\\t\\t\\t\\t\\t<td class=\\\"col-xs-2\\\">{{log.timeStamp | date:'yyyy-MM-dd'}}</td>\\r\\n\\t\\t\\t\\t\\t<td class=\\\"col-xs-2\\\">{{log.timeStamp | date:'hh:mm:ss:sss'}}</td>\\r\\n\\t\\t\\t\\t\\t<td class=\\\"col-xs-2\\\">{{log.resp_timeStamp | date:'hh:mm:ss:sss'}}</td>\\r\\n\\t\\t\\t\\t\\t<td class=\\\"col-xs-4\\\" style=\\\"word-break: break-word;\\\">{{log.requestedUrl}}</td>\\r\\n\\t\\t\\t\\t\\t<td class=\\\"col-xs-1\\\">{{log.responseTime}}</td>\\r\\n\\t\\t\\t\\t\\t<td class=\\\"col-xs-1\\\">{{log.serverExeTime}}</td>\\r\\n\\t\\t\\t\\t</tr>\\r\\n\\t\\t\\t</tbody>\\r\\n\\t\\t</table>\\r\\n\\t</div>\\r\\n\\t<div class=\\\"modal-footer\\\" style=\\\"padding: 10px 15px;border-top: 3px solid rgb(204, 204, 204);\\\">\\r\\n\\t    <button class=\\\"btn-clean\\\" type=\\\"button\\\" data-ng-click=\\\"vm.cancel()\\\">CLOSE</button>\\r\\n\\t\\t<button class=\\\"btn-clean btn-numici\\\" type=\\\"button\\\" data-ng-click=\\\"vm.clearlog()\\\">CLEAR</button>\\r\\n\\t\\t<button class=\\\"btn-clean btn-numici\\\" type=\\\"button\\\" data-ng-click=\\\"vm.tableToExcel()\\\">Export As Excel</button>\\r\\n\\t</div>\\r\\n</div>\";\n",
    "module.exports = \"<div ng-switch=\\\"vm.href\\\">\\n  <span ng-switch-when=\\\"\\\"\\n        class=\\\"{{ vm.className }}\\\"\\n        title=\\\"{{ vm.absoluteTimestamp }}\\\">\\n    {{ vm.relativeTimestamp }}\\n  </span>\\n  <a ng-switch-default\\n     class=\\\"{{ vm.className }}\\\"\\n     target=\\\"_blank\\\"\\n     title=\\\"{{ vm.absoluteTimestamp }}\\\"\\n     href=\\\"{{ vm.href }}\\\">\\n     {{ vm.relativeTimestamp }}\\n  </a>\\n</div>\\n\";\n",
    "module.exports = \"<!-- top bar for the sidebar and the stream.\\n!-->\\n<div class=\\\"top-bar\\\"\\n  ng-class=\\\"{'top-bar--theme-clean' : vm.isThemeClean }\\\">\\n  <!-- Legacy design for top bar, as used in the stream !-->\\n  <div class=\\\"top-bar__inner content\\\" ng-if=\\\"::!vm.isSidebar\\\">\\n   <!--  <search-input\\n      class=\\\"search-input\\\"\\n      query=\\\"vm.searchController.query()\\\"\\n      on-search=\\\"vm.searchController.update($query)\\\"\\n      always-expanded=\\\"true\\\">\\n    </search-input>\\n    <div class=\\\"top-bar__expander\\\"></div> -->\\n    <login-control\\n      auth=\\\"vm.auth\\\"\\n      new-style=\\\"false\\\"\\n      on-show-about-panel=\\\"vm.onShowAboutPanel()\\\"\\n      on-show-help-panel=\\\"vm.onShowHelpPanel()\\\"\\n      on-login=\\\"vm.onLogin()\\\"\\n      on-logout=\\\"vm.onLogout()\\\">\\n    </login-control>\\n  </div>\\n  <!-- New design for the top bar, as used in the sidebar.\\n\\n       The inner div is styled with 'content' to center it in\\n       the stream view.\\n  !-->\\n  \\n  <!--  style=\\\"height: 50%;border-bottom: 1px solid #eee;\\\"  -->\\n  <div class=\\\"top-bar__inner content\\\" ng-if=\\\"::vm.isSidebar\\\">\\n    <group-list class=\\\"group-list\\\" auth=\\\"vm.auth\\\" on-new-group=\\\"vm.onNewGroup()\\\" new-group=\\\"inside\\\"></group-list>\\n    <a class=\\\"top-bar__btn\\\"\\n       ng-if=\\\"groupinfo\\\"\\n       ng-click=\\\"vm.onGroupInfo()\\\"\\n       title=\\\"Taskspace Information\\\">\\n      <i class=\\\"ts-info-btn h-icon-info\\\"></i>\\n      <!--<svg-icon class=\\\"top-bar__apply-icon\\\" name=\\\"'tsinfo'\\\" style=\\\"display: table-cell;vertical-align: middle;\\\"></svg-icon>  -->\\n    </a>\\n    <button type=\\\"button\\\" \\n       class=\\\"btn-clean btn-numici ts-view-digest-btn\\\" \\n       ng-if=\\\"groupinfo\\\" \\n       ng-click=\\\"vm.onViewTsDigest()\\\">\\n       View Digest\\n    </button>\\n    <a class=\\\"top-bar__apply-update-btn\\\"\\n       ng-if=\\\"vm.pendingUpdateCount > 0\\\"\\n       ng-click=\\\"vm.onApplyPendingUpdates()\\\"\\n       h-tooltip\\n       tooltip-direction=\\\"up\\\"\\n       aria-label=\\\"Show {{vm.pendingUpdateCount}} new/updated annotation(s)\\\">\\n       <svg-icon class=\\\"top-bar__apply-icon\\\" name=\\\"'refresh'\\\"></svg-icon>\\n    </a>\\n    <div class=\\\"top-bar__expander\\\"></div>\\n   <!--  <search-input\\n      class=\\\"search-input\\\"\\n      query=\\\"vm.searchController.query()\\\"\\n      on-search=\\\"vm.searchController.update($query)\\\"\\n      title=\\\"Filter the annotation list\\\">\\n    </search-input>\\n    <sort-dropdown\\n      sort-keys-available=\\\"vm.sortKeysAvailable\\\"\\n      sort-key=\\\"vm.sortKey\\\"\\n      on-change-sort-key=\\\"vm.onChangeSortKey({sortKey: sortKey})\\\">\\n    </sort-dropdown>\\n    <a class=\\\"top-bar__btn\\\"\\n       ng-if=\\\"share\\\"\\n       ng-click=\\\"vm.onSharePage()\\\"\\n       title=\\\"Share this page\\\">\\n      <i class=\\\"h-icon-annotation-share\\\"></i>\\n    </a>\\n    <a class=\\\"top-bar__btn\\\"\\n       ng-if=\\\"move\\\"\\n       ng-click=\\\"vm.onMoveWebresource()\\\" \\n       title=\\\"Move this document\\\">\\n      <i class=\\\"h-icon-redo2\\\"></i>\\n    </a> -->\\n    <login-control\\n      ng-if=\\\"!vm.auth.isPublic\\\"\\n      class=\\\"login-control\\\"\\n      auth=\\\"vm.auth\\\"\\n      new-style=\\\"true\\\"\\n      on-show-about-panel=\\\"vm.onShowAboutPanel()\\\"\\n      on-show-help-panel=\\\"vm.onShowHelpPanel()\\\"\\n      on-login=\\\"vm.onLogin()\\\"\\n      on-logout=\\\"vm.onLogout()\\\"\\n      on-sign-up=\\\"vm.onSignUp()\\\">\\n    </login-control>\\n     <a \\n     ng-if=\\\"vm.onShowSignupBtn()\\\"\\n     role=\\\"button\\\"\\n     class=\\\"top-bar__btn btn-clean\\\"\\n     title=\\\"Get Free Numici Account\\\"\\n     ng-href=\\\"{{vm.auth.signup}}\\\"\\n     target=\\\"_blank;\\\"\\n     style=\\\"color: #fff;background: #069;width: 80px;border: 1px solid #aaa;margin: 0px 5px;text-align: center;\\\">\\n    \\tSign Up\\n     </a>\\n     <a role=\\\"button\\\" \\n\\t     class=\\\"top-bar__btn js-help-btn\\\" \\n\\t     ng-if=\\\"vm.auth.status === 'logged-in'\\\" \\n\\t     ng-click=\\\"vm.onShowHelpPanel()\\\" \\n\\t     title=\\\"Help\\\">\\n\\t    <i class=\\\"h-icon-question\\\" ></i>\\n\\t </a>\\n  </div>\\n  \\n  \\n <!--  <div class=\\\"top-bar__inner content\\\" ng-if=\\\"::vm.isSidebar\\\" style=\\\"height: 50%;border-bottom: 1px solid #eee;\\\">\\n  \\t <section-list class=\\\"group-list\\\" auth=\\\"vm.auth\\\"></section-list>\\n  </div> -->\\n  \\n  \\n</div>\\n\";\n",
    "'use strict';\n\n/**\n * uiConstants is a set of globally used constants across the application.\n */\n\nmodule.exports = {\n  TAB_ANNOTATIONS: 'annotation',\n  TAB_PAGEINFO: 'pageinfo',\n  TAB_NOTES: 'note',\n  WEB_CLIP: 'WebClip',\n  TAB_ORPHANS: 'orphan',\n};\n",
    "'use strict';\n\n/**\n * Parses H account names of the form 'acct:<username>@<provider>'\n * into a {username, provider} object or null if the input does not\n * match the expected form.\n */\nfunction parseAccountID(user) {\n  if (!user) {\n    return null;\n  }\n  var match = user.match(/^acct:([^@]+)@(.+)/);\n  if (!match) {\n    return null;\n  }\n  return {\n    username: match[1],\n    provider: match[2],\n  };\n}\n\n/**\n * Returns the username part of an account ID or an empty string.\n */\nfunction username(user) {\n  var account = parseAccountID(user);\n  if (!account) {\n    return '';\n  }\n  return account.username;\n}\n\n/**\n * Returns true if the authority is of a 3rd party user.\n */\nfunction isThirdPartyUser(user, authDomain) {\n  var account = parseAccountID(user);\n\n  if (!account) {\n    return false;\n  }\n\n  //return account.provider !== authDomain;\n  return false;\n}\n\nmodule.exports = {\n  isThirdPartyUser: isThirdPartyUser,\n  parseAccountID: parseAccountID,\n  username: username,\n};\n",
    "'use strict';\n\n/**\n * Return the number of elements in `ary` for which `predicate` returns true.\n *\n * @param {Array} ary\n * @param {Function} predicate\n */\nfunction countIf(ary, predicate) {\n  return ary.reduce(function (count, item) {\n    return predicate(item) ? count + 1 : count;\n  }, 0);\n}\n\n/**\n * Create a new array with the result of calling `mapFn` on every element in\n * `ary`.\n *\n * Only truthy values are included in the resulting array.\n *\n * @param {Array} ary\n * @param {Function} mapFn\n */\nfunction filterMap(ary, mapFn) {\n  return ary.reduce(function (newArray, item) {\n    var mapped = mapFn(item);\n    if (mapped) {\n      newArray.push(mapped);\n    }\n    return newArray;\n  }, []);\n}\n\n/**\n * Convert an array to a set represented as an object.\n *\n * @param {string[]} list - List of keys for the set.\n */\nfunction toSet(list) {\n  return list.reduce(function (set, key) {\n    set[key] = true;\n    return set;\n  }, {});\n}\n\nmodule.exports = {\n  countIf: countIf,\n  filterMap: filterMap,\n  toSet: toSet,\n};\n",
    "'use strict';\n\n// cached date formatting instance.\n// See https://github.com/hypothesis/h/issues/2820#issuecomment-166285361\nvar formatter;\n\n/**\n * Returns a standard human-readable representation\n * of a date and time.\n */\nfunction format(date) {\n  if (typeof Intl !== 'undefined' && Intl.DateTimeFormat) {\n    if (!formatter) {\n      formatter = new Intl.DateTimeFormat(undefined, {\n        year: 'numeric',\n        month: 'short',\n        day: '2-digit',\n        weekday: 'long',\n        hour: '2-digit',\n        minute: '2-digit',\n      });\n    }\n    return formatter.format(date);\n  } else {\n    // IE < 11, Safari <= 9.0.\n    // In English, this generates the string most similar to\n    // the toLocaleDateString() result above.\n    return date.toDateString() + ' ' + date.toLocaleTimeString();\n  }\n}\n\nmodule.exports = {\n  format: format,\n};\n",
    "'use strict';\n\n/**\n * Prevent windows or tabs opened via links under `root` from accessing their\n * opening `Window`.\n *\n * This makes links with `target=\"blank\"` attributes act as if they also had\n * the `rel=\"noopener\"` [1] attribute set.\n *\n * In addition to preventing tab-jacking [2], this also enables multi-process\n * browsers to more easily use a new process for instances of Hypothesis in the\n * newly-opened tab and works around a bug in Chrome [3]\n *\n * [1] https://developer.mozilla.org/en-US/docs/Web/HTML/Link_types#noopener\n * [2] https://mathiasbynens.github.io/rel-noopener/\n * [3] https://bugs.chromium.org/p/chromium/issues/detail?id=753314\n *\n * @param {Element} root - Root element\n */\nfunction disableOpenerForExternalLinks(root) {\n  root.addEventListener('click', event => {\n    if (event.target.tagName === 'A') {\n      var linkEl = event.target;\n      if (linkEl.target === '_blank') {\n        linkEl.rel = 'noopener';\n      }\n    }\n  });\n}\n\nmodule.exports = disableOpenerForExternalLinks;\n",
    "'use strict';\n\nfunction toPx(val) {\n  return val.toString() + 'px';\n}\n\n/**\n * Interface used by ExcerptOverflowMonitor to retrieve the state of the\n * <excerpt> and report when the state changes.\n *\n * interface Excerpt {\n *   getState(): State;\n *   contentHeight(): number | undefined;\n *   onOverflowChanged(): void;\n * }\n */\n\n/**\n * A helper for the <excerpt> component which handles determinination of the\n * overflow state and content styling given the current state of the component\n * and the height of its contents.\n *\n * When the state of the excerpt or its content changes, the component should\n * call check() to schedule an async update of the overflow state.\n *\n * @param {Excerpt} excerpt - Interface used to query the current state of the\n *        excerpt and notify it when the overflow state changes.\n * @param {(callback) => number} requestAnimationFrame -\n *        Function called to schedule an async recalculation of the overflow\n *        state.\n */\nfunction ExcerptOverflowMonitor(excerpt, requestAnimationFrame) {\n  var pendingUpdate = false;\n\n  // Last-calculated overflow state\n  var prevOverflowing;\n\n  function update() {\n    var state = excerpt.getState();\n\n    if (!pendingUpdate) {\n      return;\n    }\n\n    pendingUpdate = false;\n\n    var overflowing = false;\n    if (state.enabled) {\n      var hysteresisPx = state.overflowHysteresis || 0;\n      overflowing = excerpt.contentHeight() >\n        (state.collapsedHeight + hysteresisPx);\n    }\n    if (overflowing === prevOverflowing) {\n      return;\n    }\n\n    prevOverflowing = overflowing;\n    excerpt.onOverflowChanged(overflowing);\n  }\n\n  /**\n   * Schedule a deferred check of whether the content is collapsed.\n   */\n  function check() {\n    if (pendingUpdate) {\n      return;\n    }\n    pendingUpdate = true;\n    requestAnimationFrame(update);\n  }\n\n  /**\n   * Returns an object mapping CSS properties to values that should be applied\n   * to an excerpt's content element in order to truncate it based on the\n   * current overflow state.\n   */\n  function contentStyle() {\n    var state = excerpt.getState();\n    if (!state.enabled) {\n      return {};\n    }\n\n    var maxHeight = '';\n    if (prevOverflowing) {\n      if (state.collapse) {\n        maxHeight = toPx(state.collapsedHeight);\n      } else if (state.animate) {\n        // Animating the height change requires that the final\n        // height be specified exactly, rather than relying on\n        // auto height\n        maxHeight = toPx(excerpt.contentHeight());\n      }\n    } else if (typeof prevOverflowing === 'undefined' &&\n               state.collapse) {\n      // If the excerpt is collapsed but the overflowing state has not yet\n      // been computed then the exact max height is unknown, but it will be\n      // in the range [state.collapsedHeight, state.collapsedHeight +\n      // state.overflowHysteresis]\n      //\n      // Here we guess that the final content height is most likely to be\n      // either less than `collapsedHeight` or more than `collapsedHeight` +\n      // `overflowHysteresis`, in which case it will be truncated to\n      // `collapsedHeight`.\n      maxHeight = toPx(state.collapsedHeight);\n    }\n\n    return {\n      'max-height': maxHeight,\n    };\n  }\n\n  this.contentStyle = contentStyle;\n  this.check = check;\n}\n\nmodule.exports = ExcerptOverflowMonitor;\n",
    "'use strict';\n\nconst immutable = require('seamless-immutable');\n\n // TODO: Update when this is a property available on the API response\nconst DEFAULT_ORG_ID = '__default__';\n\n/**\n * Generate consistent object keys for organizations so that they\n * may be sorted\n *\n * @param {Object} organization\n * @return {String}\n */\nfunction orgKey (organization) {\n  if (organization.id === DEFAULT_ORG_ID) {  return DEFAULT_ORG_ID; }\n  return `${organization.name.toLowerCase()}${organization.id}`;\n}\n\n/**\n * Add a clone of the group object to the given organization object's\n * groups Array.\n *\n * @param {Group} group\n * @param {Object} organization\n * @return undefined - organization is mutated in place\n */\nfunction addGroup (group, organization) {\n  // Object.assign won't suffice because of nested objects on groups\n  const groupObj = Object.assign({}, group);\n  const groupList = organization.groups;\n\n  if (!groupList.length && group.organization.logo) {\n    groupObj.logo = group.organization.logo;\n  }\n\n  groupList.push(immutable(groupObj));\n}\n\n/**\n * Iterate over groups and locate unique organizations. Slot groups into\n * their appropriate \"parent\" organizations.\n *\n * @param {Array<Group>} groups\n * @return {Object} - A collection of all unique organizations, containing\n *                    their groups. Keyed by each org's \"orgKey\"\n */\nfunction organizations (groups) {\n  const orgs = {};\n  groups.forEach(group => {\n    // Ignore groups with undefined or non-object organizations\n    if (typeof group.organization !== 'object') { return; }\n    const orgId = orgKey(group.organization);\n    if (typeof orgs[orgId] === 'undefined') { // First time we've seen this org\n      orgs[orgId] = Object.assign({}, group.organization);\n      orgs[orgId].groups = []; // Will hold this org's groups\n    }\n    addGroup(group, orgs[orgId]); // Add the current group to its organization's groups\n  });\n  return orgs;\n}\n\n/**\n * Take groups as returned from API service and sort them by which organization\n * they are in (all groups within a given organization will be contiguous\n * in the resulting Array).\n *\n * Groups with no organization or an unexpanded organization\n * will be omitted from the resulting Array.\n *\n * Organization ordering is by name, secondarily (pub)ID. Groups in the default\n * organization will appear at the end of the list. The first group\n * in each organization will have a logo property (if available on the\n * organization).\n *\n * @param {Array<Group>} groups\n * @return {Array<Object>} - groups sorted by which organization they're in\n */\nfunction groupsByOrganization (groups) {\n  const orgs = organizations(groups);\n  const defaultOrganizationGroups = [];\n  const sortedGroups = [];\n\n  const sortedOrgKeys = Object.keys(orgs).sort();\n  sortedOrgKeys.forEach(orgKey => {\n    if (orgKey === DEFAULT_ORG_ID) { // Handle default groups separately\n      defaultOrganizationGroups.push(...orgs[orgKey].groups);\n    } else {\n      sortedGroups.push(...orgs[orgKey].groups);\n    }\n  });\n\n  if (defaultOrganizationGroups.length) { // Put default groups at end\n    sortedGroups.push(...defaultOrganizationGroups);\n  }\n\n  return sortedGroups;\n}\n\nmodule.exports = groupsByOrganization;\n",
    "'use strict';\n\nconst serviceConfig = require('../service-config');\n\n/**\n * Return `true` if the first configured service is a \"third-party\" service.\n *\n * Return `true` if the first custom annotation service configured in the\n * services array in the host page is a third-party service, `false` otherwise.\n *\n * If no custom annotation services are configured then return `false`.\n *\n * @param {Object} settings - the sidebar settings object\n *\n */\nfunction isThirdPartyService(settings) {\n  const service = serviceConfig(settings);\n\n  if (service === null) {\n    return false;\n  }\n\n  if (!service.hasOwnProperty('authority')) {\n    return false;\n  }\n\n  return (service.authority !== settings.authDomain);\n}\n\nmodule.exports = isThirdPartyService;\n",
    "'use strict';\n\n/**\n * A simple memoization function which caches the last result of\n * a single-argument function.\n *\n * The argument to the input function may be of any type and is compared\n * using reference equality.\n */\nfunction memoize(fn) {\n  if (fn.length !== 1) {\n    throw new Error('Memoize input must be a function of one argument');\n  }\n\n  var lastArg;\n  var lastResult;\n\n  return function (arg) {\n    if (arg === lastArg) {\n      return lastResult;\n    }\n    lastArg = arg;\n    lastResult = fn(arg);\n    return lastResult;\n  };\n}\n\nmodule.exports = memoize;\n",
    "'use strict';\n\nvar queryString = require('query-string');\n\nvar random = require('./random');\n\n/**\n * An object holding the details of an access token from the tokenUrl endpoint.\n * @typedef {Object} TokenInfo\n * @property {string} accessToken  - The access token itself.\n * @property {number} expiresAt    - The date when the timestamp will expire.\n * @property {string} refreshToken - The refresh token that can be used to\n *                                   get a new access token.\n */\n\n/**\n * Return a new TokenInfo object from the given tokenUrl endpoint response.\n * @param {Object} response - The HTTP response from a POST to the tokenUrl\n *                            endpoint (an Angular $http response object).\n * @returns {TokenInfo}\n */\nfunction tokenInfoFrom(response) {\n  var data = response.data;\n  return {\n    accessToken:  data.access_token,\n\n    // Set the expiry date to some time slightly before that implied by\n    // `expires_in` to account for the delay in the client receiving the\n    // response.\n    expiresAt: Date.now() + ((data.expires_in - 10) * 1000),\n\n    refreshToken: data.refresh_token,\n  };\n}\n\n/**\n * Generate a short random string suitable for use as the \"state\" param in\n * authorization requests.\n *\n * See https://tools.ietf.org/html/rfc6749#section-4.1.1.\n */\nfunction generateState() {\n  return random.generateHexString(16);\n}\n\n/**\n * OAuthClient configuration.\n *\n * @typedef {Object} Config\n * @property {string} clientId - OAuth client ID\n * @property {string} tokenEndpoint - OAuth token exchange/refresh endpoint\n * @property {string} authorizationEndpoint - OAuth authorization endpoint\n * @property {string} revokeEndpoint - RFC 7009 token revocation endpoint\n * @property {() => string} [generateState] - Authorization \"state\" parameter generator\n */\n\n/**\n * OAuthClient handles interaction with the annotation service's OAuth\n * endpoints.\n */\nclass OAuthClient {\n  /**\n   * Create a new OAuthClient\n   *\n   * @param {Object} $http - HTTP client\n   * @param {Config} config\n   */\n  constructor($http, config) {\n    this.$http = $http;\n\n    this.clientId = config.clientId;\n    this.tokenEndpoint = config.tokenEndpoint;\n    this.authorizationEndpoint = config.authorizationEndpoint;\n    this.revokeEndpoint = config.revokeEndpoint;\n\n    // Test seam\n    this.generateState = config.generateState || generateState;\n  }\n\n  /**\n   * Exchange an authorization code for access and refresh tokens.\n   *\n   * @param {string} code\n   * @return {Promise<TokenInfo>}\n   */\n  exchangeAuthCode(code) {\n    var data = {\n      client_id: this.clientId,\n      grant_type: 'authorization_code',\n      code,\n    };\n    return this._formPost(this.tokenEndpoint, data).then((response) => {\n      if (response.status !== 200) {\n        throw new Error('Authorization code exchange failed');\n      }\n      return tokenInfoFrom(response);\n    });\n  }\n\n  /**\n   * Exchange a grant token for access and refresh tokens.\n   *\n   * See https://tools.ietf.org/html/rfc7523#section-4\n   *\n   * @param {string} token\n   * @return {Promise<TokenInfo>}\n   */\n  exchangeGrantToken(token) {\n    var data = {\n      grant_type: 'urn:ietf:params:oauth:grant-type:jwt-bearer',\n      assertion: token,\n    };\n    return this._formPost(this.tokenEndpoint, data).then(response => {\n      if (response.status !== 200) {\n        throw new Error('Failed to retrieve access token');\n      }\n      return tokenInfoFrom(response);\n    });\n  }\n\n  /**\n   * Refresh an access and refresh token pair.\n   *\n   * See https://tools.ietf.org/html/rfc6749#section-6\n   *\n   * @param {string} refreshToken\n   * @return {Promise<TokenInfo>}\n   */\n  refreshToken(refreshToken) {\n    var data = { grant_type: 'refresh_token', refresh_token: refreshToken };\n    return this._formPost(this.tokenEndpoint, data).then((response) => {\n      if (response.status !== 200) {\n        throw new Error('Failed to refresh access token');\n      }\n      return tokenInfoFrom(response);\n    });\n  }\n\n  /**\n   * Revoke an access and refresh token pair.\n   *\n   * @param {string} accessToken\n   * @return {Promise}\n   */\n  revokeToken(accessToken) {\n    return this._formPost(this.revokeEndpoint, { token: accessToken });\n  }\n\n  /**\n   * Prompt the user for permission to access their data.\n   *\n   * Returns an authorization code which can be passed to `exchangeAuthCode`.\n   *\n   * @param {Window} $window - Window which will receive the auth response.\n   * @param {Window} authWindow - Popup window where the login prompt will be shown.\n   *   This should be created using `openAuthPopupWindow`.\n   * @return {Promise<string>}\n   */\n  authorize($window, authWindow) {\n    // Random state string used to check that auth messages came from the popup\n    // window that we opened.\n    var state = this.generateState();\n\n    // Promise which resolves or rejects when the user accepts or closes the\n    // auth popup.\n    var authResponse = new Promise((resolve, reject) => {\n      function authRespListener(event) {\n        if (typeof event.data !== 'object') {\n          return;\n        }\n\n        if (event.data.state !== state) {\n          // This message came from a different popup window.\n          return;\n        }\n\n        if (event.data.type === 'authorization_response') {\n          resolve(event.data);\n        }\n        if (event.data.type === 'authorization_canceled') {\n          reject(new Error('Authorization window was closed'));\n        }\n        $window.removeEventListener('message', authRespListener);\n      }\n      $window.addEventListener('message', authRespListener);\n    });\n\n    // Authorize user and retrieve grant token\n    var authUrl = this.authorizationEndpoint;\n    authUrl += '?' + queryString.stringify({\n      client_id: this.clientId,\n      origin: $window.location.origin,\n      response_mode: 'web_message',\n      response_type: 'code',\n      state: state,\n    });\n    authWindow.location = authUrl;\n\n    return authResponse.then(rsp => rsp.code);\n  }\n\n  /**\n   * Make an `application/x-www-form-urlencoded` POST request.\n   *\n   * @param {string} url\n   * @param {Object} data - Parameter dictionary\n   */\n  _formPost(url, data) {\n    data = queryString.stringify(data);\n    var requestConfig = {\n      headers: {'Content-Type': 'application/x-www-form-urlencoded'},\n    };\n    return this.$http.post(url, data, requestConfig);\n  }\n\n  /**\n   * Create and show a pop-up window for use with `OAuthClient#authorize`.\n   *\n   * This function _must_ be called in the same turn of the event loop as the\n   * button or link which initiates login to avoid triggering the popup blocker\n   * in certain browsers. See https://github.com/hypothesis/client/issues/534\n   * and https://github.com/hypothesis/client/issues/535.\n   *\n   * @param {Window} $window - The parent of the created window.\n   * @return {Window} The new popup window.\n   */\n  static openAuthPopupWindow($window) {\n    // In Chrome & Firefox the sizes passed to `window.open` are used for the\n    // viewport size. In Safari the size is used for the window size including\n    // title bar etc. There is enough vertical space at the bottom to allow for\n    // this.\n    //\n    // See https://bugs.webkit.org/show_bug.cgi?id=143678\n    var width  = 475;\n    var height = 430;\n    var left   = $window.screen.width / 2 - width / 2;\n    var top    = $window.screen.height /2 - height / 2;\n\n    // Generate settings for `window.open` in the required comma-separated\n    // key=value format.\n    var authWindowSettings = queryString.stringify({\n      left: left,\n      top: top,\n      width: width,\n      height: height,\n    }).replace(/&/g, ',');\n    var authUrl = this.authorizationEndpoint;\n    return $window.open('about:blank', 'Log in to Hypothesis', authWindowSettings);\n  }\n}\n\nmodule.exports = OAuthClient;\n",
    "'use strict';\n\n/* global Uint8Array */\n\nfunction byteToHex(val) {\n  var str = val.toString(16);\n  return str.length === 1 ? '0' + str : str;\n}\n\n/**\n * Generate a random hex string of `len` chars.\n *\n * @param {number} - An even-numbered length string to generate.\n * @return {string}\n */\nfunction generateHexString(len) {\n  var crypto = window.crypto || window.msCrypto /* IE 11 */;\n  var bytes = new Uint8Array(len / 2);\n  crypto.getRandomValues(bytes);\n  return Array.from(bytes).map(byteToHex).join('');\n}\n\nmodule.exports = {\n  generateHexString,\n};\n",
    "'use strict';\n\nvar retry = require('retry');\n\n/**\n * Retry a Promise-returning operation until it succeeds or\n * fails after a set number of attempts.\n *\n * @param {Function} opFn - The operation to retry\n * @param {Object} options - The options object to pass to retry.operation()\n *\n * @return A promise for the first successful result of the operation, if\n *         it succeeds within the allowed number of attempts.\n */\nfunction retryPromiseOperation(opFn, options) {\n  return new Promise(function (resolve, reject) {\n    var operation = retry.operation(options);\n    operation.attempt(function () {\n      opFn().then(function (result) {\n        operation.retry();\n        resolve(result);\n      }).catch(function (err) {\n        if (!operation.retry(err)) {\n          reject(err);\n        }\n      });\n    });\n  });\n}\n\nmodule.exports = {\n  retryPromiseOperation: retryPromiseOperation,\n};\n",
    "'use strict';\n\n/**\n * Sets a timeout which is linked to the lifetime of an Angular scope.\n *\n * When the scope is destroyed, the timeout will be cleared if it has\n * not already fired.\n *\n * The callback is not invoked within a $scope.$apply() context. It is up\n * to the caller to do that if necessary.\n *\n * @param {Scope} $scope - An Angular scope\n * @param {Function} fn - Callback to invoke with setTimeout\n * @param {number} delay - Delay argument to pass to setTimeout\n */\nmodule.exports = function ($scope, fn, delay, setTimeoutFn, clearTimeoutFn) {\n  setTimeoutFn = setTimeoutFn || setTimeout;\n  clearTimeoutFn = clearTimeoutFn || clearTimeout;\n\n  var removeDestroyHandler;\n  var id = setTimeoutFn(function () {\n    removeDestroyHandler();\n    fn();\n  }, delay);\n  removeDestroyHandler = $scope.$on('$destroy', function () {\n    clearTimeoutFn(id);\n  });\n};\n",
    "'use strict';\n\n/**\n * Returns true if the sidebar tutorial has to be shown to a user for a given session.\n */\nfunction shouldShowSidebarTutorial(sessionState) {\n  if (sessionState.preferences.show_sidebar_tutorial) {\n    return true;\n  }\n  return false;\n}\n\nmodule.exports = {\n  shouldShowSidebarTutorial: shouldShowSidebarTutorial,\n};\n",
    "'use strict';\n\n/**\n * Return a value from app state when it meets certain criteria.\n *\n * `await` returns a Promise which resolves when a selector function,\n * which reads values from a Redux store, returns non-null.\n *\n * @param {Object} store - Redux store\n * @param {Function<T|null>} selector - Function which returns a value from the\n *   store if the criteria is met or `null` otherwise.\n * @return {Promise<T>}\n */\nfunction awaitStateChange(store, selector) {\n  var result = selector(store);\n  if (result !== null) {\n    return Promise.resolve(result);\n  }\n  return new Promise(resolve => {\n    var unsubscribe = store.subscribe(() => {\n      var result = selector(store);\n      if (result !== null) {\n        unsubscribe();\n        resolve(result);\n      }\n    });\n  });\n}\n\nmodule.exports = { awaitStateChange } ;\n",
    "'use strict';\n\nvar minute = 60;\nvar hour = minute * 60;\n\nfunction lessThanThirtySecondsAgo(date, now) {\n  return ((now - date) < 30 * 1000);\n}\n\nfunction lessThanOneMinuteAgo(date, now) {\n  return ((now - date) < 60 * 1000);\n}\n\nfunction lessThanOneHourAgo(date, now) {\n  return ((now - date) < (60 * 60 * 1000));\n}\n\nfunction lessThanOneDayAgo(date, now) {\n  return ((now - date) < (24 * 60 * 60 * 1000));\n}\n\nfunction thisYear(date, now) {\n  return date.getFullYear() === now.getFullYear();\n}\n\nfunction delta(date, now) {\n  return Math.round((now - date) / 1000);\n}\n\nfunction nSec(date, now) {\n  return '{} secs'.replace('{}', Math.floor(delta(date, now)));\n}\n\nfunction nMin(date, now) {\n  var n = Math.floor(delta(date, now) / minute);\n  var template = '{} min';\n\n  if (n > 1) {\n    template = template + 's';\n  }\n\n  return template.replace('{}', n);\n}\n\nfunction nHr(date, now) {\n  var n = Math.floor(delta(date, now) / hour);\n  var template = '{} hr';\n\n  if (n > 1) {\n    template = template + 's';\n  }\n\n  return template.replace('{}', n);\n}\n\n// Cached DateTimeFormat instances,\n// because instantiating a DateTimeFormat is expensive.\nvar formatters = {};\n\n/**\n * Efficiently return `date` formatted with `options`.\n *\n * This is a wrapper for Intl.DateTimeFormat.format() that caches\n * DateTimeFormat instances because they're expensive to create.\n * Calling Date.toLocaleDateString() lots of times is also expensive in some\n * browsers as it appears to create a new formatter for each call.\n *\n * @returns {string}\n *\n */\nfunction format(date, options, Intl) {\n  // If the tests have passed in a mock Intl then use it, otherwise use the\n  // real one.\n  if (typeof Intl === 'undefined') {\n    Intl = window.Intl;\n  }\n\n  if (Intl && Intl.DateTimeFormat) {\n    var key = JSON.stringify(options);\n    var formatter = formatters[key];\n\n    if (!formatter) {\n      formatter = formatters[key] = new Intl.DateTimeFormat(undefined,\n                                                            options);\n    }\n\n    return formatter.format(date);\n  } else {\n    // IE < 11, Safari <= 9.0.\n    return date.toDateString();\n  }\n}\n\nfunction dayAndMonth(date, now, Intl) {\n  return format(date, {month: 'short', day: 'numeric'}, Intl);\n}\n\nfunction dayAndMonthAndYear(date, now, Intl) {\n  return format(date, {day: 'numeric', month: 'short', year: 'numeric'}, Intl);\n}\n\nvar BREAKPOINTS = [\n  {\n    test: lessThanThirtySecondsAgo,\n    format: function () {return 'Just now';},\n    nextUpdate: 1,\n  },\n  {\n    test: lessThanOneMinuteAgo,\n    format: nSec,\n    nextUpdate: 1,\n  },\n  {\n    test: lessThanOneHourAgo,\n    format: nMin,\n    nextUpdate: minute,\n  },\n  {\n    test: lessThanOneDayAgo,\n    format: nHr,\n    nextUpdate: hour,\n  },\n  {\n    test: thisYear,\n    format: dayAndMonth,\n    nextUpdate: null,\n  },\n  {\n    test: function () {return true;},\n    format: dayAndMonthAndYear,\n    nextUpdate: null,\n  },\n];\n\nfunction getBreakpoint(date, now) {\n\n  // Turn the given ISO 8601 string into a Date object.\n  date = new Date(date);\n\n  var breakpoint;\n  for (var i = 0; i < BREAKPOINTS.length; i++) {\n    breakpoint = BREAKPOINTS[i];\n    if (breakpoint.test(date, now)) {\n      return breakpoint;\n    }\n  }\n\n  return null;\n}\n\nfunction nextFuzzyUpdate(date) {\n  if (!date) {\n    return null;\n  }\n\n  var secs = getBreakpoint(date, new Date()).nextUpdate;\n\n  if (secs === null) {\n    return null;\n  }\n\n  // We don't want to refresh anything more often than 5 seconds\n  secs = Math.max(secs, 5);\n\n  // setTimeout limit is MAX_INT32=(2^31-1) (in ms),\n  // which is about 24.8 days. So we don't set up any timeouts\n  // longer than 24 days, that is, 2073600 seconds.\n  secs = Math.min(secs, 2073600);\n\n  return secs;\n}\n\n/**\n * Starts an interval whose frequency decays depending on the relative\n * age of 'date'.\n *\n * This can be used to refresh parts of a UI whose\n * update frequency depends on the age of a timestamp.\n *\n * @return {Function} A function that cancels the automatic refresh.\n */\nfunction decayingInterval(date, callback) {\n  var timer;\n  var update = function () {\n    var fuzzyUpdate = nextFuzzyUpdate(date);\n    if (fuzzyUpdate === null) {\n      return;\n    }\n    var nextUpdate = (1000 * fuzzyUpdate) + 500;\n    timer = setTimeout(function () {\n      callback(date);\n      update();\n    }, nextUpdate);\n  };\n  update();\n\n  return function () {\n    clearTimeout(timer);\n  };\n}\n\n/**\n * Formats a date as a string relative to the current date.\n *\n * @param {number} date - The absolute timestamp to format.\n * @return {string} A 'fuzzy' string describing the relative age of the date.\n */\nfunction toFuzzyString(date, Intl) {\n  if (!date) {\n    return '';\n  }\n  var now = new Date();\n\n  return getBreakpoint(date, now).format(new Date(date), now, Intl);\n}\n\nmodule.exports = {\n  decayingInterval: decayingInterval,\n  nextFuzzyUpdate: nextFuzzyUpdate,\n  toFuzzyString: toFuzzyString,\n};\n",
    "'use strict';\n\n/**\n * Replace parameters in a URL template with values from a `params` object.\n *\n * Returns an object containing the expanded URL and a dictionary of unused\n * parameters.\n *\n *   replaceURLParams('/things/:id', {id: 'foo', q: 'bar'}) =>\n *     {url: '/things/foo', params: {q: 'bar'}}\n */\nfunction replaceURLParams(url, params) {\n\tvar unusedParams = {};\n\tfor (var param in params) {\n\t\tif (params.hasOwnProperty(param)) {\n\t\t\tvar value = params[param];\n\t\t\tvar urlParam = ':' + param;\n\t\t\tif (url.indexOf(urlParam) !== -1) {\n\t\t\t\turl = url.replace(urlParam, encodeURIComponent(value));\n\t\t\t} else {\n\t\t\t\tunusedParams[param] = value;\n\t\t\t}\n\t\t}\n\t}\n\treturn { url: url, params: unusedParams };\n}\n\n/**\n * Resolve a relative URL against a base URL to get an absolute URL.\n *\n * @param {string} relativeURL\n * @param {string} baseURL\n */\nfunction resolve(relativeURL, baseURL) {\n\treturn new URL(relativeURL, baseURL).href;\n}\n\n\nfunction parseUrl(url) {\n\tvar parser = document.createElement('a'), searchObject = {}, queries, split, i;\n\tparser.href = url;\n\tqueries = parser.search.replace(/^\\?/, '').split('&');\n\n\tvar pathname = parser.pathname;\n\tif (angular.isString(pathname) && pathname.trim().charAt(0) !== \"/\") {\n\t\tpathname = \"/\" + pathname;\n\t}\n\n\tfor (i = 0; i < queries.length; i++) {\n\t\tsplit = queries[i].split('=');\n\t\tsearchObject[split[0]] = split[1];\n\t}\n\n\treturn {\n\t\tprotocol: parser.protocol, // ex: http:\n\t\thost: parser.host, // ex: localhost:3000\n\t\thostname: parser.hostname, // ex: localhost\n\t\tport: parser.port, // ex: 3000\n\t\tpathname: pathname, // ex: /models\n\t\tsearch: parser.search,\n\t\tsearchObject: searchObject,\n\t\thash: parser.hash\n\t};\n\n}\n\n\nmodule.exports = {\n\treplaceURLParams: replaceURLParams,\n\tresolve: resolve,\n\tparseUrl : parseUrl,\n};\n",
    "/*! angularjs-slider - v6.6.1 - \n (c) Rafal Zajac <rzajac@gmail.com>, Valentin Hervieu <valentin@hervieu.me>, Jussi Saarivirta <jusasi@gmail.com>, Angelin Sirbu <angelin.sirbu@gmail.com> - \n https://github.com/angular-slider/angularjs-slider - \n 2018-06-30 */\n/*jslint unparam: true */\n/*global angular: false, console: false, define, module */\n;(function(root, factory) {\n  'use strict'\n  /* istanbul ignore next */\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define(['angular'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    // to support bundler like browserify\n    var angularObj = angular || require('angular')\n    if ((!angularObj || !angularObj.module) && typeof angular != 'undefined') {\n      angularObj = angular\n    }\n    module.exports = factory(angularObj)\n  } else {\n    // Browser globals (root is window)\n    factory(root.angular)\n  }\n})(this, function(angular) {\n  'use strict'\n  var module = angular\n    .module('rzModule', [])\n    .factory('RzSliderOptions', function() {\n      var defaultOptions = {\n        floor: 0,\n        ceil: null, //defaults to rz-slider-model\n        step: 1,\n        precision: 0,\n        minRange: null,\n        maxRange: null,\n        restrictedRange: null,\n        pushRange: false,\n        minLimit: null,\n        maxLimit: null,\n        id: null,\n        translate: null,\n        getLegend: null,\n        stepsArray: null,\n        bindIndexForStepsArray: false,\n        draggableRange: false,\n        draggableRangeOnly: false,\n        showSelectionBar: false,\n        showSelectionBarEnd: false,\n        showSelectionBarFromValue: null,\n        showOuterSelectionBars: false,\n        hidePointerLabels: false,\n        hideLimitLabels: false,\n        autoHideLimitLabels: true,\n        readOnly: false,\n        disabled: false,\n        interval: 350,\n        showTicks: false,\n        showTicksValues: false,\n        ticksArray: null,\n        ticksTooltip: null,\n        ticksValuesTooltip: null,\n        vertical: false,\n        getSelectionBarColor: null,\n        getTickColor: null,\n        getPointerColor: null,\n        keyboardSupport: true,\n        scale: 1,\n        enforceStep: true,\n        enforceRange: false,\n        noSwitching: false,\n        onlyBindHandles: false,\n        onStart: null,\n        onChange: null,\n        onEnd: null,\n        rightToLeft: false,\n        reversedControls: false,\n        boundPointerLabels: true,\n        mergeRangeLabelsIfSame: false,\n        labelOverlapSeparator: ' - ',\n        customTemplateScope: null,\n        logScale: false,\n        customValueToPosition: null,\n        customPositionToValue: null,\n        selectionBarGradient: null,\n        ariaLabel: null,\n        ariaLabelledBy: null,\n        ariaLabelHigh: null,\n        ariaLabelledByHigh: null,\n      }\n      var globalOptions = {}\n\n      var factory = {}\n      /**\n       * `options({})` allows global configuration of all sliders in the\n       * application.\n       *\n       *   var app = angular.module( 'App', ['rzModule'], function( RzSliderOptions ) {\n       *     // show ticks for all sliders\n       *     RzSliderOptions.options( { showTicks: true } );\n       *   });\n       */\n      factory.options = function(value) {\n        angular.extend(globalOptions, value)\n      }\n\n      factory.getOptions = function(options) {\n        return angular.extend({}, defaultOptions, globalOptions, options)\n      }\n\n      return factory\n    })\n    .factory('rzThrottle', ['$timeout', function($timeout) {\n      /**\n       * rzThrottle\n       *\n       * Taken from underscore project\n       *\n       * @param {Function} func\n       * @param {number} wait\n       * @param {ThrottleOptions} options\n       * @returns {Function}\n       */\n      return function(func, wait, options) {\n        'use strict'\n        /* istanbul ignore next */\n        var getTime =\n          Date.now ||\n          function() {\n            return new Date().getTime()\n          }\n        var context, args, result\n        var timeout = null\n        var previous = 0\n        options = options || {}\n        var later = function() {\n          previous = getTime()\n          timeout = null\n          result = func.apply(context, args)\n          context = args = null\n        }\n        return function() {\n          var now = getTime()\n          var remaining = wait - (now - previous)\n          context = this\n          args = arguments\n          if (remaining <= 0) {\n            $timeout.cancel(timeout)\n            timeout = null\n            previous = now\n            result = func.apply(context, args)\n            context = args = null\n          } else if (!timeout && options.trailing !== false) {\n            timeout = $timeout(later, remaining)\n          }\n          return result\n        }\n      }\n    }])\n    .factory('RzSlider', ['$timeout', '$document', '$window', '$compile', 'RzSliderOptions', 'rzThrottle', function(\n      $timeout,\n      $document,\n      $window,\n      $compile,\n      RzSliderOptions,\n      rzThrottle\n    ) {\n      'use strict'\n\n      /**\n       * Slider\n       *\n       * @param {ngScope} scope            The AngularJS scope\n       * @param {Element} sliderElem The slider directive element wrapped in jqLite\n       * @constructor\n       */\n      var Slider = function(scope, sliderElem) {\n        /**\n         * The slider's scope\n         *\n         * @type {ngScope}\n         */\n        this.scope = scope\n\n        /**\n         * The slider inner low value (linked to rzSliderModel)\n         * @type {number}\n         */\n        this.lowValue = 0\n\n        /**\n         * The slider inner high value (linked to rzSliderHigh)\n         * @type {number}\n         */\n        this.highValue = 0\n\n        /**\n         * Slider element wrapped in jqLite\n         *\n         * @type {jqLite}\n         */\n        this.sliderElem = sliderElem\n\n        /**\n         * Slider type\n         *\n         * @type {boolean} Set to true for range slider\n         */\n        this.range =\n          this.scope.rzSliderModel !== undefined &&\n          this.scope.rzSliderHigh !== undefined\n\n        /**\n         * Values recorded when first dragging the bar\n         *\n         * @type {Object}\n         */\n        this.dragging = {\n          active: false,\n          value: 0,\n          difference: 0,\n          position: 0,\n          lowLimit: 0,\n          highLimit: 0,\n        }\n\n        /**\n         * property that handle position (defaults to left for horizontal)\n         * @type {string}\n         */\n        this.positionProperty = 'left'\n\n        /**\n         * property that handle dimension (defaults to width for horizontal)\n         * @type {string}\n         */\n        this.dimensionProperty = 'width'\n\n        /**\n         * Half of the width or height of the slider handles\n         *\n         * @type {number}\n         */\n        this.handleHalfDim = 0\n\n        /**\n         * Maximum position the slider handle can have\n         *\n         * @type {number}\n         */\n        this.maxPos = 0\n\n        /**\n         * Precision\n         *\n         * @type {number}\n         */\n        this.precision = 0\n\n        /**\n         * Step\n         *\n         * @type {number}\n         */\n        this.step = 1\n\n        /**\n         * The name of the handle we are currently tracking\n         *\n         * @type {string}\n         */\n        this.tracking = ''\n\n        /**\n         * Minimum value (floor) of the model\n         *\n         * @type {number}\n         */\n        this.minValue = 0\n\n        /**\n         * Maximum value (ceiling) of the model\n         *\n         * @type {number}\n         */\n        this.maxValue = 0\n\n        /**\n         * The delta between min and max value\n         *\n         * @type {number}\n         */\n        this.valueRange = 0\n\n        /**\n         * If showTicks/showTicksValues options are number.\n         * In this case, ticks values should be displayed below the slider.\n         * @type {boolean}\n         */\n        this.intermediateTicks = false\n\n        /**\n         * Set to true if init method already executed\n         *\n         * @type {boolean}\n         */\n        this.initHasRun = false\n\n        /**\n         * Used to call onStart on the first keydown event\n         *\n         * @type {boolean}\n         */\n        this.firstKeyDown = false\n\n        /**\n         * Internal flag to prevent watchers to be called when the sliders value are modified internally.\n         * @type {boolean}\n         */\n        this.internalChange = false\n\n        /**\n         * Internal flag to keep track of the visibility of combo label\n         * @type {boolean}\n         */\n        this.cmbLabelShown = false\n\n        /**\n         * Internal variable to keep track of the focus element\n         */\n        this.currentFocusElement = null\n\n        // Slider DOM elements wrapped in jqLite\n        this.fullBar = null // The whole slider bar\n        this.selBar = null // Highlight between two handles\n        this.minH = null // Left slider handle\n        this.maxH = null // Right slider handle\n        this.flrLab = null // Floor label\n        this.ceilLab = null // Ceiling label\n        this.minLab = null // Label above the low value\n        this.maxLab = null // Label above the high value\n        this.cmbLab = null // Combined label\n        this.ticks = null // The ticks\n\n        // Initialize slider\n        this.init()\n      }\n\n      // Add instance methods\n      Slider.prototype = {\n        /**\n         * Initialize slider\n         *\n         * @returns {undefined}\n         */\n        init: function() {\n          var thrLow,\n            thrHigh,\n            self = this\n\n          var calcDimFn = function() {\n            self.calcViewDimensions()\n          }\n\n          this.applyOptions()\n          this.syncLowValue()\n          if (this.range) this.syncHighValue()\n          this.initElemHandles()\n          this.manageElementsStyle()\n          this.setDisabledState()\n          this.calcViewDimensions()\n          this.setMinAndMax()\n          this.updateRestrictionBar()\n          this.addAccessibility()\n          this.updateCeilLab()\n          this.updateFloorLab()\n          this.initHandles()\n          this.manageEventsBindings()\n\n          // Recalculate slider view dimensions\n          this.scope.$on('reCalcViewDimensions', calcDimFn)\n\n          // Recalculate stuff if view port dimensions have changed\n          angular.element($window).on('resize', calcDimFn)\n\n          this.initHasRun = true\n\n          // Watch for changes to the model\n          thrLow = rzThrottle(function() {\n            self.onLowHandleChange()\n          }, self.options.interval)\n\n          thrHigh = rzThrottle(function() {\n            self.onHighHandleChange()\n          }, self.options.interval)\n\n          this.scope.$on('rzSliderForceRender', function() {\n            self.resetLabelsValue()\n            thrLow()\n            if (self.range) {\n              thrHigh()\n            }\n            self.resetSlider()\n          })\n\n          // Watchers (order is important because in case of simultaneous change,\n          // watchers will be called in the same order)\n          this.scope.$watchCollection('rzSliderOptions()', function(\n            newValue,\n            oldValue\n          ) {\n            if (newValue === oldValue) return\n            self.applyOptions() // need to be called before synchronizing the values\n            self.syncLowValue()\n            if (self.range) self.syncHighValue()\n            self.resetSlider()\n          })\n\n          this.scope.$watch('rzSliderModel', function(newValue, oldValue) {\n            if (self.internalChange) return\n            if (newValue === oldValue) return\n            thrLow()\n          })\n\n          this.scope.$watch('rzSliderHigh', function(newValue, oldValue) {\n            if (self.internalChange) return\n            if (newValue === oldValue) return\n            if (newValue != null) thrHigh()\n            if (\n              (self.range && newValue == null) ||\n              (!self.range && newValue != null)\n            ) {\n              self.applyOptions()\n              self.resetSlider()\n            }\n          })\n\n          this.scope.$on('$destroy', function() {\n            self.unbindEvents()\n            angular.element($window).off('resize', calcDimFn)\n            self.currentFocusElement = null\n          })\n        },\n\n        findStepIndex: function(modelValue) {\n          var index = 0\n          for (var i = 0; i < this.options.stepsArray.length; i++) {\n            var step = this.options.stepsArray[i]\n            if (step === modelValue) {\n              index = i\n              break\n            } else if (angular.isDate(step)) {\n              if (step.getTime() === modelValue.getTime()) {\n                index = i\n                break\n              }\n            } else if (angular.isObject(step)) {\n              if (\n                (angular.isDate(step.value) &&\n                  step.value.getTime() === modelValue.getTime()) ||\n                step.value === modelValue\n              ) {\n                index = i\n                break\n              }\n            }\n          }\n          return index\n        },\n\n        syncLowValue: function() {\n          if (this.options.stepsArray) {\n            if (!this.options.bindIndexForStepsArray)\n              this.lowValue = this.findStepIndex(this.scope.rzSliderModel)\n            else this.lowValue = this.scope.rzSliderModel\n          } else this.lowValue = this.scope.rzSliderModel\n        },\n\n        syncHighValue: function() {\n          if (this.options.stepsArray) {\n            if (!this.options.bindIndexForStepsArray)\n              this.highValue = this.findStepIndex(this.scope.rzSliderHigh)\n            else this.highValue = this.scope.rzSliderHigh\n          } else this.highValue = this.scope.rzSliderHigh\n        },\n\n        getStepValue: function(sliderValue) {\n          var step = this.options.stepsArray[sliderValue]\n          if (angular.isDate(step)) return step\n          if (angular.isObject(step)) return step.value\n          return step\n        },\n\n        applyLowValue: function() {\n          if (this.options.stepsArray) {\n            if (!this.options.bindIndexForStepsArray)\n              this.scope.rzSliderModel = this.getStepValue(this.lowValue)\n            else this.scope.rzSliderModel = this.lowValue\n          } else this.scope.rzSliderModel = this.lowValue\n        },\n\n        applyHighValue: function() {\n          if (this.options.stepsArray) {\n            if (!this.options.bindIndexForStepsArray)\n              this.scope.rzSliderHigh = this.getStepValue(this.highValue)\n            else this.scope.rzSliderHigh = this.highValue\n          } else this.scope.rzSliderHigh = this.highValue\n        },\n\n        /*\n       * Reflow the slider when the low handle changes (called with throttle)\n       */\n        onLowHandleChange: function() {\n          this.syncLowValue()\n          if (this.range) this.syncHighValue()\n          this.setMinAndMax()\n          this.updateLowHandle(this.valueToPosition(this.lowValue))\n          this.updateSelectionBar()\n          this.updateTicksScale()\n          this.updateAriaAttributes()\n          if (this.range) {\n            this.updateCmbLabel()\n          }\n        },\n\n        /*\n       * Reflow the slider when the high handle changes (called with throttle)\n       */\n        onHighHandleChange: function() {\n          this.syncLowValue()\n          this.syncHighValue()\n          this.setMinAndMax()\n          this.updateHighHandle(this.valueToPosition(this.highValue))\n          this.updateSelectionBar()\n          this.updateTicksScale()\n          this.updateCmbLabel()\n          this.updateAriaAttributes()\n        },\n\n        /**\n         * Read the user options and apply them to the slider model\n         */\n        applyOptions: function() {\n          var sliderOptions\n          if (this.scope.rzSliderOptions)\n            sliderOptions = this.scope.rzSliderOptions()\n          else sliderOptions = {}\n\n          this.options = RzSliderOptions.getOptions(sliderOptions)\n\n          if (this.options.step <= 0) this.options.step = 1\n\n          this.range =\n            this.scope.rzSliderModel !== undefined &&\n            this.scope.rzSliderHigh !== undefined\n          this.options.draggableRange =\n            this.range && this.options.draggableRange\n          this.options.draggableRangeOnly =\n            this.range && this.options.draggableRangeOnly\n          if (this.options.draggableRangeOnly) {\n            this.options.draggableRange = true\n          }\n\n          this.options.showTicks =\n            this.options.showTicks ||\n            this.options.showTicksValues ||\n            !!this.options.ticksArray\n          this.scope.showTicks = this.options.showTicks //scope is used in the template\n          if (\n            angular.isNumber(this.options.showTicks) ||\n            this.options.ticksArray\n          )\n            this.intermediateTicks = true\n\n          this.options.showSelectionBar =\n            this.options.showSelectionBar ||\n            this.options.showSelectionBarEnd ||\n            this.options.showSelectionBarFromValue !== null\n\n          if (this.options.stepsArray) {\n            this.parseStepsArray()\n          } else {\n            if (this.options.translate) this.customTrFn = this.options.translate\n            else\n              this.customTrFn = function(value) {\n                return String(value)\n              }\n\n            this.getLegend = this.options.getLegend\n          }\n\n          if (this.options.vertical) {\n            this.positionProperty = 'bottom'\n            this.dimensionProperty = 'height'\n          }\n\n          if (this.options.customTemplateScope)\n            this.scope.custom = this.options.customTemplateScope\n        },\n\n        parseStepsArray: function() {\n          this.options.floor = 0\n          this.options.ceil = this.options.stepsArray.length - 1\n          this.options.step = 1\n\n          if (this.options.translate) {\n            this.customTrFn = this.options.translate\n          } else {\n            this.customTrFn = function(modelValue) {\n              if (this.options.bindIndexForStepsArray)\n                return this.getStepValue(modelValue)\n              return modelValue\n            }\n          }\n\n          this.getLegend = function(index) {\n            var step = this.options.stepsArray[index]\n            if (angular.isObject(step)) return step.legend\n            return null\n          }\n        },\n\n        /**\n         * Resets slider\n         *\n         * @returns {undefined}\n         */\n        resetSlider: function() {\n          this.manageElementsStyle()\n          this.addAccessibility()\n          this.setMinAndMax()\n          this.updateCeilLab()\n          this.updateFloorLab()\n          this.unbindEvents()\n          this.manageEventsBindings()\n          this.setDisabledState()\n          this.calcViewDimensions()\n          this.updateRestrictionBar()\n          this.refocusPointerIfNeeded()\n        },\n\n        refocusPointerIfNeeded: function() {\n          if (this.currentFocusElement) {\n            this.onPointerFocus(\n              this.currentFocusElement.pointer,\n              this.currentFocusElement.ref\n            )\n            this.focusElement(this.currentFocusElement.pointer)\n          }\n        },\n\n        /**\n         * Set the slider children to variables for easy access\n         *\n         * Run only once during initialization\n         *\n         * @returns {undefined}\n         */\n        initElemHandles: function() {\n          // Assign all slider elements to object properties for easy access\n          angular.forEach(\n            this.sliderElem.children(),\n            function(elem, index) {\n              var jElem = angular.element(elem)\n\n              switch (index) {\n                case 0:\n                  this.leftOutSelBar = jElem\n                  break\n                case 1:\n                  this.rightOutSelBar = jElem\n                  break\n                case 2:\n                  this.fullBar = jElem\n                  break\n                case 3:\n                  this.selBar = jElem\n                  break\n                case 4:\n                  this.restrictedBar = jElem\n                  break\n                case 5:\n                  this.minH = jElem\n                  break\n                case 6:\n                  this.maxH = jElem\n                  break\n                case 7:\n                  this.flrLab = jElem\n                  break\n                case 8:\n                  this.ceilLab = jElem\n                  break\n                case 9:\n                  this.minLab = jElem\n                  break\n                case 10:\n                  this.maxLab = jElem\n                  break\n                case 11:\n                  this.cmbLab = jElem\n                  break\n                case 12:\n                  this.ticks = jElem\n                  break\n              }\n            },\n            this\n          )\n\n          // Initialize position cache properties\n          this.selBar.rzsp = 0\n          this.minH.rzsp = 0\n          this.maxH.rzsp = 0\n          this.flrLab.rzsp = 0\n          this.ceilLab.rzsp = 0\n          this.minLab.rzsp = 0\n          this.maxLab.rzsp = 0\n          this.cmbLab.rzsp = 0\n        },\n\n        /**\n         * Update each elements style based on options\n         */\n        manageElementsStyle: function() {\n          if (!this.range) this.maxH.css('display', 'none')\n          else this.maxH.css('display', '')\n\n          this.alwaysHide(\n            this.flrLab,\n            this.options.showTicksValues || this.options.hideLimitLabels\n          )\n          this.alwaysHide(\n            this.ceilLab,\n            this.options.showTicksValues || this.options.hideLimitLabels\n          )\n\n          var hideLabelsForTicks =\n            this.options.showTicksValues && !this.intermediateTicks\n          this.alwaysHide(\n            this.minLab,\n            hideLabelsForTicks || this.options.hidePointerLabels\n          )\n          this.alwaysHide(\n            this.maxLab,\n            hideLabelsForTicks || !this.range || this.options.hidePointerLabels\n          )\n          this.alwaysHide(\n            this.cmbLab,\n            hideLabelsForTicks || !this.range || this.options.hidePointerLabels\n          )\n          this.alwaysHide(\n            this.selBar,\n            !this.range && !this.options.showSelectionBar\n          )\n          this.alwaysHide(\n            this.leftOutSelBar,\n            !this.range || !this.options.showOuterSelectionBars\n          )\n          this.alwaysHide(this.restrictedBar, !this.options.restrictedRange)\n          this.alwaysHide(\n            this.rightOutSelBar,\n            !this.range || !this.options.showOuterSelectionBars\n          )\n\n          if (this.range && this.options.showOuterSelectionBars) {\n            this.fullBar.addClass('rz-transparent')\n          }\n\n          if (this.options.vertical) this.sliderElem.addClass('rz-vertical')\n\n          if (this.options.draggableRange) this.selBar.addClass('rz-draggable')\n          else this.selBar.removeClass('rz-draggable')\n\n          if (this.intermediateTicks && this.options.showTicksValues)\n            this.ticks.addClass('rz-ticks-values-under')\n        },\n\n        alwaysHide: function(el, hide) {\n          el.rzAlwaysHide = hide\n          if (hide) this.hideEl(el)\n          else this.showEl(el)\n        },\n\n        /**\n         * Manage the events bindings based on readOnly and disabled options\n         *\n         * @returns {undefined}\n         */\n        manageEventsBindings: function() {\n          if (this.options.disabled || this.options.readOnly)\n            this.unbindEvents()\n          else this.bindEvents()\n        },\n\n        /**\n         * Set the disabled state based on rzSliderDisabled\n         *\n         * @returns {undefined}\n         */\n        setDisabledState: function() {\n          if (this.options.disabled) {\n            this.sliderElem.attr('disabled', 'disabled')\n          } else {\n            this.sliderElem.attr('disabled', null)\n          }\n        },\n\n        /**\n         * Reset label values\n         *\n         * @return {undefined}\n         */\n        resetLabelsValue: function() {\n          this.minLab.rzsv = undefined\n          this.maxLab.rzsv = undefined\n        },\n\n        /**\n         * Initialize slider handles positions and labels\n         *\n         * Run only once during initialization and every time view port changes size\n         *\n         * @returns {undefined}\n         */\n        initHandles: function() {\n          this.updateLowHandle(this.valueToPosition(this.lowValue))\n\n          /*\n         the order here is important since the selection bar should be\n         updated after the high handle but before the combined label\n         */\n          if (this.range)\n            this.updateHighHandle(this.valueToPosition(this.highValue))\n          this.updateSelectionBar()\n          if (this.range) this.updateCmbLabel()\n\n          this.updateTicksScale()\n        },\n\n        /**\n         * Translate value to human readable format\n         *\n         * @param {number|string} value\n         * @param {jqLite} label\n         * @param {String} which\n         * @param {boolean} [useCustomTr]\n         * @returns {undefined}\n         */\n        translateFn: function(value, label, which, useCustomTr) {\n          useCustomTr = useCustomTr === undefined ? true : useCustomTr\n\n          var valStr = '',\n            getDimension = false,\n            noLabelInjection = label.hasClass('no-label-injection')\n\n          if (useCustomTr) {\n            if (this.options.stepsArray && !this.options.bindIndexForStepsArray)\n              value = this.getStepValue(value)\n            valStr = String(this.customTrFn(value, this.options.id, which))\n          } else {\n            valStr = String(value)\n          }\n\n          if (\n            label.rzsv === undefined ||\n            label.rzsv.length !== valStr.length ||\n            (label.rzsv.length > 0 && label.rzsd === 0)\n          ) {\n            getDimension = true\n            label.rzsv = valStr\n          }\n\n          if (!noLabelInjection) {\n            label.html(valStr)\n          }\n          this.scope[which + 'Label'] = valStr\n\n          // Update width only when length of the label have changed\n          if (getDimension) {\n            this.getDimension(label)\n          }\n        },\n\n        /**\n         * Set maximum and minimum values for the slider and ensure the model and high\n         * value match these limits\n         * @returns {undefined}\n         */\n        setMinAndMax: function() {\n          this.step = +this.options.step\n          this.precision = +this.options.precision\n\n          this.minValue = this.options.floor\n          if (this.options.logScale && this.minValue === 0)\n            throw Error(\"Can't use floor=0 with logarithmic scale\")\n\n          if (this.options.enforceStep) {\n            this.lowValue = this.roundStep(this.lowValue)\n            if (this.range) this.highValue = this.roundStep(this.highValue)\n          }\n\n          if (this.options.ceil != null) this.maxValue = this.options.ceil\n          else\n            this.maxValue = this.options.ceil = this.range\n              ? this.highValue\n              : this.lowValue\n\n          if (this.options.enforceRange) {\n            this.lowValue = this.sanitizeValue(this.lowValue)\n            if (this.range) this.highValue = this.sanitizeValue(this.highValue)\n          }\n\n          this.applyLowValue()\n          if (this.range) this.applyHighValue()\n\n          this.valueRange = this.maxValue - this.minValue\n        },\n\n        /**\n         * Adds accessibility attributes\n         *\n         * Run only once during initialization\n         *\n         * @returns {undefined}\n         */\n        addAccessibility: function() {\n          this.minH.attr('role', 'slider')\n          this.updateAriaAttributes()\n          if (\n            this.options.keyboardSupport &&\n            !(this.options.readOnly || this.options.disabled)\n          )\n            this.minH.attr('tabindex', '0')\n          else this.minH.attr('tabindex', '')\n          if (this.options.vertical)\n            this.minH.attr('aria-orientation', 'vertical')\n          if (this.options.ariaLabel)\n            this.minH.attr('aria-label', this.options.ariaLabel)\n          else if (this.options.ariaLabelledBy)\n            this.minH.attr('aria-labelledby', this.options.ariaLabelledBy)\n\n          if (this.range) {\n            this.maxH.attr('role', 'slider')\n            if (\n              this.options.keyboardSupport &&\n              !(this.options.readOnly || this.options.disabled)\n            )\n              this.maxH.attr('tabindex', '0')\n            else this.maxH.attr('tabindex', '')\n            if (this.options.vertical)\n              this.maxH.attr('aria-orientation', 'vertical')\n            if (this.options.ariaLabelHigh)\n              this.maxH.attr('aria-label', this.options.ariaLabelHigh)\n            else if (this.options.ariaLabelledByHigh)\n              this.maxH.attr('aria-labelledby', this.options.ariaLabelledByHigh)\n          }\n        },\n\n        /**\n         * Updates aria attributes according to current values\n         */\n        updateAriaAttributes: function() {\n          this.minH.attr({\n            'aria-valuenow': this.scope.rzSliderModel,\n            'aria-valuetext': this.customTrFn(\n              this.scope.rzSliderModel,\n              this.options.id,\n              'model'\n            ),\n            'aria-valuemin': this.minValue,\n            'aria-valuemax': this.maxValue,\n          })\n          if (this.range) {\n            this.maxH.attr({\n              'aria-valuenow': this.scope.rzSliderHigh,\n              'aria-valuetext': this.customTrFn(\n                this.scope.rzSliderHigh,\n                this.options.id,\n                'high'\n              ),\n              'aria-valuemin': this.minValue,\n              'aria-valuemax': this.maxValue,\n            })\n          }\n        },\n\n        /**\n         * Calculate dimensions that are dependent on view port size\n         *\n         * Run once during initialization and every time view port changes size.\n         *\n         * @returns {undefined}\n         */\n        calcViewDimensions: function() {\n          var handleWidth = this.getDimension(this.minH)\n\n          this.handleHalfDim = handleWidth / 2\n          this.barDimension = this.getDimension(this.fullBar)\n\n          this.maxPos = this.barDimension - handleWidth\n\n          this.getDimension(this.sliderElem)\n          this.sliderElem.rzsp = this.sliderElem[0].getBoundingClientRect()[\n            this.positionProperty\n          ]\n\n          if (this.initHasRun) {\n            this.updateFloorLab()\n            this.updateCeilLab()\n            this.initHandles()\n            var self = this\n            $timeout(function() {\n              self.updateTicksScale()\n            })\n          }\n        },\n\n        /**\n         * Update the ticks position\n         *\n         * @returns {undefined}\n         */\n        updateTicksScale: function() {\n          if (!this.options.showTicks) return\n\n          var ticksArray = this.options.ticksArray || this.getTicksArray(),\n            translate = this.options.vertical ? 'translateY' : 'translateX',\n            self = this\n\n          if (this.options.rightToLeft) ticksArray.reverse()\n\n          this.scope.ticks = ticksArray.map(function(value) {\n            var position = self.valueToPosition(value)\n\n            if (self.options.vertical) position = self.maxPos - position\n\n            var translation = translate + '(' + Math.round(position) + 'px)'\n            var tick = {\n              selected: self.isTickSelected(value),\n              style: {\n                '-webkit-transform': translation,\n                '-moz-transform': translation,\n                '-o-transform': translation,\n                '-ms-transform': translation,\n                transform: translation,\n              },\n            }\n            if (tick.selected && self.options.getSelectionBarColor) {\n              tick.style['background-color'] = self.getSelectionBarColor()\n            }\n            if (!tick.selected && self.options.getTickColor) {\n              tick.style['background-color'] = self.getTickColor(value)\n            }\n            if (self.options.ticksTooltip) {\n              tick.tooltip = self.options.ticksTooltip(value)\n              tick.tooltipPlacement = self.options.vertical ? 'right' : 'top'\n            }\n            if (\n              self.options.showTicksValues === true ||\n              value % self.options.showTicksValues === 0\n            ) {\n              tick.value = self.getDisplayValue(value, 'tick-value')\n              if (self.options.ticksValuesTooltip) {\n                tick.valueTooltip = self.options.ticksValuesTooltip(value)\n                tick.valueTooltipPlacement = self.options.vertical\n                  ? 'right'\n                  : 'top'\n              }\n            }\n            if (self.getLegend) {\n              var legend = self.getLegend(value, self.options.id)\n              if (legend) tick.legend = legend\n            }\n            return tick\n          })\n        },\n\n        getTicksArray: function() {\n          var step = this.step,\n            ticksArray = []\n          if (this.intermediateTicks) step = this.options.showTicks\n          for (\n            var value = this.minValue;\n            value <= this.maxValue;\n            value += step\n          ) {\n            ticksArray.push(value)\n          }\n          return ticksArray\n        },\n\n        isTickSelected: function(value) {\n          if (!this.range) {\n            if (this.options.showSelectionBarFromValue !== null) {\n              var center = this.options.showSelectionBarFromValue\n              if (\n                this.lowValue > center &&\n                value >= center &&\n                value <= this.lowValue\n              )\n                return true\n              else if (\n                this.lowValue < center &&\n                value <= center &&\n                value >= this.lowValue\n              )\n                return true\n            } else if (this.options.showSelectionBarEnd) {\n              if (value >= this.lowValue) return true\n            } else if (this.options.showSelectionBar && value <= this.lowValue)\n              return true\n          }\n          if (this.range && value >= this.lowValue && value <= this.highValue)\n            return true\n          return false\n        },\n\n        /**\n         * Update position of the floor label\n         *\n         * @returns {undefined}\n         */\n        updateFloorLab: function() {\n          this.translateFn(this.minValue, this.flrLab, 'floor')\n          this.getDimension(this.flrLab)\n          var position = this.options.rightToLeft\n            ? this.barDimension - this.flrLab.rzsd\n            : 0\n          this.setPosition(this.flrLab, position)\n        },\n\n        /**\n         * Update position of the ceiling label\n         *\n         * @returns {undefined}\n         */\n        updateCeilLab: function() {\n          this.translateFn(this.maxValue, this.ceilLab, 'ceil')\n          this.getDimension(this.ceilLab)\n          var position = this.options.rightToLeft\n            ? 0\n            : this.barDimension - this.ceilLab.rzsd\n          this.setPosition(this.ceilLab, position)\n        },\n\n        /**\n         * Update slider handles and label positions\n         *\n         * @param {string} which\n         * @param {number} newPos\n         */\n        updateHandles: function(which, newPos) {\n          if (which === 'lowValue') this.updateLowHandle(newPos)\n          else this.updateHighHandle(newPos)\n\n          this.updateSelectionBar()\n          this.updateTicksScale()\n          if (this.range) this.updateCmbLabel()\n        },\n\n        /**\n         * Helper function to work out the position for handle labels depending on RTL or not\n         *\n         * @param {string} labelName maxLab or minLab\n         * @param newPos\n         *\n         * @returns {number}\n         */\n        getHandleLabelPos: function(labelName, newPos) {\n          var labelRzsd = this[labelName].rzsd,\n            nearHandlePos = newPos - labelRzsd / 2 + this.handleHalfDim,\n            endOfBarPos = this.barDimension - labelRzsd\n\n          if (!this.options.boundPointerLabels) return nearHandlePos\n\n          if (\n            (this.options.rightToLeft && labelName === 'minLab') ||\n            (!this.options.rightToLeft && labelName === 'maxLab')\n          ) {\n            return Math.min(nearHandlePos, endOfBarPos)\n          } else {\n            return Math.min(Math.max(nearHandlePos, 0), endOfBarPos)\n          }\n        },\n\n        /**\n         * Update low slider handle position and label\n         *\n         * @param {number} newPos\n         * @returns {undefined}\n         */\n        updateLowHandle: function(newPos) {\n          this.setPosition(this.minH, newPos)\n          this.translateFn(this.lowValue, this.minLab, 'model')\n          this.setPosition(\n            this.minLab,\n            this.getHandleLabelPos('minLab', newPos)\n          )\n\n          if (this.options.getPointerColor) {\n            var pointercolor = this.getPointerColor('min')\n            this.scope.minPointerStyle = {\n              backgroundColor: pointercolor,\n            }\n          }\n\n          if (this.options.autoHideLimitLabels) {\n            this.shFloorCeil()\n          }\n        },\n\n        /**\n         * Update high slider handle position and label\n         *\n         * @param {number} newPos\n         * @returns {undefined}\n         */\n        updateHighHandle: function(newPos) {\n          this.setPosition(this.maxH, newPos)\n          this.translateFn(this.highValue, this.maxLab, 'high')\n          this.setPosition(\n            this.maxLab,\n            this.getHandleLabelPos('maxLab', newPos)\n          )\n\n          if (this.options.getPointerColor) {\n            var pointercolor = this.getPointerColor('max')\n            this.scope.maxPointerStyle = {\n              backgroundColor: pointercolor,\n            }\n          }\n          if (this.options.autoHideLimitLabels) {\n            this.shFloorCeil()\n          }\n        },\n\n        /**\n         * Show/hide floor/ceiling label\n         *\n         * @returns {undefined}\n         */\n        shFloorCeil: function() {\n          // Show based only on hideLimitLabels if pointer labels are hidden\n          if (this.options.hidePointerLabels) {\n            return\n          }\n          var flHidden = false,\n            clHidden = false,\n            isMinLabAtFloor = this.isLabelBelowFloorLab(this.minLab),\n            isMinLabAtCeil = this.isLabelAboveCeilLab(this.minLab),\n            isMaxLabAtCeil = this.isLabelAboveCeilLab(this.maxLab),\n            isCmbLabAtFloor = this.isLabelBelowFloorLab(this.cmbLab),\n            isCmbLabAtCeil = this.isLabelAboveCeilLab(this.cmbLab)\n\n          if (isMinLabAtFloor) {\n            flHidden = true\n            this.hideEl(this.flrLab)\n          } else {\n            flHidden = false\n            this.showEl(this.flrLab)\n          }\n\n          if (isMinLabAtCeil) {\n            clHidden = true\n            this.hideEl(this.ceilLab)\n          } else {\n            clHidden = false\n            this.showEl(this.ceilLab)\n          }\n\n          if (this.range) {\n            var hideCeil = this.cmbLabelShown ? isCmbLabAtCeil : isMaxLabAtCeil\n            var hideFloor = this.cmbLabelShown\n              ? isCmbLabAtFloor\n              : isMinLabAtFloor\n\n            if (hideCeil) {\n              this.hideEl(this.ceilLab)\n            } else if (!clHidden) {\n              this.showEl(this.ceilLab)\n            }\n\n            // Hide or show floor label\n            if (hideFloor) {\n              this.hideEl(this.flrLab)\n            } else if (!flHidden) {\n              this.showEl(this.flrLab)\n            }\n          }\n        },\n\n        isLabelBelowFloorLab: function(label) {\n          var isRTL = this.options.rightToLeft,\n            pos = label.rzsp,\n            dim = label.rzsd,\n            floorPos = this.flrLab.rzsp,\n            floorDim = this.flrLab.rzsd\n          return isRTL\n            ? pos + dim >= floorPos - 2\n            : pos <= floorPos + floorDim + 2\n        },\n\n        isLabelAboveCeilLab: function(label) {\n          var isRTL = this.options.rightToLeft,\n            pos = label.rzsp,\n            dim = label.rzsd,\n            ceilPos = this.ceilLab.rzsp,\n            ceilDim = this.ceilLab.rzsd\n          return isRTL ? pos <= ceilPos + ceilDim + 2 : pos + dim >= ceilPos - 2\n        },\n\n        /**\n         * Update restricted area bar\n         *\n         * @returns {undefined}\n         */\n        updateRestrictionBar: function() {\n          var position = 0,\n            dimension = 0\n          if (this.options.restrictedRange) {\n            var from = this.valueToPosition(this.options.restrictedRange.from),\n              to = this.valueToPosition(this.options.restrictedRange.to)\n            dimension = Math.abs(to - from)\n            position = this.options.rightToLeft\n              ? to + this.handleHalfDim\n              : from + this.handleHalfDim\n            this.setDimension(this.restrictedBar, dimension)\n            this.setPosition(this.restrictedBar, position)\n          }\n        },\n\n        /**\n         * Update slider selection bar, combined label and range label\n         *\n         * @returns {undefined}\n         */\n        updateSelectionBar: function() {\n          var position = 0,\n            dimension = 0,\n            isSelectionBarFromRight = this.options.rightToLeft\n              ? !this.options.showSelectionBarEnd\n              : this.options.showSelectionBarEnd,\n            positionForRange = this.options.rightToLeft\n              ? this.maxH.rzsp + this.handleHalfDim\n              : this.minH.rzsp + this.handleHalfDim\n\n          if (this.range) {\n            dimension = Math.abs(this.maxH.rzsp - this.minH.rzsp)\n            position = positionForRange\n          } else {\n            if (this.options.showSelectionBarFromValue !== null) {\n              var center = this.options.showSelectionBarFromValue,\n                centerPosition = this.valueToPosition(center),\n                isModelGreaterThanCenter = this.options.rightToLeft\n                  ? this.lowValue <= center\n                  : this.lowValue > center\n              if (isModelGreaterThanCenter) {\n                dimension = this.minH.rzsp - centerPosition\n                position = centerPosition + this.handleHalfDim\n              } else {\n                dimension = centerPosition - this.minH.rzsp\n                position = this.minH.rzsp + this.handleHalfDim\n              }\n            } else if (isSelectionBarFromRight) {\n              dimension =\n                Math.abs(this.maxPos - this.minH.rzsp) + this.handleHalfDim\n              position = this.minH.rzsp + this.handleHalfDim\n            } else {\n              dimension = this.minH.rzsp + this.handleHalfDim\n              position = 0\n            }\n          }\n          this.setDimension(this.selBar, dimension)\n          this.setPosition(this.selBar, position)\n          if (this.range && this.options.showOuterSelectionBars) {\n            if (this.options.rightToLeft) {\n              this.setDimension(this.rightOutSelBar, position)\n              this.setPosition(this.rightOutSelBar, 0)\n              this.setDimension(\n                this.leftOutSelBar,\n                this.getDimension(this.fullBar) - (position + dimension)\n              )\n              this.setPosition(this.leftOutSelBar, position + dimension)\n            } else {\n              this.setDimension(this.leftOutSelBar, position)\n              this.setPosition(this.leftOutSelBar, 0)\n              this.setDimension(\n                this.rightOutSelBar,\n                this.getDimension(this.fullBar) - (position + dimension)\n              )\n              this.setPosition(this.rightOutSelBar, position + dimension)\n            }\n          }\n          if (this.options.getSelectionBarColor) {\n            var color = this.getSelectionBarColor()\n            this.scope.barStyle = {\n              backgroundColor: color,\n            }\n          } else if (this.options.selectionBarGradient) {\n            var offset =\n                this.options.showSelectionBarFromValue !== null\n                  ? this.valueToPosition(this.options.showSelectionBarFromValue)\n                  : 0,\n              reversed = (offset - position > 0) ^ isSelectionBarFromRight,\n              direction = this.options.vertical\n                ? reversed\n                  ? 'bottom'\n                  : 'top'\n                : reversed\n                  ? 'left'\n                  : 'right'\n            this.scope.barStyle = {\n              backgroundImage:\n                'linear-gradient(to ' +\n                direction +\n                ', ' +\n                this.options.selectionBarGradient.from +\n                ' 0%,' +\n                this.options.selectionBarGradient.to +\n                ' 100%)',\n            }\n            if (this.options.vertical) {\n              this.scope.barStyle.backgroundPosition =\n                'center ' +\n                (offset +\n                  dimension +\n                  position +\n                  (reversed ? -this.handleHalfDim : 0)) +\n                'px'\n              this.scope.barStyle.backgroundSize =\n                '100% ' + (this.barDimension - this.handleHalfDim) + 'px'\n            } else {\n              this.scope.barStyle.backgroundPosition =\n                offset -\n                position +\n                (reversed ? this.handleHalfDim : 0) +\n                'px center'\n              this.scope.barStyle.backgroundSize =\n                this.barDimension - this.handleHalfDim + 'px 100%'\n            }\n          }\n        },\n\n        /**\n         * Wrapper around the getSelectionBarColor of the user to pass to\n         * correct parameters\n         */\n        getSelectionBarColor: function() {\n          if (this.range)\n            return this.options.getSelectionBarColor(\n              this.scope.rzSliderModel,\n              this.scope.rzSliderHigh\n            )\n          return this.options.getSelectionBarColor(this.scope.rzSliderModel)\n        },\n\n        /**\n         * Wrapper around the getPointerColor of the user to pass to\n         * correct parameters\n         */\n        getPointerColor: function(pointerType) {\n          if (pointerType === 'max') {\n            return this.options.getPointerColor(\n              this.scope.rzSliderHigh,\n              pointerType\n            )\n          }\n          return this.options.getPointerColor(\n            this.scope.rzSliderModel,\n            pointerType\n          )\n        },\n\n        /**\n         * Wrapper around the getTickColor of the user to pass to\n         * correct parameters\n         */\n        getTickColor: function(value) {\n          return this.options.getTickColor(value)\n        },\n\n        /**\n         * Update combined label position and value\n         *\n         * @returns {undefined}\n         */\n        updateCmbLabel: function() {\n          var isLabelOverlap = null\n          if (this.options.rightToLeft) {\n            isLabelOverlap =\n              this.minLab.rzsp - this.minLab.rzsd - 10 <= this.maxLab.rzsp\n          } else {\n            isLabelOverlap =\n              this.minLab.rzsp + this.minLab.rzsd + 10 >= this.maxLab.rzsp\n          }\n\n          if (isLabelOverlap) {\n            var lowTr = this.getDisplayValue(this.lowValue, 'model'),\n              highTr = this.getDisplayValue(this.highValue, 'high'),\n              labelVal = ''\n            if (this.options.mergeRangeLabelsIfSame && lowTr === highTr) {\n              labelVal = lowTr\n            } else {\n              labelVal = this.options.rightToLeft\n                ? highTr + this.options.labelOverlapSeparator + lowTr\n                : lowTr + this.options.labelOverlapSeparator + highTr\n            }\n\n            this.translateFn(labelVal, this.cmbLab, 'cmb', false)\n            var pos = this.options.boundPointerLabels\n              ? Math.min(\n                  Math.max(\n                    this.selBar.rzsp +\n                      this.selBar.rzsd / 2 -\n                      this.cmbLab.rzsd / 2,\n                    0\n                  ),\n                  this.barDimension - this.cmbLab.rzsd\n                )\n              : this.selBar.rzsp + this.selBar.rzsd / 2 - this.cmbLab.rzsd / 2\n\n            this.setPosition(this.cmbLab, pos)\n            this.cmbLabelShown = true\n            this.hideEl(this.minLab)\n            this.hideEl(this.maxLab)\n            this.showEl(this.cmbLab)\n          } else {\n            this.cmbLabelShown = false\n            this.updateHighHandle(this.valueToPosition(this.highValue))\n            this.updateLowHandle(this.valueToPosition(this.lowValue))\n            this.showEl(this.maxLab)\n            this.showEl(this.minLab)\n            this.hideEl(this.cmbLab)\n          }\n          if (this.options.autoHideLimitLabels) {\n            this.shFloorCeil()\n          }\n        },\n\n        /**\n         * Return the translated value if a translate function is provided else the original value\n         * @param value\n         * @param which if it's min or max handle\n         * @returns {*}\n         */\n        getDisplayValue: function(value, which) {\n          if (this.options.stepsArray && !this.options.bindIndexForStepsArray) {\n            value = this.getStepValue(value)\n          }\n          return this.customTrFn(value, this.options.id, which)\n        },\n\n        /**\n         * Round value to step and precision based on minValue\n         *\n         * @param {number} value\n         * @param {number} customStep a custom step to override the defined step\n         * @returns {number}\n         */\n        roundStep: function(value, customStep) {\n          var step = customStep ? customStep : this.step,\n            steppedDifference = parseFloat(\n              (value - this.minValue) / step\n            ).toPrecision(12)\n          steppedDifference = Math.round(+steppedDifference) * step\n          var newValue = (this.minValue + steppedDifference).toFixed(\n            this.precision\n          )\n          return +newValue\n        },\n\n        /**\n         * Hide element\n         *\n         * @param element\n         * @returns {jqLite} The jqLite wrapped DOM element\n         */\n        hideEl: function(element) {\n          return element.css({\n            visibility: 'hidden',\n          })\n        },\n\n        /**\n         * Show element\n         *\n         * @param element The jqLite wrapped DOM element\n         * @returns {jqLite} The jqLite\n         */\n        showEl: function(element) {\n          if (!!element.rzAlwaysHide) {\n            return element\n          }\n\n          return element.css({\n            visibility: 'visible',\n          })\n        },\n\n        /**\n         * Set element left/top position depending on whether slider is horizontal or vertical\n         *\n         * @param {jqLite} elem The jqLite wrapped DOM element\n         * @param {number} pos\n         * @returns {number}\n         */\n        setPosition: function(elem, pos) {\n          elem.rzsp = pos\n          var css = {}\n          css[this.positionProperty] = Math.round(pos) + 'px'\n          elem.css(css)\n          return pos\n        },\n\n        /**\n         * Get element width/height depending on whether slider is horizontal or vertical\n         *\n         * @param {jqLite} elem The jqLite wrapped DOM element\n         * @returns {number}\n         */\n        getDimension: function(elem) {\n          var val = elem[0].getBoundingClientRect()\n          if (this.options.vertical)\n            elem.rzsd = (val.bottom - val.top) * this.options.scale\n          else elem.rzsd = (val.right - val.left) * this.options.scale\n          return elem.rzsd\n        },\n\n        /**\n         * Set element width/height depending on whether slider is horizontal or vertical\n         *\n         * @param {jqLite} elem  The jqLite wrapped DOM element\n         * @param {number} dim\n         * @returns {number}\n         */\n        setDimension: function(elem, dim) {\n          elem.rzsd = dim\n          var css = {}\n          css[this.dimensionProperty] = Math.round(dim) + 'px'\n          elem.css(css)\n          return dim\n        },\n\n        /**\n         * Returns a value that is within slider range\n         *\n         * @param {number} val\n         * @returns {number}\n         */\n        sanitizeValue: function(val) {\n          return Math.min(Math.max(val, this.minValue), this.maxValue)\n        },\n\n        /**\n         * Translate value to pixel position\n         *\n         * @param {number} val\n         * @returns {number}\n         */\n        valueToPosition: function(val) {\n          var fn = this.linearValueToPosition\n          if (this.options.customValueToPosition)\n            fn = this.options.customValueToPosition\n          else if (this.options.logScale) fn = this.logValueToPosition\n\n          val = this.sanitizeValue(val)\n          var percent = fn(val, this.minValue, this.maxValue) || 0\n          if (this.options.rightToLeft) percent = 1 - percent\n          return percent * this.maxPos\n        },\n\n        linearValueToPosition: function(val, minVal, maxVal) {\n          var range = maxVal - minVal\n          return (val - minVal) / range\n        },\n\n        logValueToPosition: function(val, minVal, maxVal) {\n          val = Math.log(val)\n          minVal = Math.log(minVal)\n          maxVal = Math.log(maxVal)\n          var range = maxVal - minVal\n          return (val - minVal) / range\n        },\n\n        /**\n         * Translate position to model value\n         *\n         * @param {number} position\n         * @returns {number}\n         */\n        positionToValue: function(position) {\n          var percent = position / this.maxPos\n          if (this.options.rightToLeft) percent = 1 - percent\n          var fn = this.linearPositionToValue\n          if (this.options.customPositionToValue)\n            fn = this.options.customPositionToValue\n          else if (this.options.logScale) fn = this.logPositionToValue\n          return fn(percent, this.minValue, this.maxValue) || 0\n        },\n\n        linearPositionToValue: function(percent, minVal, maxVal) {\n          return percent * (maxVal - minVal) + minVal\n        },\n\n        logPositionToValue: function(percent, minVal, maxVal) {\n          minVal = Math.log(minVal)\n          maxVal = Math.log(maxVal)\n          var value = percent * (maxVal - minVal) + minVal\n          return Math.exp(value)\n        },\n\n        getEventAttr: function(event, attr) {\n          return event.originalEvent === undefined\n            ? event[attr]\n            : event.originalEvent[attr]\n        },\n\n        // Events\n        /**\n         * Get the X-coordinate or Y-coordinate of an event\n         *\n         * @param {Object} event  The event\n         * @param targetTouchId The identifier of the touch with the X/Y coordinates\n         * @returns {number}\n         */\n        getEventXY: function(event, targetTouchId) {\n          /* http://stackoverflow.com/a/12336075/282882 */\n          //noinspection JSLint\n          var clientXY = this.options.vertical ? 'clientY' : 'clientX'\n          if (event[clientXY] !== undefined) {\n            return event[clientXY]\n          }\n\n          var touches = this.getEventAttr(event, 'touches')\n\n          if (targetTouchId !== undefined) {\n            for (var i = 0; i < touches.length; i++) {\n              if (touches[i].identifier === targetTouchId) {\n                return touches[i][clientXY]\n              }\n            }\n          }\n\n          // If no target touch or the target touch was not found in the event\n          // returns the coordinates of the first touch\n          return touches[0][clientXY]\n        },\n\n        /**\n         * Compute the event position depending on whether the slider is horizontal or vertical\n         * @param event\n         * @param targetTouchId If targetTouchId is provided it will be considered the position of that\n         * @returns {number}\n         */\n        getEventPosition: function(event, targetTouchId) {\n          var sliderPos = this.sliderElem.rzsp,\n            eventPos = 0\n          if (this.options.vertical)\n            eventPos = -this.getEventXY(event, targetTouchId) + sliderPos\n          else eventPos = this.getEventXY(event, targetTouchId) - sliderPos\n          return eventPos * this.options.scale - this.handleHalfDim // #346 handleHalfDim is already scaled\n        },\n\n        /**\n         * Get event names for move and event end\n         *\n         * @param {Event}    event    The event\n         *\n         * @return {{moveEvent: string, endEvent: string}}\n         */\n        getEventNames: function(event) {\n          var eventNames = {\n            moveEvent: '',\n            endEvent: '',\n          }\n\n          if (this.getEventAttr(event, 'touches')) {\n            eventNames.moveEvent = 'touchmove'\n            eventNames.endEvent = 'touchend'\n          } else {\n            eventNames.moveEvent = 'mousemove'\n            eventNames.endEvent = 'mouseup'\n          }\n\n          return eventNames\n        },\n\n        /**\n         * Get the handle closest to an event.\n         *\n         * @param event {Event} The event\n         * @returns {jqLite} The handle closest to the event.\n         */\n        getNearestHandle: function(event) {\n          if (!this.range) {\n            return this.minH\n          }\n          var position = this.getEventPosition(event),\n            distanceMin = Math.abs(position - this.minH.rzsp),\n            distanceMax = Math.abs(position - this.maxH.rzsp)\n          if (distanceMin < distanceMax) return this.minH\n          else if (distanceMin > distanceMax) return this.maxH\n          else if (!this.options.rightToLeft)\n            //if event is at the same distance from min/max then if it's at left of minH, we return minH else maxH\n            return position < this.minH.rzsp ? this.minH : this.maxH\n          //reverse in rtl\n          else return position > this.minH.rzsp ? this.minH : this.maxH\n        },\n\n        /**\n         * Wrapper function to focus an angular element\n         *\n         * @param el {AngularElement} the element to focus\n         */\n        focusElement: function(el) {\n          var DOM_ELEMENT = 0\n          el[DOM_ELEMENT].focus()\n        },\n\n        /**\n         * Bind mouse and touch events to slider handles\n         *\n         * @returns {undefined}\n         */\n        bindEvents: function() {\n          var barTracking, barStart, barMove\n\n          if (this.options.draggableRange) {\n            barTracking = 'rzSliderDrag'\n            barStart = this.onDragStart\n            barMove = this.onDragMove\n          } else {\n            barTracking = 'lowValue'\n            barStart = this.onStart\n            barMove = this.onMove\n          }\n\n          if (!this.options.onlyBindHandles) {\n            this.selBar.on(\n              'mousedown',\n              angular.bind(this, barStart, null, barTracking)\n            )\n            this.selBar.on(\n              'mousedown',\n              angular.bind(this, barMove, this.selBar)\n            )\n          }\n\n          if (this.options.draggableRangeOnly) {\n            this.minH.on(\n              'mousedown',\n              angular.bind(this, barStart, null, barTracking)\n            )\n            this.maxH.on(\n              'mousedown',\n              angular.bind(this, barStart, null, barTracking)\n            )\n          } else {\n            this.minH.on(\n              'mousedown',\n              angular.bind(this, this.onStart, this.minH, 'lowValue')\n            )\n            if (this.range) {\n              this.maxH.on(\n                'mousedown',\n                angular.bind(this, this.onStart, this.maxH, 'highValue')\n              )\n            }\n            if (!this.options.onlyBindHandles) {\n              this.fullBar.on(\n                'mousedown',\n                angular.bind(this, this.onStart, null, null)\n              )\n              this.fullBar.on(\n                'mousedown',\n                angular.bind(this, this.onMove, this.fullBar)\n              )\n              this.ticks.on(\n                'mousedown',\n                angular.bind(this, this.onStart, null, null)\n              )\n              this.ticks.on(\n                'mousedown',\n                angular.bind(this, this.onTickClick, this.ticks)\n              )\n            }\n          }\n\n          if (!this.options.onlyBindHandles) {\n            this.selBar.on(\n              'touchstart',\n              angular.bind(this, barStart, null, barTracking)\n            )\n            this.selBar.on(\n              'touchstart',\n              angular.bind(this, barMove, this.selBar)\n            )\n          }\n          if (this.options.draggableRangeOnly) {\n            this.minH.on(\n              'touchstart',\n              angular.bind(this, barStart, null, barTracking)\n            )\n            this.maxH.on(\n              'touchstart',\n              angular.bind(this, barStart, null, barTracking)\n            )\n          } else {\n            this.minH.on(\n              'touchstart',\n              angular.bind(this, this.onStart, this.minH, 'lowValue')\n            )\n            if (this.range) {\n              this.maxH.on(\n                'touchstart',\n                angular.bind(this, this.onStart, this.maxH, 'highValue')\n              )\n            }\n            if (!this.options.onlyBindHandles) {\n              this.fullBar.on(\n                'touchstart',\n                angular.bind(this, this.onStart, null, null)\n              )\n              this.fullBar.on(\n                'touchstart',\n                angular.bind(this, this.onMove, this.fullBar)\n              )\n              this.ticks.on(\n                'touchstart',\n                angular.bind(this, this.onStart, null, null)\n              )\n              this.ticks.on(\n                'touchstart',\n                angular.bind(this, this.onTickClick, this.ticks)\n              )\n            }\n          }\n\n          if (this.options.keyboardSupport) {\n            this.minH.on(\n              'focus',\n              angular.bind(this, this.onPointerFocus, this.minH, 'lowValue')\n            )\n            if (this.range) {\n              this.maxH.on(\n                'focus',\n                angular.bind(this, this.onPointerFocus, this.maxH, 'highValue')\n              )\n            }\n          }\n        },\n\n        /**\n         * Unbind mouse and touch events to slider handles\n         *\n         * @returns {undefined}\n         */\n        unbindEvents: function() {\n          this.minH.off()\n          this.maxH.off()\n          this.fullBar.off()\n          this.selBar.off()\n          this.ticks.off()\n        },\n\n        /**\n         * onStart event handler\n         *\n         * @param {?Object} pointer The jqLite wrapped DOM element; if null, the closest handle is used\n         * @param {?string} ref     The name of the handle being changed; if null, the closest handle's value is modified\n         * @param {Event}   event   The event\n         * @returns {undefined}\n         */\n        onStart: function(pointer, ref, event) {\n          var ehMove,\n            ehEnd,\n            eventNames = this.getEventNames(event)\n\n          event.stopPropagation()\n          event.preventDefault()\n\n          // We have to do this in case the HTML where the sliders are on\n          // have been animated into view.\n          this.calcViewDimensions()\n\n          if (pointer) {\n            this.tracking = ref\n          } else {\n            pointer = this.getNearestHandle(event)\n            this.tracking = pointer === this.minH ? 'lowValue' : 'highValue'\n          }\n\n          pointer.addClass('rz-active')\n\n          if (this.options.keyboardSupport) this.focusElement(pointer)\n\n          ehMove = angular.bind(\n            this,\n            this.dragging.active ? this.onDragMove : this.onMove,\n            pointer\n          )\n          ehEnd = angular.bind(this, this.onEnd, ehMove)\n\n          $document.on(eventNames.moveEvent, ehMove)\n          $document.on(eventNames.endEvent, ehEnd)\n          this.endHandlerToBeRemovedOnEnd = ehEnd\n\n          this.callOnStart()\n\n          var changedTouches = this.getEventAttr(event, 'changedTouches')\n          if (changedTouches) {\n            // Store the touch identifier\n            if (!this.touchId) {\n              this.isDragging = true\n              this.touchId = changedTouches[0].identifier\n            }\n          }\n        },\n\n        /**\n         * onMove event handler\n         *\n         * @param {jqLite} pointer\n         * @param {Event}  event The event\n         * @param {boolean}  fromTick if the event occured on a tick or not\n         * @returns {undefined}\n         */\n        onMove: function(pointer, event, fromTick) {\n          var changedTouches = this.getEventAttr(event, 'changedTouches')\n          var touchForThisSlider\n          if (changedTouches) {\n            for (var i = 0; i < changedTouches.length; i++) {\n              if (changedTouches[i].identifier === this.touchId) {\n                touchForThisSlider = changedTouches[i]\n                break\n              }\n            }\n          }\n\n          if (changedTouches && !touchForThisSlider) {\n            return\n          }\n\n          var newPos = this.getEventPosition(\n              event,\n              touchForThisSlider ? touchForThisSlider.identifier : undefined\n            ),\n            newValue,\n            ceilValue = this.options.rightToLeft\n              ? this.minValue\n              : this.maxValue,\n            flrValue = this.options.rightToLeft ? this.maxValue : this.minValue\n\n          if (newPos <= 0) {\n            newValue = flrValue\n          } else if (newPos >= this.maxPos) {\n            newValue = ceilValue\n          } else {\n            newValue = this.positionToValue(newPos)\n            if (fromTick && angular.isNumber(this.options.showTicks))\n              newValue = this.roundStep(newValue, this.options.showTicks)\n            else newValue = this.roundStep(newValue)\n          }\n          this.positionTrackingHandle(newValue)\n        },\n\n        /**\n         * onEnd event handler\n         *\n         * @param {Event}    event    The event\n         * @param {Function} ehMove   The bound move event handler\n         * @returns {undefined}\n         */\n        onEnd: function(ehMove, event) {\n          var changedTouches = this.getEventAttr(event, 'changedTouches')\n          if (changedTouches && changedTouches[0].identifier !== this.touchId) {\n            return\n          }\n          this.isDragging = false\n          this.touchId = null\n\n          if (!this.options.keyboardSupport) {\n            this.minH.removeClass('rz-active')\n            this.maxH.removeClass('rz-active')\n            this.tracking = ''\n          }\n          this.dragging.active = false\n\n          var eventName = this.getEventNames(event)\n          $document.off(eventName.moveEvent, ehMove)\n          $document.off(eventName.endEvent, this.endHandlerToBeRemovedOnEnd)\n          this.endHandlerToBeRemovedOnEnd = null\n          this.callOnEnd()\n        },\n\n        onTickClick: function(pointer, event) {\n          this.onMove(pointer, event, true)\n        },\n\n        onPointerFocus: function(pointer, ref) {\n          this.tracking = ref\n          pointer.one('blur', angular.bind(this, this.onPointerBlur, pointer))\n          pointer.on('keydown', angular.bind(this, this.onKeyboardEvent))\n          pointer.on('keyup', angular.bind(this, this.onKeyUp))\n          this.firstKeyDown = true\n          pointer.addClass('rz-active')\n\n          this.currentFocusElement = {\n            pointer: pointer,\n            ref: ref,\n          }\n        },\n\n        onKeyUp: function() {\n          this.firstKeyDown = true\n          this.callOnEnd()\n        },\n\n        onPointerBlur: function(pointer) {\n          pointer.off('keydown')\n          pointer.off('keyup')\n          pointer.removeClass('rz-active')\n          if (!this.isDragging) {\n            this.tracking = ''\n            this.currentFocusElement = null\n          }\n        },\n\n        /**\n         * Key actions helper function\n         *\n         * @param {number} currentValue value of the slider\n         *\n         * @returns {?Object} action value mappings\n         */\n        getKeyActions: function(currentValue) {\n          var increaseStep = currentValue + this.step,\n            decreaseStep = currentValue - this.step,\n            increasePage = currentValue + this.valueRange / 10,\n            decreasePage = currentValue - this.valueRange / 10\n\n          if (this.options.reversedControls) {\n            increaseStep = currentValue - this.step\n            decreaseStep = currentValue + this.step\n            increasePage = currentValue - this.valueRange / 10\n            decreasePage = currentValue + this.valueRange / 10\n          }\n\n          //Left to right default actions\n          var actions = {\n            UP: increaseStep,\n            DOWN: decreaseStep,\n            LEFT: decreaseStep,\n            RIGHT: increaseStep,\n            PAGEUP: increasePage,\n            PAGEDOWN: decreasePage,\n            HOME: this.options.reversedControls ? this.maxValue : this.minValue,\n            END: this.options.reversedControls ? this.minValue : this.maxValue,\n          }\n          //right to left means swapping right and left arrows\n          if (this.options.rightToLeft) {\n            actions.LEFT = increaseStep\n            actions.RIGHT = decreaseStep\n            // right to left and vertical means we also swap up and down\n            if (this.options.vertical) {\n              actions.UP = decreaseStep\n              actions.DOWN = increaseStep\n            }\n          }\n          return actions\n        },\n\n        onKeyboardEvent: function(event) {\n          var currentValue = this[this.tracking],\n            keyCode = event.keyCode || event.which,\n            keys = {\n              38: 'UP',\n              40: 'DOWN',\n              37: 'LEFT',\n              39: 'RIGHT',\n              33: 'PAGEUP',\n              34: 'PAGEDOWN',\n              36: 'HOME',\n              35: 'END',\n            },\n            actions = this.getKeyActions(currentValue),\n            key = keys[keyCode],\n            action = actions[key]\n          if (action == null || this.tracking === '') return\n          event.preventDefault()\n\n          if (this.firstKeyDown) {\n            this.firstKeyDown = false\n            this.callOnStart()\n          }\n\n          var self = this\n          $timeout(function() {\n            var newValue = self.roundStep(self.sanitizeValue(action))\n            if (!self.options.draggableRangeOnly) {\n              self.positionTrackingHandle(newValue)\n            } else {\n              var difference = self.highValue - self.lowValue,\n                newMinValue,\n                newMaxValue\n              if (self.tracking === 'lowValue') {\n                newMinValue = newValue\n                newMaxValue = newValue + difference\n                if (newMaxValue > self.maxValue) {\n                  newMaxValue = self.maxValue\n                  newMinValue = newMaxValue - difference\n                }\n              } else {\n                newMaxValue = newValue\n                newMinValue = newValue - difference\n                if (newMinValue < self.minValue) {\n                  newMinValue = self.minValue\n                  newMaxValue = newMinValue + difference\n                }\n              }\n              self.positionTrackingBar(newMinValue, newMaxValue)\n            }\n          })\n        },\n\n        /**\n         * onDragStart event handler\n         *\n         * Handles dragging of the middle bar.\n         *\n         * @param {Object} pointer The jqLite wrapped DOM element\n         * @param {string} ref     One of the refLow, refHigh values\n         * @param {Event}  event   The event\n         * @returns {undefined}\n         */\n        onDragStart: function(pointer, ref, event) {\n          var position = this.getEventPosition(event)\n          this.dragging = {\n            active: true,\n            value: this.positionToValue(position),\n            difference: this.highValue - this.lowValue,\n            lowLimit: this.options.rightToLeft\n              ? this.minH.rzsp - position\n              : position - this.minH.rzsp,\n            highLimit: this.options.rightToLeft\n              ? position - this.maxH.rzsp\n              : this.maxH.rzsp - position,\n          }\n\n          this.onStart(pointer, ref, event)\n        },\n\n        /**\n         * getValue helper function\n         *\n         * gets max or min value depending on whether the newPos is outOfBounds above or below the bar and rightToLeft\n         *\n         * @param {string} type 'max' || 'min' The value we are calculating\n         * @param {number} newPos  The new position\n         * @param {boolean} outOfBounds Is the new position above or below the max/min?\n         * @param {boolean} isAbove Is the new position above the bar if out of bounds?\n         *\n         * @returns {number}\n         */\n        getValue: function(type, newPos, outOfBounds, isAbove) {\n          var isRTL = this.options.rightToLeft,\n            value = null\n\n          if (type === 'min') {\n            if (outOfBounds) {\n              if (isAbove) {\n                value = isRTL\n                  ? this.minValue\n                  : this.maxValue - this.dragging.difference\n              } else {\n                value = isRTL\n                  ? this.maxValue - this.dragging.difference\n                  : this.minValue\n              }\n            } else {\n              value = isRTL\n                ? this.positionToValue(newPos + this.dragging.lowLimit)\n                : this.positionToValue(newPos - this.dragging.lowLimit)\n            }\n          } else {\n            if (outOfBounds) {\n              if (isAbove) {\n                value = isRTL\n                  ? this.minValue + this.dragging.difference\n                  : this.maxValue\n              } else {\n                value = isRTL\n                  ? this.maxValue\n                  : this.minValue + this.dragging.difference\n              }\n            } else {\n              if (isRTL) {\n                value =\n                  this.positionToValue(newPos + this.dragging.lowLimit) +\n                  this.dragging.difference\n              } else {\n                value =\n                  this.positionToValue(newPos - this.dragging.lowLimit) +\n                  this.dragging.difference\n              }\n            }\n          }\n          return this.roundStep(value)\n        },\n\n        /**\n         * onDragMove event handler\n         *\n         * Handles dragging of the middle bar.\n         *\n         * @param {jqLite} pointer\n         * @param {Event}  event The event\n         * @returns {undefined}\n         */\n        onDragMove: function(pointer, event) {\n          var newPos = this.getEventPosition(event),\n            newMinValue,\n            newMaxValue,\n            ceilLimit,\n            flrLimit,\n            isUnderFlrLimit,\n            isOverCeilLimit,\n            flrH,\n            ceilH\n\n          if (this.options.rightToLeft) {\n            ceilLimit = this.dragging.lowLimit\n            flrLimit = this.dragging.highLimit\n            flrH = this.maxH\n            ceilH = this.minH\n          } else {\n            ceilLimit = this.dragging.highLimit\n            flrLimit = this.dragging.lowLimit\n            flrH = this.minH\n            ceilH = this.maxH\n          }\n          isUnderFlrLimit = newPos <= flrLimit\n          isOverCeilLimit = newPos >= this.maxPos - ceilLimit\n\n          if (isUnderFlrLimit) {\n            if (flrH.rzsp === 0) return\n            newMinValue = this.getValue('min', newPos, true, false)\n            newMaxValue = this.getValue('max', newPos, true, false)\n          } else if (isOverCeilLimit) {\n            if (ceilH.rzsp === this.maxPos) return\n            newMaxValue = this.getValue('max', newPos, true, true)\n            newMinValue = this.getValue('min', newPos, true, true)\n          } else {\n            newMinValue = this.getValue('min', newPos, false)\n            newMaxValue = this.getValue('max', newPos, false)\n          }\n          this.positionTrackingBar(newMinValue, newMaxValue)\n        },\n\n        /**\n         * Set the new value and position for the entire bar\n         *\n         * @param {number} newMinValue   the new minimum value\n         * @param {number} newMaxValue   the new maximum value\n         */\n        positionTrackingBar: function(newMinValue, newMaxValue) {\n          if (\n            this.options.minLimit != null &&\n            newMinValue < this.options.minLimit\n          ) {\n            newMinValue = this.options.minLimit\n            newMaxValue = newMinValue + this.dragging.difference\n          }\n          if (\n            this.options.maxLimit != null &&\n            newMaxValue > this.options.maxLimit\n          ) {\n            newMaxValue = this.options.maxLimit\n            newMinValue = newMaxValue - this.dragging.difference\n          }\n\n          this.lowValue = newMinValue\n          this.highValue = newMaxValue\n          this.applyLowValue()\n          if (this.range) this.applyHighValue()\n          this.applyModel(true)\n          this.updateHandles('lowValue', this.valueToPosition(newMinValue))\n          this.updateHandles('highValue', this.valueToPosition(newMaxValue))\n        },\n\n        /**\n         * Set the new value and position to the current tracking handle\n         *\n         * @param {number} newValue new model value\n         */\n        positionTrackingHandle: function(newValue) {\n          var valueChanged = false\n          newValue = this.applyMinMaxLimit(newValue)\n          newValue = this.applyRestrictedRange(newValue)\n          if (this.range) {\n            if (this.options.pushRange) {\n              newValue = this.applyPushRange(newValue)\n              valueChanged = true\n            } else {\n              if (this.options.noSwitching) {\n                if (this.tracking === 'lowValue' && newValue > this.highValue)\n                  newValue = this.applyMinMaxRange(this.highValue)\n                else if (\n                  this.tracking === 'highValue' &&\n                  newValue < this.lowValue\n                )\n                  newValue = this.applyMinMaxRange(this.lowValue)\n              }\n              newValue = this.applyMinMaxRange(newValue)\n              /* This is to check if we need to switch the min and max handles */\n              if (this.tracking === 'lowValue' && newValue > this.highValue) {\n                this.lowValue = this.highValue\n                this.applyLowValue()\n                this.applyModel()\n                this.updateHandles(this.tracking, this.maxH.rzsp)\n                this.updateAriaAttributes()\n                this.tracking = 'highValue'\n                this.minH.removeClass('rz-active')\n                this.maxH.addClass('rz-active')\n                if (this.options.keyboardSupport) this.focusElement(this.maxH)\n                valueChanged = true\n              } else if (\n                this.tracking === 'highValue' &&\n                newValue < this.lowValue\n              ) {\n                this.highValue = this.lowValue\n                this.applyHighValue()\n                this.applyModel()\n                this.updateHandles(this.tracking, this.minH.rzsp)\n                this.updateAriaAttributes()\n                this.tracking = 'lowValue'\n                this.maxH.removeClass('rz-active')\n                this.minH.addClass('rz-active')\n                if (this.options.keyboardSupport) this.focusElement(this.minH)\n                valueChanged = true\n              }\n            }\n          }\n\n          if (this[this.tracking] !== newValue) {\n            this[this.tracking] = newValue\n            if (this.tracking === 'lowValue') this.applyLowValue()\n            else this.applyHighValue()\n            this.applyModel()\n            this.updateHandles(this.tracking, this.valueToPosition(newValue))\n            this.updateAriaAttributes()\n            valueChanged = true\n          }\n\n          if (valueChanged) this.applyModel(true)\n        },\n\n        applyMinMaxLimit: function(newValue) {\n          if (this.options.minLimit != null && newValue < this.options.minLimit)\n            return this.options.minLimit\n          if (this.options.maxLimit != null && newValue > this.options.maxLimit)\n            return this.options.maxLimit\n          return newValue\n        },\n\n        applyMinMaxRange: function(newValue) {\n          var oppositeValue =\n              this.tracking === 'lowValue' ? this.highValue : this.lowValue,\n            difference = Math.abs(newValue - oppositeValue)\n          if (this.options.minRange != null) {\n            if (difference < this.options.minRange) {\n              if (this.tracking === 'lowValue')\n                return this.highValue - this.options.minRange\n              else return this.lowValue + this.options.minRange\n            }\n          }\n          if (this.options.maxRange != null) {\n            if (difference > this.options.maxRange) {\n              if (this.tracking === 'lowValue')\n                return this.highValue - this.options.maxRange\n              else return this.lowValue + this.options.maxRange\n            }\n          }\n          return newValue\n        },\n\n        applyRestrictedRange: function(newValue) {\n          if (\n            this.options.restrictedRange != null &&\n            newValue > this.options.restrictedRange.from &&\n            newValue < this.options.restrictedRange.to\n          ) {\n            var halfWidth =\n              (this.options.restrictedRange.to -\n                this.options.restrictedRange.from) /\n              2\n            if (this.tracking === 'lowValue') {\n              return newValue > this.options.restrictedRange.from + halfWidth\n                ? this.options.restrictedRange.to\n                : this.options.restrictedRange.from\n            }\n            if (this.tracking === 'highValue') {\n              return newValue < this.options.restrictedRange.to - halfWidth\n                ? this.options.restrictedRange.from\n                : this.options.restrictedRange.to\n            }\n          }\n          return newValue\n        },\n\n        applyPushRange: function(newValue) {\n          var difference =\n              this.tracking === 'lowValue'\n                ? this.highValue - newValue\n                : newValue - this.lowValue,\n            minRange =\n              this.options.minRange !== null\n                ? this.options.minRange\n                : this.options.step,\n            maxRange = this.options.maxRange\n          // if smaller than minRange\n          if (difference < minRange) {\n            if (this.tracking === 'lowValue') {\n              this.highValue = Math.min(newValue + minRange, this.maxValue)\n              newValue = this.highValue - minRange\n              this.applyHighValue()\n              this.updateHandles(\n                'highValue',\n                this.valueToPosition(this.highValue)\n              )\n            } else {\n              this.lowValue = Math.max(newValue - minRange, this.minValue)\n              newValue = this.lowValue + minRange\n              this.applyLowValue()\n              this.updateHandles(\n                'lowValue',\n                this.valueToPosition(this.lowValue)\n              )\n            }\n            this.updateAriaAttributes()\n          } else if (maxRange !== null && difference > maxRange) {\n            // if greater than maxRange\n            if (this.tracking === 'lowValue') {\n              this.highValue = newValue + maxRange\n              this.applyHighValue()\n              this.updateHandles(\n                'highValue',\n                this.valueToPosition(this.highValue)\n              )\n            } else {\n              this.lowValue = newValue - maxRange\n              this.applyLowValue()\n              this.updateHandles(\n                'lowValue',\n                this.valueToPosition(this.lowValue)\n              )\n            }\n            this.updateAriaAttributes()\n          }\n          return newValue\n        },\n\n        /**\n         * Apply the model values using scope.$apply.\n         * We wrap it with the internalChange flag to avoid the watchers to be called\n         */\n        applyModel: function(callOnChange) {\n          this.internalChange = true\n          this.scope.$apply()\n          callOnChange && this.callOnChange()\n          this.internalChange = false\n        },\n\n        /**\n         * Call the onStart callback if defined\n         * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\n         *\n         * @returns {undefined}\n         */\n        callOnStart: function() {\n          if (this.options.onStart) {\n            var self = this,\n              pointerType = this.tracking === 'lowValue' ? 'min' : 'max'\n            this.scope.$evalAsync(function() {\n              self.options.onStart(\n                self.options.id,\n                self.scope.rzSliderModel,\n                self.scope.rzSliderHigh,\n                pointerType\n              )\n            })\n          }\n        },\n\n        /**\n         * Call the onChange callback if defined\n         * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\n         *\n         * @returns {undefined}\n         */\n        callOnChange: function() {\n          if (this.options.onChange) {\n            var self = this,\n              pointerType = this.tracking === 'lowValue' ? 'min' : 'max'\n            this.scope.$evalAsync(function() {\n              self.options.onChange(\n                self.options.id,\n                self.scope.rzSliderModel,\n                self.scope.rzSliderHigh,\n                pointerType\n              )\n            })\n          }\n        },\n\n        /**\n         * Call the onEnd callback if defined\n         * The callback call is wrapped in a $evalAsync to ensure that its result will be applied to the scope.\n         *\n         * @returns {undefined}\n         */\n        callOnEnd: function() {\n          if (this.options.onEnd) {\n            var self = this,\n              pointerType = this.tracking === 'lowValue' ? 'min' : 'max'\n            this.scope.$evalAsync(function() {\n              self.options.onEnd(\n                self.options.id,\n                self.scope.rzSliderModel,\n                self.scope.rzSliderHigh,\n                pointerType\n              )\n            })\n          }\n          this.scope.$emit('slideEnded')\n        },\n      }\n\n      return Slider\n    }])\n    .directive('rzslider', ['RzSlider', function(RzSlider) {\n      'use strict'\n\n      return {\n        restrict: 'AE',\n        replace: true,\n        scope: {\n          rzSliderModel: '=?',\n          rzSliderHigh: '=?',\n          rzSliderOptions: '&?',\n          rzSliderTplUrl: '@',\n        },\n\n        /**\n         * Return template URL\n         *\n         * @param {jqLite} elem\n         * @param {Object} attrs\n         * @return {string}\n         */\n        templateUrl: function(elem, attrs) {\n          //noinspection JSUnresolvedVariable\n          return attrs.rzSliderTplUrl || 'rzSliderTpl.html'\n        },\n\n        link: function(scope, elem) {\n          scope.slider = new RzSlider(scope, elem) //attach on scope so we can test it\n        },\n      }\n    }])\n\n  // IDE assist\n\n  /**\n   * @name ngScope\n   *\n   * @property {number} rzSliderModel\n   * @property {number} rzSliderHigh\n   * @property {Object} rzSliderOptions\n   */\n\n  /**\n   * @name jqLite\n   *\n   * @property {number|undefined} rzsp rzslider label position position\n   * @property {number|undefined} rzsd rzslider element dimension\n   * @property {string|undefined} rzsv rzslider label value/text\n   * @property {Function} css\n   * @property {Function} text\n   */\n\n  /**\n   * @name Event\n   * @property {Array} touches\n   * @property {Event} originalEvent\n   */\n\n  /**\n   * @name ThrottleOptions\n   *\n   * @property {boolean} leading\n   * @property {boolean} trailing\n   */\n\n  module.run(['$templateCache', function($templateCache) {\n  'use strict';\n\n  $templateCache.put('rzSliderTpl.html',\n    \"<div class=rzslider><span class=\\\"rz-bar-wrapper rz-left-out-selection\\\"><span class=rz-bar></span></span> <span class=\\\"rz-bar-wrapper rz-right-out-selection\\\"><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=rz-bar></span></span> <span class=rz-bar-wrapper><span class=\\\"rz-bar rz-selection\\\" ng-style=barStyle></span></span> <span class=rz-bar-wrapper><span class=\\\"rz-bar rz-restricted\\\" ng-style=restrictionStyle></span></span> <span class=\\\"rz-pointer rz-pointer-min\\\" ng-style=minPointerStyle></span> <span class=\\\"rz-pointer rz-pointer-max\\\" ng-style=maxPointerStyle></span> <span class=\\\"rz-bubble rz-limit rz-floor\\\"></span> <span class=\\\"rz-bubble rz-limit rz-ceil\\\"></span> <span class=\\\"rz-bubble rz-model-value\\\"></span> <span class=\\\"rz-bubble rz-model-high\\\"></span> <span class=rz-bubble></span><ul ng-show=showTicks class=rz-ticks><li ng-repeat=\\\"t in ticks track by $index\\\" class=rz-tick ng-class=\\\"{'rz-selected': t.selected}\\\" ng-style=t.style ng-attr-uib-tooltip=\\\"{{ t.tooltip }}\\\" ng-attr-tooltip-placement={{t.tooltipPlacement}} ng-attr-tooltip-append-to-body=\\\"{{ t.tooltip ? true : undefined}}\\\"><span ng-if=\\\"t.value != null\\\" class=rz-tick-value ng-attr-uib-tooltip=\\\"{{ t.valueTooltip }}\\\" ng-attr-tooltip-placement={{t.valueTooltipPlacement}}>{{ t.value }}</span> <span ng-if=\\\"t.legend != null\\\" class=rz-tick-legend>{{ t.legend }}</span></li></ul></div>\"\n  );\n\n}]);\n\n  return module.name\n})\n;",
    "/*!\n * ui-select\n * http://github.com/angular-ui/ui-select\n * Version: 0.19.7 - 2017-04-15T14:28:36.649Z\n * License: MIT\n */\n\n\n(function () { \n\"use strict\";\nvar KEY = {\n    TAB: 9,\n    ENTER: 13,\n    ESC: 27,\n    SPACE: 32,\n    LEFT: 37,\n    UP: 38,\n    RIGHT: 39,\n    DOWN: 40,\n    SHIFT: 16,\n    CTRL: 17,\n    ALT: 18,\n    PAGE_UP: 33,\n    PAGE_DOWN: 34,\n    HOME: 36,\n    END: 35,\n    BACKSPACE: 8,\n    DELETE: 46,\n    COMMAND: 91,\n\n    MAP: { 91 : \"COMMAND\", 8 : \"BACKSPACE\" , 9 : \"TAB\" , 13 : \"ENTER\" , 16 : \"SHIFT\" , 17 : \"CTRL\" , 18 : \"ALT\" , 19 : \"PAUSEBREAK\" , 20 : \"CAPSLOCK\" , 27 : \"ESC\" , 32 : \"SPACE\" , 33 : \"PAGE_UP\", 34 : \"PAGE_DOWN\" , 35 : \"END\" , 36 : \"HOME\" , 37 : \"LEFT\" , 38 : \"UP\" , 39 : \"RIGHT\" , 40 : \"DOWN\" , 43 : \"+\" , 44 : \"PRINTSCREEN\" , 45 : \"INSERT\" , 46 : \"DELETE\", 48 : \"0\" , 49 : \"1\" , 50 : \"2\" , 51 : \"3\" , 52 : \"4\" , 53 : \"5\" , 54 : \"6\" , 55 : \"7\" , 56 : \"8\" , 57 : \"9\" , 59 : \";\", 61 : \"=\" , 65 : \"A\" , 66 : \"B\" , 67 : \"C\" , 68 : \"D\" , 69 : \"E\" , 70 : \"F\" , 71 : \"G\" , 72 : \"H\" , 73 : \"I\" , 74 : \"J\" , 75 : \"K\" , 76 : \"L\", 77 : \"M\" , 78 : \"N\" , 79 : \"O\" , 80 : \"P\" , 81 : \"Q\" , 82 : \"R\" , 83 : \"S\" , 84 : \"T\" , 85 : \"U\" , 86 : \"V\" , 87 : \"W\" , 88 : \"X\" , 89 : \"Y\" , 90 : \"Z\", 96 : \"0\" , 97 : \"1\" , 98 : \"2\" , 99 : \"3\" , 100 : \"4\" , 101 : \"5\" , 102 : \"6\" , 103 : \"7\" , 104 : \"8\" , 105 : \"9\", 106 : \"*\" , 107 : \"+\" , 109 : \"-\" , 110 : \".\" , 111 : \"/\", 112 : \"F1\" , 113 : \"F2\" , 114 : \"F3\" , 115 : \"F4\" , 116 : \"F5\" , 117 : \"F6\" , 118 : \"F7\" , 119 : \"F8\" , 120 : \"F9\" , 121 : \"F10\" , 122 : \"F11\" , 123 : \"F12\", 144 : \"NUMLOCK\" , 145 : \"SCROLLLOCK\" , 186 : \";\" , 187 : \"=\" , 188 : \",\" , 189 : \"-\" , 190 : \".\" , 191 : \"/\" , 192 : \"`\" , 219 : \"[\" , 220 : \"\\\\\" , 221 : \"]\" , 222 : \"'\"\n    },\n\n    isControl: function (e) {\n        var k = e.which;\n        switch (k) {\n        case KEY.COMMAND:\n        case KEY.SHIFT:\n        case KEY.CTRL:\n        case KEY.ALT:\n            return true;\n        }\n\n        if (e.metaKey || e.ctrlKey || e.altKey) return true;\n\n        return false;\n    },\n    isFunctionKey: function (k) {\n        k = k.which ? k.which : k;\n        return k >= 112 && k <= 123;\n    },\n    isVerticalMovement: function (k){\n      return ~[KEY.UP, KEY.DOWN].indexOf(k);\n    },\n    isHorizontalMovement: function (k){\n      return ~[KEY.LEFT,KEY.RIGHT,KEY.BACKSPACE,KEY.DELETE].indexOf(k);\n    },\n    toSeparator: function (k) {\n      var sep = {ENTER:\"\\n\",TAB:\"\\t\",SPACE:\" \"}[k];\n      if (sep) return sep;\n      // return undefined for special keys other than enter, tab or space.\n      // no way to use them to cut strings.\n      return KEY[k] ? undefined : k;\n    }\n  };\n\nfunction isNil(value) {\n  return angular.isUndefined(value) || value === null;\n}\n\n/**\n * Add querySelectorAll() to jqLite.\n *\n * jqLite find() is limited to lookups by tag name.\n * TODO This will change with future versions of AngularJS, to be removed when this happens\n *\n * See jqLite.find - why not use querySelectorAll? https://github.com/angular/angular.js/issues/3586\n * See feat(jqLite): use querySelectorAll instead of getElementsByTagName in jqLite.find https://github.com/angular/angular.js/pull/3598\n */\nif (angular.element.prototype.querySelectorAll === undefined) {\n  angular.element.prototype.querySelectorAll = function(selector) {\n    return angular.element(this[0].querySelectorAll(selector));\n  };\n}\n\n/**\n * Add closest() to jqLite.\n */\nif (angular.element.prototype.closest === undefined) {\n  angular.element.prototype.closest = function( selector) {\n    var elem = this[0];\n    var matchesSelector = elem.matches || elem.webkitMatchesSelector || elem.mozMatchesSelector || elem.msMatchesSelector;\n\n    while (elem) {\n      if (matchesSelector.bind(elem)(selector)) {\n        return elem;\n      } else {\n        elem = elem.parentElement;\n      }\n    }\n    return false;\n  };\n}\n\nvar latestId = 0;\n\nvar uis = angular.module('ui.select', [])\n\n.constant('uiSelectConfig', {\n  theme: 'bootstrap',\n  searchEnabled: true,\n  sortable: false,\n  placeholder: '', // Empty by default, like HTML tag <select>\n  refreshDelay: 1000, // In milliseconds\n  closeOnSelect: true,\n  skipFocusser: false,\n  dropdownPosition: 'auto',\n  removeSelected: true,\n  resetSearchInput: true,\n  generateId: function() {\n    return latestId++;\n  },\n  appendToBody: false,\n  spinnerEnabled: false,\n  spinnerClass: 'glyphicon glyphicon-refresh ui-select-spin',\n  backspaceReset: true\n})\n\n// See Rename minErr and make it accessible from outside https://github.com/angular/angular.js/issues/6913\n.service('uiSelectMinErr', function() {\n  var minErr = angular.$$minErr('ui.select');\n  return function() {\n    var error = minErr.apply(this, arguments);\n    var message = error.message.replace(new RegExp('\\nhttp://errors.angularjs.org/.*'), '');\n    return new Error(message);\n  };\n})\n\n// Recreates old behavior of ng-transclude. Used internally.\n.directive('uisTranscludeAppend', function () {\n  return {\n    link: function (scope, element, attrs, ctrl, transclude) {\n        transclude(scope, function (clone) {\n          element.append(clone);\n        });\n      }\n    };\n})\n\n/**\n * Highlights text that matches $select.search.\n *\n * Taken from AngularUI Bootstrap Typeahead\n * See https://github.com/angular-ui/bootstrap/blob/0.10.0/src/typeahead/typeahead.js#L340\n */\n.filter('highlight', function() {\n  function escapeRegexp(queryToEscape) {\n    return ('' + queryToEscape).replace(/([.?*+^$[\\]\\\\(){}|-])/g, '\\\\$1');\n  }\n\n  return function(matchItem, query) {\n    return query && matchItem ? ('' + matchItem).replace(new RegExp(escapeRegexp(query), 'gi'), '<span class=\"ui-select-highlight\">$&</span>') : matchItem;\n  };\n})\n\n/**\n * A read-only equivalent of jQuery's offset function: http://api.jquery.com/offset/\n *\n * Taken from AngularUI Bootstrap Position:\n * See https://github.com/angular-ui/bootstrap/blob/master/src/position/position.js#L70\n */\n.factory('uisOffset',\n  ['$document', '$window',\n  function ($document, $window) {\n\n  return function(element) {\n    var boundingClientRect = element[0].getBoundingClientRect();\n    return {\n      width: boundingClientRect.width || element.prop('offsetWidth'),\n      height: boundingClientRect.height || element.prop('offsetHeight'),\n      top: boundingClientRect.top + ($window.pageYOffset || $document[0].documentElement.scrollTop),\n      left: boundingClientRect.left + ($window.pageXOffset || $document[0].documentElement.scrollLeft)\n    };\n  };\n}]);\n\n/**\n * Debounces functions\n *\n * Taken from UI Bootstrap $$debounce source code\n * See https://github.com/angular-ui/bootstrap/blob/master/src/debounce/debounce.js\n *\n */\nuis.factory('$$uisDebounce', ['$timeout', function($timeout) {\n  return function(callback, debounceTime) {\n    var timeoutPromise;\n\n    return function() {\n      var self = this;\n      var args = Array.prototype.slice.call(arguments);\n      if (timeoutPromise) {\n        $timeout.cancel(timeoutPromise);\n      }\n\n      timeoutPromise = $timeout(function() {\n        callback.apply(self, args);\n      }, debounceTime);\n    };\n  };\n}]);\n\nuis.directive('uiSelectChoices',\n  ['uiSelectConfig', 'uisRepeatParser', 'uiSelectMinErr', '$compile', '$window',\n  function(uiSelectConfig, RepeatParser, uiSelectMinErr, $compile, $window) {\n\n  return {\n    restrict: 'EA',\n    require: '^uiSelect',\n    replace: true,\n    transclude: true,\n    templateUrl: function(tElement) {\n      // Needed so the uiSelect can detect the transcluded content\n      tElement.addClass('ui-select-choices');\n\n      // Gets theme attribute from parent (ui-select)\n      var theme = tElement.parent().attr('theme') || uiSelectConfig.theme;\n      return theme + '/choices.tpl.html';\n    },\n\n    compile: function(tElement, tAttrs) {\n\n      if (!tAttrs.repeat) throw uiSelectMinErr('repeat', \"Expected 'repeat' expression.\");\n\n      // var repeat = RepeatParser.parse(attrs.repeat);\n      var groupByExp = tAttrs.groupBy;\n      var groupFilterExp = tAttrs.groupFilter;\n\n      if (groupByExp) {\n        var groups = tElement.querySelectorAll('.ui-select-choices-group');\n        if (groups.length !== 1) throw uiSelectMinErr('rows', \"Expected 1 .ui-select-choices-group but got '{0}'.\", groups.length);\n        groups.attr('ng-repeat', RepeatParser.getGroupNgRepeatExpression());\n      }\n\n      var parserResult = RepeatParser.parse(tAttrs.repeat);\n\n      var choices = tElement.querySelectorAll('.ui-select-choices-row');\n      if (choices.length !== 1) {\n        throw uiSelectMinErr('rows', \"Expected 1 .ui-select-choices-row but got '{0}'.\", choices.length);\n      }\n\n      choices.attr('ng-repeat', parserResult.repeatExpression(groupByExp))\n             .attr('ng-if', '$select.open'); //Prevent unnecessary watches when dropdown is closed\n\n\n      var rowsInner = tElement.querySelectorAll('.ui-select-choices-row-inner');\n      if (rowsInner.length !== 1) {\n        throw uiSelectMinErr('rows', \"Expected 1 .ui-select-choices-row-inner but got '{0}'.\", rowsInner.length);\n      }\n      rowsInner.attr('uis-transclude-append', ''); //Adding uisTranscludeAppend directive to row element after choices element has ngRepeat\n\n      // If IE8 then need to target rowsInner to apply the ng-click attr as choices will not capture the event.\n      var clickTarget = $window.document.addEventListener ? choices : rowsInner;\n      clickTarget.attr('ng-click', '$select.select(' + parserResult.itemName + ',$select.skipFocusser,$event)');\n\n      return function link(scope, element, attrs, $select) {\n\n\n        $select.parseRepeatAttr(attrs.repeat, groupByExp, groupFilterExp); //Result ready at $select.parserResult\n        $select.disableChoiceExpression = attrs.uiDisableChoice;\n        $select.onHighlightCallback = attrs.onHighlight;\n        $select.minimumInputLength = parseInt(attrs.minimumInputLength) || 0;\n        $select.dropdownPosition = attrs.position ? attrs.position.toLowerCase() : uiSelectConfig.dropdownPosition;\n\n        scope.$watch('$select.search', function(newValue) {\n          if(newValue && !$select.open && $select.multiple) $select.activate(false, true);\n          $select.activeIndex = $select.tagging.isActivated ? -1 : 0;\n          if (!attrs.minimumInputLength || $select.search.length >= attrs.minimumInputLength) {\n            $select.refresh(attrs.refresh);\n          } else {\n            $select.items = [];\n          }\n        });\n\n        attrs.$observe('refreshDelay', function() {\n          // $eval() is needed otherwise we get a string instead of a number\n          var refreshDelay = scope.$eval(attrs.refreshDelay);\n          $select.refreshDelay = refreshDelay !== undefined ? refreshDelay : uiSelectConfig.refreshDelay;\n        });\n\n        scope.$watch('$select.open', function(open) {\n          if (open) {\n            tElement.attr('role', 'listbox');\n            $select.refresh(attrs.refresh);\n          } else {\n            element.removeAttr('role');\n          }\n        });\n      };\n    }\n  };\n}]);\n\n/**\n * Contains ui-select \"intelligence\".\n *\n * The goal is to limit dependency on the DOM whenever possible and\n * put as much logic in the controller (instead of the link functions) as possible so it can be easily tested.\n */\nuis.controller('uiSelectCtrl',\n  ['$scope', '$element', '$timeout', '$filter', '$$uisDebounce', 'uisRepeatParser', 'uiSelectMinErr', 'uiSelectConfig', '$parse', '$injector', '$window',\n  function($scope, $element, $timeout, $filter, $$uisDebounce, RepeatParser, uiSelectMinErr, uiSelectConfig, $parse, $injector, $window) {\n\n  var ctrl = this;\n\n  var EMPTY_SEARCH = '';\n\n  ctrl.placeholder = uiSelectConfig.placeholder;\n  ctrl.searchEnabled = uiSelectConfig.searchEnabled;\n  ctrl.sortable = uiSelectConfig.sortable;\n  ctrl.refreshDelay = uiSelectConfig.refreshDelay;\n  ctrl.paste = uiSelectConfig.paste;\n  ctrl.resetSearchInput = uiSelectConfig.resetSearchInput;\n  ctrl.refreshing = false;\n  ctrl.spinnerEnabled = uiSelectConfig.spinnerEnabled;\n  ctrl.spinnerClass = uiSelectConfig.spinnerClass;\n  ctrl.removeSelected = uiSelectConfig.removeSelected; //If selected item(s) should be removed from dropdown list\n  ctrl.closeOnSelect = true; //Initialized inside uiSelect directive link function\n  ctrl.skipFocusser = false; //Set to true to avoid returning focus to ctrl when item is selected\n  ctrl.search = EMPTY_SEARCH;\n\n  ctrl.activeIndex = 0; //Dropdown of choices\n  ctrl.items = []; //All available choices\n\n  ctrl.open = false;\n  ctrl.focus = false;\n  ctrl.disabled = false;\n  ctrl.selected = undefined;\n\n  ctrl.dropdownPosition = 'auto';\n\n  ctrl.focusser = undefined; //Reference to input element used to handle focus events\n  ctrl.multiple = undefined; // Initialized inside uiSelect directive link function\n  ctrl.disableChoiceExpression = undefined; // Initialized inside uiSelectChoices directive link function\n  ctrl.tagging = {isActivated: false, fct: undefined};\n  ctrl.taggingTokens = {isActivated: false, tokens: undefined};\n  ctrl.lockChoiceExpression = undefined; // Initialized inside uiSelectMatch directive link function\n  ctrl.clickTriggeredSelect = false;\n  ctrl.$filter = $filter;\n  ctrl.$element = $element;\n\n  // Use $injector to check for $animate and store a reference to it\n  ctrl.$animate = (function () {\n    try {\n      return $injector.get('$animate');\n    } catch (err) {\n      // $animate does not exist\n      return null;\n    }\n  })();\n\n  ctrl.searchInput = $element.querySelectorAll('input.ui-select-search');\n  if (ctrl.searchInput.length !== 1) {\n    throw uiSelectMinErr('searchInput', \"Expected 1 input.ui-select-search but got '{0}'.\", ctrl.searchInput.length);\n  }\n\n  ctrl.isEmpty = function() {\n    return isNil(ctrl.selected) || ctrl.selected === '' || (ctrl.multiple && ctrl.selected.length === 0);\n  };\n\n  function _findIndex(collection, predicate, thisArg){\n    if (collection.findIndex){\n      return collection.findIndex(predicate, thisArg);\n    } else {\n      var list = Object(collection);\n      var length = list.length >>> 0;\n      var value;\n\n      for (var i = 0; i < length; i++) {\n        value = list[i];\n        if (predicate.call(thisArg, value, i, list)) {\n          return i;\n        }\n      }\n      return -1;\n    }\n  }\n\n  // Most of the time the user does not want to empty the search input when in typeahead mode\n  function _resetSearchInput() {\n    if (ctrl.resetSearchInput) {\n      ctrl.search = EMPTY_SEARCH;\n      //reset activeIndex\n      if (ctrl.selected && ctrl.items.length && !ctrl.multiple) {\n        ctrl.activeIndex = _findIndex(ctrl.items, function(item){\n          return angular.equals(this, item);\n        }, ctrl.selected);\n      }\n    }\n  }\n\n    function _groupsFilter(groups, groupNames) {\n      var i, j, result = [];\n      for(i = 0; i < groupNames.length ;i++){\n        for(j = 0; j < groups.length ;j++){\n          if(groups[j].name == [groupNames[i]]){\n            result.push(groups[j]);\n          }\n        }\n      }\n      return result;\n    }\n\n  // When the user clicks on ui-select, displays the dropdown list\n  ctrl.activate = function(initSearchValue, avoidReset) {\n    if (!ctrl.disabled  && !ctrl.open) {\n      if(!avoidReset) _resetSearchInput();\n\n      $scope.$broadcast('uis:activate');\n      ctrl.open = true;\n      ctrl.activeIndex = ctrl.activeIndex >= ctrl.items.length ? 0 : ctrl.activeIndex;\n      // ensure that the index is set to zero for tagging variants\n      // that where first option is auto-selected\n      if ( ctrl.activeIndex === -1 && ctrl.taggingLabel !== false ) {\n        ctrl.activeIndex = 0;\n      }\n\n      var container = $element.querySelectorAll('.ui-select-choices-content');\n      var searchInput = $element.querySelectorAll('.ui-select-search');\n      if (ctrl.$animate && ctrl.$animate.on && ctrl.$animate.enabled(container[0])) {\n        var animateHandler = function(elem, phase) {\n          if (phase === 'start' && ctrl.items.length === 0) {\n            // Only focus input after the animation has finished\n            ctrl.$animate.off('removeClass', searchInput[0], animateHandler);\n            $timeout(function () {\n              ctrl.focusSearchInput(initSearchValue);\n            });\n          } else if (phase === 'close') {\n            // Only focus input after the animation has finished\n            ctrl.$animate.off('enter', container[0], animateHandler);\n            $timeout(function () {\n              ctrl.focusSearchInput(initSearchValue);\n            });\n          }\n        };\n\n        if (ctrl.items.length > 0) {\n          ctrl.$animate.on('enter', container[0], animateHandler);\n        } else {\n          ctrl.$animate.on('removeClass', searchInput[0], animateHandler);\n        }\n      } else {\n        $timeout(function () {\n          ctrl.focusSearchInput(initSearchValue);\n          if(!ctrl.tagging.isActivated && ctrl.items.length > 1) {\n            _ensureHighlightVisible();\n          }\n        });\n      }\n    }\n    else if (ctrl.open && !ctrl.searchEnabled) {\n      // Close the selection if we don't have search enabled, and we click on the select again\n      ctrl.close();\n    }\n  };\n\n  ctrl.focusSearchInput = function (initSearchValue) {\n    ctrl.search = initSearchValue || ctrl.search;\n    ctrl.searchInput[0].focus();\n  };\n\n  ctrl.findGroupByName = function(name) {\n    return ctrl.groups && ctrl.groups.filter(function(group) {\n      return group.name === name;\n    })[0];\n  };\n\n  ctrl.parseRepeatAttr = function(repeatAttr, groupByExp, groupFilterExp) {\n    function updateGroups(items) {\n      var groupFn = $scope.$eval(groupByExp);\n      ctrl.groups = [];\n      angular.forEach(items, function(item) {\n        var groupName = angular.isFunction(groupFn) ? groupFn(item) : item[groupFn];\n        var group = ctrl.findGroupByName(groupName);\n        if(group) {\n          group.items.push(item);\n        }\n        else {\n          ctrl.groups.push({name: groupName, items: [item]});\n        }\n      });\n      if(groupFilterExp){\n        var groupFilterFn = $scope.$eval(groupFilterExp);\n        if( angular.isFunction(groupFilterFn)){\n          ctrl.groups = groupFilterFn(ctrl.groups);\n        } else if(angular.isArray(groupFilterFn)){\n          ctrl.groups = _groupsFilter(ctrl.groups, groupFilterFn);\n        }\n      }\n      ctrl.items = [];\n      ctrl.groups.forEach(function(group) {\n        ctrl.items = ctrl.items.concat(group.items);\n      });\n    }\n\n    function setPlainItems(items) {\n      ctrl.items = items || [];\n    }\n\n    ctrl.setItemsFn = groupByExp ? updateGroups : setPlainItems;\n\n    ctrl.parserResult = RepeatParser.parse(repeatAttr);\n\n    ctrl.isGrouped = !!groupByExp;\n    ctrl.itemProperty = ctrl.parserResult.itemName;\n\n    //If collection is an Object, convert it to Array\n\n    var originalSource = ctrl.parserResult.source;\n\n    //When an object is used as source, we better create an array and use it as 'source'\n    var createArrayFromObject = function(){\n      var origSrc = originalSource($scope);\n      $scope.$uisSource = Object.keys(origSrc).map(function(v){\n        var result = {};\n        result[ctrl.parserResult.keyName] = v;\n        result.value = origSrc[v];\n        return result;\n      });\n    };\n\n    if (ctrl.parserResult.keyName){ // Check for (key,value) syntax\n      createArrayFromObject();\n      ctrl.parserResult.source = $parse('$uisSource' + ctrl.parserResult.filters);\n      $scope.$watch(originalSource, function(newVal, oldVal){\n        if (newVal !== oldVal) createArrayFromObject();\n      }, true);\n    }\n\n    ctrl.refreshItems = function (data){\n      data = data || ctrl.parserResult.source($scope);\n      var selectedItems = ctrl.selected;\n      //TODO should implement for single mode removeSelected\n      if (ctrl.isEmpty() || (angular.isArray(selectedItems) && !selectedItems.length) || !ctrl.multiple || !ctrl.removeSelected) {\n        ctrl.setItemsFn(data);\n      }else{\n        if ( data !== undefined && data !== null ) {\n          var filteredItems = data.filter(function(i) {\n            return angular.isArray(selectedItems) ? selectedItems.every(function(selectedItem) {\n              return !angular.equals(i, selectedItem);\n            }) : !angular.equals(i, selectedItems);\n          });\n          ctrl.setItemsFn(filteredItems);\n        }\n      }\n      if (ctrl.dropdownPosition === 'auto' || ctrl.dropdownPosition === 'up'){\n        $scope.calculateDropdownPos();\n      }\n      $scope.$broadcast('uis:refresh');\n    };\n\n    // See https://github.com/angular/angular.js/blob/v1.2.15/src/ng/directive/ngRepeat.js#L259\n    $scope.$watchCollection(ctrl.parserResult.source, function(items) {\n      if (items === undefined || items === null) {\n        // If the user specifies undefined or null => reset the collection\n        // Special case: items can be undefined if the user did not initialized the collection on the scope\n        // i.e $scope.addresses = [] is missing\n        ctrl.items = [];\n      } else {\n        if (!angular.isArray(items)) {\n          throw uiSelectMinErr('items', \"Expected an array but got '{0}'.\", items);\n        } else {\n          //Remove already selected items (ex: while searching)\n          //TODO Should add a test\n          ctrl.refreshItems(items);\n\n          //update the view value with fresh data from items, if there is a valid model value\n          if(angular.isDefined(ctrl.ngModel.$modelValue)) {\n            ctrl.ngModel.$modelValue = null; //Force scope model value and ngModel value to be out of sync to re-run formatters\n          }\n        }\n      }\n    });\n\n  };\n\n  var _refreshDelayPromise;\n\n  /**\n   * Typeahead mode: lets the user refresh the collection using his own function.\n   *\n   * See Expose $select.search for external / remote filtering https://github.com/angular-ui/ui-select/pull/31\n   */\n  ctrl.refresh = function(refreshAttr) {\n    if (refreshAttr !== undefined) {\n      // Debounce\n      // See https://github.com/angular-ui/bootstrap/blob/0.10.0/src/typeahead/typeahead.js#L155\n      // FYI AngularStrap typeahead does not have debouncing: https://github.com/mgcrea/angular-strap/blob/v2.0.0-rc.4/src/typeahead/typeahead.js#L177\n      if (_refreshDelayPromise) {\n        $timeout.cancel(_refreshDelayPromise);\n      }\n      _refreshDelayPromise = $timeout(function() {\n        if ($scope.$select.search.length >= $scope.$select.minimumInputLength) {\n          var refreshPromise = $scope.$eval(refreshAttr);\n          if (refreshPromise && angular.isFunction(refreshPromise.then) && !ctrl.refreshing) {\n            ctrl.refreshing = true;\n            refreshPromise.finally(function() {\n              ctrl.refreshing = false;\n            });\n          }\n        }\n      }, ctrl.refreshDelay);\n    }\n  };\n\n  ctrl.isActive = function(itemScope) {\n    if ( !ctrl.open ) {\n      return false;\n    }\n    var itemIndex = ctrl.items.indexOf(itemScope[ctrl.itemProperty]);\n    var isActive =  itemIndex == ctrl.activeIndex;\n\n    if ( !isActive || itemIndex < 0 ) {\n      return false;\n    }\n\n    if (isActive && !angular.isUndefined(ctrl.onHighlightCallback)) {\n      itemScope.$eval(ctrl.onHighlightCallback);\n    }\n\n    return isActive;\n  };\n\n  var _isItemSelected = function (item) {\n    return (ctrl.selected && angular.isArray(ctrl.selected) &&\n        ctrl.selected.filter(function (selection) { return angular.equals(selection, item); }).length > 0);\n  };\n\n  var disabledItems = [];\n\n  function _updateItemDisabled(item, isDisabled) {\n    var disabledItemIndex = disabledItems.indexOf(item);\n    if (isDisabled && disabledItemIndex === -1) {\n      disabledItems.push(item);\n    }\n\n    if (!isDisabled && disabledItemIndex > -1) {\n      disabledItems.splice(disabledItemIndex, 1);\n    }\n  }\n\n  function _isItemDisabled(item) {\n    return disabledItems.indexOf(item) > -1;\n  }\n\n  ctrl.isDisabled = function(itemScope) {\n\n    if (!ctrl.open) return;\n\n    var item = itemScope[ctrl.itemProperty];\n    var itemIndex = ctrl.items.indexOf(item);\n    var isDisabled = false;\n\n    if (itemIndex >= 0 && (angular.isDefined(ctrl.disableChoiceExpression) || ctrl.multiple)) {\n\n      if (item.isTag) return false;\n\n      if (ctrl.multiple) {\n        isDisabled = _isItemSelected(item);\n      }\n\n      if (!isDisabled && angular.isDefined(ctrl.disableChoiceExpression)) {\n        isDisabled = !!(itemScope.$eval(ctrl.disableChoiceExpression));\n      }\n\n      _updateItemDisabled(item, isDisabled);\n    }\n\n    return isDisabled;\n  };\n\n\n  // When the user selects an item with ENTER or clicks the dropdown\n  ctrl.select = function(item, skipFocusser, $event) {\n    if (isNil(item) || !_isItemDisabled(item)) {\n\n      if ( ! ctrl.items && ! ctrl.search && ! ctrl.tagging.isActivated) return;\n\n      if (!item || !_isItemDisabled(item)) {\n        // if click is made on existing item, prevent from tagging, ctrl.search does not matter\n        ctrl.clickTriggeredSelect = false;\n        if($event && ($event.type === 'click' || $event.type === 'touchend') && item)\n          ctrl.clickTriggeredSelect = true;\n\n        if(ctrl.tagging.isActivated && ctrl.clickTriggeredSelect === false) {\n          // if taggingLabel is disabled and item is undefined we pull from ctrl.search\n          if ( ctrl.taggingLabel === false ) {\n            if ( ctrl.activeIndex < 0 ) {\n              if (item === undefined) {\n                item = ctrl.tagging.fct !== undefined ? ctrl.tagging.fct(ctrl.search) : ctrl.search;\n              }\n              if (!item || angular.equals( ctrl.items[0], item ) ) {\n                return;\n              }\n            } else {\n              // keyboard nav happened first, user selected from dropdown\n              item = ctrl.items[ctrl.activeIndex];\n            }\n          } else {\n            // tagging always operates at index zero, taggingLabel === false pushes\n            // the ctrl.search value without having it injected\n            if ( ctrl.activeIndex === 0 ) {\n              // ctrl.tagging pushes items to ctrl.items, so we only have empty val\n              // for `item` if it is a detected duplicate\n              if ( item === undefined ) return;\n\n              // create new item on the fly if we don't already have one;\n              // use tagging function if we have one\n              if ( ctrl.tagging.fct !== undefined && typeof item === 'string' ) {\n                item = ctrl.tagging.fct(item);\n                if (!item) return;\n              // if item type is 'string', apply the tagging label\n              } else if ( typeof item === 'string' ) {\n                // trim the trailing space\n                item = item.replace(ctrl.taggingLabel,'').trim();\n              }\n            }\n          }\n          // search ctrl.selected for dupes potentially caused by tagging and return early if found\n          if (_isItemSelected(item)) {\n            ctrl.close(skipFocusser);\n            return;\n          }\n        }\n        _resetSearchInput();\n        $scope.$broadcast('uis:select', item);\n\n        if (ctrl.closeOnSelect) {\n          ctrl.close(skipFocusser);\n        }\n      }\n    }\n  };\n\n  // Closes the dropdown\n  ctrl.close = function(skipFocusser) {\n    if (!ctrl.open) return;\n    if (ctrl.ngModel && ctrl.ngModel.$setTouched) ctrl.ngModel.$setTouched();\n    ctrl.open = false;\n    _resetSearchInput();\n    $scope.$broadcast('uis:close', skipFocusser);\n\n  };\n\n  ctrl.setFocus = function(){\n    if (!ctrl.focus) ctrl.focusInput[0].focus();\n  };\n\n  ctrl.clear = function($event) {\n    ctrl.select(null);\n    $event.stopPropagation();\n    $timeout(function() {\n      ctrl.focusser[0].focus();\n    }, 0, false);\n  };\n\n  // Toggle dropdown\n  ctrl.toggle = function(e) {\n    if (ctrl.open) {\n      ctrl.close();\n      e.preventDefault();\n      e.stopPropagation();\n    } else {\n      ctrl.activate();\n    }\n  };\n\n  // Set default function for locked choices - avoids unnecessary\n  // logic if functionality is not being used\n  ctrl.isLocked = function () {\n    return false;\n  };\n\n  $scope.$watch(function () {\n    return angular.isDefined(ctrl.lockChoiceExpression) && ctrl.lockChoiceExpression !== \"\";\n  }, _initaliseLockedChoices);\n\n  function _initaliseLockedChoices(doInitalise) {\n    if(!doInitalise) return;\n\n    var lockedItems = [];\n\n    function _updateItemLocked(item, isLocked) {\n      var lockedItemIndex = lockedItems.indexOf(item);\n      if (isLocked && lockedItemIndex === -1) {\n        lockedItems.push(item);\n        }\n\n      if (!isLocked && lockedItemIndex > -1) {\n        lockedItems.splice(lockedItemIndex, 1);\n      }\n    }\n\n    function _isItemlocked(item) {\n      return lockedItems.indexOf(item) > -1;\n    }\n\n    ctrl.isLocked = function (itemScope, itemIndex) {\n      var isLocked = false,\n          item = ctrl.selected[itemIndex];\n\n      if(item) {\n        if (itemScope) {\n          isLocked = !!(itemScope.$eval(ctrl.lockChoiceExpression));\n          _updateItemLocked(item, isLocked);\n        } else {\n          isLocked = _isItemlocked(item);\n        }\n      }\n\n      return isLocked;\n    };\n  }\n\n\n  var sizeWatch = null;\n  var updaterScheduled = false;\n  ctrl.sizeSearchInput = function() {\n\n    var input = ctrl.searchInput[0],\n        container = ctrl.$element[0],\n        calculateContainerWidth = function() {\n          // Return the container width only if the search input is visible\n          return container.clientWidth * !!input.offsetParent;\n        },\n        updateIfVisible = function(containerWidth) {\n          if (containerWidth === 0) {\n            return false;\n          }\n          var inputWidth = containerWidth - input.offsetLeft;\n          if (inputWidth < 50) inputWidth = containerWidth;\n          ctrl.searchInput.css('width', inputWidth+'px');\n          return true;\n        };\n\n    ctrl.searchInput.css('width', '10px');\n    $timeout(function() { //Give tags time to render correctly\n      if (sizeWatch === null && !updateIfVisible(calculateContainerWidth())) {\n        sizeWatch = $scope.$watch(function() {\n          if (!updaterScheduled) {\n            updaterScheduled = true;\n            $scope.$$postDigest(function() {\n              updaterScheduled = false;\n              if (updateIfVisible(calculateContainerWidth())) {\n                sizeWatch();\n                sizeWatch = null;\n              }\n            });\n          }\n        }, angular.noop);\n      }\n    });\n  };\n\n  function _handleDropDownSelection(key) {\n    var processed = true;\n    switch (key) {\n      case KEY.DOWN:\n        if (!ctrl.open && ctrl.multiple) ctrl.activate(false, true); //In case its the search input in 'multiple' mode\n        else if (ctrl.activeIndex < ctrl.items.length - 1) {\n          var idx = ++ctrl.activeIndex;\n          while(_isItemDisabled(ctrl.items[idx]) && idx < ctrl.items.length) {\n            ctrl.activeIndex = ++idx;\n          }\n        }\n        break;\n      case KEY.UP:\n        var minActiveIndex = (ctrl.search.length === 0 && ctrl.tagging.isActivated) ? -1 : 0;\n        if (!ctrl.open && ctrl.multiple) ctrl.activate(false, true); //In case its the search input in 'multiple' mode\n        else if (ctrl.activeIndex > minActiveIndex) {\n          var idxmin = --ctrl.activeIndex;\n          while(_isItemDisabled(ctrl.items[idxmin]) && idxmin > minActiveIndex) {\n            ctrl.activeIndex = --idxmin;\n          }\n        }\n        break;\n      case KEY.TAB:\n        if (!ctrl.multiple || ctrl.open) ctrl.select(ctrl.items[ctrl.activeIndex], true);\n        break;\n      case KEY.ENTER:\n        if(ctrl.open && (ctrl.tagging.isActivated || ctrl.activeIndex >= 0)){\n          ctrl.select(ctrl.items[ctrl.activeIndex], ctrl.skipFocusser); // Make sure at least one dropdown item is highlighted before adding if not in tagging mode\n        } else {\n          ctrl.activate(false, true); //In case its the search input in 'multiple' mode\n        }\n        break;\n      case KEY.ESC:\n        ctrl.close();\n        break;\n      default:\n        processed = false;\n    }\n    return processed;\n  }\n\n  // Bind to keyboard shortcuts\n  ctrl.searchInput.on('keydown', function(e) {\n\n    var key = e.which;\n\n    if (~[KEY.ENTER,KEY.ESC].indexOf(key)){\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n    $scope.$apply(function() {\n\n      var tagged = false;\n\n      if (ctrl.items.length > 0 || ctrl.tagging.isActivated) {\n        if(!_handleDropDownSelection(key) && !ctrl.searchEnabled) {\n          e.preventDefault();\n          e.stopPropagation();\n        }\n        if ( ctrl.taggingTokens.isActivated ) {\n          for (var i = 0; i < ctrl.taggingTokens.tokens.length; i++) {\n            if ( ctrl.taggingTokens.tokens[i] === KEY.MAP[e.keyCode] ) {\n              // make sure there is a new value to push via tagging\n              if ( ctrl.search.length > 0 ) {\n                tagged = true;\n              }\n            }\n          }\n          if ( tagged ) {\n            $timeout(function() {\n              ctrl.searchInput.triggerHandler('tagged');\n              var newItem = ctrl.search.replace(KEY.MAP[e.keyCode],'').trim();\n              if ( ctrl.tagging.fct ) {\n                newItem = ctrl.tagging.fct( newItem );\n              }\n              if (newItem) ctrl.select(newItem, true);\n            });\n          }\n        }\n      }\n\n    });\n\n    if(KEY.isVerticalMovement(key) && ctrl.items.length > 0){\n      _ensureHighlightVisible();\n    }\n\n    if (key === KEY.ENTER || key === KEY.ESC) {\n      e.preventDefault();\n      e.stopPropagation();\n    }\n\n  });\n\n  ctrl.searchInput.on('paste', function (e) {\n    var data;\n\n    if (window.clipboardData && window.clipboardData.getData) { // IE\n      data = window.clipboardData.getData('Text');\n    } else {\n      data = (e.originalEvent || e).clipboardData.getData('text/plain');\n    }\n\n    // Prepend the current input field text to the paste buffer.\n    data = ctrl.search + data;\n\n    if (data && data.length > 0) {\n      // If tagging try to split by tokens and add items\n      if (ctrl.taggingTokens.isActivated) {\n        var items = [];\n        for (var i = 0; i < ctrl.taggingTokens.tokens.length; i++) {  // split by first token that is contained in data\n          var separator = KEY.toSeparator(ctrl.taggingTokens.tokens[i]) || ctrl.taggingTokens.tokens[i];\n          if (data.indexOf(separator) > -1) {\n            items = data.split(separator);\n            break;  // only split by one token\n          }\n        }\n        if (items.length === 0) {\n          items = [data];\n        }\n        var oldsearch = ctrl.search;\n        angular.forEach(items, function (item) {\n          var newItem = ctrl.tagging.fct ? ctrl.tagging.fct(item) : item;\n          if (newItem) {\n            ctrl.select(newItem, true);\n          }\n        });\n        ctrl.search = oldsearch || EMPTY_SEARCH;\n        e.preventDefault();\n        e.stopPropagation();\n      } else if (ctrl.paste) {\n        ctrl.paste(data);\n        ctrl.search = EMPTY_SEARCH;\n        e.preventDefault();\n        e.stopPropagation();\n      }\n    }\n  });\n\n  ctrl.searchInput.on('tagged', function() {\n    $timeout(function() {\n      _resetSearchInput();\n    });\n  });\n\n  // See https://github.com/ivaynberg/select2/blob/3.4.6/select2.js#L1431\n  function _ensureHighlightVisible() {\n    var container = $element.querySelectorAll('.ui-select-choices-content');\n    var choices = container.querySelectorAll('.ui-select-choices-row');\n    if (choices.length < 1) {\n      throw uiSelectMinErr('choices', \"Expected multiple .ui-select-choices-row but got '{0}'.\", choices.length);\n    }\n\n    if (ctrl.activeIndex < 0) {\n      return;\n    }\n\n    var highlighted = choices[ctrl.activeIndex];\n    var posY = highlighted.offsetTop + highlighted.clientHeight - container[0].scrollTop;\n    var height = container[0].offsetHeight;\n\n    if (posY > height) {\n      container[0].scrollTop += posY - height;\n    } else if (posY < highlighted.clientHeight) {\n      if (ctrl.isGrouped && ctrl.activeIndex === 0)\n        container[0].scrollTop = 0; //To make group header visible when going all the way up\n      else\n        container[0].scrollTop -= highlighted.clientHeight - posY;\n    }\n  }\n\n  var onResize = $$uisDebounce(function() {\n    ctrl.sizeSearchInput();\n  }, 50);\n\n  angular.element($window).bind('resize', onResize);\n\n  $scope.$on('$destroy', function() {\n    ctrl.searchInput.off('keyup keydown tagged blur paste');\n    angular.element($window).off('resize', onResize);\n  });\n\n  $scope.$watch('$select.activeIndex', function(activeIndex) {\n    if (activeIndex)\n      $element.find('input').attr(\n        'aria-activedescendant',\n        'ui-select-choices-row-' + ctrl.generatedId + '-' + activeIndex);\n  });\n\n  $scope.$watch('$select.open', function(open) {\n    if (!open)\n      $element.find('input').removeAttr('aria-activedescendant');\n  });\n}]);\n\nuis.directive('uiSelect',\n  ['$document', 'uiSelectConfig', 'uiSelectMinErr', 'uisOffset', '$compile', '$parse', '$timeout',\n  function($document, uiSelectConfig, uiSelectMinErr, uisOffset, $compile, $parse, $timeout) {\n\n  return {\n    restrict: 'EA',\n    templateUrl: function(tElement, tAttrs) {\n      var theme = tAttrs.theme || uiSelectConfig.theme;\n      return theme + (angular.isDefined(tAttrs.multiple) ? '/select-multiple.tpl.html' : '/select.tpl.html');\n    },\n    replace: true,\n    transclude: true,\n    require: ['uiSelect', '^ngModel'],\n    scope: true,\n\n    controller: 'uiSelectCtrl',\n    controllerAs: '$select',\n    compile: function(tElement, tAttrs) {\n\n      // Allow setting ngClass on uiSelect\n      var match = /{(.*)}\\s*{(.*)}/.exec(tAttrs.ngClass);\n      if(match) {\n        var combined = '{'+ match[1] +', '+ match[2] +'}';\n        tAttrs.ngClass = combined;\n        tElement.attr('ng-class', combined);\n      }\n\n      //Multiple or Single depending if multiple attribute presence\n      if (angular.isDefined(tAttrs.multiple))\n        tElement.append('<ui-select-multiple/>').removeAttr('multiple');\n      else\n        tElement.append('<ui-select-single/>');\n\n      if (tAttrs.inputId)\n        tElement.querySelectorAll('input.ui-select-search')[0].id = tAttrs.inputId;\n\n      return function(scope, element, attrs, ctrls, transcludeFn) {\n\n        var $select = ctrls[0];\n        var ngModel = ctrls[1];\n\n        $select.generatedId = uiSelectConfig.generateId();\n        $select.baseTitle = attrs.title || 'Select box';\n        $select.focusserTitle = $select.baseTitle + ' focus';\n        $select.focusserId = 'focusser-' + $select.generatedId;\n\n        $select.closeOnSelect = function() {\n          if (angular.isDefined(attrs.closeOnSelect)) {\n            return $parse(attrs.closeOnSelect)();\n          } else {\n            return uiSelectConfig.closeOnSelect;\n          }\n        }();\n\n        scope.$watch('skipFocusser', function() {\n            var skipFocusser = scope.$eval(attrs.skipFocusser);\n            $select.skipFocusser = skipFocusser !== undefined ? skipFocusser : uiSelectConfig.skipFocusser;\n        });\n\n        $select.onSelectCallback = $parse(attrs.onSelect);\n        $select.onRemoveCallback = $parse(attrs.onRemove);\n\n        //Set reference to ngModel from uiSelectCtrl\n        $select.ngModel = ngModel;\n\n        $select.choiceGrouped = function(group){\n          return $select.isGrouped && group && group.name;\n        };\n\n        if(attrs.tabindex){\n          attrs.$observe('tabindex', function(value) {\n            $select.focusInput.attr('tabindex', value);\n            element.removeAttr('tabindex');\n          });\n        }\n\n        scope.$watch(function () { return scope.$eval(attrs.searchEnabled); }, function(newVal) {\n          $select.searchEnabled = newVal !== undefined ? newVal : uiSelectConfig.searchEnabled;\n        });\n\n        scope.$watch('sortable', function() {\n            var sortable = scope.$eval(attrs.sortable);\n            $select.sortable = sortable !== undefined ? sortable : uiSelectConfig.sortable;\n        });\n\n        attrs.$observe('backspaceReset', function() {\n          // $eval() is needed otherwise we get a string instead of a boolean\n          var backspaceReset = scope.$eval(attrs.backspaceReset);\n          $select.backspaceReset = backspaceReset !== undefined ? backspaceReset : true;\n        });\n\n        attrs.$observe('limit', function() {\n          //Limit the number of selections allowed\n          $select.limit = (angular.isDefined(attrs.limit)) ? parseInt(attrs.limit, 10) : undefined;\n        });\n\n        scope.$watch('removeSelected', function() {\n            var removeSelected = scope.$eval(attrs.removeSelected);\n            $select.removeSelected = removeSelected !== undefined ? removeSelected : uiSelectConfig.removeSelected;\n        });\n\n        attrs.$observe('disabled', function() {\n          // No need to use $eval() (thanks to ng-disabled) since we already get a boolean instead of a string\n          $select.disabled = attrs.disabled !== undefined ? attrs.disabled : false;\n        });\n\n        attrs.$observe('resetSearchInput', function() {\n          // $eval() is needed otherwise we get a string instead of a boolean\n          var resetSearchInput = scope.$eval(attrs.resetSearchInput);\n          $select.resetSearchInput = resetSearchInput !== undefined ? resetSearchInput : true;\n        });\n\n        attrs.$observe('paste', function() {\n          $select.paste = scope.$eval(attrs.paste);\n        });\n\n        attrs.$observe('tagging', function() {\n          if(attrs.tagging !== undefined)\n          {\n            // $eval() is needed otherwise we get a string instead of a boolean\n            var taggingEval = scope.$eval(attrs.tagging);\n            $select.tagging = {isActivated: true, fct: taggingEval !== true ? taggingEval : undefined};\n          }\n          else\n          {\n            $select.tagging = {isActivated: false, fct: undefined};\n          }\n        });\n\n        attrs.$observe('taggingLabel', function() {\n          if(attrs.tagging !== undefined )\n          {\n            // check eval for FALSE, in this case, we disable the labels\n            // associated with tagging\n            if ( attrs.taggingLabel === 'false' ) {\n              $select.taggingLabel = false;\n            }\n            else\n            {\n              $select.taggingLabel = attrs.taggingLabel !== undefined ? attrs.taggingLabel : '(new)';\n            }\n          }\n        });\n\n        attrs.$observe('taggingTokens', function() {\n          if (attrs.tagging !== undefined) {\n            var tokens = attrs.taggingTokens !== undefined ? attrs.taggingTokens.split('|') : [',','ENTER'];\n            $select.taggingTokens = {isActivated: true, tokens: tokens };\n          }\n        });\n\n        attrs.$observe('spinnerEnabled', function() {\n          // $eval() is needed otherwise we get a string instead of a boolean\n          var spinnerEnabled = scope.$eval(attrs.spinnerEnabled);\n          $select.spinnerEnabled = spinnerEnabled !== undefined ? spinnerEnabled : uiSelectConfig.spinnerEnabled;\n        });\n\n        attrs.$observe('spinnerClass', function() {\n          var spinnerClass = attrs.spinnerClass;\n          $select.spinnerClass = spinnerClass !== undefined ? attrs.spinnerClass : uiSelectConfig.spinnerClass;\n        });\n\n        //Automatically gets focus when loaded\n        if (angular.isDefined(attrs.autofocus)){\n          $timeout(function(){\n            $select.setFocus();\n          });\n        }\n\n        //Gets focus based on scope event name (e.g. focus-on='SomeEventName')\n        if (angular.isDefined(attrs.focusOn)){\n          scope.$on(attrs.focusOn, function() {\n              $timeout(function(){\n                $select.setFocus();\n              });\n          });\n        }\n\n        function onDocumentClick(e) {\n          if (!$select.open) return; //Skip it if dropdown is close\n\n          var contains = false;\n\n          if (window.jQuery) {\n            // Firefox 3.6 does not support element.contains()\n            // See Node.contains https://developer.mozilla.org/en-US/docs/Web/API/Node.contains\n            contains = window.jQuery.contains(element[0], e.target);\n          } else {\n            contains = element[0].contains(e.target);\n          }\n\n          if (!contains && !$select.clickTriggeredSelect) {\n            var skipFocusser;\n            if (!$select.skipFocusser) {\n              //Will lose focus only with certain targets\n              var focusableControls = ['input','button','textarea','select'];\n              var targetController = angular.element(e.target).controller('uiSelect'); //To check if target is other ui-select\n              skipFocusser = targetController && targetController !== $select; //To check if target is other ui-select\n              if (!skipFocusser) skipFocusser =  ~focusableControls.indexOf(e.target.tagName.toLowerCase()); //Check if target is input, button or textarea\n            } else {\n              skipFocusser = true;\n            }\n            $select.close(skipFocusser);\n            scope.$digest();\n          }\n          $select.clickTriggeredSelect = false;\n        }\n\n        // See Click everywhere but here event http://stackoverflow.com/questions/12931369\n        $document.on('click', onDocumentClick);\n\n        scope.$on('$destroy', function() {\n          $document.off('click', onDocumentClick);\n        });\n\n        // Move transcluded elements to their correct position in main template\n        transcludeFn(scope, function(clone) {\n          // See Transclude in AngularJS http://blog.omkarpatil.com/2012/11/transclude-in-angularjs.html\n\n          // One day jqLite will be replaced by jQuery and we will be able to write:\n          // var transcludedElement = clone.filter('.my-class')\n          // instead of creating a hackish DOM element:\n          var transcluded = angular.element('<div>').append(clone);\n\n          var transcludedMatch = transcluded.querySelectorAll('.ui-select-match');\n          transcludedMatch.removeAttr('ui-select-match'); //To avoid loop in case directive as attr\n          transcludedMatch.removeAttr('data-ui-select-match'); // Properly handle HTML5 data-attributes\n          if (transcludedMatch.length !== 1) {\n            throw uiSelectMinErr('transcluded', \"Expected 1 .ui-select-match but got '{0}'.\", transcludedMatch.length);\n          }\n          element.querySelectorAll('.ui-select-match').replaceWith(transcludedMatch);\n\n          var transcludedChoices = transcluded.querySelectorAll('.ui-select-choices');\n          transcludedChoices.removeAttr('ui-select-choices'); //To avoid loop in case directive as attr\n          transcludedChoices.removeAttr('data-ui-select-choices'); // Properly handle HTML5 data-attributes\n          if (transcludedChoices.length !== 1) {\n            throw uiSelectMinErr('transcluded', \"Expected 1 .ui-select-choices but got '{0}'.\", transcludedChoices.length);\n          }\n          element.querySelectorAll('.ui-select-choices').replaceWith(transcludedChoices);\n\n          var transcludedNoChoice = transcluded.querySelectorAll('.ui-select-no-choice');\n          transcludedNoChoice.removeAttr('ui-select-no-choice'); //To avoid loop in case directive as attr\n          transcludedNoChoice.removeAttr('data-ui-select-no-choice'); // Properly handle HTML5 data-attributes\n          if (transcludedNoChoice.length == 1) {\n            element.querySelectorAll('.ui-select-no-choice').replaceWith(transcludedNoChoice);\n          }\n        });\n\n        // Support for appending the select field to the body when its open\n        var appendToBody = scope.$eval(attrs.appendToBody);\n        if (appendToBody !== undefined ? appendToBody : uiSelectConfig.appendToBody) {\n          scope.$watch('$select.open', function(isOpen) {\n            if (isOpen) {\n              positionDropdown();\n            } else {\n              resetDropdown();\n            }\n          });\n\n          // Move the dropdown back to its original location when the scope is destroyed. Otherwise\n          // it might stick around when the user routes away or the select field is otherwise removed\n          scope.$on('$destroy', function() {\n            resetDropdown();\n          });\n        }\n\n        // Hold on to a reference to the .ui-select-container element for appendToBody support\n        var placeholder = null,\n            originalWidth = '';\n\n        function positionDropdown() {\n          // Remember the absolute position of the element\n          var offset = uisOffset(element);\n\n          // Clone the element into a placeholder element to take its original place in the DOM\n          placeholder = angular.element('<div class=\"ui-select-placeholder\"></div>');\n          placeholder[0].style.width = offset.width + 'px';\n          placeholder[0].style.height = offset.height + 'px';\n          element.after(placeholder);\n\n          // Remember the original value of the element width inline style, so it can be restored\n          // when the dropdown is closed\n          originalWidth = element[0].style.width;\n\n          // Now move the actual dropdown element to the end of the body\n          $document.find('body').append(element);\n\n          element[0].style.position = 'absolute';\n          element[0].style.left = offset.left + 'px';\n          element[0].style.top = offset.top + 'px';\n          element[0].style.width = offset.width + 'px';\n        }\n\n        function resetDropdown() {\n          if (placeholder === null) {\n            // The dropdown has not actually been display yet, so there's nothing to reset\n            return;\n          }\n\n          // Move the dropdown element back to its original location in the DOM\n          placeholder.replaceWith(element);\n          placeholder = null;\n\n          element[0].style.position = '';\n          element[0].style.left = '';\n          element[0].style.top = '';\n          element[0].style.width = originalWidth;\n\n          // Set focus back on to the moved element\n          $select.setFocus();\n        }\n\n        // Hold on to a reference to the .ui-select-dropdown element for direction support.\n        var dropdown = null,\n            directionUpClassName = 'direction-up';\n\n        // Support changing the direction of the dropdown if there isn't enough space to render it.\n        scope.$watch('$select.open', function() {\n\n          if ($select.dropdownPosition === 'auto' || $select.dropdownPosition === 'up'){\n            scope.calculateDropdownPos();\n          }\n\n        });\n\n        var setDropdownPosUp = function(offset, offsetDropdown){\n\n          offset = offset || uisOffset(element);\n          offsetDropdown = offsetDropdown || uisOffset(dropdown);\n\n          dropdown[0].style.position = 'absolute';\n          dropdown[0].style.top = (offsetDropdown.height * -1) + 'px';\n          element.addClass(directionUpClassName);\n\n        };\n\n        var setDropdownPosDown = function(offset, offsetDropdown){\n\n          element.removeClass(directionUpClassName);\n\n          offset = offset || uisOffset(element);\n          offsetDropdown = offsetDropdown || uisOffset(dropdown);\n\n          dropdown[0].style.position = '';\n          dropdown[0].style.top = '';\n\n        };\n\n        var calculateDropdownPosAfterAnimation = function() {\n          // Delay positioning the dropdown until all choices have been added so its height is correct.\n          $timeout(function() {\n            if ($select.dropdownPosition === 'up') {\n              //Go UP\n              setDropdownPosUp();\n            } else {\n              //AUTO\n              element.removeClass(directionUpClassName);\n\n              var offset = uisOffset(element);\n              var offsetDropdown = uisOffset(dropdown);\n\n              //https://code.google.com/p/chromium/issues/detail?id=342307#c4\n              var scrollTop = $document[0].documentElement.scrollTop || $document[0].body.scrollTop; //To make it cross browser (blink, webkit, IE, Firefox).\n\n              // Determine if the direction of the dropdown needs to be changed.\n              if (offset.top + offset.height + offsetDropdown.height > scrollTop + $document[0].documentElement.clientHeight) {\n                //Go UP\n                setDropdownPosUp(offset, offsetDropdown);\n              }else{\n                //Go DOWN\n                setDropdownPosDown(offset, offsetDropdown);\n              }\n            }\n\n            // Display the dropdown once it has been positioned.\n            dropdown[0].style.opacity = 1;\n          });\n        };\n\n        var opened = false;\n        \n        scope.calculateDropdownPos = function() {\n          if ($select.open) {\n            dropdown = angular.element(element).querySelectorAll('.ui-select-dropdown');\n\n            if (dropdown.length === 0) {\n              return;\n            }\n\n           // Hide the dropdown so there is no flicker until $timeout is done executing.\n           if ($select.search === '' && !opened) {\n              dropdown[0].style.opacity = 0;\n              opened = true;\n           }\n\n            if (!uisOffset(dropdown).height && $select.$animate && $select.$animate.on && $select.$animate.enabled(dropdown)) {\n              var needsCalculated = true;\n\n              $select.$animate.on('enter', dropdown, function (elem, phase) {\n                if (phase === 'close' && needsCalculated) {\n                  calculateDropdownPosAfterAnimation();\n                  needsCalculated = false;\n                }\n              });\n            } else {\n              calculateDropdownPosAfterAnimation();\n            }\n          } else {\n            if (dropdown === null || dropdown.length === 0) {\n              return;\n            }\n\n            // Reset the position of the dropdown.\n            dropdown[0].style.opacity = 0;\n            dropdown[0].style.position = '';\n            dropdown[0].style.top = '';\n            element.removeClass(directionUpClassName);\n          }\n        };\n      };\n    }\n  };\n}]);\n\nuis.directive('uiSelectMatch', ['uiSelectConfig', function(uiSelectConfig) {\n  return {\n    restrict: 'EA',\n    require: '^uiSelect',\n    replace: true,\n    transclude: true,\n    templateUrl: function(tElement) {\n      // Needed so the uiSelect can detect the transcluded content\n      tElement.addClass('ui-select-match');\n\n      var parent = tElement.parent();\n      // Gets theme attribute from parent (ui-select)\n      var theme = getAttribute(parent, 'theme') || uiSelectConfig.theme;\n      var multi = angular.isDefined(getAttribute(parent, 'multiple'));\n\n      return theme + (multi ? '/match-multiple.tpl.html' : '/match.tpl.html');      \n    },\n    link: function(scope, element, attrs, $select) {\n      $select.lockChoiceExpression = attrs.uiLockChoice;\n      attrs.$observe('placeholder', function(placeholder) {\n        $select.placeholder = placeholder !== undefined ? placeholder : uiSelectConfig.placeholder;\n      });\n\n      function setAllowClear(allow) {\n        $select.allowClear = (angular.isDefined(allow)) ? (allow === '') ? true : (allow.toLowerCase() === 'true') : false;\n      }\n\n      attrs.$observe('allowClear', setAllowClear);\n      setAllowClear(attrs.allowClear);\n\n      if($select.multiple){\n        $select.sizeSearchInput();\n      }\n\n    }\n  };\n\n  function getAttribute(elem, attribute) {\n    if (elem[0].hasAttribute(attribute))\n      return elem.attr(attribute);\n\n    if (elem[0].hasAttribute('data-' + attribute))\n      return elem.attr('data-' + attribute);\n\n    if (elem[0].hasAttribute('x-' + attribute))\n      return elem.attr('x-' + attribute);\n  }\n}]);\n\nuis.directive('uiSelectMultiple', ['uiSelectMinErr','$timeout', function(uiSelectMinErr, $timeout) {\n  return {\n    restrict: 'EA',\n    require: ['^uiSelect', '^ngModel'],\n\n    controller: ['$scope','$timeout', function($scope, $timeout){\n\n      var ctrl = this,\n          $select = $scope.$select,\n          ngModel;\n\n      if (angular.isUndefined($select.selected))\n        $select.selected = [];\n\n      //Wait for link fn to inject it\n      $scope.$evalAsync(function(){ ngModel = $scope.ngModel; });\n\n      ctrl.activeMatchIndex = -1;\n\n      ctrl.updateModel = function(){\n        ngModel.$setViewValue(Date.now()); //Set timestamp as a unique string to force changes\n        ctrl.refreshComponent();\n      };\n\n      ctrl.refreshComponent = function(){\n        //Remove already selected items\n        //e.g. When user clicks on a selection, the selected array changes and\n        //the dropdown should remove that item\n        if($select.refreshItems){\n          $select.refreshItems();\n        }\n        if($select.sizeSearchInput){\n          $select.sizeSearchInput();\n        }\n      };\n\n      // Remove item from multiple select\n      ctrl.removeChoice = function(index){\n\n        // if the choice is locked, don't remove it\n        if($select.isLocked(null, index)) return false;\n\n        var removedChoice = $select.selected[index];\n\n        var locals = {};\n        locals[$select.parserResult.itemName] = removedChoice;\n\n        $select.selected.splice(index, 1);\n        ctrl.activeMatchIndex = -1;\n        $select.sizeSearchInput();\n\n        // Give some time for scope propagation.\n        $timeout(function(){\n          $select.onRemoveCallback($scope, {\n            $item: removedChoice,\n            $model: $select.parserResult.modelMapper($scope, locals)\n          });\n        });\n\n        ctrl.updateModel();\n\n        return true;\n      };\n\n      ctrl.getPlaceholder = function(){\n        //Refactor single?\n        if($select.selected && $select.selected.length) return;\n        return $select.placeholder;\n      };\n\n\n    }],\n    controllerAs: '$selectMultiple',\n\n    link: function(scope, element, attrs, ctrls) {\n\n      var $select = ctrls[0];\n      var ngModel = scope.ngModel = ctrls[1];\n      var $selectMultiple = scope.$selectMultiple;\n\n      //$select.selected = raw selected objects (ignoring any property binding)\n\n      $select.multiple = true;\n\n      //Input that will handle focus\n      $select.focusInput = $select.searchInput;\n\n      //Properly check for empty if set to multiple\n      ngModel.$isEmpty = function(value) {\n        return !value || value.length === 0;\n      };\n\n      //From view --> model\n      ngModel.$parsers.unshift(function () {\n        var locals = {},\n            result,\n            resultMultiple = [];\n        for (var j = $select.selected.length - 1; j >= 0; j--) {\n          locals = {};\n          locals[$select.parserResult.itemName] = $select.selected[j];\n          result = $select.parserResult.modelMapper(scope, locals);\n          resultMultiple.unshift(result);\n        }\n        return resultMultiple;\n      });\n\n      // From model --> view\n      ngModel.$formatters.unshift(function (inputValue) {\n        var data = $select.parserResult && $select.parserResult.source (scope, { $select : {search:''}}), //Overwrite $search\n            locals = {},\n            result;\n        if (!data) return inputValue;\n        var resultMultiple = [];\n        var checkFnMultiple = function(list, value){\n          if (!list || !list.length) return;\n          for (var p = list.length - 1; p >= 0; p--) {\n            locals[$select.parserResult.itemName] = list[p];\n            result = $select.parserResult.modelMapper(scope, locals);\n            if($select.parserResult.trackByExp){\n                var propsItemNameMatches = /(\\w*)\\./.exec($select.parserResult.trackByExp);\n                var matches = /\\.([^\\s]+)/.exec($select.parserResult.trackByExp);\n                if(propsItemNameMatches && propsItemNameMatches.length > 0 && propsItemNameMatches[1] == $select.parserResult.itemName){\n                  if(matches && matches.length>0 && result[matches[1]] == value[matches[1]]){\n                      resultMultiple.unshift(list[p]);\n                      return true;\n                  }\n                }\n            }\n            if (angular.equals(result,value)){\n              resultMultiple.unshift(list[p]);\n              return true;\n            }\n          }\n          return false;\n        };\n        if (!inputValue) return resultMultiple; //If ngModel was undefined\n        for (var k = inputValue.length - 1; k >= 0; k--) {\n          //Check model array of currently selected items\n          if (!checkFnMultiple($select.selected, inputValue[k])){\n            //Check model array of all items available\n            if (!checkFnMultiple(data, inputValue[k])){\n              //If not found on previous lists, just add it directly to resultMultiple\n              resultMultiple.unshift(inputValue[k]);\n            }\n          }\n        }\n        return resultMultiple;\n      });\n\n      //Watch for external model changes\n      scope.$watchCollection(function(){ return ngModel.$modelValue; }, function(newValue, oldValue) {\n        if (oldValue != newValue){\n          //update the view value with fresh data from items, if there is a valid model value\n          if(angular.isDefined(ngModel.$modelValue)) {\n            ngModel.$modelValue = null; //Force scope model value and ngModel value to be out of sync to re-run formatters\n          }\n          $selectMultiple.refreshComponent();\n        }\n      });\n\n      ngModel.$render = function() {\n        // Make sure that model value is array\n        if(!angular.isArray(ngModel.$viewValue)){\n          // Have tolerance for null or undefined values\n          if (isNil(ngModel.$viewValue)){\n            ngModel.$viewValue = [];\n          } else {\n            throw uiSelectMinErr('multiarr', \"Expected model value to be array but got '{0}'\", ngModel.$viewValue);\n          }\n        }\n        $select.selected = ngModel.$viewValue;\n        $selectMultiple.refreshComponent();\n        scope.$evalAsync(); //To force $digest\n      };\n\n      scope.$on('uis:select', function (event, item) {\n        if($select.selected.length >= $select.limit) {\n          return;\n        }\n        $select.selected.push(item);\n        var locals = {};\n        locals[$select.parserResult.itemName] = item;\n\n        $timeout(function(){\n          $select.onSelectCallback(scope, {\n            $item: item,\n            $model: $select.parserResult.modelMapper(scope, locals)\n          });\n        });\n        $selectMultiple.updateModel();\n      });\n\n      scope.$on('uis:activate', function () {\n        $selectMultiple.activeMatchIndex = -1;\n      });\n\n      scope.$watch('$select.disabled', function(newValue, oldValue) {\n        // As the search input field may now become visible, it may be necessary to recompute its size\n        if (oldValue && !newValue) $select.sizeSearchInput();\n      });\n\n      $select.searchInput.on('keydown', function(e) {\n        var key = e.which;\n        scope.$apply(function() {\n          var processed = false;\n          // var tagged = false; //Checkme\n          if(KEY.isHorizontalMovement(key)){\n            processed = _handleMatchSelection(key);\n          }\n          if (processed  && key != KEY.TAB) {\n            //TODO Check si el tab selecciona aun correctamente\n            //Crear test\n            e.preventDefault();\n            e.stopPropagation();\n          }\n        });\n      });\n      function _getCaretPosition(el) {\n        if(angular.isNumber(el.selectionStart)) return el.selectionStart;\n        // selectionStart is not supported in IE8 and we don't want hacky workarounds so we compromise\n        else return el.value.length;\n      }\n      // Handles selected options in \"multiple\" mode\n      function _handleMatchSelection(key){\n        var caretPosition = _getCaretPosition($select.searchInput[0]),\n            length = $select.selected.length,\n            // none  = -1,\n            first = 0,\n            last  = length-1,\n            curr  = $selectMultiple.activeMatchIndex,\n            next  = $selectMultiple.activeMatchIndex+1,\n            prev  = $selectMultiple.activeMatchIndex-1,\n            newIndex = curr;\n\n        if(caretPosition > 0 || ($select.search.length && key == KEY.RIGHT)) return false;\n\n        $select.close();\n\n        function getNewActiveMatchIndex(){\n          switch(key){\n            case KEY.LEFT:\n              // Select previous/first item\n              if(~$selectMultiple.activeMatchIndex) return prev;\n              // Select last item\n              else return last;\n              break;\n            case KEY.RIGHT:\n              // Open drop-down\n              if(!~$selectMultiple.activeMatchIndex || curr === last){\n                $select.activate();\n                return false;\n              }\n              // Select next/last item\n              else return next;\n              break;\n            case KEY.BACKSPACE:\n              // Remove selected item and select previous/first\n              if(~$selectMultiple.activeMatchIndex){\n                if($selectMultiple.removeChoice(curr)) {\n                  return prev;\n                } else {\n                  return curr;\n                }\n\n              } else {\n                // If nothing yet selected, select last item\n                return last;\n              }\n              break;\n            case KEY.DELETE:\n              // Remove selected item and select next item\n              if(~$selectMultiple.activeMatchIndex){\n                $selectMultiple.removeChoice($selectMultiple.activeMatchIndex);\n                return curr;\n              }\n              else return false;\n          }\n        }\n\n        newIndex = getNewActiveMatchIndex();\n\n        if(!$select.selected.length || newIndex === false) $selectMultiple.activeMatchIndex = -1;\n        else $selectMultiple.activeMatchIndex = Math.min(last,Math.max(first,newIndex));\n\n        return true;\n      }\n\n      $select.searchInput.on('keyup', function(e) {\n\n        if ( ! KEY.isVerticalMovement(e.which) ) {\n          scope.$evalAsync( function () {\n            $select.activeIndex = $select.taggingLabel === false ? -1 : 0;\n          });\n        }\n        // Push a \"create new\" item into array if there is a search string\n        if ( $select.tagging.isActivated && $select.search.length > 0 ) {\n\n          // return early with these keys\n          if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC || KEY.isVerticalMovement(e.which) ) {\n            return;\n          }\n          // always reset the activeIndex to the first item when tagging\n          $select.activeIndex = $select.taggingLabel === false ? -1 : 0;\n          // taggingLabel === false bypasses all of this\n          if ($select.taggingLabel === false) return;\n\n          var items = angular.copy( $select.items );\n          var stashArr = angular.copy( $select.items );\n          var newItem;\n          var item;\n          var hasTag = false;\n          var dupeIndex = -1;\n          var tagItems;\n          var tagItem;\n\n          // case for object tagging via transform `$select.tagging.fct` function\n          if ( $select.tagging.fct !== undefined) {\n            tagItems = $select.$filter('filter')(items,{'isTag': true});\n            if ( tagItems.length > 0 ) {\n              tagItem = tagItems[0];\n            }\n            // remove the first element, if it has the `isTag` prop we generate a new one with each keyup, shaving the previous\n            if ( items.length > 0 && tagItem ) {\n              hasTag = true;\n              items = items.slice(1,items.length);\n              stashArr = stashArr.slice(1,stashArr.length);\n            }\n            newItem = $select.tagging.fct($select.search);\n            // verify the new tag doesn't match the value of a possible selection choice or an already selected item.\n            if (\n              stashArr.some(function (origItem) {\n                 return angular.equals(origItem, newItem);\n              }) ||\n              $select.selected.some(function (origItem) {\n                return angular.equals(origItem, newItem);\n              })\n            ) {\n              scope.$evalAsync(function () {\n                $select.activeIndex = 0;\n                $select.items = items;\n              });\n              return;\n            }\n            if (newItem) newItem.isTag = true;\n          // handle newItem string and stripping dupes in tagging string context\n          } else {\n            // find any tagging items already in the $select.items array and store them\n            tagItems = $select.$filter('filter')(items,function (item) {\n              return item.match($select.taggingLabel);\n            });\n            if ( tagItems.length > 0 ) {\n              tagItem = tagItems[0];\n            }\n            item = items[0];\n            // remove existing tag item if found (should only ever be one tag item)\n            if ( item !== undefined && items.length > 0 && tagItem ) {\n              hasTag = true;\n              items = items.slice(1,items.length);\n              stashArr = stashArr.slice(1,stashArr.length);\n            }\n            newItem = $select.search+' '+$select.taggingLabel;\n            if ( _findApproxDupe($select.selected, $select.search) > -1 ) {\n              return;\n            }\n            // verify the the tag doesn't match the value of an existing item from\n            // the searched data set or the items already selected\n            if ( _findCaseInsensitiveDupe(stashArr.concat($select.selected)) ) {\n              // if there is a tag from prev iteration, strip it / queue the change\n              // and return early\n              if ( hasTag ) {\n                items = stashArr;\n                scope.$evalAsync( function () {\n                  $select.activeIndex = 0;\n                  $select.items = items;\n                });\n              }\n              return;\n            }\n            if ( _findCaseInsensitiveDupe(stashArr) ) {\n              // if there is a tag from prev iteration, strip it\n              if ( hasTag ) {\n                $select.items = stashArr.slice(1,stashArr.length);\n              }\n              return;\n            }\n          }\n          if ( hasTag ) dupeIndex = _findApproxDupe($select.selected, newItem);\n          // dupe found, shave the first item\n          if ( dupeIndex > -1 ) {\n            items = items.slice(dupeIndex+1,items.length-1);\n          } else {\n            items = [];\n            if (newItem) items.push(newItem);\n            items = items.concat(stashArr);\n          }\n          scope.$evalAsync( function () {\n            $select.activeIndex = 0;\n            $select.items = items;\n\n            if ($select.isGrouped) {\n              // update item references in groups, so that indexOf will work after angular.copy\n              var itemsWithoutTag = newItem ? items.slice(1) : items;\n              $select.setItemsFn(itemsWithoutTag);\n              if (newItem) {\n                // add tag item as a new group\n                $select.items.unshift(newItem);\n                $select.groups.unshift({name: '', items: [newItem], tagging: true});\n              }\n            }\n          });\n        }\n      });\n      function _findCaseInsensitiveDupe(arr) {\n        if ( arr === undefined || $select.search === undefined ) {\n          return false;\n        }\n        var hasDupe = arr.filter( function (origItem) {\n          if ( $select.search.toUpperCase() === undefined || origItem === undefined ) {\n            return false;\n          }\n          return origItem.toUpperCase() === $select.search.toUpperCase();\n        }).length > 0;\n\n        return hasDupe;\n      }\n      function _findApproxDupe(haystack, needle) {\n        var dupeIndex = -1;\n        if(angular.isArray(haystack)) {\n          var tempArr = angular.copy(haystack);\n          for (var i = 0; i <tempArr.length; i++) {\n            // handle the simple string version of tagging\n            if ( $select.tagging.fct === undefined ) {\n              // search the array for the match\n              if ( tempArr[i]+' '+$select.taggingLabel === needle ) {\n              dupeIndex = i;\n              }\n            // handle the object tagging implementation\n            } else {\n              var mockObj = tempArr[i];\n              if (angular.isObject(mockObj)) {\n                mockObj.isTag = true;\n              }\n              if ( angular.equals(mockObj, needle) ) {\n                dupeIndex = i;\n              }\n            }\n          }\n        }\n        return dupeIndex;\n      }\n\n      $select.searchInput.on('blur', function() {\n        $timeout(function() {\n          $selectMultiple.activeMatchIndex = -1;\n        });\n      });\n\n    }\n  };\n}]);\n\nuis.directive('uiSelectNoChoice',\n    ['uiSelectConfig', function (uiSelectConfig) {\n        return {\n            restrict: 'EA',\n            require: '^uiSelect',\n            replace: true,\n            transclude: true,\n            templateUrl: function (tElement) {\n                // Needed so the uiSelect can detect the transcluded content\n                tElement.addClass('ui-select-no-choice');\n      \n                // Gets theme attribute from parent (ui-select)\n                var theme = tElement.parent().attr('theme') || uiSelectConfig.theme;\n                return theme + '/no-choice.tpl.html';\n            }\n        };\n    }]);\n\nuis.directive('uiSelectSingle', ['$timeout','$compile', function($timeout, $compile) {\n  return {\n    restrict: 'EA',\n    require: ['^uiSelect', '^ngModel'],\n    link: function(scope, element, attrs, ctrls) {\n\n      var $select = ctrls[0];\n      var ngModel = ctrls[1];\n\n      //From view --> model\n      ngModel.$parsers.unshift(function (inputValue) {\n        // Keep original value for undefined and null\n        if (isNil(inputValue)) {\n          return inputValue;\n        }\n\n        var locals = {},\n            result;\n        locals[$select.parserResult.itemName] = inputValue;\n        result = $select.parserResult.modelMapper(scope, locals);\n        return result;\n      });\n\n      //From model --> view\n      ngModel.$formatters.unshift(function (inputValue) {\n        // Keep original value for undefined and null\n        if (isNil(inputValue)) {\n          return inputValue;\n        }\n\n        var data = $select.parserResult && $select.parserResult.source (scope, { $select : {search:''}}), //Overwrite $search\n            locals = {},\n            result;\n        if (data){\n          var checkFnSingle = function(d){\n            locals[$select.parserResult.itemName] = d;\n            result = $select.parserResult.modelMapper(scope, locals);\n            return result === inputValue;\n          };\n          //If possible pass same object stored in $select.selected\n          if ($select.selected && checkFnSingle($select.selected)) {\n            return $select.selected;\n          }\n          for (var i = data.length - 1; i >= 0; i--) {\n            if (checkFnSingle(data[i])) return data[i];\n          }\n        }\n        return inputValue;\n      });\n\n      //Update viewValue if model change\n      scope.$watch('$select.selected', function(newValue) {\n        if (ngModel.$viewValue !== newValue) {\n          ngModel.$setViewValue(newValue);\n        }\n      });\n\n      ngModel.$render = function() {\n        $select.selected = ngModel.$viewValue;\n      };\n\n      scope.$on('uis:select', function (event, item) {\n        $select.selected = item;\n        var locals = {};\n        locals[$select.parserResult.itemName] = item;\n\n        $timeout(function() {\n          $select.onSelectCallback(scope, {\n            $item: item,\n            $model: isNil(item) ? item : $select.parserResult.modelMapper(scope, locals)\n          });\n        });\n      });\n\n      scope.$on('uis:close', function (event, skipFocusser) {\n        $timeout(function(){\n          $select.focusser.prop('disabled', false);\n          if (!skipFocusser) $select.focusser[0].focus();\n        },0,false);\n      });\n\n      scope.$on('uis:activate', function () {\n        focusser.prop('disabled', true); //Will reactivate it on .close()\n      });\n\n      //Idea from: https://github.com/ivaynberg/select2/blob/79b5bf6db918d7560bdd959109b7bcfb47edaf43/select2.js#L1954\n      var focusser = angular.element(\"<input ng-disabled='$select.disabled' class='ui-select-focusser ui-select-offscreen' type='text' id='{{ $select.focusserId }}' aria-label='{{ $select.focusserTitle }}' aria-haspopup='true' role='button' />\");\n      $compile(focusser)(scope);\n      $select.focusser = focusser;\n\n      //Input that will handle focus\n      $select.focusInput = focusser;\n\n      element.parent().append(focusser);\n      focusser.bind(\"focus\", function(){\n        scope.$evalAsync(function(){\n          $select.focus = true;\n        });\n      });\n      focusser.bind(\"blur\", function(){\n        scope.$evalAsync(function(){\n          $select.focus = false;\n        });\n      });\n      focusser.bind(\"keydown\", function(e){\n\n        if (e.which === KEY.BACKSPACE && $select.backspaceReset !== false) {\n          e.preventDefault();\n          e.stopPropagation();\n          $select.select(undefined);\n          scope.$apply();\n          return;\n        }\n\n        if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC) {\n          return;\n        }\n\n        if (e.which == KEY.DOWN  || e.which == KEY.UP || e.which == KEY.ENTER || e.which == KEY.SPACE){\n          e.preventDefault();\n          e.stopPropagation();\n          $select.activate();\n        }\n\n        scope.$digest();\n      });\n\n      focusser.bind(\"keyup input\", function(e){\n\n        if (e.which === KEY.TAB || KEY.isControl(e) || KEY.isFunctionKey(e) || e.which === KEY.ESC || e.which == KEY.ENTER || e.which === KEY.BACKSPACE) {\n          return;\n        }\n\n        $select.activate(focusser.val()); //User pressed some regular key, so we pass it to the search input\n        focusser.val('');\n        scope.$digest();\n\n      });\n\n\n    }\n  };\n}]);\n\n// Make multiple matches sortable\nuis.directive('uiSelectSort', ['$timeout', 'uiSelectConfig', 'uiSelectMinErr', function($timeout, uiSelectConfig, uiSelectMinErr) {\n  return {\n    require: ['^^uiSelect', '^ngModel'],\n    link: function(scope, element, attrs, ctrls) {\n      if (scope[attrs.uiSelectSort] === null) {\n        throw uiSelectMinErr('sort', 'Expected a list to sort');\n      }\n\n      var $select = ctrls[0];\n      var $ngModel = ctrls[1];\n\n      var options = angular.extend({\n          axis: 'horizontal'\n        },\n        scope.$eval(attrs.uiSelectSortOptions));\n\n      var axis = options.axis;\n      var draggingClassName = 'dragging';\n      var droppingClassName = 'dropping';\n      var droppingBeforeClassName = 'dropping-before';\n      var droppingAfterClassName = 'dropping-after';\n\n      scope.$watch(function(){\n        return $select.sortable;\n      }, function(newValue){\n        if (newValue) {\n          element.attr('draggable', true);\n        } else {\n          element.removeAttr('draggable');\n        }\n      });\n\n      element.on('dragstart', function(event) {\n        element.addClass(draggingClassName);\n\n        (event.dataTransfer || event.originalEvent.dataTransfer).setData('text', scope.$index.toString());\n      });\n\n      element.on('dragend', function() {\n        removeClass(draggingClassName);\n      });\n\n      var move = function(from, to) {\n        /*jshint validthis: true */\n        this.splice(to, 0, this.splice(from, 1)[0]);\n      };\n\n      var removeClass = function(className) {\n        angular.forEach($select.$element.querySelectorAll('.' + className), function(el){\n          angular.element(el).removeClass(className);\n        });\n      };\n\n      var dragOverHandler = function(event) {\n        event.preventDefault();\n\n        var offset = axis === 'vertical' ? event.offsetY || event.layerY || (event.originalEvent ? event.originalEvent.offsetY : 0) : event.offsetX || event.layerX || (event.originalEvent ? event.originalEvent.offsetX : 0);\n\n        if (offset < (this[axis === 'vertical' ? 'offsetHeight' : 'offsetWidth'] / 2)) {\n          removeClass(droppingAfterClassName);\n          element.addClass(droppingBeforeClassName);\n\n        } else {\n          removeClass(droppingBeforeClassName);\n          element.addClass(droppingAfterClassName);\n        }\n      };\n\n      var dropTimeout;\n\n      var dropHandler = function(event) {\n        event.preventDefault();\n\n        var droppedItemIndex = parseInt((event.dataTransfer || event.originalEvent.dataTransfer).getData('text'), 10);\n\n        // prevent event firing multiple times in firefox\n        $timeout.cancel(dropTimeout);\n        dropTimeout = $timeout(function() {\n          _dropHandler(droppedItemIndex);\n        }, 20);\n      };\n\n      var _dropHandler = function(droppedItemIndex) {\n        var theList = scope.$eval(attrs.uiSelectSort);\n        var itemToMove = theList[droppedItemIndex];\n        var newIndex = null;\n\n        if (element.hasClass(droppingBeforeClassName)) {\n          if (droppedItemIndex < scope.$index) {\n            newIndex = scope.$index - 1;\n          } else {\n            newIndex = scope.$index;\n          }\n        } else {\n          if (droppedItemIndex < scope.$index) {\n            newIndex = scope.$index;\n          } else {\n            newIndex = scope.$index + 1;\n          }\n        }\n\n        move.apply(theList, [droppedItemIndex, newIndex]);\n\n        $ngModel.$setViewValue(Date.now());\n\n        scope.$apply(function() {\n          scope.$emit('uiSelectSort:change', {\n            array: theList,\n            item: itemToMove,\n            from: droppedItemIndex,\n            to: newIndex\n          });\n        });\n\n        removeClass(droppingClassName);\n        removeClass(droppingBeforeClassName);\n        removeClass(droppingAfterClassName);\n\n        element.off('drop', dropHandler);\n      };\n\n      element.on('dragenter', function() {\n        if (element.hasClass(draggingClassName)) {\n          return;\n        }\n\n        element.addClass(droppingClassName);\n\n        element.on('dragover', dragOverHandler);\n        element.on('drop', dropHandler);\n      });\n\n      element.on('dragleave', function(event) {\n        if (event.target != element) {\n          return;\n        }\n\n        removeClass(droppingClassName);\n        removeClass(droppingBeforeClassName);\n        removeClass(droppingAfterClassName);\n\n        element.off('dragover', dragOverHandler);\n        element.off('drop', dropHandler);\n      });\n    }\n  };\n}]);\n\nuis.directive('uisOpenClose', ['$parse', '$timeout', function ($parse, $timeout) {\n  return {\n    restrict: 'A',\n    require: 'uiSelect',\n    link: function (scope, element, attrs, $select) {\n      $select.onOpenCloseCallback = $parse(attrs.uisOpenClose);\n\n      scope.$watch('$select.open', function (isOpen, previousState) {\n        if (isOpen !== previousState) {\n          $timeout(function () {\n            $select.onOpenCloseCallback(scope, {\n              isOpen: isOpen\n            });\n          });\n        }\n      });\n    }\n  };\n}]);\n\n/**\n * Parses \"repeat\" attribute.\n *\n * Taken from AngularJS ngRepeat source code\n * See https://github.com/angular/angular.js/blob/v1.2.15/src/ng/directive/ngRepeat.js#L211\n *\n * Original discussion about parsing \"repeat\" attribute instead of fully relying on ng-repeat:\n * https://github.com/angular-ui/ui-select/commit/5dd63ad#commitcomment-5504697\n */\n\nuis.service('uisRepeatParser', ['uiSelectMinErr','$parse', function(uiSelectMinErr, $parse) {\n  var self = this;\n\n  /**\n   * Example:\n   * expression = \"address in addresses | filter: {street: $select.search} track by $index\"\n   * itemName = \"address\",\n   * source = \"addresses | filter: {street: $select.search}\",\n   * trackByExp = \"$index\",\n   */\n  self.parse = function(expression) {\n\n\n    var match;\n    //var isObjectCollection = /\\(\\s*([\\$\\w][\\$\\w]*)\\s*,\\s*([\\$\\w][\\$\\w]*)\\s*\\)/.test(expression);\n    // If an array is used as collection\n\n    // if (isObjectCollection){\n    // 000000000000000000000000000000111111111000000000000000222222222222220033333333333333333333330000444444444444444444000000000000000055555555555000000000000000000000066666666600000000\n    match = expression.match(/^\\s*(?:([\\s\\S]+?)\\s+as\\s+)?(?:([\\$\\w][\\$\\w]*)|(?:\\(\\s*([\\$\\w][\\$\\w]*)\\s*,\\s*([\\$\\w][\\$\\w]*)\\s*\\)))\\s+in\\s+(\\s*[\\s\\S]+?)?(?:\\s+track\\s+by\\s+([\\s\\S]+?))?\\s*$/);\n\n    // 1 Alias\n    // 2 Item\n    // 3 Key on (key,value)\n    // 4 Value on (key,value)\n    // 5 Source expression (including filters)\n    // 6 Track by\n\n    if (!match) {\n      throw uiSelectMinErr('iexp', \"Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.\",\n              expression);\n    }\n    \n    var source = match[5], \n        filters = '';\n\n    // When using (key,value) ui-select requires filters to be extracted, since the object\n    // is converted to an array for $select.items \n    // (in which case the filters need to be reapplied)\n    if (match[3]) {\n      // Remove any enclosing parenthesis\n      source = match[5].replace(/(^\\()|(\\)$)/g, '');\n      // match all after | but not after ||\n      var filterMatch = match[5].match(/^\\s*(?:[\\s\\S]+?)(?:[^\\|]|\\|\\|)+([\\s\\S]*)\\s*$/);\n      if(filterMatch && filterMatch[1].trim()) {\n        filters = filterMatch[1];\n        source = source.replace(filters, '');\n      }      \n    }\n\n    return {\n      itemName: match[4] || match[2], // (lhs) Left-hand side,\n      keyName: match[3], //for (key, value) syntax\n      source: $parse(source),\n      filters: filters,\n      trackByExp: match[6],\n      modelMapper: $parse(match[1] || match[4] || match[2]),\n      repeatExpression: function (grouped) {\n        var expression = this.itemName + ' in ' + (grouped ? '$group.items' : '$select.items');\n        if (this.trackByExp) {\n          expression += ' track by ' + this.trackByExp;\n        }\n        return expression;\n      } \n    };\n\n  };\n\n  self.getGroupNgRepeatExpression = function() {\n    return '$group in $select.groups track by $group.name';\n  };\n\n}]);\n\n}());\nangular.module(\"ui.select\").run([\"$templateCache\", function($templateCache) {$templateCache.put(\"bootstrap/choices.tpl.html\",\"<ul class=\\\"ui-select-choices ui-select-choices-content ui-select-dropdown dropdown-menu\\\" ng-show=\\\"$select.open && $select.items.length > 0\\\"><li class=\\\"ui-select-choices-group\\\" id=\\\"ui-select-choices-{{ $select.generatedId }}\\\"><div class=\\\"divider\\\" ng-show=\\\"$select.isGrouped && $index > 0\\\"></div><div ng-show=\\\"$select.isGrouped\\\" class=\\\"ui-select-choices-group-label dropdown-header\\\" ng-bind=\\\"$group.name\\\"></div><div ng-attr-id=\\\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\\\" class=\\\"ui-select-choices-row\\\" ng-class=\\\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\\\" role=\\\"option\\\"><span class=\\\"ui-select-choices-row-inner\\\"></span></div></li></ul>\");\n$templateCache.put(\"bootstrap/match-multiple.tpl.html\",\"<span class=\\\"ui-select-match\\\"><span ng-repeat=\\\"$item in $select.selected track by $index\\\"><span class=\\\"ui-select-match-item btn btn-default btn-xs\\\" tabindex=\\\"-1\\\" type=\\\"button\\\" ng-disabled=\\\"$select.disabled\\\" ng-click=\\\"$selectMultiple.activeMatchIndex = $index;\\\" ng-class=\\\"{\\'btn-primary\\':$selectMultiple.activeMatchIndex === $index, \\'select-locked\\':$select.isLocked(this, $index)}\\\" ui-select-sort=\\\"$select.selected\\\"><span class=\\\"close ui-select-match-close\\\" ng-hide=\\\"$select.disabled\\\" ng-click=\\\"$selectMultiple.removeChoice($index)\\\">&nbsp;&times;</span> <span uis-transclude-append=\\\"\\\"></span></span></span></span>\");\n$templateCache.put(\"bootstrap/match.tpl.html\",\"<div class=\\\"ui-select-match\\\" ng-hide=\\\"$select.open && $select.searchEnabled\\\" ng-disabled=\\\"$select.disabled\\\" ng-class=\\\"{\\'btn-default-focus\\':$select.focus}\\\"><span tabindex=\\\"-1\\\" class=\\\"btn btn-default form-control ui-select-toggle\\\" aria-label=\\\"{{ $select.baseTitle }} activate\\\" ng-disabled=\\\"$select.disabled\\\" ng-click=\\\"$select.activate()\\\" style=\\\"outline: 0;\\\"><span ng-show=\\\"$select.isEmpty()\\\" class=\\\"ui-select-placeholder text-muted\\\">{{$select.placeholder}}</span> <span ng-hide=\\\"$select.isEmpty()\\\" class=\\\"ui-select-match-text pull-left\\\" ng-class=\\\"{\\'ui-select-allow-clear\\': $select.allowClear && !$select.isEmpty()}\\\" ng-transclude=\\\"\\\"></span> <i class=\\\"caret pull-right\\\" ng-click=\\\"$select.toggle($event)\\\"></i> <a ng-show=\\\"$select.allowClear && !$select.isEmpty() && ($select.disabled !== true)\\\" aria-label=\\\"{{ $select.baseTitle }} clear\\\" style=\\\"margin-right: 10px\\\" ng-click=\\\"$select.clear($event)\\\" class=\\\"btn btn-xs btn-link pull-right\\\"><i class=\\\"glyphicon glyphicon-remove\\\" aria-hidden=\\\"true\\\"></i></a></span></div>\");\n$templateCache.put(\"bootstrap/no-choice.tpl.html\",\"<ul class=\\\"ui-select-no-choice dropdown-menu\\\" ng-show=\\\"$select.items.length == 0\\\"><li ng-transclude=\\\"\\\"></li></ul>\");\n$templateCache.put(\"bootstrap/select-multiple.tpl.html\",\"<div class=\\\"ui-select-container ui-select-multiple ui-select-bootstrap dropdown form-control\\\" ng-class=\\\"{open: $select.open}\\\"><div><div class=\\\"ui-select-match\\\"></div><input type=\\\"search\\\" autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" spellcheck=\\\"false\\\" class=\\\"ui-select-search input-xs\\\" placeholder=\\\"{{$selectMultiple.getPlaceholder()}}\\\" ng-disabled=\\\"$select.disabled\\\" ng-click=\\\"$select.activate()\\\" ng-model=\\\"$select.search\\\" role=\\\"combobox\\\" aria-expanded=\\\"{{$select.open}}\\\" aria-label=\\\"{{$select.baseTitle}}\\\" ng-class=\\\"{\\'spinner\\': $select.refreshing}\\\" ondrop=\\\"return false;\\\"></div><div class=\\\"ui-select-choices\\\"></div><div class=\\\"ui-select-no-choice\\\"></div></div>\");\n$templateCache.put(\"bootstrap/select.tpl.html\",\"<div class=\\\"ui-select-container ui-select-bootstrap dropdown\\\" ng-class=\\\"{open: $select.open}\\\"><div class=\\\"ui-select-match\\\"></div><span ng-show=\\\"$select.open && $select.refreshing && $select.spinnerEnabled\\\" class=\\\"ui-select-refreshing {{$select.spinnerClass}}\\\"></span> <input type=\\\"search\\\" autocomplete=\\\"off\\\" tabindex=\\\"-1\\\" aria-expanded=\\\"true\\\" aria-label=\\\"{{ $select.baseTitle }}\\\" aria-owns=\\\"ui-select-choices-{{ $select.generatedId }}\\\" class=\\\"form-control ui-select-search\\\" ng-class=\\\"{ \\'ui-select-search-hidden\\' : !$select.searchEnabled }\\\" placeholder=\\\"{{$select.placeholder}}\\\" ng-model=\\\"$select.search\\\" ng-show=\\\"$select.open\\\"><div class=\\\"ui-select-choices\\\"></div><div class=\\\"ui-select-no-choice\\\"></div></div>\");\n$templateCache.put(\"select2/choices.tpl.html\",\"<ul tabindex=\\\"-1\\\" class=\\\"ui-select-choices ui-select-choices-content select2-results\\\"><li class=\\\"ui-select-choices-group\\\" ng-class=\\\"{\\'select2-result-with-children\\': $select.choiceGrouped($group) }\\\"><div ng-show=\\\"$select.choiceGrouped($group)\\\" class=\\\"ui-select-choices-group-label select2-result-label\\\" ng-bind=\\\"$group.name\\\"></div><ul id=\\\"ui-select-choices-{{ $select.generatedId }}\\\" ng-class=\\\"{\\'select2-result-sub\\': $select.choiceGrouped($group), \\'select2-result-single\\': !$select.choiceGrouped($group) }\\\"><li role=\\\"option\\\" ng-attr-id=\\\"ui-select-choices-row-{{ $select.generatedId }}-{{$index}}\\\" class=\\\"ui-select-choices-row\\\" ng-class=\\\"{\\'select2-highlighted\\': $select.isActive(this), \\'select2-disabled\\': $select.isDisabled(this)}\\\"><div class=\\\"select2-result-label ui-select-choices-row-inner\\\"></div></li></ul></li></ul>\");\n$templateCache.put(\"select2/match-multiple.tpl.html\",\"<span class=\\\"ui-select-match\\\"><li class=\\\"ui-select-match-item select2-search-choice\\\" ng-repeat=\\\"$item in $select.selected track by $index\\\" ng-class=\\\"{\\'select2-search-choice-focus\\':$selectMultiple.activeMatchIndex === $index, \\'select2-locked\\':$select.isLocked(this, $index)}\\\" ui-select-sort=\\\"$select.selected\\\"><span uis-transclude-append=\\\"\\\"></span> <a href=\\\"javascript:;\\\" class=\\\"ui-select-match-close select2-search-choice-close\\\" ng-click=\\\"$selectMultiple.removeChoice($index)\\\" tabindex=\\\"-1\\\"></a></li></span>\");\n$templateCache.put(\"select2/match.tpl.html\",\"<a class=\\\"select2-choice ui-select-match\\\" ng-class=\\\"{\\'select2-default\\': $select.isEmpty()}\\\" ng-click=\\\"$select.toggle($event)\\\" aria-label=\\\"{{ $select.baseTitle }} select\\\"><span ng-show=\\\"$select.isEmpty()\\\" class=\\\"select2-chosen\\\">{{$select.placeholder}}</span> <span ng-hide=\\\"$select.isEmpty()\\\" class=\\\"select2-chosen\\\" ng-transclude=\\\"\\\"></span> <abbr ng-if=\\\"$select.allowClear && !$select.isEmpty()\\\" class=\\\"select2-search-choice-close\\\" ng-click=\\\"$select.clear($event)\\\"></abbr> <span class=\\\"select2-arrow ui-select-toggle\\\"><b></b></span></a>\");\n$templateCache.put(\"select2/no-choice.tpl.html\",\"<div class=\\\"ui-select-no-choice dropdown\\\" ng-show=\\\"$select.items.length == 0\\\"><div class=\\\"dropdown-content\\\"><div data-selectable=\\\"\\\" ng-transclude=\\\"\\\"></div></div></div>\");\n$templateCache.put(\"select2/select-multiple.tpl.html\",\"<div class=\\\"ui-select-container ui-select-multiple select2 select2-container select2-container-multi\\\" ng-class=\\\"{\\'select2-container-active select2-dropdown-open open\\': $select.open, \\'select2-container-disabled\\': $select.disabled}\\\"><ul class=\\\"select2-choices\\\"><span class=\\\"ui-select-match\\\"></span><li class=\\\"select2-search-field\\\"><input type=\\\"search\\\" autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" spellcheck=\\\"false\\\" role=\\\"combobox\\\" aria-expanded=\\\"true\\\" aria-owns=\\\"ui-select-choices-{{ $select.generatedId }}\\\" aria-label=\\\"{{ $select.baseTitle }}\\\" aria-activedescendant=\\\"ui-select-choices-row-{{ $select.generatedId }}-{{ $select.activeIndex }}\\\" class=\\\"select2-input ui-select-search\\\" placeholder=\\\"{{$selectMultiple.getPlaceholder()}}\\\" ng-disabled=\\\"$select.disabled\\\" ng-hide=\\\"$select.disabled\\\" ng-model=\\\"$select.search\\\" ng-click=\\\"$select.activate()\\\" style=\\\"width: 34px;\\\" ondrop=\\\"return false;\\\"></li></ul><div class=\\\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\\\" ng-class=\\\"{\\'select2-display-none\\': !$select.open || $select.items.length === 0}\\\"><div class=\\\"ui-select-choices\\\"></div></div></div>\");\n$templateCache.put(\"select2/select.tpl.html\",\"<div class=\\\"ui-select-container select2 select2-container\\\" ng-class=\\\"{\\'select2-container-active select2-dropdown-open open\\': $select.open, \\'select2-container-disabled\\': $select.disabled, \\'select2-container-active\\': $select.focus, \\'select2-allowclear\\': $select.allowClear && !$select.isEmpty()}\\\"><div class=\\\"ui-select-match\\\"></div><div class=\\\"ui-select-dropdown select2-drop select2-with-searchbox select2-drop-active\\\" ng-class=\\\"{\\'select2-display-none\\': !$select.open}\\\"><div class=\\\"search-container\\\" ng-class=\\\"{\\'ui-select-search-hidden\\':!$select.searchEnabled, \\'select2-search\\':$select.searchEnabled}\\\"><input type=\\\"search\\\" autocomplete=\\\"off\\\" autocorrect=\\\"off\\\" autocapitalize=\\\"off\\\" spellcheck=\\\"false\\\" ng-class=\\\"{\\'select2-active\\': $select.refreshing}\\\" role=\\\"combobox\\\" aria-expanded=\\\"true\\\" aria-owns=\\\"ui-select-choices-{{ $select.generatedId }}\\\" aria-label=\\\"{{ $select.baseTitle }}\\\" class=\\\"ui-select-search select2-input\\\" ng-model=\\\"$select.search\\\"></div><div class=\\\"ui-select-choices\\\"></div><div class=\\\"ui-select-no-choice\\\"></div></div></div>\");\n$templateCache.put(\"selectize/choices.tpl.html\",\"<div ng-show=\\\"$select.open\\\" class=\\\"ui-select-choices ui-select-dropdown selectize-dropdown\\\" ng-class=\\\"{\\'single\\': !$select.multiple, \\'multi\\': $select.multiple}\\\"><div class=\\\"ui-select-choices-content selectize-dropdown-content\\\"><div class=\\\"ui-select-choices-group optgroup\\\"><div ng-show=\\\"$select.isGrouped\\\" class=\\\"ui-select-choices-group-label optgroup-header\\\" ng-bind=\\\"$group.name\\\"></div><div role=\\\"option\\\" class=\\\"ui-select-choices-row\\\" ng-class=\\\"{active: $select.isActive(this), disabled: $select.isDisabled(this)}\\\"><div class=\\\"option ui-select-choices-row-inner\\\" data-selectable=\\\"\\\"></div></div></div></div></div>\");\n$templateCache.put(\"selectize/match-multiple.tpl.html\",\"<div class=\\\"ui-select-match\\\" data-value=\\\"\\\" ng-repeat=\\\"$item in $select.selected track by $index\\\" ng-click=\\\"$selectMultiple.activeMatchIndex = $index;\\\" ng-class=\\\"{\\'active\\':$selectMultiple.activeMatchIndex === $index}\\\" ui-select-sort=\\\"$select.selected\\\"><span class=\\\"ui-select-match-item\\\" ng-class=\\\"{\\'select-locked\\':$select.isLocked(this, $index)}\\\"><span uis-transclude-append=\\\"\\\"></span> <span class=\\\"remove ui-select-match-close\\\" ng-hide=\\\"$select.disabled\\\" ng-click=\\\"$selectMultiple.removeChoice($index)\\\">&times;</span></span></div>\");\n$templateCache.put(\"selectize/match.tpl.html\",\"<div ng-hide=\\\"$select.searchEnabled && ($select.open || $select.isEmpty())\\\" class=\\\"ui-select-match\\\"><span ng-show=\\\"!$select.searchEnabled && ($select.isEmpty() || $select.open)\\\" class=\\\"ui-select-placeholder text-muted\\\">{{$select.placeholder}}</span> <span ng-hide=\\\"$select.isEmpty() || $select.open\\\" ng-transclude=\\\"\\\"></span></div>\");\n$templateCache.put(\"selectize/no-choice.tpl.html\",\"<div class=\\\"ui-select-no-choice selectize-dropdown\\\" ng-show=\\\"$select.items.length == 0\\\"><div class=\\\"selectize-dropdown-content\\\"><div data-selectable=\\\"\\\" ng-transclude=\\\"\\\"></div></div></div>\");\n$templateCache.put(\"selectize/select-multiple.tpl.html\",\"<div class=\\\"ui-select-container selectize-control multi plugin-remove_button\\\" ng-class=\\\"{\\'open\\': $select.open}\\\"><div class=\\\"selectize-input\\\" ng-class=\\\"{\\'focus\\': $select.open, \\'disabled\\': $select.disabled, \\'selectize-focus\\' : $select.focus}\\\" ng-click=\\\"$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()\\\"><div class=\\\"ui-select-match\\\"></div><input type=\\\"search\\\" autocomplete=\\\"off\\\" tabindex=\\\"-1\\\" class=\\\"ui-select-search\\\" ng-class=\\\"{\\'ui-select-search-hidden\\':!$select.searchEnabled}\\\" placeholder=\\\"{{$selectMultiple.getPlaceholder()}}\\\" ng-model=\\\"$select.search\\\" ng-disabled=\\\"$select.disabled\\\" aria-expanded=\\\"{{$select.open}}\\\" aria-label=\\\"{{ $select.baseTitle }}\\\" ondrop=\\\"return false;\\\"></div><div class=\\\"ui-select-choices\\\"></div><div class=\\\"ui-select-no-choice\\\"></div></div>\");\n$templateCache.put(\"selectize/select.tpl.html\",\"<div class=\\\"ui-select-container selectize-control single\\\" ng-class=\\\"{\\'open\\': $select.open}\\\"><div class=\\\"selectize-input\\\" ng-class=\\\"{\\'focus\\': $select.open, \\'disabled\\': $select.disabled, \\'selectize-focus\\' : $select.focus}\\\" ng-click=\\\"$select.open && !$select.searchEnabled ? $select.toggle($event) : $select.activate()\\\"><div class=\\\"ui-select-match\\\"></div><input type=\\\"search\\\" autocomplete=\\\"off\\\" tabindex=\\\"-1\\\" class=\\\"ui-select-search ui-select-toggle\\\" ng-class=\\\"{\\'ui-select-search-hidden\\':!$select.searchEnabled}\\\" ng-click=\\\"$select.toggle($event)\\\" placeholder=\\\"{{$select.placeholder}}\\\" ng-model=\\\"$select.search\\\" ng-hide=\\\"!$select.isEmpty() && !$select.open\\\" ng-disabled=\\\"$select.disabled\\\" aria-label=\\\"{{ $select.baseTitle }}\\\"></div><div class=\\\"ui-select-choices\\\"></div><div class=\\\"ui-select-no-choice\\\"></div></div>\");}]);",
    "/*\n * angular-ui-bootstrap\n * http://angular-ui.github.io/bootstrap/\n\n * Version: 0.13.4 - 2015-10-17\n * License: MIT\n */\nangular.module(\"ui.bootstrap\", [\"ui.bootstrap.tpls\",\"ui.bootstrap.dropdown\",\"ui.bootstrap.position\",\"ui.bootstrap.modal\"]);\nangular.module(\"ui.bootstrap.tpls\", [\"template/modal/backdrop.html\",\"template/modal/window.html\"]);\nangular.module('ui.bootstrap.dropdown', ['ui.bootstrap.position'])\n\n.constant('dropdownConfig', {\n  openClass: 'open'\n})\n\n.service('dropdownService', ['$document', '$rootScope', function($document, $rootScope) {\n  var openScope = null;\n\n  this.open = function(dropdownScope) {\n    if (!openScope) {\n      $document.bind('click', closeDropdown);\n      $document.bind('keydown', keybindFilter);\n    }\n\n    if (openScope && openScope !== dropdownScope) {\n      openScope.isOpen = false;\n    }\n\n    openScope = dropdownScope;\n  };\n\n  this.close = function(dropdownScope) {\n    if (openScope === dropdownScope) {\n      openScope = null;\n      $document.unbind('click', closeDropdown);\n      $document.unbind('keydown', keybindFilter);\n    }\n  };\n\n  var closeDropdown = function(evt) {\n    // This method may still be called during the same mouse event that\n    // unbound this event handler. So check openScope before proceeding.\n    if (!openScope) { return; }\n\n    if (evt && openScope.getAutoClose() === 'disabled')  { return ; }\n\n    var toggleElement = openScope.getToggleElement();\n    if (evt && toggleElement && toggleElement[0].contains(evt.target)) {\n      return;\n    }\n\n    var dropdownElement = openScope.getDropdownElement();\n    if (evt && openScope.getAutoClose() === 'outsideClick' &&\n      dropdownElement && dropdownElement[0].contains(evt.target)) {\n      return;\n    }\n\n    openScope.isOpen = false;\n\n    if (!$rootScope.$$phase) {\n      openScope.$apply();\n    }\n  };\n\n  var keybindFilter = function(evt) {\n    if (evt.which === 27) {\n      openScope.focusToggleElement();\n      closeDropdown();\n    } else if (openScope.isKeynavEnabled() && /(38|40)/.test(evt.which) && openScope.isOpen) {\n      evt.preventDefault();\n      evt.stopPropagation();\n      openScope.focusDropdownEntry(evt.which);\n    }\n  };\n}])\n\n.controller('DropdownController', ['$scope', '$attrs', '$parse', 'dropdownConfig', 'dropdownService', '$animate', '$position', '$document', '$compile', '$templateRequest', function($scope, $attrs, $parse, dropdownConfig, dropdownService, $animate, $position, $document, $compile, $templateRequest) {\n  var self = this,\n    scope = $scope.$new(), // create a child scope so we are not polluting original one\n    templateScope,\n    openClass = dropdownConfig.openClass,\n    getIsOpen,\n    setIsOpen = angular.noop,\n    toggleInvoker = $attrs.onToggle ? $parse($attrs.onToggle) : angular.noop,\n    appendToBody = false,\n    keynavEnabled = false,\n    selectedOption = null,\n    body = $document.find('body');\n\n  this.init = function(element) {\n    self.$element = element;\n\n    if ($attrs.isOpen) {\n      getIsOpen = $parse($attrs.isOpen);\n      setIsOpen = getIsOpen.assign;\n\n      $scope.$watch(getIsOpen, function(value) {\n        scope.isOpen = !!value;\n      });\n    }\n\n    appendToBody = angular.isDefined($attrs.dropdownAppendToBody);\n    keynavEnabled = angular.isDefined($attrs.keyboardNav);\n\n    if (appendToBody && self.dropdownMenu) {\n      body.append(self.dropdownMenu);\n      body.addClass('dropdown');\n      element.on('$destroy', function handleDestroyEvent() {\n        self.dropdownMenu.remove();\n      });\n    }\n  };\n\n  this.toggle = function(open) {\n    return scope.isOpen = arguments.length ? !!open : !scope.isOpen;\n  };\n\n  // Allow other directives to watch status\n  this.isOpen = function() {\n    return scope.isOpen;\n  };\n\n  scope.getToggleElement = function() {\n    return self.toggleElement;\n  };\n\n  scope.getAutoClose = function() {\n    return $attrs.autoClose || 'always'; //or 'outsideClick' or 'disabled'\n  };\n\n  scope.getElement = function() {\n    return self.$element;\n  };\n\n  scope.isKeynavEnabled = function() {\n    return keynavEnabled;\n  };\n\n  scope.focusDropdownEntry = function(keyCode) {\n    var elems = self.dropdownMenu ? //If append to body is used.\n      (angular.element(self.dropdownMenu).find('a')) :\n      (angular.element(self.$element).find('ul').eq(0).find('a'));\n\n    switch (keyCode) {\n      case (40): {\n        if (!angular.isNumber(self.selectedOption)) {\n          self.selectedOption = 0;\n        } else {\n          self.selectedOption = (self.selectedOption === elems.length -1 ?\n            self.selectedOption :\n            self.selectedOption + 1);\n        }\n        break;\n      }\n      case (38): {\n        if (!angular.isNumber(self.selectedOption)) {\n          self.selectedOption = elems.length - 1;\n        } else {\n          self.selectedOption = self.selectedOption === 0 ?\n            0 : self.selectedOption - 1;\n        }\n        break;\n      }\n    }\n    elems[self.selectedOption].focus();\n  };\n\n  scope.getDropdownElement = function() {\n    return self.dropdownMenu;\n  };\n\n  scope.focusToggleElement = function() {\n    if (self.toggleElement) {\n      self.toggleElement[0].focus();\n    }\n  };\n\n  scope.$watch('isOpen', function(isOpen, wasOpen) {\n    if (appendToBody && self.dropdownMenu) {\n      var pos = $position.positionElements(self.$element, self.dropdownMenu, 'bottom-left', true);\n      var css = {\n        top: pos.top + 'px',\n        display: isOpen ? 'block' : 'none'\n      };\n\n      var rightalign = self.dropdownMenu.hasClass('dropdown-menu-right');\n      if (!rightalign) {\n        css.left = pos.left + 'px';\n        css.right = 'auto';\n      } else {\n        css.left = 'auto';\n        css.right = (window.innerWidth - (pos.left + self.$element.prop('offsetWidth'))) + 'px';\n      }\n\n      self.dropdownMenu.css(css);\n    }\n\n    var openContainer = appendToBody ? body : self.$element;\n\n    $animate[isOpen ? 'addClass' : 'removeClass'](openContainer, openClass).then(function() {\n      if (angular.isDefined(isOpen) && isOpen !== wasOpen) {\n        toggleInvoker($scope, { open: !!isOpen });\n      }\n    });\n\n    if (isOpen) {\n      if (self.dropdownMenuTemplateUrl) {\n        $templateRequest(self.dropdownMenuTemplateUrl).then(function(tplContent) {\n          templateScope = scope.$new();\n          $compile(tplContent.trim())(templateScope, function(dropdownElement) {\n            var newEl = dropdownElement;\n            self.dropdownMenu.replaceWith(newEl);\n            self.dropdownMenu = newEl;\n          });\n        });\n      }\n\n      scope.focusToggleElement();\n      dropdownService.open(scope);\n    } else {\n      if (self.dropdownMenuTemplateUrl) {\n        if (templateScope) {\n          templateScope.$destroy();\n        }\n        var newEl = angular.element('<ul class=\"dropdown-menu\"></ul>');\n        self.dropdownMenu.replaceWith(newEl);\n        self.dropdownMenu = newEl;\n      }\n\n      dropdownService.close(scope);\n      self.selectedOption = null;\n    }\n\n    if (angular.isFunction(setIsOpen)) {\n      setIsOpen($scope, isOpen);\n    }\n  });\n\n  $scope.$on('$locationChangeSuccess', function() {\n    if (scope.getAutoClose() !== 'disabled') {\n      scope.isOpen = false;\n    }\n  });\n\n  var offDestroy = $scope.$on('$destroy', function() {\n    scope.$destroy();\n  });\n  scope.$on('$destroy', offDestroy);\n}])\n\n.directive('dropdown', function() {\n  return {\n    controller: 'DropdownController',\n    link: function(scope, element, attrs, dropdownCtrl) {\n      dropdownCtrl.init( element );\n      element.addClass('dropdown');\n    }\n  };\n})\n\n.directive('dropdownMenu', function() {\n  return {\n    restrict: 'AC',\n    require: '?^dropdown',\n    link: function(scope, element, attrs, dropdownCtrl) {\n      if (!dropdownCtrl) {\n        return;\n      }\n      var tplUrl = attrs.templateUrl;\n      if (tplUrl) {\n        dropdownCtrl.dropdownMenuTemplateUrl = tplUrl;\n      }\n      if (!dropdownCtrl.dropdownMenu) {\n        dropdownCtrl.dropdownMenu = element;\n      }\n    }\n  };\n})\n\n.directive('keyboardNav', function() {\n  return {\n    restrict: 'A',\n    require: '?^dropdown',\n    link: function (scope, element, attrs, dropdownCtrl) {\n\n      element.bind('keydown', function(e) {\n        if ([38, 40].indexOf(e.which) !== -1) {\n          e.preventDefault();\n          e.stopPropagation();\n\n          var elems = dropdownCtrl.dropdownMenu.find('a');\n\n          switch (e.which) {\n            case (40): { // Down\n              if (!angular.isNumber(dropdownCtrl.selectedOption)) {\n                dropdownCtrl.selectedOption = 0;\n              } else {\n                dropdownCtrl.selectedOption = dropdownCtrl.selectedOption === elems.length -1 ?\n                  dropdownCtrl.selectedOption : dropdownCtrl.selectedOption + 1;\n              }\n              break;\n            }\n            case (38): { // Up\n              if (!angular.isNumber(dropdownCtrl.selectedOption)) {\n                dropdownCtrl.selectedOption = elems.length - 1;\n              } else {\n                dropdownCtrl.selectedOption = dropdownCtrl.selectedOption === 0 ?\n                  0 : dropdownCtrl.selectedOption - 1;\n              }\n              break;\n            }\n          }\n          elems[dropdownCtrl.selectedOption].focus();\n        }\n      });\n    }\n  };\n})\n\n.directive('dropdownToggle', function() {\n  return {\n    require: '?^dropdown',\n    link: function(scope, element, attrs, dropdownCtrl) {\n      if (!dropdownCtrl) {\n        return;\n      }\n\n      element.addClass('dropdown-toggle');\n\n      dropdownCtrl.toggleElement = element;\n\n      var toggleDropdown = function(event) {\n        event.preventDefault();\n\n        if (!element.hasClass('disabled') && !attrs.disabled) {\n          scope.$apply(function() {\n            dropdownCtrl.toggle();\n          });\n        }\n      };\n\n      element.bind('click', toggleDropdown);\n\n      // WAI-ARIA\n      element.attr({ 'aria-haspopup': true, 'aria-expanded': false });\n      scope.$watch(dropdownCtrl.isOpen, function( isOpen ) {\n        element.attr('aria-expanded', !!isOpen);\n      });\n\n      scope.$on('$destroy', function() {\n        element.unbind('click', toggleDropdown);\n      });\n    }\n  };\n});\n\nangular.module('ui.bootstrap.position', [])\n\n/**\n * A set of utility methods that can be use to retrieve position of DOM elements.\n * It is meant to be used where we need to absolute-position DOM elements in\n * relation to other, existing elements (this is the case for tooltips, popovers,\n * typeahead suggestions etc.).\n */\n  .factory('$position', ['$document', '$window', function($document, $window) {\n    function getStyle(el, cssprop) {\n      if (el.currentStyle) { //IE\n        return el.currentStyle[cssprop];\n      } else if ($window.getComputedStyle) {\n        return $window.getComputedStyle(el)[cssprop];\n      }\n      // finally try and get inline style\n      return el.style[cssprop];\n    }\n\n    /**\n     * Checks if a given element is statically positioned\n     * @param element - raw DOM element\n     */\n    function isStaticPositioned(element) {\n      return (getStyle(element, 'position') || 'static' ) === 'static';\n    }\n\n    /**\n     * returns the closest, non-statically positioned parentOffset of a given element\n     * @param element\n     */\n    var parentOffsetEl = function(element) {\n      var docDomEl = $document[0];\n      var offsetParent = element.offsetParent || docDomEl;\n      while (offsetParent && offsetParent !== docDomEl && isStaticPositioned(offsetParent) ) {\n        offsetParent = offsetParent.offsetParent;\n      }\n      return offsetParent || docDomEl;\n    };\n\n    return {\n      /**\n       * Provides read-only equivalent of jQuery's position function:\n       * http://api.jquery.com/position/\n       */\n      position: function(element) {\n        var elBCR = this.offset(element);\n        var offsetParentBCR = { top: 0, left: 0 };\n        var offsetParentEl = parentOffsetEl(element[0]);\n        if (offsetParentEl != $document[0]) {\n          offsetParentBCR = this.offset(angular.element(offsetParentEl));\n          offsetParentBCR.top += offsetParentEl.clientTop - offsetParentEl.scrollTop;\n          offsetParentBCR.left += offsetParentEl.clientLeft - offsetParentEl.scrollLeft;\n        }\n\n        var boundingClientRect = element[0].getBoundingClientRect();\n        return {\n          width: boundingClientRect.width || element.prop('offsetWidth'),\n          height: boundingClientRect.height || element.prop('offsetHeight'),\n          top: elBCR.top - offsetParentBCR.top,\n          left: elBCR.left - offsetParentBCR.left\n        };\n      },\n\n      /**\n       * Provides read-only equivalent of jQuery's offset function:\n       * http://api.jquery.com/offset/\n       */\n      offset: function(element) {\n        var boundingClientRect = element[0].getBoundingClientRect();\n        return {\n          width: boundingClientRect.width || element.prop('offsetWidth'),\n          height: boundingClientRect.height || element.prop('offsetHeight'),\n          top: boundingClientRect.top + ($window.pageYOffset || $document[0].documentElement.scrollTop),\n          left: boundingClientRect.left + ($window.pageXOffset || $document[0].documentElement.scrollLeft)\n        };\n      },\n\n      /**\n       * Provides coordinates for the targetEl in relation to hostEl\n       */\n      positionElements: function(hostEl, targetEl, positionStr, appendToBody) {\n        var positionStrParts = positionStr.split('-');\n        var pos0 = positionStrParts[0], pos1 = positionStrParts[1] || 'center';\n\n        var hostElPos,\n          targetElWidth,\n          targetElHeight,\n          targetElPos;\n\n        hostElPos = appendToBody ? this.offset(hostEl) : this.position(hostEl);\n\n        targetElWidth = targetEl.prop('offsetWidth');\n        targetElHeight = targetEl.prop('offsetHeight');\n\n        var shiftWidth = {\n          center: function() {\n            return hostElPos.left + hostElPos.width / 2 - targetElWidth / 2;\n          },\n          left: function() {\n            return hostElPos.left;\n          },\n          right: function() {\n            return hostElPos.left + hostElPos.width;\n          }\n        };\n\n        var shiftHeight = {\n          center: function() {\n            return hostElPos.top + hostElPos.height / 2 - targetElHeight / 2;\n          },\n          top: function() {\n            return hostElPos.top;\n          },\n          bottom: function() {\n            return hostElPos.top + hostElPos.height;\n          }\n        };\n\n        switch (pos0) {\n          case 'right':\n            targetElPos = {\n              top: shiftHeight[pos1](),\n              left: shiftWidth[pos0]()\n            };\n            break;\n          case 'left':\n            targetElPos = {\n              top: shiftHeight[pos1](),\n              left: hostElPos.left - targetElWidth\n            };\n            break;\n          case 'bottom':\n            targetElPos = {\n              top: shiftHeight[pos0](),\n              left: shiftWidth[pos1]()\n            };\n            break;\n          default:\n            targetElPos = {\n              top: hostElPos.top - targetElHeight,\n              left: shiftWidth[pos1]()\n            };\n            break;\n        }\n\n        return targetElPos;\n      }\n    };\n  }]);\n\nangular.module('ui.bootstrap.modal', [])\n\n/**\n * A helper, internal data structure that acts as a map but also allows getting / removing\n * elements in the LIFO order\n */\n  .factory('$$stackedMap', function() {\n    return {\n      createNew: function() {\n        var stack = [];\n\n        return {\n          add: function(key, value) {\n            stack.push({\n              key: key,\n              value: value\n            });\n          },\n          get: function(key) {\n            for (var i = 0; i < stack.length; i++) {\n              if (key == stack[i].key) {\n                return stack[i];\n              }\n            }\n          },\n          keys: function() {\n            var keys = [];\n            for (var i = 0; i < stack.length; i++) {\n              keys.push(stack[i].key);\n            }\n            return keys;\n          },\n          top: function() {\n            return stack[stack.length - 1];\n          },\n          remove: function(key) {\n            var idx = -1;\n            for (var i = 0; i < stack.length; i++) {\n              if (key == stack[i].key) {\n                idx = i;\n                break;\n              }\n            }\n            return stack.splice(idx, 1)[0];\n          },\n          removeTop: function() {\n            return stack.splice(stack.length - 1, 1)[0];\n          },\n          length: function() {\n            return stack.length;\n          }\n        };\n      }\n    };\n  })\n\n/**\n * A helper, internal data structure that stores all references attached to key\n */\n  .factory('$$multiMap', function() {\n    return {\n      createNew: function() {\n        var map = {};\n\n        return {\n          entries: function() {\n            return Object.keys(map).map(function(key) {\n              return {\n                key: key,\n                value: map[key]\n              };\n            });\n          },\n          get: function(key) {\n            return map[key];\n          },\n          hasKey: function(key) {\n            return !!map[key];\n          },\n          keys: function() {\n            return Object.keys(map);\n          },\n          put: function(key, value) {\n            if (!map[key]) {\n              map[key] = [];\n            }\n\n            map[key].push(value);\n          },\n          remove: function(key, value) {\n            var values = map[key];\n\n            if (!values) {\n              return;\n            }\n\n            var idx = values.indexOf(value);\n\n            if (idx !== -1) {\n              values.splice(idx, 1);\n            }\n\n            if (!values.length) {\n              delete map[key];\n            }\n          }\n        };\n      }\n    };\n  })\n\n/**\n * A helper directive for the $modal service. It creates a backdrop element.\n */\n  .directive('modalBackdrop', [\n           '$animate', '$injector', '$modalStack',\n  function($animate ,  $injector,   $modalStack) {\n    var $animateCss = null;\n\n    if ($injector.has('$animateCss')) {\n      $animateCss = $injector.get('$animateCss');\n    }\n\n    return {\n      restrict: 'EA',\n      replace: true,\n      templateUrl: 'template/modal/backdrop.html',\n      compile: function(tElement, tAttrs) {\n        tElement.addClass(tAttrs.backdropClass);\n        return linkFn;\n      }\n    };\n\n    function linkFn(scope, element, attrs) {\n      if (attrs.modalInClass) {\n        if ($animateCss) {\n          $animateCss(element, {\n            addClass: attrs.modalInClass\n          }).start();\n        } else {\n          $animate.addClass(element, attrs.modalInClass);\n        }\n\n        scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {\n          var done = setIsAsync();\n          if ($animateCss) {\n            $animateCss(element, {\n              removeClass: attrs.modalInClass\n            }).start().then(done);\n          } else {\n            $animate.removeClass(element, attrs.modalInClass).then(done);\n          }\n        });\n      }\n    }\n  }])\n\n  .directive('modalWindow', [\n           '$modalStack', '$q', '$animate', '$injector',\n  function($modalStack ,  $q ,  $animate,   $injector) {\n    var $animateCss = null;\n\n    if ($injector.has('$animateCss')) {\n      $animateCss = $injector.get('$animateCss');\n    }\n\n    return {\n      restrict: 'EA',\n      scope: {\n        index: '@'\n      },\n      replace: true,\n      transclude: true,\n      templateUrl: function(tElement, tAttrs) {\n        return tAttrs.templateUrl || 'template/modal/window.html';\n      },\n      link: function(scope, element, attrs) {\n        element.addClass(attrs.windowClass || '');\n        scope.size = attrs.size;\n\n        scope.close = function(evt) {\n          var modal = $modalStack.getTop();\n          if (modal && modal.value.backdrop && modal.value.backdrop !== 'static' && (evt.target === evt.currentTarget)) {\n            evt.preventDefault();\n            evt.stopPropagation();\n            $modalStack.dismiss(modal.key, 'backdrop click');\n          }\n        };\n\n        // This property is only added to the scope for the purpose of detecting when this directive is rendered.\n        // We can detect that by using this property in the template associated with this directive and then use\n        // {@link Attribute#$observe} on it. For more details please see {@link TableColumnResize}.\n        scope.$isRendered = true;\n\n        // Deferred object that will be resolved when this modal is render.\n        var modalRenderDeferObj = $q.defer();\n        // Observe function will be called on next digest cycle after compilation, ensuring that the DOM is ready.\n        // In order to use this way of finding whether DOM is ready, we need to observe a scope property used in modal's template.\n        attrs.$observe('modalRender', function(value) {\n          if (value == 'true') {\n            modalRenderDeferObj.resolve();\n          }\n        });\n\n        modalRenderDeferObj.promise.then(function() {\n          var animationPromise = null;\n\n          if (attrs.modalInClass) {\n            if ($animateCss) {\n              animationPromise = $animateCss(element, {\n                addClass: attrs.modalInClass\n              }).start();\n            } else {\n              animationPromise = $animate.addClass(element, attrs.modalInClass);\n            }\n\n            scope.$on($modalStack.NOW_CLOSING_EVENT, function(e, setIsAsync) {\n              var done = setIsAsync();\n              if ($animateCss) {\n                $animateCss(element, {\n                  removeClass: attrs.modalInClass\n                }).start().then(done);\n              } else {\n                $animate.removeClass(element, attrs.modalInClass).then(done);\n              }\n            });\n          }\n\n\n          $q.when(animationPromise).then(function() {\n            var inputsWithAutofocus = element[0].querySelectorAll('[autofocus]');\n            /**\n             * Auto-focusing of a freshly-opened modal element causes any child elements\n             * with the autofocus attribute to lose focus. This is an issue on touch\n             * based devices which will show and then hide the onscreen keyboard.\n             * Attempts to refocus the autofocus element via JavaScript will not reopen\n             * the onscreen keyboard. Fixed by updated the focusing logic to only autofocus\n             * the modal element if the modal does not contain an autofocus element.\n             */\n            if (inputsWithAutofocus.length) {\n              inputsWithAutofocus[0].focus();\n            } else {\n              element[0].focus();\n            }\n          });\n\n          // Notify {@link $modalStack} that modal is rendered.\n          var modal = $modalStack.getTop();\n          if (modal) {\n            $modalStack.modalRendered(modal.key);\n          }\n        });\n      }\n    };\n  }])\n\n  .directive('modalAnimationClass', [\n    function () {\n      return {\n        compile: function(tElement, tAttrs) {\n          if (tAttrs.modalAnimation) {\n            tElement.addClass(tAttrs.modalAnimationClass);\n          }\n        }\n      };\n    }])\n\n  .directive('modalTransclude', function() {\n    return {\n      link: function($scope, $element, $attrs, controller, $transclude) {\n        $transclude($scope.$parent, function(clone) {\n          $element.empty();\n          $element.append(clone);\n        });\n      }\n    };\n  })\n\n  .factory('$modalStack', [\n             '$animate', '$timeout', '$document', '$compile', '$rootScope',\n             '$q',\n             '$injector',\n             '$$multiMap',\n             '$$stackedMap',\n    function($animate ,  $timeout ,  $document ,  $compile ,  $rootScope ,\n              $q,\n              $injector,\n              $$multiMap,\n              $$stackedMap) {\n      var $animateCss = null;\n\n      if ($injector.has('$animateCss')) {\n        $animateCss = $injector.get('$animateCss');\n      }\n\n      var OPENED_MODAL_CLASS = 'modal-open';\n\n      var backdropDomEl, backdropScope;\n      var openedWindows = $$stackedMap.createNew();\n      var openedClasses = $$multiMap.createNew();\n      var $modalStack = {\n        NOW_CLOSING_EVENT: 'modal.stack.now-closing'\n      };\n\n      //Modal focus behavior\n      var focusableElementList;\n      var focusIndex = 0;\n      var tababbleSelector = 'a[href], area[href], input:not([disabled]), ' +\n        'button:not([disabled]),select:not([disabled]), textarea:not([disabled]), ' +\n        'iframe, object, embed, *[tabindex], *[contenteditable=true]';\n\n      function backdropIndex() {\n        var topBackdropIndex = -1;\n        var opened = openedWindows.keys();\n        for (var i = 0; i < opened.length; i++) {\n          if (openedWindows.get(opened[i]).value.backdrop) {\n            topBackdropIndex = i;\n          }\n        }\n        return topBackdropIndex;\n      }\n\n      $rootScope.$watch(backdropIndex, function(newBackdropIndex) {\n        if (backdropScope) {\n          backdropScope.index = newBackdropIndex;\n        }\n      });\n\n      function removeModalWindow(modalInstance, elementToReceiveFocus) {\n        var body = $document.find('body').eq(0);\n        var modalWindow = openedWindows.get(modalInstance).value;\n\n        //clean up the stack\n        openedWindows.remove(modalInstance);\n\n        removeAfterAnimate(modalWindow.modalDomEl, modalWindow.modalScope, function() {\n          var modalBodyClass = modalWindow.openedClass || OPENED_MODAL_CLASS;\n          openedClasses.remove(modalBodyClass, modalInstance);\n          body.toggleClass(modalBodyClass, openedClasses.hasKey(modalBodyClass));\n        });\n        checkRemoveBackdrop();\n\n        //move focus to specified element if available, or else to body\n        if (elementToReceiveFocus && elementToReceiveFocus.focus) {\n          elementToReceiveFocus.focus();\n        } else {\n          body.focus();\n        }\n      }\n\n      function checkRemoveBackdrop() {\n          //remove backdrop if no longer needed\n          if (backdropDomEl && backdropIndex() == -1) {\n            var backdropScopeRef = backdropScope;\n            removeAfterAnimate(backdropDomEl, backdropScope, function() {\n              backdropScopeRef = null;\n            });\n            backdropDomEl = undefined;\n            backdropScope = undefined;\n          }\n      }\n\n      function removeAfterAnimate(domEl, scope, done) {\n        var asyncDeferred;\n        var asyncPromise = null;\n        var setIsAsync = function() {\n          if (!asyncDeferred) {\n            asyncDeferred = $q.defer();\n            asyncPromise = asyncDeferred.promise;\n          }\n\n          return function asyncDone() {\n            asyncDeferred.resolve();\n          };\n        };\n        scope.$broadcast($modalStack.NOW_CLOSING_EVENT, setIsAsync);\n\n        // Note that it's intentional that asyncPromise might be null.\n        // That's when setIsAsync has not been called during the\n        // NOW_CLOSING_EVENT broadcast.\n        return $q.when(asyncPromise).then(afterAnimating);\n\n        function afterAnimating() {\n          if (afterAnimating.done) {\n            return;\n          }\n          afterAnimating.done = true;\n\n          if ($animateCss) {\n            $animateCss(domEl, {\n              event: 'leave'\n            }).start().then(function() {\n              domEl.remove();\n            });\n          } else {\n            $animate.leave(domEl);\n          }\n          scope.$destroy();\n          if (done) {\n            done();\n          }\n        }\n      }\n\n      $document.bind('keydown', function(evt) {\n        if (evt.isDefaultPrevented()) {\n          return evt;\n        }\n\n        var modal = openedWindows.top();\n        if (modal && modal.value.keyboard) {\n          switch (evt.which){\n            case 27: {\n              evt.preventDefault();\n              $rootScope.$apply(function() {\n                $modalStack.dismiss(modal.key, 'escape key press');\n              });\n              break;\n            }\n            case 9: {\n              $modalStack.loadFocusElementList(modal);\n              var focusChanged = false;\n              if (evt.shiftKey) {\n                if ($modalStack.isFocusInFirstItem(evt)) {\n                  focusChanged = $modalStack.focusLastFocusableElement();\n                }\n              } else {\n                if ($modalStack.isFocusInLastItem(evt)) {\n                  focusChanged = $modalStack.focusFirstFocusableElement();\n                }\n              }\n\n              if (focusChanged) {\n                evt.preventDefault();\n                evt.stopPropagation();\n              }\n              break;\n            }\n          }\n        }\n      });\n\n      $modalStack.open = function(modalInstance, modal) {\n        var modalOpener = $document[0].activeElement,\n          modalBodyClass = modal.openedClass || OPENED_MODAL_CLASS;\n\n        openedWindows.add(modalInstance, {\n          deferred: modal.deferred,\n          renderDeferred: modal.renderDeferred,\n          modalScope: modal.scope,\n          backdrop: modal.backdrop,\n          keyboard: modal.keyboard,\n          openedClass: modal.openedClass\n        });\n\n        openedClasses.put(modalBodyClass, modalInstance);\n\n        var body = $document.find('body').eq(0),\n            currBackdropIndex = backdropIndex();\n\n        if (currBackdropIndex >= 0 && !backdropDomEl) {\n          backdropScope = $rootScope.$new(true);\n          backdropScope.index = currBackdropIndex;\n          var angularBackgroundDomEl = angular.element('<div modal-backdrop=\"modal-backdrop\"></div>');\n          angularBackgroundDomEl.attr('backdrop-class', modal.backdropClass);\n          if (modal.animation) {\n            angularBackgroundDomEl.attr('modal-animation', 'true');\n          }\n          backdropDomEl = $compile(angularBackgroundDomEl)(backdropScope);\n          body.append(backdropDomEl);\n        }\n\n        var angularDomEl = angular.element('<div modal-window=\"modal-window\"></div>');\n        angularDomEl.attr({\n          'template-url': modal.windowTemplateUrl,\n          'window-class': modal.windowClass,\n          'size': modal.size,\n          'index': openedWindows.length() - 1,\n          'animate': 'animate'\n        }).html(modal.content);\n        if (modal.animation) {\n          angularDomEl.attr('modal-animation', 'true');\n        }\n\n        var modalDomEl = $compile(angularDomEl)(modal.scope);\n        openedWindows.top().value.modalDomEl = modalDomEl;\n        openedWindows.top().value.modalOpener = modalOpener;\n        body.append(modalDomEl);\n        body.addClass(modalBodyClass);\n\n        $modalStack.clearFocusListCache();\n      };\n\n      function broadcastClosing(modalWindow, resultOrReason, closing) {\n          return !modalWindow.value.modalScope.$broadcast('modal.closing', resultOrReason, closing).defaultPrevented;\n      }\n\n      $modalStack.close = function(modalInstance, result) {\n        var modalWindow = openedWindows.get(modalInstance);\n        if (modalWindow && broadcastClosing(modalWindow, result, true)) {\n          modalWindow.value.modalScope.$$uibDestructionScheduled = true;\n          modalWindow.value.deferred.resolve(result);\n          removeModalWindow(modalInstance, modalWindow.value.modalOpener);\n          return true;\n        }\n        return !modalWindow;\n      };\n\n      $modalStack.dismiss = function(modalInstance, reason) {\n        var modalWindow = openedWindows.get(modalInstance);\n        if (modalWindow && broadcastClosing(modalWindow, reason, false)) {\n          modalWindow.value.modalScope.$$uibDestructionScheduled = true;\n          modalWindow.value.deferred.reject(reason);\n          removeModalWindow(modalInstance, modalWindow.value.modalOpener);\n          return true;\n        }\n        return !modalWindow;\n      };\n\n      $modalStack.dismissAll = function(reason) {\n        var topModal = this.getTop();\n        while (topModal && this.dismiss(topModal.key, reason)) {\n          topModal = this.getTop();\n        }\n      };\n\n      $modalStack.getTop = function() {\n        return openedWindows.top();\n      };\n\n      $modalStack.modalRendered = function(modalInstance) {\n        var modalWindow = openedWindows.get(modalInstance);\n        if (modalWindow) {\n          modalWindow.value.renderDeferred.resolve();\n        }\n      };\n\n      $modalStack.focusFirstFocusableElement = function() {\n        if (focusableElementList.length > 0) {\n          focusableElementList[0].focus();\n          return true;\n        }\n        return false;\n      };\n      $modalStack.focusLastFocusableElement = function() {\n        if (focusableElementList.length > 0) {\n          focusableElementList[focusableElementList.length - 1].focus();\n          return true;\n        }\n        return false;\n      };\n\n      $modalStack.isFocusInFirstItem = function(evt) {\n        if (focusableElementList.length > 0) {\n          return (evt.target || evt.srcElement) == focusableElementList[0];\n        }\n        return false;\n      };\n\n      $modalStack.isFocusInLastItem = function(evt) {\n        if (focusableElementList.length > 0) {\n          return (evt.target || evt.srcElement) == focusableElementList[focusableElementList.length - 1];\n        }\n        return false;\n      };\n\n      $modalStack.clearFocusListCache = function() {\n        focusableElementList = [];\n        focusIndex = 0;\n      };\n\n      $modalStack.loadFocusElementList = function(modalWindow) {\n        if (focusableElementList === undefined || !focusableElementList.length0) {\n          if (modalWindow) {\n            var modalDomE1 = modalWindow.value.modalDomEl;\n            if (modalDomE1 && modalDomE1.length) {\n              focusableElementList = modalDomE1[0].querySelectorAll(tababbleSelector);\n            }\n          }\n        }\n      };\n\n      return $modalStack;\n    }])\n\n  .provider('$modal', function() {\n    var $modalProvider = {\n      options: {\n        animation: true,\n        backdrop: true, //can also be false or 'static'\n        keyboard: true\n      },\n      $get: ['$injector', '$rootScope', '$q', '$templateRequest', '$controller', '$modalStack',\n        function ($injector, $rootScope, $q, $templateRequest, $controller, $modalStack) {\n          var $modal = {};\n\n          function getTemplatePromise(options) {\n            return options.template ? $q.when(options.template) :\n              $templateRequest(angular.isFunction(options.templateUrl) ? (options.templateUrl)() : options.templateUrl);\n          }\n\n          function getResolvePromises(resolves) {\n            var promisesArr = [];\n            angular.forEach(resolves, function(value) {\n              if (angular.isFunction(value) || angular.isArray(value)) {\n                promisesArr.push($q.when($injector.invoke(value)));\n              } else if (angular.isString(value)) {\n                promisesArr.push($q.when($injector.get(value)));\n              } else {\n                promisesArr.push($q.when(value));\n              }\n            });\n            return promisesArr;\n          }\n\n          var promiseChain = null;\n          $modal.getPromiseChain = function() {\n            return promiseChain;\n          };\n\n          $modal.open = function (modalOptions) {\n\n            var modalResultDeferred = $q.defer();\n            var modalOpenedDeferred = $q.defer();\n            var modalRenderDeferred = $q.defer();\n\n            //prepare an instance of a modal to be injected into controllers and returned to a caller\n            var modalInstance = {\n              result: modalResultDeferred.promise,\n              opened: modalOpenedDeferred.promise,\n              rendered: modalRenderDeferred.promise,\n              close: function (result) {\n                return $modalStack.close(modalInstance, result);\n              },\n              dismiss: function (reason) {\n                return $modalStack.dismiss(modalInstance, reason);\n              }\n            };\n\n            //merge and clean up options\n            modalOptions = angular.extend({}, $modalProvider.options, modalOptions);\n            modalOptions.resolve = modalOptions.resolve || {};\n\n            //verify options\n            if (!modalOptions.template && !modalOptions.templateUrl) {\n              throw new Error('One of template or templateUrl options is required.');\n            }\n\n            var templateAndResolvePromise =\n              $q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));\n\n            // Wait for the resolution of the existing promise chain.\n            // Then switch to our own combined promise dependency (regardless of how the previous modal fared).\n            // Then add to $modalStack and resolve opened.\n            // Finally clean up the chain variable if no subsequent modal has overwritten it.\n            var samePromise;\n            samePromise = promiseChain = $q.all([promiseChain])\n              .then(function() { return templateAndResolvePromise; }, function() { return templateAndResolvePromise; })\n              .then(function resolveSuccess(tplAndVars) {\n\n                var modalScope = (modalOptions.scope || $rootScope).$new();\n                modalScope.$close = modalInstance.close;\n                modalScope.$dismiss = modalInstance.dismiss;\n\n                modalScope.$on('$destroy', function() {\n                  if (!modalScope.$$uibDestructionScheduled) {\n                    modalScope.$dismiss('$uibUnscheduledDestruction');\n                  }\n                });\n\n                var ctrlInstance, ctrlLocals = {};\n                var resolveIter = 1;\n\n                //controllers\n                if (modalOptions.controller) {\n                  ctrlLocals.$scope = modalScope;\n                  ctrlLocals.$modalInstance = modalInstance;\n                  angular.forEach(modalOptions.resolve, function(value, key) {\n                    ctrlLocals[key] = tplAndVars[resolveIter++];\n                  });\n\n                  ctrlInstance = $controller(modalOptions.controller, ctrlLocals);\n                  if (modalOptions.controllerAs) {\n                    if (modalOptions.bindToController) {\n                      angular.extend(ctrlInstance, modalScope);\n                    }\n\n                    modalScope[modalOptions.controllerAs] = ctrlInstance;\n                  }\n                }\n\n                $modalStack.open(modalInstance, {\n                  scope: modalScope,\n                  deferred: modalResultDeferred,\n                  renderDeferred: modalRenderDeferred,\n                  content: tplAndVars[0],\n                  animation: modalOptions.animation,\n                  backdrop: modalOptions.backdrop,\n                  keyboard: modalOptions.keyboard,\n                  backdropClass: modalOptions.backdropClass,\n                  windowClass: modalOptions.windowClass,\n                  windowTemplateUrl: modalOptions.windowTemplateUrl,\n                  size: modalOptions.size,\n                  openedClass: modalOptions.openedClass\n                });\n                modalOpenedDeferred.resolve(true);\n\n            }, function resolveError(reason) {\n              modalOpenedDeferred.reject(reason);\n              modalResultDeferred.reject(reason);\n            })\n            .finally(function() {\n              if (promiseChain === samePromise) {\n                promiseChain = null;\n              }\n            });\n\n            return modalInstance;\n          };\n\n          return $modal;\n        }]\n    };\n\n    return $modalProvider;\n  });\n\nangular.module(\"template/modal/backdrop.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"template/modal/backdrop.html\",\n    \"<div class=\\\"modal-backdrop\\\"\\n\" +\n    \"     modal-animation-class=\\\"fade\\\"\\n\" +\n    \"     modal-in-class=\\\"in\\\"\\n\" +\n    \"     ng-style=\\\"{'z-index': 1040 + (index && 1 || 0) + index*10}\\\"\\n\" +\n    \"></div>\\n\" +\n    \"\");\n}]);\n\nangular.module(\"template/modal/window.html\", []).run([\"$templateCache\", function($templateCache) {\n  $templateCache.put(\"template/modal/window.html\",\n    \"<div modal-render=\\\"{{$isRendered}}\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" class=\\\"modal\\\"\\n\" +\n    \"    modal-animation-class=\\\"fade\\\"\\n\" +\n    \"    modal-in-class=\\\"in\\\"\\n\" +\n    \"\tng-style=\\\"{'z-index': 1050 + index*10, display: 'block'}\\\" ng-click=\\\"close($event)\\\">\\n\" +\n    \"    <div class=\\\"modal-dialog\\\" ng-class=\\\"size ? 'modal-' + size : ''\\\"><div class=\\\"modal-content\\\" modal-transclude></div></div>\\n\" +\n    \"</div>\\n\" +\n    \"\");\n}]);\n",
    "'use strict';\n\nvar EventEmitter = require('tiny-emitter');\nvar debounce = require('lodash.debounce');\n\n/**\n * @typedef Options\n * @property {Function} [invisibleThreadFilter] - Function used to determine\n *   whether an off-screen thread should be rendered or not.  Called with a\n *   `Thread` and if it returns `true`, the thread is rendered even if offscreen.\n * @property {Element} [scrollRoot] - The scrollable Element which contains the\n *   thread list. The set of on-screen threads is determined based on the scroll\n *   position and height of this element.\n */\n\n/**\n * VirtualThreadList is a helper for virtualizing the annotation thread list.\n *\n * 'Virtualizing' the thread list improves UI performance by only creating\n * annotation cards for annotations which are either in or near the viewport.\n *\n * Reducing the number of annotation cards that are actually created optimizes\n * the initial population of the list, since annotation cards are big components\n * that are expensive to create and consume a lot of memory. For Angular\n * applications this also helps significantly with UI responsiveness by limiting\n * the number of watchers (functions created by template expressions or\n * '$scope.$watch' calls) that have to be run on every '$scope.$digest()' cycle.\n */\nclass VirtualThreadList extends EventEmitter {\n  /*\n   * @param {Window} container - The Window displaying the list of annotation threads.\n   * @param {Thread} rootThread - The initial Thread object for the top-level\n   *        threads.\n   * @param {Options} options\n   */\n  constructor($scope, window_, rootThread, options) {\n    super();\n\n    var self = this;\n\n    this._rootThread = rootThread;\n\n    this._options = Object.assign({}, options);\n\n    // Cache of thread ID -> last-seen height\n    this._heights = {};\n\n    this.window = window_;\n    this.scrollRoot = options.scrollRoot || document.body;\n\n    var debouncedUpdate = debounce(function () {\n      self._updateVisibleThreads();\n      $scope.$digest();\n    }, 20);\n    this.scrollRoot.addEventListener('scroll', debouncedUpdate);\n    this.window.addEventListener('resize', debouncedUpdate);\n\n    this._detach = function () {\n      this.scrollRoot.removeEventListener('scroll', debouncedUpdate);\n      this.window.removeEventListener('resize', debouncedUpdate);\n    };\n  }\n\n  /**\n   * Detach event listeners and clear any pending timeouts.\n   *\n   * This should be invoked when the UI view presenting the virtual thread list\n   * is torn down.\n   */\n  detach() {\n    this._detach();\n  }\n\n  /**\n   * Sets the root thread containing all conversations matching the current\n   * filters.\n   *\n   * This should be called with the current Thread object whenever the set of\n   * matching annotations changes.\n   */\n  setRootThread(thread) {\n    if (thread === this._rootThread) {\n      return;\n    }\n    this._rootThread = thread;\n    this._updateVisibleThreads();\n  }\n\n  /**\n   * Sets the actual height for a thread.\n   *\n   * When calculating the amount of space required for offscreen threads,\n   * the actual or 'last-seen' height is used if known. Otherwise an estimate\n   * is used.\n   *\n   * @param {string} id - The annotation ID or $tag\n   * @param {number} height - The height of the annotation thread.\n   */\n  setThreadHeight(id, height) {\n    if (isNaN(height) || height <= 0) {\n      throw new Error('Invalid thread height %d', height);\n    }\n    this._heights[id] = height;\n  }\n\n  _height(id) {\n    // Default guess of the height required for a threads that have not been\n    // measured\n    var DEFAULT_HEIGHT = 200;\n    return this._heights[id] || DEFAULT_HEIGHT;\n  }\n\n  /** Return the vertical offset of an annotation card from the top of the list. */\n  yOffsetOf(id) {\n    var self = this;\n    var allThreads = this._rootThread.children;\n    var matchIndex = allThreads.findIndex(function (thread) {\n      return thread.id === id;\n    });\n    if (matchIndex === -1) {\n      return 0;\n    }\n    return allThreads.slice(0, matchIndex).reduce(function (offset, thread) {\n      return offset + self._height(thread.id);\n    }, 0);\n  }\n\n  /**\n   * Recalculates the set of visible threads and estimates of the amount of space\n   * required for offscreen threads above and below the viewport.\n   *\n   * Emits a `changed` event with the recalculated set of visible threads.\n   */\n  _updateVisibleThreads() {\n    // Space above the viewport in pixels which should be considered 'on-screen'\n    // when calculating the set of visible threads\n    var MARGIN_ABOVE = 800;\n    // Same as MARGIN_ABOVE but for the space below the viewport\n    var MARGIN_BELOW = 800;\n\n    // Estimated height in pixels of annotation cards which are below the\n    // viewport and not actually created. This is used to create an empty spacer\n    // element below visible cards in order to give the list's scrollbar the\n    // correct dimensions.\n    var offscreenLowerHeight = 0;\n    // Same as offscreenLowerHeight but for cards above the viewport.\n    var offscreenUpperHeight = 0;\n    // List of annotations which are in or near the viewport and need to\n    // actually be created.\n    var visibleThreads = [];\n\n    // List of annotations which are required to be rendered but we do not\n    // want them visible. This is to ensure that we allow items to be rendered\n    // and initialized (for saving purposes) without having them be presented\n    // in out of context scenarios (i.e. in wrong order for sort)\n    var invisibleThreads = [];\n\n    var allThreads = this._rootThread.children;\n    var visibleHeight = this.window.innerHeight;\n    var usedHeight = 0;\n    var thread;\n\n    for (var i = 0; i < allThreads.length; i++) {\n      thread = allThreads[i];\n      var threadHeight = this._height(thread.id);\n\n      var added = false;\n\n      if (usedHeight + threadHeight < this.scrollRoot.scrollTop - MARGIN_ABOVE) {\n        // Thread is above viewport\n        offscreenUpperHeight += threadHeight;\n      } else if (usedHeight <\n        this.scrollRoot.scrollTop + visibleHeight + MARGIN_BELOW) {\n\n        // Thread is either in or close to the viewport\n        visibleThreads.push(thread);\n        added = true;\n      } else {\n\n        // Thread is below viewport\n        offscreenLowerHeight += threadHeight;\n      }\n\n      // any thread that is not going to go through the render process\n      // because it is already outside of the viewport should be checked\n      // to see if it needs to be added as an invisible render. So it will\n      // be available to go through rendering but not visible to the user\n      if(!added &&\n          this._options.invisibleThreadFilter &&\n          this._options.invisibleThreadFilter(thread)){\n        invisibleThreads.push(thread);\n      }\n\n      usedHeight += threadHeight;\n    }\n\n    this.emit('changed', {\n      offscreenLowerHeight: offscreenLowerHeight,\n      offscreenUpperHeight: offscreenUpperHeight,\n      visibleThreads: visibleThreads,\n      invisibleThreads: invisibleThreads,\n    });\n  }\n}\n\nmodule.exports = VirtualThreadList;\n",
    "'use strict';\n\nvar retry = require('retry');\nvar EventEmitter = require('tiny-emitter');\n\n// see https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent\nvar CLOSE_NORMAL = 1000;\n\n// Minimum delay, in ms, before reconnecting after an abnormal connection close.\nvar RECONNECT_MIN_DELAY = 1000;\n\n/**\n * Socket is a minimal wrapper around WebSocket which provides:\n *\n * - Automatic reconnection in the event of an abnormal close\n * - Queuing of messages passed to send() whilst the socket is\n *   connecting\n * - Uses the standard EventEmitter API for reporting open, close, error\n *   and message events.\n */\nclass Socket extends EventEmitter {\n  constructor(url) {\n    super();\n\n    var self = this;\n\n    // queue of JSON objects which have not yet been submitted\n    var messageQueue = [];\n\n    // the current WebSocket instance\n    var socket;\n\n    // a pending operation to connect a WebSocket\n    var operation;\n\n    function sendMessages() {\n      while (messageQueue.length > 0) {\n        var messageString = JSON.stringify(messageQueue.shift());\n        socket.send(messageString);\n      }\n    }\n\n    // Connect the websocket immediately. If a connection attempt is already in\n    // progress, do nothing.\n    function connect() {\n      if (operation) {\n        return;\n      }\n\n      operation = retry.operation({\n        minTimeout: RECONNECT_MIN_DELAY * 2,\n        // Don't retry forever -- fail permanently after 10 retries\n        retries: 10,\n        // Randomize retry times to minimise the thundering herd effect\n        randomize: true,\n      });\n\n      operation.attempt(function () {\n        socket = new WebSocket(url);\n        socket.onopen = function (event) {\n          onOpen();\n          self.emit('open', event);\n        };\n        socket.onclose = function (event) {\n          if (event.code === CLOSE_NORMAL) {\n            self.emit('close', event);\n            return;\n          }\n          var err = new Error('WebSocket closed abnormally, code: ' + event.code);\n          console.warn(err);\n          onAbnormalClose(err);\n        };\n        socket.onerror = function (event) {\n          self.emit('error', event);\n        };\n        socket.onmessage = function (event) {\n          self.emit('message', event);\n        };\n      });\n    }\n\n    // onOpen is called when a websocket connection is successfully established.\n    function onOpen() {\n      operation = null;\n      sendMessages();\n    }\n\n    // onAbnormalClose is called when a websocket connection closes abnormally.\n    // This may be the result of a failure to connect, or an abnormal close after\n    // a previous successful connection.\n    function onAbnormalClose(error) {\n      // If we're already in a reconnection loop, trigger a retry...\n      if (operation) {\n        if (!operation.retry(error)) {\n          console.error('reached max retries attempting to reconnect websocket');\n        }\n        return;\n      }\n      // ...otherwise reconnect the websocket after a short delay.\n      var delay = RECONNECT_MIN_DELAY;\n      delay += Math.floor(Math.random() * delay);\n      operation = setTimeout(function () {\n        operation = null;\n        connect();\n      }, delay);\n    }\n\n    /** Close the underlying WebSocket connection */\n    this.close = function () {\n      socket.close();\n    };\n\n    /**\n     * Send a JSON object via the WebSocket connection, or queue it\n     * for later delivery if not currently connected.\n     */\n    this.send = function (message) {\n      messageQueue.push(message);\n      if (this.isConnected()) {\n        sendMessages();\n      }\n    };\n\n    /** Returns true if the WebSocket is currently connected. */\n    this.isConnected = function () {\n      return socket.readyState === WebSocket.OPEN;\n    };\n\n    connect();\n  }\n}\n\nmodule.exports = Socket;\n"
  ]
}